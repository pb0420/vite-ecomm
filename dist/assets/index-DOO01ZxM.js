function V2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Xh={exports:{}},pl={},Jh={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function W2(){if(Ly)return qe;Ly=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _($,K,ne){this.props=$,this.context=K,this.refs=w,this.updater=ne||y}_.prototype.isReactComponent={},_.prototype.setState=function($,K){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,K,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=_.prototype;function C($,K,ne){this.props=$,this.context=K,this.refs=w,this.updater=ne||y}var k=C.prototype=new N;k.constructor=C,j(k,_.prototype),k.isPureReactComponent=!0;var A=Array.isArray,T=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O($,K,ne){var ce,se={},ie=null,te=null;if(K!=null)for(ce in K.ref!==void 0&&(te=K.ref),K.key!==void 0&&(ie=""+K.key),K)T.call(K,ce)&&!E.hasOwnProperty(ce)&&(se[ce]=K[ce]);var fe=arguments.length-2;if(fe===1)se.children=ne;else if(1<fe){for(var pe=Array(fe),ue=0;ue<fe;ue++)pe[ue]=arguments[ue+2];se.children=pe}if($&&$.defaultProps)for(ce in fe=$.defaultProps,fe)se[ce]===void 0&&(se[ce]=fe[ce]);return{$$typeof:e,type:$,key:ie,ref:te,props:se,_owner:P.current}}function R($,K){return{$$typeof:e,type:$.type,key:K,ref:$.ref,props:$.props,_owner:$._owner}}function W($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function Z($){var K={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ne){return K[ne]})}var Q=/\/+/g;function q($,K){return typeof $=="object"&&$!==null&&$.key!=null?Z(""+$.key):K.toString(36)}function I($,K,ne,ce,se){var ie=typeof $;(ie==="undefined"||ie==="boolean")&&($=null);var te=!1;if($===null)te=!0;else switch(ie){case"string":case"number":te=!0;break;case"object":switch($.$$typeof){case e:case t:te=!0}}if(te)return te=$,se=se(te),$=ce===""?"."+q(te,0):ce,A(se)?(ne="",$!=null&&(ne=$.replace(Q,"$&/")+"/"),I(se,K,ne,"",function(ue){return ue})):se!=null&&(W(se)&&(se=R(se,ne+(!se.key||te&&te.key===se.key?"":(""+se.key).replace(Q,"$&/")+"/")+$)),K.push(se)),1;if(te=0,ce=ce===""?".":ce+":",A($))for(var fe=0;fe<$.length;fe++){ie=$[fe];var pe=ce+q(ie,fe);te+=I(ie,K,ne,pe,se)}else if(pe=x($),typeof pe=="function")for($=pe.call($),fe=0;!(ie=$.next()).done;)ie=ie.value,pe=ce+q(ie,fe++),te+=I(ie,K,ne,pe,se);else if(ie==="object")throw K=String($),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return te}function B($,K,ne){if($==null)return $;var ce=[],se=0;return I($,ce,"","",function(ie){return K.call(ne,ie,se++)}),ce}function F($){if($._status===-1){var K=$._result;K=K(),K.then(function(ne){($._status===0||$._status===-1)&&($._status=1,$._result=ne)},function(ne){($._status===0||$._status===-1)&&($._status=2,$._result=ne)}),$._status===-1&&($._status=0,$._result=K)}if($._status===1)return $._result.default;throw $._result}var z={current:null},L={transition:null},H={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:L,ReactCurrentOwner:P};function ee(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:B,forEach:function($,K,ne){B($,function(){K.apply(this,arguments)},ne)},count:function($){var K=0;return B($,function(){K++}),K},toArray:function($){return B($,function(K){return K})||[]},only:function($){if(!W($))throw Error("React.Children.only expected to receive a single React element child.");return $}},qe.Component=_,qe.Fragment=r,qe.Profiler=o,qe.PureComponent=C,qe.StrictMode=n,qe.Suspense=f,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,qe.act=ee,qe.cloneElement=function($,K,ne){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ce=j({},$.props),se=$.key,ie=$.ref,te=$._owner;if(K!=null){if(K.ref!==void 0&&(ie=K.ref,te=P.current),K.key!==void 0&&(se=""+K.key),$.type&&$.type.defaultProps)var fe=$.type.defaultProps;for(pe in K)T.call(K,pe)&&!E.hasOwnProperty(pe)&&(ce[pe]=K[pe]===void 0&&fe!==void 0?fe[pe]:K[pe])}var pe=arguments.length-2;if(pe===1)ce.children=ne;else if(1<pe){fe=Array(pe);for(var ue=0;ue<pe;ue++)fe[ue]=arguments[ue+2];ce.children=fe}return{$$typeof:e,type:$.type,key:se,ref:ie,props:ce,_owner:te}},qe.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},qe.createElement=O,qe.createFactory=function($){var K=O.bind(null,$);return K.type=$,K},qe.createRef=function(){return{current:null}},qe.forwardRef=function($){return{$$typeof:u,render:$}},qe.isValidElement=W,qe.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:F}},qe.memo=function($,K){return{$$typeof:h,type:$,compare:K===void 0?null:K}},qe.startTransition=function($){var K=L.transition;L.transition={};try{$()}finally{L.transition=K}},qe.unstable_act=ee,qe.useCallback=function($,K){return z.current.useCallback($,K)},qe.useContext=function($){return z.current.useContext($)},qe.useDebugValue=function(){},qe.useDeferredValue=function($){return z.current.useDeferredValue($)},qe.useEffect=function($,K){return z.current.useEffect($,K)},qe.useId=function(){return z.current.useId()},qe.useImperativeHandle=function($,K,ne){return z.current.useImperativeHandle($,K,ne)},qe.useInsertionEffect=function($,K){return z.current.useInsertionEffect($,K)},qe.useLayoutEffect=function($,K){return z.current.useLayoutEffect($,K)},qe.useMemo=function($,K){return z.current.useMemo($,K)},qe.useReducer=function($,K,ne){return z.current.useReducer($,K,ne)},qe.useRef=function($){return z.current.useRef($)},qe.useState=function($){return z.current.useState($)},qe.useSyncExternalStore=function($,K,ne){return z.current.useSyncExternalStore($,K,ne)},qe.useTransition=function(){return z.current.useTransition()},qe.version="18.3.1",qe}var Fy;function zp(){return Fy||(Fy=1,Jh.exports=W2()),Jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function H2(){if(Uy)return pl;Uy=1;var e=zp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,p={},x=null,y=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(y=f.ref);for(m in f)n.call(f,m)&&!a.hasOwnProperty(m)&&(p[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:t,type:u,key:x,ref:y,props:p,_owner:o.current}}return pl.Fragment=r,pl.jsx=c,pl.jsxs=c,pl}var By;function q2(){return By||(By=1,Xh.exports=H2()),Xh.exports}var s=q2(),v=zp();const ge=Jl(v),Nd=V2({__proto__:null,default:ge},[v]);var Au={},Qh={exports:{}},wr={},Zh={exports:{}},em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function Y2(){return Vy||(Vy=1,function(e){function t(L,H){var ee=L.length;L.push(H);e:for(;0<ee;){var $=ee-1>>>1,K=L[$];if(0<o(K,H))L[$]=H,L[ee]=K,ee=$;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var H=L[0],ee=L.pop();if(ee!==H){L[0]=ee;e:for(var $=0,K=L.length,ne=K>>>1;$<ne;){var ce=2*($+1)-1,se=L[ce],ie=ce+1,te=L[ie];if(0>o(se,ee))ie<K&&0>o(te,se)?(L[$]=te,L[ie]=ee,$=ie):(L[$]=se,L[ce]=ee,$=ce);else if(ie<K&&0>o(te,ee))L[$]=te,L[ie]=ee,$=ie;else break e}}return H}function o(L,H){var ee=L.sortIndex-H.sortIndex;return ee!==0?ee:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,p=null,x=3,y=!1,j=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(L){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=L)n(h),H.sortIndex=H.expirationTime,t(f,H);else break;H=r(h)}}function A(L){if(w=!1,k(L),!j)if(r(f)!==null)j=!0,F(T);else{var H=r(h);H!==null&&z(A,H.startTime-L)}}function T(L,H){j=!1,w&&(w=!1,N(O),O=-1),y=!0;var ee=x;try{for(k(H),p=r(f);p!==null&&(!(p.expirationTime>H)||L&&!Z());){var $=p.callback;if(typeof $=="function"){p.callback=null,x=p.priorityLevel;var K=$(p.expirationTime<=H);H=e.unstable_now(),typeof K=="function"?p.callback=K:p===r(f)&&n(f),k(H)}else n(f);p=r(f)}if(p!==null)var ne=!0;else{var ce=r(h);ce!==null&&z(A,ce.startTime-H),ne=!1}return ne}finally{p=null,x=ee,y=!1}}var P=!1,E=null,O=-1,R=5,W=-1;function Z(){return!(e.unstable_now()-W<R)}function Q(){if(E!==null){var L=e.unstable_now();W=L;var H=!0;try{H=E(!0,L)}finally{H?q():(P=!1,E=null)}}else P=!1}var q;if(typeof C=="function")q=function(){C(Q)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=Q,q=function(){B.postMessage(null)}}else q=function(){_(Q,0)};function F(L){E=L,P||(P=!0,q())}function z(L,H){O=_(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,F(T))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(L){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var ee=x;x=H;try{return L()}finally{x=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=x;x=L;try{return H()}finally{x=ee}},e.unstable_scheduleCallback=function(L,H,ee){var $=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?$+ee:$):ee=$,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ee+K,L={id:m++,callback:H,priorityLevel:L,startTime:ee,expirationTime:K,sortIndex:-1},ee>$?(L.sortIndex=ee,t(h,L),r(f)===null&&L===r(h)&&(w?(N(O),O=-1):w=!0,z(A,ee-$))):(L.sortIndex=K,t(f,L),j||y||(j=!0,F(T))),L},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(L){var H=x;return function(){var ee=x;x=H;try{return L.apply(this,arguments)}finally{x=ee}}}}(em)),em}var zy;function G2(){return zy||(zy=1,Zh.exports=Y2()),Zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function K2(){if(Wy)return wr;Wy=1;var e=zp(),t=G2();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(o[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(i){return f.call(p,i)?!0:f.call(m,i)?!1:h.test(i)?p[i]=!0:(m[i]=!0,!1)}function y(i,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,l,d,g){if(l===null||typeof l>"u"||y(i,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,d,g,b,S,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=S,this.removeEmptyString=D}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];_[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,C);_[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,C);_[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,C);_[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,d,g){var b=_.hasOwnProperty(l)?_[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,d,b,g)&&(d=null),g||b===null?x(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):b.mustUseProperty?i[b.propertyName]=d===null?b.type===3?!1:"":d:(l=b.attributeName,g=b.attributeNamespace,d===null?i.removeAttribute(l):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,g?i.setAttributeNS(g,l,d):i.setAttribute(l,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),L=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Object.assign,$;function K(i){if($===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+i}var ne=!1;function ce(i,l){if(!i||ne)return"";ne=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var g=X}Reflect.construct(i,[],l)}else{try{l.call()}catch(X){g=X}i.call(l.prototype)}else{try{throw Error()}catch(X){g=X}i()}}catch(X){if(X&&g&&typeof X.stack=="string"){for(var b=X.stack.split(`
`),S=g.stack.split(`
`),D=b.length-1,M=S.length-1;1<=D&&0<=M&&b[D]!==S[M];)M--;for(;1<=D&&0<=M;D--,M--)if(b[D]!==S[M]){if(D!==1||M!==1)do if(D--,M--,0>M||b[D]!==S[M]){var U=`
`+b[D].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=D&&0<=M);break}}}finally{ne=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?K(i):""}function se(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=ce(i.type,!1),i;case 11:return i=ce(i.type.render,!1),i;case 1:return i=ce(i.type,!0),i;default:return""}}function ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case P:return"Portal";case R:return"Profiler";case O:return"StrictMode";case q:return"Suspense";case I:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Z:return(i.displayName||"Context")+".Consumer";case W:return(i._context.displayName||"Context")+".Provider";case Q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return l=i.displayName||null,l!==null?l:ie(i.type)||"Memo";case F:l=i._payload,i=i._init;try{return ie(i(l))}catch{}}return null}function te(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(i){var l=pe(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,S=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(D){g=""+D,S.call(this,D)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function oe(i){i._valueTracker||(i._valueTracker=ue(i))}function ye(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return i&&(g=pe(i)?i.checked?"true":"false":i.value),i=g,i!==d?(l.setValue(i),!0):!1}function He(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function De(i,l){var d=l.checked;return ee({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function ze(i,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=fe(l.value!=null?l.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function tt(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function rt(i,l){tt(i,l);var d=fe(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Jr(i,l.type,d):l.hasOwnProperty("defaultValue")&&Jr(i,l.type,fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Lr(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Jr(i,l,d){(l!=="number"||He(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Fr=Array.isArray;function ds(i,l,d,g){if(i=i.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=l.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&g&&(i[d].defaultSelected=!0)}else{for(d=""+fe(d),l=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,g&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function mc(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Qr(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(Fr(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:fe(d)}}function pc(i,l){var d=fe(l.value),g=fe(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function no(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ka(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ui(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?ka(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var so,io=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,b){MSApp.execUnsafeLocalFunction(function(){return i(l,d,g,b)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=so.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function fs(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vc=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(i){vc.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),di[l]=di[i]})});function gc(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||di.hasOwnProperty(i)&&di[i]?(""+l).trim():l+"px"}function xc(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,b=gc(d,l[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,b):i[d]=b}}var hf=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(i,l){if(l){if(hf[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Pa(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Aa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oo=null,hs=null,ms=null;function yc(i){if(i=el(i)){if(typeof oo!="function")throw Error(r(280));var l=i.stateNode;l&&(l=qc(l),oo(i.stateNode,i.type,l))}}function wc(i){hs?ms?ms.push(i):ms=[i]:hs=i}function bc(){if(hs){var i=hs,l=ms;if(ms=hs=null,yc(i),l)for(i=0;i<l.length;i++)yc(l[i])}}function jc(i,l){return i(l)}function _c(){}var Da=!1;function Sc(i,l,d){if(Da)return i(l,d);Da=!0;try{return jc(i,l,d)}finally{Da=!1,(hs!==null||ms!==null)&&(_c(),bc())}}function wn(i,l){var d=i.stateNode;if(d===null)return null;var g=qc(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var In=!1;if(u)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){In=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{In=!1}function fi(i,l,d,g,b,S,D,M,U){var X=Array.prototype.slice.call(arguments,3);try{l.apply(d,X)}catch(me){this.onError(me)}}var bn=!1,hi=null,Oa=!1,ps=null,mf={onError:function(i){bn=!0,hi=i}};function pf(i,l,d,g,b,S,D,M,U){bn=!1,hi=null,fi.apply(mf,arguments)}function Nc(i,l,d,g,b,S,D,M,U){if(pf.apply(this,arguments),bn){if(bn){var X=hi;bn=!1,hi=null}else throw Error(r(198));Oa||(Oa=!0,ps=X)}}function ae(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function ke(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Ze(i){if(ae(i)!==i)throw Error(r(188))}function pt(i){var l=i.alternate;if(!l){if(l=ae(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,g=l;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return Ze(b),i;if(S===g)return Ze(b),l;S=S.sibling}throw Error(r(188))}if(d.return!==g.return)d=b,g=S;else{for(var D=!1,M=b.child;M;){if(M===d){D=!0,d=b,g=S;break}if(M===g){D=!0,g=b,d=S;break}M=M.sibling}if(!D){for(M=S.child;M;){if(M===d){D=!0,d=S,g=b;break}if(M===g){D=!0,g=S,d=b;break}M=M.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function It(i){return i=pt(i),i!==null?Lt(i):null}function Lt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Lt(i);if(l!==null)return l;i=i.sibling}return null}var tr=t.unstable_scheduleCallback,Nr=t.unstable_cancelCallback,Fn=t.unstable_shouldYield,vs=t.unstable_requestPaint,Je=t.unstable_now,Ra=t.unstable_getCurrentPriorityLevel,$a=t.unstable_ImmediatePriority,Cc=t.unstable_UserBlockingPriority,ao=t.unstable_NormalPriority,vf=t.unstable_LowPriority,kc=t.unstable_IdlePriority,lo=null,jn=null;function nk(i){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(lo,i,void 0,(i.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:ok,sk=Math.log,ik=Math.LN2;function ok(i){return i>>>=0,i===0?32:31-(sk(i)/ik|0)|0}var Ec=64,Pc=4194304;function Ma(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Tc(i,l){var d=i.pendingLanes;if(d===0)return 0;var g=0,b=i.suspendedLanes,S=i.pingedLanes,D=d&268435455;if(D!==0){var M=D&~b;M!==0?g=Ma(M):(S&=D,S!==0&&(g=Ma(S)))}else D=d&~b,D!==0?g=Ma(D):S!==0&&(g=Ma(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,S=l&-l,b>=S||b===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)d=31-Zr(l),b=1<<d,g|=i[d],l&=~b;return g}function ak(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(i,l){for(var d=i.suspendedLanes,g=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes;0<S;){var D=31-Zr(S),M=1<<D,U=b[D];U===-1?((M&d)===0||(M&g)!==0)&&(b[D]=ak(M,l)):U<=l&&(i.expiredLanes|=M),S&=~M}}function gf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function pg(){var i=Ec;return Ec<<=1,(Ec&4194240)===0&&(Ec=64),i}function xf(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function Ia(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Zr(l),i[l]=d}function ck(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var b=31-Zr(d),S=1<<b;l[b]=0,g[b]=-1,i[b]=-1,d&=~S}}function yf(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var g=31-Zr(d),b=1<<g;b&l|i[g]&l&&(i[g]|=l),d&=~b}}var st=0;function vg(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var gg,wf,xg,yg,wg,bf=!1,Ac=[],gs=null,xs=null,ys=null,La=new Map,Fa=new Map,ws=[],uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bg(i,l){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":La.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(l.pointerId)}}function Ua(i,l,d,g,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},l!==null&&(l=el(l),l!==null&&wf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function dk(i,l,d,g,b){switch(l){case"focusin":return gs=Ua(gs,i,l,d,g,b),!0;case"dragenter":return xs=Ua(xs,i,l,d,g,b),!0;case"mouseover":return ys=Ua(ys,i,l,d,g,b),!0;case"pointerover":var S=b.pointerId;return La.set(S,Ua(La.get(S)||null,i,l,d,g,b)),!0;case"gotpointercapture":return S=b.pointerId,Fa.set(S,Ua(Fa.get(S)||null,i,l,d,g,b)),!0}return!1}function jg(i){var l=mi(i.target);if(l!==null){var d=ae(l);if(d!==null){if(l=d.tag,l===13){if(l=ke(d),l!==null){i.blockedOn=l,wg(i.priority,function(){xg(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=_f(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);Ta=g,d.target.dispatchEvent(g),Ta=null}else return l=el(d),l!==null&&wf(l),i.blockedOn=d,!1;l.shift()}return!0}function _g(i,l,d){Dc(i)&&d.delete(l)}function fk(){bf=!1,gs!==null&&Dc(gs)&&(gs=null),xs!==null&&Dc(xs)&&(xs=null),ys!==null&&Dc(ys)&&(ys=null),La.forEach(_g),Fa.forEach(_g)}function Ba(i,l){i.blockedOn===l&&(i.blockedOn=null,bf||(bf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fk)))}function Va(i){function l(b){return Ba(b,i)}if(0<Ac.length){Ba(Ac[0],i);for(var d=1;d<Ac.length;d++){var g=Ac[d];g.blockedOn===i&&(g.blockedOn=null)}}for(gs!==null&&Ba(gs,i),xs!==null&&Ba(xs,i),ys!==null&&Ba(ys,i),La.forEach(l),Fa.forEach(l),d=0;d<ws.length;d++)g=ws[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<ws.length&&(d=ws[0],d.blockedOn===null);)jg(d),d.blockedOn===null&&ws.shift()}var co=A.ReactCurrentBatchConfig,Oc=!0;function hk(i,l,d,g){var b=st,S=co.transition;co.transition=null;try{st=1,jf(i,l,d,g)}finally{st=b,co.transition=S}}function mk(i,l,d,g){var b=st,S=co.transition;co.transition=null;try{st=4,jf(i,l,d,g)}finally{st=b,co.transition=S}}function jf(i,l,d,g){if(Oc){var b=_f(i,l,d,g);if(b===null)Uf(i,l,g,Rc,d),bg(i,g);else if(dk(b,i,l,d,g))g.stopPropagation();else if(bg(i,g),l&4&&-1<uk.indexOf(i)){for(;b!==null;){var S=el(b);if(S!==null&&gg(S),S=_f(i,l,d,g),S===null&&Uf(i,l,g,Rc,d),S===b)break;b=S}b!==null&&g.stopPropagation()}else Uf(i,l,g,null,d)}}var Rc=null;function _f(i,l,d,g){if(Rc=null,i=Aa(g),i=mi(i),i!==null)if(l=ae(i),l===null)i=null;else if(d=l.tag,d===13){if(i=ke(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Rc=i,null}function Sg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ra()){case $a:return 1;case Cc:return 4;case ao:case vf:return 16;case kc:return 536870912;default:return 16}default:return 16}}var bs=null,Sf=null,$c=null;function Ng(){if($c)return $c;var i,l=Sf,d=l.length,g,b="value"in bs?bs.value:bs.textContent,S=b.length;for(i=0;i<d&&l[i]===b[i];i++);var D=d-i;for(g=1;g<=D&&l[d-g]===b[S-g];g++);return $c=b.slice(i,1<g?1-g:void 0)}function Mc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ic(){return!0}function Cg(){return!1}function Cr(i){function l(d,g,b,S,D){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(d=i[M],this[M]=d?d(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ic:Cg,this.isPropagationStopped=Cg,this}return ee(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),l}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Cr(uo),za=ee({},uo,{view:0,detail:0}),pk=Cr(za),Cf,kf,Wa,Lc=ee({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wa&&(Wa&&i.type==="mousemove"?(Cf=i.screenX-Wa.screenX,kf=i.screenY-Wa.screenY):kf=Cf=0,Wa=i),Cf)},movementY:function(i){return"movementY"in i?i.movementY:kf}}),kg=Cr(Lc),vk=ee({},Lc,{dataTransfer:0}),gk=Cr(vk),xk=ee({},za,{relatedTarget:0}),Ef=Cr(xk),yk=ee({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),wk=Cr(yk),bk=ee({},uo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jk=Cr(bk),_k=ee({},uo,{data:0}),Eg=Cr(_k),Sk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kk(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Ck[i])?!!l[i]:!1}function Pf(){return kk}var Ek=ee({},za,{key:function(i){if(i.key){var l=Sk[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Mc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(i){return i.type==="keypress"?Mc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pk=Cr(Ek),Tk=ee({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Cr(Tk),Ak=ee({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),Dk=Cr(Ak),Ok=ee({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rk=Cr(Ok),$k=ee({},Lc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mk=Cr($k),Ik=[9,13,27,32],Tf=u&&"CompositionEvent"in window,Ha=null;u&&"documentMode"in document&&(Ha=document.documentMode);var Lk=u&&"TextEvent"in window&&!Ha,Tg=u&&(!Tf||Ha&&8<Ha&&11>=Ha),Ag=" ",Dg=!1;function Og(i,l){switch(i){case"keyup":return Ik.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function Fk(i,l){switch(i){case"compositionend":return Rg(l);case"keypress":return l.which!==32?null:(Dg=!0,Ag);case"textInput":return i=l.data,i===Ag&&Dg?null:i;default:return null}}function Uk(i,l){if(fo)return i==="compositionend"||!Tf&&Og(i,l)?(i=Ng(),$c=Sf=bs=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Tg&&l.locale!=="ko"?null:l.data;default:return null}}var Bk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Bk[i.type]:l==="textarea"}function Mg(i,l,d,g){wc(g),l=zc(l,"onChange"),0<l.length&&(d=new Nf("onChange","change",null,d,g),i.push({event:d,listeners:l}))}var qa=null,Ya=null;function Vk(i){ex(i,0)}function Fc(i){var l=go(i);if(ye(l))return i}function zk(i,l){if(i==="change")return l}var Ig=!1;if(u){var Af;if(u){var Df="oninput"in document;if(!Df){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Df=typeof Lg.oninput=="function"}Af=Df}else Af=!1;Ig=Af&&(!document.documentMode||9<document.documentMode)}function Fg(){qa&&(qa.detachEvent("onpropertychange",Ug),Ya=qa=null)}function Ug(i){if(i.propertyName==="value"&&Fc(Ya)){var l=[];Mg(l,Ya,i,Aa(i)),Sc(Vk,l)}}function Wk(i,l,d){i==="focusin"?(Fg(),qa=l,Ya=d,qa.attachEvent("onpropertychange",Ug)):i==="focusout"&&Fg()}function Hk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fc(Ya)}function qk(i,l){if(i==="click")return Fc(l)}function Yk(i,l){if(i==="input"||i==="change")return Fc(l)}function Gk(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var en=typeof Object.is=="function"?Object.is:Gk;function Ga(i,l){if(en(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!f.call(l,b)||!en(i[b],l[b]))return!1}return!0}function Bg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vg(i,l){var d=Bg(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=l&&g>=l)return{node:d,offset:l-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Bg(d)}}function zg(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?zg(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Wg(){for(var i=window,l=He();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=He(i.document)}return l}function Of(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Kk(i){var l=Wg(),d=i.focusedElem,g=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&zg(d.ownerDocument.documentElement,d)){if(g!==null&&Of(d)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var b=d.textContent.length,S=Math.min(g.start,b);g=g.end===void 0?S:Math.min(g.end,b),!i.extend&&S>g&&(b=g,g=S,S=b),b=Vg(d,S);var D=Vg(d,g);b&&D&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==D.node||i.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),i.removeAllRanges(),S>g?(i.addRange(l),i.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Xk=u&&"documentMode"in document&&11>=document.documentMode,ho=null,Rf=null,Ka=null,$f=!1;function Hg(i,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;$f||ho==null||ho!==He(g)||(g=ho,"selectionStart"in g&&Of(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ka&&Ga(Ka,g)||(Ka=g,g=zc(Rf,"onSelect"),0<g.length&&(l=new Nf("onSelect","select",null,l,d),i.push({event:l,listeners:g}),l.target=ho)))}function Uc(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var mo={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},Mf={},qg={};u&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Bc(i){if(Mf[i])return Mf[i];if(!mo[i])return i;var l=mo[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in qg)return Mf[i]=l[d];return i}var Yg=Bc("animationend"),Gg=Bc("animationiteration"),Kg=Bc("animationstart"),Xg=Bc("transitionend"),Jg=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(i,l){Jg.set(i,l),a(l,[i])}for(var If=0;If<Qg.length;If++){var Lf=Qg[If],Jk=Lf.toLowerCase(),Qk=Lf[0].toUpperCase()+Lf.slice(1);js(Jk,"on"+Qk)}js(Yg,"onAnimationEnd"),js(Gg,"onAnimationIteration"),js(Kg,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Xg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Zg(i,l,d){var g=i.type||"unknown-event";i.currentTarget=d,Nc(g,l,void 0,i),i.currentTarget=null}function ex(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],b=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var D=g.length-1;0<=D;D--){var M=g[D],U=M.instance,X=M.currentTarget;if(M=M.listener,U!==S&&b.isPropagationStopped())break e;Zg(b,M,X),S=U}else for(D=0;D<g.length;D++){if(M=g[D],U=M.instance,X=M.currentTarget,M=M.listener,U!==S&&b.isPropagationStopped())break e;Zg(b,M,X),S=U}}}if(Oa)throw i=ps,Oa=!1,ps=null,i}function dt(i,l){var d=l[qf];d===void 0&&(d=l[qf]=new Set);var g=i+"__bubble";d.has(g)||(tx(l,i,2,!1),d.add(g))}function Ff(i,l,d){var g=0;l&&(g|=4),tx(d,i,g,l)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Ja(i){if(!i[Vc]){i[Vc]=!0,n.forEach(function(d){d!=="selectionchange"&&(Zk.has(d)||Ff(d,!1,i),Ff(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Vc]||(l[Vc]=!0,Ff("selectionchange",!1,l))}}function tx(i,l,d,g){switch(Sg(l)){case 1:var b=hk;break;case 4:b=mk;break;default:b=jf}d=b.bind(null,l,d,i),b=void 0,!In||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?i.addEventListener(l,d,{capture:!0,passive:b}):i.addEventListener(l,d,!0):b!==void 0?i.addEventListener(l,d,{passive:b}):i.addEventListener(l,d,!1)}function Uf(i,l,d,g,b){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var M=g.stateNode.containerInfo;if(M===b||M.nodeType===8&&M.parentNode===b)break;if(D===4)for(D=g.return;D!==null;){var U=D.tag;if((U===3||U===4)&&(U=D.stateNode.containerInfo,U===b||U.nodeType===8&&U.parentNode===b))return;D=D.return}for(;M!==null;){if(D=mi(M),D===null)return;if(U=D.tag,U===5||U===6){g=S=D;continue e}M=M.parentNode}}g=g.return}Sc(function(){var X=S,me=Aa(d),ve=[];e:{var he=Jg.get(i);if(he!==void 0){var be=Nf,Ne=i;switch(i){case"keypress":if(Mc(d)===0)break e;case"keydown":case"keyup":be=Pk;break;case"focusin":Ne="focus",be=Ef;break;case"focusout":Ne="blur",be=Ef;break;case"beforeblur":case"afterblur":be=Ef;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=gk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Dk;break;case Yg:case Gg:case Kg:be=wk;break;case Xg:be=Rk;break;case"scroll":be=pk;break;case"wheel":be=Mk;break;case"copy":case"cut":case"paste":be=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Pg}var Ce=(l&4)!==0,bt=!Ce&&i==="scroll",Y=Ce?he!==null?he+"Capture":null:he;Ce=[];for(var V=X,G;V!==null;){G=V;var xe=G.stateNode;if(G.tag===5&&xe!==null&&(G=xe,Y!==null&&(xe=wn(V,Y),xe!=null&&Ce.push(Qa(V,xe,G)))),bt)break;V=V.return}0<Ce.length&&(he=new be(he,Ne,null,d,me),ve.push({event:he,listeners:Ce}))}}if((l&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",be=i==="mouseout"||i==="pointerout",he&&d!==Ta&&(Ne=d.relatedTarget||d.fromElement)&&(mi(Ne)||Ne[Un]))break e;if((be||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,be?(Ne=d.relatedTarget||d.toElement,be=X,Ne=Ne?mi(Ne):null,Ne!==null&&(bt=ae(Ne),Ne!==bt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(be=null,Ne=X),be!==Ne)){if(Ce=kg,xe="onMouseLeave",Y="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Pg,xe="onPointerLeave",Y="onPointerEnter",V="pointer"),bt=be==null?he:go(be),G=Ne==null?he:go(Ne),he=new Ce(xe,V+"leave",be,d,me),he.target=bt,he.relatedTarget=G,xe=null,mi(me)===X&&(Ce=new Ce(Y,V+"enter",Ne,d,me),Ce.target=G,Ce.relatedTarget=bt,xe=Ce),bt=xe,be&&Ne)t:{for(Ce=be,Y=Ne,V=0,G=Ce;G;G=po(G))V++;for(G=0,xe=Y;xe;xe=po(xe))G++;for(;0<V-G;)Ce=po(Ce),V--;for(;0<G-V;)Y=po(Y),G--;for(;V--;){if(Ce===Y||Y!==null&&Ce===Y.alternate)break t;Ce=po(Ce),Y=po(Y)}Ce=null}else Ce=null;be!==null&&rx(ve,he,be,Ce,!1),Ne!==null&&bt!==null&&rx(ve,bt,Ne,Ce,!0)}}e:{if(he=X?go(X):window,be=he.nodeName&&he.nodeName.toLowerCase(),be==="select"||be==="input"&&he.type==="file")var Ee=zk;else if($g(he))if(Ig)Ee=Yk;else{Ee=Hk;var Re=Wk}else(be=he.nodeName)&&be.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ee=qk);if(Ee&&(Ee=Ee(i,X))){Mg(ve,Ee,d,me);break e}Re&&Re(i,he,X),i==="focusout"&&(Re=he._wrapperState)&&Re.controlled&&he.type==="number"&&Jr(he,"number",he.value)}switch(Re=X?go(X):window,i){case"focusin":($g(Re)||Re.contentEditable==="true")&&(ho=Re,Rf=X,Ka=null);break;case"focusout":Ka=Rf=ho=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Hg(ve,d,me);break;case"selectionchange":if(Xk)break;case"keydown":case"keyup":Hg(ve,d,me)}var $e;if(Tf)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else fo?Og(i,d)&&(Fe="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(Tg&&d.locale!=="ko"&&(fo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&fo&&($e=Ng()):(bs=me,Sf="value"in bs?bs.value:bs.textContent,fo=!0)),Re=zc(X,Fe),0<Re.length&&(Fe=new Eg(Fe,i,null,d,me),ve.push({event:Fe,listeners:Re}),$e?Fe.data=$e:($e=Rg(d),$e!==null&&(Fe.data=$e)))),($e=Lk?Fk(i,d):Uk(i,d))&&(X=zc(X,"onBeforeInput"),0<X.length&&(me=new Eg("onBeforeInput","beforeinput",null,d,me),ve.push({event:me,listeners:X}),me.data=$e))}ex(ve,l)})}function Qa(i,l,d){return{instance:i,listener:l,currentTarget:d}}function zc(i,l){for(var d=l+"Capture",g=[];i!==null;){var b=i,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=wn(i,d),S!=null&&g.unshift(Qa(i,S,b)),S=wn(i,l),S!=null&&g.push(Qa(i,S,b))),i=i.return}return g}function po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function rx(i,l,d,g,b){for(var S=l._reactName,D=[];d!==null&&d!==g;){var M=d,U=M.alternate,X=M.stateNode;if(U!==null&&U===g)break;M.tag===5&&X!==null&&(M=X,b?(U=wn(d,S),U!=null&&D.unshift(Qa(d,U,M))):b||(U=wn(d,S),U!=null&&D.push(Qa(d,U,M)))),d=d.return}D.length!==0&&i.push({event:l,listeners:D})}var e2=/\r\n?/g,t2=/\u0000|\uFFFD/g;function nx(i){return(typeof i=="string"?i:""+i).replace(e2,`
`).replace(t2,"")}function Wc(i,l,d){if(l=nx(l),nx(i)!==l&&d)throw Error(r(425))}function Hc(){}var Bf=null,Vf=null;function zf(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(i){return sx.resolve(null).then(i).catch(s2)}:Wf;function s2(i){setTimeout(function(){throw i})}function Hf(i,l){var d=l,g=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(g===0){i.removeChild(b),Va(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=b}while(d);Va(l)}function _s(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function ix(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var vo=Math.random().toString(36).slice(2),_n="__reactFiber$"+vo,Za="__reactProps$"+vo,Un="__reactContainer$"+vo,qf="__reactEvents$"+vo,i2="__reactListeners$"+vo,o2="__reactHandles$"+vo;function mi(i){var l=i[_n];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Un]||d[_n]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=ix(i);i!==null;){if(d=i[_n])return d;i=ix(i)}return l}i=d,d=i.parentNode}return null}function el(i){return i=i[_n]||i[Un],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function go(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function qc(i){return i[Za]||null}var Yf=[],xo=-1;function Ss(i){return{current:i}}function ft(i){0>xo||(i.current=Yf[xo],Yf[xo]=null,xo--)}function at(i,l){xo++,Yf[xo]=i.current,i.current=l}var Ns={},rr=Ss(Ns),pr=Ss(!1),pi=Ns;function yo(i,l){var d=i.type.contextTypes;if(!d)return Ns;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in d)b[S]=l[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=b),b}function vr(i){return i=i.childContextTypes,i!=null}function Yc(){ft(pr),ft(rr)}function ox(i,l,d){if(rr.current!==Ns)throw Error(r(168));at(rr,l),at(pr,d)}function ax(i,l,d){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(r(108,te(i)||"Unknown",b));return ee({},d,g)}function Gc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ns,pi=rr.current,at(rr,i),at(pr,pr.current),!0}function lx(i,l,d){var g=i.stateNode;if(!g)throw Error(r(169));d?(i=ax(i,l,pi),g.__reactInternalMemoizedMergedChildContext=i,ft(pr),ft(rr),at(rr,i)):ft(pr),at(pr,d)}var Bn=null,Kc=!1,Gf=!1;function cx(i){Bn===null?Bn=[i]:Bn.push(i)}function a2(i){Kc=!0,cx(i)}function Cs(){if(!Gf&&Bn!==null){Gf=!0;var i=0,l=st;try{var d=Bn;for(st=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}Bn=null,Kc=!1}catch(b){throw Bn!==null&&(Bn=Bn.slice(i+1)),tr($a,Cs),b}finally{st=l,Gf=!1}}return null}var wo=[],bo=0,Xc=null,Jc=0,Ur=[],Br=0,vi=null,Vn=1,zn="";function gi(i,l){wo[bo++]=Jc,wo[bo++]=Xc,Xc=i,Jc=l}function ux(i,l,d){Ur[Br++]=Vn,Ur[Br++]=zn,Ur[Br++]=vi,vi=i;var g=Vn;i=zn;var b=32-Zr(g)-1;g&=~(1<<b),d+=1;var S=32-Zr(l)+b;if(30<S){var D=b-b%5;S=(g&(1<<D)-1).toString(32),g>>=D,b-=D,Vn=1<<32-Zr(l)+b|d<<b|g,zn=S+i}else Vn=1<<S|d<<b|g,zn=i}function Kf(i){i.return!==null&&(gi(i,1),ux(i,1,0))}function Xf(i){for(;i===Xc;)Xc=wo[--bo],wo[bo]=null,Jc=wo[--bo],wo[bo]=null;for(;i===vi;)vi=Ur[--Br],Ur[Br]=null,zn=Ur[--Br],Ur[Br]=null,Vn=Ur[--Br],Ur[Br]=null}var kr=null,Er=null,mt=!1,tn=null;function dx(i,l){var d=Hr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function fx(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,kr=i,Er=_s(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,kr=i,Er=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=vi!==null?{id:Vn,overflow:zn}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Hr(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,kr=i,Er=null,!0):!1;default:return!1}}function Jf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qf(i){if(mt){var l=Er;if(l){var d=l;if(!fx(i,l)){if(Jf(i))throw Error(r(418));l=_s(d.nextSibling);var g=kr;l&&fx(i,l)?dx(g,d):(i.flags=i.flags&-4097|2,mt=!1,kr=i)}}else{if(Jf(i))throw Error(r(418));i.flags=i.flags&-4097|2,mt=!1,kr=i}}}function hx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;kr=i}function Qc(i){if(i!==kr)return!1;if(!mt)return hx(i),mt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!zf(i.type,i.memoizedProps)),l&&(l=Er)){if(Jf(i))throw mx(),Error(r(418));for(;l;)dx(i,l),l=_s(l.nextSibling)}if(hx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){Er=_s(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}Er=null}}else Er=kr?_s(i.stateNode.nextSibling):null;return!0}function mx(){for(var i=Er;i;)i=_s(i.nextSibling)}function jo(){Er=kr=null,mt=!1}function Zf(i){tn===null?tn=[i]:tn.push(i)}var l2=A.ReactCurrentBatchConfig;function tl(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,i));var b=g,S=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(D){var M=b.refs;D===null?delete M[S]:M[S]=D},l._stringRef=S,l)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function Zc(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function px(i){var l=i._init;return l(i._payload)}function vx(i){function l(Y,V){if(i){var G=Y.deletions;G===null?(Y.deletions=[V],Y.flags|=16):G.push(V)}}function d(Y,V){if(!i)return null;for(;V!==null;)l(Y,V),V=V.sibling;return null}function g(Y,V){for(Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function b(Y,V){return Y=Rs(Y,V),Y.index=0,Y.sibling=null,Y}function S(Y,V,G){return Y.index=G,i?(G=Y.alternate,G!==null?(G=G.index,G<V?(Y.flags|=2,V):G):(Y.flags|=2,V)):(Y.flags|=1048576,V)}function D(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function M(Y,V,G,xe){return V===null||V.tag!==6?(V=Wh(G,Y.mode,xe),V.return=Y,V):(V=b(V,G),V.return=Y,V)}function U(Y,V,G,xe){var Ee=G.type;return Ee===E?me(Y,V,G.props.children,xe,G.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===F&&px(Ee)===V.type)?(xe=b(V,G.props),xe.ref=tl(Y,V,G),xe.return=Y,xe):(xe=_u(G.type,G.key,G.props,null,Y.mode,xe),xe.ref=tl(Y,V,G),xe.return=Y,xe)}function X(Y,V,G,xe){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=Hh(G,Y.mode,xe),V.return=Y,V):(V=b(V,G.children||[]),V.return=Y,V)}function me(Y,V,G,xe,Ee){return V===null||V.tag!==7?(V=Ni(G,Y.mode,xe,Ee),V.return=Y,V):(V=b(V,G),V.return=Y,V)}function ve(Y,V,G){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Wh(""+V,Y.mode,G),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return G=_u(V.type,V.key,V.props,null,Y.mode,G),G.ref=tl(Y,null,V),G.return=Y,G;case P:return V=Hh(V,Y.mode,G),V.return=Y,V;case F:var xe=V._init;return ve(Y,xe(V._payload),G)}if(Fr(V)||H(V))return V=Ni(V,Y.mode,G,null),V.return=Y,V;Zc(Y,V)}return null}function he(Y,V,G,xe){var Ee=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ee!==null?null:M(Y,V,""+G,xe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===Ee?U(Y,V,G,xe):null;case P:return G.key===Ee?X(Y,V,G,xe):null;case F:return Ee=G._init,he(Y,V,Ee(G._payload),xe)}if(Fr(G)||H(G))return Ee!==null?null:me(Y,V,G,xe,null);Zc(Y,G)}return null}function be(Y,V,G,xe,Ee){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Y=Y.get(G)||null,M(V,Y,""+xe,Ee);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case T:return Y=Y.get(xe.key===null?G:xe.key)||null,U(V,Y,xe,Ee);case P:return Y=Y.get(xe.key===null?G:xe.key)||null,X(V,Y,xe,Ee);case F:var Re=xe._init;return be(Y,V,G,Re(xe._payload),Ee)}if(Fr(xe)||H(xe))return Y=Y.get(G)||null,me(V,Y,xe,Ee,null);Zc(V,xe)}return null}function Ne(Y,V,G,xe){for(var Ee=null,Re=null,$e=V,Fe=V=0,Bt=null;$e!==null&&Fe<G.length;Fe++){$e.index>Fe?(Bt=$e,$e=null):Bt=$e.sibling;var et=he(Y,$e,G[Fe],xe);if(et===null){$e===null&&($e=Bt);break}i&&$e&&et.alternate===null&&l(Y,$e),V=S(et,V,Fe),Re===null?Ee=et:Re.sibling=et,Re=et,$e=Bt}if(Fe===G.length)return d(Y,$e),mt&&gi(Y,Fe),Ee;if($e===null){for(;Fe<G.length;Fe++)$e=ve(Y,G[Fe],xe),$e!==null&&(V=S($e,V,Fe),Re===null?Ee=$e:Re.sibling=$e,Re=$e);return mt&&gi(Y,Fe),Ee}for($e=g(Y,$e);Fe<G.length;Fe++)Bt=be($e,Y,Fe,G[Fe],xe),Bt!==null&&(i&&Bt.alternate!==null&&$e.delete(Bt.key===null?Fe:Bt.key),V=S(Bt,V,Fe),Re===null?Ee=Bt:Re.sibling=Bt,Re=Bt);return i&&$e.forEach(function($s){return l(Y,$s)}),mt&&gi(Y,Fe),Ee}function Ce(Y,V,G,xe){var Ee=H(G);if(typeof Ee!="function")throw Error(r(150));if(G=Ee.call(G),G==null)throw Error(r(151));for(var Re=Ee=null,$e=V,Fe=V=0,Bt=null,et=G.next();$e!==null&&!et.done;Fe++,et=G.next()){$e.index>Fe?(Bt=$e,$e=null):Bt=$e.sibling;var $s=he(Y,$e,et.value,xe);if($s===null){$e===null&&($e=Bt);break}i&&$e&&$s.alternate===null&&l(Y,$e),V=S($s,V,Fe),Re===null?Ee=$s:Re.sibling=$s,Re=$s,$e=Bt}if(et.done)return d(Y,$e),mt&&gi(Y,Fe),Ee;if($e===null){for(;!et.done;Fe++,et=G.next())et=ve(Y,et.value,xe),et!==null&&(V=S(et,V,Fe),Re===null?Ee=et:Re.sibling=et,Re=et);return mt&&gi(Y,Fe),Ee}for($e=g(Y,$e);!et.done;Fe++,et=G.next())et=be($e,Y,Fe,et.value,xe),et!==null&&(i&&et.alternate!==null&&$e.delete(et.key===null?Fe:et.key),V=S(et,V,Fe),Re===null?Ee=et:Re.sibling=et,Re=et);return i&&$e.forEach(function(B2){return l(Y,B2)}),mt&&gi(Y,Fe),Ee}function bt(Y,V,G,xe){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var Ee=G.key,Re=V;Re!==null;){if(Re.key===Ee){if(Ee=G.type,Ee===E){if(Re.tag===7){d(Y,Re.sibling),V=b(Re,G.props.children),V.return=Y,Y=V;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===F&&px(Ee)===Re.type){d(Y,Re.sibling),V=b(Re,G.props),V.ref=tl(Y,Re,G),V.return=Y,Y=V;break e}d(Y,Re);break}else l(Y,Re);Re=Re.sibling}G.type===E?(V=Ni(G.props.children,Y.mode,xe,G.key),V.return=Y,Y=V):(xe=_u(G.type,G.key,G.props,null,Y.mode,xe),xe.ref=tl(Y,V,G),xe.return=Y,Y=xe)}return D(Y);case P:e:{for(Re=G.key;V!==null;){if(V.key===Re)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){d(Y,V.sibling),V=b(V,G.children||[]),V.return=Y,Y=V;break e}else{d(Y,V);break}else l(Y,V);V=V.sibling}V=Hh(G,Y.mode,xe),V.return=Y,Y=V}return D(Y);case F:return Re=G._init,bt(Y,V,Re(G._payload),xe)}if(Fr(G))return Ne(Y,V,G,xe);if(H(G))return Ce(Y,V,G,xe);Zc(Y,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,V!==null&&V.tag===6?(d(Y,V.sibling),V=b(V,G),V.return=Y,Y=V):(d(Y,V),V=Wh(G,Y.mode,xe),V.return=Y,Y=V),D(Y)):d(Y,V)}return bt}var _o=vx(!0),gx=vx(!1),eu=Ss(null),tu=null,So=null,eh=null;function th(){eh=So=tu=null}function rh(i){var l=eu.current;ft(eu),i._currentValue=l}function nh(i,l,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===d)break;i=i.return}}function No(i,l){tu=i,eh=So=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(gr=!0),i.firstContext=null)}function Vr(i){var l=i._currentValue;if(eh!==i)if(i={context:i,memoizedValue:l,next:null},So===null){if(tu===null)throw Error(r(308));So=i,tu.dependencies={lanes:0,firstContext:i}}else So=So.next=i;return l}var xi=null;function sh(i){xi===null?xi=[i]:xi.push(i)}function xx(i,l,d,g){var b=l.interleaved;return b===null?(d.next=d,sh(l)):(d.next=b.next,b.next=d),l.interleaved=d,Wn(i,g)}function Wn(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var ks=!1;function ih(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yx(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Es(i,l,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Qe&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Wn(i,d)}return b=g.interleaved,b===null?(l.next=l,sh(g)):(l.next=b.next,b.next=l),g.interleaved=l,Wn(i,d)}function ru(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,yf(i,d)}}function wx(i,l){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?b=S=D:S=S.next=D,d=d.next}while(d!==null);S===null?b=S=l:S=S.next=l}else b=S=l;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function nu(i,l,d,g){var b=i.updateQueue;ks=!1;var S=b.firstBaseUpdate,D=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var U=M,X=U.next;U.next=null,D===null?S=X:D.next=X,D=U;var me=i.alternate;me!==null&&(me=me.updateQueue,M=me.lastBaseUpdate,M!==D&&(M===null?me.firstBaseUpdate=X:M.next=X,me.lastBaseUpdate=U))}if(S!==null){var ve=b.baseState;D=0,me=X=U=null,M=S;do{var he=M.lane,be=M.eventTime;if((g&he)===he){me!==null&&(me=me.next={eventTime:be,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ne=i,Ce=M;switch(he=l,be=d,Ce.tag){case 1:if(Ne=Ce.payload,typeof Ne=="function"){ve=Ne.call(be,ve,he);break e}ve=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ce.payload,he=typeof Ne=="function"?Ne.call(be,ve,he):Ne,he==null)break e;ve=ee({},ve,he);break e;case 2:ks=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,he=b.effects,he===null?b.effects=[M]:he.push(M))}else be={eventTime:be,lane:he,tag:M.tag,payload:M.payload,callback:M.callback,next:null},me===null?(X=me=be,U=ve):me=me.next=be,D|=he;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;he=M,M=he.next,he.next=null,b.lastBaseUpdate=he,b.shared.pending=null}}while(!0);if(me===null&&(U=ve),b.baseState=U,b.firstBaseUpdate=X,b.lastBaseUpdate=me,l=b.shared.interleaved,l!==null){b=l;do D|=b.lane,b=b.next;while(b!==l)}else S===null&&(b.shared.lanes=0);bi|=D,i.lanes=D,i.memoizedState=ve}}function bx(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],b=g.callback;if(b!==null){if(g.callback=null,g=d,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var rl={},Sn=Ss(rl),nl=Ss(rl),sl=Ss(rl);function yi(i){if(i===rl)throw Error(r(174));return i}function oh(i,l){switch(at(sl,l),at(nl,i),at(Sn,rl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ui(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ui(l,i)}ft(Sn),at(Sn,l)}function Co(){ft(Sn),ft(nl),ft(sl)}function jx(i){yi(sl.current);var l=yi(Sn.current),d=ui(l,i.type);l!==d&&(at(nl,i),at(Sn,d))}function ah(i){nl.current===i&&(ft(Sn),ft(nl))}var vt=Ss(0);function su(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var lh=[];function ch(){for(var i=0;i<lh.length;i++)lh[i]._workInProgressVersionPrimary=null;lh.length=0}var iu=A.ReactCurrentDispatcher,uh=A.ReactCurrentBatchConfig,wi=0,gt=null,At=null,Ft=null,ou=!1,il=!1,ol=0,c2=0;function nr(){throw Error(r(321))}function dh(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!en(i[d],l[d]))return!1;return!0}function fh(i,l,d,g,b,S){if(wi=S,gt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,iu.current=i===null||i.memoizedState===null?h2:m2,i=d(g,b),il){S=0;do{if(il=!1,ol=0,25<=S)throw Error(r(301));S+=1,Ft=At=null,l.updateQueue=null,iu.current=p2,i=d(g,b)}while(il)}if(iu.current=cu,l=At!==null&&At.next!==null,wi=0,Ft=At=gt=null,ou=!1,l)throw Error(r(300));return i}function hh(){var i=ol!==0;return ol=0,i}function Nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?gt.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function zr(){if(At===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var l=Ft===null?gt.memoizedState:Ft.next;if(l!==null)Ft=l,At=i;else{if(i===null)throw Error(r(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ft===null?gt.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function al(i,l){return typeof l=="function"?l(i):l}function mh(i){var l=zr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var g=At,b=g.baseQueue,S=d.pending;if(S!==null){if(b!==null){var D=b.next;b.next=S.next,S.next=D}g.baseQueue=b=S,d.pending=null}if(b!==null){S=b.next,g=g.baseState;var M=D=null,U=null,X=S;do{var me=X.lane;if((wi&me)===me)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),g=X.hasEagerState?X.eagerState:i(g,X.action);else{var ve={lane:me,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(M=U=ve,D=g):U=U.next=ve,gt.lanes|=me,bi|=me}X=X.next}while(X!==null&&X!==S);U===null?D=g:U.next=M,en(g,l.memoizedState)||(gr=!0),l.memoizedState=g,l.baseState=D,l.baseQueue=U,d.lastRenderedState=g}if(i=d.interleaved,i!==null){b=i;do S=b.lane,gt.lanes|=S,bi|=S,b=b.next;while(b!==i)}else b===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ph(i){var l=zr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var g=d.dispatch,b=d.pending,S=l.memoizedState;if(b!==null){d.pending=null;var D=b=b.next;do S=i(S,D.action),D=D.next;while(D!==b);en(S,l.memoizedState)||(gr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,g]}function _x(){}function Sx(i,l){var d=gt,g=zr(),b=l(),S=!en(g.memoizedState,b);if(S&&(g.memoizedState=b,gr=!0),g=g.queue,vh(kx.bind(null,d,g,i),[i]),g.getSnapshot!==l||S||Ft!==null&&Ft.memoizedState.tag&1){if(d.flags|=2048,ll(9,Cx.bind(null,d,g,b,l),void 0,null),Ut===null)throw Error(r(349));(wi&30)!==0||Nx(d,l,b)}return b}function Nx(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=gt.updateQueue,l===null?(l={lastEffect:null,stores:null},gt.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function Cx(i,l,d,g){l.value=d,l.getSnapshot=g,Ex(l)&&Px(i)}function kx(i,l,d){return d(function(){Ex(l)&&Px(i)})}function Ex(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!en(i,d)}catch{return!0}}function Px(i){var l=Wn(i,1);l!==null&&on(l,i,1,-1)}function Tx(i){var l=Nn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:i},l.queue=i,i=i.dispatch=f2.bind(null,gt,i),[l.memoizedState,i]}function ll(i,l,d,g){return i={tag:i,create:l,destroy:d,deps:g,next:null},l=gt.updateQueue,l===null?(l={lastEffect:null,stores:null},gt.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,l.lastEffect=i)),i}function Ax(){return zr().memoizedState}function au(i,l,d,g){var b=Nn();gt.flags|=i,b.memoizedState=ll(1|l,d,void 0,g===void 0?null:g)}function lu(i,l,d,g){var b=zr();g=g===void 0?null:g;var S=void 0;if(At!==null){var D=At.memoizedState;if(S=D.destroy,g!==null&&dh(g,D.deps)){b.memoizedState=ll(l,d,S,g);return}}gt.flags|=i,b.memoizedState=ll(1|l,d,S,g)}function Dx(i,l){return au(8390656,8,i,l)}function vh(i,l){return lu(2048,8,i,l)}function Ox(i,l){return lu(4,2,i,l)}function Rx(i,l){return lu(4,4,i,l)}function $x(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Mx(i,l,d){return d=d!=null?d.concat([i]):null,lu(4,4,$x.bind(null,l,i),d)}function gh(){}function Ix(i,l){var d=zr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&dh(l,g[1])?g[0]:(d.memoizedState=[i,l],i)}function Lx(i,l){var d=zr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&dh(l,g[1])?g[0]:(i=i(),d.memoizedState=[i,l],i)}function Fx(i,l,d){return(wi&21)===0?(i.baseState&&(i.baseState=!1,gr=!0),i.memoizedState=d):(en(d,l)||(d=pg(),gt.lanes|=d,bi|=d,i.baseState=!0),l)}function u2(i,l){var d=st;st=d!==0&&4>d?d:4,i(!0);var g=uh.transition;uh.transition={};try{i(!1),l()}finally{st=d,uh.transition=g}}function Ux(){return zr().memoizedState}function d2(i,l,d){var g=Ds(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Bx(i))Vx(l,d);else if(d=xx(i,l,d,g),d!==null){var b=dr();on(d,i,g,b),zx(d,l,g)}}function f2(i,l,d){var g=Ds(i),b={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Bx(i))Vx(l,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var D=l.lastRenderedState,M=S(D,d);if(b.hasEagerState=!0,b.eagerState=M,en(M,D)){var U=l.interleaved;U===null?(b.next=b,sh(l)):(b.next=U.next,U.next=b),l.interleaved=b;return}}catch{}finally{}d=xx(i,l,b,g),d!==null&&(b=dr(),on(d,i,g,b),zx(d,l,g))}}function Bx(i){var l=i.alternate;return i===gt||l!==null&&l===gt}function Vx(i,l){il=ou=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function zx(i,l,d){if((d&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,yf(i,d)}}var cu={readContext:Vr,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},h2={readContext:Vr,useCallback:function(i,l){return Nn().memoizedState=[i,l===void 0?null:l],i},useContext:Vr,useEffect:Dx,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,au(4194308,4,$x.bind(null,l,i),d)},useLayoutEffect:function(i,l){return au(4194308,4,i,l)},useInsertionEffect:function(i,l){return au(4,2,i,l)},useMemo:function(i,l){var d=Nn();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var g=Nn();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=d2.bind(null,gt,i),[g.memoizedState,i]},useRef:function(i){var l=Nn();return i={current:i},l.memoizedState=i},useState:Tx,useDebugValue:gh,useDeferredValue:function(i){return Nn().memoizedState=i},useTransition:function(){var i=Tx(!1),l=i[0];return i=u2.bind(null,i[1]),Nn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var g=gt,b=Nn();if(mt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ut===null)throw Error(r(349));(wi&30)!==0||Nx(g,l,d)}b.memoizedState=d;var S={value:d,getSnapshot:l};return b.queue=S,Dx(kx.bind(null,g,S,i),[i]),g.flags|=2048,ll(9,Cx.bind(null,g,S,d,l),void 0,null),d},useId:function(){var i=Nn(),l=Ut.identifierPrefix;if(mt){var d=zn,g=Vn;d=(g&~(1<<32-Zr(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=ol++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=c2++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},m2={readContext:Vr,useCallback:Ix,useContext:Vr,useEffect:vh,useImperativeHandle:Mx,useInsertionEffect:Ox,useLayoutEffect:Rx,useMemo:Lx,useReducer:mh,useRef:Ax,useState:function(){return mh(al)},useDebugValue:gh,useDeferredValue:function(i){var l=zr();return Fx(l,At.memoizedState,i)},useTransition:function(){var i=mh(al)[0],l=zr().memoizedState;return[i,l]},useMutableSource:_x,useSyncExternalStore:Sx,useId:Ux,unstable_isNewReconciler:!1},p2={readContext:Vr,useCallback:Ix,useContext:Vr,useEffect:vh,useImperativeHandle:Mx,useInsertionEffect:Ox,useLayoutEffect:Rx,useMemo:Lx,useReducer:ph,useRef:Ax,useState:function(){return ph(al)},useDebugValue:gh,useDeferredValue:function(i){var l=zr();return At===null?l.memoizedState=i:Fx(l,At.memoizedState,i)},useTransition:function(){var i=ph(al)[0],l=zr().memoizedState;return[i,l]},useMutableSource:_x,useSyncExternalStore:Sx,useId:Ux,unstable_isNewReconciler:!1};function rn(i,l){if(i&&i.defaultProps){l=ee({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function xh(i,l,d,g){l=i.memoizedState,d=d(g,l),d=d==null?l:ee({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var uu={isMounted:function(i){return(i=i._reactInternals)?ae(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var g=dr(),b=Ds(i),S=Hn(g,b);S.payload=l,d!=null&&(S.callback=d),l=Es(i,S,b),l!==null&&(on(l,i,b,g),ru(l,i,b))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var g=dr(),b=Ds(i),S=Hn(g,b);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=Es(i,S,b),l!==null&&(on(l,i,b,g),ru(l,i,b))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=dr(),g=Ds(i),b=Hn(d,g);b.tag=2,l!=null&&(b.callback=l),l=Es(i,b,g),l!==null&&(on(l,i,g,d),ru(l,i,g))}};function Wx(i,l,d,g,b,S,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,D):l.prototype&&l.prototype.isPureReactComponent?!Ga(d,g)||!Ga(b,S):!0}function Hx(i,l,d){var g=!1,b=Ns,S=l.contextType;return typeof S=="object"&&S!==null?S=Vr(S):(b=vr(l)?pi:rr.current,g=l.contextTypes,S=(g=g!=null)?yo(i,b):Ns),l=new l(d,S),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=uu,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=S),l}function qx(i,l,d,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==i&&uu.enqueueReplaceState(l,l.state,null)}function yh(i,l,d,g){var b=i.stateNode;b.props=d,b.state=i.memoizedState,b.refs={},ih(i);var S=l.contextType;typeof S=="object"&&S!==null?b.context=Vr(S):(S=vr(l)?pi:rr.current,b.context=yo(i,S)),b.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(xh(i,l,S,d),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&uu.enqueueReplaceState(b,b.state,null),nu(i,d,b,g),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function ko(i,l){try{var d="",g=l;do d+=se(g),g=g.return;while(g);var b=d}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:l,stack:b,digest:null}}function wh(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function bh(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var v2=typeof WeakMap=="function"?WeakMap:Map;function Yx(i,l,d){d=Hn(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){gu||(gu=!0,Mh=g),bh(i,l)},d}function Gx(i,l,d){d=Hn(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;d.payload=function(){return g(b)},d.callback=function(){bh(i,l)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){bh(i,l),typeof g!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function Kx(i,l,d){var g=i.pingCache;if(g===null){g=i.pingCache=new v2;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(d)||(b.add(d),i=T2.bind(null,i,l,d),l.then(i,i))}function Xx(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Jx(i,l,d,g,b){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Hn(-1,1),l.tag=2,Es(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var g2=A.ReactCurrentOwner,gr=!1;function ur(i,l,d,g){l.child=i===null?gx(l,null,d,g):_o(l,i.child,d,g)}function Qx(i,l,d,g,b){d=d.render;var S=l.ref;return No(l,b),g=fh(i,l,d,g,S,b),d=hh(),i!==null&&!gr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~b,qn(i,l,b)):(mt&&d&&Kf(l),l.flags|=1,ur(i,l,g,b),l.child)}function Zx(i,l,d,g,b){if(i===null){var S=d.type;return typeof S=="function"&&!zh(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=S,ey(i,l,S,g,b)):(i=_u(d.type,null,g,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,(i.lanes&b)===0){var D=S.memoizedProps;if(d=d.compare,d=d!==null?d:Ga,d(D,g)&&i.ref===l.ref)return qn(i,l,b)}return l.flags|=1,i=Rs(S,g),i.ref=l.ref,i.return=l,l.child=i}function ey(i,l,d,g,b){if(i!==null){var S=i.memoizedProps;if(Ga(S,g)&&i.ref===l.ref)if(gr=!1,l.pendingProps=g=S,(i.lanes&b)!==0)(i.flags&131072)!==0&&(gr=!0);else return l.lanes=i.lanes,qn(i,l,b)}return jh(i,l,d,g,b)}function ty(i,l,d){var g=l.pendingProps,b=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Po,Pr),Pr|=d;else{if((d&1073741824)===0)return i=S!==null?S.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,at(Po,Pr),Pr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,at(Po,Pr),Pr|=g}else S!==null?(g=S.baseLanes|d,l.memoizedState=null):g=d,at(Po,Pr),Pr|=g;return ur(i,l,b,d),l.child}function ry(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function jh(i,l,d,g,b){var S=vr(d)?pi:rr.current;return S=yo(l,S),No(l,b),d=fh(i,l,d,g,S,b),g=hh(),i!==null&&!gr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~b,qn(i,l,b)):(mt&&g&&Kf(l),l.flags|=1,ur(i,l,d,b),l.child)}function ny(i,l,d,g,b){if(vr(d)){var S=!0;Gc(l)}else S=!1;if(No(l,b),l.stateNode===null)fu(i,l),Hx(l,d,g),yh(l,d,g,b),g=!0;else if(i===null){var D=l.stateNode,M=l.memoizedProps;D.props=M;var U=D.context,X=d.contextType;typeof X=="object"&&X!==null?X=Vr(X):(X=vr(d)?pi:rr.current,X=yo(l,X));var me=d.getDerivedStateFromProps,ve=typeof me=="function"||typeof D.getSnapshotBeforeUpdate=="function";ve||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(M!==g||U!==X)&&qx(l,D,g,X),ks=!1;var he=l.memoizedState;D.state=he,nu(l,g,D,b),U=l.memoizedState,M!==g||he!==U||pr.current||ks?(typeof me=="function"&&(xh(l,d,me,g),U=l.memoizedState),(M=ks||Wx(l,d,M,g,he,U,X))?(ve||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=U),D.props=g,D.state=U,D.context=X,g=M):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{D=l.stateNode,yx(i,l),M=l.memoizedProps,X=l.type===l.elementType?M:rn(l.type,M),D.props=X,ve=l.pendingProps,he=D.context,U=d.contextType,typeof U=="object"&&U!==null?U=Vr(U):(U=vr(d)?pi:rr.current,U=yo(l,U));var be=d.getDerivedStateFromProps;(me=typeof be=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(M!==ve||he!==U)&&qx(l,D,g,U),ks=!1,he=l.memoizedState,D.state=he,nu(l,g,D,b);var Ne=l.memoizedState;M!==ve||he!==Ne||pr.current||ks?(typeof be=="function"&&(xh(l,d,be,g),Ne=l.memoizedState),(X=ks||Wx(l,d,X,g,he,Ne,U)||!1)?(me||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Ne,U),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Ne,U)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||M===i.memoizedProps&&he===i.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&he===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ne),D.props=g,D.state=Ne,D.context=U,g=X):(typeof D.componentDidUpdate!="function"||M===i.memoizedProps&&he===i.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&he===i.memoizedState||(l.flags|=1024),g=!1)}return _h(i,l,d,g,S,b)}function _h(i,l,d,g,b,S){ry(i,l);var D=(l.flags&128)!==0;if(!g&&!D)return b&&lx(l,d,!1),qn(i,l,S);g=l.stateNode,g2.current=l;var M=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&D?(l.child=_o(l,i.child,null,S),l.child=_o(l,null,M,S)):ur(i,l,M,S),l.memoizedState=g.state,b&&lx(l,d,!0),l.child}function sy(i){var l=i.stateNode;l.pendingContext?ox(i,l.pendingContext,l.pendingContext!==l.context):l.context&&ox(i,l.context,!1),oh(i,l.containerInfo)}function iy(i,l,d,g,b){return jo(),Zf(b),l.flags|=256,ur(i,l,d,g),l.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Nh(i){return{baseLanes:i,cachePool:null,transitions:null}}function oy(i,l,d){var g=l.pendingProps,b=vt.current,S=!1,D=(l.flags&128)!==0,M;if((M=D)||(M=i!==null&&i.memoizedState===null?!1:(b&2)!==0),M?(S=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),at(vt,b&1),i===null)return Qf(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=g.children,i=g.fallback,S?(g=l.mode,S=l.child,D={mode:"hidden",children:D},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=Su(D,g,0,null),i=Ni(i,g,d,null),S.return=l,i.return=l,S.sibling=i,l.child=S,l.child.memoizedState=Nh(d),l.memoizedState=Sh,i):Ch(l,D));if(b=i.memoizedState,b!==null&&(M=b.dehydrated,M!==null))return x2(i,l,D,g,M,b,d);if(S){S=g.fallback,D=l.mode,b=i.child,M=b.sibling;var U={mode:"hidden",children:g.children};return(D&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=U,l.deletions=null):(g=Rs(b,U),g.subtreeFlags=b.subtreeFlags&14680064),M!==null?S=Rs(M,S):(S=Ni(S,D,d,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,D=i.child.memoizedState,D=D===null?Nh(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=i.childLanes&~d,l.memoizedState=Sh,g}return S=i.child,i=S.sibling,g=Rs(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=g,l.memoizedState=null,g}function Ch(i,l){return l=Su({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function du(i,l,d,g){return g!==null&&Zf(g),_o(l,i.child,null,d),i=Ch(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function x2(i,l,d,g,b,S,D){if(d)return l.flags&256?(l.flags&=-257,g=wh(Error(r(422))),du(i,l,D,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(S=g.fallback,b=l.mode,g=Su({mode:"visible",children:g.children},b,0,null),S=Ni(S,b,D,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&_o(l,i.child,null,D),l.child.memoizedState=Nh(D),l.memoizedState=Sh,S);if((l.mode&1)===0)return du(i,l,D,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var M=g.dgst;return g=M,S=Error(r(419)),g=wh(S,g,void 0),du(i,l,D,g)}if(M=(D&i.childLanes)!==0,gr||M){if(g=Ut,g!==null){switch(D&-D){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|D))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Wn(i,b),on(g,i,b,-1))}return Vh(),g=wh(Error(r(421))),du(i,l,D,g)}return b.data==="$?"?(l.flags|=128,l.child=i.child,l=A2.bind(null,i),b._reactRetry=l,null):(i=S.treeContext,Er=_s(b.nextSibling),kr=l,mt=!0,tn=null,i!==null&&(Ur[Br++]=Vn,Ur[Br++]=zn,Ur[Br++]=vi,Vn=i.id,zn=i.overflow,vi=l),l=Ch(l,g.children),l.flags|=4096,l)}function ay(i,l,d){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),nh(i.return,l,d)}function kh(i,l,d,g,b){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=b)}function ly(i,l,d){var g=l.pendingProps,b=g.revealOrder,S=g.tail;if(ur(i,l,g.children,d),g=vt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ay(i,d,l);else if(i.tag===19)ay(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(at(vt,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(d=l.child,b=null;d!==null;)i=d.alternate,i!==null&&su(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),kh(l,!1,b,d,S);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&su(i)===null){l.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}kh(l,!0,d,null,S);break;case"together":kh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function fu(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function qn(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),bi|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=Rs(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Rs(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function y2(i,l,d){switch(l.tag){case 3:sy(l),jo();break;case 5:jx(l);break;case 1:vr(l.type)&&Gc(l);break;case 4:oh(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;at(eu,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(at(vt,vt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?oy(i,l,d):(at(vt,vt.current&1),i=qn(i,l,d),i!==null?i.sibling:null);at(vt,vt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(i.flags&128)!==0){if(g)return ly(i,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),at(vt,vt.current),g)break;return null;case 22:case 23:return l.lanes=0,ty(i,l,d)}return qn(i,l,d)}var cy,Eh,uy,dy;cy=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Eh=function(){},uy=function(i,l,d,g){var b=i.memoizedProps;if(b!==g){i=l.stateNode,yi(Sn.current);var S=null;switch(d){case"input":b=De(i,b),g=De(i,g),S=[];break;case"select":b=ee({},b,{value:void 0}),g=ee({},g,{value:void 0}),S=[];break;case"textarea":b=mc(i,b),g=mc(i,g),S=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Hc)}Ea(d,g);var D;d=null;for(X in b)if(!g.hasOwnProperty(X)&&b.hasOwnProperty(X)&&b[X]!=null)if(X==="style"){var M=b[X];for(D in M)M.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?S||(S=[]):(S=S||[]).push(X,null));for(X in g){var U=g[X];if(M=b!=null?b[X]:void 0,g.hasOwnProperty(X)&&U!==M&&(U!=null||M!=null))if(X==="style")if(M){for(D in M)!M.hasOwnProperty(D)||U&&U.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in U)U.hasOwnProperty(D)&&M[D]!==U[D]&&(d||(d={}),d[D]=U[D])}else d||(S||(S=[]),S.push(X,d)),d=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,M=M?M.__html:void 0,U!=null&&M!==U&&(S=S||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(S=S||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&dt("scroll",i),S||M===U||(S=[])):(S=S||[]).push(X,U))}d&&(S=S||[]).push("style",d);var X=S;(l.updateQueue=X)&&(l.flags|=4)}},dy=function(i,l,d,g){d!==g&&(l.flags|=4)};function cl(i,l){if(!mt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function sr(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(l)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=g,i.childLanes=d,l}function w2(i,l,d){var g=l.pendingProps;switch(Xf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(l),null;case 1:return vr(l.type)&&Yc(),sr(l),null;case 3:return g=l.stateNode,Co(),ft(pr),ft(rr),ch(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Qc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,tn!==null&&(Fh(tn),tn=null))),Eh(i,l),sr(l),null;case 5:ah(l);var b=yi(sl.current);if(d=l.type,i!==null&&l.stateNode!=null)uy(i,l,d,g,b),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return sr(l),null}if(i=yi(Sn.current),Qc(l)){g=l.stateNode,d=l.type;var S=l.memoizedProps;switch(g[_n]=l,g[Za]=S,i=(l.mode&1)!==0,d){case"dialog":dt("cancel",g),dt("close",g);break;case"iframe":case"object":case"embed":dt("load",g);break;case"video":case"audio":for(b=0;b<Xa.length;b++)dt(Xa[b],g);break;case"source":dt("error",g);break;case"img":case"image":case"link":dt("error",g),dt("load",g);break;case"details":dt("toggle",g);break;case"input":ze(g,S),dt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},dt("invalid",g);break;case"textarea":Qr(g,S),dt("invalid",g)}Ea(d,S),b=null;for(var D in S)if(S.hasOwnProperty(D)){var M=S[D];D==="children"?typeof M=="string"?g.textContent!==M&&(S.suppressHydrationWarning!==!0&&Wc(g.textContent,M,i),b=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(S.suppressHydrationWarning!==!0&&Wc(g.textContent,M,i),b=["children",""+M]):o.hasOwnProperty(D)&&M!=null&&D==="onScroll"&&dt("scroll",g)}switch(d){case"input":oe(g),Lr(g,S,!0);break;case"textarea":oe(g),no(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Hc)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{D=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ka(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=D.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=D.createElement(d,{is:g.is}):(i=D.createElement(d),d==="select"&&(D=i,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):i=D.createElementNS(i,d),i[_n]=l,i[Za]=g,cy(i,l,!1,!1),l.stateNode=i;e:{switch(D=Pa(d,g),d){case"dialog":dt("cancel",i),dt("close",i),b=g;break;case"iframe":case"object":case"embed":dt("load",i),b=g;break;case"video":case"audio":for(b=0;b<Xa.length;b++)dt(Xa[b],i);b=g;break;case"source":dt("error",i),b=g;break;case"img":case"image":case"link":dt("error",i),dt("load",i),b=g;break;case"details":dt("toggle",i),b=g;break;case"input":ze(i,g),b=De(i,g),dt("invalid",i);break;case"option":b=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},b=ee({},g,{value:void 0}),dt("invalid",i);break;case"textarea":Qr(i,g),b=mc(i,g),dt("invalid",i);break;default:b=g}Ea(d,b),M=b;for(S in M)if(M.hasOwnProperty(S)){var U=M[S];S==="style"?xc(i,U):S==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&io(i,U)):S==="children"?typeof U=="string"?(d!=="textarea"||U!=="")&&fs(i,U):typeof U=="number"&&fs(i,""+U):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?U!=null&&S==="onScroll"&&dt("scroll",i):U!=null&&k(i,S,U,D))}switch(d){case"input":oe(i),Lr(i,g,!1);break;case"textarea":oe(i),no(i);break;case"option":g.value!=null&&i.setAttribute("value",""+fe(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?ds(i,!!g.multiple,S,!1):g.defaultValue!=null&&ds(i,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Hc)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return sr(l),null;case 6:if(i&&l.stateNode!=null)dy(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=yi(sl.current),yi(Sn.current),Qc(l)){if(g=l.stateNode,d=l.memoizedProps,g[_n]=l,(S=g.nodeValue!==d)&&(i=kr,i!==null))switch(i.tag){case 3:Wc(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Wc(g.nodeValue,d,(i.mode&1)!==0)}S&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[_n]=l,l.stateNode=g}return sr(l),null;case 13:if(ft(vt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(mt&&Er!==null&&(l.mode&1)!==0&&(l.flags&128)===0)mx(),jo(),l.flags|=98560,S=!1;else if(S=Qc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[_n]=l}else jo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;sr(l),S=!1}else tn!==null&&(Fh(tn),tn=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(vt.current&1)!==0?Dt===0&&(Dt=3):Vh())),l.updateQueue!==null&&(l.flags|=4),sr(l),null);case 4:return Co(),Eh(i,l),i===null&&Ja(l.stateNode.containerInfo),sr(l),null;case 10:return rh(l.type._context),sr(l),null;case 17:return vr(l.type)&&Yc(),sr(l),null;case 19:if(ft(vt),S=l.memoizedState,S===null)return sr(l),null;if(g=(l.flags&128)!==0,D=S.rendering,D===null)if(g)cl(S,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(D=su(i),D!==null){for(l.flags|=128,cl(S,!1),g=D.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)S=d,i=g,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,i=D.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return at(vt,vt.current&1|2),l.child}i=i.sibling}S.tail!==null&&Je()>To&&(l.flags|=128,g=!0,cl(S,!1),l.lanes=4194304)}else{if(!g)if(i=su(D),i!==null){if(l.flags|=128,g=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),cl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!mt)return sr(l),null}else 2*Je()-S.renderingStartTime>To&&d!==1073741824&&(l.flags|=128,g=!0,cl(S,!1),l.lanes=4194304);S.isBackwards?(D.sibling=l.child,l.child=D):(d=S.last,d!==null?d.sibling=D:l.child=D,S.last=D)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Je(),l.sibling=null,d=vt.current,at(vt,g?d&1|2:d&1),l):(sr(l),null);case 22:case 23:return Bh(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Pr&1073741824)!==0&&(sr(l),l.subtreeFlags&6&&(l.flags|=8192)):sr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function b2(i,l){switch(Xf(l),l.tag){case 1:return vr(l.type)&&Yc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Co(),ft(pr),ft(rr),ch(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return ah(l),null;case 13:if(ft(vt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));jo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ft(vt),null;case 4:return Co(),null;case 10:return rh(l.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var hu=!1,ir=!1,j2=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Eo(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){wt(i,l,g)}else d.current=null}function Ph(i,l,d){try{d()}catch(g){wt(i,l,g)}}var fy=!1;function _2(i,l){if(Bf=Oc,i=Wg(),Of(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var D=0,M=-1,U=-1,X=0,me=0,ve=i,he=null;t:for(;;){for(var be;ve!==d||b!==0&&ve.nodeType!==3||(M=D+b),ve!==S||g!==0&&ve.nodeType!==3||(U=D+g),ve.nodeType===3&&(D+=ve.nodeValue.length),(be=ve.firstChild)!==null;)he=ve,ve=be;for(;;){if(ve===i)break t;if(he===d&&++X===b&&(M=D),he===S&&++me===g&&(U=D),(be=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=be}d=M===-1||U===-1?null:{start:M,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(Vf={focusedElem:i,selectionRange:d},Oc=!1,_e=l;_e!==null;)if(l=_e,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,_e=i;else for(;_e!==null;){l=_e;try{var Ne=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Ce=Ne.memoizedProps,bt=Ne.memoizedState,Y=l.stateNode,V=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:rn(l.type,Ce),bt);Y.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var G=l.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xe){wt(l,l.return,xe)}if(i=l.sibling,i!==null){i.return=l.return,_e=i;break}_e=l.return}return Ne=fy,fy=!1,Ne}function ul(i,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&i)===i){var S=b.destroy;b.destroy=void 0,S!==void 0&&Ph(l,d,S)}b=b.next}while(b!==g)}}function mu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function Th(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function hy(i){var l=i.alternate;l!==null&&(i.alternate=null,hy(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[_n],delete l[Za],delete l[qf],delete l[i2],delete l[o2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function my(i){return i.tag===5||i.tag===3||i.tag===4}function py(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||my(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ah(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Hc));else if(g!==4&&(i=i.child,i!==null))for(Ah(i,l,d),i=i.sibling;i!==null;)Ah(i,l,d),i=i.sibling}function Dh(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Dh(i,l,d),i=i.sibling;i!==null;)Dh(i,l,d),i=i.sibling}var Qt=null,nn=!1;function Ps(i,l,d){for(d=d.child;d!==null;)vy(i,l,d),d=d.sibling}function vy(i,l,d){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(lo,d)}catch{}switch(d.tag){case 5:ir||Eo(d,l);case 6:var g=Qt,b=nn;Qt=null,Ps(i,l,d),Qt=g,nn=b,Qt!==null&&(nn?(i=Qt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Qt.removeChild(d.stateNode));break;case 18:Qt!==null&&(nn?(i=Qt,d=d.stateNode,i.nodeType===8?Hf(i.parentNode,d):i.nodeType===1&&Hf(i,d),Va(i)):Hf(Qt,d.stateNode));break;case 4:g=Qt,b=nn,Qt=d.stateNode.containerInfo,nn=!0,Ps(i,l,d),Qt=g,nn=b;break;case 0:case 11:case 14:case 15:if(!ir&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var S=b,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&Ph(d,l,D),b=b.next}while(b!==g)}Ps(i,l,d);break;case 1:if(!ir&&(Eo(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(M){wt(d,l,M)}Ps(i,l,d);break;case 21:Ps(i,l,d);break;case 22:d.mode&1?(ir=(g=ir)||d.memoizedState!==null,Ps(i,l,d),ir=g):Ps(i,l,d);break;default:Ps(i,l,d)}}function gy(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new j2),l.forEach(function(g){var b=D2.bind(null,i,g);d.has(g)||(d.add(g),g.then(b,b))})}}function sn(i,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];try{var S=i,D=l,M=D;e:for(;M!==null;){switch(M.tag){case 5:Qt=M.stateNode,nn=!1;break e;case 3:Qt=M.stateNode.containerInfo,nn=!0;break e;case 4:Qt=M.stateNode.containerInfo,nn=!0;break e}M=M.return}if(Qt===null)throw Error(r(160));vy(S,D,b),Qt=null,nn=!1;var U=b.alternate;U!==null&&(U.return=null),b.return=null}catch(X){wt(b,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)xy(l,i),l=l.sibling}function xy(i,l){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(sn(l,i),Cn(i),g&4){try{ul(3,i,i.return),mu(3,i)}catch(Ce){wt(i,i.return,Ce)}try{ul(5,i,i.return)}catch(Ce){wt(i,i.return,Ce)}}break;case 1:sn(l,i),Cn(i),g&512&&d!==null&&Eo(d,d.return);break;case 5:if(sn(l,i),Cn(i),g&512&&d!==null&&Eo(d,d.return),i.flags&32){var b=i.stateNode;try{fs(b,"")}catch(Ce){wt(i,i.return,Ce)}}if(g&4&&(b=i.stateNode,b!=null)){var S=i.memoizedProps,D=d!==null?d.memoizedProps:S,M=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{M==="input"&&S.type==="radio"&&S.name!=null&&tt(b,S),Pa(M,D);var X=Pa(M,S);for(D=0;D<U.length;D+=2){var me=U[D],ve=U[D+1];me==="style"?xc(b,ve):me==="dangerouslySetInnerHTML"?io(b,ve):me==="children"?fs(b,ve):k(b,me,ve,X)}switch(M){case"input":rt(b,S);break;case"textarea":pc(b,S);break;case"select":var he=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var be=S.value;be!=null?ds(b,!!S.multiple,be,!1):he!==!!S.multiple&&(S.defaultValue!=null?ds(b,!!S.multiple,S.defaultValue,!0):ds(b,!!S.multiple,S.multiple?[]:"",!1))}b[Za]=S}catch(Ce){wt(i,i.return,Ce)}}break;case 6:if(sn(l,i),Cn(i),g&4){if(i.stateNode===null)throw Error(r(162));b=i.stateNode,S=i.memoizedProps;try{b.nodeValue=S}catch(Ce){wt(i,i.return,Ce)}}break;case 3:if(sn(l,i),Cn(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Va(l.containerInfo)}catch(Ce){wt(i,i.return,Ce)}break;case 4:sn(l,i),Cn(i);break;case 13:sn(l,i),Cn(i),b=i.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||($h=Je())),g&4&&gy(i);break;case 22:if(me=d!==null&&d.memoizedState!==null,i.mode&1?(ir=(X=ir)||me,sn(l,i),ir=X):sn(l,i),Cn(i),g&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!me&&(i.mode&1)!==0)for(_e=i,me=i.child;me!==null;){for(ve=_e=me;_e!==null;){switch(he=_e,be=he.child,he.tag){case 0:case 11:case 14:case 15:ul(4,he,he.return);break;case 1:Eo(he,he.return);var Ne=he.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=he,d=he.return;try{l=g,Ne.props=l.memoizedProps,Ne.state=l.memoizedState,Ne.componentWillUnmount()}catch(Ce){wt(g,d,Ce)}}break;case 5:Eo(he,he.return);break;case 22:if(he.memoizedState!==null){by(ve);continue}}be!==null?(be.return=he,_e=be):by(ve)}me=me.sibling}e:for(me=null,ve=i;;){if(ve.tag===5){if(me===null){me=ve;try{b=ve.stateNode,X?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(M=ve.stateNode,U=ve.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null,M.style.display=gc("display",D))}catch(Ce){wt(i,i.return,Ce)}}}else if(ve.tag===6){if(me===null)try{ve.stateNode.nodeValue=X?"":ve.memoizedProps}catch(Ce){wt(i,i.return,Ce)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===i)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===i)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===i)break e;me===ve&&(me=null),ve=ve.return}me===ve&&(me=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:sn(l,i),Cn(i),g&4&&gy(i);break;case 21:break;default:sn(l,i),Cn(i)}}function Cn(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(my(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(fs(b,""),g.flags&=-33);var S=py(i);Dh(i,S,b);break;case 3:case 4:var D=g.stateNode.containerInfo,M=py(i);Ah(i,M,D);break;default:throw Error(r(161))}}catch(U){wt(i,i.return,U)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function S2(i,l,d){_e=i,yy(i)}function yy(i,l,d){for(var g=(i.mode&1)!==0;_e!==null;){var b=_e,S=b.child;if(b.tag===22&&g){var D=b.memoizedState!==null||hu;if(!D){var M=b.alternate,U=M!==null&&M.memoizedState!==null||ir;M=hu;var X=ir;if(hu=D,(ir=U)&&!X)for(_e=b;_e!==null;)D=_e,U=D.child,D.tag===22&&D.memoizedState!==null?jy(b):U!==null?(U.return=D,_e=U):jy(b);for(;S!==null;)_e=S,yy(S),S=S.sibling;_e=b,hu=M,ir=X}wy(i)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,_e=S):wy(i)}}function wy(i){for(;_e!==null;){var l=_e;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ir||mu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!ir)if(d===null)g.componentDidMount();else{var b=l.elementType===l.type?d.memoizedProps:rn(l.type,d.memoizedProps);g.componentDidUpdate(b,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&bx(l,S,g);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}bx(l,D,d)}break;case 5:var M=l.stateNode;if(d===null&&l.flags&4){d=M;var U=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&d.focus();break;case"img":U.src&&(d.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var me=X.memoizedState;if(me!==null){var ve=me.dehydrated;ve!==null&&Va(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ir||l.flags&512&&Th(l)}catch(he){wt(l,l.return,he)}}if(l===i){_e=null;break}if(d=l.sibling,d!==null){d.return=l.return,_e=d;break}_e=l.return}}function by(i){for(;_e!==null;){var l=_e;if(l===i){_e=null;break}var d=l.sibling;if(d!==null){d.return=l.return,_e=d;break}_e=l.return}}function jy(i){for(;_e!==null;){var l=_e;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{mu(4,l)}catch(U){wt(l,d,U)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(U){wt(l,b,U)}}var S=l.return;try{Th(l)}catch(U){wt(l,S,U)}break;case 5:var D=l.return;try{Th(l)}catch(U){wt(l,D,U)}}}catch(U){wt(l,l.return,U)}if(l===i){_e=null;break}var M=l.sibling;if(M!==null){M.return=l.return,_e=M;break}_e=l.return}}var N2=Math.ceil,pu=A.ReactCurrentDispatcher,Oh=A.ReactCurrentOwner,Wr=A.ReactCurrentBatchConfig,Qe=0,Ut=null,Nt=null,Zt=0,Pr=0,Po=Ss(0),Dt=0,dl=null,bi=0,vu=0,Rh=0,fl=null,xr=null,$h=0,To=1/0,Yn=null,gu=!1,Mh=null,Ts=null,xu=!1,As=null,yu=0,hl=0,Ih=null,wu=-1,bu=0;function dr(){return(Qe&6)!==0?Je():wu!==-1?wu:wu=Je()}function Ds(i){return(i.mode&1)===0?1:(Qe&2)!==0&&Zt!==0?Zt&-Zt:l2.transition!==null?(bu===0&&(bu=pg()),bu):(i=st,i!==0||(i=window.event,i=i===void 0?16:Sg(i.type)),i)}function on(i,l,d,g){if(50<hl)throw hl=0,Ih=null,Error(r(185));Ia(i,d,g),((Qe&2)===0||i!==Ut)&&(i===Ut&&((Qe&2)===0&&(vu|=d),Dt===4&&Os(i,Zt)),yr(i,g),d===1&&Qe===0&&(l.mode&1)===0&&(To=Je()+500,Kc&&Cs()))}function yr(i,l){var d=i.callbackNode;lk(i,l);var g=Tc(i,i===Ut?Zt:0);if(g===0)d!==null&&Nr(d),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(d!=null&&Nr(d),l===1)i.tag===0?a2(Sy.bind(null,i)):cx(Sy.bind(null,i)),n2(function(){(Qe&6)===0&&Cs()}),d=null;else{switch(vg(g)){case 1:d=$a;break;case 4:d=Cc;break;case 16:d=ao;break;case 536870912:d=kc;break;default:d=ao}d=Dy(d,_y.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function _y(i,l){if(wu=-1,bu=0,(Qe&6)!==0)throw Error(r(327));var d=i.callbackNode;if(Ao()&&i.callbackNode!==d)return null;var g=Tc(i,i===Ut?Zt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=ju(i,g);else{l=g;var b=Qe;Qe|=2;var S=Cy();(Ut!==i||Zt!==l)&&(Yn=null,To=Je()+500,_i(i,l));do try{E2();break}catch(M){Ny(i,M)}while(!0);th(),pu.current=S,Qe=b,Nt!==null?l=0:(Ut=null,Zt=0,l=Dt)}if(l!==0){if(l===2&&(b=gf(i),b!==0&&(g=b,l=Lh(i,b))),l===1)throw d=dl,_i(i,0),Os(i,g),yr(i,Je()),d;if(l===6)Os(i,g);else{if(b=i.current.alternate,(g&30)===0&&!C2(b)&&(l=ju(i,g),l===2&&(S=gf(i),S!==0&&(g=S,l=Lh(i,S))),l===1))throw d=dl,_i(i,0),Os(i,g),yr(i,Je()),d;switch(i.finishedWork=b,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Si(i,xr,Yn);break;case 3:if(Os(i,g),(g&130023424)===g&&(l=$h+500-Je(),10<l)){if(Tc(i,0)!==0)break;if(b=i.suspendedLanes,(b&g)!==g){dr(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=Wf(Si.bind(null,i,xr,Yn),l);break}Si(i,xr,Yn);break;case 4:if(Os(i,g),(g&4194240)===g)break;for(l=i.eventTimes,b=-1;0<g;){var D=31-Zr(g);S=1<<D,D=l[D],D>b&&(b=D),g&=~S}if(g=b,g=Je()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*N2(g/1960))-g,10<g){i.timeoutHandle=Wf(Si.bind(null,i,xr,Yn),g);break}Si(i,xr,Yn);break;case 5:Si(i,xr,Yn);break;default:throw Error(r(329))}}}return yr(i,Je()),i.callbackNode===d?_y.bind(null,i):null}function Lh(i,l){var d=fl;return i.current.memoizedState.isDehydrated&&(_i(i,l).flags|=256),i=ju(i,l),i!==2&&(l=xr,xr=d,l!==null&&Fh(l)),i}function Fh(i){xr===null?xr=i:xr.push.apply(xr,i)}function C2(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var b=d[g],S=b.getSnapshot;b=b.value;try{if(!en(S(),b))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Os(i,l){for(l&=~Rh,l&=~vu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-Zr(l),g=1<<d;i[d]=-1,l&=~g}}function Sy(i){if((Qe&6)!==0)throw Error(r(327));Ao();var l=Tc(i,0);if((l&1)===0)return yr(i,Je()),null;var d=ju(i,l);if(i.tag!==0&&d===2){var g=gf(i);g!==0&&(l=g,d=Lh(i,g))}if(d===1)throw d=dl,_i(i,0),Os(i,l),yr(i,Je()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Si(i,xr,Yn),yr(i,Je()),null}function Uh(i,l){var d=Qe;Qe|=1;try{return i(l)}finally{Qe=d,Qe===0&&(To=Je()+500,Kc&&Cs())}}function ji(i){As!==null&&As.tag===0&&(Qe&6)===0&&Ao();var l=Qe;Qe|=1;var d=Wr.transition,g=st;try{if(Wr.transition=null,st=1,i)return i()}finally{st=g,Wr.transition=d,Qe=l,(Qe&6)===0&&Cs()}}function Bh(){Pr=Po.current,ft(Po)}function _i(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,r2(d)),Nt!==null)for(d=Nt.return;d!==null;){var g=d;switch(Xf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Yc();break;case 3:Co(),ft(pr),ft(rr),ch();break;case 5:ah(g);break;case 4:Co();break;case 13:ft(vt);break;case 19:ft(vt);break;case 10:rh(g.type._context);break;case 22:case 23:Bh()}d=d.return}if(Ut=i,Nt=i=Rs(i.current,null),Zt=Pr=l,Dt=0,dl=null,Rh=vu=bi=0,xr=fl=null,xi!==null){for(l=0;l<xi.length;l++)if(d=xi[l],g=d.interleaved,g!==null){d.interleaved=null;var b=g.next,S=d.pending;if(S!==null){var D=S.next;S.next=b,g.next=D}d.pending=g}xi=null}return i}function Ny(i,l){do{var d=Nt;try{if(th(),iu.current=cu,ou){for(var g=gt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}ou=!1}if(wi=0,Ft=At=gt=null,il=!1,ol=0,Oh.current=null,d===null||d.return===null){Dt=1,dl=l,Nt=null;break}e:{var S=i,D=d.return,M=d,U=l;if(l=Zt,M.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,me=M,ve=me.tag;if((me.mode&1)===0&&(ve===0||ve===11||ve===15)){var he=me.alternate;he?(me.updateQueue=he.updateQueue,me.memoizedState=he.memoizedState,me.lanes=he.lanes):(me.updateQueue=null,me.memoizedState=null)}var be=Xx(D);if(be!==null){be.flags&=-257,Jx(be,D,M,S,l),be.mode&1&&Kx(S,X,l),l=be,U=X;var Ne=l.updateQueue;if(Ne===null){var Ce=new Set;Ce.add(U),l.updateQueue=Ce}else Ne.add(U);break e}else{if((l&1)===0){Kx(S,X,l),Vh();break e}U=Error(r(426))}}else if(mt&&M.mode&1){var bt=Xx(D);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),Jx(bt,D,M,S,l),Zf(ko(U,M));break e}}S=U=ko(U,M),Dt!==4&&(Dt=2),fl===null?fl=[S]:fl.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var Y=Yx(S,U,l);wx(S,Y);break e;case 1:M=U;var V=S.type,G=S.stateNode;if((S.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ts===null||!Ts.has(G)))){S.flags|=65536,l&=-l,S.lanes|=l;var xe=Gx(S,M,l);wx(S,xe);break e}}S=S.return}while(S!==null)}Ey(d)}catch(Ee){l=Ee,Nt===d&&d!==null&&(Nt=d=d.return);continue}break}while(!0)}function Cy(){var i=pu.current;return pu.current=cu,i===null?cu:i}function Vh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ut===null||(bi&268435455)===0&&(vu&268435455)===0||Os(Ut,Zt)}function ju(i,l){var d=Qe;Qe|=2;var g=Cy();(Ut!==i||Zt!==l)&&(Yn=null,_i(i,l));do try{k2();break}catch(b){Ny(i,b)}while(!0);if(th(),Qe=d,pu.current=g,Nt!==null)throw Error(r(261));return Ut=null,Zt=0,Dt}function k2(){for(;Nt!==null;)ky(Nt)}function E2(){for(;Nt!==null&&!Fn();)ky(Nt)}function ky(i){var l=Ay(i.alternate,i,Pr);i.memoizedProps=i.pendingProps,l===null?Ey(i):Nt=l,Oh.current=null}function Ey(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=w2(d,l,Pr),d!==null){Nt=d;return}}else{if(d=b2(d,l),d!==null){d.flags&=32767,Nt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dt=6,Nt=null;return}}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=i}while(l!==null);Dt===0&&(Dt=5)}function Si(i,l,d){var g=st,b=Wr.transition;try{Wr.transition=null,st=1,P2(i,l,d,g)}finally{Wr.transition=b,st=g}return null}function P2(i,l,d,g){do Ao();while(As!==null);if((Qe&6)!==0)throw Error(r(327));d=i.finishedWork;var b=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=d.lanes|d.childLanes;if(ck(i,S),i===Ut&&(Nt=Ut=null,Zt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||xu||(xu=!0,Dy(ao,function(){return Ao(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Wr.transition,Wr.transition=null;var D=st;st=1;var M=Qe;Qe|=4,Oh.current=null,_2(i,d),xy(d,i),Kk(Vf),Oc=!!Bf,Vf=Bf=null,i.current=d,S2(d),vs(),Qe=M,st=D,Wr.transition=S}else i.current=d;if(xu&&(xu=!1,As=i,yu=b),S=i.pendingLanes,S===0&&(Ts=null),nk(d.stateNode),yr(i,Je()),l!==null)for(g=i.onRecoverableError,d=0;d<l.length;d++)b=l[d],g(b.value,{componentStack:b.stack,digest:b.digest});if(gu)throw gu=!1,i=Mh,Mh=null,i;return(yu&1)!==0&&i.tag!==0&&Ao(),S=i.pendingLanes,(S&1)!==0?i===Ih?hl++:(hl=0,Ih=i):hl=0,Cs(),null}function Ao(){if(As!==null){var i=vg(yu),l=Wr.transition,d=st;try{if(Wr.transition=null,st=16>i?16:i,As===null)var g=!1;else{if(i=As,As=null,yu=0,(Qe&6)!==0)throw Error(r(331));var b=Qe;for(Qe|=4,_e=i.current;_e!==null;){var S=_e,D=S.child;if((_e.flags&16)!==0){var M=S.deletions;if(M!==null){for(var U=0;U<M.length;U++){var X=M[U];for(_e=X;_e!==null;){var me=_e;switch(me.tag){case 0:case 11:case 15:ul(8,me,S)}var ve=me.child;if(ve!==null)ve.return=me,_e=ve;else for(;_e!==null;){me=_e;var he=me.sibling,be=me.return;if(hy(me),me===X){_e=null;break}if(he!==null){he.return=be,_e=he;break}_e=be}}}var Ne=S.alternate;if(Ne!==null){var Ce=Ne.child;if(Ce!==null){Ne.child=null;do{var bt=Ce.sibling;Ce.sibling=null,Ce=bt}while(Ce!==null)}}_e=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,_e=D;else e:for(;_e!==null;){if(S=_e,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ul(9,S,S.return)}var Y=S.sibling;if(Y!==null){Y.return=S.return,_e=Y;break e}_e=S.return}}var V=i.current;for(_e=V;_e!==null;){D=_e;var G=D.child;if((D.subtreeFlags&2064)!==0&&G!==null)G.return=D,_e=G;else e:for(D=V;_e!==null;){if(M=_e,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:mu(9,M)}}catch(Ee){wt(M,M.return,Ee)}if(M===D){_e=null;break e}var xe=M.sibling;if(xe!==null){xe.return=M.return,_e=xe;break e}_e=M.return}}if(Qe=b,Cs(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(lo,i)}catch{}g=!0}return g}finally{st=d,Wr.transition=l}}return!1}function Py(i,l,d){l=ko(d,l),l=Yx(i,l,1),i=Es(i,l,1),l=dr(),i!==null&&(Ia(i,1,l),yr(i,l))}function wt(i,l,d){if(i.tag===3)Py(i,i,d);else for(;l!==null;){if(l.tag===3){Py(l,i,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ts===null||!Ts.has(g))){i=ko(d,i),i=Gx(l,i,1),l=Es(l,i,1),i=dr(),l!==null&&(Ia(l,1,i),yr(l,i));break}}l=l.return}}function T2(i,l,d){var g=i.pingCache;g!==null&&g.delete(l),l=dr(),i.pingedLanes|=i.suspendedLanes&d,Ut===i&&(Zt&d)===d&&(Dt===4||Dt===3&&(Zt&130023424)===Zt&&500>Je()-$h?_i(i,0):Rh|=d),yr(i,l)}function Ty(i,l){l===0&&((i.mode&1)===0?l=1:(l=Pc,Pc<<=1,(Pc&130023424)===0&&(Pc=4194304)));var d=dr();i=Wn(i,l),i!==null&&(Ia(i,l,d),yr(i,d))}function A2(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),Ty(i,d)}function D2(i,l){var d=0;switch(i.tag){case 13:var g=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),Ty(i,d)}var Ay;Ay=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||pr.current)gr=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return gr=!1,y2(i,l,d);gr=(i.flags&131072)!==0}else gr=!1,mt&&(l.flags&1048576)!==0&&ux(l,Jc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;fu(i,l),i=l.pendingProps;var b=yo(l,rr.current);No(l,d),b=fh(null,l,g,i,b,d);var S=hh();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,vr(g)?(S=!0,Gc(l)):S=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ih(l),b.updater=uu,l.stateNode=b,b._reactInternals=l,yh(l,g,i,d),l=_h(null,l,g,!0,S,d)):(l.tag=0,mt&&S&&Kf(l),ur(null,l,b,d),l=l.child),l;case 16:g=l.elementType;e:{switch(fu(i,l),i=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=R2(g),i=rn(g,i),b){case 0:l=jh(null,l,g,i,d);break e;case 1:l=ny(null,l,g,i,d);break e;case 11:l=Qx(null,l,g,i,d);break e;case 14:l=Zx(null,l,g,rn(g.type,i),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:rn(g,b),jh(i,l,g,b,d);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:rn(g,b),ny(i,l,g,b,d);case 3:e:{if(sy(l),i===null)throw Error(r(387));g=l.pendingProps,S=l.memoizedState,b=S.element,yx(i,l),nu(l,g,null,d);var D=l.memoizedState;if(g=D.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){b=ko(Error(r(423)),l),l=iy(i,l,g,d,b);break e}else if(g!==b){b=ko(Error(r(424)),l),l=iy(i,l,g,d,b);break e}else for(Er=_s(l.stateNode.containerInfo.firstChild),kr=l,mt=!0,tn=null,d=gx(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(jo(),g===b){l=qn(i,l,d);break e}ur(i,l,g,d)}l=l.child}return l;case 5:return jx(l),i===null&&Qf(l),g=l.type,b=l.pendingProps,S=i!==null?i.memoizedProps:null,D=b.children,zf(g,b)?D=null:S!==null&&zf(g,S)&&(l.flags|=32),ry(i,l),ur(i,l,D,d),l.child;case 6:return i===null&&Qf(l),null;case 13:return oy(i,l,d);case 4:return oh(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=_o(l,null,g,d):ur(i,l,g,d),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:rn(g,b),Qx(i,l,g,b,d);case 7:return ur(i,l,l.pendingProps,d),l.child;case 8:return ur(i,l,l.pendingProps.children,d),l.child;case 12:return ur(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,S=l.memoizedProps,D=b.value,at(eu,g._currentValue),g._currentValue=D,S!==null)if(en(S.value,D)){if(S.children===b.children&&!pr.current){l=qn(i,l,d);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var M=S.dependencies;if(M!==null){D=S.child;for(var U=M.firstContext;U!==null;){if(U.context===g){if(S.tag===1){U=Hn(-1,d&-d),U.tag=2;var X=S.updateQueue;if(X!==null){X=X.shared;var me=X.pending;me===null?U.next=U:(U.next=me.next,me.next=U),X.pending=U}}S.lanes|=d,U=S.alternate,U!==null&&(U.lanes|=d),nh(S.return,d,l),M.lanes|=d;break}U=U.next}}else if(S.tag===10)D=S.type===l.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(r(341));D.lanes|=d,M=D.alternate,M!==null&&(M.lanes|=d),nh(D,d,l),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===l){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}ur(i,l,b.children,d),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,No(l,d),b=Vr(b),g=g(b),l.flags|=1,ur(i,l,g,d),l.child;case 14:return g=l.type,b=rn(g,l.pendingProps),b=rn(g.type,b),Zx(i,l,g,b,d);case 15:return ey(i,l,l.type,l.pendingProps,d);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:rn(g,b),fu(i,l),l.tag=1,vr(g)?(i=!0,Gc(l)):i=!1,No(l,d),Hx(l,g,b),yh(l,g,b,d),_h(null,l,g,!0,i,d);case 19:return ly(i,l,d);case 22:return ty(i,l,d)}throw Error(r(156,l.tag))};function Dy(i,l){return tr(i,l)}function O2(i,l,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(i,l,d,g){return new O2(i,l,d,g)}function zh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function R2(i){if(typeof i=="function")return zh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===B)return 14}return 2}function Rs(i,l){var d=i.alternate;return d===null?(d=Hr(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function _u(i,l,d,g,b,S){var D=2;if(g=i,typeof i=="function")zh(i)&&(D=1);else if(typeof i=="string")D=5;else e:switch(i){case E:return Ni(d.children,b,S,l);case O:D=8,b|=8;break;case R:return i=Hr(12,d,l,b|2),i.elementType=R,i.lanes=S,i;case q:return i=Hr(13,d,l,b),i.elementType=q,i.lanes=S,i;case I:return i=Hr(19,d,l,b),i.elementType=I,i.lanes=S,i;case z:return Su(d,b,S,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:D=10;break e;case Z:D=9;break e;case Q:D=11;break e;case B:D=14;break e;case F:D=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Hr(D,d,l,b),l.elementType=i,l.type=g,l.lanes=S,l}function Ni(i,l,d,g){return i=Hr(7,i,g,l),i.lanes=d,i}function Su(i,l,d,g){return i=Hr(22,i,g,l),i.elementType=z,i.lanes=d,i.stateNode={isHidden:!1},i}function Wh(i,l,d){return i=Hr(6,i,null,l),i.lanes=d,i}function Hh(i,l,d){return l=Hr(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function $2(i,l,d,g,b){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function qh(i,l,d,g,b,S,D,M,U){return i=new $2(i,l,d,M,U),l===1?(l=1,S===!0&&(l|=8)):l=0,S=Hr(3,null,null,l),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(S),i}function M2(i,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:i,containerInfo:l,implementation:d}}function Oy(i){if(!i)return Ns;i=i._reactInternals;e:{if(ae(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(vr(d))return ax(i,d,l)}return l}function Ry(i,l,d,g,b,S,D,M,U){return i=qh(d,g,!0,i,b,S,D,M,U),i.context=Oy(null),d=i.current,g=dr(),b=Ds(d),S=Hn(g,b),S.callback=l??null,Es(d,S,b),i.current.lanes=b,Ia(i,b,g),yr(i,g),i}function Nu(i,l,d,g){var b=l.current,S=dr(),D=Ds(b);return d=Oy(d),l.context===null?l.context=d:l.pendingContext=d,l=Hn(S,D),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Es(b,l,D),i!==null&&(on(i,b,D,S),ru(i,b,D)),D}function Cu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function $y(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function Yh(i,l){$y(i,l),(i=i.alternate)&&$y(i,l)}function I2(){return null}var My=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gh(i){this._internalRoot=i}ku.prototype.render=Gh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));Nu(i,l,null,null)},ku.prototype.unmount=Gh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ji(function(){Nu(null,i,null,null)}),l[Un]=null}};function ku(i){this._internalRoot=i}ku.prototype.unstable_scheduleHydration=function(i){if(i){var l=yg();i={blockedOn:null,target:i,priority:l};for(var d=0;d<ws.length&&l!==0&&l<ws[d].priority;d++);ws.splice(d,0,i),d===0&&jg(i)}};function Kh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Eu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function L2(i,l,d,g,b){if(b){if(typeof g=="function"){var S=g;g=function(){var X=Cu(D);S.call(X)}}var D=Ry(l,g,i,0,null,!1,!1,"",Iy);return i._reactRootContainer=D,i[Un]=D.current,Ja(i.nodeType===8?i.parentNode:i),ji(),D}for(;b=i.lastChild;)i.removeChild(b);if(typeof g=="function"){var M=g;g=function(){var X=Cu(U);M.call(X)}}var U=qh(i,0,!1,null,null,!1,!1,"",Iy);return i._reactRootContainer=U,i[Un]=U.current,Ja(i.nodeType===8?i.parentNode:i),ji(function(){Nu(l,U,d,g)}),U}function Pu(i,l,d,g,b){var S=d._reactRootContainer;if(S){var D=S;if(typeof b=="function"){var M=b;b=function(){var U=Cu(D);M.call(U)}}Nu(l,D,i,b)}else D=L2(d,l,i,b,g);return Cu(D)}gg=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=Ma(l.pendingLanes);d!==0&&(yf(l,d|1),yr(l,Je()),(Qe&6)===0&&(To=Je()+500,Cs()))}break;case 13:ji(function(){var g=Wn(i,1);if(g!==null){var b=dr();on(g,i,1,b)}}),Yh(i,1)}},wf=function(i){if(i.tag===13){var l=Wn(i,134217728);if(l!==null){var d=dr();on(l,i,134217728,d)}Yh(i,134217728)}},xg=function(i){if(i.tag===13){var l=Ds(i),d=Wn(i,l);if(d!==null){var g=dr();on(d,i,l,g)}Yh(i,l)}},yg=function(){return st},wg=function(i,l){var d=st;try{return st=i,l()}finally{st=d}},oo=function(i,l,d){switch(l){case"input":if(rt(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==i&&g.form===i.form){var b=qc(g);if(!b)throw Error(r(90));ye(g),rt(g,b)}}}break;case"textarea":pc(i,d);break;case"select":l=d.value,l!=null&&ds(i,!!d.multiple,l,!1)}},jc=Uh,_c=ji;var F2={usingClientEntryPoint:!1,Events:[el,go,qc,wc,bc,Uh]},ml={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U2={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=It(i),i===null?null:i.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||I2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{lo=Tu.inject(U2),jn=Tu}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2,wr.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(l))throw Error(r(200));return M2(i,l,null,d)},wr.createRoot=function(i,l){if(!Kh(i))throw Error(r(299));var d=!1,g="",b=My;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=qh(i,1,!1,null,null,d,!1,g,b),i[Un]=l.current,Ja(i.nodeType===8?i.parentNode:i),new Gh(l)},wr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=It(l),i=i===null?null:i.stateNode,i},wr.flushSync=function(i){return ji(i)},wr.hydrate=function(i,l,d){if(!Eu(l))throw Error(r(200));return Pu(null,i,l,!0,d)},wr.hydrateRoot=function(i,l,d){if(!Kh(i))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,b=!1,S="",D=My;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=Ry(l,null,i,1,d??null,b,!1,S,D),i[Un]=l.current,Ja(i),g)for(i=0;i<g.length;i++)d=g[i],b=d._getVersion,b=b(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,b]:l.mutableSourceEagerHydrationData.push(d,b);return new ku(l)},wr.render=function(i,l,d){if(!Eu(l))throw Error(r(200));return Pu(null,i,l,!1,d)},wr.unmountComponentAtNode=function(i){if(!Eu(i))throw Error(r(40));return i._reactRootContainer?(ji(function(){Pu(null,null,i,!1,function(){i._reactRootContainer=null,i[Un]=null})}),!0):!1},wr.unstable_batchedUpdates=Uh,wr.unstable_renderSubtreeIntoContainer=function(i,l,d,g){if(!Eu(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Pu(i,l,d,!1,g)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var Hy;function Bb(){if(Hy)return Qh.exports;Hy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qh.exports=K2(),Qh.exports}var qy;function X2(){if(qy)return Au;qy=1;var e=Bb();return Au.createRoot=e.createRoot,Au.hydrateRoot=e.hydrateRoot,Au}var J2=X2();const Q2=Jl(J2);var Vi=Bb();const Vb=Jl(Vi);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(this,arguments)}var qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qs||(qs={}));const Yy="popstate";function Z2(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:c,hash:u}=n.location;return Km("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:id(o)}return tE(t,r,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eE(){return Math.random().toString(36).substr(2,8)}function Gy(e,t){return{usr:e.state,key:e.key,idx:t}}function Km(e,t,r,n){return r===void 0&&(r=null),Il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ya(t):t,{state:r,key:t&&t.key||n||eE()})}function id(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ya(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tE(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,c=o.history,u=qs.Pop,f=null,h=m();h==null&&(h=0,c.replaceState(Il({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function p(){u=qs.Pop;let _=m(),N=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:N})}function x(_,N){u=qs.Push;let C=Km(w.location,_,N);h=m()+1;let k=Gy(C,h),A=w.createHref(C);try{c.pushState(k,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(A)}a&&f&&f({action:u,location:w.location,delta:1})}function y(_,N){u=qs.Replace;let C=Km(w.location,_,N);h=m();let k=Gy(C,h),A=w.createHref(C);c.replaceState(k,"",A),a&&f&&f({action:u,location:w.location,delta:0})}function j(_){let N=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof _=="string"?_:id(_);return C=C.replace(/ $/,"%20"),Et(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let w={get action(){return u},get location(){return e(o,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Yy,p),f=_,()=>{o.removeEventListener(Yy,p),f=null}},createHref(_){return t(o,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:y,go(_){return c.go(_)}};return w}var Ky;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ky||(Ky={}));function rE(e,t,r){return r===void 0&&(r="/"),nE(e,t,r)}function nE(e,t,r,n){let o=typeof t=="string"?ya(t):t,a=Wp(o.pathname||"/",r);if(a==null)return null;let c=Wb(e);sE(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=vE(a);u=hE(c[f],h)}return u}function Wb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,c,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Et(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Ys([n,f.relativePath]),m=r.concat(f);a.children&&a.children.length>0&&(Et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Wb(a.children,t,m,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:dE(h,a.index),routesMeta:m})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,c);else for(let f of Hb(a.path))o(a,c,f)}),t}function Hb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let c=Hb(n.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function sE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iE=/^:[\w-]+$/,oE=3,aE=2,lE=1,cE=10,uE=-2,Xy=e=>e==="*";function dE(e,t){let r=e.split("/"),n=r.length;return r.some(Xy)&&(n+=uE),t&&(n+=aE),r.filter(o=>!Xy(o)).reduce((o,a)=>o+(iE.test(a)?oE:a===""?lE:cE),n)}function fE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function hE(e,t,r){let{routesMeta:n}=e,o={},a="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=mE({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:Ys([a,p.pathname]),pathnameBase:wE(Ys([a,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(a=Ys([a,p.pathnameBase]))}return c}function mE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=pE(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let w=u[p]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[p];return y&&!j?h[x]=void 0:h[x]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function pE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function vE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gE(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?ya(e):e;return{pathname:r?r.startsWith("/")?r:xE(r,t):t,search:bE(n),hash:jE(o)}}function xE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function tm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qb(e,t){let r=yE(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yb(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=ya(e):(o=Il({},e),Et(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),p-=1;o.pathname=x.join("/")}u=p>=0?t[p]:"/"}let f=gE(o,u),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const Ys=e=>e.join("/").replace(/\/\/+/g,"/"),wE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _E(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gb=["post","put","patch","delete"];new Set(Gb);const SE=["get",...Gb];new Set(SE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}const Hp=v.createContext(null),NE=v.createContext(null),zi=v.createContext(null),Cd=v.createContext(null),ri=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Kb=v.createContext(null);function CE(e,t){let{relative:r}=t===void 0?{}:t;Ql()||Et(!1);let{basename:n,navigator:o}=v.useContext(zi),{hash:a,pathname:c,search:u}=Jb(e,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:Ys([n,c])),o.createHref({pathname:f,search:u,hash:a})}function Ql(){return v.useContext(Cd)!=null}function ls(){return Ql()||Et(!1),v.useContext(Cd).location}function Xb(e){v.useContext(zi).static||v.useLayoutEffect(e)}function Xt(){let{isDataRoute:e}=v.useContext(ri);return e?FE():kE()}function kE(){Ql()||Et(!1);let e=v.useContext(Hp),{basename:t,future:r,navigator:n}=v.useContext(zi),{matches:o}=v.useContext(ri),{pathname:a}=ls(),c=JSON.stringify(qb(o,r.v7_relativeSplatPath)),u=v.useRef(!1);return Xb(()=>{u.current=!0}),v.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Yb(h,JSON.parse(c),a,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ys([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,a,e])}function kd(){let{matches:e}=v.useContext(ri),t=e[e.length-1];return t?t.params:{}}function Jb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(zi),{matches:o}=v.useContext(ri),{pathname:a}=ls(),c=JSON.stringify(qb(o,n.v7_relativeSplatPath));return v.useMemo(()=>Yb(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function EE(e,t){return PE(e,t)}function PE(e,t,r,n){Ql()||Et(!1);let{navigator:o,static:a}=v.useContext(zi),{matches:c}=v.useContext(ri),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=ls(),p;if(t){var x;let N=typeof t=="string"?ya(t):t;h==="/"||(x=N.pathname)!=null&&x.startsWith(h)||Et(!1),p=N}else p=m;let y=p.pathname||"/",j=y;if(h!=="/"){let N=h.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=rE(e,{pathname:j}),_=RE(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Ys([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Ys([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,n);return t&&_?v.createElement(Cd.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qs.Pop}},_):_}function TE(){let e=LE(),t=_E(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:o},r):null,null)}const AE=v.createElement(TE,null);class DE extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(ri.Provider,{value:this.props.routeContext},v.createElement(Kb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OE(e){let{routeContext:t,match:r,children:n}=e,o=v.useContext(Hp);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ri.Provider,{value:t},n)}function RE(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Et(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:y}=r,j=p.route.loader&&x[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,x)=>{let y,j=!1,w=null,_=null;r&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||AE,f&&(h<0&&x===0?(UE("route-fallback"),j=!0,_=null):h===x&&(j=!0,_=p.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,x+1)),C=()=>{let k;return y?k=w:j?k=_:p.route.Component?k=v.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,v.createElement(OE,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?v.createElement(DE,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var Qb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qb||{}),Zb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zb||{});function $E(e){let t=v.useContext(Hp);return t||Et(!1),t}function ME(e){let t=v.useContext(NE);return t||Et(!1),t}function IE(e){let t=v.useContext(ri);return t||Et(!1),t}function ej(e){let t=IE(),r=t.matches[t.matches.length-1];return r.route.id||Et(!1),r.route.id}function LE(){var e;let t=v.useContext(Kb),r=ME(),n=ej();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function FE(){let{router:e}=$E(Qb.UseNavigateStable),t=ej(Zb.UseNavigateStable),r=v.useRef(!1);return Xb(()=>{r.current=!0}),v.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ll({fromRouteId:t},a)))},[e,t])}const Jy={};function UE(e,t,r){Jy[e]||(Jy[e]=!0)}function BE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jt(e){Et(!1)}function VE(e){let{basename:t="/",children:r=null,location:n,navigationType:o=qs.Pop,navigator:a,static:c=!1,future:u}=e;Ql()&&Et(!1);let f=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:f,navigator:a,static:c,future:Ll({v7_relativeSplatPath:!1},u)}),[f,u,a,c]);typeof n=="string"&&(n=ya(n));let{pathname:m="/",search:p="",hash:x="",state:y=null,key:j="default"}=n,w=v.useMemo(()=>{let _=Wp(m,f);return _==null?null:{location:{pathname:_,search:p,hash:x,state:y,key:j},navigationType:o}},[f,m,p,x,y,j,o]);return w==null?null:v.createElement(zi.Provider,{value:h},v.createElement(Cd.Provider,{children:r,value:w}))}function zE(e){let{children:t,location:r}=e;return EE(Xm(t),r)}new Promise(()=>{});function Xm(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,o)=>{if(!v.isValidElement(n))return;let a=[...t,o];if(n.type===v.Fragment){r.push.apply(r,Xm(n.props.children,a));return}n.type!==jt&&Et(!1),!n.props.index||!n.props.children||Et(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Xm(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function WE(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function HE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qE(e,t){return e.button===0&&(!t||t==="_self")&&!HE(e)}function Qm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function YE(e,t){let r=Qm(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(a=>{r.append(o,a)})}),r}const GE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KE="6";try{window.__reactRouterVersion=KE}catch{}const XE="startTransition",Qy=Nd[XE];function JE(e){let{basename:t,children:r,future:n,window:o}=e,a=v.useRef();a.current==null&&(a.current=Z2({window:o,v5Compat:!0}));let c=a.current,[u,f]=v.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=v.useCallback(p=>{h&&Qy?Qy(()=>f(p)):f(p)},[f,h]);return v.useLayoutEffect(()=>c.listen(m),[c,m]),v.useEffect(()=>BE(n),[n]),v.createElement(VE,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=v.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:p}=t,x=WE(t,GE),{basename:y}=v.useContext(zi),j,w=!1;if(typeof h=="string"&&ZE.test(h)&&(j=h,QE))try{let k=new URL(window.location.href),A=h.startsWith("//")?new URL(k.protocol+h):new URL(h),T=Wp(A.pathname,y);A.origin===k.origin&&T!=null?h=T+A.search+A.hash:w=!0}catch{}let _=CE(h,{relative:o}),N=eP(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:p});function C(k){n&&n(k),k.defaultPrevented||N(k)}return v.createElement("a",Jm({},x,{href:j||_,onClick:w||a?n:C,ref:r,target:f}))});var Zy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zy||(Zy={}));var e0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(e0||(e0={}));function eP(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:c,viewTransition:u}=t===void 0?{}:t,f=Xt(),h=ls(),m=Jb(e,{relative:c});return v.useCallback(p=>{if(qE(p,r)){p.preventDefault();let x=n!==void 0?n:id(h)===id(m);f(e,{replace:x,state:o,preventScrollReset:a,relative:c,viewTransition:u})}},[h,f,m,n,o,r,e,a,c,u])}function tP(e){let t=v.useRef(Qm(e)),r=v.useRef(!1),n=ls(),o=v.useMemo(()=>YE(n.search,r.current?null:t.current),[n.search]),a=Xt(),c=v.useCallback((u,f)=>{const h=Qm(typeof u=="function"?u(o):u);r.current=!0,a("?"+h,f)},[a,o]);return[o,c]}const tj=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ed=v.createContext({}),Pd=v.createContext(null),Td=typeof document<"u",qp=Td?v.useLayoutEffect:v.useEffect,rj=v.createContext({strict:!1}),Yp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rP="framerAppearId",nj="data-"+Yp(rP);function nP(e,t,r,n){const{visualElement:o}=v.useContext(Ed),a=v.useContext(rj),c=v.useContext(Pd),u=v.useContext(tj).reducedMotion,f=v.useRef();n=n||a.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current;v.useInsertionEffect(()=>{h&&h.update(r,c)});const m=v.useRef(!!(r[nj]&&!window.HandoffComplete));return qp(()=>{h&&(h.render(),m.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(h.updateFeatures(),!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),h}function Yo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sP(e,t,r){return v.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Yo(r)&&(r.current=n))},[t])}function Fl(e){return typeof e=="string"||Array.isArray(e)}function Ad(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Gp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kp=["initial",...Gp];function Dd(e){return Ad(e.animate)||Kp.some(t=>Fl(e[t]))}function sj(e){return!!(Dd(e)||e.variants)}function iP(e,t){if(Dd(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Fl(r)?r:void 0,animate:Fl(n)?n:void 0}}return e.inherit!==!1?t:{}}function oP(e){const{initial:t,animate:r}=iP(e,v.useContext(Ed));return v.useMemo(()=>({initial:t,animate:r}),[t0(t),t0(r)])}function t0(e){return Array.isArray(e)?e.join(" "):e}const r0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const e in r0)Ul[e]={isEnabled:t=>r0[e].some(r=>!!t[r])};function aP(e){for(const t in e)Ul[t]={...Ul[t],...e[t]}}const Xp=v.createContext({}),ij=v.createContext({}),lP=Symbol.for("motionComponentSymbol");function cP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:o}){e&&aP(e);function a(u,f){let h;const m={...v.useContext(tj),...u,layoutId:uP(u)},{isStatic:p}=m,x=oP(u),y=n(u,p);if(!p&&Td){x.visualElement=nP(o,y,m,t);const j=v.useContext(ij),w=v.useContext(rj).strict;x.visualElement&&(h=x.visualElement.loadFeatures(m,w,e,j))}return v.createElement(Ed.Provider,{value:x},h&&x.visualElement?v.createElement(h,{visualElement:x.visualElement,...m}):null,r(o,u,sP(y,x.visualElement,f),y,p,x.visualElement))}const c=v.forwardRef(a);return c[lP]=o,c}function uP({layoutId:e}){const t=v.useContext(Xp).id;return t&&e!==void 0?t+"-"+e:e}function dP(e){function t(n,o={}){return cP(e(n,o))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,o)=>(r.has(o)||r.set(o,t(o)),r.get(o))})}const fP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jp(e){return typeof e!="string"||e.includes("-")?!1:!!(fP.indexOf(e)>-1||/[A-Z]/.test(e))}const od={};function hP(e){Object.assign(od,e)}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wi=new Set(Zl);function oj(e,{layout:t,layoutId:r}){return Wi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!od[e]||e==="opacity")}const Sr=e=>!!(e&&e.getVelocity),mP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pP=Zl.length;function vP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,o){let a="";for(let c=0;c<pP;c++){const u=Zl[c];if(e[u]!==void 0){const f=mP[u]||u;a+=`${f}(${e[u]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(e,n?"":a):r&&n&&(a="none"),a}const aj=e=>t=>typeof t=="string"&&t.startsWith(e),lj=aj("--"),Zm=aj("var(--"),gP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Js=(e,t,r)=>Math.min(Math.max(r,e),t),Hi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},El={...Hi,transform:e=>Js(0,1,e)},Du={...Hi,default:1},Pl=e=>Math.round(e*1e5)/1e5,Od=/(-)?([\d]*\.?[\d])+/g,cj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ec(e){return typeof e=="string"}const tc=e=>({test:t=>ec(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ls=tc("deg"),En=tc("%"),Ie=tc("px"),wP=tc("vh"),bP=tc("vw"),n0={...En,parse:e=>En.parse(e)/100,transform:e=>En.transform(e*100)},s0={...Hi,transform:Math.round},uj={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Ls,rotateX:Ls,rotateY:Ls,rotateZ:Ls,scale:Du,scaleX:Du,scaleY:Du,scaleZ:Du,skew:Ls,skewX:Ls,skewY:Ls,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:El,originX:n0,originY:n0,originZ:Ie,zIndex:s0,fillOpacity:El,strokeOpacity:El,numOctaves:s0};function Qp(e,t,r,n){const{style:o,vars:a,transform:c,transformOrigin:u}=e;let f=!1,h=!1,m=!0;for(const p in t){const x=t[p];if(lj(p)){a[p]=x;continue}const y=uj[p],j=xP(x,y);if(Wi.has(p)){if(f=!0,c[p]=j,!m)continue;x!==(y.default||0)&&(m=!1)}else p.startsWith("origin")?(h=!0,u[p]=j):o[p]=j}if(t.transform||(f||n?o.transform=vP(e.transform,r,m,n):o.transform&&(o.transform="none")),h){const{originX:p="50%",originY:x="50%",originZ:y=0}=u;o.transformOrigin=`${p} ${x} ${y}`}}const Zp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dj(e,t,r){for(const n in t)!Sr(t[n])&&!oj(n,r)&&(e[n]=t[n])}function jP({transformTemplate:e},t,r){return v.useMemo(()=>{const n=Zp();return Qp(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function _P(e,t,r){const n=e.style||{},o={};return dj(o,n,e),Object.assign(o,jP(e,t,r)),e.transformValues?e.transformValues(o):o}function SP(e,t,r){const n={},o=_P(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const NP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NP.has(e)}let fj=e=>!ad(e);function CP(e){e&&(fj=t=>t.startsWith("on")?!ad(t):e(t))}try{CP(require("@emotion/is-prop-valid").default)}catch{}function kP(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(fj(o)||r===!0&&ad(o)||!t&&!ad(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function i0(e,t,r){return typeof e=="string"?e:Ie.transform(t+r*e)}function EP(e,t,r){const n=i0(t,e.x,e.width),o=i0(r,e.y,e.height);return`${n} ${o}`}const PP={offset:"stroke-dashoffset",array:"stroke-dasharray"},TP={offset:"strokeDashoffset",array:"strokeDasharray"};function AP(e,t,r=1,n=0,o=!0){e.pathLength=1;const a=o?PP:TP;e[a.offset]=Ie.transform(-n);const c=Ie.transform(t),u=Ie.transform(r);e[a.array]=`${c} ${u}`}function ev(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:a,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...h},m,p,x){if(Qp(e,h,m,x),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:j,dimensions:w}=e;y.transform&&(w&&(j.transform=y.transform),delete y.transform),w&&(o!==void 0||a!==void 0||j.transform)&&(j.transformOrigin=EP(w,o!==void 0?o:.5,a!==void 0?a:.5)),t!==void 0&&(y.x=t),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),c!==void 0&&AP(y,c,u,f,!1)}const hj=()=>({...Zp(),attrs:{}}),tv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DP(e,t,r,n){const o=v.useMemo(()=>{const a=hj();return ev(a,t,{enableHardwareAcceleration:!1},tv(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};dj(a,e.style,e),o.style={...a,...o.style}}return o}function OP(e=!1){return(r,n,o,{latestValues:a},c)=>{const f=(Jp(r)?DP:SP)(n,a,c,r),m={...kP(n,typeof r=="string",e),...f,ref:o},{children:p}=n,x=v.useMemo(()=>Sr(p)?p.get():p,[p]);return v.createElement(r,{...m,children:x})}}function mj(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const pj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vj(e,t,r,n){mj(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(pj.has(o)?o:Yp(o),t.attrs[o])}function rv(e,t){const{style:r}=e,n={};for(const o in r)(Sr(r[o])||t.style&&Sr(t.style[o])||oj(o,e))&&(n[o]=r[o]);return n}function gj(e,t){const r=rv(e,t);for(const n in e)if(Sr(e[n])||Sr(t[n])){const o=Zl.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=e[n]}return r}function nv(e,t,r,n={},o={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),t}function xj(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const ld=e=>Array.isArray(e),RP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$P=e=>ld(e)?e[e.length-1]||0:e;function ed(e){const t=Sr(e)?e.get():e;return RP(t)?t.toValue():t}function MP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,o,a){const c={latestValues:IP(n,o,a,e),renderState:t()};return r&&(c.mount=u=>r(n,u,c)),c}const yj=e=>(t,r)=>{const n=v.useContext(Ed),o=v.useContext(Pd),a=()=>MP(e,t,n,o);return r?a():xj(a)};function IP(e,t,r,n){const o={},a=n(e,{});for(const x in a)o[x]=ed(a[x]);let{initial:c,animate:u}=e;const f=Dd(e),h=sj(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=r?r.initial===!1:!1;m=m||c===!1;const p=m?u:c;return p&&typeof p!="boolean"&&!Ad(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const j=nv(e,y);if(!j)return;const{transitionEnd:w,transition:_,...N}=j;for(const C in N){let k=N[C];if(Array.isArray(k)){const A=m?k.length-1:0;k=k[A]}k!==null&&(o[C]=k)}for(const C in w)o[C]=w[C]}),o}const _t=e=>e;class o0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function LP(e){let t=new o0,r=new o0,n=0,o=!1,a=!1;const c=new WeakSet,u={schedule:(f,h=!1,m=!1)=>{const p=m&&o,x=p?t:r;return h&&c.add(f),x.add(f)&&p&&o&&(n=t.order.length),f},cancel:f=>{r.remove(f),c.delete(f)},process:f=>{if(o){a=!0;return}if(o=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let h=0;h<n;h++){const m=t.order[h];m(f),c.has(m)&&(u.schedule(m),e())}o=!1,a&&(a=!1,u.process(f))}};return u}const Ou=["prepare","read","update","preRender","render","postRender"],FP=40;function UP(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=Ou.reduce((p,x)=>(p[x]=LP(()=>r=!0),p),{}),c=p=>a[p].process(o),u=()=>{const p=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(p-o.timestamp,FP),1),o.timestamp=p,o.isProcessing=!0,Ou.forEach(c),o.isProcessing=!1,r&&t&&(n=!1,e(u))},f=()=>{r=!0,n=!0,o.isProcessing||e(u)};return{schedule:Ou.reduce((p,x)=>{const y=a[x];return p[x]=(j,w=!1,_=!1)=>(r||f(),y.schedule(j,w,_)),p},{}),cancel:p=>Ou.forEach(x=>a[x].cancel(p)),state:o,steps:a}}const{schedule:ct,cancel:rs,state:or,steps:rm}=UP(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0),BP={useVisualState:yj({scrapeMotionValuesFromProps:gj,createRenderState:hj,onMount:(e,t,{renderState:r,latestValues:n})=>{ct.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ct.render(()=>{ev(r,n,{enableHardwareAcceleration:!1},tv(t.tagName),e.transformTemplate),vj(t,r)})}})},VP={useVisualState:yj({scrapeMotionValuesFromProps:rv,createRenderState:Zp})};function zP(e,{forwardMotionProps:t=!1},r,n){return{...Jp(e)?BP:VP,preloadedFeatures:r,useRender:OP(t),createVisualElement:n,Component:e}}function Jn(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const wj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const WP=e=>t=>wj(t)&&e(t,Rd(t));function Zn(e,t,r,n){return Jn(e,t,WP(r),n)}const HP=(e,t)=>r=>t(e(r)),Gs=(...e)=>e.reduce(HP);function bj(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const a0=bj("dragHorizontal"),l0=bj("dragVertical");function jj(e){let t=!1;if(e==="y")t=l0();else if(e==="x")t=a0();else{const r=a0(),n=l0();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function _j(){const e=jj(!0);return e?(e(),!1):!0}class ni{constructor(t){this.isMounted=!1,this.node=t}update(){}}function c0(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),o=(a,c)=>{if(a.pointerType==="touch"||_j())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[n]&&ct.update(()=>u[n](a,c))};return Zn(e.current,r,o,{passive:!e.getProps()[n]})}class qP extends ni{mount(){this.unmount=Gs(c0(this.node,!0),c0(this.node,!1))}unmount(){}}class YP extends ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gs(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Sj=(e,t)=>t?e===t?!0:Sj(e,t.parentElement):!1;function nm(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Rd(r))}class GP extends ni{constructor(){super(...arguments),this.removeStartListeners=_t,this.removeEndListeners=_t,this.removeAccessibleListeners=_t,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Zn(window,"pointerup",(u,f)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:p}=this.node.getProps();ct.update(()=>{!p&&!Sj(this.node.current,u.target)?m&&m(u,f):h&&h(u,f)})},{passive:!(n.onTap||n.onPointerUp)}),c=Zn(window,"pointercancel",(u,f)=>this.cancelPress(u,f),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Gs(a,c),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const c=u=>{u.key!=="Enter"||!this.checkPressEnd()||nm("up",(f,h)=>{const{onTap:m}=this.node.getProps();m&&ct.update(()=>m(f,h))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",c),nm("down",(u,f)=>{this.startPress(u,f)})},r=Jn(this.node.current,"keydown",t),n=()=>{this.isPressing&&nm("cancel",(a,c)=>this.cancelPress(a,c))},o=Jn(this.node.current,"blur",n);this.removeAccessibleListeners=Gs(r,o)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ct.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_j()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ct.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Zn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gs(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ep=new WeakMap,sm=new WeakMap,KP=e=>{const t=ep.get(e.target);t&&t(e)},XP=e=>{e.forEach(KP)};function JP({root:e,...t}){const r=e||document;sm.has(r)||sm.set(r,{});const n=sm.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(XP,{root:e,...t})),n[o]}function QP(e,t,r){const n=JP(t);return ep.set(e,r),n.observe(e),()=>{ep.delete(e),n.unobserve(e)}}const ZP={some:0,all:1};class eT extends ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:a}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:ZP[o]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),x=h?m:p;x&&x(f)};return QP(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(tT(t,r))&&this.startObserver()}unmount(){}}function tT({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const rT={inView:{Feature:eT},tap:{Feature:GP},focus:{Feature:YP},hover:{Feature:qP}};function Nj(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function nT(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function sT(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function $d(e,t,r){const n=e.getProps();return nv(n,t,r!==void 0?r:n.custom,nT(e),sT(e))}let sv=_t;const Mi=e=>e*1e3,es=e=>e/1e3,iT={current:!1},Cj=e=>Array.isArray(e)&&typeof e[0]=="number";function kj(e){return!!(!e||typeof e=="string"&&Ej[e]||Cj(e)||Array.isArray(e)&&e.every(kj))}const Cl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Ej={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function Pj(e){if(e)return Cj(e)?Cl(e):Array.isArray(e)?e.map(Pj):Ej[e]}function oT(e,t,r,{delay:n=0,duration:o,repeat:a=0,repeatType:c="loop",ease:u,times:f}={}){const h={[t]:r};f&&(h.offset=f);const m=Pj(u);return Array.isArray(m)&&(h.easing=m),e.animate(h,{delay:n,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}function aT(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Tj=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,lT=1e-7,cT=12;function uT(e,t,r,n,o){let a,c,u=0;do c=t+(r-t)/2,a=Tj(c,n,o)-e,a>0?r=c:t=c;while(Math.abs(a)>lT&&++u<cT);return c}function rc(e,t,r,n){if(e===t&&r===n)return _t;const o=a=>uT(a,0,1,e,r);return a=>a===0||a===1?a:Tj(o(a),t,n)}const dT=rc(.42,0,1,1),fT=rc(0,0,.58,1),Aj=rc(.42,0,.58,1),hT=e=>Array.isArray(e)&&typeof e[0]!="number",Dj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Oj=e=>t=>1-e(1-t),iv=e=>1-Math.sin(Math.acos(e)),Rj=Oj(iv),mT=Dj(iv),$j=rc(.33,1.53,.69,.99),ov=Oj($j),pT=Dj(ov),vT=e=>(e*=2)<1?.5*ov(e):.5*(2-Math.pow(2,-10*(e-1))),gT={linear:_t,easeIn:dT,easeInOut:Aj,easeOut:fT,circIn:iv,circInOut:mT,circOut:Rj,backIn:ov,backInOut:pT,backOut:$j,anticipate:vT},u0=e=>{if(Array.isArray(e)){sv(e.length===4);const[t,r,n,o]=e;return rc(t,r,n,o)}else if(typeof e=="string")return gT[e];return e},av=(e,t)=>r=>!!(ec(r)&&yP.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Mj=(e,t,r)=>n=>{if(!ec(n))return n;const[o,a,c,u]=n.match(Od);return{[e]:parseFloat(o),[t]:parseFloat(a),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},xT=e=>Js(0,255,e),im={...Hi,transform:e=>Math.round(xT(e))},Ri={test:av("rgb","red"),parse:Mj("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+im.transform(e)+", "+im.transform(t)+", "+im.transform(r)+", "+Pl(El.transform(n))+")"};function yT(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const tp={test:av("#"),parse:yT,transform:Ri.transform},Go={test:av("hsl","hue"),parse:Mj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+En.transform(Pl(t))+", "+En.transform(Pl(r))+", "+Pl(El.transform(n))+")"},fr={test:e=>Ri.test(e)||tp.test(e)||Go.test(e),parse:e=>Ri.test(e)?Ri.parse(e):Go.test(e)?Go.parse(e):tp.parse(e),transform:e=>ec(e)?e:e.hasOwnProperty("red")?Ri.transform(e):Go.transform(e)},yt=(e,t,r)=>-r*e+r*t+e;function om(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function wT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,a=0,c=0;if(!t)o=a=c=r;else{const u=r<.5?r*(1+t):r+t-r*t,f=2*r-u;o=om(f,u,e+1/3),a=om(f,u,e),c=om(f,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:n}}const am=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},bT=[tp,Ri,Go],jT=e=>bT.find(t=>t.test(e));function d0(e){const t=jT(e);let r=t.parse(e);return t===Go&&(r=wT(r)),r}const Ij=(e,t)=>{const r=d0(e),n=d0(t),o={...r};return a=>(o.red=am(r.red,n.red,a),o.green=am(r.green,n.green,a),o.blue=am(r.blue,n.blue,a),o.alpha=yt(r.alpha,n.alpha,a),Ri.transform(o))};function _T(e){var t,r;return isNaN(e)&&ec(e)&&(((t=e.match(Od))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(cj))===null||r===void 0?void 0:r.length)||0)>0}const Lj={regex:gP,countKey:"Vars",token:"${v}",parse:_t},Fj={regex:cj,countKey:"Colors",token:"${c}",parse:fr.parse},Uj={regex:Od,countKey:"Numbers",token:"${n}",parse:Hi.parse};function lm(e,{regex:t,countKey:r,token:n,parse:o}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(o)))}function cd(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&lm(r,Lj),lm(r,Fj),lm(r,Uj),r}function Bj(e){return cd(e).values}function Vj(e){const{values:t,numColors:r,numVars:n,tokenised:o}=cd(e),a=t.length;return c=>{let u=o;for(let f=0;f<a;f++)f<n?u=u.replace(Lj.token,c[f]):f<n+r?u=u.replace(Fj.token,fr.transform(c[f])):u=u.replace(Uj.token,Pl(c[f]));return u}}const ST=e=>typeof e=="number"?0:e;function NT(e){const t=Bj(e);return Vj(e)(t.map(ST))}const Qs={test:_T,parse:Bj,createTransformer:Vj,getAnimatableNone:NT},zj=(e,t)=>r=>`${r>0?t:e}`;function Wj(e,t){return typeof e=="number"?r=>yt(e,t,r):fr.test(e)?Ij(e,t):e.startsWith("var(")?zj(e,t):qj(e,t)}const Hj=(e,t)=>{const r=[...e],n=r.length,o=e.map((a,c)=>Wj(a,t[c]));return a=>{for(let c=0;c<n;c++)r[c]=o[c](a);return r}},CT=(e,t)=>{const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=Wj(e[o],t[o]));return o=>{for(const a in n)r[a]=n[a](o);return r}},qj=(e,t)=>{const r=Qs.createTransformer(t),n=cd(e),o=cd(t);return n.numVars===o.numVars&&n.numColors===o.numColors&&n.numNumbers>=o.numNumbers?Gs(Hj(n.values,o.values),r):zj(e,t)},Bl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},f0=(e,t)=>r=>yt(e,t,r);function kT(e){return typeof e=="number"?f0:typeof e=="string"?fr.test(e)?Ij:qj:Array.isArray(e)?Hj:typeof e=="object"?CT:f0}function ET(e,t,r){const n=[],o=r||kT(e[0]),a=e.length-1;for(let c=0;c<a;c++){let u=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||_t:t;u=Gs(f,u)}n.push(u)}return n}function Yj(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const a=e.length;if(sv(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=ET(t,n,o),u=c.length,f=h=>{let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Bl(e[m],e[m+1],h);return c[m](p)};return r?h=>f(Js(e[0],e[a-1],h)):f}function PT(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=Bl(0,t,n);e.push(yt(r,1,o))}}function TT(e){const t=[0];return PT(t,e.length-1),t}function AT(e,t){return e.map(r=>r*t)}function DT(e,t){return e.map(()=>t||Aj).splice(0,e.length-1)}function ud({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=hT(n)?n.map(u0):u0(n),a={done:!1,value:t[0]},c=AT(r&&r.length===t.length?r:TT(t),e),u=Yj(c,t,{ease:Array.isArray(o)?o:DT(t,o)});return{calculatedDuration:e,next:f=>(a.value=u(f),a.done=f>=e,a)}}function Gj(e,t){return t?e*(1e3/t):0}const OT=5;function Kj(e,t,r){const n=Math.max(t-OT,0);return Gj(r-e(n),t-n)}const cm=.001,RT=.01,$T=10,MT=.05,IT=1;function LT({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let o,a,c=1-t;c=Js(MT,IT,c),e=Js(RT,$T,es(e)),c<1?(o=h=>{const m=h*c,p=m*e,x=m-r,y=rp(h,c),j=Math.exp(-p);return cm-x/y*j},a=h=>{const p=h*c*e,x=p*r+r,y=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-p),w=rp(Math.pow(h,2),c);return(-o(h)+cm>0?-1:1)*((x-y)*j)/w}):(o=h=>{const m=Math.exp(-h*e),p=(h-r)*e+1;return-cm+m*p},a=h=>{const m=Math.exp(-h*e),p=(r-h)*(e*e);return m*p});const u=5/e,f=UT(o,a,u);if(e=Mi(e),isNaN(f))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const FT=12;function UT(e,t,r){let n=r;for(let o=1;o<FT;o++)n=n-e(n)/t(n);return n}function rp(e,t){return e*Math.sqrt(1-t*t)}const BT=["duration","bounce"],VT=["stiffness","damping","mass"];function h0(e,t){return t.some(r=>e[r]!==void 0)}function zT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!h0(e,VT)&&h0(e,BT)){const r=LT(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Xj({keyframes:e,restDelta:t,restSpeed:r,...n}){const o=e[0],a=e[e.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=zT({...n,velocity:-es(n.velocity||0)}),y=p||0,j=f/(2*Math.sqrt(u*h)),w=a-o,_=es(Math.sqrt(u/h)),N=Math.abs(w)<5;r||(r=N?.01:2),t||(t=N?.005:.5);let C;if(j<1){const k=rp(_,j);C=A=>{const T=Math.exp(-j*_*A);return a-T*((y+j*_*w)/k*Math.sin(k*A)+w*Math.cos(k*A))}}else if(j===1)C=k=>a-Math.exp(-_*k)*(w+(y+_*w)*k);else{const k=_*Math.sqrt(j*j-1);C=A=>{const T=Math.exp(-j*_*A),P=Math.min(k*A,300);return a-T*((y+j*_*w)*Math.sinh(P)+k*w*Math.cosh(P))/k}}return{calculatedDuration:x&&m||null,next:k=>{const A=C(k);if(x)c.done=k>=m;else{let T=y;k!==0&&(j<1?T=Kj(C,k,A):T=0);const P=Math.abs(T)<=r,E=Math.abs(a-A)<=t;c.done=P&&E}return c.value=c.done?a:A,c}}}function m0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const p=e[0],x={done:!1,value:p},y=O=>u!==void 0&&O<u||f!==void 0&&O>f,j=O=>u===void 0?f:f===void 0||Math.abs(u-O)<Math.abs(f-O)?u:f;let w=r*t;const _=p+w,N=c===void 0?_:c(_);N!==_&&(w=N-p);const C=O=>-w*Math.exp(-O/n),k=O=>N+C(O),A=O=>{const R=C(O),W=k(O);x.done=Math.abs(R)<=h,x.value=x.done?N:W};let T,P;const E=O=>{y(x.value)&&(T=O,P=Xj({keyframes:[x.value,j(x.value)],velocity:Kj(k,O,x.value),damping:o,stiffness:a,restDelta:h,restSpeed:m}))};return E(0),{calculatedDuration:null,next:O=>{let R=!1;return!P&&T===void 0&&(R=!0,A(O),E(O)),T!==void 0&&O>T?P.next(O-T):(!R&&A(O),x)}}}const WT=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ct.update(t,!0),stop:()=>rs(t),now:()=>or.isProcessing?or.timestamp:performance.now()}},p0=2e4;function v0(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<p0;)t+=r,n=e.next(t);return t>=p0?1/0:t}const HT={decay:m0,inertia:m0,tween:ud,keyframes:ud,spring:Xj};function dd({autoplay:e=!0,delay:t=0,driver:r=WT,keyframes:n,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",onPlay:f,onStop:h,onComplete:m,onUpdate:p,...x}){let y=1,j=!1,w,_;const N=()=>{_=new Promise($=>{w=$})};N();let C;const k=HT[o]||ud;let A;k!==ud&&typeof n[0]!="number"&&(A=Yj([0,100],n,{clamp:!1}),n=[0,100]);const T=k({...x,keyframes:n});let P;u==="mirror"&&(P=k({...x,keyframes:[...n].reverse(),velocity:-(x.velocity||0)}));let E="idle",O=null,R=null,W=null;T.calculatedDuration===null&&a&&(T.calculatedDuration=v0(T));const{calculatedDuration:Z}=T;let Q=1/0,q=1/0;Z!==null&&(Q=Z+c,q=Q*(a+1)-c);let I=0;const B=$=>{if(R===null)return;y>0&&(R=Math.min(R,$)),y<0&&(R=Math.min($-q/y,R)),O!==null?I=O:I=Math.round($-R)*y;const K=I-t*(y>=0?1:-1),ne=y>=0?K<0:K>q;I=Math.max(K,0),E==="finished"&&O===null&&(I=q);let ce=I,se=T;if(a){const pe=Math.min(I,q)/Q;let ue=Math.floor(pe),oe=pe%1;!oe&&pe>=1&&(oe=1),oe===1&&ue--,ue=Math.min(ue,a+1),!!(ue%2)&&(u==="reverse"?(oe=1-oe,c&&(oe-=c/Q)):u==="mirror"&&(se=P)),ce=Js(0,1,oe)*Q}const ie=ne?{done:!1,value:n[0]}:se.next(ce);A&&(ie.value=A(ie.value));let{done:te}=ie;!ne&&Z!==null&&(te=y>=0?I>=q:I<=0);const fe=O===null&&(E==="finished"||E==="running"&&te);return p&&p(ie.value),fe&&L(),ie},F=()=>{C&&C.stop(),C=void 0},z=()=>{E="idle",F(),w(),N(),R=W=null},L=()=>{E="finished",m&&m(),F(),w()},H=()=>{if(j)return;C||(C=r(B));const $=C.now();f&&f(),O!==null?R=$-O:(!R||E==="finished")&&(R=$),E==="finished"&&N(),W=R,O=null,E="running",C.start()};e&&H();const ee={then($,K){return _.then($,K)},get time(){return es(I)},set time($){$=Mi($),I=$,O!==null||!C||y===0?O=$:R=C.now()-$/y},get duration(){const $=T.calculatedDuration===null?v0(T):T.calculatedDuration;return es($)},get speed(){return y},set speed($){$===y||!C||(y=$,ee.time=es(I))},get state(){return E},play:H,pause:()=>{E="paused",O=I},stop:()=>{j=!0,E!=="idle"&&(E="idle",h&&h(),z())},cancel:()=>{W!==null&&B(W),z()},complete:()=>{E="finished"},sample:$=>(R=0,B($))};return ee}function qT(e){let t;return()=>(t===void 0&&(t=e()),t)}const YT=qT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),GT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ru=10,KT=2e4,XT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!kj(t.ease);function JT(e,t,{onUpdate:r,onComplete:n,...o}){if(!(YT()&&GT.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let c=!1,u,f,h=!1;const m=()=>{f=new Promise(k=>{u=k})};m();let{keyframes:p,duration:x=300,ease:y,times:j}=o;if(XT(t,o)){const k=dd({...o,repeat:0,delay:0});let A={done:!1,value:p[0]};const T=[];let P=0;for(;!A.done&&P<KT;)A=k.sample(P),T.push(A.value),P+=Ru;j=void 0,p=T,x=P-Ru,y="linear"}const w=oT(e.owner.current,t,p,{...o,duration:x,ease:y,times:j}),_=()=>{h=!1,w.cancel()},N=()=>{h=!0,ct.update(_),u(),m()};return w.onfinish=()=>{h||(e.set(aT(p,o)),n&&n(),N())},{then(k,A){return f.then(k,A)},attachTimeline(k){return w.timeline=k,w.onfinish=null,_t},get time(){return es(w.currentTime||0)},set time(k){w.currentTime=Mi(k)},get speed(){return w.playbackRate},set speed(k){w.playbackRate=k},get duration(){return es(x)},play:()=>{c||(w.play(),rs(_))},pause:()=>w.pause(),stop:()=>{if(c=!0,w.playState==="idle")return;const{currentTime:k}=w;if(k){const A=dd({...o,autoplay:!1});e.setWithVelocity(A.sample(k-Ru).value,A.sample(k).value,Ru)}N()},complete:()=>{h||w.finish()},cancel:N}}function QT({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const o=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:_t,pause:_t,stop:_t,then:a=>(a(),Promise.resolve()),cancel:_t,complete:_t});return t?dd({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const ZT={type:"spring",stiffness:500,damping:25,restSpeed:10},eA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tA={type:"keyframes",duration:.8},rA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nA=(e,{keyframes:t})=>t.length>2?tA:Wi.has(e)?e.startsWith("scale")?eA(t[1]):ZT:rA,np=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qs.test(t)||t==="0")&&!t.startsWith("url(")),sA=new Set(["brightness","contrast","saturate","opacity"]);function iA(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Od)||[];if(!n)return e;const o=r.replace(n,"");let a=sA.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+o+")"}const oA=/([a-z-]*)\(.*?\)/g,sp={...Qs,getAnimatableNone:e=>{const t=e.match(oA);return t?t.map(iA).join(" "):e}},aA={...uj,color:fr,backgroundColor:fr,outlineColor:fr,fill:fr,stroke:fr,borderColor:fr,borderTopColor:fr,borderRightColor:fr,borderBottomColor:fr,borderLeftColor:fr,filter:sp,WebkitFilter:sp},lv=e=>aA[e];function Jj(e,t){let r=lv(e);return r!==sp&&(r=Qs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Qj=e=>/^0[^.\s]+$/.test(e);function lA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Qj(e)}function cA(e,t,r,n){const o=np(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const c=n.from!==void 0?n.from:e.get();let u;const f=[];for(let h=0;h<a.length;h++)a[h]===null&&(a[h]=h===0?c:a[h-1]),lA(a[h])&&f.push(h),typeof a[h]=="string"&&a[h]!=="none"&&a[h]!=="0"&&(u=a[h]);if(o&&f.length&&u)for(let h=0;h<f.length;h++){const m=f[h];a[m]=Jj(t,u)}return a}function uA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}function cv(e,t){return e[t]||e.default||e}const dA={skipAnimations:!1},uv=(e,t,r,n={})=>o=>{const a=cv(n,e)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Mi(c);const f=cA(t,e,r,a),h=f[0],m=f[f.length-1],p=np(e,h),x=np(e,m);let y={keyframes:f,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:j=>{t.set(j),a.onUpdate&&a.onUpdate(j)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}};if(uA(a)||(y={...y,...nA(e,y)}),y.duration&&(y.duration=Mi(y.duration)),y.repeatDelay&&(y.repeatDelay=Mi(y.repeatDelay)),!p||!x||iT.current||a.type===!1||dA.skipAnimations)return QT(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=JT(t,e,y);if(j)return j}return dd(y)};function fd(e){return!!(Sr(e)&&e.add)}const Zj=e=>/^\-?\d*\.?\d+$/.test(e);function dv(e,t){e.indexOf(t)===-1&&e.push(t)}function fv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class hv{constructor(){this.subscriptions=[]}add(t){return dv(this.subscriptions,t),()=>fv(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fA=e=>!isNaN(parseFloat(e));class hA{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,o=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:c}=or;this.lastUpdated!==c&&(this.timeDelta=a,this.lastUpdated=c,ct.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ct.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=fA(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hv);const n=this.events[t].add(r);return t==="change"?()=>{n(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Gj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function na(e,t){return new hA(e,t)}const e_=e=>t=>t.test(e),mA={test:e=>e==="auto",parse:e=>e},t_=[Hi,Ie,En,Ls,bP,wP,mA],vl=e=>t_.find(e_(e)),pA=[...t_,fr,Qs],vA=e=>pA.find(e_(e));function gA(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,na(r))}function xA(e,t){const r=$d(e,t);let{transitionEnd:n={},transition:o={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const c in a){const u=$P(a[c]);gA(e,c,u)}}function yA(e,t,r){var n,o;const a=Object.keys(t).filter(u=>!e.hasValue(u)),c=a.length;if(c)for(let u=0;u<c;u++){const f=a[u],h=t[f];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(o=(n=r[f])!==null&&n!==void 0?n:e.readValue(f))!==null&&o!==void 0?o:t[f]),m!=null&&(typeof m=="string"&&(Zj(m)||Qj(m))?m=parseFloat(m):!vA(m)&&Qs.test(h)&&(m=Jj(f,h)),e.addValue(f,na(m,{owner:e})),r[f]===void 0&&(r[f]=m),m!==null&&e.setBaseTarget(f,m))}}function wA(e,t){return t?(t[e]||t.default||t).from:void 0}function bA(e,t,r){const n={};for(const o in e){const a=wA(o,t);if(a!==void 0)n[o]=a;else{const c=r.getValue(o);c&&(n[o]=c.get())}}return n}function jA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function _A(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function r_(e,t,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...u}=e.makeTargetAnimatable(t);const f=e.getValue("willChange");n&&(a=n);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in u){const x=e.getValue(p),y=u[p];if(!x||y===void 0||m&&jA(m,p))continue;const j={delay:r,elapsed:0,...cv(a||{},p)};if(window.HandoffAppearAnimations){const N=e.getProps()[nj];if(N){const C=window.HandoffAppearAnimations(N,p,x,ct);C!==null&&(j.elapsed=C,j.isHandoff=!0)}}let w=!j.isHandoff&&!_A(x,y);if(j.type==="spring"&&(x.getVelocity()||j.velocity)&&(w=!1),x.animation&&(w=!1),w)continue;x.start(uv(p,x,y,e.shouldReduceMotion&&Wi.has(p)?{type:!1}:j));const _=x.animation;fd(f)&&(f.add(p),_.then(()=>f.remove(p))),h.push(_)}return c&&Promise.all(h).then(()=>{c&&xA(e,c)}),h}function ip(e,t,r={}){const n=$d(e,t,r.custom);let{transition:o=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const a=n?()=>Promise.all(r_(e,n,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=o;return SA(e,t,h+f,m,p,r)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,h]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>h())}else return Promise.all([a(),c(r.delay)])}function SA(e,t,r=0,n=0,o=1,a){const c=[],u=(e.variantChildren.size-1)*n,f=o===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(e.variantChildren).sort(NA).forEach((h,m)=>{h.notify("AnimationStart",t),c.push(ip(h,t,{...a,delay:r+f(m)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function NA(e,t){return e.sortNodePosition(t)}function CA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(a=>ip(e,a,r));n=Promise.all(o)}else if(typeof t=="string")n=ip(e,t,r);else{const o=typeof t=="function"?$d(e,t,r.custom):t;n=Promise.all(r_(e,o,r))}return n.then(()=>e.notify("AnimationComplete",t))}const kA=[...Gp].reverse(),EA=Gp.length;function PA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>CA(e,r,n)))}function TA(e){let t=PA(e);const r=DA();let n=!0;const o=(f,h)=>{const m=$d(e,h);if(m){const{transition:p,transitionEnd:x,...y}=m;f={...f,...y,...x}}return f};function a(f){t=f(e)}function c(f,h){const m=e.getProps(),p=e.getVariantContext(!0)||{},x=[],y=new Set;let j={},w=1/0;for(let N=0;N<EA;N++){const C=kA[N],k=r[C],A=m[C]!==void 0?m[C]:p[C],T=Fl(A),P=C===h?k.isActive:null;P===!1&&(w=N);let E=A===p[C]&&A!==m[C]&&T;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),k.protectedKeys={...j},!k.isActive&&P===null||!A&&!k.prevProp||Ad(A)||typeof A=="boolean")continue;let R=AA(k.prevProp,A)||C===h&&k.isActive&&!E&&T||N>w&&T,W=!1;const Z=Array.isArray(A)?A:[A];let Q=Z.reduce(o,{});P===!1&&(Q={});const{prevResolvedValues:q={}}=k,I={...q,...Q},B=F=>{R=!0,y.has(F)&&(W=!0,y.delete(F)),k.needsAnimating[F]=!0};for(const F in I){const z=Q[F],L=q[F];if(j.hasOwnProperty(F))continue;let H=!1;ld(z)&&ld(L)?H=!Nj(z,L):H=z!==L,H?z!==void 0?B(F):y.add(F):z!==void 0&&y.has(F)?B(F):k.protectedKeys[F]=!0}k.prevProp=A,k.prevResolvedValues=Q,k.isActive&&(j={...j,...Q}),n&&e.blockInitialAnimation&&(R=!1),R&&(!E||W)&&x.push(...Z.map(F=>({animation:F,options:{type:C,...f}})))}if(y.size){const N={};y.forEach(C=>{const k=e.getBaseTarget(C);k!==void 0&&(N[C]=k)}),x.push({animation:N})}let _=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(x):Promise.resolve()}function u(f,h,m){var p;if(r[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(y=>{var j;return(j=y.animationState)===null||j===void 0?void 0:j.setActive(f,h)}),r[f].isActive=h;const x=c(m,f);for(const y in r)r[y].protectedKeys={};return x}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>r}}function AA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Nj(t,e):!1}function Ci(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DA(){return{animate:Ci(!0),whileInView:Ci(),whileHover:Ci(),whileTap:Ci(),whileDrag:Ci(),whileFocus:Ci(),exit:Ci()}}class OA extends ni{constructor(t){super(t),t.animationState||(t.animationState=TA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ad(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let RA=0;class $A extends ni{constructor(){super(...arguments),this.id=RA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const MA={animation:{Feature:OA},exit:{Feature:$A}},g0=(e,t)=>Math.abs(e-t);function IA(e,t){const r=g0(e.x,t.x),n=g0(e.y,t.y);return Math.sqrt(r**2+n**2)}class n_{constructor(t,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=dm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=IA(p.offset,{x:0,y:0})>=3;if(!x&&!y)return;const{point:j}=p,{timestamp:w}=or;this.history.push({...j,timestamp:w});const{onStart:_,onMove:N}=this.handlers;x||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=um(x,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=dm(p.type==="pointercancel"?this.lastMoveEventInfo:um(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,_),j&&j(p,_)},!wj(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=Rd(t),u=um(c,this.transformPagePoint),{point:f}=u,{timestamp:h}=or;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=r;m&&m(t,dm(u,this.history)),this.removeListeners=Gs(Zn(this.contextWindow,"pointermove",this.handlePointerMove),Zn(this.contextWindow,"pointerup",this.handlePointerUp),Zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function um(e,t){return t?{point:t(e.point)}:e}function x0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dm({point:e},t){return{point:e,delta:x0(e,s_(t)),offset:x0(e,LA(t)),velocity:FA(t,.1)}}function LA(e){return e[0]}function s_(e){return e[e.length-1]}function FA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=s_(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>Mi(t)));)r--;if(!n)return{x:0,y:0};const a=es(o.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-n.x)/a,y:(o.y-n.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Rr(e){return e.max-e.min}function op(e,t=0,r=.01){return Math.abs(e-t)<=r}function y0(e,t,r,n=.5){e.origin=n,e.originPoint=yt(t.min,t.max,e.origin),e.scale=Rr(r)/Rr(t),(op(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=yt(r.min,r.max,e.origin)-e.originPoint,(op(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tl(e,t,r,n){y0(e.x,t.x,r.x,n?n.originX:void 0),y0(e.y,t.y,r.y,n?n.originY:void 0)}function w0(e,t,r){e.min=r.min+t.min,e.max=e.min+Rr(t)}function UA(e,t,r){w0(e.x,t.x,r.x),w0(e.y,t.y,r.y)}function b0(e,t,r){e.min=t.min-r.min,e.max=e.min+Rr(t)}function Al(e,t,r){b0(e.x,t.x,r.x),b0(e.y,t.y,r.y)}function BA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?yt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?yt(r,e,n.max):Math.min(e,r)),e}function j0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function VA(e,{top:t,left:r,bottom:n,right:o}){return{x:j0(e.x,r,o),y:j0(e.y,t,n)}}function _0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function zA(e,t){return{x:_0(e.x,t.x),y:_0(e.y,t.y)}}function WA(e,t){let r=.5;const n=Rr(e),o=Rr(t);return o>n?r=Bl(t.min,t.max-n,e.min):n>o&&(r=Bl(e.min,e.max-o,t.min)),Js(0,1,r)}function HA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ap=.35;function qA(e=ap){return e===!1?e=0:e===!0&&(e=ap),{x:S0(e,"left","right"),y:S0(e,"top","bottom")}}function S0(e,t,r){return{min:N0(e,t),max:N0(e,r)}}function N0(e,t){return typeof e=="number"?e:e[t]||0}const C0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:C0(),y:C0()}),k0=()=>({min:0,max:0}),Ct=()=>({x:k0(),y:k0()});function Yr(e){return[e("x"),e("y")]}function i_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function YA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function GA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function fm(e){return e===void 0||e===1}function lp({scale:e,scaleX:t,scaleY:r}){return!fm(e)||!fm(t)||!fm(r)}function Ei(e){return lp(e)||o_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function o_(e){return E0(e.x)||E0(e.y)}function E0(e){return e&&e!=="0%"}function hd(e,t,r){const n=e-r,o=t*n;return r+o}function P0(e,t,r,n,o){return o!==void 0&&(e=hd(e,o,n)),hd(e,r,n)+t}function cp(e,t=0,r=1,n,o){e.min=P0(e.min,t,r,n,o),e.max=P0(e.max,t,r,n,o)}function a_(e,{x:t,y:r}){cp(e.x,t.translate,t.scale,t.originPoint),cp(e.y,r.translate,r.scale,r.originPoint)}function KA(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let a,c;for(let u=0;u<o;u++){a=r[u],c=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,a_(e,c)),n&&Ei(a.latestValues)&&Xo(e,a.latestValues))}t.x=T0(t.x),t.y=T0(t.y)}function T0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zs(e,t){e.min=e.min+t,e.max=e.max+t}function A0(e,t,[r,n,o]){const a=t[o]!==void 0?t[o]:.5,c=yt(e.min,e.max,a);cp(e,t[r],t[n],c,t.scale)}const XA=["x","scaleX","originX"],JA=["y","scaleY","originY"];function Xo(e,t){A0(e.x,t,XA),A0(e.y,t,JA)}function l_(e,t){return i_(GA(e.getBoundingClientRect(),t))}function QA(e,t,r){const n=l_(e,r),{scroll:o}=t;return o&&(zs(n.x,o.offset.x),zs(n.y,o.offset.y)),n}const c_=({current:e})=>e?e.ownerDocument.defaultView:null,ZA=new WeakMap;class eD{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Rd(m,"page").point)},a=(m,p)=>{const{drag:x,dragPropagation:y,onDragStart:j}=this.getProps();if(x&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jj(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yr(_=>{let N=this.getAxisMotionValue(_).get()||0;if(En.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[_];k&&(N=Rr(k)*(parseFloat(N)/100))}}this.originPoint[_]=N}),j&&ct.update(()=>j(m,p),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,p)=>{const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:j,onDrag:w}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:_}=p;if(y&&this.currentDirection===null){this.currentDirection=tD(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),w&&w(m,p)},u=(m,p)=>this.stop(m,p),f=()=>Yr(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new n_(t,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:c_(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ct.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!$u(t,o,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=BA(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Yo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=VA(o.layoutBox,r):this.constraints=!1,this.elastic=qA(n),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Yr(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=HA(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Yo(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=QA(n,o.root,this.visualElement.getTransformPagePoint());let c=zA(o.layout.layoutBox,a);if(r){const u=r(YA(c));this.hasMutatedConstraints=!!u,u&&(c=i_(u))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Yr(m=>{if(!$u(m,r,this.currentDirection))return;let p=f&&f[m]||{};c&&(p={min:0,max:0});const x=o?200:1e6,y=o?40:1e7,j={type:"inertia",velocity:n?t[m]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(uv(t,n,0,r))}stopAnimation(){Yr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Yr(r=>{const{drag:n}=this.getProps();if(!$u(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[r];a.set(t[r]-yt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yo(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Yr(c=>{const u=this.getAxisMotionValue(c);if(u){const f=u.get();o[c]=WA({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yr(c=>{if(!$u(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(yt(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;ZA.set(this.visualElement,this);const t=this.visualElement.current,r=Zn(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Yo(f)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),n();const c=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Yr(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=f[m].translate,p.set(p.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),r(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=ap,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function $u(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function tD(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class rD extends ni{constructor(t){super(t),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new eD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const D0=e=>(t,r)=>{e&&ct.update(()=>e(t,r))};class nD extends ni{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(t){this.session=new n_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:D0(t),onStart:D0(r),onMove:n,onEnd:(a,c)=>{delete this.session,o&&ct.update(()=>o(a,c))}}}mount(){this.removePointerDownListener=Zn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function sD(){const e=v.useContext(Pd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,o=v.useId();return v.useEffect(()=>n(o),[]),!t&&r?[!1,()=>r&&r(o)]:[!0]}const td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const gl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const r=O0(e,t.target.x),n=O0(e,t.target.y);return`${r}% ${n}%`}},iD={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Qs.parse(e);if(o.length>5)return n;const a=Qs.createTransformer(e),c=typeof o[0]!="number"?1:0,u=r.x.scale*t.x,f=r.y.scale*t.y;o[0+c]/=u,o[1+c]/=f;const h=yt(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),a(o)}};class oD extends ge.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:a}=t;hP(aD),a&&(r.group&&r.group.add(a),n&&n.register&&o&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:a}=this.props,c=n.projection;return c&&(c.isPresent=a,o||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||ct.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function u_(e){const[t,r]=sD(),n=v.useContext(Xp);return ge.createElement(oD,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(ij),isPresent:t,safeToRemove:r})}const aD={borderRadius:{...gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gl,borderTopRightRadius:gl,borderBottomLeftRadius:gl,borderBottomRightRadius:gl,boxShadow:iD},d_=["TopLeft","TopRight","BottomLeft","BottomRight"],lD=d_.length,R0=e=>typeof e=="string"?parseFloat(e):e,$0=e=>typeof e=="number"||Ie.test(e);function cD(e,t,r,n,o,a){o?(e.opacity=yt(0,r.opacity!==void 0?r.opacity:1,uD(n)),e.opacityExit=yt(t.opacity!==void 0?t.opacity:1,0,dD(n))):a&&(e.opacity=yt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<lD;c++){const u=`border${d_[c]}Radius`;let f=M0(t,u),h=M0(r,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||$0(f)===$0(h)?(e[u]=Math.max(yt(R0(f),R0(h),n),0),(En.test(h)||En.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||r.rotate)&&(e.rotate=yt(t.rotate||0,r.rotate||0,n))}function M0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const uD=f_(0,.5,Rj),dD=f_(.5,.95,_t);function f_(e,t,r){return n=>n<e?0:n>t?1:r(Bl(e,t,n))}function I0(e,t){e.min=t.min,e.max=t.max}function qr(e,t){I0(e.x,t.x),I0(e.y,t.y)}function L0(e,t,r,n,o){return e-=t,e=hd(e,1/r,n),o!==void 0&&(e=hd(e,1/o,n)),e}function fD(e,t=0,r=1,n=.5,o,a=e,c=e){if(En.test(t)&&(t=parseFloat(t),t=yt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=yt(a.min,a.max,n);e===a&&(u-=t),e.min=L0(e.min,t,r,u,o),e.max=L0(e.max,t,r,u,o)}function F0(e,t,[r,n,o],a,c){fD(e,t[r],t[n],t[o],t.scale,a,c)}const hD=["x","scaleX","originX"],mD=["y","scaleY","originY"];function U0(e,t,r,n){F0(e.x,t,hD,r?r.x:void 0,n?n.x:void 0),F0(e.y,t,mD,r?r.y:void 0,n?n.y:void 0)}function B0(e){return e.translate===0&&e.scale===1}function h_(e){return B0(e.x)&&B0(e.y)}function pD(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function m_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function V0(e){return Rr(e.x)/Rr(e.y)}class vD{constructor(){this.members=[]}add(t){dv(this.members,t),t.scheduleRender()}remove(t){if(fv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z0(e,t,r){let n="";const o=e.x.translate/t.x,a=e.y.translate/t.y;if((o||a)&&(n=`translate3d(${o}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:f,rotateX:h,rotateY:m}=r;f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const gD=(e,t)=>e.depth-t.depth;class xD{constructor(){this.children=[],this.isDirty=!1}add(t){dv(this.children,t),this.isDirty=!0}remove(t){fv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gD),this.isDirty=!1,this.children.forEach(t)}}function yD(e,t){const r=performance.now(),n=({timestamp:o})=>{const a=o-r;a>=t&&(rs(n),e(a-t))};return ct.read(n,!0),()=>rs(n)}function wD(e){window.MotionDebug&&window.MotionDebug.record(e)}function bD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function jD(e,t,r){const n=Sr(e)?e:na(e);return n.start(uv("",n,t,r)),n.animation}const W0=["","X","Y","Z"],_D={visibility:"hidden"},H0=1e3;let SD=0;const Pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function p_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},u=t==null?void 0:t()){this.id=SD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pi.totalNodes=Pi.resolvedTargetDeltas=Pi.recalculatedProjection=0,this.nodes.forEach(kD),this.nodes.forEach(DD),this.nodes.forEach(OD),this.nodes.forEach(ED),wD(Pi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new xD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bD(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),e){let p;const x=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=yD(x,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(Y0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:y,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||LD,{onLayoutAnimationStart:_,onLayoutAnimationComplete:N}=m.getProps(),C=!this.targetLayout||!m_(this.targetLayout,j)||y,k=!x&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const A={...cv(w,"layout"),onPlay:_,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else x||Y0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q0);return}this.isUpdating||this.nodes.forEach(TD),this.isUpdating=!1,this.nodes.forEach(AD),this.nodes.forEach(ND),this.nodes.forEach(CD),this.clearAllSnapshots();const u=performance.now();or.delta=Js(0,1e3/60,u-or.timestamp),or.timestamp=u,or.isProcessing=!0,rm.update.process(or),rm.preRender.process(or),rm.render.process(or),or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(PD),this.sharedNodes.forEach($D)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!h_(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&(u||Ei(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),FD(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ct();const u=c.measureViewportBox(),{scroll:f}=this.root;return f&&(zs(u.x,f.offset.x),zs(u.y,f.offset.y)),u}removeElementScroll(c){const u=Ct();qr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:p}=h;if(h!==this.root&&m&&p.layoutScroll){if(m.isRoot){qr(u,c);const{scroll:x}=this.root;x&&(zs(u.x,-x.offset.x),zs(u.y,-x.offset.y))}zs(u.x,m.offset.x),zs(u.y,m.offset.y)}}return u}applyTransform(c,u=!1){const f=Ct();qr(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Xo(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ei(m.latestValues)&&Xo(f,m.latestValues)}return Ei(this.latestValues)&&Xo(f,this.latestValues),f}removeTransform(c){const u=Ct();qr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Ei(h.latestValues))continue;lp(h.latestValues)&&h.updateSnapshot();const m=Ct(),p=h.measurePageBox();qr(m,p),U0(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Ei(this.latestValues)&&U0(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=or.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Al(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),a_(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Al(this.relativeTargetOrigin,this.target,y.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lp(this.parent.latestValues)||o_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===or.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;qr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;KA(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:j}=u;if(!j){this.projectionTransform&&(this.projectionDelta=Ko(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko());const w=this.projectionTransform;Tl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=z0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==x||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},p=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Ct(),y=f?f.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,_=this.getStack(),N=!_||_.members.length<=1,C=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(ID));this.animationProgress=0;let k;this.mixTargetDelta=A=>{const T=A/1e3;G0(p.x,c.x,T),G0(p.y,c.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Al(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MD(this.relativeTarget,this.relativeTargetOrigin,x,T),k&&pD(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ct()),qr(k,this.relativeTarget)),w&&(this.animationValues=m,cD(m,h,this.latestValues,T,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{td.hasAnimatedSinceResize=!0,this.currentAnimation=jD(0,H0,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&v_(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||Ct();const p=Rr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+p;const x=Rr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}qr(u,f),Xo(u,m),Tl(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vD),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<W0.length;m++){const p="rotate"+W0[m];f[p]&&(h[p]=f[p],c.setStaticValue(p,0))}c.render();for(const m in h)c.setStaticValue(m,h[m]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _D;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=ed(c==null?void 0:c.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ed(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ei(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=z0(this.projectionDeltaWithTransform,this.treeScale,x),m&&(h.transform=m(x,h.transform));const{x:y,y:j}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${j.origin*100}% 0`,p.animationValues?h.opacity=p===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in od){if(x[w]===void 0)continue;const{correct:_,applyTo:N}=od[w],C=h.transform==="none"?x[w]:_(x[w],p);if(N){const k=N.length;for(let A=0;A<k;A++)h[N[A]]=C}else h[w]=C}return this.options.layoutId&&(h.pointerEvents=p===this?ed(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(q0),this.root.sharedNodes.clear()}}}function ND(e){e.updateLayout()}function CD(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:a}=e.options,c=r.source!==e.layout.source;a==="size"?Yr(p=>{const x=c?r.measuredBox[p]:r.layoutBox[p],y=Rr(x);x.min=n[p].min,x.max=x.min+y}):v_(a,r.layoutBox,n)&&Yr(p=>{const x=c?r.measuredBox[p]:r.layoutBox[p],y=Rr(n[p]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const u=Ko();Tl(u,n,r.layoutBox);const f=Ko();c?Tl(f,e.applyTransform(o,!0),r.measuredBox):Tl(f,n,r.layoutBox);const h=!h_(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const j=Ct();Al(j,r.layoutBox,x.layoutBox);const w=Ct();Al(w,n,y.layoutBox),m_(j,w)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function kD(e){Pi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ED(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PD(e){e.clearSnapshot()}function q0(e){e.clearMeasurements()}function TD(e){e.isLayoutDirty=!1}function AD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Y0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DD(e){e.resolveTargetDelta()}function OD(e){e.calcProjection()}function RD(e){e.resetRotation()}function $D(e){e.removeLeadSnapshot()}function G0(e,t,r){e.translate=yt(t.translate,0,r),e.scale=yt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function K0(e,t,r,n){e.min=yt(t.min,r.min,n),e.max=yt(t.max,r.max,n)}function MD(e,t,r,n){K0(e.x,t.x,r.x,n),K0(e.y,t.y,r.y,n)}function ID(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LD={duration:.45,ease:[.4,0,.1,1]},X0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),J0=X0("applewebkit/")&&!X0("chrome/")?Math.round:_t;function Q0(e){e.min=J0(e.min),e.max=J0(e.max)}function FD(e){Q0(e.x),Q0(e.y)}function v_(e,t,r){return e==="position"||e==="preserve-aspect"&&!op(V0(t),V0(r),.2)}const UD=p_({attachResizeListener:(e,t)=>Jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hm={current:void 0},g_=p_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hm.current){const e=new UD({});e.mount(window),e.setOptions({layoutScroll:!0}),hm.current=e}return hm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BD={pan:{Feature:nD},drag:{Feature:rD,ProjectionNode:g_,MeasureLayout:u_}},VD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zD(e){const t=VD.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function up(e,t,r=1){const[n,o]=zD(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const c=a.trim();return Zj(c)?parseFloat(c):c}else return Zm(o)?up(o,t,r+1):o}function WD(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(o=>{const a=o.get();if(!Zm(a))return;const c=up(a,n);c&&o.set(c)});for(const o in t){const a=t[o];if(!Zm(a))continue;const c=up(a,n);c&&(t[o]=c,r||(r={}),r[o]===void 0&&(r[o]=a))}return{target:t,transitionEnd:r}}const HD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),x_=e=>HD.has(e),qD=e=>Object.keys(e).some(x_),Z0=e=>e===Hi||e===Ie,ew=(e,t)=>parseFloat(e.split(", ")[t]),tw=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/);if(o)return ew(o[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?ew(a[1],e):0}},YD=new Set(["x","y","z"]),GD=Zl.filter(e=>!YD.has(e));function KD(e){const t=[];return GD.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const sa={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:tw(4,13),y:tw(5,14)};sa.translateX=sa.x;sa.translateY=sa.y;const XD=(e,t,r)=>{const n=t.measureViewportBox(),o=t.current,a=getComputedStyle(o),{display:c}=a,u={};c==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(h=>{u[h]=sa[h](n,a)}),t.render();const f=t.measureViewportBox();return r.forEach(h=>{const m=t.getValue(h);m&&m.jump(u[h]),e[h]=sa[h](f,a)}),e},JD=(e,t,r={},n={})=>{t={...t},n={...n};const o=Object.keys(t).filter(x_);let a=[],c=!1;const u=[];if(o.forEach(f=>{const h=e.getValue(f);if(!e.hasValue(f))return;let m=r[f],p=vl(m);const x=t[f];let y;if(ld(x)){const j=x.length,w=x[0]===null?1:0;m=x[w],p=vl(m);for(let _=w;_<j&&x[_]!==null;_++)y?sv(vl(x[_])===y):y=vl(x[_])}else y=vl(x);if(p!==y)if(Z0(p)&&Z0(y)){const j=h.get();typeof j=="string"&&h.set(parseFloat(j)),typeof x=="string"?t[f]=parseFloat(x):Array.isArray(x)&&y===Ie&&(t[f]=x.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(m===0||x===0)?m===0?h.set(y.transform(m)):t[f]=p.transform(x):(c||(a=KD(e),c=!0),u.push(f),n[f]=n[f]!==void 0?n[f]:t[f],h.jump(x))}),u.length){const f=u.indexOf("height")>=0?window.pageYOffset:null,h=XD(t,e,u);return a.length&&a.forEach(([m,p])=>{e.getValue(m).set(p)}),e.render(),Td&&f!==null&&window.scrollTo({top:f}),{target:h,transitionEnd:n}}else return{target:t,transitionEnd:n}};function QD(e,t,r,n){return qD(t)?JD(e,t,r,n):{target:t,transitionEnd:n}}const ZD=(e,t,r,n)=>{const o=WD(e,t,n);return t=o.target,n=o.transitionEnd,QD(e,t,r,n)},dp={current:null},y_={current:!1};function eO(){if(y_.current=!0,!!Td)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dp.current=e.matches;e.addListener(t),t()}else dp.current=!1}function tO(e,t,r){const{willChange:n}=t;for(const o in t){const a=t[o],c=r[o];if(Sr(a))e.addValue(o,a),fd(n)&&n.add(o);else if(Sr(c))e.addValue(o,na(a,{owner:e})),fd(n)&&n.remove(o);else if(c!==a)if(e.hasValue(o)){const u=e.getValue(o);!u.hasAnimated&&u.set(a)}else{const u=e.getStaticValue(o);e.addValue(o,na(u!==void 0?u:a,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const rw=new WeakMap,w_=Object.keys(Ul),rO=w_.length,nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nO=Kp.length;class sO{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ct.render(this.render,!1,!0);const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=Dd(r),this.isVariantNode=sj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{});for(const p in m){const x=m[p];u[p]!==void 0&&Sr(x)&&(x.set(u[p],!1),fd(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,rw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),y_.current||eO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rw.delete(this.current),this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Wi.has(t),o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ct.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,o,a){let c,u;for(let f=0;f<rO;f++){const h=w_[f],{isEnabled:m,Feature:p,ProjectionNode:x,MeasureLayout:y}=Ul[h];x&&(c=x),m(r)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(u=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:h,drag:m,dragConstraints:p,layoutScroll:x,layoutRoot:y}=r;this.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:!!m||p&&Yo(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:a,layoutScroll:x,layoutRoot:y})}return u}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<nw.length;n++){const o=nw[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a=t["on"+o];a&&(this.propEventSubscriptions[o]=this.on(o,a))}this.prevMotionValues=tO(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<nO;n++){const o=Kp[n],a=this.props[o];(Fl(a)||a===!1)&&(r[o]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=na(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,o=typeof n=="string"||typeof n=="object"?(r=nv(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Sr(a)?a:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class b_ extends sO{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:o},a){let c=bA(n,t||{},this);if(o&&(r&&(r=o(r)),n&&(n=o(n)),c&&(c=o(c))),a){yA(this,n,c);const u=ZD(this,n,c,r);r=u.transitionEnd,n=u.target}return{transition:t,transitionEnd:r,...n}}}function iO(e){return window.getComputedStyle(e)}class oO extends b_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Wi.has(r)){const n=lv(r);return n&&n.default||0}else{const n=iO(t),o=(lj(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return l_(t,r)}build(t,r,n,o){Qp(t,r,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,r){return rv(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,o){mj(t,r,n,o)}}class aO extends b_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Wi.has(r)){const n=lv(r);return n&&n.default||0}return r=pj.has(r)?r:Yp(r),t.getAttribute(r)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(t,r){return gj(t,r)}build(t,r,n,o){ev(t,r,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,r,n,o){vj(t,r,n,o)}mount(t){this.isSVGTag=tv(t.tagName),super.mount(t)}}const lO=(e,t)=>Jp(e)?new aO(t,{enableHardwareAcceleration:!1}):new oO(t,{enableHardwareAcceleration:!0}),cO={layout:{ProjectionNode:g_,MeasureLayout:u_}},uO={...MA,...rT,...BD,...cO},je=dP((e,t)=>zP(e,t,uO,lO));function j_(){const e=v.useRef(!1);return qp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function dO(){const e=j_(),[t,r]=v.useState(0),n=v.useCallback(()=>{e.current&&r(t+1)},[t]);return[v.useCallback(()=>ct.postRender(n),[n]),t]}class fO extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hO({children:e,isPresent:t}){const r=v.useId(),n=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:f}=o.current;if(t||!n.current||!a||!c)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),v.createElement(fO,{isPresent:t,childRef:n,sizeRef:o},v.cloneElement(e,{ref:n}))}const mm=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:a,mode:c})=>{const u=xj(mO),f=v.useId(),h=v.useMemo(()=>({id:f,initial:t,isPresent:r,custom:o,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),a?void 0:[r]);return v.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),v.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),c==="popLayout"&&(e=v.createElement(hO,{isPresent:r},e)),v.createElement(Pd.Provider,{value:h},e)};function mO(){return new Map}function pO(e){return v.useEffect(()=>()=>e(),[])}const Ti=e=>e.key||"";function vO(e,t){e.forEach(r=>{const n=Ti(r);t.set(n,r)})}function gO(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const ia=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:c="sync"})=>{const u=v.useContext(Xp).forceRender||dO()[0],f=j_(),h=gO(e);let m=h;const p=v.useRef(new Map).current,x=v.useRef(m),y=v.useRef(new Map).current,j=v.useRef(!0);if(qp(()=>{j.current=!1,vO(h,y),x.current=m}),pO(()=>{j.current=!0,y.clear(),p.clear()}),j.current)return v.createElement(v.Fragment,null,m.map(C=>v.createElement(mm,{key:Ti(C),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:c},C)));m=[...m];const w=x.current.map(Ti),_=h.map(Ti),N=w.length;for(let C=0;C<N;C++){const k=w[C];_.indexOf(k)===-1&&!p.has(k)&&p.set(k,void 0)}return c==="wait"&&p.size&&(m=[]),p.forEach((C,k)=>{if(_.indexOf(k)!==-1)return;const A=y.get(k);if(!A)return;const T=w.indexOf(k);let P=C;if(!P){const E=()=>{p.delete(k);const O=Array.from(y.keys()).filter(R=>!_.includes(R));if(O.forEach(R=>y.delete(R)),x.current=h.filter(R=>{const W=Ti(R);return W===k||O.includes(W)}),!p.size){if(f.current===!1)return;u(),n&&n()}};P=v.createElement(mm,{key:Ti(A),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:a,mode:c},A),p.set(k,P)}m.splice(T,0,P)}),m=m.map(C=>{const k=C.key;return p.has(k)?C:v.createElement(mm,{key:Ti(C),isPresent:!0,presenceAffectsLayout:a,mode:c},C)}),v.createElement(v.Fragment,null,p.size?m:m.map(C=>v.cloneElement(C)))},xO=e=>{localStorage.setItem("groceroo-cart",JSON.stringify(e))},yO=()=>{const e=localStorage.getItem("groceroo-cart");return e?JSON.parse(e):[]},wO=1;let pm=0;function bO(){return pm=(pm+1)%Number.MAX_VALUE,pm.toString()}const hr={state:{toasts:[]},listeners:[],getState:()=>hr.state,setState:e=>{typeof e=="function"?hr.state=e(hr.state):hr.state={...hr.state,...e},hr.listeners.forEach(t=>t(hr.state))},subscribe:e=>(hr.listeners.push(e),()=>{hr.listeners=hr.listeners.filter(t=>t!==e)})},re=({...e})=>{const t=bO(),r=o=>hr.setState(a=>({...a,toasts:a.toasts.map(c=>c.id===t?{...c,...o}:c)})),n=()=>hr.setState(o=>({...o,toasts:o.toasts.filter(a=>a.id!==t)}));return hr.setState(o=>({...o,toasts:[{...e,id:t,dismiss:n},...o.toasts].slice(0,wO)})),{id:t,dismiss:n,update:r}};function jO(){const[e,t]=v.useState(hr.getState());return v.useEffect(()=>hr.subscribe(n=>{t(n)}),[]),v.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const o=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(o)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:re,toasts:e.toasts}}const __=v.createContext(),cs=()=>{const e=v.useContext(__);if(!e)throw new Error("useCart must be used within a CartProvider");return e},_O=({children:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!1),a=v.useRef([]);v.useEffect(()=>{const w=yO();w&&w.length>0&&r(w)},[]),v.useEffect(()=>{xO(t)},[t]),v.useEffect(()=>{if(a.current.length>0){const w=a.current.pop();a.current=[],re(w)}},[t]);const c=()=>o(!0),u=()=>o(!1),f=()=>o(!n),h=(w,_=1)=>{r(N=>{if(N.find(k=>k.id===w.id)){const k=N.map(A=>A.id===w.id?{...A,quantity:A.quantity+_}:A);return a.current.push({title:"Item updated",description:`${w.name} quantity updated in your cart.`,duration:2e3,action:"view-cart"}),k}else return a.current.push({title:"Item added",description:`${w.name} added to your cart.`,duration:2e3,action:"view-cart"}),[...N,{...w,quantity:_}]})},m=w=>{r(_=>{const N=_.find(C=>C.id===w);return N&&a.current.push({title:"Item removed",description:`${N.name} removed from your cart.`,duration:2e3,action:"view-cart"}),_.filter(C=>C.id!==w)})},p=(w,_)=>{if(_<=0){m(w);return}r(N=>{const C=N.find(k=>k.id===w);return C&&C.quantity!==_&&a.current.push({title:"Quantity updated",description:`${C.name} quantity set to ${_}.`,duration:2e3,action:"view-cart"}),N.map(k=>k.id===w?{...k,quantity:_}:k)})},x=()=>{r([]),a.current.push({title:"Cart cleared",description:"All items have been removed from your cart.",duration:2e3,action:"view-cart"})},y=()=>t.reduce((w,_)=>w+_.price*_.quantity,0),j=()=>t.reduce((w,_)=>w+_.quantity,0);return s.jsx(__.Provider,{value:{cart:t,isCartOpen:n,openCart:c,closeCart:u,toggleCart:f,addToCart:h,removeFromCart:m,updateQuantity:p,clearCart:x,getCartTotal:y,getCartCount:j},children:e})},SO="modulepreload",NO=function(e){return"/"+e},sw={},oa=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(r.map(h=>{if(h=NO(h),h in sw)return;sw[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":SO,m||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),m)return new Promise((y,j)=>{x.addEventListener("load",y),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},CO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>wa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kO extends mv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class EO extends mv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PO extends mv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fp||(fp={}));var TO=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class AO{constructor(t,{headers:r={},customFetch:n,region:o=fp.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=CO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return TO(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=r;let u={},{region:f}=r;f||(f=this.region),f&&f!=="any"&&(u["x-region"]=f);let h;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(u["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(u["Content-Type"]="application/json",h=JSON.stringify(c)));const m=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h}).catch(j=>{throw new kO(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new EO(m);if(!m.ok)throw new PO(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null}}catch(o){return{data:null,error:o}}})}}var Vt={},Do={},Oo={},Ro={},$o={},Mo={},DO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},aa=DO();const OO=aa.fetch,S_=aa.fetch.bind(aa),N_=aa.Headers,RO=aa.Request,$O=aa.Response,wa=Object.freeze(Object.defineProperty({__proto__:null,Headers:N_,Request:RO,Response:$O,default:S_,fetch:OO},Symbol.toStringTag,{value:"Module"})),MO=z2(wa);var Mu={},iw;function C_(){if(iw)return Mu;iw=1,Object.defineProperty(Mu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Mu.default=e,Mu}var ow;function k_(){if(ow)return Mo;ow=1;var e=Mo&&Mo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Mo,"__esModule",{value:!0});const t=e(MO),r=e(C_());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,p,x;let y=null,j=null,w=null,_=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const T=await h.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=T:j=JSON.parse(T))}const k=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),A=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&A&&A.length>1&&(w=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(y={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,_=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const k=await h.text();try{y=JSON.parse(k),Array.isArray(y)&&h.status===404&&(j=[],y=null,_=200,N="OK")}catch{h.status===404&&k===""?(_=204,N="No Content"):y={message:k}}if(y&&this.isMaybeSingle&&(!((x=y==null?void 0:y.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,_=200,N="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:j,count:w,status:_,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,p,x;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=h==null?void 0:h.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,c)}returns(){return this}overrideTypes(){return this}}return Mo.default=n,Mo}var aw;function E_(){if(aw)return $o;aw=1;var e=$o&&$o.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(k_());class r extends t.default{select(o){let a=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const p=[o?"analyze":null,a?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${p};`,h==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return $o.default=r,$o}var lw;function pv(){if(lw)return Ro;lw=1;var e=Ro&&Ro.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ro,"__esModule",{value:!0});const t=e(E_());class r extends t.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return Ro.default=r,Ro}var cw;function P_(){if(cw)return Oo;cw=1;var e=Oo&&Oo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oo,"__esModule",{value:!0});const t=e(pv());class r{constructor(o,{headers:a={},schema:c,fetch:u}){this.url=o,this.headers=a,this.schema=c,this.fetch=u}select(o,{head:a=!1,count:c}={}){const u=a?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:a,defaultToNull:c=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const h=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){const h="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(p.length>0){const x=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:a}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const a="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Oo.default=r,Oo}var xl={},yl={},uw;function IO(){return uw||(uw=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.version=void 0,yl.version="0.0.0-automated"),yl}var dw;function LO(){if(dw)return xl;dw=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.DEFAULT_HEADERS=void 0;const e=IO();return xl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},xl}var fw;function FO(){if(fw)return Do;fw=1;var e=Do&&Do.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Do,"__esModule",{value:!0});const t=e(P_()),r=e(pv()),n=LO();class o{constructor(c,{headers:u={},schema:f,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:h=!1,count:m}={}){let p;const x=new URL(`${this.url}/rpc/${c}`);let y;f||h?(p=f?"HEAD":"GET",Object.entries(u).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{x.searchParams.append(w,_)})):(p="POST",y=u);const j=Object.assign({},this.headers);return m&&(j.Prefer=`count=${m}`),new r.default({method:p,url:x,headers:j,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Do.default=o,Do}var hw;function UO(){if(hw)return Vt;hw=1;var e=Vt&&Vt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const t=e(FO());Vt.PostgrestClient=t.default;const r=e(P_());Vt.PostgrestQueryBuilder=r.default;const n=e(pv());Vt.PostgrestFilterBuilder=n.default;const o=e(E_());Vt.PostgrestTransformBuilder=o.default;const a=e(k_());Vt.PostgrestBuilder=a.default;const c=e(C_());return Vt.PostgrestError=c.default,Vt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},Vt}var BO=UO();const VO=Jl(BO),{PostgrestClient:zO,PostgrestQueryBuilder:sV,PostgrestFilterBuilder:iV,PostgrestTransformBuilder:oV,PostgrestBuilder:aV,PostgrestError:lV}=VO,WO="2.11.2",HO={"X-Client-Info":`realtime-js/${WO}`},qO="1.0.0",T_=1e4,YO=1e3;var Qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qo||(Qo={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ln||(ln={}));var hp;(function(e){e.websocket="websocket"})(hp||(hp={}));var Oi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Oi||(Oi={}));class GO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+a));c=c+a;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class A_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const mw=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,c)=>(a[c]=KO(c,e,t,o),a),{})},KO=(e,t,r,n)=>{const o=t.find(u=>u.name===e),a=o==null?void 0:o.type,c=r[e];return a&&!n.includes(a)?D_(a,c):mp(c)},D_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ZO(t,r)}switch(e){case lt.bool:return XO(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return JO(t);case lt.json:case lt.jsonb:return QO(t);case lt.timestamp:return eR(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return mp(t);default:return mp(t)}},mp=e=>e,XO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(u=>D_(t,u))}return e},eR=e=>typeof e=="string"?e.replace(" ","T"):e,O_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class vm{constructor(t,r,n={},o=T_){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pw||(pw={}));class Dl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dl.syncState(this.state,o,a,c),this.pendingDiffs.forEach(f=>{this.state=Dl.syncDiff(this.state,f,a,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Dl.syncDiff(this.state,o,a,c),u())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const a=this.cloneDeep(t),c=this.transformState(r),u={},f={};return this.map(a,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const p=a[h];if(p){const x=m.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),j=m.filter(_=>y.indexOf(_.presence_ref)<0),w=p.filter(_=>x.indexOf(_.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(a,{joins:u,leaves:f},n,o)}static syncDiff(t,r,n,o){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(a,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const p=t[u].map(y=>y.presence_ref),x=m.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...x)}n(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[u]=h,o(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vw||(vw={}));var gw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gw||(gw={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class vv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vm(this,ln.join,this.params,this.timeout),this.rejoinTimer=new A_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Dl(this),this.broadcastEndpointURL=O_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:c,private:u}}=this.params;this._onError(m=>t==null?void 0:t(Kn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Kn.CLOSED));const f={},h={broadcast:a,presence:c,postgres_changes:(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Kn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,j=[];for(let w=0;w<y;w++){const _=x[w],{filter:{event:N,schema:C,table:k,filter:A}}=_,T=m&&m[w];if(T&&T.event===N&&T.schema===C&&T.table===k&&T.filter===A)j.push(Object.assign(Object.assign({},_),{id:T.id}));else{this.unsubscribe(),t==null||t(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Kn.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const o=new vm(this,ln.leave,{},t);o.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const o=new AbortController,a=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new vm(this,t,r,n);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,a;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=ln;if(n&&[u,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let x=this._onMessage(c,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var j,w,_;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(y=>y.callback(x,n)):(a=this.bindings[c])===null||a===void 0||a.filter(y=>{var j,w,_,N,C,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const A=y.id,T=(j=y.filter)===null||j===void 0?void 0:j.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:w,table:_,commit_timestamp:N,type:C,errors:k}=j;x=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(j))}y.callback(x,n)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),a={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&vv.isEqual(o.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mw(t.columns,t.old_record)),r}}const tR=()=>{},rR=typeof WebSocket<"u",nR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=HO,this.params={},this.timeout=T_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tR,this.conn=null,this.sendBuffer=[],this.serializer=new GO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...u)=>oa(async()=>{const{default:f}=await Promise.resolve().then(()=>wa);return{default:f}},void 0).then(({default:f})=>f(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${t}/${hp.websocket}`,this.httpEndpoint=O_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,c)=>c(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new A_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new iR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),oa(async()=>{const{default:t}=await import("./browser-BeEAKW4s.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qO}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return Oi.Connecting;case Qo.open:return Oi.Open;case Qo.closing:return Oi.Closing;default:return Oi.Closed}}isConnected(){return this.connectionState()===Oi.Open}channel(t,r={config:{}}){const n=new vv(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:o,ref:a}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(ln.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(YO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:o,payload:a,ref:c}=r;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${o} ${c&&"("+c+")"||""}`,a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class iR{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class gv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oR extends gv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pp extends gv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var aR=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const R_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>wa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lR=()=>aR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>wa),void 0)).Response:Response}),vp=e=>{if(Array.isArray(e))return e.map(r=>vp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=vp(n)}),t};var qi=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const gm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cR=(e,t,r)=>qi(void 0,void 0,void 0,function*(){const n=yield lR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{t(new oR(gm(o),e.status||500))}).catch(o=>{t(new pp(gm(o),o))}):t(new pp(gm(e),e))}),uR=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))};function nc(e,t,r,n,o,a){return qi(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,uR(t,n,o,a)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>cR(f,u,n))})})}function md(e,t,r,n){return qi(this,void 0,void 0,function*(){return nc(e,"GET",t,r,n)})}function Ws(e,t,r,n,o){return qi(this,void 0,void 0,function*(){return nc(e,"POST",t,n,o,r)})}function dR(e,t,r,n,o){return qi(this,void 0,void 0,function*(){return nc(e,"PUT",t,n,o,r)})}function fR(e,t,r,n){return qi(this,void 0,void 0,function*(){return nc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $_(e,t,r,n,o){return qi(this,void 0,void 0,function*(){return nc(e,"DELETE",t,n,o,r)})}var br=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const hR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mR{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=R_(o)}uploadOrUpdate(t,r,n,o){return br(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},xw),o);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:a,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield p.json();return p.ok?{data:{path:h,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(a){if(zt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return br(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:xw.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:m}),x=yield p.json();return p.ok?{data:{path:a,fullPath:x.Key},error:null}:{data:null,error:x}}catch(f){if(zt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return br(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Ws(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+a.url),u=c.searchParams.get("token");if(!u)throw new gv("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}update(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}copy(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:{path:(yield Ws(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return br(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield Ws(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return br(this,void 0,void 0,function*(){try{const o=yield Ws(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}download(t,r){return br(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield md(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}info(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield md(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vp(n),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}exists(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(zt(n)&&n instanceof pp){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return br(this,void 0,void 0,function*(){try{return{data:yield $_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}list(t,r,n){return br(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},hR),r),{prefix:t||""});return{data:yield Ws(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pR="2.7.1",vR={"X-Client-Info":`storage-js/${pR}`};var Io=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class gR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},vR),r),this.fetch=R_(n)}listBuckets(){return Io(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(zt(t))return{data:null,error:t};throw t}})}getBucket(t){return Io(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Io(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Io(this,void 0,void 0,function*(){try{return{data:yield dR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Io(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Io(this,void 0,void 0,function*(){try{return{data:yield $_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}}class xR extends gR{constructor(t,r={},n){super(t,r,n)}from(t){return new mR(this.url,this.headers,t,this.fetch)}}const yR="2.49.4";let kl="";typeof Deno<"u"?kl="deno":typeof document<"u"?kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kl="react-native":kl="node";const wR={"X-Client-Info":`supabase-js-${kl}/${yR}`},bR={headers:wR},jR={schema:"public"},_R={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SR={};var NR=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const CR=e=>{let t;return e?t=e:typeof fetch>"u"?t=S_:t=fetch,(...r)=>t(...r)},kR=()=>typeof Headers>"u"?N_:Headers,ER=(e,t,r)=>{const n=CR(r),o=kR();return(a,c)=>NR(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(a,Object.assign(Object.assign({},c),{headers:h}))})};var PR=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};function TR(e){return e.replace(/\/$/,"")}function AR(e,t){const{db:r,auth:n,realtime:o,global:a}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},h),a),accessToken:()=>PR(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const M_="2.69.1",qo=30*1e3,gp=3,xm=gp*qo,DR="http://localhost:9999",OR="supabase.auth.token",RR={"X-Client-Info":`gotrue-js/${M_}`},xp="X-Supabase-Api-Version",I_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$R=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MR=6e5;class xv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IR extends xv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LR(e){return Be(e)&&e.name==="AuthApiError"}class L_ extends xv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class si extends xv{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class Fs extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FR(e){return Be(e)&&e.name==="AuthSessionMissingError"}class ym extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Iu extends si{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lu extends si{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UR(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class yw extends si{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yp extends si{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wm(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class ww extends si{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ol extends si{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jw=` 	
\r=`.split(""),BR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jw.length;t+=1)e[jw[t].charCodeAt(0)]=-2;for(let t=0;t<bw.length;t+=1)e[bw[t].charCodeAt(0)]=t;return e})();function F_(e,t,r){const n=BR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _w(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{WR(c,n,r)};for(let c=0;c<e.length;c+=1)F_(e.charCodeAt(c),o,a);return t.join("")}function VR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}VR(n,t)}}function WR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function HR(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)F_(e.charCodeAt(o),r,n);return new Uint8Array(t)}function qR(e){const t=[];return zR(e,r=>t.push(r)),new Uint8Array(t)}function YR(e){return Math.round(Date.now()/1e3)+e}function GR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kn=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},Rl=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function KR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const U_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>wa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},XR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",B_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Uu=async(e,t)=>{await e.removeItem(t)};class Md{constructor(){this.promise=new Md.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Md.promiseConstructor=Promise;function bm(e){const t=e.split(".");if(t.length!==3)throw new Ol("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$R.test(t[n]))throw new Ol("JWT not in base64url format");return{header:JSON.parse(_w(t[0])),payload:JSON.parse(_w(t[1])),signature:HR(t[2]),raw:{header:t[0],payload:t[1]}}}async function JR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QR(e,t){return new Promise((n,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){o(c);return}}})()})}function ZR(e){return("0"+e.toString(16)).substr(-2)}function e4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,ZR).join("")}async function t4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function r4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(e,t,r=!1){const n=e4();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await B_(e,`${t}-code-verifier`,o);const a=await r4(n);return[a,n===a?"plain":"s256"]}const n4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s4(e){const t=e.headers.get(xp);if(!t||!t.match(n4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function i4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function o4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var a4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l4=[502,503,504];async function Sw(e){var t;if(!XR(e))throw new yp(Ai(e),0);if(l4.includes(e.status))throw new yp(Ai(e),e.status);let r;try{r=await e.json()}catch(a){throw new L_(Ai(a),a)}let n;const o=s4(e);if(o&&o.getTime()>=I_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ww(Ai(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new ww(Ai(r),e.status,r.weak_password.reasons);throw new IR(Ai(r),e.status||500,n)}const c4=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Ke(e,t,r,n){var o;const a=Object.assign({},n==null?void 0:n.headers);a[xp]||(a[xp]=I_["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await u4(e,t,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function u4(e,t,r,n,o,a){const c=c4(t,n,o,a);let u;try{u=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new yp(Ai(f),0)}if(u.ok||await Sw(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await Sw(f)}}function Us(e){var t;let r=null;m4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Nw(e){const t=Us(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d4(e){return{data:e,error:null}}function f4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a}=e,c=a4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function h4(e){return e}function m4(e){return e.access_token&&e.refresh_token&&e.expires_in}var p4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class v4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=U_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=p4(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:f4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,a,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:h4});if(m.error)throw m.error;const p=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}const g4={getItem:e=>Rl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Rl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Rl()&&globalThis.localStorage.removeItem(e)}};function Cw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function x4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fo={debug:!!(globalThis&&Rl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y4 extends V_{}async function w4(e,t,r){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}x4();const b4={url:DR,storageKey:OR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kw(e,t,r){return await r()}class Vl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vl.nextInstanceID,Vl.nextInstanceID+=1,this.instanceID>0&&kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},b4),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new v4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=U_(o.fetch),this.lock=o.lock||kw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:kn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w4:this.lock=kw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Rl()?this.storage=g4:(this.memoryStorage={},this.storage=Cw(this.memoryStorage)):(this.memoryStorage={},this.storage=Cw(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${M_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=KR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),kn()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),UR(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new L_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Us}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,o;try{let a;if("email"in t){const{email:m,password:p,options:x}=t;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await Lo(this.storage,this.storageKey)),a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:j},xform:Us})}else if("phone"in t){const{phone:m,password:p,options:x}=t;a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Us})}else throw new Iu("You must provide either an email or phone number and a password");const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:u}=t;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nw})}else if("phone"in t){const{phone:a,password:c,options:u}=t;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nw})}else throw new Iu("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ym}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Fu(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:a,error:c}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Us});if(await Uu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ym}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:a,nonce:c}=t,u=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Us}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ym}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,a,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Lo(this.storage,this.storageKey));const{error:p}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Iu("You must provide either an email or phone number.")}catch(u){if(Be(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let o,a;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Us});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Lo(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:d4})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fs;const{error:o}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:a}=t,{error:c}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:o,options:a}=t,{data:c,error:u}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Iu("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hs}):await this._useSession(async r=>{var n,o,a;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fs}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Hs})})}catch(r){if(Be(r))return FR(r)&&(await this._removeSession(),await Uu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:a}=n;if(a)throw a;if(!o.session)throw new Fs;const c=o.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Lo(this.storage,this.storageKey));const{data:h,error:m}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:Hs});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fs;const r=Date.now()/1e3;let n=r,o=!0,a=null;const{payload:c}=bm(t.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{session:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fs;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!kn())throw new Lu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yw("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!a||!u||!c||!h)throw new Lu("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let x=m+p;f&&(x=parseInt(f));const y=x-m;y*1e3<=qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const j=x-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,m);const{data:w,error:_}=await this._getUser(a);if(_)throw _;const N={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:x,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{error:a};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(LR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Uu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=GR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Lo(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async a=>{var c,u,f,h,m;const{data:p,error:x}=a;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return kn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Be(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:c}=r;if(c)throw c;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QR(async o=>(o>0&&await JR(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Us})),(o,a)=>{const c=200*Math.pow(2,o);return a&&wm(a)&&Date.now()+c-n<qo})}catch(n){if(this._debug(r,"error",n),Be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Fu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${xm}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),wm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Md;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Fs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),Be(a)){const c={session:null,error:a};return wm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){a.push(f)}});if(await Promise.all(c),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await B_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Uu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qo}ms, refresh threshold is ${gp} ticks`),o<=gp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof V_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await Lo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:u}=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bm(o.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n||(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+MR>Date.now()))return n;const{data:o,error:a}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new Ol("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),n=o.keys.find(c=>c.kid===t),!n)throw new Ol("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:j}=await this.getSession();if(j||!y.session)return{data:null,error:j};n=y.session.access_token}const{header:o,payload:a,signature:c,raw:{header:u,payload:f}}=bm(n);if(i4(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:o,signature:c},error:null}}const h=o4(o.alg),m=await this.fetchJwk(o.kid,r),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,c,qR(`${u}.${f}`)))throw new Ol("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}Vl.nextInstanceID=0;const j4=Vl;class _4 extends j4{constructor(t){super(t)}}var S4=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class N4{constructor(t,r,n){var o,a,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=TR(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:jR,realtime:SR,auth:Object.assign(Object.assign({},_R),{storageKey:f}),global:bR},m=AR(n??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=ER(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new zO(`${u}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new AO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return S4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:a,flowType:c,lock:u,debug:f},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _4({url:this.authUrl,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:c,lock:u,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new sR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C4=(e,t,r)=>new N4(e,t,r),k4="https://bcbxcnxutotjzmdjeyde.supabase.co",E4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY",de=C4(k4,E4),z_=v.createContext(),yv=()=>{const e=v.useContext(z_);if(!e)throw new Error("useOrders must be used within an OrderProvider");return e},P4=({children:e})=>{const[t,r]=v.useState([]),n=async u=>{try{const{data:f,error:h}=await de.from("orders").insert({user_id:u.user_id||null,customer_name:u.customer_name,customer_email:u.customer_email,customer_phone:u.customer_phone,customer_address:u.customer_address,customer_postcode:u.customer_postcode,delivery_notes:u.delivery_notes,total:u.total,status:"processing",delivery_type:u.delivery_type,scheduled_delivery_time:u.scheduled_delivery_time,delivery_fee:u.delivery_fee,items:u.items,payment_data:u.payment_data,fees_data:u.fees_data||null}).select().single();if(h)throw h;return re({title:"Order Created",description:"Your order has been successfully placed."}),f}catch(f){throw console.error("Error creating order:",f),re({variant:"destructive",title:"Error",description:"Failed to create order. Please try again."}),f}},o=async(u,f)=>{try{const{error:h}=await de.from("orders").update({status:f}).eq("id",u);if(h)throw h;re({title:"Order Updated",description:`Order status changed to ${f}.`})}catch(h){console.error("Error updating order status:",h),re({variant:"destructive",title:"Error",description:"Failed to update order status."})}},a=async u=>{try{const{data:f,error:h}=await de.from("orders").select("*").eq("id",u).single();if(h)throw h;return f}catch(f){return console.error("Error fetching order:",f),null}},c=async u=>{try{let f=de.from("orders").select("*");u&&(f=f.eq("status",u));const{data:h,error:m}=await f;if(m)throw m;return h}catch(f){return console.error("Error fetching orders:",f),[]}};return s.jsx(z_.Provider,{value:{orders:t,addOrder:n,updateOrderStatus:o,getOrderById:a,getOrdersByStatus:c},children:e})};function qt(e,t,r=30){for(let a=0;a<localStorage.length;a++){const c=localStorage.key(a);c!==e&&c&&e.startsWith(c)&&(localStorage.removeItem(c),a--)}const n=Date.now()+r*60*1e3,o={data:t,expires:n};localStorage.setItem(e,JSON.stringify(o))}function lr(e){const t=localStorage.getItem(e);if(!t)return null;try{const r=JSON.parse(t);return r.expires&&r.expires>Date.now()?r.data:(localStorage.removeItem(e),null)}catch{return localStorage.removeItem(e),null}}function T4(e){localStorage.removeItem(e)}function A4({maxBytes:e=5*1024*1024}={}){var n;for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o);try{const c=localStorage.getItem(a);if(!c)continue;JSON.parse(c).expires<=Date.now()&&(localStorage.removeItem(a),o--)}catch{}}let t=0;const r=[];for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o),c=localStorage.getItem(a);t+=c?c.length:0,r.push(a)}if(t>e){for(const o of r)if(o.startsWith("product_")&&(localStorage.removeItem(o),t-=((n=localStorage.getItem(o))==null?void 0:n.length)||0,t<=e))break}}const W_=v.createContext(),Jt=()=>{const e=v.useContext(W_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},D4=({children:e})=>{const[t,r]=v.useState(null),[n,o]=v.useState(null),[a,c]=v.useState(!1),[u,f]=v.useState(!0),h=v.useCallback(async C=>{if(!C)return o(null),c(!1),null;try{const{data:k,error:A,status:T}=await de.from("profiles").select("name,email, phone, address, is_admin, addresses, ai_chat").eq("id",C).single();if(A&&T!==406)throw console.error("Error fetching user profile (status not 406):",A.message),A;if(A&&T===406)return console.warn("Profile not found or no permission (406), this might be expected for new users before profile creation or RLS issues."),o(null),c(!1),null;if(k){const P=k.phone;return k.phone=P.startsWith("61")?`0${P.replace(/^61/,"")}`:P,o(k),c(k.is_admin===!0),qt("user_profile",k,1440),k}else return o(null),c(!1),null}catch(k){return console.error("Error fetching user profile (catch block):",k.message),k.message!=="JSON object requested, multiple (or no) rows returned"&&re({variant:"destructive",title:"Profile Error",description:"Could not load user profile. "+k.message}),o(null),c(!1),null}},[]),[m,p]=v.useState(()=>{const C=localStorage.getItem("userLocation");return C?JSON.parse(C):null});v.useEffect(()=>{let C=!0;const k=lr("user_profile");k&&(o(k),c(k.is_admin===!0));const A=async E=>{if(C){if(E!=null&&E.user){r(E.user);const O=lr("user_profile");if(O)o(O),c(O.is_admin===!0);else{const R=await h(E.user.id);c((R==null?void 0:R.is_admin)===!0)}}else r(null),o(null),c(!1);f(!1)}},{data:{subscription:T}}=de.auth.onAuthStateChange((E,O)=>{A(O)});return(async()=>{const{data:{session:E},error:O}=await de.auth.getSession();C&&(O?(console.error("Error fetching initial session:",O),re({variant:"destructive",title:"Auth Error",description:"Could not fetch initial session."}),r(null),o(null),c(!1),f(!1)):A(E))})(),()=>{C=!1,T==null||T.unsubscribe()}},[h]);const x=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(C=>{const k={lat:C.coords.latitude,lng:C.coords.longitude};p(k),localStorage.setItem("userLocation",JSON.stringify(k))},C=>{})};v.useEffect(()=>{m||x()},[m]);const y=async(C,k)=>{f(!0);const{data:A,error:T}=await de.auth.signInWithPassword({email:C,password:k});if(T)return console.error("Login error:",T),re({variant:"destructive",title:"Login Failed",description:T.message}),f(!1),{success:!1,isAdminUser:!1,error:T.message};const P=await h(A.user.id);return{success:!0,isAdminUser:(P==null?void 0:P.is_admin)===!0}},j=async(C,k,A,T)=>{f(!0);const{data:P,error:E}=await de.auth.signUp({email:C,password:k,options:{data:{name:A}}});if(E)return console.error("Registration error:",E),re({variant:"destructive",title:"Registration Failed",description:E.message}),f(!1),!1;if(P.user&&T){await new Promise(R=>setTimeout(R,1e3));const{error:O}=await de.from("profiles").update({phone:T,updated_at:new Date}).eq("id",P.user.id);O&&(console.error("Error updating phone during registration:",O),re({variant:"destructive",title:"Profile Update Issue",description:"Could not save phone number: "+O.message}))}return re({title:"Registration Successful",description:"Please check your email to confirm your account."}),!0},w=async()=>{f(!0);const{error:C}=await de.auth.signOut();T4("user_profile"),C?(console.error("Logout error:",C),re({variant:"destructive",title:"Logout Failed",description:C.message}),f(!1)):re({title:"Logged Out",description:"You have been successfully logged out."})},_=async(C,k=!0)=>{if(!t)return;f(!0);const{data:A,error:T}=await de.from("profiles").update({name:C.name,email:C.email,address:C.address,addresses:C.addresses,ai_chat:C.ai_chat,updated_at:new Date}).eq("id",t.id).select().single();T?(console.error("Profile update error:",T),re({variant:"destructive",title:"Update Failed",description:T.message})):A&&(o(A),c(A.is_admin===!0),qt("user_profile",A,1440),k&&re({title:"Profile Updated",description:"Your information has been updated."})),f(!1)},N=t&&n?{...t,...n}:t;return s.jsx(W_.Provider,{value:{user:N,session:de.auth.getSession(),isAdmin:a,loading:u,login:y,register:j,logout:w,updateUserInfo:_,userLocation:m,getUserLocation:x},children:e})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Ew=e=>{const t=R4(e);return t.charAt(0).toUpperCase()+t.slice(1)},H_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),$4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:c,...u},f)=>v.createElement("svg",{ref:f,...M4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:H_("lucide",o),...!a&&!$4(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>v.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const r=v.forwardRef(({className:n,...o},a)=>v.createElement(I4,{ref:a,iconNode:t,className:H_(`lucide-${O4(Ew(e))}`,`lucide-${e}`,n),...o}));return r.displayName=Ew(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],la=Oe("arrow-left",L4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wp=Oe("arrow-right",F4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],B4=Oe("arrow-up-down",U4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],z4=Oe("arrow-up",V4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],H4=Oe("bell",W4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Y4=Oe("bot",q4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fn=Oe("calendar",G4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],X4=Oe("camera",K4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],q_=Oe("check",J4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y_=Oe("chevron-down",Q4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],e$=Oe("chevron-left",Z4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],r$=Oe("chevron-right",t$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],s$=Oe("chevron-up",n$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zo=Oe("circle-check-big",i$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sc=Oe("circle-plus",o$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],l$=Oe("circle-x",a$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u$=Oe("circle",c$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hn=Oe("clock",d$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],G_=Oe("cloud-upload",f$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ba=Oe("credit-card",h$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K_=Oe("eye",m$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ii=Oe("funnel",p$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Id=Oe("image",v$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wv=Oe("info",g$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],y$=Oe("instagram",x$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],b$=Oe("list",w$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]],_$=Oe("locate",j$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X_=Oe("log-out",S$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],J_=Oe("mail",N$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ca=Oe("map-pin",C$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ld=Oe("message-circle",k$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],P$=Oe("message-square",E$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M5 12h14",key:"1ays0h"}]],ja=Oe("minus",T$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Gr=Oe("package",A$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],O$=Oe("pen",D$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fd=Oe("phone",R$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yi=Oe("plus",$$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bv=Oe("search",M$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ic=Oe("send",I$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F$=Oe("settings",L$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],B$=Oe("shield-alert",U$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Q_=Oe("shopping-bag",V$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zs=Oe("shopping-cart",z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oc=Oe("square-pen",W$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],oi=Oe("store",H$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jv=Oe("tag",q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gi=Oe("trash-2",Y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],pd=Oe("truck",G$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],X$=Oe("upload",K$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Pw=Oe("user-round",J$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bp=Oe("user",Q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_v=Oe("users",Z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],us=Oe("x",eM);function Z_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Z_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function e1(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Z_(e))&&(n&&(n+=" "),n+=t);return n}function tM(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=t1(t))&&(n&&(n+=" "),n+=r);return n}function t1(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=t1(e[n]))&&(r&&(r+=" "),r+=t);return r}var Sv="-";function rM(e){var t=sM(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=n===void 0?{}:n;function a(u){var f=u.split(Sv);return f[0]===""&&f.length!==1&&f.shift(),r1(f,t)||nM(u)}function c(u,f){var h=r[u]||[];return f&&o[u]?[].concat(h,o[u]):h}return{getClassGroupId:a,getConflictingClassGroupIds:c}}function r1(e,t){var c;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?r1(e.slice(1),n):void 0;if(o)return o;if(t.validators.length!==0){var a=e.join(Sv);return(c=t.validators.find(function(u){var f=u.validator;return f(a)}))==null?void 0:c.classGroupId}}var Tw=/^\[(.+)\]$/;function nM(e){if(Tw.test(e)){var t=Tw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function sM(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=oM(Object.entries(e.classGroups),r);return o.forEach(function(a){var c=a[0],u=a[1];jp(u,n,c,t)}),n}function jp(e,t,r,n){e.forEach(function(o){if(typeof o=="string"){var a=o===""?t:Aw(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(iM(o)){jp(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(c){var u=c[0],f=c[1];jp(f,Aw(t,u),r,n)})})}function Aw(e,t){var r=e;return t.split(Sv).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function iM(e){return e.isThemeGetter}function oM(e,t){return t?e.map(function(r){var n=r[0],o=r[1],a=o.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(u){var f=u[0],h=u[1];return[t+f,h]})):c});return[n,a]}):e}function aM(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(a,c){r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(c){var u=r.get(c);if(u!==void 0)return u;if((u=n.get(c))!==void 0)return o(c,u),u},set:function(c,u){r.has(c)?r.set(c,u):o(c,u)}}}var n1="!";function lM(e){var t=e.separator||":",r=t.length===1,n=t[0],o=t.length;return function(c){for(var u=[],f=0,h=0,m,p=0;p<c.length;p++){var x=c[p];if(f===0){if(x===n&&(r||c.slice(p,p+o)===t)){u.push(c.slice(h,p)),h=p+o;continue}if(x==="/"){m=p;continue}}x==="["?f++:x==="]"&&f--}var y=u.length===0?c:c.substring(h),j=y.startsWith(n1),w=j?y.substring(1):y,_=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:_}}}function cM(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var o=n[0]==="[";o?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function uM(e){return{cache:aM(e.cacheSize),splitModifiers:lM(e),...rM(e)}}var dM=/\s+/;function fM(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(dM).map(function(c){var u=r(c),f=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,p=u.maybePostfixModifierPosition,x=n(p?m.substring(0,p):m),y=!!p;if(!x){if(!p)return{isTailwindClass:!1,originalClassName:c};if(x=n(m),!x)return{isTailwindClass:!1,originalClassName:c};y=!1}var j=cM(f).join(":"),w=h?j+n1:j;return{isTailwindClass:!0,modifierId:w,classGroupId:x,originalClassName:c,hasPostfixModifier:y}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var u=c.modifierId,f=c.classGroupId,h=c.hasPostfixModifier,m=u+f;return a.has(m)?!1:(a.add(m),o(f,h).forEach(function(p){return a.add(u+p)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function hM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,a,c=u;function u(h){var m=t[0],p=t.slice(1),x=p.reduce(function(y,j){return j(y)},m());return n=uM(x),o=n.cache.get,a=n.cache.set,c=f,f(h)}function f(h){var m=o(h);if(m)return m;var p=fM(h,n);return a(h,p),p}return function(){return c(tM.apply(null,arguments))}}function ht(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var s1=/^\[(?:([a-z-]+):)?(.+)\]$/i,mM=/^\d+\/\d+$/,pM=new Set(["px","full","screen"]),vM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function an(e){return $i(e)||pM.has(e)||mM.test(e)||_p(e)}function _p(e){return Ki(e,"length",SM)}function yM(e){return Ki(e,"size",i1)}function wM(e){return Ki(e,"position",i1)}function bM(e){return Ki(e,"url",NM)}function Bu(e){return Ki(e,"number",$i)}function $i(e){return!Number.isNaN(Number(e))}function jM(e){return e.endsWith("%")&&$i(e.slice(0,-1))}function wl(e){return Dw(e)||Ki(e,"number",Dw)}function Ge(e){return s1.test(e)}function bl(){return!0}function Ms(e){return vM.test(e)}function _M(e){return Ki(e,"",CM)}function Ki(e,t,r){var n=s1.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function SM(e){return gM.test(e)}function i1(){return!1}function NM(e){return e.startsWith("url(")}function Dw(e){return Number.isInteger(Number(e))}function CM(e){return xM.test(e)}function kM(){var e=ht("colors"),t=ht("spacing"),r=ht("blur"),n=ht("brightness"),o=ht("borderColor"),a=ht("borderRadius"),c=ht("borderSpacing"),u=ht("borderWidth"),f=ht("contrast"),h=ht("grayscale"),m=ht("hueRotate"),p=ht("invert"),x=ht("gap"),y=ht("gradientColorStops"),j=ht("gradientColorStopPositions"),w=ht("inset"),_=ht("margin"),N=ht("opacity"),C=ht("padding"),k=ht("saturate"),A=ht("scale"),T=ht("sepia"),P=ht("skew"),E=ht("space"),O=ht("translate"),R=function(){return["auto","contain","none"]},W=function(){return["auto","hidden","clip","visible","scroll"]},Z=function(){return["auto",Ge,t]},Q=function(){return[Ge,t]},q=function(){return["",an]},I=function(){return["auto",$i,Ge]},B=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},H=function(){return["","0",Ge]},ee=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[$i,Bu]},K=function(){return[$i,Ge]};return{cacheSize:500,theme:{colors:[bl],spacing:[an],blur:["none","",Ms,Ge],brightness:$(),borderColor:[e],borderRadius:["none","","full",Ms,Ge],borderSpacing:Q(),borderWidth:q(),contrast:$(),grayscale:H(),hueRotate:K(),invert:H(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[jM,_p],inset:Z(),margin:Z(),opacity:$(),padding:Q(),saturate:$(),scale:$(),sepia:H(),skew:K(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(B(),[Ge])}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",wl]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",wl]},Ge]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[wl]},Ge]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ge,t]}],"min-w":[{"min-w":["min","max","fit",Ge,an]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ms]},Ms,Ge]}],h:[{h:[Ge,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ge,an]}],"max-h":[{"max-h":[Ge,t,"min","max","fit"]}],"font-size":[{text:["base",Ms,_p]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bu]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",$i,Bu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ge,an]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",an]}],"underline-offset":[{"underline-offset":["auto",Ge,an]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(B(),[wM])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[Ge,an]}],"outline-w":[{outline:[an]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[an]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ms,_M]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ms,Ge]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[wl,Ge]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[an,Bu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var EM=hM(kM);function Te(...e){return EM(e1(e))}function Se(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD",minimumFractionDigits:2}).format(e)}function Ow(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function o1(...e){return t=>{let r=!1;const n=e.map(o=>{const a=Ow(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():Ow(e[o],null)}}}}function St(...e){return v.useCallback(o1(...e),e)}function ua(e){const t=TM(e),r=v.forwardRef((n,o)=>{const{children:a,...c}=n,u=v.Children.toArray(a),f=u.find(DM);if(f){const h=f.props.children,m=u.map(p=>p===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...c,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(t,{...c,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var PM=ua("Slot");function TM(e){const t=v.forwardRef((r,n)=>{const{children:o,...a}=r;if(v.isValidElement(o)){const c=RM(o),u=OM(a,o.props);return o.type!==v.Fragment&&(u.ref=n?o1(n,c):c),v.cloneElement(o,u)}return v.Children.count(o)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AM=Symbol("radix.slottable");function DM(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AM}function OM(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...u)=>{a(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function RM(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Rw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$w=e1,Ud=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $w(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,c=Object.keys(o).map(h=>{const m=r==null?void 0:r[h],p=a==null?void 0:a[h];if(m===null)return null;const x=Rw(m)||Rw(p);return o[h][x]}),u=r&&Object.entries(r).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:p,className:x,...y}=m;return Object.entries(y).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...a,...u}[w]):{...a,...u}[w]===_})?[...h,p,x]:h},[]);return $w(e,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},Sp=Ud("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=ge.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const c=n?PM:"button";return s.jsx(c,{className:Te(Sp({variant:t,size:r,className:e})),ref:a,...o})});J.displayName="Button";const $M=Ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ot({className:e,variant:t,...r}){return s.jsx("div",{className:Te($M({variant:t}),e),...r})}function Ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function MM(e,t){const r=v.createContext(t),n=a=>{const{children:c,...u}=a,f=v.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function o(a){const c=v.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function Rn(e,t=[]){let r=[];function n(a,c){const u=v.createContext(c),f=r.length;r=[...r,c];const h=p=>{var N;const{scope:x,children:y,...j}=p,w=((N=x==null?void 0:x[e])==null?void 0:N[f])||u,_=v.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:_,children:y})};h.displayName=a+"Provider";function m(p,x){var w;const y=((w=x==null?void 0:x[e])==null?void 0:w[f])||u,j=v.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[h,m]}const o=()=>{const a=r.map(c=>v.createContext(c));return function(u){const f=(u==null?void 0:u[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,IM(o,...t)]}function IM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(a)[`__scope${h}`];return{...u,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var ns=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},LM=Nd[" useId ".trim().toString()]||(()=>{}),FM=0;function ea(e){const[t,r]=v.useState(LM());return ns(()=>{r(n=>n??String(FM++))},[e]),t?`radix-${t}`:""}var UM=Nd[" useInsertionEffect ".trim().toString()]||ns;function Xi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,c]=BM({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:o;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=v.useCallback(m=>{var p;if(u){const x=VM(m)?m(e):m;x!==e&&((p=c.current)==null||p.call(c,x))}else a(m)},[u,e,a,c]);return[f,h]}function BM({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),o=v.useRef(r),a=v.useRef(t);return UM(()=>{a.current=t},[t]),v.useEffect(()=>{var c;o.current!==r&&((c=a.current)==null||c.call(a,r),o.current=r)},[r,o]),[r,n,a]}function VM(e){return typeof e=="function"}var zM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=zM.reduce((e,t)=>{const r=ua(`Primitive.${t}`),n=v.forwardRef((o,a)=>{const{asChild:c,...u}=o,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...u,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function a1(e,t){e&&Vi.flushSync(()=>e.dispatchEvent(t))}function mn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function WM(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e);v.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var HM="DismissableLayer",Np="dismissableLayer.update",qM="dismissableLayer.pointerDownOutside",YM="dismissableLayer.focusOutside",Mw,l1=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bd=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...f}=e,h=v.useContext(l1),[m,p]=v.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),j=St(t,E=>p(E)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(_),C=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,A=C>=N,T=KM(E=>{const O=E.target,R=[...h.branches].some(W=>W.contains(O));!A||R||(o==null||o(E),c==null||c(E),E.defaultPrevented||u==null||u())},x),P=XM(E=>{const O=E.target;[...h.branches].some(W=>W.contains(O))||(a==null||a(E),c==null||c(E),E.defaultPrevented||u==null||u())},x);return WM(E=>{C===h.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&u&&(E.preventDefault(),u()))},x),v.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Mw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Iw(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Mw)}},[m,x,r,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Iw())},[m,h]),v.useEffect(()=>{const E=()=>y({});return document.addEventListener(Np,E),()=>document.removeEventListener(Np,E)},[]),s.jsx(Xe.div,{...f,ref:j,style:{pointerEvents:k?A?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,T.onPointerDownCapture)})});Bd.displayName=HM;var GM="DismissableLayerBranch",c1=v.forwardRef((e,t)=>{const r=v.useContext(l1),n=v.useRef(null),o=St(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Xe.div,{...e,ref:o})});c1.displayName=GM;function KM(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e),n=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const a=u=>{if(u.target&&!n.current){let f=function(){u1(qM,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XM(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e),n=v.useRef(!1);return v.useEffect(()=>{const o=a=>{a.target&&!n.current&&u1(YM,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Iw(){const e=new CustomEvent(Np);document.dispatchEvent(e)}function u1(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?a1(o,a):o.dispatchEvent(a)}var JM=Bd,QM=c1,jm="focusScope.autoFocusOnMount",_m="focusScope.autoFocusOnUnmount",Lw={bubbles:!1,cancelable:!0},ZM="FocusScope",Nv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[u,f]=v.useState(null),h=mn(o),m=mn(a),p=v.useRef(null),x=St(t,w=>f(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(k){if(y.paused||!u)return;const A=k.target;u.contains(A)?p.current=A:Bs(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const A=k.relatedTarget;A!==null&&(u.contains(A)||Bs(p.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const T of k)T.removedNodes.length>0&&Bs(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[n,u,y.paused]),v.useEffect(()=>{if(u){Uw.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(jm,Lw);u.addEventListener(jm,h),u.dispatchEvent(N),N.defaultPrevented||(eI(iI(d1(u)),{select:!0}),document.activeElement===w&&Bs(u))}return()=>{u.removeEventListener(jm,h),setTimeout(()=>{const N=new CustomEvent(_m,Lw);u.addEventListener(_m,m),u.dispatchEvent(N),N.defaultPrevented||Bs(w??document.body,{select:!0}),u.removeEventListener(_m,m),Uw.remove(y)},0)}}},[u,h,m,y]);const j=v.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,A]=tI(C);k&&A?!w.shiftKey&&N===A?(w.preventDefault(),r&&Bs(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),r&&Bs(A,{select:!0})):N===C&&w.preventDefault()}},[r,n,y.paused]);return s.jsx(Xe.div,{tabIndex:-1,...c,ref:x,onKeyDown:j})});Nv.displayName=ZM;function eI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bs(n,{select:t}),document.activeElement!==r)return}function tI(e){const t=d1(e),r=Fw(t,e),n=Fw(t.reverse(),e);return[r,n]}function d1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fw(e,t){for(const r of e)if(!rI(r,{upTo:t}))return r}function rI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nI(e){return e instanceof HTMLInputElement&&"select"in e}function Bs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nI(e)&&t&&e.select()}}var Uw=sI();function sI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Bw(e,t),e.unshift(t)},remove(t){var r;e=Bw(e,t),(r=e[0])==null||r.resume()}}}function Bw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function iI(e){return e.filter(t=>t.tagName!=="A")}var oI="Portal",Vd=v.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[o,a]=v.useState(!1);ns(()=>a(!0),[]);const c=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Vb.createPortal(s.jsx(Xe.div,{...n,ref:t}),c):null});Vd.displayName=oI;function aI(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var $n=e=>{const{present:t,children:r}=e,n=lI(t),o=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=St(n.ref,cI(o));return typeof r=="function"||n.isPresent?v.cloneElement(o,{ref:a}):null};$n.displayName="Presence";function lI(e){const[t,r]=v.useState(),n=v.useRef(null),o=v.useRef(e),a=v.useRef("none"),c=e?"mounted":"unmounted",[u,f]=aI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Vu(n.current);a.current=u==="mounted"?h:"none"},[u]),ns(()=>{const h=n.current,m=o.current;if(m!==e){const x=a.current,y=Vu(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),ns(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=y=>{const w=Vu(n.current).includes(y.animationName);if(y.target===t&&w&&(f("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=y=>{y.target===t&&(a.current=Vu(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Vu(e){return(e==null?void 0:e.animationName)||"none"}function cI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sm=0;function f1(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vw()),document.body.insertAdjacentElement("beforeend",e[1]??Vw()),Sm++,()=>{Sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sm--}},[])}function Vw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ar=function(){return ar=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ar.apply(this,arguments)};function Cv(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function h1(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var $l="right-scroll-bar-position",Ml="width-before-scroll-bar",uI="with-scroll-bars-hidden",dI="--removed-body-scroll-bar-size";function Nm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fI(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var hI=typeof window<"u"?v.useLayoutEffect:v.useEffect,zw=new WeakMap;function m1(e,t){var r=fI(null,function(n){return e.forEach(function(o){return Nm(o,n)})});return hI(function(){var n=zw.get(r);if(n){var o=new Set(n),a=new Set(e),c=r.current;o.forEach(function(u){a.has(u)||Nm(u,null)}),a.forEach(function(u){o.has(u)||Nm(u,c)})}zw.set(r,e)},[e]),r}function mI(e){return e}function pI(e,t){t===void 0&&(t=mI);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(a),c=r}var f=function(){var m=c;c=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return o}function p1(e){e===void 0&&(e={});var t=pI(null);return t.options=ar({async:!0,ssr:!1},e),t}var v1=function(e){var t=e.sideCar,r=Cv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ar({},r))};v1.isSideCarExport=!0;function g1(e,t){return e.useMedium(t),v1}var x1=p1(),Cm=function(){},zd=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Cm,onWheelCapture:Cm,onTouchMoveCapture:Cm}),o=n[0],a=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=e.gapMode,k=Cv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=x,T=m1([r,t]),P=ar(ar({},k),o);return v.createElement(v.Fragment,null,m&&v.createElement(A,{sideCar:x1,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:C}),c?v.cloneElement(v.Children.only(u),ar(ar({},P),{ref:T})):v.createElement(N,ar({},P,{className:f,ref:T}),u))});zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zd.classNames={fullWidth:Ml,zeroRight:$l};var vI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vI();return t&&e.setAttribute("nonce",t),e}function xI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=gI())&&(xI(t,r),yI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bI=function(){var e=wI();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kv=function(){var e=bI(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},jI={left:0,top:0,right:0,gap:0},km=function(e){return parseInt(e||"",10)||0},_I=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[km(r),km(n),km(o)]},SI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jI;var t=_I(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},NI=kv(),ta="data-scroll-locked",CI=function(e,t,r,n){var o=e.left,a=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(uI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($l,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ml,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat($l," .").concat($l,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ml," .").concat(Ml,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(dI,": ").concat(u,`px;
  }
`)},Ww=function(){var e=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(e)?e:0},kI=function(){v.useEffect(function(){return document.body.setAttribute(ta,(Ww()+1).toString()),function(){var e=Ww()-1;e<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,e.toString())}},[])},y1=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;kI();var a=v.useMemo(function(){return SI(o)},[o]);return v.createElement(NI,{styles:CI(a,!t,o,r?"":"!important")})},Cp=!1;if(typeof window<"u")try{var zu=Object.defineProperty({},"passive",{get:function(){return Cp=!0,!0}});window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Cp=!1}var Uo=Cp?{passive:!1}:!1,EI=function(e){return e.tagName==="TEXTAREA"},w1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EI(e)&&r[t]==="visible")},PI=function(e){return w1(e,"overflowY")},TI=function(e){return w1(e,"overflowX")},Hw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=b1(e,n);if(o){var a=j1(e,n),c=a[1],u=a[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},AI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},DI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},b1=function(e,t){return e==="v"?PI(t):TI(t)},j1=function(e,t){return e==="v"?AI(t):DI(t)},OI=function(e,t){return e==="h"&&t==="rtl"?-1:1},RI=function(e,t,r,n,o){var a=OI(e,window.getComputedStyle(t).direction),c=a*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=j1(e,u),j=y[0],w=y[1],_=y[2],N=w-_-a*j;(j||N)&&b1(e,u)&&(p+=N,x+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(h=!0),h},Wu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qw=function(e){return[e.deltaX,e.deltaY]},Yw=function(e){return e&&"current"in e?e.current:e},$I=function(e,t){return e[0]===t[0]&&e[1]===t[1]},MI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},II=0,Bo=[];function LI(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),o=v.useState(II++)[0],a=v.useState(kv)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=h1([e.lockRef.current],(e.shards||[]).map(Yw),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var N=Wu(w),C=r.current,k="deltaX"in w?w.deltaX:C[0]-N[0],A="deltaY"in w?w.deltaY:C[1]-N[1],T,P=w.target,E=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in w&&E==="h"&&P.type==="range")return!1;var O=Hw(E,P);if(!O)return!0;if(O?T=E:(T=E==="v"?"h":"v",O=Hw(E,P)),!O)return!1;if(!n.current&&"changedTouches"in w&&(k||A)&&(n.current=T),!T)return!0;var R=n.current||T;return RI(R,_,w,R==="h"?k:A)},[]),f=v.useCallback(function(w){var _=w;if(!(!Bo.length||Bo[Bo.length-1]!==a)){var N="deltaY"in _?qw(_):Wu(_),C=t.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&$I(T.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(Yw).filter(Boolean).filter(function(T){return T.contains(_.target)}),A=k.length>0?u(_,k[0]):!c.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C,shadowParent:FI(N)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(A){return A!==k})},1)},[]),m=v.useCallback(function(w){r.current=Wu(w),n.current=void 0},[]),p=v.useCallback(function(w){h(w.type,qw(w),w.target,u(w,e.lockRef.current))},[]),x=v.useCallback(function(w){h(w.type,Wu(w),w.target,u(w,e.lockRef.current))},[]);v.useEffect(function(){return Bo.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Uo),document.addEventListener("touchmove",f,Uo),document.addEventListener("touchstart",m,Uo),function(){Bo=Bo.filter(function(w){return w!==a}),document.removeEventListener("wheel",f,Uo),document.removeEventListener("touchmove",f,Uo),document.removeEventListener("touchstart",m,Uo)}},[]);var y=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(a,{styles:MI(o)}):null,y?v.createElement(y1,{gapMode:e.gapMode}):null)}function FI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UI=g1(x1,LI);var Ev=v.forwardRef(function(e,t){return v.createElement(zd,ar({},e,{ref:t,sideCar:UI}))});Ev.classNames=zd.classNames;var BI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vo=new WeakMap,Hu=new WeakMap,qu={},Em=0,_1=function(e){return e&&(e.host||_1(e.parentNode))},VI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=_1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zI=function(e,t,r,n){var o=VI(t,Array.isArray(e)?e:[e]);qu[r]||(qu[r]=new WeakMap);var a=qu[r],c=[],u=new Set,f=new Set(o),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};o.forEach(h);var m=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(x){if(u.has(x))m(x);else try{var y=x.getAttribute(n),j=y!==null&&y!=="false",w=(Vo.get(x)||0)+1,_=(a.get(x)||0)+1;Vo.set(x,w),a.set(x,_),c.push(x),w===1&&j&&Hu.set(x,!0),_===1&&x.setAttribute(r,"true"),j||x.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return m(t),u.clear(),Em++,function(){c.forEach(function(p){var x=Vo.get(p)-1,y=a.get(p)-1;Vo.set(p,x),a.set(p,y),x||(Hu.has(p)||p.removeAttribute(n),Hu.delete(p)),y||p.removeAttribute(r)}),Em--,Em||(Vo=new WeakMap,Vo=new WeakMap,Hu=new WeakMap,qu={})}},Pv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=BI(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),zI(n,o,r,"aria-hidden")):function(){return null}},Wd="Dialog",[S1,cV]=Rn(Wd),[WI,yn]=S1(Wd),N1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:c=!0}=e,u=v.useRef(null),f=v.useRef(null),[h,m]=Xi({prop:n,defaultProp:o??!1,onChange:a,caller:Wd});return s.jsx(WI,{scope:t,triggerRef:u,contentRef:f,contentId:ea(),titleId:ea(),descriptionId:ea(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),modal:c,children:r})};N1.displayName=Wd;var C1="DialogTrigger",k1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(C1,r),a=St(t,o.triggerRef);return s.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ov(o.open),...n,ref:a,onClick:Ye(e.onClick,o.onOpenToggle)})});k1.displayName=C1;var Tv="DialogPortal",[HI,E1]=S1(Tv,{forceMount:void 0}),P1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=yn(Tv,t);return s.jsx(HI,{scope:t,forceMount:r,children:v.Children.map(n,c=>s.jsx($n,{present:r||a.open,children:s.jsx(Vd,{asChild:!0,container:o,children:c})}))})};P1.displayName=Tv;var vd="DialogOverlay",T1=v.forwardRef((e,t)=>{const r=E1(vd,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=yn(vd,e.__scopeDialog);return a.modal?s.jsx($n,{present:n||a.open,children:s.jsx(YI,{...o,ref:t})}):null});T1.displayName=vd;var qI=ua("DialogOverlay.RemoveScroll"),YI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(vd,r);return s.jsx(Ev,{as:qI,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(Xe.div,{"data-state":Ov(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fi="DialogContent",A1=v.forwardRef((e,t)=>{const r=E1(Fi,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=yn(Fi,e.__scopeDialog);return s.jsx($n,{present:n||a.open,children:a.modal?s.jsx(GI,{...o,ref:t}):s.jsx(KI,{...o,ref:t})})});A1.displayName=Fi;var GI=v.forwardRef((e,t)=>{const r=yn(Fi,e.__scopeDialog),n=v.useRef(null),o=St(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return Pv(a)},[]),s.jsx(D1,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,a=>a.preventDefault())})}),KI=v.forwardRef((e,t)=>{const r=yn(Fi,e.__scopeDialog),n=v.useRef(!1),o=v.useRef(!1);return s.jsx(D1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),D1=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=e,u=yn(Fi,r),f=v.useRef(null),h=St(t,f);return f1(),s.jsxs(s.Fragment,{children:[s.jsx(Nv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Bd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ov(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(XI,{titleId:u.titleId}),s.jsx(QI,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Av="DialogTitle",O1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(Av,r);return s.jsx(Xe.h2,{id:o.titleId,...n,ref:t})});O1.displayName=Av;var R1="DialogDescription",Dv=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(R1,r);return s.jsx(Xe.p,{id:o.descriptionId,...n,ref:t})});Dv.displayName=R1;var $1="DialogClose",M1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn($1,r);return s.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,()=>o.onOpenChange(!1))})});M1.displayName=$1;function Ov(e){return e?"open":"closed"}var I1="DialogTitleWarning",[uV,L1]=MM(I1,{contentName:Fi,titleName:Av,docsSlug:"dialog"}),XI=({titleId:e})=>{const t=L1(I1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},JI="DialogDescriptionWarning",QI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L1(JI).contentName}}.`;return v.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ZI=N1,eL=k1,tL=P1,F1=T1,U1=A1,B1=O1,V1=Dv,rL=M1;const Kr=ZI,ai=eL,nL=tL,z1=ge.forwardRef(({className:e,...t},r)=>s.jsx(F1,{ref:r,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));z1.displayName=F1.displayName;const $r=ge.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nL,{children:[s.jsx(z1,{}),s.jsxs(U1,{ref:n,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(rL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(us,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$r.displayName=U1.displayName;const Mr=({className:e,...t})=>s.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mr.displayName="DialogHeader";const Ji=({className:e,...t})=>s.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ji.displayName="DialogFooter";const Ir=ge.forwardRef(({className:e,...t},r)=>s.jsx(B1,{ref:r,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));Ir.displayName=B1.displayName;const Hd=ge.forwardRef(({className:e,...t},r)=>s.jsx(V1,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));Hd.displayName=V1.displayName;const we=ge.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Te("flex h-11 w-full rounded-md border border-[#3CB371] bg-white/90 px-4 py-2 text-base text-[#36383b] placeholder:text-[#3CB371] shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#2E8B57] focus-visible:ring-offset-2 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));we.displayName="Input";var sL="Label",W1=v.forwardRef((e,t)=>s.jsx(Xe.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));W1.displayName=sL;var H1=W1;const iL=Ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=ge.forwardRef(({className:e,...t},r)=>s.jsx(H1,{ref:r,className:Te(iL(),e),...t}));le.displayName=H1.displayName;const qd=({onSuccess:e})=>{const[t,r]=v.useState(""),[n,o]=v.useState(""),[a,c]=v.useState(!1),[u,f]=v.useState(0),[h,m]=v.useState(!1);v.useEffect(()=>{if(u>0){const y=setTimeout(()=>f(u-1),1e3);return()=>clearTimeout(y)}},[u]);const p=async y=>{if(y.preventDefault(),!t.trim()){re({variant:"destructive",title:"Error",description:"Please enter a phone number"});return}const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`;c(!0);try{const{error:w}=await de.auth.signInWithOtp({phone:j});if(w)throw w;m(!0),f(30),re({title:"Code Sent",description:"Please check your phone for the verification code."})}catch(w){console.error("Error sending OTP:",w),re({variant:"destructive",title:"Error",description:w.message})}finally{c(!1)}},x=async y=>{if(y.preventDefault(),!n.trim()||n.length!==6){re({variant:"destructive",title:"Error",description:"Please enter a valid 6-digit code"});return}c(!0);try{const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`,{error:w}=await de.auth.verifyOtp({phone:j,token:n,type:"sms"});if(w)throw w;re({title:"Success",description:"You have been successfully logged in."}),e&&e()}catch(j){console.error("Error verifying OTP:",j),re({variant:"destructive",title:"Error",description:j.message})}finally{c(!1)}};return s.jsx("div",{className:"w-full max-w-lg mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 border border-primary/20 shadow-lg",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome "}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please verify your phone number to continue."})]}),s.jsxs("form",{onSubmit:h?x:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",className:"text-sm font-semibold text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"+61"})}),s.jsx(we,{id:"phone",type:"tel",placeholder:"04XXXXXXXX",value:t.replace(/^\+61/,""),onChange:y=>r(y.target.value),disabled:a||h,className:"pl-10 h-10 text-base border-2 focus:border-primary transition-colors"})]})]}),h&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"otp",className:"text-sm font-semibold text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{id:"otp",type:"text",maxLength:6,placeholder:"Enter 6-digit code",value:n,onChange:y=>o(y.target.value.replace(/\D/g,"").slice(0,6)),disabled:a,className:"h-10 text-base text-center tracking-widest border-2 focus:border-primary transition-colors"}),n.length===6&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(Zo,{className:"w-4 h-4 text-green-500"})})]})]}),s.jsx("div",{className:"space-y-2",children:h?s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:a||n.length!==6,children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verifying..."]}):"Verify & Sign In"}),s.jsx(J,{type:"button",variant:"outline",className:"w-full h-8 text-sm",onClick:p,disabled:a||u>0,children:u>0?`Resend in ${u}s`:"Resend Code"})]}):s.jsx(J,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:a||!t.trim(),children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending Code..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(P$,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-center text-gray-500 leading-relaxed",children:["By continuing, you agree to our"," ",s.jsx(Ae,{to:"/terms",className:"text-primary hover:underline font-medium",target:"_blank",children:"Terms of Service"})," ","and"," ",s.jsx(Ae,{to:"/privacy",className:"text-primary hover:underline font-medium",target:"_blank",children:"Privacy Policy"})]})})]})})},Rv=({open:e,onOpenChange:t})=>s.jsx(Kr,{open:e,onOpenChange:t,children:s.jsxs($r,{className:"sm:max-w-[425px]",children:[s.jsxs(Mr,{children:[s.jsx(Ir,{children:"Login"}),s.jsx(Hd,{children:"Enter your phone number to create an account or sign-in."})]}),s.jsx(qd,{onSuccess:()=>t(!1)})]})}),_a="Australia/Adelaide",cn=(e=_a)=>{const t=new Date,r=t.getTime()+t.getTimezoneOffset()*6e4;return new Date(r+oL(e)*6e4)},oL=e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-r.getTime())/(1e3*60)},kt=(e,t=_a)=>{const r={timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",r).format(e)},Jo=e=>{const[t,r]=e.split(":").map(Number),n=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${n}`},aL=(e,t)=>{const r=e>=12?"PM":"AM";return`${e%12||12}:${t.toString().padStart(2,"0")} ${r}`},lL=()=>{const e=[];for(let t=0;t<24;t++)for(let r=0;r<60;r+=30){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,o=aL(t,r);e.push({value:n,label:o})}return e},cL=(e,t)=>{const[r,n]=e.split(":").map(Number),[o,a]=t.split(":").map(Number),c=r*60+n;return o*60+a>c},q1=async e=>{if(!e)return[];const t=(()=>{try{return JSON.parse(localStorage.getItem("notifications_read_"+e)).data||[]}catch{return[]}})(),r=lr(`notifications_${e}`)||[],{data:n}=await de.from("orders").select("*").eq("user_id",e).in("status",["pending","processing"]).order("expected_delivery_at",{ascending:!0}).limit(3),{data:o}=await de.from("pickup_orders").select("*").eq("user_id",e).in("status",["pending","processing","ready"]).order("pickup_date",{ascending:!0}).limit(3),a=[...(n||[]).map(u=>({type:"order",id:u.id,title:"Upcoming Delivery",time:`${new Date(u.expected_delivery_at)}`,admin_messages:u.admin_messages||[],status:u.status})),...(o||[]).map(u=>({type:"pickup",id:u.id,title:"Upcoming Grocery Run",time:u.time_slot?`${new Date(u.pickup_date)} - ${u.time_slot}`:u.pickup_date,admin_messages:u.admin_messages||[],status:u.status}))],c=a.map(u=>{var m;const f=r.find(p=>p.type===u.type&&p.id===u.id);let h=!1;return t.includes(`${u.type}_${u.id}`)?f&&(((m=f.admin_messages)==null?void 0:m.length)!==u.admin_messages.length||f.status!==u.status||f.time!==u.time)&&(h=!0,qt(`notifications_read_${e}`,t.filter(p=>p!==`${u.type}_${u.id}`),1)):h=!0,{...u,unread:h}});return qt(`notifications_${e}`,a,1),c},Gw="notifications_read_",uL=({open:e,onClose:t,onRead:r})=>{const{user:n}=Jt(),[o,a]=v.useState([]),[c,u]=v.useState(!1),f=v.useRef(),h=Xt(),m=()=>{if(!n)return[];try{return JSON.parse(localStorage.getItem(Gw+n.id)).data||[]}catch{return[]}},p=j=>{n&&qt(Gw+`${n.id}`,j,100)},x=async()=>{if(!n)return;u(!0);let j=m();const w=await q1(n.id);a(w.map(_=>({..._,unread:!j.includes(`${_.type}_${_.id}`)}))),u(!1)};v.useEffect(()=>{if(e&&o.length>0&&n){const j=o.map(w=>`${w.type}_${w.id}`);p(j),a(o.map(w=>({...w,unread:!1}))),r&&r()}},[e]),v.useEffect(()=>{if(!(!e||!n))return x(),f.current=setInterval(x,3e4),()=>clearInterval(f.current)},[e,n]);const y=j=>{j.type==="order"?h(`/order-confirmation/${j.id}`):h(`/pickup-order/${j.id}`),t()};return s.jsx(ia,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t}),s.jsxs(je.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),s.jsx(J,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded p-4 space-y-4",children:c?s.jsx("div",{className:"text-center text-muted-foreground",children:"Loading..."}):o.length===0?s.jsx("div",{className:"text-center text-muted-foreground",children:"No notifications"}):o.map((j,w)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted cursor-pointer hover:bg-primary/10 transition relative",onClick:()=>y(j),children:[j.type==="order"?s.jsx(Gr,{className:"w-6 h-6 text-primary"}):s.jsx(oi,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[j.title,j.unread&&s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-orange-500",title:"Unread"})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:j.time?j.time:""})]})]},j.id))})]})]})})},dL=()=>{var P;const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[o,a]=v.useState(!1),[c,u]=v.useState(0),{getCartCount:f,toggleCart:h}=cs(),{user:m,isAdmin:p,logout:x,loading:y}=Jt(),j=Xt(),w=f(),_=()=>t(!1),N=async()=>{await x(),_(),j("/")},k=ls().pathname==="/",A={closed:{opacity:0,x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}}};v.useEffect(()=>{let E;const O=async()=>{if(!m){u(0);return}const R=await q1(m.id),W=(()=>{try{return JSON.parse(localStorage.getItem("notifications_read_"+m.id)).data||[]}catch{return[]}})(),Z=R.filter(Q=>!W.includes(`${Q.type}_${Q.id}`));u(Z.length)};return O(),E=setInterval(O,45e3),()=>clearInterval(E)},[m]);const T=()=>{u(0)};return s.jsxs("header",{className:"sticky top-0 z-40 w-full bg-gradient-to-r from-[#2E8B57] via-[#3CB371] to-[#98D598] shadow-sm",children:[s.jsxs("div",{className:"container flex items-center justify-between h-16 px-4 mx-auto md:px-6",children:[s.jsxs(Ae,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{style:{backgroundImage:"url(https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/logo-plain.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"130px",height:"40px"},"aria-label":"Groceroo Logo"}),k?s.jsx(s.Fragment,{}):s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/home-icon.webp",alt:"Home",style:{marginLeft:"5px",marginBottom:"2px",width:"15px",height:"15px"},className:"w-3 h-3","aria-label":"Home"})]}),s.jsxs("nav",{className:"hidden md:flex md:items-center md:space-x-6",children:[s.jsx(Ae,{to:"/grocery-run",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Grocery Run"}),s.jsx(Ae,{to:"/shop",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Shop"}),s.jsx(Ae,{to:"/categories",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Categories"}),p&&s.jsx(Ae,{to:"/admin",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Admin Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs(J,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:()=>a(!0),children:[s.jsx(H4,{className:"w-5 h-5 text-white"}),c>0&&s.jsx(ot,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:c})]}),s.jsx(uL,{open:o,onClose:()=>a(!1),onRead:T}),s.jsxs(J,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:h,children:[s.jsx(Zs,{className:"w-5 h-5 text-white"}),w>0&&s.jsx(ot,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:w})]}),!y&&(m?s.jsx("div",{className:"md:flex md:items-center md:space-x-2",children:s.jsx(Ae,{to:"/account",children:s.jsxs(J,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 text-white hover:bg-transparent hover:text-accent-white",children:[s.jsx(Pw,{className:"w-4 h-4"}),s.jsx("span",{children:(P=m.name)==null?void 0:P.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,4)})]})})}):s.jsx(J,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",size:"sm",onClick:()=>n(!0),children:s.jsx(Pw,{})}))]})]}),s.jsx(ia,{children:e&&s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_,children:s.jsxs(je.div,{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-xl",variants:A,initial:"closed",animate:"open",exit:"closed",onClick:E=>E.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Menu"}),s.jsx(J,{variant:"ghost",size:"icon",onClick:_,children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[s.jsx(Ae,{to:"/",className:"flex items-center space-x-2 text-sm",onClick:_,children:"Home"}),s.jsx(Ae,{to:"/shop",className:"flex items-center space-x-2 text-sm",onClick:_,children:"Shop"}),s.jsx(Ae,{to:"/categories",className:"flex items-center space-x-2 text-sm",onClick:_,children:"Categories"}),p&&s.jsxs(Ae,{to:"/admin",className:"flex items-center space-x-2 text-sm",onClick:_,children:[s.jsx(Gr,{className:"w-4 h-4"}),s.jsx("span",{children:"Admin Dashboard"})]}),!y&&(m?s.jsxs(s.Fragment,{children:[s.jsxs(Ae,{to:"/account",className:"flex items-center space-x-2 text-sm",onClick:_,children:[s.jsx(bp,{className:"w-4 h-4"}),s.jsx("span",{children:"My Account"})]}),s.jsxs(J,{variant:"ghost",className:"flex items-center justify-start space-x-2 text-sm",onClick:N,children:[s.jsx(X_,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]}):s.jsx(J,{onClick:()=>{_(),n(!0)},children:"Sign In"}))]})]})})}),s.jsx(Rv,{open:r,onOpenChange:n})]})},fL=()=>{const e=new Date().getFullYear(),t=()=>{window.confirm("Are you sure you want to clear local storage, session storage, and cookies?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())};return s.jsx("footer",{className:"bg-white border-t",children:s.jsxs("div",{className:"container px-4 py-12 mx-auto md:px-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{style:{backgroundImage:"url(https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/logo.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"100px",height:"40px"},"aria-label":"Groceroo Logo"}),s.jsx("div",{className:"text-xs text-gray-500",children:"ABN 257 558 402 06"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Express grocery shopping and delivery service in Adelaide."}),s.jsx("div",{className:"flex space-x-4",children:s.jsx("a",{href:"https://www.instagram.com/groceroo_adl?igsh=bXFmN2J2cHp3cHQ=",className:"text-gray-500 hover:text-primary",children:s.jsx(y$,{className:"w-5 h-5"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Ae,{to:"/categories",className:"text-gray-600 hover:text-primary",children:"Categories"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/shop",className:"text-gray-600 hover:text-primary",children:"All Products"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/shop?featured=true",className:"text-gray-600 hover:text-primary",children:"Featured Items"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Get in Touch"}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(J_,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"mailto:contact@groceroo.com.au",className:"hover:text-primary underline",children:"contact@groceroo.com.au"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Fd,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"tel:+61478477036",className:"hover:text-primary underline",children:"+61 478 477 036"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ld,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"https://wa.me/61478477036",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary underline",children:"WhatsApp"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"More"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Ae,{to:"/",className:"text-gray-600 hover:text-primary",children:"Home"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/privacy",className:"text-gray-600 hover:text-primary",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/terms",className:"text-gray-600 hover:text-primary",children:"Terms and conditions"})})]})]})]}),s.jsx("div",{className:"pt-8 mt-8 border-t",children:s.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 md:flex-row md:space-y-0",children:[s.jsxs("p",{className:"text-xs text-gray-600",children:["© ",e," Groceroo. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsx("button",{onClick:t,className:"hover:text-red-500 text-xs",children:"Clear Data"}),s.jsx(Ae,{to:"/privacy",className:"hover:text-primary",children:"Privacy Policy"}),s.jsx(Ae,{to:"/terms",className:"hover:text-primary",children:"Terms of Service"})]}),s.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:s.jsx("p",{className:"text-md text-[#25D366] font-semibold",children:"SARITA ❤️"})})]})})]})})},hL=()=>{const{cart:e,isCartOpen:t,closeCart:r,removeFromCart:n,updateQuantity:o,getCartTotal:a,clearCart:c}=cs(),u=Xt(),f=()=>{r(),u("/checkout")},h={closed:{x:"100%",transition:{type:"spring",stiffness:180,damping:24,mass:.8}},open:{x:0,transition:{type:"spring",stiffness:180,damping:24,mass:.8}}},m={closed:{opacity:0,transition:{duration:.18}},open:{opacity:1,transition:{duration:.28}}};return s.jsx(ia,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50",style:{willChange:"transform"},initial:"closed",animate:"open",exit:"closed",variants:m,onClick:r}),s.jsxs(je.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:"closed",animate:"open",exit:"closed",variants:h,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Your Cart"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.reduce((p,x)=>p+x.quantity,0)," items)"]})]}),s.jsx(J,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(us,{className:"w-5 h-5"})})]}),e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 space-y-4 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Zs,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-medium",children:"Your cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added any products to your cart yet."}),s.jsx(J,{onClick:()=>{r(),u("/shop")},children:"Continue Shopping"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded p-4",children:s.jsx("ul",{className:"space-y-4",children:s.jsx(ia,{children:e.map(p=>s.jsxs(je.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center space-x-4 p-3 rounded-lg border bg-card",children:[s.jsx("div",{className:"w-16 h-16 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:s.jsx("img",{alt:p.name,className:"w-full h-full object-cover",onClick:()=>{r(),u(`/product/${p.id}`)},src:p.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se(p.price)," / ",p.unit]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx(J,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity-1),children:s.jsx(ja,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm w-8 text-center",children:p.quantity}),s.jsx(J,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity+1),children:s.jsx(Yi,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:Se(p.price*p.quantity)}),s.jsx(J,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>n(p.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},p.id))})})}),e.length>0&&s.jsx("div",{className:"flex justify-center my-2",children:s.jsxs(Ae,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1",onClick:()=>r(),children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsx("div",{className:"p-4 border-t bg-muted/30",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),s.jsx("span",{className:"text-sm font-medium",children:Se(a())})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Charges & Fees"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated at checkout"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total"}),s.jsx("span",{className:"text-base font-semibold",children:Se(a())})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(J,{variant:"outline",className:"w-full",onClick:()=>{window.confirm("Are you sure you want to clear your cart?")&&c()},children:"Clear Cart"}),s.jsx(J,{className:"w-full",onClick:f,disabled:e.length===0,children:"Checkout"})]})]})})]})]})]})})};function Y1(e){const t=e+"CollectionProvider",[r,n]=Rn(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:N}=w,C=ge.useRef(null),k=ge.useRef(new Map).current;return s.jsx(o,{scope:_,itemMap:k,collectionRef:C,children:N})};c.displayName=t;const u=e+"CollectionSlot",f=ua(u),h=ge.forwardRef((w,_)=>{const{scope:N,children:C}=w,k=a(u,N),A=St(_,k.collectionRef);return s.jsx(f,{ref:A,children:C})});h.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=ua(m),y=ge.forwardRef((w,_)=>{const{scope:N,children:C,...k}=w,A=ge.useRef(null),T=St(_,A),P=a(m,N);return ge.useEffect(()=>(P.itemMap.set(A,{ref:A,...k}),()=>void P.itemMap.delete(A))),s.jsx(x,{[p]:"",ref:T,children:C})});y.displayName=m;function j(w){const _=a(e+"CollectionConsumer",w);return ge.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((P,E)=>k.indexOf(P.ref.current)-k.indexOf(E.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},j,n]}var mL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pL="VisuallyHidden",$v=v.forwardRef((e,t)=>s.jsx(Xe.span,{...e,ref:t,style:{...mL,...e.style}}));$v.displayName=pL;var Mv="ToastProvider",[Iv,vL,gL]=Y1("Toast"),[G1,dV]=Rn("Toast",[gL]),[xL,Yd]=G1(Mv),K1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=e,[u,f]=v.useState(null),[h,m]=v.useState(0),p=v.useRef(!1),x=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mv}\`. Expected non-empty \`string\`.`),s.jsx(Iv.Provider,{scope:t,children:s.jsx(xL,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:v.useCallback(()=>m(y=>y+1),[]),onToastRemove:v.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};K1.displayName=Mv;var X1="ToastViewport",yL=["F8"],kp="toast.viewportPause",Ep="toast.viewportResume",J1=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=yL,label:o="Notifications ({hotkey})",...a}=e,c=Yd(X1,r),u=vL(r),f=v.useRef(null),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),x=St(t,p,c.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;v.useEffect(()=>{const _=N=>{var k;n.length!==0&&n.every(A=>N[A]||N.code===A)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),v.useEffect(()=>{const _=f.current,N=p.current;if(j&&_&&N){const C=()=>{if(!c.isClosePausedRef.current){const P=new CustomEvent(kp);N.dispatchEvent(P),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const P=new CustomEvent(Ep);N.dispatchEvent(P),c.isClosePausedRef.current=!1}},A=P=>{!_.contains(P.relatedTarget)&&k()},T=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",C),_.addEventListener("focusout",A),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",T),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",C),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",T),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[j,c.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:_})=>{const C=u().map(k=>{const A=k.ref.current,T=[A,...DL(A)];return _==="forwards"?T:T.reverse()});return(_==="forwards"?C.reverse():C).flat()},[u]);return v.useEffect(()=>{const _=p.current;if(_){const N=C=>{var T,P,E;const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const O=document.activeElement,R=C.shiftKey;if(C.target===_&&R){(T=h.current)==null||T.focus();return}const Q=w({tabbingDirection:R?"backwards":"forwards"}),q=Q.findIndex(I=>I===O);Pm(Q.slice(q+1))?C.preventDefault():R?(P=h.current)==null||P.focus():(E=m.current)==null||E.focus()}};return _.addEventListener("keydown",N),()=>_.removeEventListener("keydown",N)}},[u,w]),s.jsxs(QM,{ref:f,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&s.jsx(Pp,{ref:h,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});Pm(_)}}),s.jsx(Iv.Slot,{scope:r,children:s.jsx(Xe.ol,{tabIndex:-1,...a,ref:x})}),j&&s.jsx(Pp,{ref:m,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});Pm(_)}})]})});J1.displayName=X1;var Q1="ToastFocusProxy",Pp=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=Yd(Q1,r);return s.jsx($v,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=a.viewport)!=null&&h.contains(u))&&n()}})});Pp.displayName=Q1;var ac="Toast",wL="toast.swipeStart",bL="toast.swipeMove",jL="toast.swipeCancel",_L="toast.swipeEnd",Z1=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...c}=e,[u,f]=Xi({prop:n,defaultProp:o??!0,onChange:a,caller:ac});return s.jsx($n,{present:r||u,children:s.jsx(CL,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:mn(e.onPause),onResume:mn(e.onResume),onSwipeStart:Ye(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ye(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});Z1.displayName=ac;var[SL,NL]=G1(ac,{onClose(){}}),CL=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...j}=e,w=Yd(ac,r),[_,N]=v.useState(null),C=St(t,I=>N(I)),k=v.useRef(null),A=v.useRef(null),T=o||w.duration,P=v.useRef(0),E=v.useRef(T),O=v.useRef(0),{onToastAdd:R,onToastRemove:W}=w,Z=mn(()=>{var B;(_==null?void 0:_.contains(document.activeElement))&&((B=w.viewport)==null||B.focus()),c()}),Q=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(O.current),P.current=new Date().getTime(),O.current=window.setTimeout(Z,I))},[Z]);v.useEffect(()=>{const I=w.viewport;if(I){const B=()=>{Q(E.current),h==null||h()},F=()=>{const z=new Date().getTime()-P.current;E.current=E.current-z,window.clearTimeout(O.current),f==null||f()};return I.addEventListener(kp,F),I.addEventListener(Ep,B),()=>{I.removeEventListener(kp,F),I.removeEventListener(Ep,B)}}},[w.viewport,T,f,h,Q]),v.useEffect(()=>{a&&!w.isClosePausedRef.current&&Q(T)},[a,T,w.isClosePausedRef,Q]),v.useEffect(()=>(R(),()=>W()),[R,W]);const q=v.useMemo(()=>_?oS(_):null,[_]);return w.viewport?s.jsxs(s.Fragment,{children:[q&&s.jsx(kL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),s.jsx(SL,{scope:r,onClose:Z,children:Vi.createPortal(s.jsx(Iv.ItemSlot,{scope:r,children:s.jsx(JM,{asChild:!0,onEscapeKeyDown:Ye(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||Z(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ye(e.onKeyDown,I=>{I.key==="Escape"&&(u==null||u(I.nativeEvent),I.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:Ye(e.onPointerDown,I=>{I.button===0&&(k.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ye(e.onPointerMove,I=>{if(!k.current)return;const B=I.clientX-k.current.x,F=I.clientY-k.current.y,z=!!A.current,L=["left","right"].includes(w.swipeDirection),H=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,ee=L?H(0,B):0,$=L?0:H(0,F),K=I.pointerType==="touch"?10:2,ne={x:ee,y:$},ce={originalEvent:I,delta:ne};z?(A.current=ne,Yu(bL,p,ce,{discrete:!1})):Kw(ne,w.swipeDirection,K)?(A.current=ne,Yu(wL,m,ce,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>K||Math.abs(F)>K)&&(k.current=null)}),onPointerUp:Ye(e.onPointerUp,I=>{const B=A.current,F=I.target;if(F.hasPointerCapture(I.pointerId)&&F.releasePointerCapture(I.pointerId),A.current=null,k.current=null,B){const z=I.currentTarget,L={originalEvent:I,delta:B};Kw(B,w.swipeDirection,w.swipeThreshold)?Yu(_L,y,L,{discrete:!0}):Yu(jL,x,L,{discrete:!0}),z.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),kL=e=>{const{__scopeToast:t,children:r,...n}=e,o=Yd(ac,t),[a,c]=v.useState(!1),[u,f]=v.useState(!1);return TL(()=>c(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:s.jsx(Vd,{asChild:!0,children:s.jsx($v,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},EL="ToastTitle",eS=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Xe.div,{...n,ref:t})});eS.displayName=EL;var PL="ToastDescription",tS=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Xe.div,{...n,ref:t})});tS.displayName=PL;var rS="ToastAction",nS=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(iS,{altText:r,asChild:!0,children:s.jsx(Lv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),null)});nS.displayName=rS;var sS="ToastClose",Lv=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=NL(sS,r);return s.jsx(iS,{asChild:!0,children:s.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,o.onClose)})})});Lv.displayName=sS;var iS=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function oS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),AL(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...oS(n))}}),t}function Yu(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?a1(o,a):o.dispatchEvent(a)}var Kw=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function TL(e=()=>{}){const t=mn(e);ns(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function AL(e){return e.nodeType===e.ELEMENT_NODE}function DL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Pm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var OL=K1,aS=J1,lS=Z1,cS=eS,uS=tS,dS=nS,fS=Lv;const RL=OL,hS=ge.forwardRef(({className:e,...t},r)=>s.jsx(aS,{ref:r,className:Te("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 md:max-w-[420px]",e),...t}));hS.displayName=aS.displayName;const $L=Ud("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mS=ge.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(lS,{ref:n,className:Te($L({variant:t}),e),...r}));mS.displayName=lS.displayName;const ML=ge.forwardRef(({className:e,...t},r)=>s.jsx(dS,{ref:r,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ML.displayName=dS.displayName;const pS=ge.forwardRef(({className:e,...t},r)=>s.jsx(fS,{ref:r,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(us,{className:"h-4 w-4"})}));pS.displayName=fS.displayName;const vS=ge.forwardRef(({className:e,...t},r)=>s.jsx(cS,{ref:r,className:Te("text-sm font-semibold",e),...t}));vS.displayName=cS.displayName;const gS=ge.forwardRef(({className:e,...t},r)=>s.jsx(uS,{ref:r,className:Te("text-sm opacity-90",e),...t}));gS.displayName=uS.displayName;function IL(){const{openCart:e}=cs();return s.jsx("button",{size:"lg",className:"text-primary font-large hover:underline text-lg flex items-center gap-1",onClick:e,tabIndex:0,children:s.jsx("span",{style:{fontSize:"12px",padding:"4px",wordSpacing:"0.5px",cursor:"pointer"},children:"View"})})}function LL(){const{toasts:e}=jO();return s.jsxs(RL,{children:[e.map(({id:t,title:r,description:n,action:o,dismiss:a,...c})=>{let u=null;return o==="view-cart"?u=s.jsx(IL,{}):o&&(u=o),s.jsxs(mS,{...c,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(vS,{children:r}),n&&s.jsx(gS,{children:n})]}),u,s.jsx(pS,{})]},t)}),s.jsx(hS,{})]})}const FL=()=>{const[e,t]=v.useState(!1);v.useEffect(()=>{const n=()=>{t(window.scrollY>200)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e?s.jsx("button",{onClick:r,"aria-label":"Scroll to top",className:"fixed left-4 bottom-24 z-40 bg-[#3CB371] hover:bg-[#2E8B57] text-white rounded-full shadow-lg p-3 transition-all duration-200",style:{boxShadow:"0 2px 8px rgba(44, 62, 80, 0.15)"},children:s.jsx(z4,{className:"w-5 h-5"})}):null},gd=({product:e})=>{const{addToCart:t,updateQuantity:r,cart:n}=cs(),o=n.find(f=>f.id===e.id),a=o?o.quantity:0,c=(f,h)=>{f.preventDefault(),f.stopPropagation(),r(e.id,h)},u=f=>{f.preventDefault(),f.stopPropagation(),t(e,1)};return s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`product-card overflow-hidden rounded-lg border bg-card ${e.in_stock?"":"opacity-60"}`,children:s.jsxs(Ae,{to:`/product/${e.id}`,className:"block",children:[s.jsxs("div",{className:"relative aspect-square w-full max-h-48 bg-white flex items-center justify-center",children:[s.jsx("img",{alt:e.name,className:"w-4/5 h-4/5 object-contain mx-auto",src:e.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"}),e.featured&&s.jsx(ot,{variant:"default",className:"absolute top-2 left-2 text-xs",children:"Featured"}),!e.in_stock&&s.jsx(ot,{variant:"destructive",className:"absolute top-2 right-2 text-xs",children:"Out of Stock"})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-sm font-medium line-clamp-2",children:e.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-base font-semibold",children:Se(e.price)}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["per ",e.unit]})]}),e.in_stock?a>0?s.jsxs("div",{className:"flex items-center space-x-1",onClick:f=>f.preventDefault(),children:[s.jsx(J,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:f=>c(f,a-1),children:s.jsx(ja,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-xs font-medium w-4 text-center",children:a}),s.jsx(J,{size:"icon",className:"h-6 w-6",onClick:f=>c(f,a+1),children:s.jsx(Yi,{className:"h-3 w-3"})})]}):s.jsx(J,{size:"icon",className:"h-7 w-7 rounded-full",onClick:u,children:s.jsx(Zs,{className:"h-3 w-3"})}):s.jsx(J,{size:"icon",className:"h-7 w-7 rounded-full",disabled:!0,children:s.jsx(Zs,{className:"h-3 w-3"})})]})]})]})})};function UL(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}function BL(){return/android/.test(window.navigator.userAgent.toLowerCase())}function VL(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const zL=({onClose:e,platform:t})=>s.jsxs("div",{className:"fixed bottom-4 left-1/2 z-50 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in-up max-w-xs w-full",children:[s.jsx("button",{onClick:e,className:"ml-1 mr-2 text-lg font-bold",children:"×"}),s.jsx("span",{children:t==="ios"?'Install the web-app on your iOS device: tap Share, then "Add to Home Screen".':'Install the web-app: tap the menu and "Add to Home screen".'})]}),WL=()=>{const{user:e,userLocation:t,getUserLocation:r}=Jt(),[n,o]=v.useState([]),[a,c]=v.useState([]),[u,f]=v.useState([]),[h,m]=v.useState(!0),[p,x]=v.useState(""),[y,j]=v.useState(45),[w,_]=v.useState(!1),[N,C]=v.useState(null),[k,A]=v.useState(!1),[T,P]=v.useState(!1),E=Xt();v.useEffect(()=>{(async()=>{try{let Z=lr("featuredProducts"),Q=lr("categories_home"),q=lr("deliverySettings");if(!Z){const{data:I,error:B}=await de.from("products").select("*, categories ( id, name )").eq("featured",!0).limit(20);if(B)throw B;Z=I||[],qt("featuredProducts",Z)}if(!Q){const{data:I,error:B}=await de.from("categories").select("*").order("priority",{ascending:!1}).limit(7);if(B)throw B;Q=I||[],qt("categories_home",Q)}if(!q){const{data:I,error:B}=await de.from("delivery_settings").select("estimated_delivery_minutes").eq("id",1).single();!B&&I&&(q=I,qt("deliverySettings",q))}o(Z),f(Q),q&&j(q.estimated_delivery_minutes),e&&await O()}catch(Z){console.error("Error fetching data:",Z)}finally{m(!1)}})()},[e]);const O=async()=>{try{let W=lr(`previouslyOrderedProducts_${e==null?void 0:e.id}`);if(!W){const{data:Z,error:Q}=await de.from("orders").select("items").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(Q)throw Q;if(Z&&Z.length>0){const q=new Set;if(Z.forEach(I=>{I.items&&Array.isArray(I.items)&&I.items.forEach(B=>{B.id&&q.add(B.id)})}),q.size>0){const{data:I,error:B}=await de.from("products").select("*, categories ( id, name )").in("id",Array.from(q)).limit(20);!B&&I&&(W=I,qt(`previouslyOrderedProducts_${e.id}`,W))}}}W&&c(W)}catch(W){console.error("Error fetching previously ordered products:",W)}};v.useEffect(()=>{if(!p)return;P(!0);const W=setTimeout(()=>{if(P(!1),!e){const Z=parseInt(localStorage.getItem("search_count")||"0",10);if(Z>=10){A(!0);return}localStorage.setItem("search_count",(Z+1).toString())}E(`/shop?search=${encodeURIComponent(p.trim())}`)},650);return()=>clearTimeout(W)},[p,e,E]),v.useEffect(()=>{window.innerWidth>768||VL()||localStorage.getItem("a2hs-dismissed")||(UL()?(C("ios"),_(!0)):BL()&&(C("android"),_(!0)))},[]);const R=()=>{_(!1),localStorage.setItem("a2hs-dismissed","1")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[w&&s.jsx(zL,{onClose:R,platform:N}),s.jsxs("section",{className:"relative min-h-[140px] h-[18vh] max-h-[180px] bg-gradient-to-b from-[#2E8B57] via-[#3CB371] to-white overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery delivery",className:"w-full h-full object-cover opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2E8B57]/90 via-[#3CB371]/80 to-white/90"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-4xl mx-auto pb-2 md:pt-4 md:pb-2",children:s.jsxs(je.div,{className:"space-y-2 md:space-y-3",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsxs(je.div,{className:"flex items-center justify-between mb-1",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.2},children:[s.jsxs("div",{className:"flex items-center gap-2 p-1",children:[s.jsx(ca,{className:"w-5 h-5 text-[#fd7507]"}),s.jsx("span",{className:"text-white font-bold text-base",children:"Adelaide"})]}),s.jsx("div",{children:t?s.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#fd7507] text-white text-sm font-semibold px-2 py-1 rounded-full shadow",children:[s.jsx(hn,{className:"w-3 h-3 text-white font-semibold text-base"}),y," minutes"]}):s.jsx(J,{size:"sm",className:"bg-[#fd7507] text-white font-semibold px-3 py-1 rounded-full shadow",onClick:r,children:s.jsx(_$,{})})})]}),s.jsx(je.form,{onSubmit:W=>W.preventDefault(),className:"flex gap-1 w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:s.jsxs("div",{className:"flex-1 relative pb-2",children:[s.jsx(we,{type:"text",placeholder:"Search for groceries and more...",value:p,onChange:W=>x(W.target.value),className:"h-11 md:h-11 pl-3 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500 text-sm"}),T&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-400",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]})})]})})})]}),s.jsx("section",{className:"py-2 bg-white",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsx(je.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},className:"relative mb-4",children:s.jsxs("div",{className:"flex overflow-x-auto pb-1 space-x-4 scrollbar-hide px-2 md:px-0 md:justify-center",children:[u.map(W=>s.jsxs(Ae,{to:`/category/${W.id}`,className:"flex-none group text-center",children:[s.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 mx-auto mb-1 bg-white flex items-center justify-center group-hover:bg-gray-100 transition-all duration-300 shadow-none border-none",children:s.jsx("img",{src:W.icon_url,alt:W.name,className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded-full",onError:Z=>{Z.target.style.display="none",Z.target.nextSibling.style.display="flex"}})}),s.jsx("span",{className:"text-xs font-medium text-gray-800 group-hover:text-primary transition-colors block truncate max-w-[75px] md:max-w-[90px]",children:W.name})]},W.id)),s.jsxs(Ae,{to:"/categories",className:"flex-none group text-center",children:[s.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 mx-auto mb-1 bg-white flex items-center justify-center group-hover:bg-gray-100 transition-all duration-300 shadow-none border-none",children:s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(wp,{className:"h-8 w-8 md:h-10 md:w-10 text-primary"})})}),s.jsx("span",{className:"text-xs font-medium text-gray-800 group-hover:text-primary transition-colors block truncate max-w-[75px] md:max-w-[90px]",children:"View All"})]})]})}),s.jsxs(je.div,{className:"flex justify-center gap-2 md:max-w-[500px] lg:max-w-[500px] mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:[s.jsx(Ae,{to:"/shop",className:"block w-[60%] max-w-[120px]",children:s.jsxs(J,{size:"sm",style:{background:"#fd7507",color:"white"},className:"w-full h-10 font-bold text-base mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:[s.jsx(oi,{className:"w-4 h-5 mr-2"})," Shop"]})}),s.jsx(Ae,{to:"/grocery-run",className:"block w-full",children:s.jsxs(J,{size:"sm",style:{background:"#3bc371",color:"white"},className:"w-full h-10 font-bold text-base mx-auto rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-105 border-0",children:[s.jsx(pd,{className:"w-5 h-5 mr-2"})," Grocery Run"]})})]})]})}),e&&a.length>0&&s.jsx("section",{className:"py-6 bg-gray-50",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsx(je.h2,{className:"text-xl font-bold mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Previously Ordered"}),s.jsx(je.div,{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:a.slice(0,12).map(W=>s.jsx("div",{className:"flex-none w-48",children:s.jsx(gd,{product:W})},W.id))})]})}),s.jsx("section",{className:"py-2 bg-white",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(je.h2,{className:"text-xl font-bold",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Featured Products"}),s.jsx(Ae,{to:"/shop?featured=true",className:"flex-none group text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx(wp,{className:"h-5 w-5 text-primary"})}),s.jsx("span",{className:"text-xs font-medium text-primary transition-colors block truncate",children:"View All"})]})})]}),s.jsx(je.div,{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:n.map(W=>s.jsx(gd,{product:W},W.id))})]})}),k&&s.jsx(Rv,{open:k,onOpenChange:A})]})};function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nt.apply(null,arguments)}function Xw(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ht(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Fv(e,t=[]){let r=[];function n(a,c){const u=v.createContext(c),f=r.length;r=[...r,c];function h(p){const{scope:x,children:y,...j}=p,w=(x==null?void 0:x[e][f])||u,_=v.useMemo(()=>j,Object.values(j));return v.createElement(w.Provider,{value:_},y)}function m(p,x){const y=(x==null?void 0:x[e][f])||u,j=v.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,m]}const o=()=>{const a=r.map(c=>v.createContext(c));return function(u){const f=(u==null?void 0:u[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,HL(o,...t)]}function HL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(a)[`__scope${h}`];return{...u,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function qL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xS(...e){return t=>e.forEach(r=>qL(r,t))}function cr(...e){return v.useCallback(xS(...e),e)}const zl=v.forwardRef((e,t)=>{const{children:r,...n}=e,o=v.Children.toArray(r),a=o.find(GL);if(a){const c=a.props.children,u=o.map(f=>f===a?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return v.createElement(Tp,nt({},n,{ref:t}),v.isValidElement(c)?v.cloneElement(c,void 0,u):null)}return v.createElement(Tp,nt({},n,{ref:t}),r)});zl.displayName="Slot";const Tp=v.forwardRef((e,t)=>{const{children:r,...n}=e;return v.isValidElement(r)?v.cloneElement(r,{...KL(n,r.props),ref:t?xS(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});Tp.displayName="SlotClone";const YL=({children:e})=>v.createElement(v.Fragment,null,e);function GL(e){return v.isValidElement(e)&&e.type===YL}function KL(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...u)=>{a(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function XL(e){const t=e+"CollectionProvider",[r,n]=Fv(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:j,children:w}=y,_=ge.useRef(null),N=ge.useRef(new Map).current;return ge.createElement(o,{scope:j,itemMap:N,collectionRef:_},w)},u=e+"CollectionSlot",f=ge.forwardRef((y,j)=>{const{scope:w,children:_}=y,N=a(u,w),C=cr(j,N.collectionRef);return ge.createElement(zl,{ref:C},_)}),h=e+"CollectionItemSlot",m="data-radix-collection-item",p=ge.forwardRef((y,j)=>{const{scope:w,children:_,...N}=y,C=ge.useRef(null),k=cr(j,C),A=a(h,w);return ge.useEffect(()=>(A.itemMap.set(C,{ref:C,...N}),()=>void A.itemMap.delete(C))),ge.createElement(zl,{[m]:"",ref:k},_)});function x(y){const j=a(e+"CollectionConsumer",y);return ge.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((A,T)=>N.indexOf(A.ref.current)-N.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:f,ItemSlot:p},x,n]}const JL=v.createContext(void 0);function QL(e){const t=v.useContext(JL);return e||t||"ltr"}const ZL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],er=ZL.reduce((e,t)=>{const r=v.forwardRef((n,o)=>{const{asChild:a,...c}=n,u=a?zl:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(u,nt({},c,{ref:o}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function e3(e,t){e&&Vi.flushSync(()=>e.dispatchEvent(t))}function ss(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function t3(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e);v.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const Ap="dismissableLayer.update",r3="dismissableLayer.pointerDownOutside",n3="dismissableLayer.focusOutside";let Jw;const s3=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),i3=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,m=v.useContext(s3),[p,x]=v.useState(null),y=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,j]=v.useState({}),w=cr(t,O=>x(O)),_=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(N),k=p?_.indexOf(p):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,T=k>=C,P=o3(O=>{const R=O.target,W=[...m.branches].some(Z=>Z.contains(R));!T||W||(a==null||a(O),u==null||u(O),O.defaultPrevented||f==null||f())},y),E=a3(O=>{const R=O.target;[...m.branches].some(Z=>Z.contains(R))||(c==null||c(O),u==null||u(O),O.defaultPrevented||f==null||f())},y);return t3(O=>{k===m.layers.size-1&&(o==null||o(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},y),v.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Qw(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Jw)}},[p,y,n,m]),v.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Qw())},[p,m]),v.useEffect(()=>{const O=()=>j({});return document.addEventListener(Ap,O),()=>document.removeEventListener(Ap,O)},[]),v.createElement(er.div,nt({},h,{ref:w,style:{pointerEvents:A?T?"auto":"none":void 0,...e.style},onFocusCapture:Ht(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ht(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ht(e.onPointerDownCapture,P.onPointerDownCapture)}))});function o3(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e),n=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const a=u=>{if(u.target&&!n.current){let h=function(){yS(r3,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function a3(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e),n=v.useRef(!1);return v.useEffect(()=>{const o=a=>{a.target&&!n.current&&yS(n3,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qw(){const e=new CustomEvent(Ap);document.dispatchEvent(e)}function yS(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?e3(o,a):o.dispatchEvent(a)}let Tm=0;function l3(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Zw()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Zw()),Tm++,()=>{Tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Tm--}},[])}function Zw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Am="focusScope.autoFocusOnMount",Dm="focusScope.autoFocusOnUnmount",eb={bubbles:!1,cancelable:!0},c3=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[u,f]=v.useState(null),h=ss(o),m=ss(a),p=v.useRef(null),x=cr(t,w=>f(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(k){if(y.paused||!u)return;const A=k.target;u.contains(A)?p.current=A:Vs(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const A=k.relatedTarget;A!==null&&(u.contains(A)||Vs(p.current,{select:!0}))},N=function(k){const A=document.activeElement;for(const T of k)T.removedNodes.length>0&&(u!=null&&u.contains(A)||Vs(u))};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[n,u,y.paused]),v.useEffect(()=>{if(u){rb.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(Am,eb);u.addEventListener(Am,h),u.dispatchEvent(N),N.defaultPrevented||(u3(p3(wS(u)),{select:!0}),document.activeElement===w&&Vs(u))}return()=>{u.removeEventListener(Am,h),setTimeout(()=>{const N=new CustomEvent(Dm,eb);u.addEventListener(Dm,m),u.dispatchEvent(N),N.defaultPrevented||Vs(w??document.body,{select:!0}),u.removeEventListener(Dm,m),rb.remove(y)},0)}}},[u,h,m,y]);const j=v.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,A]=d3(C);k&&A?!w.shiftKey&&N===A?(w.preventDefault(),r&&Vs(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),r&&Vs(A,{select:!0})):N===C&&w.preventDefault()}},[r,n,y.paused]);return v.createElement(er.div,nt({tabIndex:-1},c,{ref:x,onKeyDown:j}))});function u3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Vs(n,{select:t}),document.activeElement!==r)return}function d3(e){const t=wS(e),r=tb(t,e),n=tb(t.reverse(),e);return[r,n]}function wS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tb(e,t){for(const r of e)if(!f3(r,{upTo:t}))return r}function f3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h3(e){return e instanceof HTMLInputElement&&"select"in e}function Vs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&h3(e)&&t&&e.select()}}const rb=m3();function m3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nb(e,t),e.unshift(t)},remove(t){var r;e=nb(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function nb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function p3(e){return e.filter(t=>t.tagName!=="A")}const Xr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},v3=Nd.useId||(()=>{});let g3=0;function bS(e){const[t,r]=v.useState(v3());return Xr(()=>{r(n=>n??String(g3++))},[e]),t?`radix-${t}`:""}const x3=["top","right","bottom","left"],ei=Math.min,Dr=Math.max,xd=Math.round,Gu=Math.floor,Pn=e=>({x:e,y:e}),y3={left:"right",right:"left",bottom:"top",top:"bottom"},w3={start:"end",end:"start"};function Dp(e,t,r){return Dr(e,ei(t,r))}function is(e,t){return typeof e=="function"?e(t):e}function os(e){return e.split("-")[0]}function Sa(e){return e.split("-")[1]}function Uv(e){return e==="x"?"y":"x"}function Bv(e){return e==="y"?"height":"width"}function ts(e){return["top","bottom"].includes(os(e))?"y":"x"}function Vv(e){return Uv(ts(e))}function b3(e,t,r){r===void 0&&(r=!1);const n=Sa(e),o=Vv(e),a=Bv(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=yd(c)),[c,yd(c)]}function j3(e){const t=yd(e);return[Op(e),t,Op(t)]}function Op(e){return e.replace(/start|end/g,t=>w3[t])}function _3(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:c;default:return[]}}function S3(e,t,r,n){const o=Sa(e);let a=_3(os(e),r==="start",n);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(Op)))),a}function yd(e){return e.replace(/left|right|bottom|top/g,t=>y3[t])}function N3(e){return{top:0,right:0,bottom:0,left:0,...e}}function jS(e){return typeof e!="number"?N3(e):{top:e,right:e,bottom:e,left:e}}function wd(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function sb(e,t,r){let{reference:n,floating:o}=e;const a=ts(t),c=Vv(t),u=Bv(c),f=os(t),h=a==="y",m=n.x+n.width/2-o.width/2,p=n.y+n.height/2-o.height/2,x=n[u]/2-o[u]/2;let y;switch(f){case"top":y={x:m,y:n.y-o.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-o.width,y:p};break;default:y={x:n.x,y:n.y}}switch(Sa(t)){case"start":y[c]-=x*(r&&h?-1:1);break;case"end":y[c]+=x*(r&&h?-1:1);break}return y}const C3=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:c}=r,u=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=sb(h,n,f),x=n,y={},j=0;for(let w=0;w<u.length;w++){const{name:_,fn:N}=u[w],{x:C,y:k,data:A,reset:T}=await N({x:m,y:p,initialPlacement:n,placement:x,strategy:o,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});m=C??m,p=k??p,y={...y,[_]:{...y[_],...A}},T&&j<=50&&(j++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(h=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:m,y:p}=sb(h,x,f)),w=-1)}return{x:m,y:p,placement:x,strategy:o,middlewareData:y}};async function Wl(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=is(t,e),j=jS(y),_=u[x?p==="floating"?"reference":"floating":p],N=wd(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(_)))==null||r?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),C=p==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),A=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},T=wd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:k,strategy:f}):C);return{top:(N.top-T.top+j.top)/A.y,bottom:(T.bottom-N.bottom+j.bottom)/A.y,left:(N.left-T.left+j.left)/A.x,right:(T.right-N.right+j.right)/A.x}}const k3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=is(e,t)||{};if(h==null)return{};const p=jS(m),x={x:r,y:n},y=Vv(o),j=Bv(y),w=await c.getDimensions(h),_=y==="y",N=_?"top":"left",C=_?"bottom":"right",k=_?"clientHeight":"clientWidth",A=a.reference[j]+a.reference[y]-x[y]-a.floating[j],T=x[y]-a.reference[y],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let E=P?P[k]:0;(!E||!await(c.isElement==null?void 0:c.isElement(P)))&&(E=u.floating[k]||a.floating[j]);const O=A/2-T/2,R=E/2-w[j]/2-1,W=ei(p[N],R),Z=ei(p[C],R),Q=W,q=E-w[j]-Z,I=E/2-w[j]/2+O,B=Dp(Q,I,q),F=!f.arrow&&Sa(o)!=null&&I!==B&&a.reference[j]/2-(I<Q?W:Z)-w[j]/2<0,z=F?I<Q?I-Q:I-q:0;return{[y]:x[y]+z,data:{[y]:B,centerOffset:I-B-z,...F&&{alignmentOffset:z}},reset:F}}}),E3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=os(o),C=ts(u),k=os(u)===u,A=await(f.isRTL==null?void 0:f.isRTL(h.floating)),T=x||(k||!w?[yd(u)]:j3(u)),P=j!=="none";!x&&P&&T.push(...S3(u,w,j,A));const E=[u,...T],O=await Wl(t,_),R=[];let W=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&R.push(O[N]),p){const B=b3(o,c,A);R.push(O[B[0]],O[B[1]])}if(W=[...W,{placement:o,overflows:R}],!R.every(B=>B<=0)){var Z,Q;const B=(((Z=a.flip)==null?void 0:Z.index)||0)+1,F=E[B];if(F){var q;const L=p==="alignment"?C!==ts(F):!1,H=((q=W[0])==null?void 0:q.overflows[0])>0;if(!L||H)return{data:{index:B,overflows:W},reset:{placement:F}}}let z=(Q=W.filter(L=>L.overflows[0]<=0).sort((L,H)=>L.overflows[1]-H.overflows[1])[0])==null?void 0:Q.placement;if(!z)switch(y){case"bestFit":{var I;const L=(I=W.filter(H=>{if(P){const ee=ts(H.placement);return ee===C||ee==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ee=>ee>0).reduce((ee,$)=>ee+$,0)]).sort((H,ee)=>H[1]-ee[1])[0])==null?void 0:I[0];L&&(z=L);break}case"initialPlacement":z=u;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function ib(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ob(e){return x3.some(t=>e[t]>=0)}const P3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=is(e,t);switch(n){case"referenceHidden":{const a=await Wl(t,{...o,elementContext:"reference"}),c=ib(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ob(c)}}}case"escaped":{const a=await Wl(t,{...o,altBoundary:!0}),c=ib(a,r.floating);return{data:{escapedOffsets:c,escaped:ob(c)}}}default:return{}}}}};async function T3(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=os(r),u=Sa(r),f=ts(r)==="y",h=["left","top"].includes(c)?-1:1,m=a&&f?-1:1,p=is(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(y=u==="end"?j*-1:j),f?{x:y*m,y:x*h}:{x:x*h,y:y*m}}const A3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:c,middlewareData:u}=t,f=await T3(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},D3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:N,y:C}=_;return{x:N,y:C}}},...f}=is(e,t),h={x:r,y:n},m=await Wl(t,f),p=ts(os(o)),x=Uv(p);let y=h[x],j=h[p];if(a){const _=x==="y"?"top":"left",N=x==="y"?"bottom":"right",C=y+m[_],k=y-m[N];y=Dp(C,y,k)}if(c){const _=p==="y"?"top":"left",N=p==="y"?"bottom":"right",C=j+m[_],k=j-m[N];j=Dp(C,j,k)}const w=u.fn({...t,[x]:y,[p]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[x]:a,[p]:c}}}}}},O3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=is(e,t),m={x:r,y:n},p=ts(o),x=Uv(p);let y=m[x],j=m[p];const w=is(u,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const k=x==="y"?"height":"width",A=a.reference[x]-a.floating[k]+_.mainAxis,T=a.reference[x]+a.reference[k]-_.mainAxis;y<A?y=A:y>T&&(y=T)}if(h){var N,C;const k=x==="y"?"width":"height",A=["top","left"].includes(os(o)),T=a.reference[p]-a.floating[k]+(A&&((N=c.offset)==null?void 0:N[p])||0)+(A?0:_.crossAxis),P=a.reference[p]+a.reference[k]+(A?0:((C=c.offset)==null?void 0:C[p])||0)-(A?_.crossAxis:0);j<T?j=T:j>P&&(j=P)}return{[x]:y,[p]:j}}}},R3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:c,elements:u}=t,{apply:f=()=>{},...h}=is(e,t),m=await Wl(t,h),p=os(o),x=Sa(o),y=ts(o)==="y",{width:j,height:w}=a.floating;let _,N;p==="top"||p==="bottom"?(_=p,N=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=p,_=x==="end"?"top":"bottom");const C=w-m.top-m.bottom,k=j-m.left-m.right,A=ei(w-m[_],C),T=ei(j-m[N],k),P=!t.middlewareData.shift;let E=A,O=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=C),P&&!x){const W=Dr(m.left,0),Z=Dr(m.right,0),Q=Dr(m.top,0),q=Dr(m.bottom,0);y?O=j-2*(W!==0||Z!==0?W+Z:Dr(m.left,m.right)):E=w-2*(Q!==0||q!==0?Q+q:Dr(m.top,m.bottom))}await f({...t,availableWidth:O,availableHeight:E});const R=await c.getDimensions(u.floating);return j!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function Na(e){return _S(e)?(e.nodeName||"").toLowerCase():"#document"}function Or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mn(e){var t;return(t=(_S(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _S(e){return Gd()?e instanceof Node||e instanceof Or(e).Node:!1}function pn(e){return Gd()?e instanceof Element||e instanceof Or(e).Element:!1}function Dn(e){return Gd()?e instanceof HTMLElement||e instanceof Or(e).HTMLElement:!1}function ab(e){return!Gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Or(e).ShadowRoot}function lc(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function $3(e){return["table","td","th"].includes(Na(e))}function Kd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zv(e){const t=Wv(),r=pn(e)?vn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function M3(e){let t=ti(e);for(;Dn(t)&&!da(t);){if(zv(t))return t;if(Kd(t))return null;t=ti(t)}return null}function Wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function da(e){return["html","body","#document"].includes(Na(e))}function vn(e){return Or(e).getComputedStyle(e)}function Xd(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ti(e){if(Na(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ab(e)&&e.host||Mn(e);return ab(t)?t.host:t}function SS(e){const t=ti(e);return da(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dn(t)&&lc(t)?t:SS(t)}function Hl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=SS(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),c=Or(o);if(a){const u=Rp(c);return t.concat(c,c.visualViewport||[],lc(o)?o:[],u&&r?Hl(u):[])}return t.concat(o,Hl(o,[],r))}function Rp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NS(e){const t=vn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Dn(e),a=o?e.offsetWidth:r,c=o?e.offsetHeight:n,u=xd(r)!==a||xd(n)!==c;return u&&(r=a,n=c),{width:r,height:n,$:u}}function Hv(e){return pn(e)?e:e.contextElement}function ra(e){const t=Hv(e);if(!Dn(t))return Pn(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=NS(t);let c=(a?xd(r.width):r.width)/n,u=(a?xd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const I3=Pn(0);function CS(e){const t=Or(e);return!Wv()||!t.visualViewport?I3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function L3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Or(e)?!1:t}function Ui(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=Hv(e);let c=Pn(1);t&&(n?pn(n)&&(c=ra(n)):c=ra(e));const u=L3(a,r,n)?CS(a):Pn(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,p=o.height/c.y;if(a){const x=Or(a),y=n&&pn(n)?Or(n):n;let j=x,w=Rp(j);for(;w&&n&&y!==j;){const _=ra(w),N=w.getBoundingClientRect(),C=vn(w),k=N.left+(w.clientLeft+parseFloat(C.paddingLeft))*_.x,A=N.top+(w.clientTop+parseFloat(C.paddingTop))*_.y;f*=_.x,h*=_.y,m*=_.x,p*=_.y,f+=k,h+=A,j=Or(w),w=Rp(j)}}return wd({width:m,height:p,x:f,y:h})}function qv(e,t){const r=Xd(e).scrollLeft;return t?t.left+r:Ui(Mn(e)).left+r}function kS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:qv(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function F3(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",c=Mn(n),u=t?Kd(t.floating):!1;if(n===c||u&&a)return r;let f={scrollLeft:0,scrollTop:0},h=Pn(1);const m=Pn(0),p=Dn(n);if((p||!p&&!a)&&((Na(n)!=="body"||lc(c))&&(f=Xd(n)),Dn(n))){const y=Ui(n);h=ra(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const x=c&&!p&&!a?kS(c,f,!0):Pn(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+x.x,y:r.y*h.y-f.scrollTop*h.y+m.y+x.y}}function U3(e){return Array.from(e.getClientRects())}function B3(e){const t=Mn(e),r=Xd(e),n=e.ownerDocument.body,o=Dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+qv(e);const u=-r.scrollTop;return vn(n).direction==="rtl"&&(c+=Dr(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:c,y:u}}function V3(e,t){const r=Or(e),n=Mn(e),o=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,u=0,f=0;if(o){a=o.width,c=o.height;const h=Wv();(!h||h&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:a,height:c,x:u,y:f}}function z3(e,t){const r=Ui(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Dn(e)?ra(e):Pn(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,f=o*a.x,h=n*a.y;return{width:c,height:u,x:f,y:h}}function lb(e,t,r){let n;if(t==="viewport")n=V3(e,r);else if(t==="document")n=B3(Mn(e));else if(pn(t))n=z3(t,r);else{const o=CS(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return wd(n)}function ES(e,t){const r=ti(e);return r===t||!pn(r)||da(r)?!1:vn(r).position==="fixed"||ES(r,t)}function W3(e,t){const r=t.get(e);if(r)return r;let n=Hl(e,[],!1).filter(u=>pn(u)&&Na(u)!=="body"),o=null;const a=vn(e).position==="fixed";let c=a?ti(e):e;for(;pn(c)&&!da(c);){const u=vn(c),f=zv(c);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||lc(c)&&!f&&ES(e,c))?n=n.filter(m=>m!==c):o=u,c=ti(c)}return t.set(e,n),n}function H3(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Kd(t)?[]:W3(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const p=lb(t,m,o);return h.top=Dr(p.top,h.top),h.right=ei(p.right,h.right),h.bottom=ei(p.bottom,h.bottom),h.left=Dr(p.left,h.left),h},lb(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function q3(e){const{width:t,height:r}=NS(e);return{width:t,height:r}}function Y3(e,t,r){const n=Dn(t),o=Mn(t),a=r==="fixed",c=Ui(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const f=Pn(0);function h(){f.x=qv(o)}if(n||!n&&!a)if((Na(t)!=="body"||lc(o))&&(u=Xd(t)),n){const y=Ui(t,!0,a,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else o&&h();a&&!n&&o&&h();const m=o&&!n&&!a?kS(o,u):Pn(0),p=c.left+u.scrollLeft-f.x-m.x,x=c.top+u.scrollTop-f.y-m.y;return{x:p,y:x,width:c.width,height:c.height}}function Om(e){return vn(e).position==="static"}function cb(e,t){if(!Dn(e)||vn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Mn(e)===r&&(r=r.ownerDocument.body),r}function PS(e,t){const r=Or(e);if(Kd(e))return r;if(!Dn(e)){let o=ti(e);for(;o&&!da(o);){if(pn(o)&&!Om(o))return o;o=ti(o)}return r}let n=cb(e,t);for(;n&&$3(n)&&Om(n);)n=cb(n,t);return n&&da(n)&&Om(n)&&!zv(n)?r:n||M3(e)||r}const G3=async function(e){const t=this.getOffsetParent||PS,r=this.getDimensions,n=await r(e.floating);return{reference:Y3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function K3(e){return vn(e).direction==="rtl"}const X3={convertOffsetParentRelativeRectToViewportRelativeRect:F3,getDocumentElement:Mn,getClippingRect:H3,getOffsetParent:PS,getElementRects:G3,getClientRects:U3,getDimensions:q3,getScale:ra,isElement:pn,isRTL:K3};function TS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function J3(e,t){let r=null,n;const o=Mn(e);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:y}=h;if(u||t(),!x||!y)return;const j=Gu(p),w=Gu(o.clientWidth-(m+x)),_=Gu(o.clientHeight-(p+y)),N=Gu(m),k={rootMargin:-j+"px "+-w+"px "+-_+"px "+-N+"px",threshold:Dr(0,ei(1,f))||1};let A=!0;function T(P){const E=P[0].intersectionRatio;if(E!==f){if(!A)return c();E?c(!1,E):n=setTimeout(()=>{c(!1,1e-7)},1e3)}E===1&&!TS(h,e.getBoundingClientRect())&&c(),A=!1}try{r=new IntersectionObserver(T,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,k)}r.observe(e)}return c(!0),a}function AS(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Hv(e),m=o||a?[...h?Hl(h):[],...Hl(t)]:[];m.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const p=h&&u?J3(h,r):null;let x=-1,y=null;c&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),r()}),h&&!f&&y.observe(h),y.observe(t));let j,w=f?Ui(e):null;f&&_();function _(){const N=Ui(e);w&&!TS(w,N)&&r(),w=N,j=requestAnimationFrame(_)}return r(),()=>{var N;m.forEach(C=>{o&&C.removeEventListener("scroll",r),a&&C.removeEventListener("resize",r)}),p==null||p(),(N=y)==null||N.disconnect(),y=null,f&&cancelAnimationFrame(j)}}const Q3=A3,Z3=D3,eF=E3,tF=R3,rF=P3,ub=k3,nF=O3,sF=(e,t,r)=>{const n=new Map,o={platform:X3,...r},a={...o.platform,_c:n};return C3(e,t,{...o,platform:a})};var rd=typeof document<"u"?v.useLayoutEffect:v.useEffect;function bd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bd(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!bd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function DS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function db(e,t){const r=DS(e);return Math.round(t*r)/r}function Rm(e){const t=v.useRef(e);return rd(()=>{t.current=e}),t}function OS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,p]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=v.useState(n);bd(x,n)||y(n);const[j,w]=v.useState(null),[_,N]=v.useState(null),C=v.useCallback(L=>{L!==P.current&&(P.current=L,w(L))},[]),k=v.useCallback(L=>{L!==E.current&&(E.current=L,N(L))},[]),A=a||j,T=c||_,P=v.useRef(null),E=v.useRef(null),O=v.useRef(m),R=f!=null,W=Rm(f),Z=Rm(o),Q=Rm(h),q=v.useCallback(()=>{if(!P.current||!E.current)return;const L={placement:t,strategy:r,middleware:x};Z.current&&(L.platform=Z.current),sF(P.current,E.current,L).then(H=>{const ee={...H,isPositioned:Q.current!==!1};I.current&&!bd(O.current,ee)&&(O.current=ee,Vi.flushSync(()=>{p(ee)}))})},[x,t,r,Z,Q]);rd(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[h]);const I=v.useRef(!1);rd(()=>(I.current=!0,()=>{I.current=!1}),[]),rd(()=>{if(A&&(P.current=A),T&&(E.current=T),A&&T){if(W.current)return W.current(A,T,q);q()}},[A,T,q,W,R]);const B=v.useMemo(()=>({reference:P,floating:E,setReference:C,setFloating:k}),[C,k]),F=v.useMemo(()=>({reference:A,floating:T}),[A,T]),z=v.useMemo(()=>{const L={position:r,left:0,top:0};if(!F.floating)return L;const H=db(F.floating,m.x),ee=db(F.floating,m.y);return u?{...L,transform:"translate("+H+"px, "+ee+"px)",...DS(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:ee}},[r,u,F.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:q,refs:B,elements:F,floatingStyles:z}),[m,q,B,F,z])}const iF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ub({element:n.current,padding:o}).fn(r):{}:n?ub({element:n,padding:o}).fn(r):{}}}},RS=(e,t)=>({...Q3(e),options:[e,t]}),$S=(e,t)=>({...Z3(e),options:[e,t]}),MS=(e,t)=>({...nF(e),options:[e,t]}),IS=(e,t)=>({...eF(e),options:[e,t]}),LS=(e,t)=>({...tF(e),options:[e,t]}),FS=(e,t)=>({...rF(e),options:[e,t]}),US=(e,t)=>({...iF(e),options:[e,t]});function oF(e){const[t,r]=v.useState(void 0);return Xr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const BS="Popper",[VS,zS]=Fv(BS),[aF,WS]=VS(BS),lF=e=>{const{__scopePopper:t,children:r}=e,[n,o]=v.useState(null);return v.createElement(aF,{scope:t,anchor:n,onAnchorChange:o},r)},cF="PopperAnchor",uF=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=WS(cF,r),c=v.useRef(null),u=cr(t,c);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:v.createElement(er.div,nt({},o,{ref:u}))}),HS="PopperContent",[dF,fV]=VS(HS),fF=v.forwardRef((e,t)=>{var r,n,o,a,c,u,f,h;const{__scopePopper:m,side:p="bottom",sideOffset:x=0,align:y="center",alignOffset:j=0,arrowPadding:w=0,collisionBoundary:_=[],collisionPadding:N=0,sticky:C="partial",hideWhenDetached:k=!1,avoidCollisions:A=!0,onPlaced:T,...P}=e,E=WS(HS,m),[O,R]=v.useState(null),W=cr(t,De=>R(De)),[Z,Q]=v.useState(null),q=oF(Z),I=(r=q==null?void 0:q.width)!==null&&r!==void 0?r:0,B=(n=q==null?void 0:q.height)!==null&&n!==void 0?n:0,F=p+(y!=="center"?"-"+y:""),z=typeof N=="number"?N:{top:0,right:0,bottom:0,left:0,...N},L=Array.isArray(_)?_:[_],H=L.length>0,ee={padding:z,boundary:L.filter(hF),altBoundary:H},{refs:$,floatingStyles:K,placement:ne,isPositioned:ce,middlewareData:se}=OS({strategy:"fixed",placement:F,whileElementsMounted:AS,elements:{reference:E.anchor},middleware:[RS({mainAxis:x+B,alignmentAxis:j}),A&&$S({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?MS():void 0,...ee}),A&&IS({...ee}),LS({...ee,apply:({elements:De,rects:ze,availableWidth:tt,availableHeight:rt})=>{const{width:Lr,height:Jr}=ze.reference,Fr=De.floating.style;Fr.setProperty("--radix-popper-available-width",`${tt}px`),Fr.setProperty("--radix-popper-available-height",`${rt}px`),Fr.setProperty("--radix-popper-anchor-width",`${Lr}px`),Fr.setProperty("--radix-popper-anchor-height",`${Jr}px`)}}),Z&&US({element:Z,padding:w}),mF({arrowWidth:I,arrowHeight:B}),k&&FS({strategy:"referenceHidden"})]}),[ie,te]=qS(ne),fe=ss(T);Xr(()=>{ce&&(fe==null||fe())},[ce,fe]);const pe=(o=se.arrow)===null||o===void 0?void 0:o.x,ue=(a=se.arrow)===null||a===void 0?void 0:a.y,oe=((c=se.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[ye,He]=v.useState();return Xr(()=>{O&&He(window.getComputedStyle(O).zIndex)},[O]),v.createElement("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ce?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(u=se.transformOrigin)===null||u===void 0?void 0:u.x,(f=se.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},v.createElement(dF,{scope:m,placedSide:ie,onArrowChange:Q,arrowX:pe,arrowY:ue,shouldHideArrow:oe},v.createElement(er.div,nt({"data-side":ie,"data-align":te},P,{ref:W,style:{...P.style,animation:ce?void 0:"none",opacity:(h=se.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function hF(e){return e!==null}const mF=e=>({name:"transformOrigin",options:e,fn(t){var r,n,o,a,c;const{placement:u,rects:f,middlewareData:h}=t,p=((r=h.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,x=p?0:e.arrowWidth,y=p?0:e.arrowHeight,[j,w]=qS(u),_={start:"0%",center:"50%",end:"100%"}[w],N=((n=(o=h.arrow)===null||o===void 0?void 0:o.x)!==null&&n!==void 0?n:0)+x/2,C=((a=(c=h.arrow)===null||c===void 0?void 0:c.y)!==null&&a!==void 0?a:0)+y/2;let k="",A="";return j==="bottom"?(k=p?_:`${N}px`,A=`${-y}px`):j==="top"?(k=p?_:`${N}px`,A=`${f.floating.height+y}px`):j==="right"?(k=`${-y}px`,A=p?_:`${C}px`):j==="left"&&(k=`${f.floating.width+y}px`,A=p?_:`${C}px`),{data:{x:k,y:A}}}});function qS(e){const[t,r="center"]=e.split("-");return[t,r]}const pF=lF,vF=uF,gF=fF,xF=v.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...o}=e;return n?Vb.createPortal(v.createElement(er.div,nt({},o,{ref:t})),n):null});function fb({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=yF({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:n,u=ss(r),f=v.useCallback(h=>{if(a){const p=typeof h=="function"?h(e):h;p!==e&&u(p)}else o(h)},[a,e,o,u]);return[c,f]}function yF({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,o=v.useRef(n),a=ss(t);return v.useEffect(()=>{o.current!==n&&(a(n),o.current=n)},[n,o,a]),r}function wF(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const bF=v.forwardRef((e,t)=>v.createElement(er.span,nt({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var YS=p1(),$m=function(){},Jd=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:$m,onWheelCapture:$m,onTouchMoveCapture:$m}),o=n[0],a=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=Cv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=x,A=m1([r,t]),T=ar(ar({},C),o);return v.createElement(v.Fragment,null,m&&v.createElement(k,{sideCar:YS,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:a,allowPinchZoom:!!w,lockRef:r}),c?v.cloneElement(v.Children.only(u),ar(ar({},T),{ref:A})):v.createElement(N,ar({},T,{className:f,ref:A}),u))});Jd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jd.classNames={fullWidth:Ml,zeroRight:$l};var $p=!1;if(typeof window<"u")try{var Ku=Object.defineProperty({},"passive",{get:function(){return $p=!0,!0}});window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{$p=!1}var zo=$p?{passive:!1}:!1,jF=function(e){return e.tagName==="TEXTAREA"},GS=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jF(e)&&r[t]==="visible")},_F=function(e){return GS(e,"overflowY")},SF=function(e){return GS(e,"overflowX")},hb=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=KS(e,r);if(n){var o=XS(e,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},NF=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},CF=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},KS=function(e,t){return e==="v"?_F(t):SF(t)},XS=function(e,t){return e==="v"?NF(t):CF(t)},kF=function(e,t){return e==="h"&&t==="rtl"?-1:1},EF=function(e,t,r,n,o){var a=kF(e,window.getComputedStyle(t).direction),c=a*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=XS(e,u),j=y[0],w=y[1],_=y[2],N=w-_-a*j;(j||N)&&KS(e,u)&&(p+=N,x+=j),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&p===0||!m&&x===0)&&(h=!0),h},Xu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mb=function(e){return[e.deltaX,e.deltaY]},pb=function(e){return e&&"current"in e?e.current:e},PF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AF=0,Wo=[];function DF(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),o=v.useState(AF++)[0],a=v.useState(function(){return kv()})[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=h1([e.lockRef.current],(e.shards||[]).map(pb),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2)return!c.current.allowPinchZoom;var N=Xu(w),C=r.current,k="deltaX"in w?w.deltaX:C[0]-N[0],A="deltaY"in w?w.deltaY:C[1]-N[1],T,P=w.target,E=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in w&&E==="h"&&P.type==="range")return!1;var O=hb(E,P);if(!O)return!0;if(O?T=E:(T=E==="v"?"h":"v",O=hb(E,P)),!O)return!1;if(!n.current&&"changedTouches"in w&&(k||A)&&(n.current=T),!T)return!0;var R=n.current||T;return EF(R,_,w,R==="h"?k:A)},[]),f=v.useCallback(function(w){var _=w;if(!(!Wo.length||Wo[Wo.length-1]!==a)){var N="deltaY"in _?mb(_):Xu(_),C=t.current.filter(function(T){return T.name===_.type&&T.target===_.target&&PF(T.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(pb).filter(Boolean).filter(function(T){return T.contains(_.target)}),A=k.length>0?u(_,k[0]):!c.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(A){return A!==k})},1)},[]),m=v.useCallback(function(w){r.current=Xu(w),n.current=void 0},[]),p=v.useCallback(function(w){h(w.type,mb(w),w.target,u(w,e.lockRef.current))},[]),x=v.useCallback(function(w){h(w.type,Xu(w),w.target,u(w,e.lockRef.current))},[]);v.useEffect(function(){return Wo.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,zo),document.addEventListener("touchmove",f,zo),document.addEventListener("touchstart",m,zo),function(){Wo=Wo.filter(function(w){return w!==a}),document.removeEventListener("wheel",f,zo),document.removeEventListener("touchmove",f,zo),document.removeEventListener("touchstart",m,zo)}},[]);var y=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(a,{styles:TF(o)}):null,y?v.createElement(y1,{gapMode:"margin"}):null)}const OF=g1(YS,DF);var JS=v.forwardRef(function(e,t){return v.createElement(Jd,ar({},e,{ref:t,sideCar:OF}))});JS.classNames=Jd.classNames;const RF=[" ","Enter","ArrowUp","ArrowDown"],$F=[" ","Enter"],Qd="Select",[Zd,ef,MF]=XL(Qd),[Ca,hV]=Fv(Qd,[MF,zS]),Yv=zS(),[IF,Qi]=Ca(Qd),[LF,FF]=Ca(Qd),UF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:p,disabled:x,required:y}=e,j=Yv(t),[w,_]=v.useState(null),[N,C]=v.useState(null),[k,A]=v.useState(!1),T=QL(h),[P=!1,E]=fb({prop:n,defaultProp:o,onChange:a}),[O,R]=fb({prop:c,defaultProp:u,onChange:f}),W=v.useRef(null),Z=w?!!w.closest("form"):!0,[Q,q]=v.useState(new Set),I=Array.from(Q).map(B=>B.props.value).join(";");return v.createElement(pF,j,v.createElement(IF,{required:y,scope:t,trigger:w,onTriggerChange:_,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:bS(),value:O,onValueChange:R,open:P,onOpenChange:E,dir:T,triggerPointerDownPosRef:W,disabled:x},v.createElement(Zd.Provider,{scope:t},v.createElement(LF,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(B=>{q(F=>new Set(F).add(B))},[]),onNativeOptionRemove:v.useCallback(B=>{q(F=>{const z=new Set(F);return z.delete(B),z})},[])},r)),Z?v.createElement(tN,{key:I,"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:O,onChange:B=>R(B.target.value),disabled:x},O===void 0?v.createElement("option",{value:""}):null,Array.from(Q)):null))},BF="SelectTrigger",VF=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Yv(r),c=Qi(BF,r),u=c.disabled||n,f=cr(t,c.onTriggerChange),h=ef(r),[m,p,x]=rN(j=>{const w=h().filter(C=>!C.disabled),_=w.find(C=>C.value===c.value),N=nN(w,j,_);N!==void 0&&c.onValueChange(N.value)}),y=()=>{u||(c.onOpenChange(!0),x())};return v.createElement(vF,nt({asChild:!0},a),v.createElement(er.button,nt({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":c.value===void 0?"":void 0},o,{ref:f,onClick:Ht(o.onClick,j=>{j.currentTarget.focus()}),onPointerDown:Ht(o.onPointerDown,j=>{const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&(y(),c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)},j.preventDefault())}),onKeyDown:Ht(o.onKeyDown,j=>{const w=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&p(j.key),!(w&&j.key===" ")&&RF.includes(j.key)&&(y(),j.preventDefault())})})))}),zF="SelectValue",WF=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:c,...u}=e,f=Qi(zF,r),{onValueNodeHasChildrenChange:h}=f,m=a!==void 0,p=cr(t,f.onValueNodeChange);return Xr(()=>{h(m)},[h,m]),v.createElement(er.span,nt({},u,{ref:p,style:{pointerEvents:"none"}}),f.value===void 0&&c!==void 0?c:a)}),HF=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return v.createElement(er.span,nt({"aria-hidden":!0},o,{ref:t}),n||"▼")}),qF=e=>v.createElement(xF,nt({asChild:!0},e)),fa="SelectContent",YF=v.forwardRef((e,t)=>{const r=Qi(fa,e.__scopeSelect),[n,o]=v.useState();if(Xr(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?Vi.createPortal(v.createElement(QS,{scope:e.__scopeSelect},v.createElement(Zd.Slot,{scope:e.__scopeSelect},v.createElement("div",null,e.children))),a):null}return v.createElement(GF,nt({},e,{ref:t}))}),Xn=10,[QS,Zi]=Ca(fa),GF=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_,...N}=e,C=Qi(fa,r),[k,A]=v.useState(null),[T,P]=v.useState(null),E=cr(t,te=>A(te)),[O,R]=v.useState(null),[W,Z]=v.useState(null),Q=ef(r),[q,I]=v.useState(!1),B=v.useRef(!1);v.useEffect(()=>{if(k)return Pv(k)},[k]),l3();const F=v.useCallback(te=>{const[fe,...pe]=Q().map(ye=>ye.ref.current),[ue]=pe.slice(-1),oe=document.activeElement;for(const ye of te)if(ye===oe||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===fe&&T&&(T.scrollTop=0),ye===ue&&T&&(T.scrollTop=T.scrollHeight),ye==null||ye.focus(),document.activeElement!==oe))return},[Q,T]),z=v.useCallback(()=>F([O,k]),[F,O,k]);v.useEffect(()=>{q&&z()},[q,z]);const{onOpenChange:L,triggerPointerDownPosRef:H}=C;v.useEffect(()=>{if(k){let te={x:0,y:0};const fe=ue=>{var oe,ye,He,De;te={x:Math.abs(Math.round(ue.pageX)-((oe=(ye=H.current)===null||ye===void 0?void 0:ye.x)!==null&&oe!==void 0?oe:0)),y:Math.abs(Math.round(ue.pageY)-((He=(De=H.current)===null||De===void 0?void 0:De.y)!==null&&He!==void 0?He:0))}},pe=ue=>{te.x<=10&&te.y<=10?ue.preventDefault():k.contains(ue.target)||L(!1),document.removeEventListener("pointermove",fe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",pe,{capture:!0})}}},[k,L,H]),v.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[ee,$]=rN(te=>{const fe=Q().filter(oe=>!oe.disabled),pe=fe.find(oe=>oe.ref.current===document.activeElement),ue=nN(fe,te,pe);ue&&setTimeout(()=>ue.ref.current.focus())}),K=v.useCallback((te,fe,pe)=>{const ue=!B.current&&!pe;(C.value!==void 0&&C.value===fe||ue)&&(R(te),ue&&(B.current=!0))},[C.value]),ne=v.useCallback(()=>k==null?void 0:k.focus(),[k]),ce=v.useCallback((te,fe,pe)=>{const ue=!B.current&&!pe;(C.value!==void 0&&C.value===fe||ue)&&Z(te)},[C.value]),se=n==="popper"?vb:KF,ie=se===vb?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return v.createElement(QS,{scope:r,content:k,viewport:T,onViewportChange:P,itemRefCallback:K,selectedItem:O,onItemLeave:ne,itemTextRefCallback:ce,focusSelectedItem:z,selectedItemText:W,position:n,isPositioned:q,searchRef:ee},v.createElement(JS,{as:zl,allowPinchZoom:!0},v.createElement(c3,{asChild:!0,trapped:C.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ht(o,te=>{var fe;(fe=C.trigger)===null||fe===void 0||fe.focus({preventScroll:!0}),te.preventDefault()})},v.createElement(i3,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>C.onOpenChange(!1)},v.createElement(se,nt({role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:te=>te.preventDefault()},N,ie,{onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ht(N.onKeyDown,te=>{const fe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!fe&&te.key.length===1&&$(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ue=Q().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const oe=te.target,ye=ue.indexOf(oe);ue=ue.slice(ye+1)}setTimeout(()=>F(ue)),te.preventDefault()}})}))))))}),KF=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Qi(fa,r),c=Zi(fa,r),[u,f]=v.useState(null),[h,m]=v.useState(null),p=cr(t,E=>m(E)),x=ef(r),y=v.useRef(!1),j=v.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:N,focusSelectedItem:C}=c,k=v.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&w&&_&&N){const E=a.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),W=N.getBoundingClientRect();if(a.dir!=="rtl"){const oe=W.left-O.left,ye=R.left-oe,He=E.left-ye,De=E.width+He,ze=Math.max(De,O.width),tt=window.innerWidth-Xn,rt=Xw(ye,[Xn,tt-ze]);u.style.minWidth=De+"px",u.style.left=rt+"px"}else{const oe=O.right-W.right,ye=window.innerWidth-R.right-oe,He=window.innerWidth-E.right-ye,De=E.width+He,ze=Math.max(De,O.width),tt=window.innerWidth-Xn,rt=Xw(ye,[Xn,tt-ze]);u.style.minWidth=De+"px",u.style.right=rt+"px"}const Z=x(),Q=window.innerHeight-Xn*2,q=w.scrollHeight,I=window.getComputedStyle(h),B=parseInt(I.borderTopWidth,10),F=parseInt(I.paddingTop,10),z=parseInt(I.borderBottomWidth,10),L=parseInt(I.paddingBottom,10),H=B+F+q+L+z,ee=Math.min(_.offsetHeight*5,H),$=window.getComputedStyle(w),K=parseInt($.paddingTop,10),ne=parseInt($.paddingBottom,10),ce=E.top+E.height/2-Xn,se=Q-ce,ie=_.offsetHeight/2,te=_.offsetTop+ie,fe=B+F+te,pe=H-fe;if(fe<=ce){const oe=_===Z[Z.length-1].ref.current;u.style.bottom="0px";const ye=h.clientHeight-w.offsetTop-w.offsetHeight,He=Math.max(se,ie+(oe?ne:0)+ye+z),De=fe+He;u.style.height=De+"px"}else{const oe=_===Z[0].ref.current;u.style.top="0px";const He=Math.max(ce,B+w.offsetTop+(oe?K:0)+ie)+pe;u.style.height=He+"px",w.scrollTop=fe-ce+w.offsetTop}u.style.margin=`${Xn}px 0`,u.style.minHeight=ee+"px",u.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[x,a.trigger,a.valueNode,u,h,w,_,N,a.dir,n]);Xr(()=>k(),[k]);const[A,T]=v.useState();Xr(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const P=v.useCallback(E=>{E&&j.current===!0&&(k(),C==null||C(),j.current=!1)},[k,C]);return v.createElement(XF,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:P},v.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A}},v.createElement(er.div,nt({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),vb=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Xn,...a}=e,c=Yv(r);return v.createElement(gF,nt({},c,a,{ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[XF,Gv]=Ca(fa,{}),gb="SelectViewport",JF=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Zi(gb,r),a=Gv(gb,r),c=cr(t,o.onViewportChange),u=v.useRef(0);return v.createElement(v.Fragment,null,v.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),v.createElement(Zd.Slot,{scope:r},v.createElement(er.div,nt({"data-radix-select-viewport":"",role:"presentation"},n,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:Ht(n.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&m){const x=Math.abs(u.current-h.scrollTop);if(x>0){const y=window.innerHeight-Xn*2,j=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),_=Math.max(j,w);if(_<y){const N=_+x,C=Math.min(y,N),k=N-C;m.style.height=C+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})}))))}),QF="SelectGroup",[mV,ZF]=Ca(QF),e5="SelectLabel",t5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=ZF(e5,r);return v.createElement(er.div,nt({id:o.id},n,{ref:t}))}),Mp="SelectItem",[r5,ZS]=Ca(Mp),n5=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...c}=e,u=Qi(Mp,r),f=Zi(Mp,r),h=u.value===n,[m,p]=v.useState(a??""),[x,y]=v.useState(!1),j=cr(t,N=>{var C;return(C=f.itemRefCallback)===null||C===void 0?void 0:C.call(f,N,n,o)}),w=bS(),_=()=>{o||(u.onValueChange(n),u.onOpenChange(!1))};return v.createElement(r5,{scope:r,value:n,disabled:o,textId:w,isSelected:h,onItemTextChange:v.useCallback(N=>{p(C=>{var k;return C||((k=N==null?void 0:N.textContent)!==null&&k!==void 0?k:"").trim()})},[])},v.createElement(Zd.ItemSlot,{scope:r,value:n,disabled:o,textValue:m},v.createElement(er.div,nt({role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},c,{ref:j,onFocus:Ht(c.onFocus,()=>y(!0)),onBlur:Ht(c.onBlur,()=>y(!1)),onPointerUp:Ht(c.onPointerUp,_),onPointerMove:Ht(c.onPointerMove,N=>{if(o){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}else N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ht(c.onPointerLeave,N=>{if(N.currentTarget===document.activeElement){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}}),onKeyDown:Ht(c.onKeyDown,N=>{var C;((C=f.searchRef)===null||C===void 0?void 0:C.current)!==""&&N.key===" "||($F.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})}))))}),Ju="SelectItemText",s5=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,c=Qi(Ju,r),u=Zi(Ju,r),f=ZS(Ju,r),h=FF(Ju,r),[m,p]=v.useState(null),x=cr(t,N=>p(N),f.onItemTextChange,N=>{var C;return(C=u.itemTextRefCallback)===null||C===void 0?void 0:C.call(u,N,f.value,f.disabled)}),y=m==null?void 0:m.textContent,j=v.useMemo(()=>v.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},y),[f.disabled,f.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Xr(()=>(w(j),()=>_(j)),[w,_,j]),v.createElement(v.Fragment,null,v.createElement(er.span,nt({id:f.textId},a,{ref:x})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vi.createPortal(a.children,c.valueNode):null)}),i5="SelectItemIndicator",o5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ZS(i5,r).isSelected?v.createElement(er.span,nt({"aria-hidden":!0},n,{ref:t})):null}),xb="SelectScrollUpButton",a5=v.forwardRef((e,t)=>{const r=Zi(xb,e.__scopeSelect),n=Gv(xb,e.__scopeSelect),[o,a]=v.useState(!1),c=cr(t,n.onScrollButtonChange);return Xr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollTop>0;a(h)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?v.createElement(eN,nt({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}})):null}),yb="SelectScrollDownButton",l5=v.forwardRef((e,t)=>{const r=Zi(yb,e.__scopeSelect),n=Gv(yb,e.__scopeSelect),[o,a]=v.useState(!1),c=cr(t,n.onScrollButtonChange);return Xr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;a(m)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?v.createElement(eN,nt({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}})):null}),eN=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=Zi("SelectScrollButton",r),c=v.useRef(null),u=ef(r),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),Xr(()=>{var h;const m=u().find(p=>p.ref.current===document.activeElement);m==null||(h=m.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[u]),v.createElement(er.div,nt({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ht(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Ht(o.onPointerMove,()=>{var h;(h=a.onItemLeave)===null||h===void 0||h.call(a),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Ht(o.onPointerLeave,()=>{f()})}))}),c5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return v.createElement(er.div,nt({"aria-hidden":!0},n,{ref:t}))}),tN=v.forwardRef((e,t)=>{const{value:r,...n}=e,o=v.useRef(null),a=cr(t,o),c=wF(r);return v.useEffect(()=>{const u=o.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==r&&m){const p=new Event("change",{bubbles:!0});m.call(u,r),u.dispatchEvent(p)}},[c,r]),v.createElement(bF,{asChild:!0},v.createElement("select",nt({},n,{ref:a,defaultValue:r})))});tN.displayName="BubbleSelect";function rN(e){const t=ss(e),r=v.useRef(""),n=v.useRef(0),o=v.useCallback(c=>{const u=r.current+c;t(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function nN(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=u5(e,Math.max(a,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function u5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const d5=UF,sN=VF,f5=WF,h5=HF,m5=qF,iN=YF,p5=JF,oN=t5,aN=n5,v5=s5,g5=o5,lN=a5,cN=l5,uN=c5,Yt=d5,Gt=f5,Ot=ge.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sN,{ref:n,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(h5,{asChild:!0,children:s.jsx(Y_,{className:"h-4 w-4 opacity-50"})})]}));Ot.displayName=sN.displayName;const dN=ge.forwardRef(({className:e,...t},r)=>s.jsx(lN,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(s$,{className:"h-4 w-4"})}));dN.displayName=lN.displayName;const fN=ge.forwardRef(({className:e,...t},r)=>s.jsx(cN,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Y_,{className:"h-4 w-4"})}));fN.displayName=cN.displayName;const Rt=ge.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(m5,{children:s.jsxs(iN,{ref:o,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(dN,{}),s.jsx(p5,{className:Te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(fN,{})]})}));Rt.displayName=iN.displayName;const x5=ge.forwardRef(({className:e,...t},r)=>s.jsx(oN,{ref:r,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));x5.displayName=oN.displayName;const Pe=ge.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(aN,{ref:n,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(g5,{children:s.jsx(q_,{className:"h-4 w-4"})})}),s.jsx(v5,{children:t})]}));Pe.displayName=aN.displayName;const y5=ge.forwardRef(({className:e,...t},r)=>s.jsx(uN,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));y5.displayName=uN.displayName;const Mm=25,w5=()=>{var ce;const{user:e}=Jt(),t=ls(),r=new URLSearchParams(t.search),n=r.get("featured"),o=r.get("search"),a=r.get("cat_filter"),c=r.get("sort"),u=Xt(),[f,h]=v.useState(o||""),[m,p]=v.useState(o||""),[x,y]=v.useState(a||"all"),[j,w]=v.useState(c||"name-asc"),[_,N]=v.useState([]),[C,k]=v.useState([]),[A,T]=v.useState(!0),[P,E]=v.useState(!1),[O,R]=v.useState(!0),[W,Z]=v.useState(0),[Q,q]=v.useState(!1),[I,B]=v.useState(n==="true");v.useEffect(()=>{const se=setTimeout(()=>{if(f.length>=2||f.length===0){if(!e){const ie=parseInt(localStorage.getItem("search_count")||"0",10);if(ie>=10){q(!0);return}localStorage.setItem("search_count",(ie+1).toString())}p(f)}},300);return()=>clearTimeout(se)},[e,f]),v.useEffect(()=>{F()},[]),v.useEffect(()=>{Z(0),N([]),R(!0),z(!0),u({pathname:t.pathname,search:`search=${m}&cat_filter=${x}&sort=${j}&featured=${I||"false"}`},{replace:!0})},[m,x,j,I]);const F=async()=>{try{let se=lr("categories_all");if(!se){const{data:ie,error:te}=await de.from("categories").select("*").order("name");if(te)throw te;se=ie||[],qt("categories_all",se)}k(se)}catch(se){console.error("Error fetching categories:",se)}},z=async(se=!1)=>{const ie=se?0:W,te=`products_${n||"all"}_${x}_${j}_${ie}_${m||"all"}`;se?T(!0):E(!0);try{let fe=lr(te),pe=[];if(fe)pe=fe;else{let ue=de.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `);if(n==="true"&&(ue=ue.eq("featured",!0)),m&&m.length>=2){const ze=m.replace(/\s+/g,"+");ue=ue.textSearch("fts",`${ze}:*`)}if(x!=="all"){const ze=parseInt(x);ue=ue.or(`category_id.eq.${ze},categories_ids.cs.[${ze}]`)}switch(j){case"name-asc":ue=ue.order("name",{ascending:!0});break;case"name-desc":ue=ue.order("name",{ascending:!1});break;case"price-asc":ue=ue.order("price",{ascending:!0});break;case"price-desc":ue=ue.order("price",{ascending:!1});break;default:ue=ue.order("name",{ascending:!0});break}const oe=ie*Mm,ye=oe+Mm-1;ue=ue.range(oe,ye);const{data:He,error:De}=await ue;if(De)throw De;pe=He||[],qt(te,pe)}se?(N(pe),Z(1)):(N(ue=>[...ue,...pe]),Z(ue=>ue+1)),R(pe.length===Mm)}catch(fe){console.error("Error fetching products:",fe)}finally{T(!1),E(!1)}},L=()=>{!P&&O&&z(!1)},H=se=>{h(se)},ee=se=>{y(se)},$=se=>{w(se)},K=()=>{h(""),p(""),y("all"),w("name-asc"),B(!1)},ne=f||x!=="all"||j!=="name-asc"||n==="true";return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative min-h-[200px] bg-gradient-to-b from-[#2E8B57] via-[#3CB371] to-white overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2E8B57]/90 via-[#3CB371]/80 to-white/90"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-5",children:s.jsxs(je.div,{className:"space-y-3 max-w-4xl mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:n==="true"?"Featured Products":"Shop"}),s.jsx("p",{className:"text-white/90 text-sm",children:"Browse from a selection of groceries, household essentials and more."})]}),s.jsx(je.div,{className:"relative max-w-xl w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:s.jsxs("div",{className:"relative",children:[s.jsx(bv,{style:{zIndex:"1"},className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx(we,{type:"search",placeholder:"Search for products...",className:"h-11 pl-10 pr-4 bg-white/95 backdrop-blur-lg border-0 shadow-lg text-gray-800 placeholder:text-gray-500",value:f,onChange:se=>H(se.target.value)})]})}),s.jsxs(je.div,{className:"flex flex-col sm:flex-row gap-2 items-center justify-start max-w-3xl w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:[s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-start",children:[s.jsx("div",{className:"min-w-[120px] w-[200px] flex items-center",children:s.jsxs(Yt,{value:x,onValueChange:ee,children:[s.jsxs(Ot,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm text-left pr-8",children:[s.jsx(Gt,{placeholder:"All Categories"}),s.jsx(ii,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"all",children:"All Categories"}),C.map(se=>s.jsx(Pe,{value:se.id.toString(),children:se.name},se.id))]})]})}),s.jsx("div",{className:"min-w-[140px] w-[160px] flex items-center",children:s.jsxs(Yt,{value:j,onValueChange:$,children:[s.jsxs(Ot,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm text-left pr-8",children:[s.jsx(Gt,{placeholder:"Sort by"}),s.jsx(B4,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(Pe,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(Pe,{value:"price-asc",children:"Price (Low to High)"}),s.jsx(Pe,{value:"price-desc",children:"Price (High to Low)"})]})]})})]}),ne&&s.jsxs(J,{variant:"outline",size:"lg",className:"bg-[#ff9800]/95 backdrop-blur-sm border-0 shadow-lg hover:bg-white text-gray-800 h-8 text-xs",onClick:K,children:[s.jsx(us,{className:"w-3 h-3 mr-1"}),"Reset"]})]}),ne&&s.jsxs(je.div,{className:"flex flex-wrap gap-1 justify-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:[f&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-full px-2 py-0.5 text-green text-xs",children:['Search: "',f,'"']}),x!=="all"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-full px-2 py-0.5 text-green text-xs",children:["Category: ",(ce=C.find(se=>se.id.toString()===x))==null?void 0:ce.name]}),j!=="name-asc"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-full px-2 py-0.5 text-green text-xs",children:["Sort: ",j.replace("-"," ").replace(/\b\w/g,se=>se.toUpperCase())]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:A?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):_.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter criteria."}),ne&&s.jsx(J,{onClick:K,className:"mt-4",variant:"outline",children:"Clear all filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," product",_.length!==1?"s":"",ne&&" matching your criteria"]})}),s.jsx("div",{className:"product-grid",children:_.map(se=>s.jsx(gd,{product:se},se.id))}),O&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx(J,{onClick:L,disabled:P,variant:"outline",size:"lg",children:P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More Products"})})]})}),Q&&s.jsx(Rv,{open:Q,onOpenChange:q})]})},b5=({category:e})=>s.jsx(Ae,{to:`/category/${e.id}`,children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.03},className:"category-card overflow-hidden rounded-lg border bg-card",children:[s.jsx("div",{className:"aspect-square mx-auto bg-muted",children:s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.icon_url||"https://images.unsplash.com/photo-1491696888587-6a2c0225c9fb"})}),s.jsxs("div",{className:"p-3 text-center",children:[s.jsx("h3",{className:"text-sm font-medium",children:e.name}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-center mt-2 text-primary",children:[s.jsx("span",{className:"text-xs font-medium",children:"Shop now"}),s.jsx(wp,{className:"ml-1 h-3 w-3"})]})]})]})}),j5=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{let a=lr("categories_all");if(a)t(a);else{const{data:c,error:u}=await de.from("categories").select("*").order("name");if(u)throw u;t(c||[]),qt("categories_all",c||[])}}catch(a){console.error("Error fetching categories:",a)}finally{n(!1)}})()},[]),r?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[200px] bg-gradient-to-b from-[#2E8B57] via-[#3CB371] to-white overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Fresh groceries",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2E8B57]/90 via-[#3CB371]/80 to-white/90"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-2xl",children:s.jsxs(je.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Categories"}),s.jsx("p",{className:"text-white/90",children:"Browse our selection of grocery categories to find exactly what you need."})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map((o,a)=>s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:a*.05},children:s.jsx(b5,{category:o})},o.id))})})]})},_5=()=>{const{id:e}=kd(),[t,r]=v.useState(null),[n,o]=v.useState([]),[a,c]=v.useState(!0),[u,f]=v.useState(""),h=Xt();v.useEffect(()=>{(async()=>{if(e){c(!0);try{let x=lr(`category_${e}`),y=lr(`category_products_${e}`);if(!x){const{data:j,error:w}=await de.from("categories").select("*").eq("id",e).single();if(w)throw w;x=j,qt(`category_${e}`,j)}if(r(x),!y){const{data:j,error:w}=await de.from("products").select("*, categories ( id, name )").or(`category_id.eq.${e},categories_ids.cs.[${e}]`).order("name");if(w)throw w;y=j||[],qt(`category_products_${e}`,y)}o(y)}catch(x){console.error("Error fetching category or products:",x)}finally{c(!1)}}})()},[e]);const m=n.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())||p.description&&p.description.toLowerCase().includes(u.toLowerCase()));return a?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(J,{variant:"ghost",size:"sm",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",onClick:()=>h(-1),children:[s.jsx(la,{className:"w-4 h-4 mr-1"}),"Go Back"]})}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:s.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg bg-muted mb-4",style:t!=null&&t.icon_url?{backgroundImage:`url(${t.icon_url})`,backgroundRepeat:"repeat",backgroundSize:"60px",backgroundPosition:"center"}:{},children:[s.jsx("div",{className:"absolute inset-0 bg-[#3CB371] opacity-90"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:t.name}),s.jsx("p",{className:"mt-2 text-white/90",children:t.description})]})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(bv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(we,{type:"text",placeholder:`Search products in ${t.name}...`,value:u,onChange:p=>f(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:u?`No products found matching "${u}"`:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:u?"Try a different search term.":"There are currently no products in this category."}),!u&&s.jsx(Ae,{to:"/shop",children:s.jsx(J,{className:"mt-4",children:"Browse All Products"})})]}):s.jsxs("div",{className:"product-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[" ",m.map(p=>s.jsx(gd,{product:p},p.id))]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Category Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The category you're looking for doesn't exist."}),s.jsx(Ae,{to:"/categories",children:s.jsx(J,{className:"mt-4",children:"Browse All Categories"})})]})})},S5=()=>{const{id:e}=kd(),[t,r]=v.useState(null),[n,o]=v.useState(!0),{addToCart:a,updateQuantity:c,cart:u}=cs(),f=Xt();v.useEffect(()=>{(async()=>{if(e)try{const{data:j,error:w}=await de.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `).eq("id",e).single();if(w)throw w;r(j)}catch(j){console.error("Error fetching product:",j)}finally{o(!1)}})()},[e]),v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const h=u.find(y=>(y==null?void 0:y.id)===(t==null?void 0:t.id)),m=h?h.quantity:0,p=y=>{t&&c(t.id,y)},x=()=>{t&&a(t,1)};return n?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(J,{variant:"ghost",size:"sm",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",onClick:()=>f(-1),children:[s.jsx(la,{className:"w-4 h-4 mr-1"}),"Go Back"]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 items-start",children:[s.jsx(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"overflow-hidden rounded-lg bg-white aspect-square flex items-center justify-center min-h-[180px] max-h-[220px]",children:s.jsx("img",{alt:t.name,className:"w-3/5 h-3/5 object-contain mx-auto",src:t.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"})}),s.jsxs(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[t.categories&&s.jsx(Ae,{to:`/category/${t.categories.id}`,className:"inline-block px-3 py-1 text-xs font-medium rounded-full bg-primary/10 text-primary",children:t.categories.name}),s.jsx("h1",{className:"text-3xl font-bold",children:t.name}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:Se(t.price)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["per ",t.unit]})]}),s.jsx("p",{className:"text-muted-foreground",children:t.description}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("div",{className:"flex items-center space-x-4",children:m>0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(J,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>p(m-1),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium w-6 text-center",children:m}),s.jsx(J,{size:"icon",className:"h-8 w-8",onClick:()=>p(m+1),children:s.jsx(Yi,{className:"h-4 w-4"})})]}):s.jsxs(J,{className:"flex-1",onClick:x,disabled:!t.in_stock,children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),t.in_stock?"Add to Cart":"Out of Stock"]})}),m>0&&s.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Total:"})," ",Se(t.price*m)]})})]})]})]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Product Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The product you're looking for doesn't exist."}),s.jsx(Ae,{to:"/shop",children:s.jsx(J,{className:"mt-4",children:"Browse All Products"})})]})})};function hN(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Kv(e){const[t,r]=v.useState(void 0);return ns(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var tf="Checkbox",[N5,pV]=Rn(tf),[C5,k5]=N5(tf),mN=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:a,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...p}=e,[x,y]=v.useState(null),j=St(t,A=>y(A)),w=v.useRef(!1),_=x?m||!!x.closest("form"):!0,[N,C]=Xi({prop:o,defaultProp:a??!1,onChange:h,caller:tf}),k=v.useRef(N);return v.useEffect(()=>{const A=x==null?void 0:x.form;if(A){const T=()=>C(k.current);return A.addEventListener("reset",T),()=>A.removeEventListener("reset",T)}},[x,C]),s.jsxs(C5,{scope:r,state:N,disabled:u,children:[s.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":Ks(N)?"mixed":N,"aria-required":c,"data-state":xN(N),"data-disabled":u?"":void 0,disabled:u,value:f,...p,ref:j,onKeyDown:Ye(e.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:Ye(e.onClick,A=>{C(T=>Ks(T)?!0:!T),_&&(w.current=A.isPropagationStopped(),w.current||A.stopPropagation())})}),_&&s.jsx(gN,{control:x,bubbles:!w.current,name:n,value:f,checked:N,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Ks(a)?!1:a})]})});mN.displayName=tf;var pN="CheckboxIndicator",vN=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,a=k5(pN,r);return s.jsx($n,{present:n||Ks(a.state)||a.state===!0,children:s.jsx(Xe.span,{"data-state":xN(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});vN.displayName=pN;var E5="CheckboxBubbleInput",gN=v.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:o,...a},c)=>{const u=v.useRef(null),f=St(u,c),h=hN(r),m=Kv(t);v.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==r&&w){const _=new Event("click",{bubbles:n});x.indeterminate=Ks(r),w.call(x,Ks(r)?!1:r),x.dispatchEvent(_)}},[h,r,n]);const p=v.useRef(Ks(r)?!1:r);return s.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,...a,tabIndex:-1,ref:f,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gN.displayName=E5;function Ks(e){return e==="indeterminate"}function xN(e){return Ks(e)?"indeterminate":e?"checked":"unchecked"}var yN=mN,P5=vN;const as=ge.forwardRef(({className:e,...t},r)=>s.jsx(yN,{ref:r,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(P5,{className:Te("flex items-center justify-center text-current"),children:s.jsx(q_,{className:"h-4 w-4"})})}));as.displayName=yN.displayName;const mr=ge.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Te("flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));mr.displayName="Textarea";const wN=({onSelect:e})=>{const{user:t}=Jt(),r=(t==null?void 0:t.addresses)||[];return s.jsx("div",{className:"space-y-2",children:r.map(n=>s.jsxs(J,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>e(n.address),children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:n.label}),s.jsx("span",{className:"text-xs text-muted-foreground truncate line-clamp-2",children:n.address.length>30?n.address.slice(0,30)+"...":n.address})]})]},n.id))})},rf=({value:e,onChange:t,onAddressSelect:r,placeholder:n="Enter your address",className:o,disabled:a,...c})=>{const[u,f]=v.useState([]),[h,m]=v.useState(!1),[p,x]=v.useState(!1),y=v.useRef(null),j=v.useRef(null),w=v.useRef(!1),_=v.useRef(),N=async P=>{x(!0);try{if(P.length>=3){const E=`address_suggestions_${P.toLowerCase()}`,O=lr(E);if(O){f(O),m(O.length>0),x(!1);return}let R=P.replace(/\s+/g,"+");const W=await de.from("adelaide_address_data").select("ADDRESS_LA, LOCALITY_N, POSTCODE").textSearch("fts",`${R}:*`).limit(18446744);if(W.error)throw W.error;const Z=C(W.data);f(Z),m(Z.length>0),qt(E,Z,525600);return}f([]),m(!1)}catch(E){console.error("Error searching addresses:",E),f([]),m(!1)}finally{x(!1)}};v.useEffect(()=>{if(w.current){w.current=!1;return}if(!e||e.length<3){f([]),m(!1);return}return clearTimeout(_.current),_.current=setTimeout(()=>{N(e)},400),()=>clearTimeout(_.current)},[e]);const C=P=>{const E={ADDRESS_LA:"address",LOCALITY_N:"suburb",POSTCODE:"postcode"};return P.map(O=>{const R={};for(const W in O)R[E[W]||W]=O[W];return R})},k=P=>{t(P.target.value)},A=P=>{w.current=!0,t(P.address),m(!1),r&&r({address:P.address,suburb:P.suburb.toUpperCase(),postcode:P.postcode})},T=P=>{P.key==="Escape"&&m(!1)};return v.useEffect(()=>{const P=E=>{y.current&&!y.current.contains(E.target)&&j.current&&!j.current.contains(E.target)&&m(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),s.jsxs("div",{className:"relative",children:[s.jsx(we,{ref:y,value:e,onChange:k,onKeyDown:T,placeholder:n,className:o,disabled:a,...c}),h&&u.length>0&&s.jsx("div",{ref:j,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:u.map((P,E)=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>A(P),children:[s.jsx("div",{className:"text-sm font-medium",children:P.address}),s.jsxs("div",{className:"text-xs text-gray-500",children:[P.suburb,", ",P.postcode]})]},E))}),p&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]})};async function nf({cacheKey:e="postcodes",cacheMinutes:t=1440}={}){const r=lr(e);if(r)return r;const{data:n,error:o}=await de.from("postcodes").select("*").order("suburb");if(o)throw o;return qt(e,n,t),n}const T5=({onDetailsChange:e,errors:t})=>{var T;const{user:r}=Jt(),[n,o]=v.useState({name:"",email:"",phone:"",address:"",postcode:"",deliveryNotes:""}),[a,c]=v.useState(!1),[u,f]=v.useState([]),[h,m]=v.useState([]),[p,x]=v.useState(""),[y,j]=v.useState(!1),w=[`Call on arrival,
`,`Leave with reception,
`,`Knock softly, baby sleeping,
`,`Text me before delivery,
`];v.useEffect(()=>{var P,E;r&&o({name:r.name||"",email:r.email||"",phone:r.phone||"",address:((P=r.addresses[0])==null?void 0:P.address)||"",postcode:((E=r.addresses[0])==null?void 0:E.postcode)||"",deliveryNotes:""})},[r]),v.useEffect(()=>{(async()=>{try{const E=await nf();f(E),m(E)}catch(E){console.error("Error fetching postcodes:",E)}})()},[]),v.useEffect(()=>{if(p.length===0)m(u);else{const P=u.filter(E=>E.suburb.toLowerCase().includes(p.toLowerCase())||E.postcode.includes(p));m(P)}},[p,u]),v.useEffect(()=>{e({...n})},[n,e]);const _=P=>{const{name:E,value:O}=P.target;o(R=>({...R,[E]:O}))},N=P=>{const E=r.addresses.find(O=>O.address===P);if(E){o(R=>({...R,address:E.address,postcode:E.postcode.toString()}));const O=u.find(R=>E.address.toUpperCase().includes(R.suburb.toUpperCase()));O&&x(`${O.suburb}, ${O.postcode}`)}c(!1)},C=P=>{o(E=>({...E,address:P.address,postcode:P.postcode})),x(`${P.suburb.toUpperCase()}, ${P.postcode}`)},k=P=>{o(E=>({...E,postcode:P.postcode})),x(`${P.suburb}, ${P.postcode}`),j(!1)},A=async()=>{var P;if(r.addresses&&((P=r.addresses)==null?void 0:P.length)>0&&u&&u.length){const E=u.find(O=>r.addresses[0].address.toUpperCase().includes(O.suburb.toUpperCase()));x(E?`${E.suburb}, ${E.postcode}`:"")}};return v.useEffect(()=>{r&&u&&A()},[r,u]),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx(pd,{className:"mr-2 h-5 w-5 text-primary"}),"Delivery Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Full Name"}),s.jsx(we,{id:"name",name:"name",value:n.name,onChange:_,className:t!=null&&t.name?"border-destructive":""}),(t==null?void 0:t.name)&&s.jsx("p",{className:"text-xs text-destructive",children:t.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email (Optional)"}),s.jsx(we,{id:"email",name:"email",type:"email",value:n.email,onChange:_,className:t!=null&&t.email?"border-destructive":""}),(t==null?void 0:t.email)&&s.jsx("p",{className:"text-xs text-destructive",children:t.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(we,{id:"phone",name:"phone",value:n.phone,onChange:_,className:t!=null&&t.phone?"border-destructive":""}),(t==null?void 0:t.phone)&&s.jsx("p",{className:"text-xs text-destructive",children:t.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(le,{htmlFor:"address",children:"Delivery Address"}),r&&((T=r.addresses)==null?void 0:T.length)>0&&s.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>c(!a),className:"flex items-center text-primary",children:[s.jsx(ca,{className:"w-4 h-4 mr-1"}),a?"Hide saved addresses":"Use saved address"]})]}),a&&s.jsx(wN,{onSelect:N}),s.jsx(rf,{value:n.address,onChange:P=>o(E=>({...E,address:P})),onAddressSelect:C,placeholder:"Start typing your address...",className:t!=null&&t.address?"border-destructive":""}),(t==null?void 0:t.address)&&s.jsx("p",{className:"text-xs text-destructive",children:t.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{id:"postcode",placeholder:"Search suburb or postcode...",value:p,onChange:P=>{x(P.target.value),j(!0)},onFocus:()=>j(!0),className:t!=null&&t.postcode?"border-destructive":""}),y&&h.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.slice(0,10).map(P=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>k(P),children:[s.jsx("div",{className:"text-sm font-medium",children:P.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:P.postcode})]},`${P.suburb}-${P.postcode}`))})]}),(t==null?void 0:t.postcode)&&s.jsx("p",{className:"text-xs text-destructive",children:t.postcode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"deliveryNotes",children:"Delivery Notes (Optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.map(P=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>o(E=>({...E,deliveryNotes:n.deliveryNotes+P})),children:P},P))}),s.jsx(mr,{id:"deliveryNotes",name:"deliveryNotes",value:n.deliveryNotes,onChange:_,placeholder:"Any special notes instructions.",rows:3})]})]})]})};var A5="Separator",wb="horizontal",D5=["horizontal","vertical"],bN=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=wb,...o}=e,a=O5(n)?n:wb,u=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Xe.div,{"data-orientation":a,...u,...o,ref:t})});bN.displayName=A5;function O5(e){return D5.includes(e)}var jN=bN;const ql=ge.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(jN,{ref:o,decorative:r,orientation:t,className:Te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ql.displayName=jN.displayName;const R5=({deliveryFee:e=0,appliedPromo:t=null,discountAmount:r=0,serviceFeePercent:n=0,serviceFee:o=0})=>{const{cart:a,getCartTotal:c}=cs(),u=c(),f=u-r+e+o;return s.jsxs("div",{className:"sticky top-20 p-6 border rounded-lg bg-muted/20",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded pr-2 mb-4 custom-scrollbar",children:a.length>0?a.map(h=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 mr-2",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:h.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Se(h.price)," x ",h.quantity]})]}),s.jsx("p",{className:"font-medium text-sm whitespace-nowrap",children:Se(h.price*h.quantity)})]},h.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Your cart is empty."})}),s.jsx(ql,{className:"my-4"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cart Total"}),s.jsx("span",{children:Se(u)})]}),t&&r>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",t.code,")"]}),s.jsxs("span",{children:["-",Se(r)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:Se(e)})]}),o>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",n," %)"]}),s.jsx("span",{children:Se(o)})]}),s.jsx(ql,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-base pt-1",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Se(f)})]})]})]})};function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function Kt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Me(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function We(e){Me(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ha(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Wt(e,t){Me(2,arguments);var r=We(e),n=Kt(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function gn(e,t){Me(2,arguments);var r=We(e),n=Kt(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var c=a.getDate();return o>=c?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function $5(e,t){Me(2,arguments);var r=We(e).getTime(),n=Kt(t);return new Date(r+n)}var M5={};function li(){return M5}function On(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=li(),p=Kt((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getDay(),j=(y<p?7:0)+y-p;return x.setDate(x.getDate()-j),x.setHours(0,0,0,0),x}function Bi(e){return Me(1,arguments),On(e,{weekStartsOn:1})}function I5(e){Me(1,arguments);var t=We(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=Bi(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var c=Bi(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function L5(e){Me(1,arguments);var t=I5(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=Bi(r);return n}function Yl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ma(e){Me(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var F5=864e5;function Qn(e,t){Me(2,arguments);var r=ma(e),n=ma(t),o=r.getTime()-Yl(r),a=n.getTime()-Yl(n);return Math.round((o-a)/F5)}function Ip(e,t){Me(2,arguments);var r=Kt(t),n=r*7;return Wt(e,n)}function U5(e,t){Me(2,arguments);var r=Kt(t);return gn(e,r*12)}function B5(e){Me(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(ha(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=We(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function V5(e){Me(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(ha(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=We(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function jr(e,t){Me(2,arguments);var r=ma(e),n=ma(t);return r.getTime()===n.getTime()}function Xv(e){return Me(1,arguments),e instanceof Date||ha(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function z5(e){if(Me(1,arguments),!Xv(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function Gl(e,t){Me(2,arguments);var r=We(e),n=We(t),o=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return o*12+a}var W5=6048e5;function H5(e,t,r){Me(2,arguments);var n=On(e,r),o=On(t,r),a=n.getTime()-Yl(n),c=o.getTime()-Yl(o);return Math.round((a-c)/W5)}function Jv(e){Me(1,arguments);var t=We(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _r(e){Me(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function q5(e){Me(1,arguments);var t=We(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Qv(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=li(),p=Kt((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getDay(),j=(y<p?-7:0)+6-(y-p);return x.setDate(x.getDate()+j),x.setHours(23,59,59,999),x}function _N(e){return Me(1,arguments),Qv(e,{weekStartsOn:1})}function Y5(e,t){Me(2,arguments);var r=Kt(t);return $5(e,-r)}var G5=864e5;function K5(e){Me(1,arguments);var t=We(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),o=r-n;return Math.floor(o/G5)+1}function jd(e){Me(1,arguments);var t=1,r=We(e),n=r.getUTCDay(),o=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function SN(e){Me(1,arguments);var t=We(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=jd(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var c=jd(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function X5(e){Me(1,arguments);var t=SN(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=jd(r);return n}var J5=6048e5;function Q5(e){Me(1,arguments);var t=We(e),r=jd(t).getTime()-X5(t).getTime();return Math.round(r/J5)+1}function _d(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=li(),p=Kt((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getUTCDay(),j=(y<p?7:0)+y-p;return x.setUTCDate(x.getUTCDate()-j),x.setUTCHours(0,0,0,0),x}function NN(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=We(e),p=m.getUTCFullYear(),x=li(),y=Kt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&n!==void 0?n:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(p+1,0,y),j.setUTCHours(0,0,0,0);var w=_d(j,t),_=new Date(0);_.setUTCFullYear(p,0,y),_.setUTCHours(0,0,0,0);var N=_d(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function Z5(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=li(),p=Kt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=NN(e,t),y=new Date(0);y.setUTCFullYear(x,0,p),y.setUTCHours(0,0,0,0);var j=_d(y,t);return j}var e6=6048e5;function t6(e,t){Me(1,arguments);var r=We(e),n=_d(r,t).getTime()-Z5(r,t).getTime();return Math.round(n/e6)+1}function it(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Is={y:function(t,r){var n=t.getUTCFullYear(),o=n>0?n:1-n;return it(r==="yy"?o%100:o,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):it(n+1,2)},d:function(t,r){return it(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return it(t.getUTCHours()%12||12,r.length)},H:function(t,r){return it(t.getUTCHours(),r.length)},m:function(t,r){return it(t.getUTCMinutes(),r.length)},s:function(t,r){return it(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,o=t.getUTCMilliseconds(),a=Math.floor(o*Math.pow(10,n-3));return it(a,r.length)}},Ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r6={G:function(t,r,n){var o=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var o=t.getUTCFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Is.y(t,r)},Y:function(t,r,n,o){var a=NN(t,o),c=a>0?a:1-a;if(r==="YY"){var u=c%100;return it(u,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):it(c,r.length)},R:function(t,r){var n=SN(t);return it(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return it(n,r.length)},Q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return it(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return it(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){var o=t.getUTCMonth();switch(r){case"M":case"MM":return Is.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){var o=t.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return it(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){var a=t6(t,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):it(a,r.length)},I:function(t,r,n){var o=Q5(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):it(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Is.d(t,r)},D:function(t,r,n){var o=K5(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):it(o,r.length)},E:function(t,r,n){var o=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){var a=t.getUTCDay(),c=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return it(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){var a=t.getUTCDay(),c=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return it(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var o=t.getUTCDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return it(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){var o=t.getUTCHours(),a=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var o=t.getUTCHours(),a;switch(o===12?a=Ho.noon:o===0?a=Ho.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var o=t.getUTCHours(),a;switch(o>=17?a=Ho.evening:o>=12?a=Ho.afternoon:o>=4?a=Ho.morning:a=Ho.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Is.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Is.H(t,r)},K:function(t,r,n){var o=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):it(o,r.length)},k:function(t,r,n){var o=t.getUTCHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):it(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Is.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Is.s(t,r)},S:function(t,r){return Is.S(t,r)},X:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();if(c===0)return"Z";switch(r){case"X":return jb(c);case"XXXX":case"XX":return Di(c);case"XXXXX":case"XXX":default:return Di(c,":")}},x:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();switch(r){case"x":return jb(c);case"xxxx":case"xx":return Di(c);case"xxxxx":case"xxx":default:return Di(c,":")}},O:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+bb(c,":");case"OOOO":default:return"GMT"+Di(c,":")}},z:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+bb(c,":");case"zzzz":default:return"GMT"+Di(c,":")}},t:function(t,r,n,o){var a=o._originalDate||t,c=Math.floor(a.getTime()/1e3);return it(c,r.length)},T:function(t,r,n,o){var a=o._originalDate||t,c=a.getTime();return it(c,r.length)}};function bb(e,t){var r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),a=n%60;if(a===0)return r+String(o);var c=t;return r+String(o)+c+it(a,2)}function jb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+it(Math.abs(e)/60,2)}return Di(e,t)}function Di(e,t){var r=t||"",n=e>0?"-":"+",o=Math.abs(e),a=it(Math.floor(o/60),2),c=it(o%60,2);return n+a+r+c}var _b=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},CN=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},n6=function(t,r){var n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return _b(t,r);var c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",_b(o,r)).replace("{{time}}",CN(a,r))},s6={p:CN,P:n6},i6=["D","DD"],o6=["YY","YYYY"];function a6(e){return i6.indexOf(e)!==-1}function l6(e){return o6.indexOf(e)!==-1}function Sb(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var c6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u6=function(t,r,n){var o,a=c6[t];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Im(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var d6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m6={date:Im({formats:d6,defaultWidth:"full"}),time:Im({formats:f6,defaultWidth:"full"}),dateTime:Im({formats:h6,defaultWidth:"full"})},p6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v6=function(t,r,n,o){return p6[t]};function jl(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):a;o=e.formattingValues[c]||e.formattingValues[a]}else{var u=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[f]||e.values[u]}var h=e.argumentCallback?e.argumentCallback(t):t;return o[h]}}var g6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},y6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_6=function(t,r){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},S6={ordinalNumber:_6,era:jl({values:g6,defaultWidth:"wide"}),quarter:jl({values:x6,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:jl({values:y6,defaultWidth:"wide"}),day:jl({values:w6,defaultWidth:"wide"}),dayPeriod:jl({values:b6,defaultWidth:"wide",formattingValues:j6,defaultFormattingWidth:"wide"})};function _l(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;var c=a[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?C6(u,function(p){return p.test(c)}):N6(u,function(p){return p.test(c)}),h;h=e.valueCallback?e.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;var m=t.slice(c.length);return{value:h,rest:m}}}function N6(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function C6(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function k6(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],a=t.match(e.parsePattern);if(!a)return null;var c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}var E6=/^(\d+)(th|st|nd|rd)?/i,P6=/\d+/i,T6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},A6={any:[/^b/i,/^(a|c)/i]},D6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O6={any:[/1/i,/2/i,/3/i,/4/i]},R6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U6={ordinalNumber:k6({matchPattern:E6,parsePattern:P6,valueCallback:function(t){return parseInt(t,10)}}),era:_l({matchPatterns:T6,defaultMatchWidth:"wide",parsePatterns:A6,defaultParseWidth:"any"}),quarter:_l({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:_l({matchPatterns:R6,defaultMatchWidth:"wide",parsePatterns:$6,defaultParseWidth:"any"}),day:_l({matchPatterns:M6,defaultMatchWidth:"wide",parsePatterns:I6,defaultParseWidth:"any"}),dayPeriod:_l({matchPatterns:L6,defaultMatchWidth:"any",parsePatterns:F6,defaultParseWidth:"any"})},kN={code:"en-US",formatDistance:u6,formatLong:m6,formatRelative:v6,localize:S6,match:U6,options:{weekStartsOn:0,firstWeekContainsDate:1}},B6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z6=/^'([^]*?)'?$/,W6=/''/g,H6=/[a-zA-Z]/;function $t(e,t,r){var n,o,a,c,u,f,h,m,p,x,y,j,w,_,N,C,k,A;Me(2,arguments);var T=String(t),P=li(),E=(n=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:P.locale)!==null&&n!==void 0?n:kN,O=Kt((a=(c=(u=(f=r==null?void 0:r.firstWeekContainsDate)!==null&&f!==void 0?f:r==null||(h=r.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:P.firstWeekContainsDate)!==null&&c!==void 0?c:(p=P.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Kt((y=(j=(w=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(N=r.locale)===null||N===void 0||(C=N.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&w!==void 0?w:P.weekStartsOn)!==null&&j!==void 0?j:(k=P.locale)===null||k===void 0||(A=k.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&y!==void 0?y:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var W=We(e);if(!z5(W))throw new RangeError("Invalid time value");var Z=Yl(W),Q=Y5(W,Z),q={firstWeekContainsDate:O,weekStartsOn:R,locale:E,_originalDate:W},I=T.match(V6).map(function(B){var F=B[0];if(F==="p"||F==="P"){var z=s6[F];return z(B,E.formatLong)}return B}).join("").match(B6).map(function(B){if(B==="''")return"'";var F=B[0];if(F==="'")return q6(B);var z=r6[F];if(z)return!(r!=null&&r.useAdditionalWeekYearTokens)&&l6(B)&&Sb(B,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&a6(B)&&Sb(B,t,String(e)),z(Q,B,E.localize,q);if(F.match(H6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return B}).join("");return I}function q6(e){var t=e.match(z6);return t?t[1].replace(W6,"'"):e}function Y6(e){Me(1,arguments);var t=We(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var G6=6048e5;function K6(e){Me(1,arguments);var t=We(e),r=Bi(t).getTime()-L5(t).getTime();return Math.round(r/G6)+1}function X6(e){Me(1,arguments);var t=We(e),r=t.getTime();return r}function J6(e){return Me(1,arguments),Math.floor(X6(e)/1e3)}function Q6(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=We(e),p=m.getFullYear(),x=li(),y=Kt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&n!==void 0?n:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setFullYear(p+1,0,y),j.setHours(0,0,0,0);var w=On(j,t),_=new Date(0);_.setFullYear(p,0,y),_.setHours(0,0,0,0);var N=On(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function Z6(e,t){var r,n,o,a,c,u,f,h;Me(1,arguments);var m=li(),p=Kt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=Q6(e,t),y=new Date(0);y.setFullYear(x,0,p),y.setHours(0,0,0,0);var j=On(y,t);return j}var e8=6048e5;function t8(e,t){Me(1,arguments);var r=We(e),n=On(r,t).getTime()-Z6(r,t).getTime();return Math.round(n/e8)+1}function r8(e){Me(1,arguments);var t=We(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function n8(e,t){return Me(1,arguments),H5(r8(e),_r(e),t)+1}function Lp(e,t){Me(2,arguments);var r=We(e),n=We(t);return r.getTime()>n.getTime()}function EN(e,t){Me(2,arguments);var r=We(e),n=We(t);return r.getTime()<n.getTime()}function Zv(e,t){Me(2,arguments);var r=We(e),n=We(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function s8(e,t){Me(2,arguments);var r=We(e),n=We(t);return r.getFullYear()===n.getFullYear()}function Lm(e,t){Me(2,arguments);var r=Kt(t);return Wt(e,-r)}function Fm(e,t){Me(2,arguments);var r=We(e),n=Kt(t),o=r.getFullYear(),a=r.getDate(),c=new Date(0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);var u=Y6(c);return r.setMonth(n,Math.min(a,u)),r}function Nb(e,t){Me(2,arguments);var r=We(e),n=Kt(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}var Le=function(){return Le=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Le.apply(this,arguments)};function i8(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function PN(e,t,r){for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function cc(e){return e.mode==="multiple"}function uc(e){return e.mode==="range"}function sf(e){return e.mode==="single"}var o8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function a8(e,t){return $t(e,"LLLL y",t)}function l8(e,t){return $t(e,"d",t)}function c8(e,t){return $t(e,"LLLL",t)}function u8(e){return"".concat(e)}function d8(e,t){return $t(e,"cccccc",t)}function f8(e,t){return $t(e,"yyyy",t)}var h8=Object.freeze({__proto__:null,formatCaption:a8,formatDay:l8,formatMonthCaption:c8,formatWeekNumber:u8,formatWeekdayName:d8,formatYearCaption:f8}),m8=function(e,t,r){return $t(e,"do MMMM (EEEE)",r)},p8=function(){return"Month: "},v8=function(){return"Go to next month"},g8=function(){return"Go to previous month"},x8=function(e,t){return $t(e,"cccc",t)},y8=function(e){return"Week n. ".concat(e)},w8=function(){return"Year: "},b8=Object.freeze({__proto__:null,labelDay:m8,labelMonthDropdown:p8,labelNext:v8,labelPrevious:g8,labelWeekNumber:y8,labelWeekday:x8,labelYearDropdown:w8});function j8(){var e="buttons",t=o8,r=kN,n={},o={},a=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:h8,labels:b8,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:a,styles:c,today:u,mode:"default"}}function _8(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,a=e.fromDate,c=e.toDate;return n?a=_r(n):t&&(a=new Date(t,0,1)),o?c=Jv(o):r&&(c=new Date(r,11,31)),{fromDate:a?ma(a):void 0,toDate:c?ma(c):void 0}}var TN=v.createContext(void 0);function S8(e){var t,r=e.initialProps,n=j8(),o=_8(r),a=o.fromDate,c=o.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!a||!c)&&(u="buttons");var f;(sf(r)||cc(r)||uc(r))&&(f=r.onSelect);var h=Le(Le(Le({},n),r),{captionLayout:u,classNames:Le(Le({},n.classNames),r.classNames),components:Le({},r.components),formatters:Le(Le({},n.formatters),r.formatters),fromDate:a,labels:Le(Le({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Le(Le({},n.modifiers),r.modifiers),modifiersClassNames:Le(Le({},n.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:Le(Le({},n.styles),r.styles),toDate:c});return s.jsx(TN.Provider,{value:h,children:e.children})}function ut(){var e=v.useContext(TN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AN(e){var t=ut(),r=t.locale,n=t.classNames,o=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function N8(e){return s.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DN(e){var t,r,n=e.onChange,o=e.value,a=e.children,c=e.caption,u=e.className,f=e.style,h=ut(),m=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:N8;return s.jsxs("div",{className:u,style:f,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:o,onChange:n,children:a}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,s.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function C8(e){var t,r=ut(),n=r.fromDate,o=r.toDate,a=r.styles,c=r.locale,u=r.formatters.formatMonthCaption,f=r.classNames,h=r.components,m=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var p=[];if(s8(n,o))for(var x=_r(n),y=n.getMonth();y<=o.getMonth();y++)p.push(Fm(x,y));else for(var x=_r(new Date),y=0;y<=11;y++)p.push(Fm(x,y));var j=function(_){var N=Number(_.target.value),C=Fm(_r(e.displayMonth),N);e.onChange(C)},w=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:DN;return s.jsx(w,{name:"months","aria-label":m(),className:f.dropdown_month,style:a.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:p.map(function(_){return s.jsx("option",{value:_.getMonth(),children:u(_,{locale:c})},_.getMonth())})})}function k8(e){var t,r=e.displayMonth,n=ut(),o=n.fromDate,a=n.toDate,c=n.locale,u=n.styles,f=n.classNames,h=n.components,m=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,x=[];if(!o)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var y=o.getFullYear(),j=a.getFullYear(),w=y;w<=j;w++)x.push(Nb(q5(new Date),w));var _=function(C){var k=Nb(_r(r),Number(C.target.value));e.onChange(k)},N=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:DN;return s.jsx(N,{name:"years","aria-label":p(),className:f.dropdown_year,style:u.dropdown_year,onChange:_,value:r.getFullYear(),caption:m(r,{locale:c}),children:x.map(function(C){return s.jsx("option",{value:C.getFullYear(),children:m(C,{locale:c})},C.getFullYear())})})}function E8(e,t){var r=v.useState(e),n=r[0],o=r[1],a=t===void 0?n:t;return[a,o]}function P8(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,a=e.toDate,c=e.fromDate,u=e.numberOfMonths,f=u===void 0?1:u;if(a&&Gl(a,o)<0){var h=-1*(f-1);o=gn(a,h)}return c&&Gl(o,c)<0&&(o=c),_r(o)}function T8(){var e=ut(),t=P8(e),r=E8(t,e.month),n=r[0],o=r[1],a=function(c){var u;if(!e.disableNavigation){var f=_r(c);o(f),(u=e.onMonthChange)===null||u===void 0||u.call(e,f)}};return[n,a]}function A8(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=_r(e),a=_r(gn(o,n)),c=Gl(a,o),u=[],f=0;f<c;f++){var h=gn(o,f);u.push(h)}return r&&(u=u.reverse()),u}function D8(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,c=n?a:1,u=_r(e);if(!r)return gn(u,c);var f=Gl(r,e);if(!(f<a))return gn(u,c)}}function O8(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,c=n?a:1,u=_r(e);if(!r)return gn(u,-c);var f=Gl(u,r);if(!(f<=0))return gn(u,-c)}}var ON=v.createContext(void 0);function R8(e){var t=ut(),r=T8(),n=r[0],o=r[1],a=A8(n,t),c=D8(n,t),u=O8(n,t),f=function(p){return a.some(function(x){return Zv(p,x)})},h=function(p,x){f(p)||(x&&EN(p,x)?o(gn(p,1+t.numberOfMonths*-1)):o(p))},m={currentMonth:n,displayMonths:a,goToMonth:o,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:f};return s.jsx(ON.Provider,{value:m,children:e.children})}function dc(){var e=v.useContext(ON);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Cb(e){var t,r=ut(),n=r.classNames,o=r.styles,a=r.components,c=dc().goToMonth,u=function(m){c(gn(m,e.displayIndex?-e.displayIndex:0))},f=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:AN,h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(C8,{onChange:u,displayMonth:e.displayMonth}),s.jsx(k8,{onChange:u,displayMonth:e.displayMonth})]})}function $8(e){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function M8(e){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Sd=v.forwardRef(function(e,t){var r=ut(),n=r.classNames,o=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var c=a.join(" "),u=Le(Le({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),s.jsx("button",Le({},e,{ref:t,type:"button",className:c,style:u}))});function I8(e){var t,r,n=ut(),o=n.dir,a=n.locale,c=n.classNames,u=n.styles,f=n.labels,h=f.labelPrevious,m=f.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=h(e.previousMonth,{locale:a}),y=[c.nav_button,c.nav_button_previous].join(" "),j=m(e.nextMonth,{locale:a}),w=[c.nav_button,c.nav_button_next].join(" "),_=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:M8,N=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:$8;return s.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&s.jsx(Sd,{name:"previous-month","aria-label":x,className:y,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(_,{className:c.nav_icon,style:u.nav_icon}):s.jsx(N,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&s.jsx(Sd,{name:"next-month","aria-label":j,className:w,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(N,{className:c.nav_icon,style:u.nav_icon}):s.jsx(_,{className:c.nav_icon,style:u.nav_icon})})]})}function kb(e){var t=ut().numberOfMonths,r=dc(),n=r.previousMonth,o=r.nextMonth,a=r.goToMonth,c=r.displayMonths,u=c.findIndex(function(j){return Zv(e.displayMonth,j)}),f=u===0,h=u===c.length-1,m=t>1&&(f||!h),p=t>1&&(h||!f),x=function(){n&&a(n)},y=function(){o&&a(o)};return s.jsx(I8,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:o,previousMonth:n,onPreviousClick:x,onNextClick:y})}function L8(e){var t,r=ut(),n=r.classNames,o=r.disableNavigation,a=r.styles,c=r.captionLayout,u=r.components,f=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:AN,h;return o?h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=s.jsx(Cb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(Cb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(kb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(kb,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:h})}function F8(e){var t=ut(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?s.jsx("tfoot",{className:o,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function U8(e,t,r){for(var n=r?Bi(new Date):On(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var c=Wt(n,a);o.push(c)}return o}function B8(){var e=ut(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,h=U8(o,a,c);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(m,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":f(m,{locale:o}),children:u(m,{locale:o})},p)})]})}function V8(){var e,t=ut(),r=t.classNames,n=t.styles,o=t.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:B8;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function z8(e){var t=ut(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var eg=v.createContext(void 0);function W8(e){if(!cc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(eg.Provider,{value:t,children:e.children})}return s.jsx(H8,{initialProps:e.initialProps,children:e.children})}function H8(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,a=t.max,c=function(h,m,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,h,m,p);var j=!!(m.selected&&o&&(n==null?void 0:n.length)===o);if(!j){var w=!!(!m.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var _=n?PN([],n):[];if(m.selected){var N=_.findIndex(function(C){return jr(h,C)});_.splice(N,1)}else _.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,_,h,m,p)}}},u={disabled:[]};n&&u.disabled.push(function(h){var m=a&&n.length>a-1,p=n.some(function(x){return jr(x,h)});return!!(m&&!p)});var f={selected:n,onDayClick:c,modifiers:u};return s.jsx(eg.Provider,{value:f,children:r})}function tg(){var e=v.useContext(eg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function q8(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?jr(o,e)&&jr(n,e)?void 0:jr(o,e)?{from:o,to:void 0}:jr(n,e)?void 0:Lp(n,e)?{from:e,to:o}:{from:n,to:e}:o?Lp(e,o)?{from:o,to:e}:{from:e,to:o}:n?EN(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var rg=v.createContext(void 0);function Y8(e){if(!uc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(rg.Provider,{value:t,children:e.children})}return s.jsx(G8,{initialProps:e.initialProps,children:e.children})}function G8(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},a=o.from,c=o.to,u=t.min,f=t.max,h=function(y,j,w){var _,N;(_=t.onDayClick)===null||_===void 0||_.call(t,y,j,w);var C=q8(y,n);(N=t.onSelect)===null||N===void 0||N.call(t,C,y,j,w)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(m.range_start=[a],c?(m.range_end=[c],jr(a,c)||(m.range_middle=[{after:a,before:c}])):m.range_end=[a]):c&&(m.range_start=[c],m.range_end=[c]),u&&(a&&!c&&m.disabled.push({after:Lm(a,u-1),before:Wt(a,u-1)}),a&&c&&m.disabled.push({after:a,before:Wt(a,u-1)}),!a&&c&&m.disabled.push({after:Lm(c,u-1),before:Wt(c,u-1)})),f){if(a&&!c&&(m.disabled.push({before:Wt(a,-f+1)}),m.disabled.push({after:Wt(a,f-1)})),a&&c){var p=Qn(c,a)+1,x=f-p;m.disabled.push({before:Lm(a,x)}),m.disabled.push({after:Wt(c,x)})}!a&&c&&(m.disabled.push({before:Wt(c,-f+1)}),m.disabled.push({after:Wt(c,f-1)}))}return s.jsx(rg.Provider,{value:{selected:n,onDayClick:h,modifiers:m},children:r})}function ng(){var e=v.useContext(rg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function nd(e){return Array.isArray(e)?PN([],e):e!==void 0?[e]:[]}function K8(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=nd(o)}),t}var xn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xn||(xn={}));var X8=xn.Selected,Gn=xn.Disabled,J8=xn.Hidden,Q8=xn.Today,Um=xn.RangeEnd,Bm=xn.RangeMiddle,Vm=xn.RangeStart,Z8=xn.Outside;function e7(e,t,r){var n,o=(n={},n[X8]=nd(e.selected),n[Gn]=nd(e.disabled),n[J8]=nd(e.hidden),n[Q8]=[e.today],n[Um]=[],n[Bm]=[],n[Vm]=[],n[Z8]=[],n);return e.fromDate&&o[Gn].push({before:e.fromDate}),e.toDate&&o[Gn].push({after:e.toDate}),cc(e)?o[Gn]=o[Gn].concat(t.modifiers[Gn]):uc(e)&&(o[Gn]=o[Gn].concat(r.modifiers[Gn]),o[Vm]=r.modifiers[Vm],o[Bm]=r.modifiers[Bm],o[Um]=r.modifiers[Um]),o}var RN=v.createContext(void 0);function t7(e){var t=ut(),r=tg(),n=ng(),o=e7(t,r,n),a=K8(t.modifiers),c=Le(Le({},o),a);return s.jsx(RN.Provider,{value:c,children:e.children})}function $N(){var e=v.useContext(RN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function r7(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function n7(e){return!!(e&&typeof e=="object"&&"from"in e)}function s7(e){return!!(e&&typeof e=="object"&&"after"in e)}function i7(e){return!!(e&&typeof e=="object"&&"before"in e)}function o7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function a7(e,t){var r,n=t.from,o=t.to;if(n&&o){var a=Qn(o,n)<0;a&&(r=[o,n],n=r[0],o=r[1]);var c=Qn(e,n)>=0&&Qn(o,e)>=0;return c}return o?jr(o,e):n?jr(n,e):!1}function l7(e){return Xv(e)}function c7(e){return Array.isArray(e)&&e.every(Xv)}function u7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(l7(r))return jr(e,r);if(c7(r))return r.includes(e);if(n7(r))return a7(e,r);if(o7(r))return r.dayOfWeek.includes(e.getDay());if(r7(r)){var n=Qn(r.before,e),o=Qn(r.after,e),a=n>0,c=o<0,u=Lp(r.before,r.after);return u?c&&a:a||c}return s7(r)?Qn(e,r.after)>0:i7(r)?Qn(r.before,e)>0:typeof r=="function"?r(e):!1})}function sg(e,t,r){var n=Object.keys(t).reduce(function(a,c){var u=t[c];return u7(e,u)&&a.push(c),a},[]),o={};return n.forEach(function(a){return o[a]=!0}),r&&!Zv(e,r)&&(o.outside=!0),o}function d7(e,t){for(var r=_r(e[0]),n=Jv(e[e.length-1]),o,a,c=r;c<=n;){var u=sg(c,t),f=!u.disabled&&!u.hidden;if(!f){c=Wt(c,1);continue}if(u.selected)return c;u.today&&!a&&(a=c),o||(o=c),c=Wt(c,1)}return a||o}var f7=365;function MN(e,t){var r=t.moveBy,n=t.direction,o=t.context,a=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,f=o.weekStartsOn,h=o.fromDate,m=o.toDate,p=o.locale,x={day:Wt,week:Ip,month:gn,year:U5,startOfWeek:function(_){return o.ISOWeek?Bi(_):On(_,{locale:p,weekStartsOn:f})},endOfWeek:function(_){return o.ISOWeek?_N(_):Qv(_,{locale:p,weekStartsOn:f})}},y=x[r](e,n==="after"?1:-1);n==="before"&&h?y=B5([h,y]):n==="after"&&m&&(y=V5([m,y]));var j=!0;if(a){var w=sg(y,a);j=!w.disabled&&!w.hidden}return j?y:u.count>f7?u.lastFocused:MN(y,{moveBy:r,direction:n,context:o,modifiers:a,retry:Le(Le({},u),{count:u.count+1})})}var IN=v.createContext(void 0);function h7(e){var t=dc(),r=$N(),n=v.useState(),o=n[0],a=n[1],c=v.useState(),u=c[0],f=c[1],h=d7(t.displayMonths,r),m=o??(u&&t.isDateDisplayed(u))?u:h,p=function(){f(o),a(void 0)},x=function(_){a(_)},y=ut(),j=function(_,N){if(o){var C=MN(o,{moveBy:_,direction:N,context:y,modifiers:r});jr(o,C)||(t.goToDate(C,o),x(C))}},w={focusedDay:o,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return s.jsx(IN.Provider,{value:w,children:e.children})}function ig(){var e=v.useContext(IN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function m7(e,t){var r=$N(),n=sg(e,r,t);return n}var og=v.createContext(void 0);function p7(e){if(!sf(e.initialProps)){var t={selected:void 0};return s.jsx(og.Provider,{value:t,children:e.children})}return s.jsx(v7,{initialProps:e.initialProps,children:e.children})}function v7(e){var t=e.initialProps,r=e.children,n=function(a,c,u){var f,h,m;if((f=t.onDayClick)===null||f===void 0||f.call(t,a,c,u),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,a,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,a,a,c,u)},o={selected:t.selected,onDayClick:n};return s.jsx(og.Provider,{value:o,children:r})}function LN(){var e=v.useContext(og);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function g7(e,t){var r=ut(),n=LN(),o=tg(),a=ng(),c=ig(),u=c.focusDayAfter,f=c.focusDayBefore,h=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,x=c.focus,y=c.focusMonthBefore,j=c.focusMonthAfter,w=c.focusYearBefore,_=c.focusYearAfter,N=c.focusStartOfWeek,C=c.focusEndOfWeek,k=function(z){var L,H,ee,$;sf(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,z):cc(r)?(H=o.onDayClick)===null||H===void 0||H.call(o,e,t,z):uc(r)?(ee=a.onDayClick)===null||ee===void 0||ee.call(a,e,t,z):($=r.onDayClick)===null||$===void 0||$.call(r,e,t,z)},A=function(z){var L;x(e),(L=r.onDayFocus)===null||L===void 0||L.call(r,e,t,z)},T=function(z){var L;p(),(L=r.onDayBlur)===null||L===void 0||L.call(r,e,t,z)},P=function(z){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,e,t,z)},E=function(z){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,e,t,z)},O=function(z){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,e,t,z)},R=function(z){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,e,t,z)},W=function(z){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,e,t,z)},Z=function(z){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,e,t,z)},Q=function(z){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,e,t,z)},q=function(z){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,e,t,z)},I=function(z){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,e,t,z)},B=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?u():f();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?f():u();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),h();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),m();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?w():y();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?_():j();break;case"Home":z.preventDefault(),z.stopPropagation(),N();break;case"End":z.preventDefault(),z.stopPropagation(),C();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,e,t,z)},F={onClick:k,onFocus:A,onBlur:T,onKeyDown:B,onKeyUp:I,onMouseEnter:P,onMouseLeave:E,onPointerEnter:O,onPointerLeave:R,onTouchCancel:W,onTouchEnd:Z,onTouchMove:Q,onTouchStart:q};return F}function x7(){var e=ut(),t=LN(),r=tg(),n=ng(),o=sf(e)?t.selected:cc(e)?r.selected:uc(e)?n.selected:void 0;return o}function y7(e){return Object.values(xn).includes(e)}function w7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(y7(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function b7(e,t){var r=Le({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=Le(Le({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function j7(e,t,r){var n,o,a,c=ut(),u=ig(),f=m7(e,t),h=g7(e,f),m=x7(),p=!!(c.onDayClick||c.mode!=="default");v.useEffect(function(){var P;f.outside||u.focusedDay&&p&&jr(u.focusedDay,e)&&((P=r.current)===null||P===void 0||P.focus())},[u.focusedDay,e,r,p,f.outside]);var x=w7(c,f).join(" "),y=b7(c,f),j=!!(f.outside&&!c.showOutsideDays||f.hidden),w=(a=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:z8,_=s.jsx(w,{date:e,displayMonth:t,activeModifiers:f}),N={style:y,className:x,children:_,role:"gridcell"},C=u.focusTarget&&jr(u.focusTarget,e)&&!f.outside,k=u.focusedDay&&jr(u.focusedDay,e),A=Le(Le(Le({},N),(n={disabled:f.disabled,role:"gridcell"},n["aria-selected"]=f.selected,n.tabIndex=k||C?0:-1,n)),h),T={isButton:p,isHidden:j,activeModifiers:f,selectedDays:m,buttonProps:A,divProps:N};return T}function _7(e){var t=v.useRef(null),r=j7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Sd,Le({name:"day",ref:t},r.buttonProps)):s.jsx("div",Le({},r.divProps))}function S7(e){var t=e.number,r=e.dates,n=ut(),o=n.onWeekNumberClick,a=n.styles,c=n.classNames,u=n.locale,f=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,m=h(Number(t),{locale:u});if(!o)return s.jsx("span",{className:c.weeknumber,style:a.weeknumber,children:m});var p=f(Number(t),{locale:u}),x=function(y){o(t,r,y)};return s.jsx(Sd,{name:"week-number","aria-label":p,className:c.weeknumber,style:a.weeknumber,onClick:x,children:m})}function N7(e){var t,r,n=ut(),o=n.styles,a=n.classNames,c=n.showWeekNumber,u=n.components,f=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:_7,h=(r=u==null?void 0:u.WeekNumber)!==null&&r!==void 0?r:S7,m;return c&&(m=s.jsx("td",{className:a.cell,style:o.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:o.row,children:[m,e.dates.map(function(p){return s.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:s.jsx(f,{displayMonth:e.displayMonth,date:p})},J6(p))})]})}function Eb(e,t,r){for(var n=r!=null&&r.ISOWeek?_N(t):Qv(t,r),o=r!=null&&r.ISOWeek?Bi(e):On(e,r),a=Qn(n,o),c=[],u=0;u<=a;u++)c.push(Wt(o,u));var f=c.reduce(function(h,m){var p=r!=null&&r.ISOWeek?K6(m):t8(m,r),x=h.find(function(y){return y.weekNumber===p});return x?(x.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return f}function C7(e,t){var r=Eb(_r(e),Jv(e),t);if(t!=null&&t.useFixedWeeks){var n=n8(e,t);if(n<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],c=Ip(a,6-n),u=Eb(Ip(a,1),c,t);r.push.apply(r,u)}}return r}function k7(e){var t,r,n,o=ut(),a=o.locale,c=o.classNames,u=o.styles,f=o.hideHead,h=o.fixedWeeks,m=o.components,p=o.weekStartsOn,x=o.firstWeekContainsDate,y=o.ISOWeek,j=C7(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:a,weekStartsOn:p,firstWeekContainsDate:x}),w=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:V8,_=(r=m==null?void 0:m.Row)!==null&&r!==void 0?r:N7,N=(n=m==null?void 0:m.Footer)!==null&&n!==void 0?n:F8;return s.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&s.jsx(w,{}),s.jsx("tbody",{className:c.tbody,style:u.tbody,children:j.map(function(C){return s.jsx(_,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function E7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var P7=E7()?v.useLayoutEffect:v.useEffect,zm=!1,T7=0;function Pb(){return"react-day-picker-".concat(++T7)}function A7(e){var t,r=e??(zm?Pb():null),n=v.useState(r),o=n[0],a=n[1];return P7(function(){o===null&&a(Pb())},[]),v.useEffect(function(){zm===!1&&(zm=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function D7(e){var t,r,n=ut(),o=n.dir,a=n.classNames,c=n.styles,u=n.components,f=dc().displayMonths,h=A7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),m=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[a.month],x=c.month,y=e.displayIndex===0,j=e.displayIndex===f.length-1,w=!y&&!j;o==="rtl"&&(t=[y,j],j=t[0],y=t[1]),y&&(p.push(a.caption_start),x=Le(Le({},x),c.caption_start)),j&&(p.push(a.caption_end),x=Le(Le({},x),c.caption_end)),w&&(p.push(a.caption_between),x=Le(Le({},x),c.caption_between));var _=(r=u==null?void 0:u.Caption)!==null&&r!==void 0?r:L8;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(_,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(k7,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function O7(e){var t=ut(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function R7(e){var t,r,n=e.initialProps,o=ut(),a=ig(),c=dc(),u=v.useState(!1),f=u[0],h=u[1];v.useEffect(function(){o.initialFocus&&a.focusTarget&&(f||(a.focus(a.focusTarget),h(!0)))},[o.initialFocus,f,a.focus,a.focusTarget,a]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var p=Le(Le({},o.styles.root),o.style),x=Object.keys(n).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var _;return Le(Le({},j),(_={},_[w]=n[w],_))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:O7;return s.jsx("div",Le({className:m.join(" "),style:p,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:s.jsx(y,{children:c.displayMonths.map(function(j,w){return s.jsx(D7,{displayIndex:w,displayMonth:j},w)})})}))}function $7(e){var t=e.children,r=i8(e,["children"]);return s.jsx(S8,{initialProps:r,children:s.jsx(R8,{children:s.jsx(p7,{initialProps:r,children:s.jsx(W8,{initialProps:r,children:s.jsx(Y8,{initialProps:r,children:s.jsx(t7,{children:s.jsx(h7,{children:t})})})})})})})}function M7(e){return s.jsx($7,Le({},e,{children:s.jsx(R7,{initialProps:e})}))}function pa({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(M7,{showOutsideDays:r,className:Te("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Te(Sp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Te(Sp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(e$,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(r$,{className:"h-4 w-4"})},...n})}pa.displayName="Calendar";var I7="Arrow",FN=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(Xe.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});FN.displayName=I7;var L7=FN,ag="Popper",[UN,BN]=Rn(ag),[F7,VN]=UN(ag),zN=e=>{const{__scopePopper:t,children:r}=e,[n,o]=v.useState(null);return s.jsx(F7,{scope:t,anchor:n,onAnchorChange:o,children:r})};zN.displayName=ag;var WN="PopperAnchor",HN=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=VN(WN,r),c=v.useRef(null),u=St(t,c);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:s.jsx(Xe.div,{...o,ref:u})});HN.displayName=WN;var lg="PopperContent",[U7,B7]=UN(lg),qN=v.forwardRef((e,t)=>{var te,fe,pe,ue,oe,ye;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:j,...w}=e,_=VN(lg,r),[N,C]=v.useState(null),k=St(t,He=>C(He)),[A,T]=v.useState(null),P=Kv(A),E=(P==null?void 0:P.width)??0,O=(P==null?void 0:P.height)??0,R=n+(a!=="center"?"-"+a:""),W=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Z=Array.isArray(h)?h:[h],Q=Z.length>0,q={padding:W,boundary:Z.filter(z7),altBoundary:Q},{refs:I,floatingStyles:B,placement:F,isPositioned:z,middlewareData:L}=OS({strategy:"fixed",placement:R,whileElementsMounted:(...He)=>AS(...He,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[RS({mainAxis:o+O,alignmentAxis:c}),f&&$S({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?MS():void 0,...q}),f&&IS({...q}),LS({...q,apply:({elements:He,rects:De,availableWidth:ze,availableHeight:tt})=>{const{width:rt,height:Lr}=De.reference,Jr=He.floating.style;Jr.setProperty("--radix-popper-available-width",`${ze}px`),Jr.setProperty("--radix-popper-available-height",`${tt}px`),Jr.setProperty("--radix-popper-anchor-width",`${rt}px`),Jr.setProperty("--radix-popper-anchor-height",`${Lr}px`)}}),A&&US({element:A,padding:u}),W7({arrowWidth:E,arrowHeight:O}),x&&FS({strategy:"referenceHidden",...q})]}),[H,ee]=KN(F),$=mn(j);ns(()=>{z&&($==null||$())},[z,$]);const K=(te=L.arrow)==null?void 0:te.x,ne=(fe=L.arrow)==null?void 0:fe.y,ce=((pe=L.arrow)==null?void 0:pe.centerOffset)!==0,[se,ie]=v.useState();return ns(()=>{N&&ie(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ue=L.transformOrigin)==null?void 0:ue.x,(oe=L.transformOrigin)==null?void 0:oe.y].join(" "),...((ye=L.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(U7,{scope:r,placedSide:H,onArrowChange:T,arrowX:K,arrowY:ne,shouldHideArrow:ce,children:s.jsx(Xe.div,{"data-side":H,"data-align":ee,...w,ref:k,style:{...w.style,animation:z?void 0:"none"}})})})});qN.displayName=lg;var YN="PopperArrow",V7={top:"bottom",right:"left",bottom:"top",left:"right"},GN=v.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=B7(YN,n),c=V7[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(L7,{...o,ref:r,style:{...o.style,display:"block"}})})});GN.displayName=YN;function z7(e){return e!==null}var W7=e=>({name:"transformOrigin",options:e,fn(t){var _,N,C;const{placement:r,rects:n,middlewareData:o}=t,c=((_=o.arrow)==null?void 0:_.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=KN(r),p={start:"0%",center:"50%",end:"100%"}[m],x=(((N=o.arrow)==null?void 0:N.x)??0)+u/2,y=(((C=o.arrow)==null?void 0:C.y)??0)+f/2;let j="",w="";return h==="bottom"?(j=c?p:`${x}px`,w=`${-f}px`):h==="top"?(j=c?p:`${x}px`,w=`${n.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?p:`${y}px`):h==="left"&&(j=`${n.floating.width+f}px`,w=c?p:`${y}px`),{data:{x:j,y:w}}}});function KN(e){const[t,r="center"]=e.split("-");return[t,r]}var H7=zN,XN=HN,q7=qN,Y7=GN,of="Popover",[JN,vV]=Rn(of,[BN]),fc=BN(),[G7,ci]=JN(of),QN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:c=!1}=e,u=fc(t),f=v.useRef(null),[h,m]=v.useState(!1),[p,x]=Xi({prop:n,defaultProp:o??!1,onChange:a,caller:of});return s.jsx(H7,{...u,children:s.jsx(G7,{scope:t,contentId:ea(),triggerRef:f,open:p,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:h,onCustomAnchorAdd:v.useCallback(()=>m(!0),[]),onCustomAnchorRemove:v.useCallback(()=>m(!1),[]),modal:c,children:r})})};QN.displayName=of;var ZN="PopoverAnchor",K7=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ci(ZN,r),a=fc(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return v.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(XN,{...a,...n,ref:t})});K7.displayName=ZN;var eC="PopoverTrigger",tC=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ci(eC,r),a=fc(r),c=St(t,o.triggerRef),u=s.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":oC(o.open),...n,ref:c,onClick:Ye(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:s.jsx(XN,{asChild:!0,...a,children:u})});tC.displayName=eC;var cg="PopoverPortal",[X7,J7]=JN(cg,{forceMount:void 0}),rC=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,a=ci(cg,t);return s.jsx(X7,{scope:t,forceMount:r,children:s.jsx($n,{present:r||a.open,children:s.jsx(Vd,{asChild:!0,container:o,children:n})})})};rC.displayName=cg;var va="PopoverContent",nC=v.forwardRef((e,t)=>{const r=J7(va,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=ci(va,e.__scopePopover);return s.jsx($n,{present:n||a.open,children:a.modal?s.jsx(Z7,{...o,ref:t}):s.jsx(eU,{...o,ref:t})})});nC.displayName=va;var Q7=ua("PopoverContent.RemoveScroll"),Z7=v.forwardRef((e,t)=>{const r=ci(va,e.__scopePopover),n=v.useRef(null),o=St(t,n),a=v.useRef(!1);return v.useEffect(()=>{const c=n.current;if(c)return Pv(c)},[]),s.jsx(Ev,{as:Q7,allowPinchZoom:!0,children:s.jsx(sC,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),a.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),eU=v.forwardRef((e,t)=>{const r=ci(va,e.__scopePopover),n=v.useRef(!1),o=v.useRef(!1);return s.jsx(sC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),sC=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...p}=e,x=ci(va,r),y=fc(r);return f1(),s.jsx(Nv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(q7,{"data-state":oC(x.open),role:"dialog",id:x.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),iC="PopoverClose",tU=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ci(iC,r);return s.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,()=>o.onOpenChange(!1))})});tU.displayName=iC;var rU="PopoverArrow",nU=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=fc(r);return s.jsx(Y7,{...o,...n,ref:t})});nU.displayName=rU;function oC(e){return e?"open":"closed"}var sU=QN,iU=tC,oU=rC,aC=nC;const Kl=sU,Xl=iU,ga=ge.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(oU,{children:s.jsx(aC,{ref:o,align:t,sideOffset:r,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ga.displayName=aC.displayName;var aU=v.createContext(void 0);function ug(e){const t=v.useContext(aU);return e||t||"ltr"}var Wm="rovingFocusGroup.onEntryFocus",lU={bubbles:!1,cancelable:!0},hc="RovingFocusGroup",[Fp,lC,cU]=Y1(hc),[uU,af]=Rn(hc,[cU]),[dU,fU]=uU(hc),cC=v.forwardRef((e,t)=>s.jsx(Fp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Fp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(hU,{...e,ref:t})})}));cC.displayName=hc;var hU=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=v.useRef(null),y=St(t,x),j=ug(a),[w,_]=Xi({prop:c,defaultProp:u??null,onChange:f,caller:hc}),[N,C]=v.useState(!1),k=mn(h),A=lC(r),T=v.useRef(!1),[P,E]=v.useState(0);return v.useEffect(()=>{const O=x.current;if(O)return O.addEventListener(Wm,k),()=>O.removeEventListener(Wm,k)},[k]),s.jsx(dU,{scope:r,orientation:n,dir:j,loop:o,currentTabStopId:w,onItemFocus:v.useCallback(O=>_(O),[_]),onItemShiftTab:v.useCallback(()=>C(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(O=>O+1),[]),onFocusableItemRemove:v.useCallback(()=>E(O=>O-1),[]),children:s.jsx(Xe.div,{tabIndex:N||P===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{T.current=!0}),onFocus:Ye(e.onFocus,O=>{const R=!T.current;if(O.target===O.currentTarget&&R&&!N){const W=new CustomEvent(Wm,lU);if(O.currentTarget.dispatchEvent(W),!W.defaultPrevented){const Z=A().filter(F=>F.focusable),Q=Z.find(F=>F.active),q=Z.find(F=>F.id===w),B=[Q,q,...Z].filter(Boolean).map(F=>F.ref.current);fC(B,m)}}T.current=!1}),onBlur:Ye(e.onBlur,()=>C(!1))})})}),uC="RovingFocusGroupItem",dC=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:c,...u}=e,f=ea(),h=a||f,m=fU(uC,r),p=m.currentTabStopId===h,x=lC(r),{onFocusableItemAdd:y,onFocusableItemRemove:j,currentTabStopId:w}=m;return v.useEffect(()=>{if(n)return y(),()=>j()},[n,y,j]),s.jsx(Fp.ItemSlot,{scope:r,id:h,focusable:n,active:o,children:s.jsx(Xe.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Ye(e.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:Ye(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Ye(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=vU(_,m.orientation,m.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=x().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const A=k.indexOf(_.currentTarget);k=m.loop?gU(k,A+1):k.slice(A+1)}setTimeout(()=>fC(k))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:w!=null}):c})})});dC.displayName=uC;var mU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vU(e,t,r){const n=pU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mU[n]}function fC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function gU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hC=cC,mC=dC,dg="Radio",[xU,pC]=Rn(dg),[yU,wU]=xU(dg),vC=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[p,x]=v.useState(null),y=St(t,_=>x(_)),j=v.useRef(!1),w=p?h||!!p.closest("form"):!0;return s.jsxs(yU,{scope:r,checked:o,disabled:c,children:[s.jsx(Xe.button,{type:"button",role:"radio","aria-checked":o,"data-state":wC(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:y,onClick:Ye(e.onClick,_=>{o||f==null||f(),w&&(j.current=_.isPropagationStopped(),j.current||_.stopPropagation())})}),w&&s.jsx(yC,{control:p,bubbles:!j.current,name:n,value:u,checked:o,required:a,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});vC.displayName=dg;var gC="RadioIndicator",xC=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=wU(gC,r);return s.jsx($n,{present:n||a.checked,children:s.jsx(Xe.span,{"data-state":wC(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});xC.displayName=gC;var bU="RadioBubbleInput",yC=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},a)=>{const c=v.useRef(null),u=St(c,a),f=hN(r),h=Kv(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==r&&y){const j=new Event("click",{bubbles:n});y.call(m,r),m.dispatchEvent(j)}},[f,r,n]),s.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yC.displayName=bU;function wC(e){return e?"checked":"unchecked"}var jU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lf="RadioGroup",[_U,gV]=Rn(lf,[af,pC]),bC=af(),jC=pC(),[SU,NU]=_U(lf),_C=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:p,...x}=e,y=bC(r),j=ug(h),[w,_]=Xi({prop:a,defaultProp:o??"",onChange:p,caller:lf});return s.jsx(SU,{scope:r,name:n,required:c,disabled:u,value:w,onValueChange:_,children:s.jsx(hC,{asChild:!0,...y,orientation:f,dir:j,loop:m,children:s.jsx(Xe.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:j,...x,ref:t})})})});_C.displayName=lf;var SC="RadioGroupItem",NC=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=NU(SC,r),c=a.disabled||n,u=bC(r),f=jC(r),h=v.useRef(null),m=St(t,h),p=a.value===o.value,x=v.useRef(!1);return v.useEffect(()=>{const y=w=>{jU.includes(w.key)&&(x.current=!0)},j=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",j)}},[]),s.jsx(mC,{asChild:!0,...u,focusable:!c,active:p,children:s.jsx(vC,{disabled:c,required:a.required,checked:p,...f,...o,name:a.name,ref:m,onCheck:()=>a.onValueChange(o.value),onKeyDown:Ye(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Ye(o.onFocus,()=>{var y;x.current&&((y=h.current)==null||y.click())})})})});NC.displayName=SC;var CU="RadioGroupIndicator",CC=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=jC(r);return s.jsx(xC,{...o,...n,ref:t})});CC.displayName=CU;var kC=_C,EC=NC,kU=CC;const cf=ge.forwardRef(({className:e,...t},r)=>s.jsx(kC,{className:Te("grid gap-2",e),...t,ref:r}));cf.displayName=kC.displayName;const Xs=ge.forwardRef(({className:e,...t},r)=>s.jsx(EC,{ref:r,className:Te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(kU,{className:"flex items-center justify-center",children:s.jsx(u$,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Xs.displayName=EC.displayName;const EU=({onDeliveryChange:e})=>{const[t,r]=v.useState("express"),[n,o]=v.useState(null),[a,c]=v.useState(""),[u,f]=v.useState([]),[h,m]=v.useState({express:0,scheduled:0}),[p,x]=v.useState(!0),[y,j]=v.useState(!1),[w,_]=v.useState(_a);v.useEffect(()=>{(async()=>{x(!0);try{const{data:T,error:P}=await de.from("delivery_settings").select("express_fee, scheduled_fee, timezone").eq("id",1).single();if(P&&P.code!=="PGRST116")throw P;m({express:(T==null?void 0:T.express_fee)||9.99,scheduled:(T==null?void 0:T.scheduled_fee)||5.99}),T!=null&&T.timezone&&_(T.timezone)}catch(T){console.error("Error fetching delivery settings:",T),m({express:9.99,scheduled:5.99})}finally{x(!1)}})()},[]),v.useEffect(()=>{n&&t==="scheduled"&&N(n)},[n,t,w]),v.useEffect(()=>{let A=0,T=null,P=null;if(t==="express")A=h.express;else if(t==="scheduled"&&a){A=h.scheduled;const E=u.find(O=>O.id===a);E&&(T=new Date(E.date+"T"+E.start_time).toISOString(),P=E.id)}e({type:t,fee:A,scheduledTime:T,timeslot_id:P})},[t,a,h,u,e]);const N=async A=>{j(!0);try{const T=kt(A,w),{data:P,error:E}=await de.from("time_slots").select("*").eq("date",T).eq("is_active",!0).order("start_time");if(E)throw E;f(P||[]),c("")}catch(T){console.error("Error fetching time slots:",T),f([])}finally{j(!1)}},C=A=>{o(A),c("")},k=A=>{const T=cn(w),P=kt(T,w);return kt(A,w)<P};return s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Delivery Options"}),s.jsxs(cf,{value:t,onValueChange:r,children:[s.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsx(Xs,{value:"express",id:"express"}),s.jsxs(le,{htmlFor:"express",className:"flex-1 cursor-pointer",children:["Express Delivery (ASAP)",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Se(h.express)}`})]})]}),s.jsxs("div",{className:"flex flex-col space-y-4 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xs,{value:"scheduled",id:"scheduled"}),s.jsxs(le,{htmlFor:"scheduled",className:"flex-1 cursor-pointer",children:["Schedule Delivery",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Se(h.scheduled)}`})]})]}),t==="scheduled"&&s.jsxs(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"pl-6 space-y-4",children:[s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(J,{variant:"outline",className:Te("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(fn,{className:"mr-2 h-4 w-4"}),n?$t(n,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ga,{className:"w-auto p-0",children:s.jsx(pa,{mode:"single",selected:n,onSelect:C,initialFocus:!0,disabled:k})})]}),n&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Available Time Slots"}),y?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(Yt,{value:a,onValueChange:c,children:[s.jsxs(Ot,{children:[s.jsx(hn,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx(Gt,{placeholder:"Select a time slot"})]}),s.jsx(Rt,{children:u.map(A=>s.jsxs(Pe,{value:A.id,children:[Jo(A.start_time)," - ",Jo(A.end_time)]},A.id))})]})]})]})]})]})]})},PC=({subtotal:e,onPromoApplied:t,appliedPromo:r,onPromoRemoved:n})=>{const[o,a]=v.useState(""),[c,u]=v.useState(!1),f=async()=>{if(!o.trim()){re({variant:"destructive",title:"Error",description:"Please enter a promo code"});return}u(!0);try{const{data:m,error:p}=await de.from("promo_codes").select("*").eq("code",o.toUpperCase()).eq("is_active",!0).single();if(p||!m){re({variant:"destructive",title:"Invalid Code",description:"Promo code not found or expired"});return}const x=new Date,y=new Date(m.valid_from),j=m.valid_until?new Date(m.valid_until):null;if(x<y){re({variant:"destructive",title:"Invalid Code",description:"This promo code is not yet active"});return}if(j&&x>j){re({variant:"destructive",title:"Expired Code",description:"This promo code has expired"});return}if(m.max_uses&&m.current_uses>=m.max_uses){re({variant:"destructive",title:"Code Limit Reached",description:"This promo code has reached its usage limit"});return}if(m.minimum_order_amount&&e<m.minimum_order_amount){re({variant:"destructive",title:"Minimum Order Required",description:`Minimum order of ${Se(m.minimum_order_amount)} required for this promo code`});return}let w=0;m.discount_type==="percentage"?w=e*m.discount_value/100:w=m.discount_value,w=Math.min(w,e),t({code:m.code,description:m.description,discountType:m.discount_type,discountValue:m.discount_value,discountAmount:w}),re({title:"Promo Code Applied",description:`You saved ${Se(w)}!`}),a("")}catch(m){console.error("Error validating promo code:",m),re({variant:"destructive",title:"Error",description:"Failed to validate promo code"})}finally{u(!1)}},h=()=>{n(),re({title:"Promo Code Removed",description:"Promo code has been removed from your order"})};return r?s.jsx("div",{className:"p-4 border rounded-lg bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jv,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:r.code}),s.jsx("p",{className:"text-sm text-green-600",children:r.description}),s.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",Se(r.discountAmount)]})]})]}),s.jsx(J,{variant:"ghost",size:"sm",onClick:h,className:"text-green-600 hover:text-green-800",children:s.jsx(us,{className:"w-4 h-4"})})]})}):s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(we,{id:"promo-code",value:o,onChange:m=>a(m.target.value.toUpperCase()),placeholder:"Enter promo code",disabled:c}),s.jsx(J,{onClick:f,disabled:c||!o.trim(),variant:"outline",children:c?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Apply"})]})})},PU=()=>{const{cart:e,getCartTotal:t,clearCart:r}=cs(),{addOrder:n}=yv(),{user:o,updateUserInfo:a}=Jt(),c=Xt(),[u,f]=v.useState(!1),[h,m]=v.useState({type:"express",fee:0,scheduledTime:null,timeslot_id:null}),[p,x]=v.useState({name:"",email:"",phone:"",address:"",deliveryNotes:""}),[y,j]=v.useState({}),[w,_]=v.useState(!1),[N,C]=v.useState(!1),[k,A]=v.useState({name:"",address:"",postcode:""}),[T,P]=v.useState([]),[E,O]=v.useState([]),[R,W]=v.useState(""),[Z,Q]=v.useState(!1),[q,I]=v.useState(null),[B,F]=v.useState(3),[z,L]=v.useState("");v.useEffect(()=>{const oe=async()=>{try{const{data:De,error:ze}=await de.from("delivery_settings").select("express_fee,service_fee_percent").eq("id",1).single();if(ze&&ze.code!=="PGRST116")throw ze;m(tt=>({...tt,fee:(De==null?void 0:De.express_fee)||9.99})),F((De==null?void 0:De.service_fee_percent)||3)}catch(De){console.error("Error fetching initial delivery fee:",De),m(ze=>({...ze,fee:9.99})),F(3)}},ye=async()=>{try{const De=await nf();P(De),O(De)}catch(De){console.error("Error fetching postcodes:",De)}},He=()=>{if(o){const De=!o.name||!o.addresses||o.addresses.length===0;C(De),De||(document.cookie="accountSetup=true; max-age=86400")}};oe(),ye(),He()},[o]),v.useEffect(()=>{if(R.length===0)O(T);else{const oe=T.filter(ye=>ye.suburb.toLowerCase().includes(R.toLowerCase())||ye.postcode.includes(R));O(oe)}},[R,T]);const H=async oe=>{oe.preventDefault();try{await a({name:k.name,addresses:[{id:Date.now().toString(),label:"Default",address:k.address,postcode:k.postcode}]}),C(!1),document.cookie="accountSetup=true; max-age=86400",re({title:"Success",description:"Account details updated successfully"})}catch(ye){console.error("Error updating account:",ye),re({variant:"destructive",title:"Error",description:"Failed to update account details"})}},ee=oe=>{A(ye=>({...ye,address:oe.address,postcode:oe.postcode.toString()})),W(`${oe.suburb.toUpperCase()}, ${oe.postcode}`)},$=oe=>{A(ye=>({...ye,postcode:oe.postcode})),W(`${oe.suburb}, ${oe.postcode}`),Q(!1)},K=v.useCallback(oe=>{m(oe)},[]),ne=v.useCallback(oe=>{x(oe)},[]),ce=oe=>{I(oe)},se=()=>{I(null)},ie=()=>{const oe=Number(t()||0),ye=Number(h.fee||0);return parseFloat((oe+ye).toFixed(2))},te=()=>Number(q?q.discountAmount:0),fe=()=>{const oe=ie();return parseFloat((oe*(B/100)).toFixed(2))},pe=()=>{const oe=ie(),ye=te(),He=fe(),De=oe-ye+He;return parseFloat(De.toFixed(2))};if(e.length===0&&!u)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Your cart is empty"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Add products to checkout."}),s.jsx(J,{className:"mt-4",onClick:()=>c("/shop"),children:"Continue Shopping"})]})});const ue={customer_name:p.name,customer_email:p.email,customer_phone:p.phone,customer_address:p.address,customer_postcode:p.postcode,customer_city:p.city,delivery_notes:p.deliveryNotes,delivery_type:h.type,scheduled_delivery_time:h.scheduledTime,timeslot_id:h.timeslot_id,promo_code:(q==null?void 0:q.code)||null,discount_amount:te(),fees_data:{delivery_fee:h.fee,service_fee:fe(),total:pe(),serviceFeePercent:B}};return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight mb-8",children:["Checkout  ",s.jsx(Zs,{style:{display:"inline"}})]}),s.jsx("div",{children:s.jsxs(Ae,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1 mb-4",style:{textDecoration:"none"},children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_350px]",children:[s.jsx("div",{className:"space-y-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o?N?s.jsxs("div",{className:"p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Complete Your Account Details"}),s.jsxs("form",{onSubmit:H,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Full Name"}),s.jsx(we,{id:"name",value:k.name,onChange:oe=>A(ye=>({...ye,name:oe.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"address",children:"Delivery Address"}),s.jsx(rf,{value:k.address,onChange:oe=>A(ye=>({...ye,address:oe})),onAddressSelect:ee,placeholder:"Start typing your address...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{id:"postcode",placeholder:"Search suburb or postcode...",value:R,onChange:oe=>{W(oe.target.value),Q(!0)},onFocus:()=>Q(!0),required:!0}),Z&&E.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:E.slice(0,10).map(oe=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>$(oe),children:[s.jsx("div",{className:"text-sm font-medium",children:oe.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:oe.postcode})]},`${oe.suburb}-${oe.postcode}`))})]})]}),s.jsx(J,{type:"submit",children:"Save Details"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(T5,{onDetailsChange:ne,errors:y}),s.jsx(EU,{onDeliveryChange:K}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Promo Code"}),s.jsx(PC,{subtotal:ie(),onPromoApplied:ce,appliedPromo:q,onPromoRemoved:se})]})]}):s.jsxs("div",{className:"mt-6 p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sign in to Continue"}),s.jsx(qd,{onSuccess:()=>{}})]})})}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"lg:sticky lg:top-20",children:s.jsx(R5,{deliveryFee:h.fee,appliedPromo:q,discountAmount:te(),serviceFeePercent:B,serviceFee:fe()})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"terms",checked:w,onCheckedChange:_}),s.jsxs(le,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Ae,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Ae,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]})]})]}),s.jsx("div",{className:"flex justify-center w-full mt-8 mb-4",children:s.jsxs(J,{className:"w-full max-w-xl text-base h-12 md:h-12 md:text-lg shadow-lg",onClick:()=>c("/stripe-payment",{state:{orderData:ue,deliveryFee:h.fee,finalTotal:pe(),serviceFee:fe(),discountAmount:te()}}),disabled:!o||!w||N||p.address.length===0||ie()<=0||u,children:["Proceed to Payment   ",s.jsx(ba,{})]})})]})},TU=["Changed my mind","Found a better price","Ordered by mistake","Need to change address/time","Other"],TC=({open:e,onClose:t,onConfirm:r,loading:n})=>{const[o,a]=v.useState(""),[c,u]=v.useState(""),f=()=>{const h=o==="Other"?c:o;h&&r(h)};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Cancel Order"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cancelling your order may incur a cancellation fee. Please select a reason:"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[TU.map(h=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"cancel-reason",value:h,checked:o===h,onChange:()=>a(h)}),s.jsx("span",{children:h})]},h)),o==="Other"&&s.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1 mt-1",placeholder:"Enter reason",value:c,onChange:h=>u(h.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:t,disabled:n,children:"Close"}),s.jsx(J,{variant:"destructive",onClick:f,disabled:n||!o||o==="Other"&&!c,children:n?"Cancelling...":"Confirm Cancellation"})]})]})}):null},AC=({orderId:e,fetchMessages:t,sendMessage:r,disabled:n,initialMessages:o=[]})=>{const[a,c]=v.useState(o),[u,f]=v.useState(""),[h,m]=v.useState(!1),p=v.useRef(),x=v.useRef(null);v.useEffect(()=>{const j=async()=>{const w=await t();c(w)};return j(),p.current=setInterval(j,3e4),()=>clearInterval(p.current)},[e,t]);const y=async()=>{if(!u.trim()||h)return;m(!0),await r(u.trim()),f("");const j=await t();c(j),m(!1)};return s.jsxs("div",{className:"p-4 mt-8 border rounded bg-white shadow-sm",children:[s.jsx("h1",{className:"text-lg font-semibold mb-4",children:"Order Messages"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-2 relative",ref:x,children:a.length>0?a.map((j,w)=>s.jsxs("div",{className:`p-3 rounded text-sm ${j.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:j.from==="admin"?"Support Team":"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(j.timestamp).toLocaleString()})]}),s.jsx("p",{children:j.message})]},w)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),!n&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block font-medium",children:"Send a message:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(mr,{value:u,onChange:j=>f(j.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(J,{onClick:y,disabled:!u.trim()||h,size:"sm",children:h?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(ic,{className:"w-4 h-4"})})]})]})]})},AU=()=>{const{id:e}=kd(),[t,r]=v.useState(null),[n,o]=v.useState(!0),[a,c]=v.useState(null),[u,f]=v.useState(!1),[h,m]=v.useState(null),[p,x]=v.useState(""),[y,j]=v.useState(!1),[w,_]=v.useState(!1);v.useEffect(()=>{(async()=>{if(e)try{const{data:O,error:R}=await de.from("orders").select("*").eq("id",e).single();if(R)throw R;if(O)if(r(O),O.expected_delivery_at===null){let W=new Date().getTime(),Z=new Date(W+45*60*1e3);c(Z)}else c(new Date(O.expected_delivery_at))}catch(O){console.error("Error fetching order:",O)}finally{o(!1)}})()},[e]);const N=E=>{if(!E)return"N/A";const O=new Date(E);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(O)},C=()=>{if(!t)return null;const E={pending:{color:"text-yellow-500",bgColor:"bg-yellow-100",icon:hn,title:"Order Pending",description:a?`Estimated delivery by ${N(a)}`:"Processing your order"},processing:{color:"text-blue-500",bgColor:"bg-blue-100",icon:Gr,title:"Order Processing",description:"Your order is being processed. "+(a?`Estimated delivery by ${N(a)}`:"")},out_for_delivery:{color:"text-orange-500",bgColor:"bg-orange-100",icon:pd,title:"Out for Delivery",description:"Your order is out for delivery."},delivered:{color:"text-green-500",bgColor:"bg-green-100",icon:Zo,title:"Order Delivered",description:"Your order has been delivered"},cancelled:{color:"text-red-500",bgColor:"bg-red-100",icon:l$,title:"Order Cancelled",description:"This order has been cancelled"}};return E[t.status]||E.pending},k=t&&["pending","processing"].includes(t.status),A=async E=>{f(!0),m(null);try{const{error:O}=await de.from("orders").update({status:"cancelled",cancel_reason:E}).eq("id",t.id);if(O)throw O;r({...t,status:"cancelled",cancel_reason:E}),_(!1)}catch{m("Failed to cancel order. Please try again.")}finally{f(!1)}};if(n)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})});if(!t)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The order you're looking for doesn't exist."}),s.jsx(Ae,{to:"/shop",children:s.jsx(J,{className:"mt-4",children:"Continue Shopping"})})]})});const T=C(),P=T.icon;return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{children:s.jsx(Ae,{to:"/account",children:s.jsxs(J,{variant:"ghost",className:"mb-4 text-sm text-muted-foreground hover:text-foreground",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Return to Account"]})})}),s.jsxs(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(je.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`mx-auto w-24 h-24 rounded-full ${T.bgColor} flex items-center justify-center mb-4`,children:s.jsx(P,{className:`w-12 h-12 ${T.color}`})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:T.title}),s.jsx("p",{className:"text-muted-foreground",children:T.description})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-0 top-1/2 w-full h-1 bg-muted transform -translate-y-1/2",children:s.jsx("div",{className:`h-full bg-primary transition-all duration-500 ${t.status==="pending"?"w-1/4":t.status==="processing"?"w-2/4":t.status==="out_for_delivery"?"w-3/4":t.status==="delivered"?"w-full":"w-0"}`})}),s.jsxs("div",{className:"relative flex justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending","processing","out_for_delivery","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Zo,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Confirmed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["processing","out_for_delivery","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Gr,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Processing"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["out_for_delivery","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(pd,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Out for Delivery"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.status==="delivered"?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Zo,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Delivered"})]})]})]})}),s.jsxs("div",{className:"mt-8 p-6 border rounded-lg text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Order #",t.id.slice(0,6).toUpperCase()]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${T.bgColor} ${T.color}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:N(t.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Address"}),s.jsx("p",{className:"font-medium",children:t.customer_address})]}),t.delivery_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Notes"}),s.jsx("p",{className:"font-medium",children:t.delivery_notes})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:t.items.map((E,O)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:E.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se(E.price)," x ",E.quantity]})]}),s.jsx("p",{className:"font-medium",children:Se(E.price*E.quantity)})]},O))}),s.jsxs("div",{className:"space-y-3",children:[t.fees_data&&t.fees_data.delivery_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:Se(t.fees_data.delivery_fee)})]}),t.fees_data&&t.fees_data.service_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",t.fees_data.serviceFeePercent,"%)"]}),s.jsx("span",{children:Se(t.fees_data.service_fee)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-bold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Se(t.total)})]})]})]}),s.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(Ae,{to:"/shop",children:s.jsx(J,{variant:"outline",children:"Continue Shopping"})}),s.jsx(Ae,{to:"/account/orders",children:s.jsxs(J,{children:[s.jsx(Gr,{className:"mr-2 h-4 w-4"}),"View All Orders"]})})]}),k&&s.jsxs("div",{className:"mt-4 flex justify-center",children:[s.jsx(J,{variant:"destructive",className:"w-full max-w-xs",onClick:()=>_(!0),disabled:u,children:"Cancel Order"}),s.jsx(TC,{open:w,onClose:()=>_(!1),onConfirm:A,loading:u})]}),h&&s.jsx("div",{className:"mt-4 text-red-500 text-center",children:h}),t.payment_status==="paid"&&t.payment_data&&s.jsxs("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded",children:[s.jsx("div",{className:"font-medium mb-1 text-green-800",children:"Payment Details:"}),s.jsx("pre",{className:"text-xs text-green-900 whitespace-pre-wrap break-all",children:JSON.stringify(t.payment_data,null,2)})]}),s.jsx(AC,{orderId:t.id,initialMessages:t.admin_messages||[],fetchMessages:async()=>{const{data:E}=await de.from("orders").select("admin_messages").eq("id",t.id).single();return(E==null?void 0:E.admin_messages)||[]},sendMessage:async E=>{const O=t.admin_messages||[];await de.from("orders").update({admin_messages:[...O,{from:"customer",message:E,timestamp:new Date().toISOString()}]}).eq("id",t.id)},disabled:t.status==="cancelled"||t.status==="delivered"})]})]})},DU=()=>{const[e,t]=v.useState({email:"",password:""}),[r,n]=v.useState({}),[o,a]=v.useState(!1),{login:c,loading:u,logout:f}=Jt(),h=Xt(),m=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),r[j]&&n(_=>({..._,[j]:""}))},p=()=>{const y={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(y.email="Email is invalid"):y.email="Email is required",e.password.trim()||(y.password="Password is required"),n(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!p()||o||u)return;a(!0);const{success:j,isAdminUser:w,error:_}=await c(e.email,e.password);j?w?(h("/admin"),re({title:"Admin Access Granted",description:"Welcome to the Admin Dashboard."})):(re({variant:"destructive",title:"Access Denied",description:"You do not have admin privileges. Logging out."}),await f()):_&&_!=="Invalid login credentials"&&re({variant:"destructive",title:"Login Failed",description:_}),a(!1)};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"admin-email",children:"Admin Email"}),s.jsx(we,{id:"admin-email",name:"email",type:"email",value:e.email,onChange:m,placeholder:"admin_master@groceroo.com.au",className:`${r.email?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"admin-password",children:"Admin Password"}),s.jsx(we,{id:"admin-password",name:"password",type:"password",value:e.password,onChange:m,placeholder:"••••••••",className:`${r.password?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx(Ae,{to:"/forgot-password",className:`text-muted-foreground hover:text-destructive ${o||u?"pointer-events-none opacity-50":""}`,children:"Forgot password?"})}),s.jsx(J,{type:"submit",variant:"destructive",className:"w-full",disabled:o||u,children:o||u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-destructive-foreground border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):"Sign In to Admin Portal"})]})},OU=()=>s.jsx("div",{className:"container flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col items-center mb-8 text-center",children:[s.jsx(B$,{className:"w-12 h-12 mb-4 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold text-destructive",children:"Admin Portal"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Authorized personnel access only."})]}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"p-6 border-2 border-destructive/30 rounded-lg shadow-xl bg-card",children:s.jsx(DU,{})}),s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Not an admin? Return to"," ",s.jsx(Ae,{to:"/",className:"text-primary hover:underline",children:"Homepage"})," ","or"," ",s.jsx(Ae,{to:"/login",className:"text-primary hover:underline",children:"Customer Login"}),"."]})})]})}),RU=()=>{const[e,t]=v.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[r,n]=v.useState({}),[o,a]=v.useState(!1),{register:c}=Jt(),u=Xt(),f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),r[x]&&n(j=>({...j,[x]:""}))},h=()=>{const p={};return e.name.trim()||(p.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(p.email="Email is invalid"):p.email="Email is required",e.phone.trim()||(p.phone="Phone number is required"),e.password.trim()?e.password.length<6&&(p.password="Password must be at least 6 characters"):p.password="Password is required",e.password!==e.confirmPassword&&(p.confirmPassword="Passwords do not match"),n(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h()||o)return;a(!0);const x=await c(e.email,e.password,e.name,e.phone);a(!1),x&&u("/login")};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Create an Account"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Sign up to start shopping with Groceroo"})]}),s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Full Name"}),s.jsx(we,{id:"name",name:"name",value:e.name,onChange:f,className:r.name?"border-destructive":"",disabled:o}),r.name&&s.jsx("p",{className:"text-xs text-destructive",children:r.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(we,{id:"email",name:"email",type:"email",value:e.email,onChange:f,className:r.email?"border-destructive":"",disabled:o}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(we,{id:"phone",name:"phone",value:e.phone,onChange:f,className:r.phone?"border-destructive":"",disabled:o}),r.phone&&s.jsx("p",{className:"text-xs text-destructive",children:r.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"password",children:"Password"}),s.jsx(we,{id:"password",name:"password",type:"password",value:e.password,onChange:f,className:r.password?"border-destructive":"",disabled:o}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(we,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,className:r.confirmPassword?"border-destructive":"",disabled:o}),r.confirmPassword&&s.jsx("p",{className:"text-xs text-destructive",children:r.confirmPassword})]}),s.jsx(J,{type:"submit",className:"w-full",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",s.jsx(Ae,{to:"/login",className:`text-primary hover:underline ${o?"pointer-events-none opacity-50":""}`,children:"Sign in"})]})})]})]})})};var uf="Tabs",[$U,xV]=Rn(uf,[af]),DC=af(),[MU,fg]=$U(uf),OC=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=ug(u),[p,x]=Xi({prop:n,onChange:o,defaultProp:a??"",caller:uf});return s.jsx(MU,{scope:r,baseId:ea(),value:p,onValueChange:x,orientation:c,dir:m,activationMode:f,children:s.jsx(Xe.div,{dir:m,"data-orientation":c,...h,ref:t})})});OC.displayName=uf;var RC="TabsList",$C=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=fg(RC,r),c=DC(r);return s.jsx(hC,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});$C.displayName=RC;var MC="TabsTrigger",IC=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,c=fg(MC,r),u=DC(r),f=UC(c.baseId,n),h=BC(c.baseId,n),m=n===c.value;return s.jsx(mC,{asChild:!0,...u,focusable:!o,active:m,children:s.jsx(Xe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:t,onMouseDown:Ye(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(n):p.preventDefault()}),onKeyDown:Ye(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(n)}),onFocus:Ye(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!o&&p&&c.onValueChange(n)})})})});IC.displayName=MC;var LC="TabsContent",FC=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...c}=e,u=fg(LC,r),f=UC(u.baseId,n),h=BC(u.baseId,n),m=n===u.value,p=v.useRef(m);return v.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx($n,{present:o||m,children:({present:x})=>s.jsx(Xe.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&a})})});FC.displayName=LC;function UC(e,t){return`${e}-trigger-${t}`}function BC(e,t){return`${e}-content-${t}`}var IU=OC,VC=$C,zC=IC,WC=FC;const hg=IU,df=ge.forwardRef(({className:e,...t},r)=>s.jsx(VC,{ref:r,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));df.displayName=VC.displayName;const Ii=ge.forwardRef(({className:e,...t},r)=>s.jsx(zC,{ref:r,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ii.displayName=zC.displayName;const Li=ge.forwardRef(({className:e,...t},r)=>s.jsx(WC,{ref:r,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Li.displayName=WC.displayName;const LU=()=>{const{user:e,updateUserInfo:t}=Jt(),[r,n]=v.useState(!1),[o,a]=v.useState(null),[c,u]=v.useState({label:"",address:"",postcode:""}),[f,h]=v.useState(!1),[m,p]=v.useState([]),[x,y]=v.useState([]),[j,w]=v.useState(""),[_,N]=v.useState(!1),C=(e==null?void 0:e.addresses)||[];v.useEffect(()=>{(async()=>{try{const R=await nf();p(R),y(R)}catch(R){console.error("Error fetching postcodes:",R)}})()},[]),v.useEffect(()=>{if(j.length===0)y(m);else{const O=m.filter(R=>R.suburb.toLowerCase().includes(j.toLowerCase())||R.postcode.includes(j));y(O)}},[j,m]);const k=async O=>{if(O.preventDefault(),!c.label.trim()||!c.address.trim()||!c.postcode){re({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}h(!0);try{let R;if(o)R=C.map(W=>W.id===o.id?{...W,label:c.label,address:c.address,postcode:c.postcode}:W);else{const W=Math.random().toString(36).substr(2,9);R=[...C,{id:W,label:c.label,address:c.address,postcode:c.postcode}]}await t({addresses:R}),n(!1),a(null),u({label:"",address:"",postcode:""}),w(""),re({title:"Success",description:o?"Address updated":"Address added"})}catch(R){console.error("Error saving address:",R),re({variant:"destructive",title:"Error",description:"Could not save address"})}finally{h(!1)}},A=async O=>{try{const R=C.filter(W=>W.id!==O);await t({addresses:R}),re({title:"Success",description:"Address deleted"})}catch(R){console.error("Error deleting address:",R),re({variant:"destructive",title:"Error",description:"Could not delete address"})}},T=O=>{u(R=>({...R,address:O.address,postcode:O.postcode})),w(`${O.suburb.toUpperCase()}, ${O.postcode}`)},P=O=>{u(R=>({...R,postcode:O.postcode})),w(`${O.suburb}, ${O.postcode}`),N(!1)},E=(O=null)=>{if(a(O),O){u({label:O.label,address:O.address,postcode:O.postcode});const R=m.find(W=>O.address.toUpperCase().includes(W.suburb.toUpperCase()));R&&w(`${R.suburb}, ${R.postcode}`)}else u({label:"",address:"",postcode:""}),w("");n(!0)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Saved Addresses"}),s.jsxs(Kr,{open:r,onOpenChange:n,children:[s.jsx(ai,{asChild:!0,children:s.jsxs(J,{onClick:()=>E(),children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Address"]})}),s.jsxs($r,{children:[s.jsx(Mr,{children:s.jsx(Ir,{children:o?"Edit Address":"Add New Address"})}),s.jsx(Dv,{}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"label",children:"Label"}),s.jsx(we,{id:"label",placeholder:"e.g., Home, Work",value:c.label,onChange:O=>u(R=>({...R,label:O.target.value})),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"address",children:"Address"}),s.jsx(rf,{value:c.address,onChange:O=>u(R=>({...R,address:O})),onAddressSelect:T,placeholder:"Start typing your address...",disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{id:"postcode",placeholder:"Search suburb or postcode...",value:j,onChange:O=>{w(O.target.value),N(!0)},onFocus:()=>N(!0),disabled:f}),_&&x.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:x.slice(0,10).map(O=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>P(O),children:[s.jsx("div",{className:"text-sm font-medium",children:O.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:O.postcode})]},`${O.suburb}-${O.postcode}`))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(J,{type:"button",variant:"outline",onClick:()=>{n(!1),N(!1)},disabled:f,children:"Cancel"}),s.jsx(J,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Add"})]})]})]})]})]}),s.jsx("div",{className:"space-y-2",children:C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No addresses saved yet."}):C.map(O=>{const R=m.find(W=>W.postcode===O.postcode);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.address}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R?`${R.suburb}, ${R.postcode}`:O.postcode})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>E(O),children:s.jsx(O$,{className:"w-4 h-4"})}),s.jsx(J,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>A(O.id),children:s.jsx(Gi,{className:"w-4 h-4"})})]})]},O.id)})})]})},un=ge.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));un.displayName="Card";const Tn=ge.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));Tn.displayName="CardHeader";const An=ge.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));An.displayName="CardTitle";const Up=ge.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));Up.displayName="CardDescription";const dn=ge.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("p-6 pt-0",e),...t}));dn.displayName="CardContent";const FU=ge.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("flex items-center p-6 pt-0",e),...t}));FU.displayName="CardFooter";const HC=({orders:e})=>{const t=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=n=>n?$t(new Date(n),"PPP"):"N/A";return e.length===0?s.jsx(un,{children:s.jsxs(dn,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Gr,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No upcoming orders"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your scheduled pickup orders will appear here."})]})}):s.jsx("div",{className:"space-y-2",children:e.map(n=>{var o,a;return s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(un,{className:"py-2",children:[s.jsx(Tn,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(An,{className:"text-base",children:["Order #",n.id.slice(0,6).toUpperCase()]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ot,{className:t(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),s.jsx(Ae,{to:`/pickup-order/${n.id}`,children:s.jsx(J,{variant:"ghost",size:"sm",children:s.jsx(K_,{className:"w-4 h-4"})})})]})]})}),s.jsxs(dn,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r(n.pickup_date)]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(hn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]})]}),s.jsxs("div",{className:"flex items-center text-xs",children:[s.jsx(oi,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:(o=n.pickup_order_stores)==null?void 0:o.map((c,u)=>{var f;return s.jsx(ot,{variant:"outline",className:"text-xs",children:(f=c.stores)==null?void 0:f.name},u)})})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{className:"font-medium",children:Se(n.estimated_total)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Store Details:"}),s.jsx("div",{className:"space-y-1",children:(a=n.pickup_order_stores)==null?void 0:a.map((c,u)=>{var f;return s.jsxs("div",{className:"flex justify-between items-center text-xs bg-muted/30 p-1 rounded",children:[s.jsx("span",{children:(f=c.stores)==null?void 0:f.name}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:Se(c.estimated_total||0)}),s.jsx(ot,{variant:"outline",className:"text-xs",children:c.status})]})]},u)})})]}),n.photos&&n.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Photos:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[n.photos.slice(0,4).map((c,u)=>s.jsx("img",{src:c.data,alt:`Photo ${u+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(c.data,"_blank")},u)),n.photos.length>4&&s.jsxs("div",{className:"aspect-square rounded bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",n.photos.length-4," more"]})]})]}),s.jsx("div",{className:"flex justify-center pt-1",children:s.jsx(Ae,{to:`/pickup-order/${n.id}`,children:s.jsx(J,{size:"sm",children:"View Full Details"})})})]})]})},n.id)})})},UU=()=>{const{user:e,updateUserInfo:t,logout:r,loading:n}=Jt(),[o,a]=v.useState([]),[c,u]=v.useState([]),[f,h]=v.useState(!0),m=Xt(),[p,x]=tP(),y=p.get("tab")||"profile",j=I=>{x({tab:I})},[w,_]=v.useState({name:"",email:"",phone:""}),[N,C]=v.useState({}),[k,A]=v.useState(!1);v.useEffect(()=>{n||(e?e&&(_({name:e.name||"",email:e.email||"",phone:e.phone||""}),T(e.id),P(e.id)):m("/"))},[e,n,m]);const T=async I=>{h(!0);try{const{data:B,error:F}=await de.from("orders").select("*").eq("user_id",I).order("created_at",{ascending:!1});if(F)throw F;a(B||[])}catch(B){console.error("Error fetching orders:",B)}},P=async I=>{try{const{data:B,error:F}=await de.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("user_id",I).order("created_at",{ascending:!1});if(F)throw F;u(B||[])}catch(B){console.error("Error fetching pickup orders:",B)}finally{h(!1)}},E=async(I,B)=>{try{const{data:F,error:z}=await de.from("pickup_orders").select("admin_messages").eq("id",I).single();if(z)throw z;const L=F.admin_messages||[],H={from:"customer",message:B,timestamp:new Date().toISOString()},{error:ee}=await de.from("pickup_orders").update({admin_messages:[...L,H]}).eq("id",I);if(ee)throw ee;P(e.id)}catch(F){console.error("Error sending message:",F)}},O=I=>{const{name:B,value:F}=I.target;_(z=>({...z,[B]:F})),N[B]&&C(z=>({...z,[B]:""}))},R=()=>{const I={};return w.name.trim()||(I.name="Name is required"),w.email.trim()&&(/\S+@\S+\.\S+/.test(w.email)||(I.email="Email is invalid")),C(I),Object.keys(I).length===0},W=async I=>{if(I.preventDefault(),!(!R()||k)){A(!0);try{await t({name:w.name,email:w.email}),re({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(B){console.error("Error updating profile:",B),re({variant:"destructive",title:"Update Failed",description:B.message})}finally{A(!1)}}},Z=async()=>{await r(),m("/")},Q=I=>{if(!I)return"N/A";const B=new Date(I);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(B)},q=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100"}};return n?s.jsx("div",{className:"container flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-3xl font-bold tracking-tight mb-6",children:["My Account ",s.jsx(bp,{style:{display:"inline"}})]}),s.jsxs(hg,{value:y,onValueChange:j,className:"space-y-6",children:[s.jsxs(df,{className:"grid w-full grid-cols-3 md:w-auto md:inline-flex",children:[s.jsxs(Ii,{value:"profile",className:"flex items-center",children:[s.jsx(bp,{className:"w-3 h-5 mr-2"}),"Profile"]}),s.jsxs(Ii,{value:"orders",className:"flex items-center",children:[s.jsx(Gr,{className:"w-3 h-3 mr-2"}),"Orders"]}),s.jsxs(Ii,{value:"grocery-runs",className:"flex items-center",children:[s.jsx(oi,{className:"w-3 h-5 mr-2"}),"Grocery Runs"]})]}),s.jsxs(Li,{value:"profile",className:"space-y-6",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Full Name"}),s.jsx(we,{id:"name",name:"name",value:w.name,onChange:O,className:N.name?"border-destructive":"",disabled:k}),N.name&&s.jsx("p",{className:"text-xs text-destructive",children:N.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(we,{id:"email",name:"email",type:"email",value:w.email,onChange:O,className:N.email?"border-destructive":"",disabled:k}),N.email&&s.jsx("p",{className:"text-xs text-destructive",children:N.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(we,{id:"phone",name:"phone",value:w.phone,className:"bg-muted/50",disabled:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone number cannot be changed."})]}),s.jsx("div",{className:"flex justify-start space-x-2",children:s.jsx(J,{type:"submit",disabled:k,children:k?"Saving...":"Save Changes"})})]})]}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:s.jsx(LU,{})}),s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Actions"}),s.jsxs(J,{variant:"destructive",className:"flex items-center",onClick:Z,disabled:k,children:[s.jsx(X_,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),s.jsx(Li,{value:"orders",className:"space-y-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Orders"}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gr,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No delivery orders yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start shopping to place your first order."}),s.jsx(Ae,{to:"/shop",children:s.jsx(J,{className:"mt-4",children:"Start Shopping"})})]}):s.jsx("div",{className:"space-y-4",children:o.map(I=>s.jsx(Ae,{to:`/order-confirmation/${I.id}`,className:"block p-4 border rounded-lg hover:bg-muted/30 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("h3",{className:"font-medium",children:["Order #",I.id.substring(0,6).toUpperCase(),"..."]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${q(I.status)}`,children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Q(I.created_at)," • ",Se(I.total)]})]}),s.jsx("div",{className:"mt-2 sm:mt-0 text-right",children:s.jsx("p",{className:"font-medium",children:Se(I.total)})})]})},I.id))})]})})}),s.jsx(Li,{value:"grocery-runs",className:"space-y-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Grocery Runs"}),s.jsx(Ae,{to:"/grocery-run",children:s.jsx(J,{children:"+ New"})})]}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx(HC,{orders:c,onSendMessage:E})]})})})]})]})},BU=({pendingCount:e,processingCount:t,deliveredCount:r})=>{const n=[{title:"Pending Orders",count:e,icon:Gr,color:"yellow"},{title:"Processing Orders",count:t,icon:Q_,color:"blue"},{title:"Delivered Orders",count:r,icon:_v,color:"green"}],o={yellow:{bg:"bg-yellow-100/50",text:"text-yellow-600"},blue:{bg:"bg-blue-100/50",text:"text-blue-600"},green:{bg:"bg-green-100/50",text:"text-green-600"}};return s.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:n.map((a,c)=>s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*(c+1)},className:"p-6 border rounded-lg bg-card",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-full ${o[a.color].bg}`,children:s.jsx(a.icon,{className:`h-6 w-6 ${o[a.color].text}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:a.title}),s.jsx("h3",{className:"text-2xl font-bold",children:a.count})]})]})},a.title))})},VU=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,a]=v.useState("processing"),[c,u]=v.useState(""),[f,h]=v.useState(null),[m,p]=v.useState(!1),[x,y]=v.useState(""),[j,w]=v.useState(""),[_,N]=v.useState(!1),[C,k]=v.useState(_a);v.useEffect(()=>{A(),P();const q=setInterval(()=>{P(!0)},6e4);return()=>clearInterval(q)},[o]);const A=async()=>{try{const{data:q,error:I}=await de.from("delivery_settings").select("timezone").eq("id",1).single();!I&&(q!=null&&q.timezone)&&k(q.timezone)}catch(q){console.error("Error fetching timezone:",q)}},T=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},P=async(q=!1)=>{try{const{data:I,error:B}=await de.from("orders").select("*").eq("status",o).order("created_at",{ascending:!1});if(B)throw B;q&&e.length>0&&I.length>e.length&&(T(),re({title:"New Order",description:"A new order has been received!"})),t(I||[])}catch(I){console.error("Error fetching orders:",I),re({variant:"destructive",title:"Error",description:"Could not load orders."})}finally{n(!1)}},E=async(q,I)=>{try{const{error:B}=await de.from("orders").update({status:I}).eq("id",q);if(B)throw B;re({title:"Status Updated",description:`Order status changed to ${I}`}),P()}catch(B){console.error("Error updating order status:",B),re({variant:"destructive",title:"Error",description:"Could not update order status."})}},O=async(q,I)=>{const B=cn(C);if(new Date(I)<=B){re({variant:"destructive",title:"Invalid Time",description:"Delivery time cannot be in the past."});return}try{const{error:z}=await de.from("orders").update({expected_delivery_at:I}).eq("id",q);if(z)throw z;re({title:"Delivery Time Updated",description:"Expected delivery time has been updated"}),P()}catch(z){console.error("Error updating delivery time:",z),re({variant:"destructive",title:"Error",description:"Could not update delivery time."})}},R=async()=>{if(!(!j||!f)){N(!0);try{const{error:q}=await de.from("orders").update({payment_status:"confirmed",status:"processing",fees_data:{actual_amount:parseFloat(j),confirmed_at:new Date().toISOString()}}).eq("id",f.id);if(q)throw q;re({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Se(parseFloat(j))}`}),w(""),P(),p(!1)}catch(q){console.error("Error confirming payment:",q),re({variant:"destructive",title:"Error",description:"Could not confirm payment: "+q.message})}finally{N(!1)}}},W=async()=>{if(!(!x.trim()||!f))try{const q=f.admin_messages||[],I={from:"admin",message:x,timestamp:new Date().toISOString()},{error:B}=await de.from("orders").update({admin_messages:[...q,I]}).eq("id",f.id);if(B)throw B;re({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),P(),h({...f,admin_messages:[...q,I]})}catch(q){console.error("Error sending message:",q),re({variant:"destructive",title:"Error",description:"Could not send message."})}},Z=e.filter(q=>{var B,F;return((B=q.customer_name)==null?void 0:B.toLowerCase().includes(c.toLowerCase()))||((F=q.customer_email)==null?void 0:F.toLowerCase().includes(c.toLowerCase()))||q.id.toLowerCase().includes(c.toLowerCase())}),Q=q=>{if(!q)return"N/A";const I=new Date(q);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(I)};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Orders Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:c,onChange:q=>u(q.target.value)})]}),s.jsxs(Yt,{value:o,onValueChange:a,children:[s.jsx(Ot,{className:"w-full md:w-[180px]",children:s.jsx(Gt,{placeholder:"Filter by status"})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"pending",children:"Pending"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"out_for_delivery",children:"Out for Delivery"}),s.jsx(Pe,{value:"delivered",children:"Delivered"}),s.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"space-y-4",children:Z.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx(Gr,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No orders found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your filters."})]}):Z.map(q=>{var I,B,F,z,L;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["Order #",q.id.slice(0,6).toUpperCase()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Q(q.created_at)}),s.jsxs("p",{className:"text-sm",children:[q.customer_name," - ",q.customer_email]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:Se(q.total)}),s.jsxs(Kr,{open:m&&(f==null?void 0:f.id)===q.id,onOpenChange:p,children:[s.jsx(ai,{asChild:!0,children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>h(q),children:"View Details"})}),s.jsxs($r,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Mr,{children:s.jsxs(Ir,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6).toUpperCase()]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",f.customer_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",f.customer_email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.customer_phone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.customer_address]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"})," ",f.delivery_notes]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",f.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",f.payment_status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total:"})," ",Se(f.total)]}),((I=f.fees_data)==null?void 0:I.delivery_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee:"})," ",Se((B=f.fees_data)==null?void 0:B.delivery_fee)]}),((F=f.fees_data)==null?void 0:F.service_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Service Fee:"})," ",Se(f.fees_data.service_fee)]}),f.discount_amount>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Discount:"})," -",Se(f.discount_amount)]}),f.promo_code&&s.jsxs("p",{children:[s.jsx("strong",{children:"Promo Code:"})," ",f.promo_code]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Update Status"}),s.jsxs(Yt,{value:f.status,onValueChange:H=>E(f.id,H),children:[s.jsx(Ot,{children:s.jsx(Gt,{})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"pending",children:"Pending"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"out_for_delivery",children:"Out for Delivery"}),s.jsx(Pe,{value:"delivered",children:"Delivered"}),s.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Expected Delivery Time"}),s.jsx(we,{type:"datetime-local",value:f.expected_delivery_at?new Date(f.expected_delivery_at).toISOString().slice(0,16):"",onChange:H=>O(f.id,H.target.value)})]}),f.payment_status==="paid"&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(ba,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(le,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(we,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:H=>w(H.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(J,{onClick:R,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Zo,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),s.jsx("div",{className:"space-y-2",children:(z=f.items)==null?void 0:z.map((H,ee)=>s.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[s.jsxs("span",{children:[H.name," x",H.quantity]}),s.jsx("span",{children:Se(H.price*H.quantity)})]},ee))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(L=f.admin_messages)==null?void 0:L.map((H,ee)=>s.jsxs("div",{className:`p-3 rounded text-sm ${H.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:H.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(H.timestamp).toLocaleString()})]}),s.jsx("p",{children:H.message})]},ee))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(mr,{value:x,onChange:H=>y(H.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(J,{onClick:W,disabled:!x.trim(),children:s.jsx(ic,{className:"w-4 h-4"})})]})]})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Yt,{value:q.status,onValueChange:H=>E(q.id,H),children:[s.jsx(Ot,{className:"w-[130px]",children:s.jsx(Gt,{})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"pending",children:"Pending"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"out_for_delivery",children:"Out for Delivery"}),s.jsx(Pe,{value:"delivered",children:"Delivered"}),s.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[q.delivery_type," • ",q.customer_address]})]})]},q.id)})})]})},eo=ge.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Te("w-full caption-bottom text-sm",e),...t})}));eo.displayName="Table";const to=ge.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Te("[&_tr]:border-b",e),...t}));to.displayName="TableHeader";const ro=ge.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Te("[&_tr:last-child]:border-0",e),...t}));ro.displayName="TableBody";const zU=ge.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));zU.displayName="TableFooter";const Mt=ge.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Mt.displayName="TableRow";const Ve=ge.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ve.displayName="TableHead";const Ue=ge.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ue.displayName="TableCell";const WU=ge.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Te("mt-4 text-sm text-muted-foreground",e),...t}));WU.displayName="TableCaption";const mg=(e="groceroo_images")=>{const[t,r]=v.useState(!1),[n,o]=v.useState(null);return{isUploading:t,uploadError:n,uploadFile:async(u,f="")=>{if(!u)return{url:null,error:null};r(!0),o(null);const h=u.name.split(".").pop(),m=`${Date.now()}.${h}`,p=f?`${f}/${m}`:m;try{const{data:x,error:y}=await de.storage.from(e).upload(p,u);if(y)throw y;const{data:j}=de.storage.from(e).getPublicUrl(p);return r(!1),{url:j.publicUrl,error:null}}catch(x){return console.error(`Error uploading file to ${e}:`,x),o(x.message),re({variant:"destructive",title:"Upload Failed",description:x.message}),r(!1),{url:null,error:x.message}}},deleteFile:async u=>{if(!u)return{success:!0,error:null};const f=u.split("/"),h=f.findIndex(p=>p===e);if(h===-1||h===f.length-1)return console.warn("Could not parse file path from URL:",u),{success:!1,error:"Could not parse file path"};const m=f.slice(h+1).join("/");if(!m)return console.warn("Empty file path extracted from URL:",u),{success:!1,error:"Empty file path"};try{const{error:p}=await de.storage.from(e).remove([m]);if(p)throw p;return console.log(`Successfully deleted file ${m} from ${e}.`),{success:!0,error:null}}catch(p){return console.error(`Error deleting file ${m}:`,p),re({variant:"destructive",title:"Deletion Error",description:`Could not delete file: ${p.message}`}),{success:!1,error:p.message}}}}},HU=({product:e,categories:t,onSubmit:r,onCancel:n})=>{const[o,a]=v.useState({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),[c,u]=v.useState({}),[f,h]=v.useState(null),[m,p]=v.useState(""),x=v.useRef(null),{isUploading:y,uploadFile:j,deleteFile:w}=mg();v.useEffect(()=>{e?(a({name:e.name||"",price:e.price||"",unit:e.unit||"",category_id:e.category_id?String(e.category_id):"",description:e.description||"",image_url:e.image_url||"",in_stock:e.in_stock!==void 0?e.in_stock:!0,featured:e.featured!==void 0?e.featured:!1,categories_ids:e.categories_ids||[]}),p(e.image_url||"")):(a({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),p(""),h(null))},[e]);const _=E=>{const{name:O,value:R,type:W,checked:Z}=E.target;a(Q=>({...Q,[O]:W==="checkbox"?Z:R})),c[O]&&u(Q=>({...Q,[O]:""}))},N=(E,O)=>{a(R=>({...R,[E]:O})),c[E]&&u(R=>({...R,[E]:""}))},C=E=>{const O=E.target.files[0];if(O){h(O);const R=new FileReader;R.onloadend=()=>p(R.result),R.readAsDataURL(O),u(W=>({...W,image_url:""}))}},k=async()=>{let E=o.image_url||null;if(f){e&&e.image_url&&await w(e.image_url);const{url:O,error:R}=await j(f,"products");if(R)return u(W=>({...W,image_url:"Image upload failed. Please try again."})),null;E=O}return E},A=()=>{const E={};return o.name.trim()||(E.name="Name is required"),(!o.price||isNaN(o.price)||parseFloat(o.price)<=0)&&(E.price="Valid price is required"),o.unit.trim()||(E.unit="Unit is required"),o.category_id||(E.category_id="Category is required"),o.description.trim()||(E.description="Description is required"),u(E),Object.keys(E).length===0},T=async E=>{if(E.preventDefault(),!A()||y)return;const O=await k();if(f&&O===null){re({variant:"destructive",title:"Submission Failed",description:"Product could not be saved due to image upload error."});return}const R={name:o.name,price:parseFloat(o.price),unit:o.unit,category_id:parseInt(o.category_id),description:o.description,image_url:O,in_stock:o.in_stock,featured:o.featured,updated_at:new Date,categories_ids:o.categories_ids};e!=null&&e.id&&(R.id=e.id),r(R)},P=E=>{const O=Array.from(E.target.selectedOptions);a(R=>({...R,categories_ids:O.map(W=>parseInt(W.value))})),c.categories_ids&&u(R=>({...R,categories_ids:""}))};return s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"product-image",children:"Product Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:m?s.jsx("img",{src:m,alt:"Product Preview",className:"object-cover w-full h-full"}):s.jsx(Id,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(we,{id:"product-image",type:"file",accept:"image/*",onChange:C,ref:x,className:"hidden",disabled:y}),s.jsxs(J,{type:"button",variant:"outline",onClick:()=>{var E;return(E=x.current)==null?void 0:E.click()},disabled:y,children:[s.jsx(G_,{className:"w-4 h-4 mr-2"}),y?"Uploading...":f?"Change Image":"Upload Image"]})]}),c.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:c.image_url})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Product Name"}),s.jsx(we,{id:"name",name:"name",value:o.name,onChange:_,className:c.name?"border-destructive":"",disabled:y}),c.name&&s.jsx("p",{className:"text-xs text-destructive",children:c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"price",children:"Price"}),s.jsx(we,{id:"price",name:"price",type:"number",step:"0.01",value:o.price,onChange:_,className:c.price?"border-destructive":"",disabled:y}),c.price&&s.jsx("p",{className:"text-xs text-destructive",children:c.price})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"unit",children:"Unit (e.g., lb, bunch, each)"}),s.jsx(we,{id:"unit",name:"unit",value:o.unit,onChange:_,className:c.unit?"border-destructive":"",disabled:y}),c.unit&&s.jsx("p",{className:"text-xs text-destructive",children:c.unit})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"category_id",children:"Category"}),s.jsxs(Yt,{value:o.category_id,onValueChange:E=>N("category_id",E),disabled:y,children:[s.jsx(Ot,{className:c.category_id?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Select category"})}),s.jsx(Rt,{children:t.map(E=>s.jsx(Pe,{value:String(E.id),children:E.name},E.id))})]}),c.category_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.category_id})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"categories_ids",children:"Other Categories"}),s.jsx("select",{id:"categories_ids",name:"categories_ids",multiple:!0,value:o.categories_ids.map(String),onChange:P,className:"w-full border rounded p-2 min-h-[40px]",disabled:y,children:t.filter(E=>String(E.id)!==o.category_id).map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple categories."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(mr,{id:"description",name:"description",value:o.description,onChange:_,className:c.description?"border-destructive":"",disabled:y}),c.description&&s.jsx("p",{className:"text-xs text-destructive",children:c.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"in_stock",name:"in_stock",checked:o.in_stock,onCheckedChange:E=>N("in_stock",E),disabled:y}),s.jsx(le,{htmlFor:"in_stock",children:"In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"featured",name:"featured",checked:o.featured,onCheckedChange:E=>N("featured",E),disabled:y}),s.jsx(le,{htmlFor:"featured",children:"Featured Product"})]})]}),s.jsxs(Ji,{children:[s.jsx(J,{type:"button",variant:"outline",onClick:n,disabled:y,children:"Cancel"}),s.jsx(J,{type:"submit",disabled:y,children:y?"Saving...":e?"Save Changes":"Add Product"})]})]})},qU=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState([]),[a,c]=v.useState(!0),[u,f]=v.useState(""),[h,m]=v.useState(!1),[p,x]=v.useState(null),[y,j]=v.useState(!1),w=v.useCallback(async()=>{c(!0);try{const{data:P,error:E}=await de.from("products").select("*, categories(id, name)").order("name",{ascending:!0});if(E)throw E;r(P||[]);const{data:O,error:R}=await de.from("categories").select("*").order("name",{ascending:!0});if(R)throw R;o(O||[])}catch(P){console.error("Error fetching products or categories:",P),re({variant:"destructive",title:"Fetch Error",description:"Could not load products or categories."})}finally{c(!1)}},[]);v.useEffect(()=>{w()},[w]);const _=v.useMemo(()=>{let P=[...t];if(u){const E=u.toLowerCase();P=P.filter(O=>{var R,W;return O.name.toLowerCase().includes(E)||((R=O.description)==null?void 0:R.toLowerCase().includes(E))||((W=O.categories)==null?void 0:W.name.toLowerCase().includes(E))})}return P},[t,u]),N=async P=>{c(!0);try{let E;if(p){const{data:O,error:R}=await de.from("products").update({...P,category_id:P.category_id,categories_ids:P.categories_ids||[],updated_at:new Date}).eq("id",p.id).select("*, categories(id, name)").single();if(R)throw R;E=O,re({title:"Product Updated",description:`${E.name} has been updated.`})}else{const{data:O,error:R}=await de.from("products").insert({...P,category_id:P.category_id,categories_ids:P.categories_ids||[]}).select("*, categories(id, name)").single();if(R)throw R;E=O,re({title:"Product Added",description:`${E.name} has been added.`})}w(),m(!1),x(null)}catch(E){console.error("Error saving product:",E),re({variant:"destructive",title:"Save Error",description:E.message})}finally{c(!1)}},C=P=>{const E=t.find(O=>O.id===P);E&&e("product",P,E.image_url)},k=v.useRef(null),A=async P=>{j(!0),k.current.click()},T=async P=>{const E=P.target.files[0];if(!E)return;if(E.type!=="text/csv"){console.error("Please upload a CSV file.");return}const O=new FileReader;O.onload=async R=>{const Z=R.target.result.split(`
`).filter(q=>q.trim()!=="");if(Z.length===0){console.warn("CSV file is empty.");return}const Q=Z.slice(1).map(q=>{const[I,B,F,z]=q.split(",");return{name:I?I.trim():"",price:B?parseFloat(B.trim()):0,description:F?F.trim():"",stock:z?parseInt(z.trim(),10):0}}).filter(q=>q.name);if(console.log("Parsed Products:",Q),Q.length===0){console.warn("No valid product data found in CSV.");return}try{const{data:q,error:I}=await de.from("products").insert(Q);I?console.error("Error inserting data into Supabase:",I):console.log("Bulk upload successful to Supabase:",q)}catch(q){console.error("Unexpected error during Supabase insert:",q)}},O.onerror=R=>{console.error("Error reading file:",R)},O.readAsText(E)};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Products Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search products...",className:"pl-8 w-full md:w-[200px]",value:u,onChange:P=>f(P.target.value)})]}),s.jsxs(Kr,{open:h,onOpenChange:P=>{m(P),P||x(null)},children:[s.jsx(ai,{asChild:!0,children:s.jsxs(J,{onClick:()=>x(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Product"]})}),s.jsxs($r,{className:"sm:max-w-[600px]",children:[s.jsx(Mr,{children:s.jsx(Ir,{children:p?"Edit Product":"Add New Product"})}),s.jsx(HU,{product:p,categories:n,onSubmit:N,onCancel:()=>m(!1)},p?p.id:"new")]})]}),s.jsx(J,{onClick:A,disabled:y,children:y?"Uploading...":"Upload CSV"}),s.jsx("input",{type:"file",ref:k,accept:".csv",onChange:T,style:{display:"none"}})]})]}),a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Mt,{children:[s.jsx(Ve,{className:"w-[80px]",children:"Image"}),s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Category"}),s.jsx(Ve,{children:"Price"}),s.jsx(Ve,{children:"Stock"}),s.jsx(Ve,{children:"Featured"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:_.length===0?s.jsx(Mt,{children:s.jsx(Ue,{colSpan:7,className:"h-24 text-center",children:"No products found."})}):_.map(P=>{var E;return s.jsxs(Mt,{children:[s.jsx(Ue,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:P.image_url?s.jsx("img",{src:P.image_url,alt:P.name,className:"object-cover w-full h-full"}):s.jsx(Id,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Ue,{className:"font-medium",children:P.name}),s.jsx(Ue,{children:((E=P.categories)==null?void 0:E.name)||"N/A"}),s.jsx(Ue,{children:Se(P.price)}),s.jsx(Ue,{children:s.jsx(ot,{variant:P.in_stock?"default":"destructive",className:`whitespace-nowrap ${P.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.in_stock?"In Stock":"Out"})}),s.jsx(Ue,{children:s.jsx(as,{checked:P.featured,disabled:!0,className:"cursor-default"})}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>{x(P),m(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(J,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>C(P.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},P.id)})})]})})]})},YU=({category:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({name:"",description:"",image_url:""}),[a,c]=v.useState({}),[u,f]=v.useState(null),[h,m]=v.useState(""),p=v.useRef(null),{isUploading:x,uploadFile:y,deleteFile:j}=mg();v.useEffect(()=>{e?(o({name:e.name||"",description:e.description||"",image_url:e.image_url||""}),m(e.image_url||"")):(o({name:"",description:"",image_url:""}),m(""),f(null))},[e]);const w=A=>{const{name:T,value:P}=A.target;o(E=>({...E,[T]:P})),a[T]&&c(E=>({...E,[T]:""}))},_=A=>{const T=A.target.files[0];if(T){f(T);const P=new FileReader;P.onloadend=()=>m(P.result),P.readAsDataURL(T),c(E=>({...E,image_url:""}))}},N=async()=>{let A=n.image_url||null;if(u){e&&e.image_url&&await j(e.image_url);const{url:T,error:P}=await y(u,"categories");if(P)return c(E=>({...E,image_url:"Image upload failed."})),null;A=T}return A},C=()=>{const A={};return n.name.trim()||(A.name="Name is required"),n.description.trim()||(A.description="Description is required"),c(A),Object.keys(A).length===0},k=async A=>{if(A.preventDefault(),!C()||x)return;const T=await N();if(u&&T===null){re({variant:"destructive",title:"Submission Failed",description:"Category could not be saved due to image upload error."});return}const P={name:n.name,description:n.description,image_url:T,updated_at:new Date};e!=null&&e.id&&(P.id=e.id),t(P)};return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"category-image",children:"Category Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:h?s.jsx("img",{src:h,alt:"Category Preview",className:"object-cover w-full h-full"}):s.jsx(Id,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(we,{id:"category-image",type:"file",accept:"image/*",onChange:_,ref:p,className:"hidden",disabled:x}),s.jsxs(J,{type:"button",variant:"outline",onClick:()=>{var A;return(A=p.current)==null?void 0:A.click()},disabled:x,children:[s.jsx(G_,{className:"w-4 h-4 mr-2"}),x?"Uploading...":u?"Change Image":"Upload Image"]})]}),a.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:a.image_url})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Category Name"}),s.jsx(we,{id:"name",name:"name",value:n.name,onChange:w,className:a.name?"border-destructive":"",disabled:x}),a.name&&s.jsx("p",{className:"text-xs text-destructive",children:a.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(mr,{id:"description",name:"description",value:n.description,onChange:w,className:a.description?"border-destructive":"",disabled:x}),a.description&&s.jsx("p",{className:"text-xs text-destructive",children:a.description})]}),s.jsxs(Ji,{children:[s.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:x,children:"Cancel"}),s.jsx(J,{type:"submit",disabled:x,children:x?"Saving...":e?"Save Changes":"Add Category"})]})]})},GU=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!0),[a,c]=v.useState(""),[u,f]=v.useState(!1),[h,m]=v.useState(null),p=v.useCallback(async()=>{o(!0);try{const{data:w,error:_}=await de.from("categories").select("*").order("name",{ascending:!0});if(_)throw _;r(w||[])}catch(w){console.error("Error fetching categories:",w),re({variant:"destructive",title:"Fetch Error",description:"Could not load categories."})}finally{o(!1)}},[]);v.useEffect(()=>{p()},[p]);const x=v.useMemo(()=>{let w=[...t];if(a){const _=a.toLowerCase();w=w.filter(N=>{var C;return N.name.toLowerCase().includes(_)||((C=N.description)==null?void 0:C.toLowerCase().includes(_))})}return w},[t,a]),y=async w=>{o(!0);try{let _;if(h){const{data:N,error:C}=await de.from("categories").update(w).eq("id",h.id).select().single();if(C)throw C;_=N,re({title:"Category Updated",description:`${_.name} has been updated.`})}else{const{data:N,error:C}=await de.from("categories").insert(w).select().single();if(C)throw C;_=N,re({title:"Category Added",description:`${_.name} has been added.`})}p(),f(!1),m(null)}catch(_){console.error("Error saving category:",_),re({variant:"destructive",title:"Save Error",description:_.message})}finally{o(!1)}},j=w=>{const _=t.find(N=>N.id===w);_&&e("category",w,_.image_url)};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Categories Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search categories...",className:"pl-8 w-full md:w-[200px]",value:a,onChange:w=>c(w.target.value)})]}),s.jsxs(Kr,{open:u,onOpenChange:w=>{f(w),w||m(null)},children:[s.jsx(ai,{asChild:!0,children:s.jsxs(J,{onClick:()=>m(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Category"]})}),s.jsxs($r,{className:"sm:max-w-[425px]",children:[s.jsx(Mr,{children:s.jsx(Ir,{children:h?"Edit Category":"Add New Category"})}),s.jsx(YU,{category:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Mt,{children:[s.jsx(Ve,{className:"w-[80px]",children:"Image"}),s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Description"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:x.length===0?s.jsx(Mt,{children:s.jsx(Ue,{colSpan:4,className:"h-24 text-center",children:"No categories found."})}):x.map(w=>s.jsxs(Mt,{children:[s.jsx(Ue,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:w.image_url?s.jsx("img",{src:w.image_url,alt:w.name,className:"object-cover w-full h-full"}):s.jsx(Id,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Ue,{className:"font-medium",children:w.name}),s.jsx(Ue,{className:"text-sm text-muted-foreground truncate max-w-xs",children:w.description}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>{m(w),f(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(J,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(w.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},w.id))})]})})]})},KU=()=>{const[e,t]=v.useState({express_fee:"",scheduled_fee:"",late_fee:"",timezone:"Australia/Adelaide",estimated_delivery_minutes:45}),[r,n]=v.useState(!0),[o,a]=v.useState(!1),[c,u]=v.useState({}),f=[{value:"Australia/Adelaide",label:"Adelaide (ACST/ACDT)"},{value:"Australia/Sydney",label:"Sydney (AEST/AEDT)"},{value:"Australia/Melbourne",label:"Melbourne (AEST/AEDT)"},{value:"Australia/Brisbane",label:"Brisbane (AEST)"},{value:"Australia/Perth",label:"Perth (AWST)"},{value:"Australia/Darwin",label:"Darwin (ACST)"}];v.useEffect(()=>{(async()=>{n(!0);try{const{data:j,error:w}=await de.from("delivery_settings").select("*").eq("id",1).single();if(w&&w.code!=="PGRST116")throw w;t(j?{express_fee:j.express_fee||"",scheduled_fee:j.scheduled_fee||"",late_fee:j.late_fee||"",timezone:j.timezone||"Australia/Adelaide",estimated_delivery_minutes:j.estimated_delivery_minutes||45}:{express_fee:"9.99",scheduled_fee:"5.99",late_fee:"7.99",timezone:"Australia/Adelaide",estimated_delivery_minutes:45})}catch(j){console.error("Error fetching delivery settings:",j),re({variant:"destructive",title:"Fetch Error",description:"Could not load delivery settings."})}finally{n(!1)}})()},[]);const h=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),c[j]&&u(_=>({..._,[j]:""}))},m=(y,j)=>{t(w=>({...w,[y]:j})),c[y]&&u(w=>({...w,[y]:""}))},p=()=>{const y={},j=(w,_)=>{(!w||isNaN(w)||parseFloat(w)<0)&&(y[_]="Valid non-negative fee is required")};return j(e.express_fee,"express_fee"),j(e.scheduled_fee,"scheduled_fee"),j(e.late_fee,"late_fee"),(!e.estimated_delivery_minutes||isNaN(e.estimated_delivery_minutes)||parseInt(e.estimated_delivery_minutes)<=0)&&(y.estimated_delivery_minutes="Valid delivery time is required"),u(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!(!p()||o)){a(!0);try{const j={id:1,express_fee:parseFloat(e.express_fee),scheduled_fee:parseFloat(e.scheduled_fee),late_fee:parseFloat(e.late_fee),timezone:e.timezone,estimated_delivery_minutes:parseInt(e.estimated_delivery_minutes),updated_at:new Date},{error:w}=await de.from("delivery_settings").upsert(j,{onConflict:"id"});if(w)throw w;re({title:"Settings Updated",description:"Delivery settings have been saved."})}catch(j){console.error("Error saving delivery settings:",j),re({variant:"destructive",title:"Save Error",description:j.message})}finally{a(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"express_fee",children:"Express Delivery Fee ($)"}),s.jsx(we,{id:"express_fee",name:"express_fee",type:"number",step:"0.01",value:e.express_fee,onChange:h,className:c.express_fee?"border-destructive":"",disabled:o}),c.express_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.express_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"scheduled_fee",children:"Scheduled Delivery Fee ($)"}),s.jsx(we,{id:"scheduled_fee",name:"scheduled_fee",type:"number",step:"0.01",value:e.scheduled_fee,onChange:h,className:c.scheduled_fee?"border-destructive":"",disabled:o}),c.scheduled_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.scheduled_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"late_fee",children:"Late Delivery Fee ($)"}),s.jsx(we,{id:"late_fee",name:"late_fee",type:"number",step:"0.01",value:e.late_fee,onChange:h,className:c.late_fee?"border-destructive":"",disabled:o}),c.late_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.late_fee}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee applied for orders scheduled outside standard hours."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(Yt,{value:e.timezone,onValueChange:y=>m("timezone",y),disabled:o,children:[s.jsx(Ot,{className:c.timezone?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Select timezone"})}),s.jsx(Rt,{children:f.map(y=>s.jsx(Pe,{value:y.value,children:y.label},y.value))})]}),c.timezone&&s.jsx("p",{className:"text-xs text-destructive",children:c.timezone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"estimated_delivery_minutes",children:"Estimated Delivery Time (minutes)"}),s.jsx(we,{id:"estimated_delivery_minutes",name:"estimated_delivery_minutes",type:"number",min:"1",value:e.estimated_delivery_minutes,onChange:h,className:c.estimated_delivery_minutes?"border-destructive":"",disabled:o}),c.estimated_delivery_minutes&&s.jsx("p",{className:"text-xs text-destructive",children:c.estimated_delivery_minutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'This will be displayed on the homepage as "Delivering in: X minutes (approx.)"'})]}),s.jsx(J,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},XU=()=>{const[e,t]=v.useState({publishable_key:"",price_id:"",openai_key:""}),[r,n]=v.useState(!0),[o,a]=v.useState(!1),[c,u]=v.useState({});v.useEffect(()=>{(async()=>{n(!0);try{const[{data:x},{data:y}]=await Promise.all([de.from("stripe_settings").select("publishable_key, price_id").eq("id",1).single(),de.from("openai_settings").select("api_key").eq("id",1).single()]);t({publishable_key:(x==null?void 0:x.publishable_key)||"",price_id:(x==null?void 0:x.price_id)||"",openai_key:(y==null?void 0:y.api_key)||""})}catch(x){console.error("Error fetching settings:",x),re({variant:"destructive",title:"Fetch Error",description:"Could not load settings."})}finally{n(!1)}})()},[]);const f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),c[x]&&u(j=>({...j,[x]:""}))},h=()=>{const p={};return e.publishable_key.trim()?e.publishable_key.startsWith("pk_")||(p.publishable_key='Invalid Publishable Key format. Should start with "pk_".'):p.publishable_key="Stripe Publishable Key is required.",e.price_id.trim()?e.price_id.startsWith("price_")||(p.price_id='Invalid Price ID format. Should start with "price_".'):p.price_id="Stripe Price ID is required.",e.openai_key.trim()?e.openai_key.startsWith("sk-")||(p.openai_key='Invalid OpenAI API Key format. Should start with "sk-".'):p.openai_key="OpenAI API Key is required.",u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!(!h()||o)){a(!0);try{const[x,y]=await Promise.all([de.from("stripe_settings").upsert({id:1,publishable_key:e.publishable_key.trim(),price_id:e.price_id.trim(),updated_at:new Date},{onConflict:"id"}),de.from("openai_settings").upsert({id:1,api_key:e.openai_key.trim(),updated_at:new Date},{onConflict:"id"})]);if(x.error)throw x.error;if(y.error)throw y.error;re({title:"Settings Updated",description:"Your payment and AI settings have been saved."})}catch(x){console.error("Error saving settings:",x),re({variant:"destructive",title:"Save Error",description:x.message})}finally{a(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:m,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"publishable_key",children:"Stripe Publishable Key"}),s.jsx(we,{id:"publishable_key",name:"publishable_key",type:"text",value:e.publishable_key,onChange:f,placeholder:"pk_live_...",className:c.publishable_key?"border-destructive":"",disabled:o}),c.publishable_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.publishable_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in your Stripe Dashboard under Developers > API Keys."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"price_id",children:"Stripe Default Price ID"}),s.jsx(we,{id:"price_id",name:"price_id",type:"text",value:e.price_id,onChange:f,placeholder:"price_...",className:c.price_id?"border-destructive":"",disabled:o}),c.price_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.price_id}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The Price ID for your primary product/service in Stripe."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"openai_key",children:"OpenAI API Key"}),s.jsx(we,{id:"openai_key",name:"openai_key",type:"password",value:e.openai_key,onChange:f,placeholder:"sk-...",className:c.openai_key?"border-destructive":"",disabled:o}),c.openai_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.openai_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your OpenAI API key for the AI shopping assistant. Find this in your OpenAI dashboard."})]}),s.jsx(J,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},JU=()=>s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Settings"}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(KU,{})})]}),s.jsx(ql,{}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Stripe Payment Gateway"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure your Stripe account to enable online payments."}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(XU,{})})]})]}),QU=({store:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({name:"",address:"",phone:"",opening_time:"09:00",closing_time:"21:00"}),[a,c]=v.useState({}),[u,f]=v.useState(!1);v.useEffect(()=>{var x,y;e&&o({name:e.name||"",address:e.address||"",phone:e.phone||"",opening_time:((x=e.opening_time)==null?void 0:x.slice(0,5))||"09:00",closing_time:((y=e.closing_time)==null?void 0:y.slice(0,5))||"21:00"})},[e]);const h=x=>{const{name:y,value:j}=x.target;o(w=>({...w,[y]:j})),a[y]&&c(w=>({...w,[y]:""}))},m=()=>{const x={};return n.name.trim()||(x.name="Name is required"),n.address.trim()||(x.address="Address is required"),n.phone.trim()||(x.phone="Phone number is required"),n.opening_time||(x.opening_time="Opening time is required"),n.closing_time||(x.closing_time="Closing time is required"),c(x),Object.keys(x).length===0},p=async x=>{x.preventDefault(),!(!m()||u)&&(f(!0),await t(n),f(!1))};return s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Store Name"}),s.jsx(we,{id:"name",name:"name",value:n.name,onChange:h,className:a.name?"border-destructive":"",disabled:u}),a.name&&s.jsx("p",{className:"text-xs text-destructive",children:a.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"address",children:"Address"}),s.jsx(we,{id:"address",name:"address",value:n.address,onChange:h,className:a.address?"border-destructive":"",disabled:u}),a.address&&s.jsx("p",{className:"text-xs text-destructive",children:a.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(we,{id:"phone",name:"phone",value:n.phone,onChange:h,className:a.phone?"border-destructive":"",disabled:u}),a.phone&&s.jsx("p",{className:"text-xs text-destructive",children:a.phone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"opening_time",children:"Opening Time"}),s.jsx(we,{id:"opening_time",name:"opening_time",type:"time",value:n.opening_time,onChange:h,className:a.opening_time?"border-destructive":"",disabled:u}),a.opening_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.opening_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"closing_time",children:"Closing Time"}),s.jsx(we,{id:"closing_time",name:"closing_time",type:"time",value:n.closing_time,onChange:h,className:a.closing_time?"border-destructive":"",disabled:u}),a.closing_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.closing_time})]})]}),s.jsxs(Ji,{children:[s.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(J,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Store":"Add Store"})]})]})},ZU=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,a]=v.useState(""),[c,u]=v.useState(!1),[f,h]=v.useState(null),[m,p]=v.useState([]),[x,y]=v.useState(null),[j,w]=v.useState(!1),[_,N]=v.useState(""),C=async()=>{try{const{data:O,error:R}=await de.from("stores").select("*").order("name");if(R)throw R;t(O||[])}catch(O){console.error("Error fetching stores:",O),re({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{n(!1)}};v.useEffect(()=>{C()},[]);const k=async O=>{try{if(f){const{error:R}=await de.from("stores").update(O).eq("id",f.id);if(R)throw R;re({title:"Store Updated",description:`${O.name} has been updated.`})}else{const{error:R}=await de.from("stores").insert(O);if(R)throw R;re({title:"Store Added",description:`${O.name} has been added.`})}u(!1),h(null),C()}catch(R){console.error("Error saving store:",R),re({variant:"destructive",title:"Error",description:"Could not save store."})}},A=async O=>{if(window.confirm("Are you sure you want to delete this store?"))try{const{error:R}=await de.from("stores").delete().eq("id",O);if(R)throw R;re({title:"Store Deleted",description:"Store has been removed."}),C()}catch(R){console.error("Error deleting store:",R),re({variant:"destructive",title:"Error",description:"Could not delete store."})}},T=e.filter(O=>O.name.toLowerCase().includes(o.toLowerCase())||O.address.toLowerCase().includes(o.toLowerCase())),P=O=>{y(O),p(Array.isArray(O.store_suggested_items)?O.store_suggested_items:[]),N((Array.isArray(O.store_suggested_items)?O.store_suggested_items:[]).map(R=>R.name+(R.qty?`:${R.qty}`:"")).join(`
`)),w(!0)},E=async()=>{const O=_.split(`
`).map(R=>{const[W,Z]=R.split(":");return W?{name:W.trim(),qty:Z?parseInt(Z,10):1}:null}).filter(Boolean);try{const{error:R}=await de.from("stores").update({store_suggested_items:O}).eq("id",x.id);if(R)throw R;re({title:"Suggested Items Updated",description:`Suggested items updated for ${x.name}.`}),w(!1),y(null),C()}catch{re({variant:"destructive",title:"Error",description:"Could not update suggested items."})}};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Store Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search stores...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:O=>a(O.target.value)})]}),s.jsxs(Kr,{open:c,onOpenChange:u,children:[s.jsx(ai,{asChild:!0,children:s.jsxs(J,{onClick:()=>h(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Store"]})}),s.jsxs($r,{className:"sm:max-w-[425px]",children:[s.jsx(Mr,{children:s.jsx(Ir,{children:f?"Edit Store":"Add New Store"})}),s.jsx(QU,{store:f,onSubmit:k,onCancel:()=>u(!1)})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Mt,{children:[s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Address"}),s.jsx(Ve,{children:"Phone"}),s.jsx(Ve,{children:"Hours"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:T.length===0?s.jsx(Mt,{children:s.jsx(Ue,{colSpan:5,className:"h-24 text-center",children:"No stores found."})}):T.map(O=>s.jsxs(Mt,{children:[s.jsx(Ue,{className:"font-medium",children:O.name}),s.jsx(Ue,{children:O.address}),s.jsx(Ue,{children:O.phone}),s.jsxs(Ue,{children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(hn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[O.opening_time.slice(0,5)," - ",O.closing_time.slice(0,5)]})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("ul",{className:"list-disc ml-5 text-xs text-muted-foreground",children:Array.isArray(O.store_suggested_items)&&O.store_suggested_items.length>0?O.store_suggested_items.map((R,W)=>s.jsxs("li",{children:[R.name,R.qty?` (Qty: ${R.qty})`:""]},W)):s.jsx("li",{className:"italic text-muted-foreground",children:"None"})}),s.jsx(J,{size:"xs",variant:"outline",className:"mt-1",onClick:()=>P(O),children:"Edit Suggested Items"})]})]}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>{h(O),u(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(J,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>A(O.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},O.id))})]})}),s.jsx(Kr,{open:j,onOpenChange:w,children:s.jsxs($r,{className:"max-w-md",children:[s.jsx(Mr,{children:s.jsx(Ir,{children:"Edit Suggested Items"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(le,{children:["Enter one item per line. Use ",s.jsx("code",{children:"Item Name:Qty"})," for quantity (default 1)."]}),s.jsx(mr,{value:_,onChange:O=>N(O.target.value),rows:6,placeholder:`Milk:2
Bread
Eggs:12`}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx(J,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(J,{onClick:E,children:"Save"})]})]})]})})]})},eB=({promoCode:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0}),[a,c]=v.useState({}),[u,f]=v.useState(!1);v.useEffect(()=>{var j,w,_;o(e?{code:e.code||"",description:e.description||"",discount_type:e.discount_type||"percentage",discount_value:((j=e.discount_value)==null?void 0:j.toString())||"",minimum_order_amount:((w=e.minimum_order_amount)==null?void 0:w.toString())||"",max_uses:((_=e.max_uses)==null?void 0:_.toString())||"",valid_from:e.valid_from?new Date(e.valid_from):new Date,valid_until:e.valid_until?new Date(e.valid_until):null,is_active:e.is_active!==void 0?e.is_active:!0}:{code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0})},[e]);const h=j=>{const{name:w,value:_}=j.target;o(N=>({...N,[w]:_})),a[w]&&c(N=>({...N,[w]:""}))},m=(j,w)=>{o(_=>({..._,[j]:w})),a[j]&&c(_=>({..._,[j]:""}))},p=(j,w)=>{o(_=>({..._,[j]:w})),a[j]&&c(_=>({..._,[j]:""}))},x=()=>{const j={};if(n.code.trim()?n.code.length<3&&(j.code="Promo code must be at least 3 characters"):j.code="Promo code is required",n.description.trim()||(j.description="Description is required"),!n.discount_value||isNaN(n.discount_value)||parseFloat(n.discount_value)<=0)j.discount_value="Valid discount value is required";else{const w=parseFloat(n.discount_value);n.discount_type==="percentage"&&w>100&&(j.discount_value="Percentage discount cannot exceed 100%")}return n.minimum_order_amount&&(isNaN(n.minimum_order_amount)||parseFloat(n.minimum_order_amount)<0)&&(j.minimum_order_amount="Minimum order amount must be a valid number"),n.max_uses&&(isNaN(n.max_uses)||parseInt(n.max_uses)<=0)&&(j.max_uses="Maximum uses must be a positive number"),n.valid_until&&n.valid_until<=n.valid_from&&(j.valid_until="End date must be after start date"),c(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!x()||u)return;f(!0);const w={code:n.code.toUpperCase().trim(),description:n.description.trim(),discount_type:n.discount_type,discount_value:parseFloat(n.discount_value),minimum_order_amount:n.minimum_order_amount?parseFloat(n.minimum_order_amount):0,max_uses:n.max_uses?parseInt(n.max_uses):null,valid_from:n.valid_from.toISOString(),valid_until:n.valid_until?n.valid_until.toISOString():null,is_active:n.is_active};await t(w),f(!1)};return s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"code",children:"Promo Code"}),s.jsx(we,{id:"code",name:"code",value:n.code,onChange:h,placeholder:"e.g., SAVE10",className:a.code?"border-destructive":"",disabled:u}),a.code&&s.jsx("p",{className:"text-xs text-destructive",children:a.code})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"discount_type",children:"Discount Type"}),s.jsxs(Yt,{value:n.discount_type,onValueChange:j=>m("discount_type",j),disabled:u,children:[s.jsx(Ot,{className:a.discount_type?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Select discount type"})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"percentage",children:"Percentage (%)"}),s.jsx(Pe,{value:"fixed",children:"Fixed Amount ($)"})]})]}),a.discount_type&&s.jsx("p",{className:"text-xs text-destructive",children:a.discount_type})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(mr,{id:"description",name:"description",value:n.description,onChange:h,placeholder:"Brief description of the promo code",className:a.description?"border-destructive":"",disabled:u,rows:2}),a.description&&s.jsx("p",{className:"text-xs text-destructive",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(le,{htmlFor:"discount_value",children:["Discount Value ",n.discount_type==="percentage"?"(%)":"($)"]}),s.jsx(we,{id:"discount_value",name:"discount_value",type:"number",step:n.discount_type==="percentage"?"0.1":"0.01",min:"0",max:n.discount_type==="percentage"?"100":void 0,value:n.discount_value,onChange:h,placeholder:n.discount_type==="percentage"?"10":"5.00",className:a.discount_value?"border-destructive":"",disabled:u}),a.discount_value&&s.jsx("p",{className:"text-xs text-destructive",children:a.discount_value})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"minimum_order_amount",children:"Minimum Order Amount ($)"}),s.jsx(we,{id:"minimum_order_amount",name:"minimum_order_amount",type:"number",step:"0.01",min:"0",value:n.minimum_order_amount,onChange:h,placeholder:"0.00",className:a.minimum_order_amount?"border-destructive":"",disabled:u}),a.minimum_order_amount&&s.jsx("p",{className:"text-xs text-destructive",children:a.minimum_order_amount})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"max_uses",children:"Maximum Uses (Optional)"}),s.jsx(we,{id:"max_uses",name:"max_uses",type:"number",min:"1",value:n.max_uses,onChange:h,placeholder:"Leave empty for unlimited uses",className:a.max_uses?"border-destructive":"",disabled:u}),a.max_uses&&s.jsx("p",{className:"text-xs text-destructive",children:a.max_uses})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Valid From"}),s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(J,{variant:"outline",className:Te("w-full justify-start text-left font-normal",!n.valid_from&&"text-muted-foreground",a.valid_from&&"border-destructive"),disabled:u,children:[s.jsx(fn,{className:"mr-2 h-4 w-4"}),n.valid_from?$t(n.valid_from,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ga,{className:"w-auto p-0",children:s.jsx(pa,{mode:"single",selected:n.valid_from,onSelect:j=>p("valid_from",j),initialFocus:!0})})]}),a.valid_from&&s.jsx("p",{className:"text-xs text-destructive",children:a.valid_from})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Valid Until (Optional)"}),s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(J,{variant:"outline",className:Te("w-full justify-start text-left font-normal",!n.valid_until&&"text-muted-foreground",a.valid_until&&"border-destructive"),disabled:u,children:[s.jsx(fn,{className:"mr-2 h-4 w-4"}),n.valid_until?$t(n.valid_until,"PPP"):s.jsx("span",{children:"No expiry"})]})}),s.jsx(ga,{className:"w-auto p-0",children:s.jsx(pa,{mode:"single",selected:n.valid_until,onSelect:j=>p("valid_until",j),disabled:j=>j<n.valid_from,initialFocus:!0})})]}),a.valid_until&&s.jsx("p",{className:"text-xs text-destructive",children:a.valid_until})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"is_active",checked:n.is_active,onCheckedChange:j=>m("is_active",j),disabled:u}),s.jsx(le,{htmlFor:"is_active",children:"Active"})]}),s.jsxs(Ji,{children:[s.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(J,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Promo Code":"Create Promo Code"})]})]})},tB=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!0),[a,c]=v.useState(""),[u,f]=v.useState(!1),[h,m]=v.useState(null),p=v.useCallback(async()=>{o(!0);try{const{data:N,error:C}=await de.from("promo_codes").select("*").order("created_at",{ascending:!1});if(C)throw C;r(N||[])}catch(N){console.error("Error fetching promo codes:",N),re({variant:"destructive",title:"Fetch Error",description:"Could not load promo codes."})}finally{o(!1)}},[]);v.useEffect(()=>{p()},[p]);const x=t.filter(N=>{var C;return N.code.toLowerCase().includes(a.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(a.toLowerCase()))}),y=async N=>{o(!0);try{let C;if(h){const{data:k,error:A}=await de.from("promo_codes").update({...N,updated_at:new Date}).eq("id",h.id).select().single();if(A)throw A;C=k,re({title:"Promo Code Updated",description:`${C.code} has been updated.`})}else{const{data:k,error:A}=await de.from("promo_codes").insert(N).select().single();if(A)throw A;C=k,re({title:"Promo Code Created",description:`${C.code} has been created.`})}p(),f(!1),m(null)}catch(C){console.error("Error saving promo code:",C),re({variant:"destructive",title:"Save Error",description:C.message})}finally{o(!1)}},j=N=>{t.find(k=>k.id===N)&&e("promo_code",N)},w=N=>{const C=new Date,k=new Date(N.valid_from),A=N.valid_until?new Date(N.valid_until):null;return N.is_active?C<k?s.jsx(ot,{variant:"secondary",children:"Scheduled"}):A&&C>A?s.jsx(ot,{variant:"destructive",children:"Expired"}):N.max_uses&&N.current_uses>=N.max_uses?s.jsx(ot,{variant:"destructive",children:"Limit Reached"}):s.jsx(ot,{variant:"default",children:"Active"}):s.jsx(ot,{variant:"destructive",children:"Inactive"})},_=N=>N.discount_type==="percentage"?`${N.discount_value}%`:Se(N.discount_value);return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Promo Codes Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search promo codes...",className:"pl-8 w-full md:w-[200px]",value:a,onChange:N=>c(N.target.value)})]}),s.jsxs(Kr,{open:u,onOpenChange:N=>{f(N),N||m(null)},children:[s.jsx(ai,{asChild:!0,children:s.jsxs(J,{onClick:()=>m(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Promo Code"]})}),s.jsxs($r,{className:"sm:max-w-[500px]",children:[s.jsx(Mr,{children:s.jsx(Ir,{children:h?"Edit Promo Code":"Add New Promo Code"})}),s.jsx(eB,{promoCode:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Mt,{children:[s.jsx(Ve,{children:"Code"}),s.jsx(Ve,{children:"Description"}),s.jsx(Ve,{children:"Discount"}),s.jsx(Ve,{children:"Min. Order"}),s.jsx(Ve,{children:"Usage"}),s.jsx(Ve,{children:"Valid Until"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:x.length===0?s.jsx(Mt,{children:s.jsx(Ue,{colSpan:8,className:"h-24 text-center",children:"No promo codes found."})}):x.map(N=>s.jsxs(Mt,{children:[s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jv,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-mono font-medium",children:N.code})]})}),s.jsx(Ue,{className:"max-w-xs truncate",children:N.description}),s.jsxs(Ue,{children:[s.jsx("span",{className:"font-medium",children:_(N)}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:N.discount_type==="percentage"?"off":"discount"})]}),s.jsx(Ue,{children:N.minimum_order_amount>0?Se(N.minimum_order_amount):"None"}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(_v,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[N.current_uses||0,N.max_uses?` / ${N.max_uses}`:""]})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(fn,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:N.valid_until?$t(new Date(N.valid_until),"MMM d, yyyy"):"No expiry"})]})}),s.jsx(Ue,{children:w(N)}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>{m(N),f(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(J,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(N.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},N.id))})]})})]})},rB=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,a]=v.useState(""),[c,u]=v.useState("processing"),[f,h]=v.useState(null),[m,p]=v.useState(!1),[x,y]=v.useState(""),[j,w]=v.useState(""),[_,N]=v.useState(!1),[C,k]=v.useState(0),A=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},T=async()=>{try{const{data:I,error:B}=await de.from("pickup_orders").select(`
          *,
          profiles:user_id (name, phone),
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("status",c).order("created_at",{ascending:!1});if(B)throw B;const F=(I==null?void 0:I.length)||0;c==="pending"&&F>C&&C>0&&(A(),re({title:"New pickup order!",description:"A new pickup order has been received."})),k(F),t(I||[])}catch(I){console.error("Error fetching pickup orders:",I),re({variant:"destructive",title:"Error",description:"Could not load pickup orders."})}finally{n(!1)}};v.useEffect(()=>{T();const I=setInterval(T,6e4);return()=>clearInterval(I)},[c]);const P=async(I,B)=>{try{const{error:F}=await de.from("pickup_orders").update({status:B}).eq("id",I);if(F)throw F;re({title:"Status Updated",description:`Order status changed to ${B}`}),T()}catch(F){console.error("Error updating order status:",F),re({variant:"destructive",title:"Error",description:"Could not update order status."})}},E=async(I,B)=>{try{const{error:F}=await de.from("pickup_order_stores").update({status:B}).eq("id",I);if(F)throw F;if(re({title:"Store Status Updated",description:`Store order status changed to ${B}`}),T(),f){const z=e.find(L=>L.id===f.id);h(z)}}catch(F){console.error("Error updating store order status:",F),re({variant:"destructive",title:"Error",description:"Could not update store order status."})}},O=async()=>{if(!(!j||!f)){N(!0);try{const B=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/confirm-pickup-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({orderId:f.id,actualAmount:parseFloat(j)})})).json();if(B.error)throw new Error(B.error);const{error:F}=await de.from("pickup_orders").update({actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"}).eq("id",f.id);if(F)throw F;re({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Se(parseFloat(j))}`}),w(""),T(),h({...f,actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"})}catch(I){console.error("Error confirming payment:",I),re({variant:"destructive",title:"Error",description:"Could not confirm payment: "+I.message})}finally{N(!1)}}},R=async()=>{if(!(!x.trim()||!f))try{const I=f.admin_messages||[],B={from:"admin",message:x,timestamp:new Date().toISOString()},{error:F}=await de.from("pickup_orders").update({admin_messages:[...I,B]}).eq("id",f.id);if(F)throw F;re({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),T(),h({...f,admin_messages:[...I,B]})}catch(I){console.error("Error sending message:",I),re({variant:"destructive",title:"Error",description:"Could not send message."})}},W=I=>{const B=I.replace(/\D/g,"");window.open(`https://wa.me/${B}`,"_blank")},Z=e.filter(I=>{var F,z,L,H;return((z=(F=I.profiles)==null?void 0:F.name)==null?void 0:z.toLowerCase().includes(o.toLowerCase()))||((L=I.whatsapp_number)==null?void 0:L.includes(o))||((H=I.phone_number)==null?void 0:H.includes(o))||I.id.toLowerCase().includes(o.toLowerCase())}),Q=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Multi-Store Pickup Orders"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:I=>a(I.target.value)})]}),s.jsxs(Yt,{value:c,onValueChange:u,children:[s.jsx(Ot,{className:"w-full md:w-[180px]",children:s.jsx(Gt,{placeholder:"Filter by status"})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"pending",children:"Pending"}),s.jsx(Pe,{value:"confirmed",children:"Confirmed"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"ready",children:"Ready"}),s.jsx(Pe,{value:"completed",children:"Completed"}),s.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Mt,{children:[s.jsx(Ve,{children:"Order ID"}),s.jsx(Ve,{children:"Customer"}),s.jsx(Ve,{children:"Stores"}),s.jsx(Ve,{children:"Date & Time"}),s.jsx(Ve,{children:"Contact"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{children:"Payment"}),s.jsx(Ve,{children:"Total"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:Z.length===0?s.jsx(Mt,{children:s.jsx(Ue,{colSpan:9,className:"h-24 text-center",children:"No orders found."})}):Z.map(I=>{var B,F,z,L,H,ee,$,K,ne,ce,se;return s.jsxs(Mt,{children:[s.jsxs(Ue,{className:"font-medium",children:[I.id.slice(0,6),"..."]}),s.jsx(Ue,{children:((B=I.profiles)==null?void 0:B.name)||"N/A"}),s.jsx(Ue,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(F=I.pickup_order_stores)==null?void 0:F.map((ie,te)=>{var fe;return s.jsx(ot,{variant:"outline",className:"text-xs",children:(fe=ie.stores)==null?void 0:fe.name},te)})})}),s.jsx(Ue,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fn,{className:"w-3 h-3 mr-1"}),I.pickup_date?$t(new Date(I.pickup_date),"MMM d"):"N/A"]}),s.jsx("div",{className:"text-muted-foreground",children:I.time_slot})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-1",children:[I.whatsapp_number&&s.jsxs(J,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>W(I.whatsapp_number),children:[s.jsx(Ld,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),I.phone_number&&s.jsxs(J,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>window.open(`tel:${I.phone_number}`),children:[s.jsx(Fd,{className:"w-3 h-3 mr-1"}),"Call"]})]})}),s.jsx(Ue,{children:s.jsxs(Yt,{value:I.status,onValueChange:ie=>P(I.id,ie),children:[s.jsx(Ot,{className:"w-[130px]",children:s.jsx(Gt,{})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"pending",children:"Pending"}),s.jsx(Pe,{value:"confirmed",children:"Confirmed"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"ready",children:"Ready"}),s.jsx(Pe,{value:"completed",children:"Completed"}),s.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})}),s.jsx(Ue,{children:s.jsx(ot,{className:q(I.payment_status),children:I.payment_status})}),s.jsx(Ue,{children:I.actual_total?Se(I.actual_total):Se(I.estimated_total||0)}),s.jsx(Ue,{className:"text-right",children:s.jsxs(Kr,{open:m,onOpenChange:p,children:[s.jsx(ai,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm",onClick:()=>h(I),children:s.jsx(K_,{className:"w-4 h-4"})})}),s.jsxs($r,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Mr,{children:s.jsxs(Ir,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6),"..."]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",(z=f.profiles)==null?void 0:z.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"WhatsApp:"})," ",f.whatsapp_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.phone_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.delivery_address]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Postcode:"})," ",f.postcode]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"})," ",f.notes]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",f.pickup_date?$t(new Date(f.pickup_date),"PPP"):"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Time Slot:"})," ",f.time_slot]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Status:"}),s.jsx(ot,{className:`ml-2 ${Q(f.status)}`,children:f.status})]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Payment:"}),s.jsx(ot,{className:`ml-2 ${q(f.payment_status)}`,children:f.payment_status})]}),((L=f.fees_data)==null?void 0:L.deliveryFee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee: "})," ",Se((H=f.fees_data)==null?void 0:H.deliveryFee)]}),((ee=f.fees_data)==null?void 0:ee.serviceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Service Fee (",($=f.fees_data)==null?void 0:$.service_fee_percent,"):"]})," ",Se(f.fees_data.serviceFee)]}),((K=f.fees_data)==null?void 0:K.convenienceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Convenience Fee (",(ne=f.fees_data)==null?void 0:ne.convenience_fee_percent,") :"]})," ",Se(f.fees_data.convenienceFee)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Total:"})," ",Se(f.estimated_total||0)]}),f.actual_total&&s.jsxs("p",{children:[s.jsx("strong",{children:"Actual Total:"})," ",Se(f.actual_total)]})]})]})]}),f.payment_status==="paid"&&!f.actual_total&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(ba,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(le,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(we,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:ie=>w(ie.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(J,{onClick:O,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Zo,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Store Orders"}),s.jsx("div",{className:"space-y-4",children:(ce=f.pickup_order_stores)==null?void 0:ce.map((ie,te)=>{var fe,pe;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:(fe=ie.stores)==null?void 0:fe.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(pe=ie.stores)==null?void 0:pe.address})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:Se(ie.estimated_total||0)}),s.jsxs(Yt,{value:ie.status,onValueChange:ue=>E(ie.id,ue),children:[s.jsx(Ot,{className:"w-[120px] mt-1",children:s.jsx(Gt,{})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"pending",children:"Pending"}),s.jsx(Pe,{value:"confirmed",children:"Confirmed"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"ready",children:"Ready"}),s.jsx(Pe,{value:"completed",children:"Completed"}),s.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})]})]}),ie.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Shopping List:"}),s.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded mt-1",children:ie.notes})]})]},te)})})]}),f.photos&&f.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Photos"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.photos.map((ie,te)=>s.jsx("img",{src:ie.data,alt:`Photo ${te+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(ie.data,"_blank")},te))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(se=f.admin_messages)==null?void 0:se.map((ie,te)=>s.jsxs("div",{className:`p-3 rounded text-sm ${ie.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:ie.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:$t(new Date(ie.timestamp),"MMM d, HH:mm")})]}),s.jsx("p",{children:ie.message})]},te))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(mr,{value:x,onChange:ie=>y(ie.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(J,{onClick:R,disabled:!x.trim(),children:"Send"})]})]})]})]})]})]})})]},I.id)})})]})})]})},nB=({timeSlot:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({dates:[cn()],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),[a,c]=v.useState({}),[u,f]=v.useState(!1),[h,m]=v.useState(!1),[p,x]=v.useState(_a);v.useEffect(()=>{(async()=>{try{const{data:P,error:E}=await de.from("delivery_settings").select("timezone").eq("id",1).single();!E&&(P!=null&&P.timezone)&&x(P.timezone)}catch(P){console.error("Error fetching timezone:",P)}})()},[]),v.useEffect(()=>{if(e){const T=new Date(e.date+"T12:00:00");o({dates:[T],start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),max_orders:e.max_orders,slot_type:e.slot_type,is_active:e.is_active}),m(!1)}else o({dates:[cn(p)],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),m(!1)},[e,p]);const y=(T,P)=>{o(E=>({...E,[T]:P})),a[T]&&c(E=>({...E,[T]:""}))},j=(T,P)=>{const E=[...n.dates];E[P]=T,o(O=>({...O,dates:E})),a.dates&&c(O=>({...O,dates:""}))},w=()=>{const T=n.dates[n.dates.length-1],P=Wt(T,1);o(E=>({...E,dates:[...E.dates,P]}))},_=T=>{if(n.dates.length>1){const P=n.dates.filter((E,O)=>O!==T);o(E=>({...E,dates:P}))}},N=()=>{const T=cn(p),P=[];for(let E=0;E<7;E++)P.push(Wt(T,E));o(E=>({...E,dates:P}))},C=()=>{const T={};if(!n.dates||n.dates.length===0)T.dates="At least one date is required";else{const P=cn(p),E=kt(P,p);for(const O of n.dates)if(kt(O,p)<E){T.dates="Dates cannot be in the past";break}}return n.start_time||(T.start_time="Start time is required"),n.end_time||(T.end_time="End time is required"),n.start_time&&n.end_time&&(cL(n.start_time,n.end_time)||(T.end_time="End time must be after start time")),(!n.max_orders||n.max_orders<1)&&(T.max_orders="Maximum orders must be at least 1"),n.slot_type||(T.slot_type="Slot type is required"),c(T),Object.keys(T).length===0},k=async T=>{if(T.preventDefault(),!(!C()||u)){f(!0);try{if(e){const P={date:kt(n.dates[0],p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(P)}else for(const P of n.dates){const E={date:kt(P,p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(E)}}catch(P){console.error("Error submitting time slots:",P)}finally{f(!1)}}},A=lL();return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[!e&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted/30 rounded-lg",children:[s.jsx(as,{id:"bulk_mode",checked:h,onCheckedChange:m}),s.jsx(le,{htmlFor:"bulk_mode",className:"text-sm",children:"Create slots for multiple dates"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(le,{children:["Date",n.dates.length>1?"s":""]}),n.dates.map((T,P)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(J,{type:"button",variant:"outline",className:Te("flex-1 justify-start text-left font-normal",!T&&"text-muted-foreground",a.dates&&"border-destructive"),disabled:u,children:[s.jsx(fn,{className:"mr-2 h-4 w-4"}),T?kt(T,p):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ga,{className:"w-auto p-0",children:s.jsx(pa,{mode:"single",selected:T,onSelect:E=>j(E,P),disabled:E=>{const O=cn(p),R=kt(O,p);return kt(E,p)<R},initialFocus:!0})})]}),!e&&n.dates.length>1&&s.jsx(J,{type:"button",variant:"outline",size:"icon",onClick:()=>_(P),disabled:u,children:s.jsx(ja,{className:"h-4 w-4"})})]},P)),!e&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(J,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:u,children:[s.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Add Date"]}),s.jsx(J,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:u,children:"Add Next 7 Days"})]}),a.dates&&s.jsx("p",{className:"text-xs text-destructive",children:a.dates}),n.dates.length>1&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.dates.map((T,P)=>s.jsx(ot,{variant:"secondary",className:"text-xs",children:kt(T,p)},P))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"start_time",children:"Start Time"}),s.jsxs(Yt,{value:n.start_time,onValueChange:T=>y("start_time",T),disabled:u,children:[s.jsx(Ot,{className:a.start_time?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Select start time"})}),s.jsx(Rt,{children:A.map(T=>s.jsx(Pe,{value:T.value,children:T.label},T.value))})]}),a.start_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.start_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"end_time",children:"End Time"}),s.jsxs(Yt,{value:n.end_time,onValueChange:T=>y("end_time",T),disabled:u,children:[s.jsx(Ot,{className:a.end_time?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Select end time"})}),s.jsx(Rt,{children:A.map(T=>s.jsx(Pe,{value:T.value,children:T.label},T.value))})]}),a.end_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.end_time})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"slot_type",children:"Slot Type"}),s.jsxs(Yt,{value:n.slot_type,onValueChange:T=>y("slot_type",T),disabled:u,children:[s.jsx(Ot,{className:a.slot_type?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Select slot type"})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"delivery",children:"Delivery"}),s.jsx(Pe,{value:"pickup",children:"Pickup"})]})]}),a.slot_type&&s.jsx("p",{className:"text-xs text-destructive",children:a.slot_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"max_orders",children:"Maximum Orders"}),s.jsx(we,{id:"max_orders",type:"number",min:"1",value:n.max_orders,onChange:T=>y("max_orders",T.target.value),className:a.max_orders?"border-destructive":"",disabled:u}),a.max_orders&&s.jsx("p",{className:"text-xs text-destructive",children:a.max_orders})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"is_active",checked:n.is_active,onCheckedChange:T=>y("is_active",T),disabled:u}),s.jsx(le,{htmlFor:"is_active",children:"Active (available for booking)"})]}),s.jsxs(Ji,{children:[s.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(J,{type:"submit",disabled:u,children:u?"Creating...":e?"Update Time Slot":`Create ${n.dates.length} Time Slot${n.dates.length>1?"s":""}`})]})]})},sB=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!0),[a,c]=v.useState(""),[u,f]=v.useState("all"),[h,m]=v.useState("all"),[p,x]=v.useState(!1),[y,j]=v.useState(null),w=v.useCallback(async()=>{o(!0);try{let P=de.from("time_slots").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});u!=="all"&&(P=P.eq("slot_type",u)),h==="today"?P=P.eq("date",new Date().toISOString().split("T")[0]):h==="upcoming"&&(P=P.gte("date",new Date().toISOString().split("T")[0]));const{data:E,error:O}=await P;if(O)throw O;r(E||[])}catch(P){console.error("Error fetching time slots:",P),re({variant:"destructive",title:"Fetch Error",description:"Could not load time slots."})}finally{o(!1)}},[u,h]);v.useEffect(()=>{w()},[w]);const _=t.filter(P=>{if(!a)return!0;const E=a.toLowerCase();return P.slot_type.toLowerCase().includes(E)||$t(new Date(P.date),"PPP").toLowerCase().includes(E)||N(P.start_time).toLowerCase().includes(E)||N(P.end_time).toLowerCase().includes(E)}),N=P=>{const[E,O]=P.split(":"),R=parseInt(E,10),W=R>=12?"PM":"AM";return`${R%12||12}:${O} ${W}`},C=async P=>{o(!0);try{let E;if(y){const{data:O,error:R}=await de.from("time_slots").update({...P,updated_at:new Date}).eq("id",y.id).select().single();if(R)throw R;E=O,re({title:"Time Slot Updated",description:"Time slot has been updated successfully."})}else{const{data:O,error:R}=await de.from("time_slots").insert(P).select().single();if(R)throw R;E=O,re({title:"Time Slot Created",description:"Time slot has been created successfully."})}w(),x(!1),j(null)}catch(E){console.error("Error saving time slot:",E),re({variant:"destructive",title:"Save Error",description:E.message})}finally{o(!1)}},k=P=>{t.find(O=>O.id===P)&&e("time_slot",P)},A=P=>{const E=new Date,O=new Date(P.date),R=O.toDateString()===E.toDateString(),W=O<E&&!R,Z=P.current_orders>=P.max_orders;return W?s.jsx(ot,{variant:"secondary",children:"Past"}):P.is_active?Z?s.jsx(ot,{variant:"destructive",children:"Full"}):R?s.jsx(ot,{variant:"default",children:"Today"}):s.jsx(ot,{variant:"outline",children:"Available"}):s.jsx(ot,{variant:"destructive",children:"Inactive"})},T=P=>{const E=P.current_orders/P.max_orders*100;return E>=100?"text-red-600":E>=80?"text-orange-600":E>=60?"text-yellow-600":"text-green-600"};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Time Slots Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search slots...",className:"pl-8 w-full md:w-[200px]",value:a,onChange:P=>c(P.target.value)})]}),s.jsxs(Yt,{value:u,onValueChange:f,children:[s.jsx(Ot,{className:"w-full md:w-[140px]",children:s.jsx(Gt,{placeholder:"Filter by type"})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"all",children:"All Types"}),s.jsx(Pe,{value:"delivery",children:"Delivery"}),s.jsx(Pe,{value:"pickup",children:"Pickup"})]})]}),s.jsxs(Yt,{value:h,onValueChange:m,children:[s.jsx(Ot,{className:"w-full md:w-[140px]",children:s.jsx(Gt,{placeholder:"Filter by date"})}),s.jsxs(Rt,{children:[s.jsx(Pe,{value:"all",children:"All Dates"}),s.jsx(Pe,{value:"today",children:"Today"}),s.jsx(Pe,{value:"upcoming",children:"Upcoming"})]})]}),s.jsxs(Kr,{open:p,onOpenChange:P=>{x(P),P||j(null)},children:[s.jsx(ai,{asChild:!0,children:s.jsxs(J,{onClick:()=>j(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Time Slot"]})}),s.jsxs($r,{className:"sm:max-w-[500px]",children:[s.jsx(Mr,{children:s.jsx(Ir,{children:y?"Edit Time Slot":"Add New Time Slot"})}),s.jsx(nB,{timeSlot:y,onSubmit:C,onCancel:()=>x(!1)},y?y.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Mt,{children:[s.jsx(Ve,{children:"Date"}),s.jsx(Ve,{children:"Time"}),s.jsx(Ve,{children:"Type"}),s.jsx(Ve,{children:"Capacity"}),s.jsx(Ve,{children:"Availability"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:_.length===0?s.jsx(Mt,{children:s.jsx(Ue,{colSpan:7,className:"h-24 text-center",children:"No time slots found."})}):_.map(P=>s.jsxs(Mt,{children:[s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fn,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:$t(new Date(P.date),"MMM d, yyyy")})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[N(P.start_time)," - ",N(P.end_time)]})]})}),s.jsx(Ue,{children:s.jsx(ot,{variant:P.slot_type==="delivery"?"default":"secondary",children:P.slot_type.charAt(0).toUpperCase()+P.slot_type.slice(1)})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_v,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[P.max_orders," orders"]})]})}),s.jsx(Ue,{children:s.jsxs("span",{className:T(P),children:[P.current_orders," / ",P.max_orders]})}),s.jsx(Ue,{children:A(P)}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>{j(P),x(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(J,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>k(P.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},P.id))})]})})]})},iB=({isOpen:e,onOpenChange:t,itemType:r,onConfirm:n,isDeleting:o})=>s.jsx(Kr,{open:e,onOpenChange:t,children:s.jsxs($r,{children:[s.jsxs(Mr,{children:[s.jsx(Ir,{children:"Confirm Deletion"}),s.jsxs(Hd,{children:["Are you sure you want to delete this ",r,"? This action cannot be undone. Associated images will also be removed."]})]}),s.jsxs(Ji,{children:[s.jsx(J,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),s.jsx(J,{variant:"destructive",onClick:n,disabled:o,children:o?"Deleting...":"Delete"})]})]})}),oB=()=>{const{isAdmin:e,loading:t,user:r}=Jt(),n=Xt();return v.useEffect(()=>{t||(r?e||(re({variant:"destructive",title:"Access Denied",description:"You must be an admin to view this page."}),n("/admin-login")):(re({variant:"destructive",title:"Authentication Required",description:"Please log in to access this page."}),n("/admin-login")))},[e,t,r,n]),{authLoading:t,isAdmin:e}},aB=e=>{const[t,r]=v.useState(!1),[n,o]=v.useState(null),[a,c]=v.useState(!1),{deleteFile:u}=mg(),f=v.useCallback((m,p,x=null)=>{o({type:m,id:p,imageUrl:x}),r(!0)},[]);return{isDeleteDialogOpen:t,itemToDelete:n,isDeleting:a,openDeleteDialog:f,confirmDelete:async()=>{if(n){c(!0);try{let m="",p=n.type;if(n.type==="product")m="products";else if(n.type==="category"){m="categories";const{data:j,error:w}=await de.from("products").select("id").eq("category_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete category as it is assigned to products.")}else if(n.type==="time_slot"){m="time_slots";const{data:j,error:w}=await de.from("orders").select("id").eq("timeslot_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete time slot as it has associated orders.");const{data:_,error:N}=await de.from("pickup_orders").select("id").eq("timeslot_id",n.id).limit(1);if(N)throw N;if(_&&_.length>0)throw new Error("Cannot delete time slot as it has associated pickup orders.")}else throw new Error("Invalid item type for deletion");const{error:x}=await de.from(m).delete().eq("id",n.id);if(x)throw x;if(n.imageUrl){const{error:j}=await u(n.imageUrl);j&&console.warn("Failed to delete associated image:",j)}re({title:`${p.charAt(0).toUpperCase()+p.slice(1)} Deleted`});const y=e(j=>j);e(""),setTimeout(()=>e(y),0)}catch(m){console.error(`Error deleting ${n.type}:`,m),re({variant:"destructive",title:"Deletion Failed",description:m.message})}finally{c(!1),r(!1),o(null)}}},setIsDeleteDialogOpen:r}},lB=()=>s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage orders, products, categories, and settings for Groceroo."})]}),cB=()=>{const{authLoading:e,isAdmin:t}=oB(),{getOrdersByStatus:r}=yv(),[n,o]=v.useState("orders"),{isDeleteDialogOpen:a,itemToDelete:c,isDeleting:u,openDeleteDialog:f,confirmDelete:h,setIsDeleteDialogOpen:m}=aB(o),p=r("pending").length,x=r("processing").length,y=r("delivered").length;if(e)return s.jsx("div",{className:"container flex items-center justify-center h-screen",children:s.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return null;const j=[{value:"orders",label:"Orders",icon:Gr,component:s.jsx(VU,{})},{value:"pickup-orders",label:"Store Pickups",icon:Q_,component:s.jsx(rB,{})},{value:"products",label:"Products",icon:b$,component:s.jsx(qU,{openDeleteDialog:f},"products")},{value:"categories",label:"Categories",icon:jv,component:s.jsx(GU,{openDeleteDialog:f},"categories")},{value:"stores",label:"Stores",icon:oi,component:s.jsx(ZU,{})},{value:"time-slots",label:"Time Slots",icon:hn,component:s.jsx(sB,{openDeleteDialog:f},"time-slots")},{value:"promo-codes",label:"Promo Codes",icon:hn,component:s.jsx(tB,{openDeleteDialog:f},"promo-codes")},{value:"settings",label:"Settings",icon:F$,component:s.jsx(JU,{})}];return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx(lB,{}),s.jsx(BU,{pendingCount:p,processingCount:x,deliveredCount:y}),s.jsxs(hg,{value:n,onValueChange:o,className:"mt-8 space-y-6",children:[s.jsx(df,{className:"grid w-full grid-cols-7 md:w-auto md:inline-flex",children:j.map(w=>s.jsxs(Ii,{value:w.value,className:"flex items-center",children:[s.jsx(w.icon,{className:"w-4 h-4 mr-2"}),w.label]},w.value))}),j.map(w=>s.jsx(Li,{value:w.value,children:w.component},w.value))]}),s.jsx(iB,{isOpen:a,onOpenChange:m,itemType:c==null?void 0:c.type,onConfirm:h,isDeleting:u})]})},Tb=5,uB=({storeId:e,notes:t,onNotesChange:r,suggestedItems:n=[],maxItems:o=10,showQtyButtons:a=!1,minimumOrder:c=30,estimatedTotal:u=0,onEstimatedTotalChange:f=()=>{}})=>{const{user:h}=Jt(),[m,p]=v.useState(""),[x,y]=v.useState([]),[j,w]=v.useState(!1),_=v.useRef(!1);v.useEffect(()=>{async function T(){if(!(h!=null&&h.id)||!e||_.current)return;const P=`oldNotes_${h.id}_${e}`;let E=lr(P);if(E){w(!0),y(E),_.current=!0;return}const{data:O,error:R}=await de.from("pickup_order_stores").select("pickup_order_id,notes,created_at,pickup_orders!inner(user_id)").eq("store_id",e).eq("pickup_orders.user_id",h.id).order("created_at",{ascending:!1});if(!R&&O){const W=O.filter(Z=>Z.notes).map(Z=>({noteId:Z.pickup_order_id,notes:Z.notes,date:Z.created_at}));w(!0),y(W),qt(P,W,5),_.current=!0}}T()},[h,e]);const C=n.filter(T=>T.name.toLowerCase().includes(m.toLowerCase())).slice(0,o),k=T=>{const P=new RegExp(`^${T} x(\\d+)$`,"m"),E=t.match(P);return E?parseInt(E[0].split("x")[1],10):0},A=(T,P)=>{let E=t||"";const O=new RegExp(`^${T.name} x(\\d+)$`,"m");P>0?O.test(E)?E=E.replace(O,`${T.name} x${P}`):E=E?`${E}
${T.name} x${P}`:`${T.name} x${P}`:E=E.replace(O,"").replace(/\n+/g,`
`).trim(),r(e,E)};return v.useEffect(()=>{let T=0;C.forEach(P=>{const E=k(P.name),O=P.price?Number(P.price):Tb;T+=O*E}),f(e,T)},[t,n,o]),s.jsxs("div",{className:"space-y-3",children:[x.length>0&&j&&s.jsxs("div",{className:"mb-2",children:[s.jsx(le,{className:"text-sm font-medium",children:"Previous Notes "}),s.jsx("div",{className:"flex flex-col gap-2 mt-1",children:x.map((T,P)=>s.jsxs("button",{type:"button",className:"border rounded px-2 py-1 text-xs bg-gray-50 hover:bg-primary/10 text-left",onClick:()=>{t?r(e,t+`
`+T.notes):r(e,T.notes),w(!1)},children:[s.jsxs("span",{className:"font-semibold",children:[new Date(T.date).toLocaleDateString(),":"]})," Order #",T.noteId.slice(0,6).toUpperCase()]},P))})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["Find cheaper options","Replace out of stock items","Call if unavailable","Add organic options","No plastic bags"].map((T,P)=>s.jsx("button",{type:"button",className:"border rounded px-2 py-1 text-xs bg-gray-50 hover:bg-primary/10",onClick:()=>{t&&!t.includes(T)?r(e,t+`
`+T):t||r(e,T)},children:T},P))}),n.length>o&&s.jsx("div",{className:"mb-2",children:s.jsx("input",{type:"search",value:m,onChange:T=>p(T.target.value),placeholder:"Search suggested items...",className:"border rounded px-2 py-1 w-full text-sm"})}),s.jsx(le,{className:"block mb-1 text-sm font-medium flex items-center gap-1",children:"Suggested Items"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 lg:grid-cols-2 gap-2",children:C.map(T=>{const P=k(T.name),E=T.price?Number(T.price):Tb;return s.jsxs("div",{className:"flex items-center justify-between bg-white border rounded px-2 py-2 shadow-sm min-w-[160px] max-w-full overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs line-clamp-2",children:[T.name,":"]}),T.image_url||T.description?s.jsxs("span",{className:"ml-1 cursor-pointer group relative",children:[s.jsx(wv,{className:"w-4 h-4 text-primary"}),s.jsxs("div",{className:"absolute z-10 left-6 top-0 bg-white border rounded shadow-lg p-2 text-xs w-40 hidden group-hover:block",children:[T.image_url&&s.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-16 object-cover mb-1 rounded"}),T.description&&s.jsx("div",{children:T.description})]})]}):null]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs font-semibold text-right min-w-[40px]",children:["A$",E]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{type:"button",className:"h-6 w-6 flex items-center justify-center rounded bg-[#34d399] hover:bg-[#27694a] text-white border",disabled:P<=0,onClick:()=>A(T,Math.max(0,P-1)),children:s.jsx("span",{className:"font-bold text-lg",children:"-"})}),s.jsx("input",{type:"number",min:0,value:P,onChange:O=>A(T,Math.max(0,parseInt(O.target.value)||0)),className:"w-8 text-xs border rounded px-1 py-0.5 focus:outline-primary text-center appearance-none",style:{WebkitAppearance:"none",MozAppearance:"textfield"}}),s.jsx("button",{type:"button",className:"h-6 w-6 flex items-center justify-center rounded bg-[#34d399] hover:bg-[#27694a] text-white border",onClick:()=>A(T,P+1),children:s.jsx("span",{className:"font-bold text-lg",children:"+"})})]})]})]},T.name)})}),s.jsx("div",{children:s.jsx(le,{htmlFor:`notes-${e}`,className:"text-sm font-medium",children:"Shopping List / Notes"})}),s.jsx(mr,{id:`notes-${e}`,value:t||"",onChange:T=>r(e,T.target.value),placeholder:"Add your shopping list or special instructions...",rows:2,className:"mt-1 text-base px-2 py-1 rounded border focus:outline-primary"})]})};function Hm(e,t,r,n){if(typeof e!="number"||typeof t!="number"||typeof r!="number"||typeof n!="number")return null;const o=6371,a=(r-e)*Math.PI/180,c=(n-t)*Math.PI/180,u=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return o*f}function Ab(e){if(!e)return"";let[t,r]=e.split(":");t=parseInt(t,10);const n=t>=12?"PM":"AM";return t=t%12||12,`${t}:${r} ${n}`}const dB=({stores:e,selectedStores:t,onStoreToggle:r,onNotesChange:n,onEstimatedTotalChange:o,userLocation:a})=>{const c=v.useMemo(()=>a?[...e].sort((p,x)=>{const y=Hm(a.lat,a.lng,p.lat,p.lng)??1/0,j=Hm(a.lat,a.lng,x.lat,x.lng)??1/0;return y-j}):e,[e,a]),u=p=>{if(t.some(y=>y.id===p.id)){const y=t.find(w=>w.id===p.id);if(y&&(y.notes||y.estimatedTotal!==p.minimum_order_amount)&&!window.confirm("Remove this store?"))return;r(t.filter(w=>w.id!==p.id))}else{const y=[...t,{id:p.id,name:p.name,estimatedTotal:p.minimum_order_amount,notes:""}];r(y)}},f=(p,x)=>{const y=t.map(j=>j.id===p?{...j,notes:x}:j);r(y),n(p,x)},h=(p,x)=>{const y=t.map(j=>j.id===p?{...j,estimatedTotal:parseFloat(x)||0}:j);r(y),o(p,x)},m=(p,x)=>{const y=t.map(j=>j.id===p?{...j,estimatedTotal:x}:j);r(y)};return s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:c.map(p=>{const x=t.some(_=>_.id===p.id),y=t.find(_=>_.id===p.id),j=p.minimum_order_amount,w=a&&p.lat&&p.lng?Hm(a.lat,a.lng,p.lat,p.lng):null;return s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:s.jsxs(un,{className:`transition-all ${x?"ring-2 ring-primary shadow-lg":"hover:shadow-md"} p-2 sm:p-2`,children:[" ",s.jsxs(Tn,{className:"pb-3 flex flex-row items-center justify-between border-b gap-2 sm:gap-2 p-2",children:[" ",s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-1",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:p.image?s.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):s.jsx(oi,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(An,{className:"text-base leading-tight",children:p.name}),s.jsxs(ot,{className:"bg-primary/10 text-primary font-semibold px-2 py-0.5 text-xs",children:["Min $",j]})]}),s.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:p.address.slice(0,20)}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xs",children:[Ab(p.opening_time)," - ",Ab(p.closing_time)]}),w&&s.jsxs("span",{className:"text-xs text-primary font-semibold",children:["• ",w.toFixed(1)," km"]})]})]})]}),s.jsx(J,{type:"button",variant:x?"default":"outline",size:"md",className:"rounded-full w-8 h-8 flex items-center justify-center",onClick:()=>u(p),children:x?s.jsx(ja,{className:"w-4 h-4"}):s.jsx(Yi,{className:"w-4 h-4"})})]}),x&&s.jsxs(dn,{className:"space-y-4 border-t pt-4 bg-gray-50 rounded-b-lg p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(le,{htmlFor:`estimated-${p.id}`,className:"text-sm font-medium",children:"Estimated Total ($)"}),s.jsx(we,{id:`estimated-${p.id}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:j,step:"5",value:y==null?void 0:y.estimatedTotal,onChange:_=>{const N=_.target.value.replace(/[^0-9.]/g,"");h(p.id,N)},onBlur:_=>{let N=parseFloat(_.target.value);(isNaN(N)||N<j)&&(N=j),h(p.id,N)},placeholder:`Minimum $${j}`,className:`mt-1 text-base px-2 py-1 rounded border focus:outline-primary ${(y==null?void 0:y.estimatedTotal)<j?"border-red-500 bg-red-50":"border-green-500 bg-green-50"}`}),(y==null?void 0:y.estimatedTotal)<j&&s.jsxs("span",{className:"text-xs text-red-500",children:["Minimum order: $",j]})]}),s.jsx(uB,{storeId:p.id,notes:(y==null?void 0:y.notes)||"",onNotesChange:f,suggestedItems:Array.isArray(p.store_suggested_items)?p.store_suggested_items:[],maxItems:10,showQtyButtons:!0,minimumOrder:j,estimatedTotal:(y==null?void 0:y.estimatedTotal)||0,onEstimatedTotalChange:m})]})]})},p.id)})})})},fB=({photos:e,onPhotosChange:t,maxPhotos:r=5})=>{const[n,o]=v.useState(!1),a=v.useRef(null),c=(m,p=800,x=.8)=>new Promise(y=>{const j=document.createElement("canvas"),w=j.getContext("2d"),_=new Image;_.onload=()=>{const N=Math.min(p/_.width,p/_.height);j.width=_.width*N,j.height=_.height*N,w.drawImage(_,0,0,j.width,j.height),j.toBlob(y,"image/jpeg",x)},_.src=URL.createObjectURL(m)}),u=async m=>{const p=Array.from(m.target.files);if(e.length+p.length>r){re({variant:"destructive",title:"Too many photos",description:`You can only upload up to ${r} photos.`});return}o(!0);try{const x=await Promise.all(p.map(async y=>{const j=await c(y),w=new FileReader;return new Promise(_=>{w.onload=()=>{_({id:Date.now()+Math.random(),name:y.name,data:w.result,size:j.size})},w.readAsDataURL(j)})}));t([...e,...x]),re({title:"Photos uploaded",description:`${x.length} photo(s) added successfully.`})}catch(x){console.error("Error compressing photos:",x),re({variant:"destructive",title:"Upload failed",description:"Failed to process photos. Please try again."})}finally{o(!1),a.current&&(a.current.value="")}},f=m=>{t(e.filter(p=>p.id!==m))},h=m=>{if(m===0)return"0 Bytes";const p=1024,x=["Bytes","KB","MB"],y=Math.floor(Math.log(m)/Math.log(p));return parseFloat((m/Math.pow(p,y)).toFixed(2))+" "+x[y]};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Photos (Optional)"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Upload photos of your shopping list or special items. Max ",r," photos."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{type:"button",variant:"outline",onClick:()=>{var m;return(m=a.current)==null?void 0:m.click()},disabled:n||e.length>=r,className:"flex items-center",children:[n?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(X$,{className:"w-4 h-4 mr-2"}),n?"Processing...":"Upload Photos"]}),s.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]}),e.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(m=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted border",children:s.jsx("img",{src:m.data,alt:m.name,className:"w-full h-full object-cover"})}),s.jsx(J,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>f(m.id),children:s.jsx(us,{className:"h-3 w-3"})}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:[m.name," (",h(m.size),")"]})]},m.id))})]})},hB=[`Call on arrival
`,`Leave with reception
`,`Knock softly, baby sleeping
`,`Text me before delivery
`],mB=()=>{var Nc;const{user:e,userLocation:t,updateUserInfo:r}=Jt(),[n,o]=v.useState([]),[a,c]=v.useState([]),[u,f]=v.useState(""),[h,m]=v.useState([]),[p,x]=v.useState(!0),[y,j]=v.useState([]),[w,_]=v.useState(cn()),[N,C]=v.useState(""),[k,A]=v.useState([]),[T,P]=v.useState(!1),[E,O]=v.useState(""),[R,W]=v.useState(""),[Z,Q]=v.useState(""),[q,I]=v.useState([]),[B,F]=v.useState(!1),[z,L]=v.useState(!1),[H,ee]=v.useState({}),[$,K]=v.useState("whatsapp"),[ne,ce]=v.useState(""),[se,ie]=v.useState([]),[te,fe]=v.useState([]),[pe,ue]=v.useState(""),[oe,ye]=v.useState(!1),[He,De]=v.useState("new-order"),[ze,tt]=v.useState(null),[rt,Lr]=v.useState(_a),[Jr,Fr]=v.useState(!1),[ds,mc]=v.useState(!1),[Qr,pc]=v.useState({convenience_fee_percent:7,service_fee_percent:3}),[no,ka]=v.useState(""),[ui,so]=v.useState((e==null?void 0:e.name)||""),[io,fs]=v.useState(""),[di,vc]=v.useState(!1),gc=Xt();v.useEffect(()=>{Promise.all([Pa(),Ta(),Ea()]),e&&(oo(),e.phone&&(ce(e.phone),O(e.phone)))},[e]),v.useEffect(()=>{if(pe.length===0)fe(se);else{const ae=se.filter(ke=>ke.suburb.toLowerCase().includes(pe.toLowerCase())||ke.postcode.includes(pe));fe(ae)}},[pe,se]),v.useEffect(()=>{if(u.length===0)c(n);else{const ae=n.filter(ke=>ke.name.toLowerCase().includes(u.toLowerCase())||ke.address.toLowerCase().includes(u.toLowerCase()));c(ae)}},[u,n]),v.useEffect(()=>{w&&Aa(w)},[w,rt]),v.useEffect(()=>{(async()=>{const{data:ke,error:Ze}=await de.from("delivery_settings").select("convenience_fee_percent, service_fee_percent").eq("id",1).single();!Ze&&ke&&pc({convenience_fee_percent:ke.convenience_fee_percent||7,service_fee_percent:ke.service_fee_percent||3})})()},[]),v.useEffect(()=>{e&&se&&hf()},[e,se]);const xc=!e&&y.length>0&&w&&N,hf=async()=>{var ae;if(e.addresses&&((ae=e.addresses)==null?void 0:ae.length)>0&&(W(e.addresses[0].address),se&&se.length)){const ke=se.find(Ze=>e.addresses[0].address.toUpperCase().includes(Ze.suburb.toUpperCase()));ke?(Q(e.addresses[0].postcode),ue(`${ke.suburb}, ${ke.postcode}`)):ue("")}},Ea=async()=>{try{const{data:ae,error:ke}=await de.from("delivery_settings").select("timezone").eq("id",1).single();!ke&&(ae!=null&&ae.timezone)&&Lr(ae.timezone)}catch(ae){console.error("Error fetching timezone:",ae)}},Pa=async()=>{try{const{data:ae,error:ke}=await de.from("stores").select("*").order("name");if(ke)throw ke;o(ae||[]),c(ae||[])}catch(ae){console.error("Error fetching stores:",ae),re({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{x(!1)}},Ta=async()=>{try{const ae=await nf();ie(ae),fe(ae)}catch(ae){console.error("Error fetching postcodes:",ae)}},Aa=async ae=>{P(!0);try{const ke=kt(ae,rt),{data:Ze,error:pt}=await de.from("time_slots").select("*").eq("date",ke).eq("is_active",!0).order("start_time");if(pt)throw pt;A(Ze||[]),C("")}catch(ke){console.error("Error fetching time slots:",ke),A([])}finally{P(!1)}},oo=async()=>{try{const{data:ae,error:ke}=await de.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name)
          )
        `).eq("user_id",e.id).in("status",["pending","processing","ready"]).gte("pickup_date",kt(cn(rt),rt)).order("pickup_date",{ascending:!0});if(ke)throw ke;m(ae||[])}catch(ae){console.error("Error fetching upcoming orders:",ae),re({variant:"destructive",title:"Error",description:"Could not load upcoming orders."})}},hs=ae=>{const ke=e.addresses.find(Ze=>Ze.address===ae);if(ke){W(ke.address),Q(ke.postcode);const Ze=se.find(pt=>ke.address.toUpperCase().includes(pt.suburb.toUpperCase()));ue(Ze?`${Ze.suburb}, ${Ze.postcode}`:"")}F(!1)},ms=ae=>{W(ae.address),Q(ae.postcode),ue(`${ae.suburb.toUpperCase()}, ${ae.postcode}`)},yc=ae=>{Q(ae.postcode),ue(`${ae.suburb}, ${ae.postcode}`),ye(!1)},wc=ae=>{tt(ae)},bc=()=>{tt(null)},jc=()=>{Fr(!1)},_c=()=>{const ae={};return y.length===0&&(ae.stores="Please select at least one store"),N||(ae.timeSlot="Please select a time slot"),$==="whatsapp"&&!E&&(ae.whatsapp="WhatsApp number is required for WhatsApp communication"),$==="phone"&&!ne&&(ae.phone="Phone number is required for SMS/Call communication"),R||(ae.address="Delivery address is required"),Z||(ae.postcode="Please select a postcode"),y.forEach((ke,Ze)=>{(!ke.estimatedTotal||ke.estimatedTotal<30)&&(ae[`store_${ke.id}`]=`Minimum order for this store is ${Se(30)}`)}),z||(ae.terms="You must accept the terms and conditions"),ee(ae),Object.keys(ae).length===0},Da=async ae=>{if(ae.preventDefault(),!_c()){re({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields and accept the terms."});return}try{const ke=y.reduce((Je,Ra)=>Je+(Ra.estimatedTotal||0),0),Ze=ze?ze.discountAmount:0,pt=hi(),It=k.find(Je=>Je.id===N),Lt=It?`${Jo(It.start_time)} - ${Jo(It.end_time)}`:"",{data:tr,error:Nr}=await de.from("pickup_orders").insert({user_id:e.id,pickup_date:kt(w,rt),time_slot:Lt,timeslot_id:N,whatsapp_number:$==="whatsapp"?E:null,phone_number:$==="phone"?ne:null,delivery_address:R,postcode:Z,photos:q,status:"pending",payment_status:"pending",estimated_total:ke,promo_code:(ze==null?void 0:ze.code)||null,discount_amount:Ze,fees_data:{convenience_fee_percent:Qr.convenience_fee_percent,service_fee_percent:Qr.service_fee_percent,serviceFee:bn(),convenienceFee:fi(),deliveryFee:In()},admin_messages:ds?[{from:"customer",message:"Please reorder my previous items along with this order.",timestamp:new Date().toISOString()}]:[],notes:no}).select().single();if(Nr)throw Nr;const Fn=y.map(Je=>({pickup_order_id:tr.id,store_id:Je.id,estimated_total:Je.estimatedTotal,notes:Je.notes,status:"pending"})),{error:vs}=await de.from("pickup_order_stores").insert(Fn);if(vs)throw vs;if(!e.addresses||e.addresses.length===0){const Je=[{id:Math.random().toString(36).substr(2,9),label:"default",address:R,postcode:Z}];r({addresses:Je})}gc("/pickup-payment",{state:{orderId:tr.id,orderData:{pickup_date:kt(w,rt),time_slot:Lt,contact_preference:$,whatsapp_number:$==="whatsapp"?E:null,phone_number:$==="phone"?ne:null,delivery_address:R,postcode:Z,estimated_total:pt,promo_code:(ze==null?void 0:ze.code)||null,discount_amount:Ze,stores:y,fees_data:{convenience_fee_percent:Qr.convenience_fee_percent,service_fee_percent:Qr.service_fee_percent,serviceFee:bn(),convenienceFee:fi(),deliveryFee:In()},notes:no},finalTotal:pt}})}catch(ke){console.error("Error creating pickup order:",ke),re({variant:"destructive",title:"Error",description:"Could not create pickup order."})}},Sc=async(ae,ke)=>{try{const{data:Ze,error:pt}=await de.from("pickup_orders").select("admin_messages").eq("id",ae).single();if(pt)throw pt;const It=Ze.admin_messages||[],Lt={from:"customer",message:ke,timestamp:new Date().toISOString()},{error:tr}=await de.from("pickup_orders").update({admin_messages:[...It,Lt]}).eq("id",ae);if(tr)throw tr;re({title:"Message sent",description:"Your message has been sent to the admin."}),oo()}catch(Ze){console.error("Error sending message:",Ze),re({variant:"destructive",title:"Error",description:"Could not send message."})}},wn=()=>Number(ps.subtotal||0),In=()=>Number(ps.deliveryFee||0),Ln=()=>Number(ps.discountAmount||0),fi=()=>parseFloat((wn()*(Qr.convenience_fee_percent/100)).toFixed(2)),bn=()=>{const ae=wn()+In()+fi();return parseFloat((ae*(Qr.service_fee_percent/100)).toFixed(2))},hi=()=>{const ae=wn()+In()+fi()+bn()-Ln();return parseFloat(ae.toFixed(2))},ps=(()=>{const ae=y.reduce((Lt,tr)=>Lt+(tr.estimatedTotal||0),0),ke=ae*.1,Ze=y.reduce((Lt,tr)=>{const Nr=n.find(vs=>vs.id===tr.id),Fn=(Nr==null?void 0:Nr.store_delivery_fee)||0;return Math.max(Lt,Fn)},0),pt=ze?ze.discountAmount:0,It=ae+ke+Ze-pt;return{subtotal:ae,serviceCharge:ke,deliveryFee:Ze,discountAmount:pt,total:It}})(),mf=ae=>{const ke=cn(rt),Ze=kt(ke,rt);return kt(ae,rt)<Ze},pf=ae=>{const ke=k.find(pt=>pt.id===ae);if(!ke)return C(ae);const Ze=y.map(pt=>{const It=n.find(lo=>lo.id===pt.id);if(!It||!It.opening_time||!It.closing_time)return null;const[Lt,tr]=ke.start_time.split(":").map(Number),[Nr,Fn]=ke.end_time.split(":").map(Number),[vs,Je]=It.opening_time.split(":").map(Number),[Ra,$a]=It.closing_time.split(":").map(Number),Cc=Lt*60+tr,ao=Nr*60+Fn,vf=vs*60+Je,kc=Ra*60+$a;return Cc<vf||ao>kc?It.name:null}).filter(Boolean);if(Ze.length>0){re({variant:"destructive",title:"Store Hours Conflict",description:`The selected time slot is outside operating hours for: ${Ze.join(", ")}. Please choose another slot.`});return}C(ae)};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative min-h-[200px] bg-gradient-to-b from-[#2E8B57] via-[#3CB371] to-white overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery delivery",className:"w-full h-full object-cover opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2E8B57]/90 via-[#3CB371]/80 to-white/60"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-2",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-2",children:s.jsxs(je.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg md:text-xl font-bold text-white mb-1 text-left",children:"Grocery Run "}),s.jsx("p",{className:"text-white/90 text-xs text-left",children:"Let us do the shopping for you at multiple stores!"})]}),s.jsxs("div",{className:"grid gap-1 grid-cols-2 md:grid-cols-4 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(oi,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"1. Add Stores"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Select stores and set budget"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-lg rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Ld,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"2. Share Lists"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Add shopping lists"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-lg rounded-lg p-2",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(hn,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"3. We Shop"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"We shop at all stores"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-lg rounded-lg p-2",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(ca,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"4. Delivery"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"All items delivered to you"})]})]})]})})}),s.jsx(Kr,{open:di,onOpenChange:vc,children:s.jsx($r,{children:s.jsxs(Mr,{children:[s.jsx(Ir,{children:"How it Works?"}),s.jsx(Hd,{children:"Grocery Run is your convenient way to get groceries from multiple stores without the hassle:"}),s.jsx("span",{children:s.jsxs("ul",{className:"list-disc pl-4 pb-4 space-y-2 text-sm text-align-left",children:[s.jsx("li",{children:"Select one or more stores and set your budget for each."}),s.jsx("li",{children:"Add your shopping lists, notes, or provide photos of products or past bills."}),s.jsx("li",{children:"We shop at all selected stores for you."}),s.jsx("li",{children:"All items are delivered in to the address provided."}),s.jsx("li",{children:"Provide delivery instructions and contact preferences."}),s.jsx("li",{children:"We send you the bill from the stores."}),s.jsx("li",{children:"The final amount may change after shopping, and you may be required to pay the difference before delivery"})]})})]})})})]}),s.jsx("div",{className:"container px-4 py-6 mx-auto md:px-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-6xl mx-auto",children:s.jsxs(hg,{value:He,onValueChange:De,className:"space-y-6",children:[s.jsxs(df,{className:"grid w-full grid-cols-2",children:[s.jsx(Ii,{value:"new-order",children:"Schedule"}),s.jsxs(Ii,{value:"upcoming-orders",children:["Upcoming (",h.length,")"]})]}),s.jsx(Li,{value:"new-order",className:"space-y-6",children:s.jsxs(un,{children:[s.jsxs(Tn,{children:[s.jsxs(An,{children:["Schedule Grocery Run",s.jsx("button",{style:{display:"inline"},type:"button",className:"ml-2 p-1 rounded-full bg-grey/20 hover:bg-white/30",onClick:()=>vc(!0),"aria-label":"Info",children:s.jsx(wv,{className:"w-5 h-5 text-grey"})}),s.jsx("p",{className:"text-grey/20 text-xs text-left",children:"Order groceries from multiple stores around town!"})]}),s.jsx(Up,{children:"Schedule your grocery run by selecting stores, setting a date and time, and providing any special instructions."})]}),s.jsxs(dn,{children:[s.jsxs("form",{onSubmit:Da,className:"mb-4 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Add Stores"}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"font-medium text-green-600",children:"Note:"})," You can provide your order lists/photos later after scheduling too."]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(bv,{className:"absolute left-2.5 top-3.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"search",placeholder:"Search stores...",className:"pl-8",value:u,onChange:ae=>f(ae.target.value)})]})}),s.jsx(dB,{stores:a,selectedStores:y,onStoreToggle:j,onNotesChange:()=>{},onEstimatedTotalChange:()=>{},userLocation:t})]}),H.stores&&s.jsx("p",{className:"text-xs text-destructive",children:H.stores}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Select Date"}),s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(J,{type:"button",variant:"outline",className:Te("w-full justify-start text-left font-normal",!w&&"text-muted-foreground"),children:[s.jsx(fn,{className:"mr-2 h-4 w-4"}),w?kt(w,rt):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ga,{className:"w-auto p-0",align:"start",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(J,{type:"button",size:"sm",onClick:()=>_(new Date),children:"Today"}),s.jsx(J,{type:"button",size:"sm",onClick:()=>_(Wt(new Date,1)),children:"Tomorrow"})]}),s.jsx(pa,{mode:"single",selected:w,onSelect:_,disabled:mf,initialFocus:!0})]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Time Slot"}),T?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):k.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(Yt,{value:N,onValueChange:pf,children:[s.jsx(Ot,{className:H.timeSlot?"border-destructive":"",children:s.jsx(Gt,{placeholder:"Choose a time slot"})}),s.jsx(Rt,{children:k.map(ae=>{let ke=!1;if(w){const Ze=cn(rt),pt=kt(Ze,rt);if(kt(w,rt)===pt){const Lt=new Date,[tr,Nr]=ae.start_time.split(":").map(Number),Fn=new Date(Lt.getFullYear(),Lt.getMonth(),Lt.getDate(),tr,Nr);Lt>Fn&&(ke=!0)}}return s.jsxs(Pe,{value:ae.id,disabled:ke,children:[Jo(ae.start_time)," - ",Jo(ae.end_time),ke&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Unavailable)"})]},ae.id)})})]}),H.timeSlot&&s.jsx("p",{className:"text-xs text-destructive",children:H.timeSlot})]})]}),e&&!e.name&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"user-name",children:"Your Full Name"}),s.jsx(we,{id:"user-name",value:ui,onChange:ae=>so(ae.target.value),placeholder:"Enter your name",className:io?"border-destructive":""}),io&&s.jsx("p",{className:"text-xs text-destructive",children:io}),s.jsx(J,{type:"button",className:"mt-2",onClick:async()=>{if(!ui.trim()){fs("Please enter your name");return}fs(""),await r({name:ui.trim()}),re({title:"Name updated",description:"Your name has been saved."})},children:"Save Name"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Contact Preference"}),s.jsxs(cf,{value:$,onValueChange:K,className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xs,{value:"whatsapp",id:"whatsapp"}),s.jsx(le,{htmlFor:"whatsapp",children:"WhatsApp"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xs,{value:"phone",id:"phone"}),s.jsx(le,{htmlFor:"phone",children:"SMS/Call"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xs,{value:"inapp",id:"inapp"}),s.jsx(le,{htmlFor:"inapp",children:"On this site"})]})]})]}),$==="whatsapp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"whatsapp",children:"WhatsApp Number"}),s.jsx(we,{id:"whatsapp",value:E,onChange:ae=>O(ae.target.value),placeholder:"Enter your WhatsApp number",className:H.whatsapp?"border-destructive":""}),H.whatsapp&&s.jsx("p",{className:"text-xs text-destructive",children:H.whatsapp})]}),$==="phone"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(we,{id:"phone",value:ne,onChange:ae=>ce(ae.target.value),placeholder:"Enter your phone number",className:H.phone?"border-destructive":""}),H.phone&&s.jsx("p",{className:"text-xs text-destructive",children:H.phone})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(le,{htmlFor:"address",children:"Delivery Address"}),e&&((Nc=e.addresses)==null?void 0:Nc.length)>0&&s.jsxs(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(!B),className:"flex items-center text-primary",children:[s.jsx(ca,{className:"w-4 h-4 mr-1"}),B?"Hide saved addresses":"Use saved address"]})]}),B&&s.jsx(wN,{onSelect:hs}),s.jsx(rf,{value:R,onChange:W,onAddressSelect:ms,placeholder:"Start typing your address...",className:H.address?"border-destructive":""}),H.address&&s.jsx("p",{className:"text-xs text-destructive",children:H.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{id:"postcode",placeholder:"Search suburb or postcode...",value:pe,onChange:ae=>{ue(ae.target.value),ye(!0)},onFocus:()=>ye(!0),className:H.postcode?"border-destructive":""}),oe&&te.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:te.slice(0,10).map(ae=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>yc(ae),children:[s.jsx("div",{className:"text-sm font-medium",children:ae.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:ae.postcode})]},`${ae.suburb}-${ae.postcode}`))})]}),H.postcode&&s.jsx("p",{className:"text-xs text-destructive",children:H.postcode})]}),y.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Promo Code"}),s.jsx(PC,{subtotal:ps.subtotal,onPromoApplied:wc,appliedPromo:ze,onPromoRemoved:bc})]}),s.jsx("hr",{}),y.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.map(ae=>s.jsx("span",{className:"bg-seagreen text-white-800 border border-gray-200 rounded-full px-6 py-1 text-xs font-medium shadow-sm",children:ae.name},ae.id))}),y.length>0&&s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Subtotal:"}),s.jsx("span",{children:Se(wn())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Convenience Fee (",Qr.convenience_fee_percent,"%):"]}),s.jsx("span",{children:Se(fi())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Fee :"}),s.jsx("span",{children:Se(In())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Service Fee (",Qr.service_fee_percent,"%):"]}),s.jsx("span",{children:Se(bn())})]}),ze&&Ln()>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",ze.code,"):"]}),s.jsxs("span",{children:["-",Se(Ln())]})]}),s.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{children:Se(hi())})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"delivery-notes",children:"Delivery Notes"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2 mt-2 pb-4",children:hB.map(ae=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>ka(ke=>ke?ke+(ke.endsWith(`
`)?"":" ")+ae:ae),children:ae},ae))}),s.jsx(mr,{id:"delivery-notes",value:no,onChange:ae=>ka(ae.target.value),placeholder:"Add instructions (optional)",className:H.deliveryNotes?"border-destructive":"",rows:3}),H.deliveryNotes&&s.jsx("p",{className:"text-xs text-destructive",children:H.deliveryNotes}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"font-medium text-red-600",children:"Note:"})," The final amount may change after shopping, and you may be required to pay the difference before delivery."]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"terms",checked:z,onCheckedChange:L}),s.jsxs(le,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Ae,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Ae,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]}),H.terms&&s.jsx("p",{className:"text-xs text-destructive",children:H.terms}),s.jsxs(J,{type:"submit",className:"w-full",disabled:y.length===0,children:["Proceed to Payment  ",s.jsx(ba,{})]})]})]}),xc&&s.jsxs(un,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Tn,{children:[s.jsx(An,{children:"Sign in to Continue"}),s.jsx(Up,{children:"Please sign in to complete your grocery run order"})]}),s.jsx(dn,{children:s.jsx("div",{className:"max-w-lg mx-auto",children:s.jsx(qd,{onSuccess:jc})})})]})]})]})}),s.jsx(Li,{value:"upcoming-orders",children:s.jsx(HC,{orders:h,onSendMessage:Sc})})]})})})]})};var qC="https://js.stripe.com/v3",pB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var vB=function(){for(var t=document.querySelectorAll('script[src^="'.concat(qC,'"]')),r=0;r<t.length;r++){var n=t[r];if(pB.test(n.src))return n}return null},Db=function(t){var r="",n=document.createElement("script");n.src="".concat(qC).concat(r);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},gB=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:r})},Sl=null,Qu=null,Zu=null,xB=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},yB=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},wB=function(t){return Sl!==null?Sl:(Sl=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var o=vB();if(!(o&&t)){if(!o)o=Db(t);else if(o&&Zu!==null&&Qu!==null){var a;o.removeEventListener("load",Zu),o.removeEventListener("error",Qu),(a=o.parentNode)===null||a===void 0||a.removeChild(o),o=Db(t)}}Zu=yB(r,n),Qu=xB(n),o.addEventListener("load",Zu),o.addEventListener("error",Qu)}catch(c){n(c);return}}),Sl.catch(function(r){return Sl=null,Promise.reject(r)}))},bB=function(t,r,n){if(t===null)return null;var o=t.apply(void 0,r);return gB(o,n),o},Nl,YC=!1,GC=function(){return Nl||(Nl=wB(null).catch(function(t){return Nl=null,Promise.reject(t)}),Nl)};Promise.resolve().then(function(){return GC()}).catch(function(e){YC||console.warn(e)});var jB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];YC=!0;var o=Date.now();return GC().then(function(a){return bB(a,r,o)})},qm={exports:{}},Ym,Ob;function _B(){if(Ob)return Ym;Ob=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ym=e,Ym}var Gm,Rb;function SB(){if(Rb)return Gm;Rb=1;var e=_B();function t(){}function r(){}return r.resetWarningCache=t,Gm=function(){function n(c,u,f,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function o(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},Gm}var $b;function NB(){return $b||($b=1,qm.exports=SB()()),qm.exports}var CB=NB();const xt=Jl(CB);function Mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(r),!0).forEach(function(n){KC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sd=function(t){return typeof t}:sd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function KC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XC(e,t){return kB(e)||EB(e,t)||PB(e,t)||TB()}function kB(e){if(Array.isArray(e))return e}function EB(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],o=!0,a=!1,c,u;try{for(r=r.call(e);!(o=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function PB(e,t){if(e){if(typeof e=="string")return Lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lb(e,t)}}function Lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tr=function(t,r,n){var o=!!n,a=ge.useRef(n);ge.useEffect(function(){a.current=n},[n]),ge.useEffect(function(){if(!o||!t)return function(){};var c=function(){a.current&&a.current.apply(a,arguments)};return t.on(r,c),function(){t.off(r,c)}},[o,r,t,a])},Bp=function(t){var r=ge.useRef(t);return ge.useEffect(function(){r.current=t},[t]),r.current},xa=function(t){return t!==null&&sd(t)==="object"},AB=function(t){return xa(t)&&typeof t.then=="function"},DB=function(t){return xa(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Fb="[object Object]",OB=function e(t,r){if(!xa(t)||!xa(r))return t===r;var n=Array.isArray(t),o=Array.isArray(r);if(n!==o)return!1;var a=Object.prototype.toString.call(t)===Fb,c=Object.prototype.toString.call(r)===Fb;if(a!==c)return!1;if(!a&&!n)return t===r;var u=Object.keys(t),f=Object.keys(r);if(u.length!==f.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var p=0;p<f.length;p+=1)h[f[p]]=!0;var x=Object.keys(h);if(x.length!==u.length)return!1;var y=t,j=r,w=function(N){return e(y[N],j[N])};return x.every(w)},JC=function(t,r,n){return xa(t)?Object.keys(t).reduce(function(o,a){var c=!xa(r)||!OB(t[a],r[a]);return n.includes(a)?(c&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),o):c?Ib(Ib({},o||{}),{},KC({},a,t[a])):o},null):null},QC="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ub=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QC;if(t===null||DB(t))return t;throw new Error(r)},RB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QC;if(AB(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return Ub(o,r)})};var n=Ub(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},$B=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},ff=ge.createContext(null);ff.displayName="ElementsContext";var ZC=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},ek=function(t){var r=t.stripe,n=t.options,o=t.children,a=ge.useMemo(function(){return RB(r)},[r]),c=ge.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),u=XC(c,2),f=u[0],h=u[1];ge.useEffect(function(){var x=!0,y=function(w){h(function(_){return _.stripe?_:{stripe:w,elements:w.elements(n)}})};return a.tag==="async"&&!f.stripe?a.stripePromise.then(function(j){j&&x&&y(j)}):a.tag==="sync"&&!f.stripe&&y(a.stripe),function(){x=!1}},[a,f,n]);var m=Bp(r);ge.useEffect(function(){m!==null&&m!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,r]);var p=Bp(n);return ge.useEffect(function(){if(f.elements){var x=JC(n,p,["clientSecret","fonts"]);x&&f.elements.update(x)}},[n,p,f.elements]),ge.useEffect(function(){$B(f.stripe)},[f.stripe]),ge.createElement(ff.Provider,{value:f},o)};ek.propTypes={stripe:xt.any,options:xt.object};var MB=function(t){var r=ge.useContext(ff);return ZC(r,t)},IB=function(){var t=MB("calls useElements()"),r=t.elements;return r};xt.func.isRequired;var tk=ge.createContext(null);tk.displayName="CustomCheckoutSdkContext";var LB=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},FB=ge.createContext(null);FB.displayName="CustomCheckoutContext";xt.any,xt.shape({clientSecret:xt.string.isRequired,elementsOptions:xt.object}).isRequired;var Vp=function(t){var r=ge.useContext(tk),n=ge.useContext(ff);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?LB(r,t):ZC(n,t)},UB=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Pt=function(t,r){var n="".concat(UB(t),"Element"),o=function(f){var h=f.id,m=f.className,p=f.options,x=p===void 0?{}:p,y=f.onBlur,j=f.onFocus,w=f.onReady,_=f.onChange,N=f.onEscape,C=f.onClick,k=f.onLoadError,A=f.onLoaderStart,T=f.onNetworksChange,P=f.onConfirm,E=f.onCancel,O=f.onShippingAddressChange,R=f.onShippingRateChange,W=Vp("mounts <".concat(n,">")),Z="elements"in W?W.elements:null,Q="customCheckoutSdk"in W?W.customCheckoutSdk:null,q=ge.useState(null),I=XC(q,2),B=I[0],F=I[1],z=ge.useRef(null),L=ge.useRef(null);Tr(B,"blur",y),Tr(B,"focus",j),Tr(B,"escape",N),Tr(B,"click",C),Tr(B,"loaderror",k),Tr(B,"loaderstart",A),Tr(B,"networkschange",T),Tr(B,"confirm",P),Tr(B,"cancel",E),Tr(B,"shippingaddresschange",O),Tr(B,"shippingratechange",R),Tr(B,"change",_);var H;w&&(t==="expressCheckout"?H=w:H=function(){w(B)}),Tr(B,"ready",H),ge.useLayoutEffect(function(){if(z.current===null&&L.current!==null&&(Z||Q)){var $=null;Q?$=Q.createElement(t,x):Z&&($=Z.create(t,x)),z.current=$,F($),$&&$.mount(L.current)}},[Z,Q,x]);var ee=Bp(x);return ge.useEffect(function(){if(z.current){var $=JC(x,ee,["paymentRequest"]);$&&"update"in z.current&&z.current.update($)}},[x,ee]),ge.useLayoutEffect(function(){return function(){if(z.current&&typeof z.current.destroy=="function")try{z.current.destroy(),z.current=null}catch{}}},[]),ge.createElement("div",{id:h,className:m,ref:L})},a=function(f){Vp("mounts <".concat(n,">"));var h=f.id,m=f.className;return ge.createElement("div",{id:h,className:m})},c=r?a:o;return c.propTypes={id:xt.string,className:xt.string,onChange:xt.func,onBlur:xt.func,onFocus:xt.func,onReady:xt.func,onEscape:xt.func,onClick:xt.func,onLoadError:xt.func,onLoaderStart:xt.func,onNetworksChange:xt.func,onConfirm:xt.func,onCancel:xt.func,onShippingAddressChange:xt.func,onShippingRateChange:xt.func,options:xt.object},c.displayName=n,c.__elementType=t,c},Tt=typeof window>"u",BB=ge.createContext(null);BB.displayName="EmbeddedCheckoutProviderContext";var VB=function(){var t=Vp("calls useStripe()"),r=t.stripe;return r};Pt("auBankAccount",Tt);Pt("card",Tt);Pt("cardNumber",Tt);Pt("cardExpiry",Tt);Pt("cardCvc",Tt);Pt("fpxBank",Tt);Pt("iban",Tt);Pt("idealBank",Tt);Pt("p24Bank",Tt);Pt("epsBank",Tt);var zB=Pt("payment",Tt);Pt("expressCheckout",Tt);Pt("currencySelector",Tt);Pt("paymentRequestButton",Tt);Pt("linkAuthentication",Tt);Pt("address",Tt);Pt("shippingAddress",Tt);Pt("paymentMethodMessaging",Tt);Pt("affirmMessage",Tt);Pt("afterpayClearpayMessage",Tt);const WB=jB("pk_test_51RU0DpAcyZwL9ZCroHLDNCalx80u736eoFCb3mNARKz2BpDuDhl2VgtPJWp8t0jkaitH7zXOFDiE7B3q95rNColr00V7gqABTc",{stripeAccount:"acct_1RU0DpAcyZwL9ZCr"}),HB=({onPaymentSuccess:e})=>{const t=VB(),r=IB(),[n,o]=v.useState(!1),a=async c=>{if(c.preventDefault(),!(!t||!r)){o(!0);try{const{error:u,paymentIntent:f}=await t.confirmPayment({elements:r,redirect:"if_required"});if(u)throw new Error(u.message);const m=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/verify-stripe-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({paymentIntentId:f.id})})).json();if(m.success)await e(m.orderData),re({title:"Payment Successful",description:"Your order has been placed successfully."});else throw new Error(m.error||"Payment verification failed")}catch(u){console.error("Payment error:",u),re({variant:"destructive",title:"Payment Failed",description:u.message})}finally{o(!1)}}};return s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsx(zB,{}),s.jsx(J,{type:"submit",className:"w-full",disabled:n,children:n?"Processing...":"Pay Now"})]})},rk=({clientSecret:e,onPaymentSuccess:t})=>e?s.jsx(ek,{stripe:WB,options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"#2E8B57"}}},children:s.jsx(HB,{onPaymentSuccess:t})}):null,qB=()=>{var y;const{user:e}=Jt(),t=Xt(),r=ls(),[n,o]=v.useState(null),[a,c]=v.useState(!0),[u,f]=v.useState(null),{orderId:h,orderData:m,finalTotal:p}=r.state||{};v.useEffect(()=>{if(!h||!m||!p){t("/grocery-run");return}(async()=>{try{const _=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"pickup",orderId:h,orderData:m,amount:Math.round(p*100),user_id:e.id,productList:null})})).json();if(_.error)throw new Error(_.error);o(_.clientSecret)}catch(w){f(w.message)}finally{c(!1)}})()},[h,m,p,t,e.id]),v.useEffect(()=>{const j=w=>(w.preventDefault(),w.returnValue="Leaving this page may interrupt your payment. Are you sure you want to leave?",w.returnValue);return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j)}},[]);const x=async j=>{try{const{error:w}=await de.from("pickup_orders").update({payment_status:"paid",payment_data:j.payment_data,status:"processing"}).eq("id",h);if(w)throw w;re({title:"Payment Successful",description:"Your grocery run has been scheduled and payment confirmed."}),t("/grocery-run",{state:{tab:"upcoming-orders",message:"Your grocery run has been scheduled successfully!"}})}catch(w){console.error("Error updating order:",w),f("Payment successful but failed to update order. Please contact support.")}};return a?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):u?s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:u}),s.jsxs(J,{onClick:()=>t("/grocery-run"),variant:"outline",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Return to Grocery Run"]})]})}):s.jsx("div",{className:"container py-8",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl md:max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs(un,{className:"bg-muted/30 border",children:[s.jsx(Tn,{children:s.jsxs(An,{className:"flex items-center",children:[s.jsx(ba,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),s.jsxs(dn,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pickup Date:"}),s.jsx("span",{children:new Date(m.pickup_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Time Slot:"}),s.jsx("span",{children:m.time_slot})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Stores:"}),s.jsxs("span",{children:[((y=m.stores)==null?void 0:y.length)||0," stores"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Contact:"}),s.jsx("span",{children:m.contact_preference==="whatsapp"?`WhatsApp: ${m.whatsapp_number}`:`Phone: ${m.phone_number}`})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"text-lg",children:Se(p)})]})})]})]}),s.jsxs(un,{children:[s.jsx(Tn,{children:s.jsx(An,{children:"Payment Details"})}),s.jsx(dn,{children:s.jsx(rk,{clientSecret:n,onPaymentSuccess:x})})]})]})})})},YB=()=>{var W,Z,Q,q,I,B;const{id:e}=kd(),{user:t}=Jt(),r=Xt(),[n,o]=v.useState(null),[a,c]=v.useState(!0),[u,f]=v.useState(""),[h,m]=v.useState(!1),[p,x]=v.useState({}),[y,j]=v.useState({}),[w,_]=v.useState({}),[N,C]=v.useState(!1),[k,A]=v.useState(!1);v.useEffect(()=>{if(!t){r("/grocery-run");return}T()},[e,t,r]);const T=async()=>{var F;try{const{data:z,error:L}=await de.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address, store_suggested_items)
          )
        `).eq("id",e).eq("user_id",t.id).single();if(L)throw L;if(!z){re({variant:"destructive",title:"Order not found",description:"This order doesn't exist or you don't have access to it."}),r("/grocery-run");return}o(z);const H={},ee={};(F=z.pickup_order_stores)==null||F.forEach($=>{H[$.store_id]=$.notes||"",ee[$.store_id]=[]}),x(H),j(ee)}catch(z){console.error("Error fetching order details:",z),re({variant:"destructive",title:"Error",description:"Could not load order details."}),r("/grocery-run")}finally{c(!1)}},P=async(F,z)=>{_(L=>({...L,[F]:!0}));try{const{error:L}=await de.from("pickup_order_stores").update({notes:p[F]}).eq("id",z);if(L)throw L;re({title:"Notes saved",description:"Your shopping notes have been updated."}),o(H=>({...H,pickup_order_stores:H.pickup_order_stores.map(ee=>ee.id===z?{...ee,notes:p[F]}:ee)}))}catch(L){console.error("Error saving notes:",L),re({variant:"destructive",title:"Error",description:"Could not save notes."})}finally{_(L=>({...L,[F]:!1}))}},E=async F=>{A(!0);try{const{error:z}=await de.from("pickup_orders").update({status:"cancelled",cancel_reason:F}).eq("id",n.id);if(z)throw z;o(L=>({...L,status:"cancelled",cancel_reason:F})),re({title:"Order Cancelled",description:"Your order has been cancelled."}),C(!1)}catch{re({variant:"destructive",title:"Error",description:"Could not cancel order."})}finally{A(!1)}},O=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n?s.jsx("div",{className:"container py-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Ae,{to:"/account",children:s.jsxs(J,{variant:"ghost",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Return to Account"]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1 sm:gap-0 sm:flex-row sm:items-center sm:space-x-4 flex-1",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-wrap break-words",children:["Grocery Run #",n.id.slice(0,6).toUpperCase()]}),s.jsxs("span",{className:"text-muted-foreground text-sm sm:text-base flex items-center gap-2",children:[s.jsx(fn,{className:"w-4 h-4 mr-1 text-muted-foreground"}),n.pickup_date?$t(new Date(n.pickup_date),"PPP"):"N/A",s.jsx(hn,{className:"w-4 h-4 ml-2 mr-1 text-muted-foreground"}),n.time_slot]})]}),s.jsxs("div",{className:"flex flex-row flex-wrap gap-2 sm:gap-4 items-center justify-end",children:[s.jsxs(ot,{className:R(n.payment_status),children:[s.jsx(ba,{}),"  ",n.payment_status.charAt(0).toUpperCase()+n.payment_status.slice(1)]}),s.jsxs(ot,{className:O(n.status),children:[s.jsx(wv,{}),"  ",n.status.charAt(0).toUpperCase()+n.status.slice(1)]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(un,{className:"bg-gray-50",children:[s.jsx(Tn,{children:s.jsxs(An,{className:"flex items-center text-base sm:text-lg",children:[s.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Summary"]})}),s.jsxs(dn,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.pickup_date?$t(new Date(n.pickup_date),"PPP"):"N/A"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(hn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ca,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx("span",{className:"break-words",children:n.delivery_address})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fd,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.whatsapp_number||n.phone_number]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-4 border-t gap-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsx("span",{className:"text-lg font-bold",children:n.actual_total?Se(n.actual_total):"(Est.)"+Se(n.estimated_total)})]}),n.actual_total&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-2 gap-2",children:[s.jsx("span",{className:"font-medium",children:"Actual Total:"}),s.jsx("span",{className:"text-base font-semibold",children:Se(n.actual_total)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-2 gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Convenience Fee (",((W=n.fees_data)==null?void 0:W.convenience_fee_percent)+"%",") :"]}),s.jsx("span",{className:"text-sm",children:Se(((Z=n.fees_data)==null?void 0:Z.convenienceFee)||0)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Service Fee (",((Q=n.fees_data)==null?void 0:Q.service_fee_percent)+"%",") :"]}),s.jsx("span",{className:"text-sm",children:Se(((q=n.fees_data)==null?void 0:q.serviceFee)||0)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Delivery Fee:"}),s.jsx("span",{className:"text-sm",children:Se(((I=n.fees_data)==null?void 0:I.deliveryFee)||0)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),s.jsx("span",{className:"text-sm break-words",children:n.notes})]})]})]}),s.jsxs(un,{children:[s.jsx(Tn,{children:s.jsxs(An,{className:"flex items-center",children:[s.jsx(oi,{className:"w-5 h-5 mr-2"}),"Stores Selected"]})}),s.jsx(dn,{className:"space-y-6",children:(B=n.pickup_order_stores)==null?void 0:B.map((F,z)=>{var L,H,ee,$;return s.jsxs("div",{className:"space-y-4",children:[z>0&&s.jsx(ql,{}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium mb-0",children:(L=F.stores)==null?void 0:L.name}),s.jsx(ot,{className:O(F.status),variant:"outline",children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(H=F.stores)==null?void 0:H.address}),Array.isArray((ee=F.stores)==null?void 0:ee.store_suggested_items)&&F.stores.store_suggested_items.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:F.stores.store_suggested_items.map((K,ne)=>{const ce=new RegExp(`${K.name} x(\\d+)`,"g"),se=(p[F.store_id]||"").match(ce),ie=se?parseInt(se[0].split("x")[1],10):1,te=!!se;return s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded px-2 py-1",children:[s.jsx("input",{type:"checkbox",checked:te,onChange:fe=>{let pe=p[F.store_id]||"";const ue=`${K.name} x${ie}`;fe.target.checked?ce.test(pe)?pe=pe.replace(ce,ue):pe=pe?`${pe}
${ue}`:ue:pe=pe.replace(ce,"").replace(/^\s*[\r\n]/gm,"").trim(),x(oe=>({...oe,[F.store_id]:pe}))},disabled:n.status==="completed"||n.status==="cancelled"}),s.jsxs("span",{className:"text-xs",children:[K.name," : Qty "]}),s.jsx("input",{type:"number",min:1,value:ie,onChange:fe=>{let pe=p[F.store_id]||"";const ue=Math.max(1,parseInt(fe.target.value)||1),oe=`${K.name} x${ue}`;ce.test(pe)?pe=pe.replace(ce,oe):pe=pe?`${pe}
${oe}`:oe,x(ye=>({...ye,[F.store_id]:pe}))},className:"w-10 text-xs ml-1 border rounded px-1 py-0.5",disabled:!te||n.status==="completed"||n.status==="cancelled"})]},K.name)})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:F.actual_total?Se(F.actual_total):Se(F.estimated_total)}),F.actual_total&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",Se(F.estimated_total)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:`notes-${F.store_id}`,children:"Shopping List / Notes"}),s.jsx(mr,{id:`notes-${F.store_id}`,value:p[F.store_id]||"",onChange:K=>x(ne=>({...ne,[F.store_id]:K.target.value})),placeholder:"Add your shopping list or special instructions for this store...",rows:3,disabled:n.status==="completed"||n.status==="cancelled"}),n.status!=="completed"&&n.status!=="cancelled"&&s.jsx(J,{size:"sm",onClick:()=>P(F.store_id,F.id),disabled:w[F.store_id],children:w[F.store_id]?"Saving...":"Save Notes"})]}),n.status!=="completed"&&n.status!=="cancelled"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(le,{children:["Photos for ",($=F.stores)==null?void 0:$.name]}),s.jsx(fB,{photos:y[F.store_id]||[],onPhotosChange:K=>j(ne=>({...ne,[F.store_id]:K})),maxPhotos:5})]})]},F.id)})})]}),n.photos&&n.photos.length>0&&s.jsxs(un,{children:[s.jsx(Tn,{children:s.jsxs(An,{className:"flex items-center",children:[s.jsx(X4,{className:"w-5 h-5 mr-2"}),"Your Photos"]})}),s.jsx(dn,{children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.photos.map((F,z)=>s.jsx("img",{src:F.data,alt:`Photo ${z+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(F.data,"_blank")},z))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(AC,{orderId:n.id,initialMessages:n.admin_messages||[],fetchMessages:async()=>{const{data:F}=await de.from("pickup_orders").select("admin_messages").eq("id",n.id).single();return(F==null?void 0:F.admin_messages)||[]},sendMessage:async F=>{const z=n.admin_messages||[];await de.from("pickup_orders").update({admin_messages:[...z,{from:"customer",message:F,timestamp:new Date().toISOString()}]}).eq("id",n.id)},disabled:n.status==="cancelled"||n.status==="completed"}),n.status!=="cancelled"&&n.status!=="completed"&&s.jsx(J,{variant:"destructive",className:"w-full",onClick:()=>C(!0),children:"Cancel Order"})]})]}),s.jsx(TC,{open:N,onClose:()=>C(!1),onConfirm:E,loading:k})]})}):s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order not found"}),s.jsx(Ae,{to:"/grocery-run",children:s.jsxs(J,{variant:"outline",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Grocery Run"]})})]})},GB=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),s.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us, including:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Name and contact information"}),s.jsx("li",{children:"Delivery address and location data"}),s.jsx("li",{children:"Order history and preferences"}),s.jsx("li",{children:"Payment information"}),s.jsx("li",{children:"We do not store your credit card or any other payment related information"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Process and deliver your orders"}),s.jsx("li",{children:"Send order confirmations and updates"}),s.jsx("li",{children:"Improve our services"}),s.jsx("li",{children:"Communicate with you about promotions and updates"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),s.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We share your information only with:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery partners to fulfill your orders"}),s.jsx("li",{children:"Payment processors to handle transactions"}),s.jsx("li",{children:"Service providers who assist our operations"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Your Rights"}),s.jsx("p",{className:"mb-4",children:"You have the right to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information"}),s.jsx("li",{children:"Opt-out of marketing communications"})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Ae,{to:"/",children:s.jsx(J,{variant:"outline",children:"Back to Home"})})})]})}),KB=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms and Conditions"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"mb-4",children:"By accessing and using this website and it's services (groceroo.com.au), you agree to be bound by these Terms and Conditions. These terms govern your use of the website, mobile application, and delivery services."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Service Description"}),s.jsx("p",{className:"mb-4",children:"This website (groceroo.com.au) provides an online grocery shopping and delivery service. We:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Accept orders for grocery items"}),s.jsx("li",{children:"Process payments securely"}),s.jsx("li",{children:"Deliver orders to specified addresses"}),s.jsx("li",{children:"Offer grocery delivery services from stores"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Ordering and Delivery"}),s.jsx("p",{className:"mb-4",children:"When placing an order:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"You must provide accurate delivery information"}),s.jsx("li",{children:"Orders are subject to product availability"}),s.jsx("li",{children:"Delivery times are estimates and not guaranteed"}),s.jsx("li",{children:"Product images may not be completely accurate."}),s.jsx("li",{children:"Additional charges may apply"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Pricing and Payment"}),s.jsx("p",{className:"mb-4",children:"All prices are in AUD and include applicable taxes. Additional fees may apply:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery fees"}),s.jsx("li",{children:"Service fees"}),s.jsx("li",{children:"Special handling fees"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Returns and Refunds"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Returns are accepted only for items that are damaged, defective, or incorrect at the time of delivery."}),s.jsx("li",{children:"To request a return or refund, you must contact us within 24 hours of receiving your order."}),s.jsx("li",{children:"Proof of purchase and photographic evidence of the issue may be required."}),s.jsx("li",{children:"Perishable goods (such as fresh produce, dairy, and frozen items) are not eligible for return unless they are damaged or spoiled upon delivery."}),s.jsx("li",{children:"Refunds will be processed to your original payment method within 5–7 business days after approval."}),s.jsx("li",{children:"Delivery fees are non-refundable except in cases where the entire order is returned due to our error."}),s.jsx("li",{children:"We reserve the right to refuse returns or refunds if the claim does not seem justified."})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Ae,{to:"/",children:s.jsx(J,{variant:"outline",children:"Back to Home"})})})]})}),XB=()=>{var _;const{user:e}=Jt(),{cart:t,getCartTotal:r,clearCart:n}=cs(),{addOrder:o}=yv(),a=Xt(),c=ls(),[u,f]=v.useState(null),[h,m]=v.useState(null),[p,x]=v.useState(!0),[y,j]=v.useState(null);v.useEffect(()=>{const N=C=>(C.preventDefault(),C.returnValue="","");return window.addEventListener("beforeunload",N),()=>window.removeEventListener("beforeunload",N)},[]),v.useEffect(()=>{if(!t.length){a("/checkout");return}(async()=>{var C;try{const k=t.map(E=>({id:E.id,quantity:E.quantity})),A=(C=c.state)==null?void 0:C.orderData,P=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"delivery",productList:k,user_id:e.id,orderData:A,orderId:null})})).json();if(P.error)throw new Error(P.error);f(P.clientSecret),m(P.orderData)}catch(k){j(k.message)}finally{x(!1)}})()},[t,a,c.state,e.id]);const w=async N=>{try{const C=N.payment_data,k={...h,payment_data:C},A=await o(k);n(),a(`/order-confirmation/${A.id}`)}catch(C){console.error("Error creating order:",C),j("Failed to create order. Please contact support.")}};return p?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y?s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:y}),s.jsx("button",{onClick:()=>a("/checkout"),className:"text-primary hover:underline",children:"Return to checkout"})]}):s.jsxs("div",{className:"container py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Complete Payment"}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Order Total"}),s.jsx("p",{className:"text-2xl font-bold",children:Se(((_=c.state)==null?void 0:_.finalTotal)||0)})]}),s.jsx(rk,{clientSecret:u,onPaymentSuccess:w})]})]})},JB=()=>{const[e,t]=v.useState({name:"",email:"",subject:"",message:""}),[r,n]=v.useState(!1),o=async a=>{a.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),re({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),t({name:"",email:"",subject:"",message:""}),n(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions or feedback? We'd love to hear from you."}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(J_,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"contact@groceroo.com.au"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Fd,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"+61 478 477 036"})]})]})]}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send us a message"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Name"}),s.jsx(we,{id:"name",value:e.name,onChange:a=>t(c=>({...c,name:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(we,{id:"email",type:"email",value:e.email,onChange:a=>t(c=>({...c,email:a.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"subject",children:"Subject"}),s.jsx(we,{id:"subject",value:e.subject,onChange:a=>t(c=>({...c,subject:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"message",children:"Message"}),s.jsx(mr,{id:"message",rows:5,value:e.message,onChange:a=>t(c=>({...c,message:a.target.value})),required:!0})]}),s.jsx(J,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})})},QB=()=>{const[e,t]=v.useState({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),[r,n]=v.useState(!1),o=async a=>{a.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),re({title:"Application Received",description:"Thank you for your interest! We'll review your application and get back to you soon."}),t({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),n(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Work With Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Join our team and be part of Adelaide's growing grocery delivery service."}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expression of Interest"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"name",children:"Full Name"}),s.jsx(we,{id:"name",value:e.name,onChange:a=>t(c=>({...c,name:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(we,{id:"email",type:"email",value:e.email,onChange:a=>t(c=>({...c,email:a.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(we,{id:"phone",type:"tel",value:e.phone,onChange:a=>t(c=>({...c,phone:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Position of Interest"}),s.jsxs(cf,{value:e.position,onValueChange:a=>t(c=>({...c,position:a})),className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xs,{value:"driver",id:"driver"}),s.jsx(le,{htmlFor:"driver",children:"Delivery Driver"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xs,{value:"assistant",id:"assistant"}),s.jsx(le,{htmlFor:"assistant",children:"In-Store Assistant"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"experience",children:"Relevant Experience"}),s.jsx(mr,{id:"experience",rows:3,value:e.experience,onChange:a=>t(c=>({...c,experience:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"availability",children:"Availability"}),s.jsx(mr,{id:"availability",rows:2,value:e.availability,onChange:a=>t(c=>({...c,availability:a.target.value})),placeholder:"Please specify your available days and hours",required:!0})]}),s.jsx(J,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})]})})},ZB=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState([]),[o,a]=v.useState(""),[c,u]=v.useState(!1),f=v.useRef(null),h=v.useRef(null),{addToCart:m,cart:p,updateQuantity:x}=cs(),{user:y,updateUserInfo:j}=Jt(),[w,_]=v.useState(!1),[N,C]=v.useState(!1),[k,A]=v.useState([]),[T,P]=v.useState({}),E="ai_exclusion_map",O=24*60,R=async()=>{const ne=window.localStorage.getItem(E);if(ne)try{const ie=JSON.parse(ne);if(ie.expires>Date.now()){P(ie.data);return}else window.localStorage.removeItem(E)}catch{window.localStorage.removeItem(E)}const{data:ce,error:se}=await de.from("general_settings").select("ai_exclusion_map").eq("id",1).single();if(!se&&ce&&ce.ai_exclusion_map)try{let ie=typeof ce.ai_exclusion_map=="string"?JSON.parse(ce.ai_exclusion_map):ce.ai_exclusion_map;P(ie),window.localStorage.setItem(E,JSON.stringify({data:ie,expires:Date.now()+O*60*1e3}))}catch{}},W=ne=>ne.replace(/\+/g," ").replace(/\w\S*/g,ce=>ce.charAt(0).toUpperCase()+ce.slice(1)),Z=(ne,ce,se)=>{if(!ne)return!1;const ie=new Set(ne.split(/\s+/).map(oe=>oe.split(":")[0].replace(/'/g,"").toLowerCase())),te=ce.replace(/\+/g," ").toLowerCase().split(/\s+/),fe=oe=>se.name&&se.name.toLowerCase().includes(oe)||se.description&&se.description.toLowerCase().includes(oe);if(te.length===1){const oe=te[0],ye=Array.from(ie).some(De=>De.startsWith(oe)),He=fe(oe);if(ye||He){if(T[oe]){for(const De of T[oe])if(Array.from(ie).some(ze=>ze.startsWith(De))||fe(De))return!1}return!0}return!1}if(!te.every(oe=>Array.from(ie).some(ye=>ye.startsWith(oe))||fe(oe)))return!1;const ue=te.join(" ");if(T[ue]){for(const oe of T[ue])if(Array.from(ie).some(ye=>ye.startsWith(oe))||fe(oe))return!1}return!0},Q=()=>{var ne,ce;(ne=f.current)==null||ne.scrollIntoView({behavior:"instant"}),(ce=f.current)==null||ce.click()};v.useEffect(()=>{y&&(q(),R())},[y]),v.useEffect(()=>{var ne,ce;return e?(document.body.style.overflow="hidden",(ne=f.current)==null||ne.click(),Q(),(ce=f.current)==null||ce.click()):document.body.style.overflow="",()=>{document.body.style.overflow=""}},[e]);const q=async()=>{y.ai_chat&&Array.isArray(y.ai_chat)&&N===!1&&(y.ai_chat.length>1?(n(y.ai_chat.slice(-4)),A(y.ai_chat.slice(0,-4))):(n(y.ai_chat),A([])),C(!0))};v.useEffect(()=>{let ne;return e&&k.length>0&&(ne=setTimeout(()=>{var ce;n(se=>[...k,...se]),A([]),(ce=f.current)==null||ce.click()},2800)),()=>clearTimeout(ne)},[e,k]),v.useEffect(()=>{e&&Q()},[r,e]),v.useEffect(()=>{w&&I()},[w]);const I=async()=>{if(y&&r.length){const ne=r.map(ce=>({role:ce.role,content:ce.content,groupedProducts:ce.groupedProducts||[]}));j({ai_chat:ne},!1)}_(!1)},B=async ne=>{var se;if(ne.preventDefault(),!o.trim()||c||!y)return;const ce=o.trim();a(""),n(ie=>[...ie,{role:"user",content:ce}]),u(!0);try{const ie=await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/googlegenai-api",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({message:ce,user_id:y.id})});if(!ie.ok)throw new Error("Failed to get AI response");const te=await ie.json();let fe=[];if(Array.isArray(te.products)&&(typeof te.products[0]=="string"?fe=te.products.map(pe=>pe.replace(/\s+/g,"+")):typeof te.products[0]=="object"&&((se=te.products[0])!=null&&se.name)&&(fe=te.products.map(pe=>pe.name.replace(/\s+/g,"+")))),fe.length>0){const pe=fe.map(ye=>`'${ye.replace(/'/g,"''")}'`).join(" | "),{data:ue,error:oe}=await de.from("products").select("*").eq("in_stock",!0).textSearch("fts",`${pe}`);if(!oe&&ue&&!oe&&ue){const ye=[...fe].sort((tt,rt)=>rt.split("+").length-tt.split("+").length),He={};fe.forEach(tt=>{He[tt]=[]});const De=new Set;ue.forEach(tt=>{const rt=ye.findIndex(Lr=>Z(tt.fts,Lr,tt));if(rt!==-1){const Lr=ye[rt];He[Lr].push({id:tt.id,name:tt.name,price:tt.price}),De.add(tt.id)}});const ze=fe.map(tt=>({aiName:tt,suggestions:He[tt]}));n(tt=>[...tt,{role:"assistant",content:te.message||"Here are some suggestions:",groupedProducts:ze}]),Q(),_(!0),u(!1);return}}u(!1)}catch(ie){console.error("Error:",ie),n(te=>[...te,{role:"assistant",content:"Sorry, something went wrong. Please try again later.",products:[]}]),u(!1)}},F=()=>{window.open("https://wa.me/61478477036","_blank")},z=()=>s.jsx("div",{className:"p-4",children:s.jsx(qd,{onSuccess:()=>{}})}),[L,H]=v.useState({}),ee=ne=>{H(ce=>({...ce,[ne]:!ce[ne]}))},$={closed:{x:"100%",transition:{type:"spring",stiffness:180,damping:24,mass:.8}},open:{x:0,transition:{type:"spring",stiffness:180,damping:24,mass:.8}}},K={closed:{opacity:0},open:{opacity:1}};return s.jsxs(s.Fragment,{children:[s.jsx(J,{onClick:()=>t(!e),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-[#3cb371] hover:bg-[#3cb371]/90 z-50",size:"icon",children:s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/icon-plain.webp",alt:"Groceroo AI",className:"h-10 w-10"})}),s.jsx(ia,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:K,onClick:()=>t(!1),style:{touchAction:"none"}}),s.jsxs(je.div,{ref:h,initial:"closed",animate:"open",exit:"closed",variants:$,className:"fixed top-0 right-0 z-50 w-full max-w-md h-full bg-[#e6f7f1] border-l rounded-l-lg shadow-xl flex flex-col",style:{maxHeight:"100vh",overflow:"hidden"},children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"h-6 w-6",style:{background:"#25D366",borderRadius:"50%"}}),s.jsx("span",{className:"text-sm font-medium text-[#25D366]",children:"Chat with a human on WhatsApp"})]}),s.jsxs(J,{onClick:F,className:"h-10 px-4 rounded-lg bg-[#25D366] hover:bg-[#128C7E] flex items-center gap-2 text-white font-semibold","aria-label":"Open WhatsApp Chat",children:[s.jsx(Ld,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Open"})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y4,{className:"inline-block h-6 w-6 text-[#3cb371]"}),s.jsx("span",{className:"text-lg font-semibold text-[#2E8B57]",children:"Groceroo AI"}),s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#e6f7f1] text-xs font-bold text-[#3cb371] border border-[#3cb371]",children:"Beta"})]}),s.jsx(J,{variant:"ghost",size:"icon",onClick:()=>t(!1),"aria-label":"Close chat",className:"hover:bg-red-50",children:s.jsx(us,{className:"h-5 w-5 text-red-400"})})]}),s.jsx("div",{className:"flex-1 flex flex-col h-0 overflow-y-auto",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded p-4 space-y-4",children:[(c||k.length>0)&&s.jsx("div",{className:"flex justify-end mb-2",children:s.jsx("span",{className:"inline-block",children:s.jsx("span",{className:"inline-block w-5 h-5 border-2 border-[#3cb371] border-t-transparent rounded-full animate-spin"})})}),r.map((ne,ce)=>s.jsx("div",{className:`flex ${ne.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-full rounded-lg p-3 ${ne.role==="user"?"bg-[#2E8B57] text-white":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm",children:ne.content}),ne.groupedProducts&&ne.groupedProducts.length>0&&s.jsx("div",{className:"mt-2 space-y-4",children:ne.groupedProducts.map((se,ie)=>s.jsxs("div",{className:"mb-4 bg-white/80 rounded-lg shadow border p-3",children:[s.jsxs("div",{className:"font-semibold text-[#2E8B57] mb-2 text-base",children:["- ",W(se.aiName)]}),s.jsx("div",{className:"flex flex-col gap-2",children:(L[`${se.aiName}_`+ie]?se.suggestions:se.suggestions.slice(0,2)).map(te=>s.jsxs("div",{className:"flex items-center justify-between bg-[#e6f7f1] rounded px-3 py-2 border",children:[s.jsx("span",{className:"text-sm max-w-[55%] font-medium text-[#2E8B57]",children:W(te.name)}),s.jsxs("div",{className:"flex items-center gap-2 min-w-[90px] justify-end",children:[te.price&&s.jsxs("span",{className:"text-xs text-gray-700 font-semibold",children:["$",Number(te.price).toFixed(2)]}),(()=>{const fe=p.find(ue=>ue.id===te.id),pe=fe?fe.quantity:0;return pe>0?s.jsxs("div",{className:"flex items-center space-x-1",onClick:ue=>ue.preventDefault(),children:[s.jsx(J,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),x(te.id,pe-1)},children:s.jsx(ja,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-xs font-medium w-4 text-center",children:pe}),s.jsx(J,{size:"icon",className:"h-6 w-6",onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),x(te.id,pe+1)},children:s.jsx(Yi,{className:"h-3 w-3"})})]}):s.jsx(J,{size:"sm",className:"bg-[#34d399] hover:bg-[#27694a] text-white px-3 py-1 rounded",onClick:()=>m(te,1),children:s.jsx(Zs,{className:"h-4 w-4 mr-1"})})})()]})]},te.id))}),se.suggestions.length>2&&s.jsx(J,{variant:"link",size:"xs",className:"mt-1 text-xs text-primary",onClick:()=>ee(`${se.aiName}_`+ie),children:L[`${se.aiName}_`+ie]?"Show less":"Show more"})]},`${se.aiName}_`+ie))})]})},ce)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg p-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),s.jsx("div",{ref:f})]}),s.jsx("form",{onSubmit:B,className:"p-4 border-t bg-background",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(we,{value:o,onChange:ne=>a(ne.target.value),placeholder:"I want to make pesto pasta",disabled:c,className:"h-14 text-base"}),s.jsx(J,{style:{width:"80px"},type:"submit",size:"icon",disabled:c,children:s.jsx(ic,{className:"h-4 w-4"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto",children:s.jsx(z,{})})})]})]})})]})},eV="1.0.2",tV=()=>{const[e,t]=v.useState("A new version is available!");return v.useEffect(()=>{let r;const n=async()=>{const{data:a,error:c}=await de.from("general_settings").select("pwa_version, pwa_update_message").eq("id",1).single();if(!(c||!a))if(eV!==a.pwa_version){t(a.pwa_update_message||"A new version is available!");let u=lr(RELOAD_CACHE_KEY+"_"+a.pwa_version)||0;u<2&&(qt(RELOAD_CACHE_KEY+"_"+a.pwa_version,u+1,10),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(function(f){for(let h of f)h.unregister();window.location.reload(!0)}):window.location.reload(!0))}else for(let u=0;u<localStorage.length;u++){const f=localStorage.key(u);f&&f.startsWith(RELOAD_CACHE_KEY)&&(localStorage.removeItem(f),u--)}};return localStorage.getItem("updateSecondTime")==1&&(localStorage.removeItem("updateSecondTime"),window.location.reload(!0)),n(),r=setInterval(n,18e5),()=>clearInterval(r)},[]),null},rV=()=>(v.useEffect(()=>{A4()},[]),s.jsx(D4,{children:s.jsx(P4,{children:s.jsx(_O,{children:s.jsx(JE,{children:s.jsxs("div",{className:"flex flex-col min-h-screen bg-background font-sans antialiased",children:[s.jsx(dL,{}),s.jsx("main",{className:"flex-1",children:s.jsx(ia,{mode:"wait",children:s.jsxs(zE,{children:[s.jsx(jt,{path:"/",element:s.jsx(WL,{})}),s.jsx(jt,{path:"/shop",element:s.jsx(w5,{})}),s.jsx(jt,{path:"/categories",element:s.jsx(j5,{})}),s.jsx(jt,{path:"/category/:id",element:s.jsx(_5,{})}),s.jsx(jt,{path:"/product/:id",element:s.jsx(S5,{})}),s.jsx(jt,{path:"/checkout",element:s.jsx(PU,{})}),s.jsx(jt,{path:"/grocery-run",element:s.jsx(mB,{})}),s.jsx(jt,{path:"/pickup-payment",element:s.jsx(qB,{})}),s.jsx(jt,{path:"/pickup-order/:id",element:s.jsx(YB,{})}),s.jsx(jt,{path:"/order-confirmation/:id",element:s.jsx(AU,{})}),s.jsx(jt,{path:"/admin-login",element:s.jsx(OU,{})}),s.jsx(jt,{path:"/register",element:s.jsx(RU,{})}),s.jsx(jt,{path:"/account",element:s.jsx(UU,{})}),s.jsx(jt,{path:"/admin",element:s.jsx(cB,{})}),s.jsx(jt,{path:"/privacy",element:s.jsx(GB,{})}),s.jsx(jt,{path:"/terms",element:s.jsx(KB,{})}),s.jsx(jt,{path:"/stripe-payment",element:s.jsx(XB,{})}),s.jsx(jt,{path:"/contact",element:s.jsx(JB,{})}),s.jsx(jt,{path:"/work",element:s.jsx(QB,{})}),s.jsx(jt,{path:"*",element:s.jsxs("div",{children:[s.jsx("h1",{children:"404 - Page not Found"}),s.jsx("p",{children:"Click the top-left icon to return to home"})]})})]})})}),s.jsx(ZB,{}),s.jsx(FL,{}),s.jsx(fL,{}),s.jsx(hL,{}),s.jsx(LL,{}),s.jsx(tV,{})]})})})})}));Q2.createRoot(document.getElementById("root")).render(s.jsx(rV,{}));export{Jl as g};
