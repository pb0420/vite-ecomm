function O2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Ol(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Dh={exports:{}},Za={},Rh={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function M2(){if(_x)return Be;_x=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function S($,q,fe){this.props=$,this.context=q,this.refs=w,this.updater=fe||x}S.prototype.isReactComponent={},S.prototype.setState=function($,q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,q,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=S.prototype;function k($,q,fe){this.props=$,this.context=q,this.refs=w,this.updater=fe||x}var E=k.prototype=new N;E.constructor=k,j(E,S.prototype),E.isPureReactComponent=!0;var P=Array.isArray,D=Object.prototype.hasOwnProperty,A={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R($,q,fe){var ve,Ne={},Se=null,ue=null;if(q!=null)for(ve in q.ref!==void 0&&(ue=q.ref),q.key!==void 0&&(Se=""+q.key),q)D.call(q,ve)&&!C.hasOwnProperty(ve)&&(Ne[ve]=q[ve]);var me=arguments.length-2;if(me===1)Ne.children=fe;else if(1<me){for(var de=Array(me),he=0;he<me;he++)de[he]=arguments[he+2];Ne.children=de}if($&&$.defaultProps)for(ve in me=$.defaultProps,me)Ne[ve]===void 0&&(Ne[ve]=me[ve]);return{$$typeof:e,type:$,key:Se,ref:ue,props:Ne,_owner:A.current}}function M($,q){return{$$typeof:e,type:$.type,key:q,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function B($){var q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return q[fe]})}var z=/\/+/g;function G($,q){return typeof $=="object"&&$!==null&&$.key!=null?B(""+$.key):q.toString(36)}function X($,q,fe,ve,Ne){var Se=typeof $;(Se==="undefined"||Se==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(Se){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case e:case t:ue=!0}}if(ue)return ue=$,Ne=Ne(ue),$=ve===""?"."+G(ue,0):ve,P(Ne)?(fe="",$!=null&&(fe=$.replace(z,"$&/")+"/"),X(Ne,q,fe,"",function(he){return he})):Ne!=null&&(V(Ne)&&(Ne=M(Ne,fe+(!Ne.key||ue&&ue.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+$)),q.push(Ne)),1;if(ue=0,ve=ve===""?".":ve+":",P($))for(var me=0;me<$.length;me++){Se=$[me];var de=ve+G(Se,me);ue+=X(Se,q,fe,de,Ne)}else if(de=y($),typeof de=="function")for($=de.call($),me=0;!(Se=$.next()).done;)Se=Se.value,de=ve+G(Se,me++),ue+=X(Se,q,fe,de,Ne);else if(Se==="object")throw q=String($),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ue}function J($,q,fe){if($==null)return $;var ve=[],Ne=0;return X($,ve,"","",function(Se){return q.call(fe,Se,Ne++)}),ve}function ee($){if($._status===-1){var q=$._result;q=q(),q.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=q)}if($._status===1)return $._result.default;throw $._result}var I={current:null},F={transition:null},K={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:F,ReactCurrentOwner:A};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:J,forEach:function($,q,fe){J($,function(){q.apply(this,arguments)},fe)},count:function($){var q=0;return J($,function(){q++}),q},toArray:function($){return J($,function(q){return q})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Be.Component=S,Be.Fragment=r,Be.Profiler=o,Be.PureComponent=k,Be.StrictMode=n,Be.Suspense=f,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Be.act=Z,Be.cloneElement=function($,q,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ve=j({},$.props),Ne=$.key,Se=$.ref,ue=$._owner;if(q!=null){if(q.ref!==void 0&&(Se=q.ref,ue=A.current),q.key!==void 0&&(Ne=""+q.key),$.type&&$.type.defaultProps)var me=$.type.defaultProps;for(de in q)D.call(q,de)&&!C.hasOwnProperty(de)&&(ve[de]=q[de]===void 0&&me!==void 0?me[de]:q[de])}var de=arguments.length-2;if(de===1)ve.children=fe;else if(1<de){me=Array(de);for(var he=0;he<de;he++)me[he]=arguments[he+2];ve.children=me}return{$$typeof:e,type:$.type,key:Ne,ref:Se,props:ve,_owner:ue}},Be.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},Be.createElement=R,Be.createFactory=function($){var q=R.bind(null,$);return q.type=$,q},Be.createRef=function(){return{current:null}},Be.forwardRef=function($){return{$$typeof:u,render:$}},Be.isValidElement=V,Be.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ee}},Be.memo=function($,q){return{$$typeof:h,type:$,compare:q===void 0?null:q}},Be.startTransition=function($){var q=F.transition;F.transition={};try{$()}finally{F.transition=q}},Be.unstable_act=Z,Be.useCallback=function($,q){return I.current.useCallback($,q)},Be.useContext=function($){return I.current.useContext($)},Be.useDebugValue=function(){},Be.useDeferredValue=function($){return I.current.useDeferredValue($)},Be.useEffect=function($,q){return I.current.useEffect($,q)},Be.useId=function(){return I.current.useId()},Be.useImperativeHandle=function($,q,fe){return I.current.useImperativeHandle($,q,fe)},Be.useInsertionEffect=function($,q){return I.current.useInsertionEffect($,q)},Be.useLayoutEffect=function($,q){return I.current.useLayoutEffect($,q)},Be.useMemo=function($,q){return I.current.useMemo($,q)},Be.useReducer=function($,q,fe){return I.current.useReducer($,q,fe)},Be.useRef=function($){return I.current.useRef($)},Be.useState=function($){return I.current.useState($)},Be.useSyncExternalStore=function($,q,fe){return I.current.useSyncExternalStore($,q,fe)},Be.useTransition=function(){return I.current.useTransition()},Be.version="18.3.1",Be}var Nx;function jp(){return Nx||(Nx=1,Rh.exports=M2()),Rh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function I2(){if(Cx)return Za;Cx=1;var e=jp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,p={},y=null,x=null;h!==void 0&&(y=""+h),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)n.call(f,m)&&!l.hasOwnProperty(m)&&(p[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:t,type:u,key:y,ref:x,props:p,_owner:o.current}}return Za.Fragment=r,Za.jsx=c,Za.jsxs=c,Za}var kx;function L2(){return kx||(kx=1,Dh.exports=I2()),Dh.exports}var i=L2(),g=jp();const le=Ol(g),id=O2({__proto__:null,default:le},[g]);var du={},Oh={exports:{}},hr={},$h={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function F2(){return Px||(Px=1,function(e){function t(F,K){var Z=F.length;F.push(K);e:for(;0<Z;){var $=Z-1>>>1,q=F[$];if(0<o(q,K))F[$]=K,F[Z]=q,Z=$;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var K=F[0],Z=F.pop();if(Z!==K){F[0]=Z;e:for(var $=0,q=F.length,fe=q>>>1;$<fe;){var ve=2*($+1)-1,Ne=F[ve],Se=ve+1,ue=F[Se];if(0>o(Ne,Z))Se<q&&0>o(ue,Ne)?(F[$]=ue,F[Se]=Z,$=Se):(F[$]=Ne,F[ve]=Z,$=ve);else if(Se<q&&0>o(ue,Z))F[$]=ue,F[Se]=Z,$=Se;else break e}}return K}function o(F,K){var Z=F.sortIndex-K.sortIndex;return Z!==0?Z:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,p=null,y=3,x=!1,j=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var K=r(h);K!==null;){if(K.callback===null)n(h);else if(K.startTime<=F)n(h),K.sortIndex=K.expirationTime,t(f,K);else break;K=r(h)}}function P(F){if(w=!1,E(F),!j)if(r(f)!==null)j=!0,ee(D);else{var K=r(h);K!==null&&I(P,K.startTime-F)}}function D(F,K){j=!1,w&&(w=!1,N(R),R=-1),x=!0;var Z=y;try{for(E(K),p=r(f);p!==null&&(!(p.expirationTime>K)||F&&!B());){var $=p.callback;if(typeof $=="function"){p.callback=null,y=p.priorityLevel;var q=$(p.expirationTime<=K);K=e.unstable_now(),typeof q=="function"?p.callback=q:p===r(f)&&n(f),E(K)}else n(f);p=r(f)}if(p!==null)var fe=!0;else{var ve=r(h);ve!==null&&I(P,ve.startTime-K),fe=!1}return fe}finally{p=null,y=Z,x=!1}}var A=!1,C=null,R=-1,M=5,V=-1;function B(){return!(e.unstable_now()-V<M)}function z(){if(C!==null){var F=e.unstable_now();V=F;var K=!0;try{K=C(!0,F)}finally{K?G():(A=!1,C=null)}}else A=!1}var G;if(typeof k=="function")G=function(){k(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=z,G=function(){J.postMessage(null)}}else G=function(){S(z,0)};function ee(F){C=F,A||(A=!0,G())}function I(F,K){R=S(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,ee(D))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Z=y;y=K;try{return F()}finally{y=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=y;y=F;try{return K()}finally{y=Z}},e.unstable_scheduleCallback=function(F,K,Z){var $=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?$+Z:$):Z=$,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Z+q,F={id:m++,callback:K,priorityLevel:F,startTime:Z,expirationTime:q,sortIndex:-1},Z>$?(F.sortIndex=Z,t(h,F),r(f)===null&&F===r(h)&&(w?(N(R),R=-1):w=!0,I(P,Z-$))):(F.sortIndex=q,t(f,F),j||x||(j=!0,ee(D))),F},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(F){var K=y;return function(){var Z=y;y=K;try{return F.apply(this,arguments)}finally{y=Z}}}}(Mh)),Mh}var Ex;function U2(){return Ex||(Ex=1,$h.exports=F2()),$h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function V2(){if(Tx)return hr;Tx=1;var e=jp(),t=U2();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function y(s){return f.call(p,s)?!0:f.call(m,s)?!1:h.test(s)?p[s]=!0:(m[s]=!0,!1)}function x(s,a,d,v){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return v?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,a,d,v){if(a===null||typeof a>"u"||x(s,a,d,v))return!0;if(v)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,d,v,b,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=v,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,k);S[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,k);S[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,k);S[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,a,d,v){var b=S.hasOwnProperty(a)?S[a]:null;(b!==null?b.type!==0:v||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,d,b,v)&&(d=null),v||b===null?y(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):b.mustUseProperty?s[b.propertyName]=d===null?b.type===3?!1:"":d:(a=b.attributeName,v=b.attributeNamespace,d===null?s.removeAttribute(a):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,v?s.setAttributeNS(v,a,d):s.setAttribute(a,d))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),B=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,$;function q(s){if($===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var fe=!1;function ve(s,a){if(!s||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var v=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){v=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){v=Y}s()}}catch(Y){if(Y&&v&&typeof Y.stack=="string"){for(var b=Y.stack.split(`
`),_=v.stack.split(`
`),T=b.length-1,O=_.length-1;1<=T&&0<=O&&b[T]!==_[O];)O--;for(;1<=T&&0<=O;T--,O--)if(b[T]!==_[O]){if(T!==1||O!==1)do if(T--,O--,0>O||b[T]!==_[O]){var L=`
`+b[T].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=T&&0<=O);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?q(s):""}function Ne(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case A:return"Portal";case M:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return a=s.displayName||null,a!==null?a:Se(s.type)||"Memo";case ee:a=s._payload,s=s._init;try{return Se(s(a))}catch{}}return null}function ue(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function de(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function he(s){var a=de(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),v=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,_=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return b.call(this)},set:function(T){v=""+T,_.call(this,T)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(T){v=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ee(s){s._valueTracker||(s._valueTracker=he(s))}function De(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),v="";return s&&(v=de(s)?s.checked?"true":"false":s.value),s=v,s!==d?(a.setValue(s),!0):!1}function Re(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function et(s,a){var d=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function vt(s,a){var d=a.defaultValue==null?"":a.defaultValue,v=a.checked!=null?a.checked:a.defaultChecked;d=me(a.value!=null?a.value:d),s._wrapperState={initialChecked:v,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Er(s,a){a=a.checked,a!=null&&E(s,"checked",a,!1)}function Tr(s,a){Er(s,a);var d=me(a.value),v=a.type;if(d!=null)v==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?yr(s,a.type,d):a.hasOwnProperty("defaultValue")&&yr(s,a.type,me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ns(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var v=a.type;if(!(v!=="submit"&&v!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function yr(s,a,d){(a!=="number"||Re(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Ar=Array.isArray;function Wr(s,a,d,v){if(s=s.options,a){a={};for(var b=0;b<d.length;b++)a["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=a.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&v&&(s[d].defaultSelected=!0)}else{for(d=""+me(d),a=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,v&&(s[b].defaultSelected=!0);return}a!==null||s[b].disabled||(a=s[b])}a!==null&&(a.selected=!0)}}function fa(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zl(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(r(92));if(Ar(d)){if(1<d.length)throw Error(r(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:me(d)}}function ec(s,a){var d=me(a.value),v=me(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),v!=null&&(s.defaultValue=""+v)}function tc(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function rc(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?rc(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Wi,ma=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,v,b){MSApp.execUnsafeLocalFunction(function(){return s(a,d,v,b)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Wi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Js(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yd=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(s){Yd.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Qs[a]=Qs[s]})});function nc(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Qs.hasOwnProperty(s)&&Qs[s]?(""+a).trim():a+"px"}function sc(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var v=d.indexOf("--")===0,b=nc(d,a[d],v);d==="float"&&(d="cssFloat"),v?s.setProperty(d,b):s[d]=b}}var Gd=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(s,a){if(a){if(Gd[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function va(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ga=null;function ss(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zs=null,fn=null,hn=null;function ya(s){if(s=La(s)){if(typeof Zs!="function")throw Error(r(280));var a=s.stateNode;a&&(a=Cc(a),Zs(s.stateNode,s.type,a))}}function xa(s){fn?hn?hn.push(s):hn=[s]:fn=s}function Kd(){if(fn){var s=fn,a=hn;if(hn=fn=null,ya(s),a)for(s=0;s<a.length;s++)ya(a[s])}}function ei(s,a){return s(a)}function ic(){}var Hi=!1;function ae(s,a,d){if(Hi)return s(a,d);Hi=!0;try{return ei(s,a,d)}finally{Hi=!1,(fn!==null||hn!==null)&&(ic(),Kd())}}function $e(s,a){var d=s.stateNode;if(d===null)return null;var v=Cc(d);if(v===null)return null;d=v[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,a,typeof d));return d}var tt=!1;if(u)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){tt=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{tt=!1}function kn(s,a,d,v,b,_,T,O,L){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(d,Y)}catch(ne){this.onError(ne)}}var or=!1,ar=null,Hr=!1,ti=null,qi={onError:function(s){or=!0,ar=s}};function Pn(s,a,d,v,b,_,T,O,L){or=!1,ar=null,kn.apply(qi,arguments)}function Xd(s,a,d,v,b,_,T,O,L){if(Pn.apply(this,arguments),or){if(or){var Y=ar;or=!1,ar=null}else throw Error(r(198));Hr||(Hr=!0,ti=Y)}}function ri(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function Yv(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Gv(s){if(ri(s)!==s)throw Error(r(188))}function WC(s){var a=s.alternate;if(!a){if(a=ri(s),a===null)throw Error(r(188));return a!==s?null:s}for(var d=s,v=a;;){var b=d.return;if(b===null)break;var _=b.alternate;if(_===null){if(v=b.return,v!==null){d=v;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===d)return Gv(b),s;if(_===v)return Gv(b),a;_=_.sibling}throw Error(r(188))}if(d.return!==v.return)d=b,v=_;else{for(var T=!1,O=b.child;O;){if(O===d){T=!0,d=b,v=_;break}if(O===v){T=!0,v=b,d=_;break}O=O.sibling}if(!T){for(O=_.child;O;){if(O===d){T=!0,d=_,v=b;break}if(O===v){T=!0,v=_,d=b;break}O=O.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:a}function Kv(s){return s=WC(s),s!==null?Xv(s):null}function Xv(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Xv(s);if(a!==null)return a;s=s.sibling}return null}var Jv=t.unstable_scheduleCallback,Qv=t.unstable_cancelCallback,HC=t.unstable_shouldYield,qC=t.unstable_requestPaint,yt=t.unstable_now,YC=t.unstable_getCurrentPriorityLevel,Jd=t.unstable_ImmediatePriority,Zv=t.unstable_UserBlockingPriority,oc=t.unstable_NormalPriority,GC=t.unstable_LowPriority,eg=t.unstable_IdlePriority,ac=null,mn=null;function KC(s){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ac,s,void 0,(s.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:QC,XC=Math.log,JC=Math.LN2;function QC(s){return s>>>=0,s===0?32:31-(XC(s)/JC|0)|0}var lc=64,cc=4194304;function wa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,a){var d=s.pendingLanes;if(d===0)return 0;var v=0,b=s.suspendedLanes,_=s.pingedLanes,T=d&268435455;if(T!==0){var O=T&~b;O!==0?v=wa(O):(_&=T,_!==0&&(v=wa(_)))}else T=d&~b,T!==0?v=wa(T):_!==0&&(v=wa(_));if(v===0)return 0;if(a!==0&&a!==v&&(a&b)===0&&(b=v&-v,_=a&-a,b>=_||b===16&&(_&4194240)!==0))return a;if((v&4)!==0&&(v|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=v;0<a;)d=31-qr(a),b=1<<d,v|=s[d],a&=~b;return v}function ZC(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ek(s,a){for(var d=s.suspendedLanes,v=s.pingedLanes,b=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-qr(_),O=1<<T,L=b[T];L===-1?((O&d)===0||(O&v)!==0)&&(b[T]=ZC(O,a)):L<=a&&(s.expiredLanes|=O),_&=~O}}function Qd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function tg(){var s=lc;return lc<<=1,(lc&4194240)===0&&(lc=64),s}function Zd(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function ba(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-qr(a),s[a]=d}function tk(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<d;){var b=31-qr(d),_=1<<b;a[b]=0,v[b]=-1,s[b]=-1,d&=~_}}function ef(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var v=31-qr(d),b=1<<v;b&a|s[v]&a&&(s[v]|=a),d&=~b}}var Qe=0;function rg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ng,tf,sg,ig,og,rf=!1,dc=[],is=null,os=null,as=null,ja=new Map,Sa=new Map,ls=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ag(s,a){switch(s){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ja.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(a.pointerId)}}function _a(s,a,d,v,b,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:d,eventSystemFlags:v,nativeEvent:_,targetContainers:[b]},a!==null&&(a=La(a),a!==null&&tf(a)),s):(s.eventSystemFlags|=v,a=s.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),s)}function nk(s,a,d,v,b){switch(a){case"focusin":return is=_a(is,s,a,d,v,b),!0;case"dragenter":return os=_a(os,s,a,d,v,b),!0;case"mouseover":return as=_a(as,s,a,d,v,b),!0;case"pointerover":var _=b.pointerId;return ja.set(_,_a(ja.get(_)||null,s,a,d,v,b)),!0;case"gotpointercapture":return _=b.pointerId,Sa.set(_,_a(Sa.get(_)||null,s,a,d,v,b)),!0}return!1}function lg(s){var a=ni(s.target);if(a!==null){var d=ri(a);if(d!==null){if(a=d.tag,a===13){if(a=Yv(d),a!==null){s.blockedOn=a,og(s.priority,function(){sg(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=sf(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var v=new d.constructor(d.type,d);ga=v,d.target.dispatchEvent(v),ga=null}else return a=La(d),a!==null&&tf(a),s.blockedOn=d,!1;a.shift()}return!0}function cg(s,a,d){fc(s)&&d.delete(a)}function sk(){rf=!1,is!==null&&fc(is)&&(is=null),os!==null&&fc(os)&&(os=null),as!==null&&fc(as)&&(as=null),ja.forEach(cg),Sa.forEach(cg)}function Na(s,a){s.blockedOn===a&&(s.blockedOn=null,rf||(rf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sk)))}function Ca(s){function a(b){return Na(b,s)}if(0<dc.length){Na(dc[0],s);for(var d=1;d<dc.length;d++){var v=dc[d];v.blockedOn===s&&(v.blockedOn=null)}}for(is!==null&&Na(is,s),os!==null&&Na(os,s),as!==null&&Na(as,s),ja.forEach(a),Sa.forEach(a),d=0;d<ls.length;d++)v=ls[d],v.blockedOn===s&&(v.blockedOn=null);for(;0<ls.length&&(d=ls[0],d.blockedOn===null);)lg(d),d.blockedOn===null&&ls.shift()}var Yi=P.ReactCurrentBatchConfig,hc=!0;function ik(s,a,d,v){var b=Qe,_=Yi.transition;Yi.transition=null;try{Qe=1,nf(s,a,d,v)}finally{Qe=b,Yi.transition=_}}function ok(s,a,d,v){var b=Qe,_=Yi.transition;Yi.transition=null;try{Qe=4,nf(s,a,d,v)}finally{Qe=b,Yi.transition=_}}function nf(s,a,d,v){if(hc){var b=sf(s,a,d,v);if(b===null)jf(s,a,v,mc,d),ag(s,v);else if(nk(b,s,a,d,v))v.stopPropagation();else if(ag(s,v),a&4&&-1<rk.indexOf(s)){for(;b!==null;){var _=La(b);if(_!==null&&ng(_),_=sf(s,a,d,v),_===null&&jf(s,a,v,mc,d),_===b)break;b=_}b!==null&&v.stopPropagation()}else jf(s,a,v,null,d)}}var mc=null;function sf(s,a,d,v){if(mc=null,s=ss(v),s=ni(s),s!==null)if(a=ri(s),a===null)s=null;else if(d=a.tag,d===13){if(s=Yv(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return mc=s,null}function ug(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YC()){case Jd:return 1;case Zv:return 4;case oc:case GC:return 16;case eg:return 536870912;default:return 16}default:return 16}}var cs=null,of=null,pc=null;function dg(){if(pc)return pc;var s,a=of,d=a.length,v,b="value"in cs?cs.value:cs.textContent,_=b.length;for(s=0;s<d&&a[s]===b[s];s++);var T=d-s;for(v=1;v<=T&&a[d-v]===b[_-v];v++);return pc=b.slice(s,1<v?1-v:void 0)}function vc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function gc(){return!0}function fg(){return!1}function xr(s){function a(d,v,b,_,T){this._reactName=d,this._targetInst=b,this.type=v,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(d=s[O],this[O]=d?d(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?gc:fg,this.isPropagationStopped=fg,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),a}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=xr(Gi),ka=Z({},Gi,{view:0,detail:0}),ak=xr(ka),lf,cf,Pa,yc=Z({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pa&&(Pa&&s.type==="mousemove"?(lf=s.screenX-Pa.screenX,cf=s.screenY-Pa.screenY):cf=lf=0,Pa=s),lf)},movementY:function(s){return"movementY"in s?s.movementY:cf}}),hg=xr(yc),lk=Z({},yc,{dataTransfer:0}),ck=xr(lk),uk=Z({},ka,{relatedTarget:0}),uf=xr(uk),dk=Z({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=xr(dk),hk=Z({},Gi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mk=xr(hk),pk=Z({},Gi,{data:0}),mg=xr(pk),vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xk(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=yk[s])?!!a[s]:!1}function df(){return xk}var wk=Z({},ka,{key:function(s){if(s.key){var a=vk[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=vc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(s){return s.type==="keypress"?vc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bk=xr(wk),jk=Z({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pg=xr(jk),Sk=Z({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),_k=xr(Sk),Nk=Z({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ck=xr(Nk),kk=Z({},yc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Pk=xr(kk),Ek=[9,13,27,32],ff=u&&"CompositionEvent"in window,Ea=null;u&&"documentMode"in document&&(Ea=document.documentMode);var Tk=u&&"TextEvent"in window&&!Ea,vg=u&&(!ff||Ea&&8<Ea&&11>=Ea),gg=" ",yg=!1;function xg(s,a){switch(s){case"keyup":return Ek.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ki=!1;function Ak(s,a){switch(s){case"compositionend":return wg(a);case"keypress":return a.which!==32?null:(yg=!0,gg);case"textInput":return s=a.data,s===gg&&yg?null:s;default:return null}}function Dk(s,a){if(Ki)return s==="compositionend"||!ff&&xg(s,a)?(s=dg(),pc=of=cs=null,Ki=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vg&&a.locale!=="ko"?null:a.data;default:return null}}var Rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Rk[s.type]:a==="textarea"}function jg(s,a,d,v){xa(v),a=Sc(a,"onChange"),0<a.length&&(d=new af("onChange","change",null,d,v),s.push({event:d,listeners:a}))}var Ta=null,Aa=null;function Ok(s){Ug(s,0)}function xc(s){var a=eo(s);if(De(a))return s}function $k(s,a){if(s==="change")return a}var Sg=!1;if(u){var hf;if(u){var mf="oninput"in document;if(!mf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),mf=typeof _g.oninput=="function"}hf=mf}else hf=!1;Sg=hf&&(!document.documentMode||9<document.documentMode)}function Ng(){Ta&&(Ta.detachEvent("onpropertychange",Cg),Aa=Ta=null)}function Cg(s){if(s.propertyName==="value"&&xc(Aa)){var a=[];jg(a,Aa,s,ss(s)),ae(Ok,a)}}function Mk(s,a,d){s==="focusin"?(Ng(),Ta=a,Aa=d,Ta.attachEvent("onpropertychange",Cg)):s==="focusout"&&Ng()}function Ik(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xc(Aa)}function Lk(s,a){if(s==="click")return xc(a)}function Fk(s,a){if(s==="input"||s==="change")return xc(a)}function Uk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Yr=typeof Object.is=="function"?Object.is:Uk;function Da(s,a){if(Yr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),v=Object.keys(a);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var b=d[v];if(!f.call(a,b)||!Yr(s[b],a[b]))return!1}return!0}function kg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pg(s,a){var d=kg(s);s=0;for(var v;d;){if(d.nodeType===3){if(v=s+d.textContent.length,s<=a&&v>=a)return{node:d,offset:a-s};s=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=kg(d)}}function Eg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Eg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Tg(){for(var s=window,a=Re();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Re(s.document)}return a}function pf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Vk(s){var a=Tg(),d=s.focusedElem,v=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&Eg(d.ownerDocument.documentElement,d)){if(v!==null&&pf(d)){if(a=v.start,s=v.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var b=d.textContent.length,_=Math.min(v.start,b);v=v.end===void 0?_:Math.min(v.end,b),!s.extend&&_>v&&(b=v,v=_,_=b),b=Pg(d,_);var T=Pg(d,v);b&&T&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),s.removeAllRanges(),_>v?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Bk=u&&"documentMode"in document&&11>=document.documentMode,Xi=null,vf=null,Ra=null,gf=!1;function Ag(s,a,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;gf||Xi==null||Xi!==Re(v)||(v=Xi,"selectionStart"in v&&pf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ra&&Da(Ra,v)||(Ra=v,v=Sc(vf,"onSelect"),0<v.length&&(a=new af("onSelect","select",null,a,d),s.push({event:a,listeners:v}),a.target=Xi)))}function wc(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var Ji={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},yf={},Dg={};u&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function bc(s){if(yf[s])return yf[s];if(!Ji[s])return s;var a=Ji[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in Dg)return yf[s]=a[d];return s}var Rg=bc("animationend"),Og=bc("animationiteration"),$g=bc("animationstart"),Mg=bc("transitionend"),Ig=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(s,a){Ig.set(s,a),l(a,[s])}for(var xf=0;xf<Lg.length;xf++){var wf=Lg[xf],zk=wf.toLowerCase(),Wk=wf[0].toUpperCase()+wf.slice(1);us(zk,"on"+Wk)}us(Rg,"onAnimationEnd"),us(Og,"onAnimationIteration"),us($g,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Mg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function Fg(s,a,d){var v=s.type||"unknown-event";s.currentTarget=d,Xd(v,a,void 0,s),s.currentTarget=null}function Ug(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var v=s[d],b=v.event;v=v.listeners;e:{var _=void 0;if(a)for(var T=v.length-1;0<=T;T--){var O=v[T],L=O.instance,Y=O.currentTarget;if(O=O.listener,L!==_&&b.isPropagationStopped())break e;Fg(b,O,Y),_=L}else for(T=0;T<v.length;T++){if(O=v[T],L=O.instance,Y=O.currentTarget,O=O.listener,L!==_&&b.isPropagationStopped())break e;Fg(b,O,Y),_=L}}}if(Hr)throw s=ti,Hr=!1,ti=null,s}function ot(s,a){var d=a[Pf];d===void 0&&(d=a[Pf]=new Set);var v=s+"__bubble";d.has(v)||(Vg(a,s,2,!1),d.add(v))}function bf(s,a,d){var v=0;a&&(v|=4),Vg(d,s,v,a)}var jc="_reactListening"+Math.random().toString(36).slice(2);function $a(s){if(!s[jc]){s[jc]=!0,n.forEach(function(d){d!=="selectionchange"&&(Hk.has(d)||bf(d,!1,s),bf(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[jc]||(a[jc]=!0,bf("selectionchange",!1,a))}}function Vg(s,a,d,v){switch(ug(a)){case 1:var b=ik;break;case 4:b=ok;break;default:b=nf}d=b.bind(null,a,d,s),b=void 0,!tt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),v?b!==void 0?s.addEventListener(a,d,{capture:!0,passive:b}):s.addEventListener(a,d,!0):b!==void 0?s.addEventListener(a,d,{passive:b}):s.addEventListener(a,d,!1)}function jf(s,a,d,v,b){var _=v;if((a&1)===0&&(a&2)===0&&v!==null)e:for(;;){if(v===null)return;var T=v.tag;if(T===3||T===4){var O=v.stateNode.containerInfo;if(O===b||O.nodeType===8&&O.parentNode===b)break;if(T===4)for(T=v.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===b||L.nodeType===8&&L.parentNode===b))return;T=T.return}for(;O!==null;){if(T=ni(O),T===null)return;if(L=T.tag,L===5||L===6){v=_=T;continue e}O=O.parentNode}}v=v.return}ae(function(){var Y=_,ne=ss(d),se=[];e:{var re=Ig.get(s);if(re!==void 0){var pe=af,we=s;switch(s){case"keypress":if(vc(d)===0)break e;case"keydown":case"keyup":pe=bk;break;case"focusin":we="focus",pe=uf;break;case"focusout":we="blur",pe=uf;break;case"beforeblur":case"afterblur":pe=uf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=_k;break;case Rg:case Og:case $g:pe=fk;break;case Mg:pe=Ck;break;case"scroll":pe=ak;break;case"wheel":pe=Pk;break;case"copy":case"cut":case"paste":pe=mk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=pg}var be=(a&4)!==0,xt=!be&&s==="scroll",W=be?re!==null?re+"Capture":null:re;be=[];for(var U=Y,H;U!==null;){H=U;var ce=H.stateNode;if(H.tag===5&&ce!==null&&(H=ce,W!==null&&(ce=$e(U,W),ce!=null&&be.push(Ma(U,ce,H)))),xt)break;U=U.return}0<be.length&&(re=new pe(re,we,null,d,ne),se.push({event:re,listeners:be}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&d!==ga&&(we=d.relatedTarget||d.fromElement)&&(ni(we)||we[En]))break e;if((pe||re)&&(re=ne.window===ne?ne:(re=ne.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(we=d.relatedTarget||d.toElement,pe=Y,we=we?ni(we):null,we!==null&&(xt=ri(we),we!==xt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=Y),pe!==we)){if(be=hg,ce="onMouseLeave",W="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(be=pg,ce="onPointerLeave",W="onPointerEnter",U="pointer"),xt=pe==null?re:eo(pe),H=we==null?re:eo(we),re=new be(ce,U+"leave",pe,d,ne),re.target=xt,re.relatedTarget=H,ce=null,ni(ne)===Y&&(be=new be(W,U+"enter",we,d,ne),be.target=H,be.relatedTarget=xt,ce=be),xt=ce,pe&&we)t:{for(be=pe,W=we,U=0,H=be;H;H=Qi(H))U++;for(H=0,ce=W;ce;ce=Qi(ce))H++;for(;0<U-H;)be=Qi(be),U--;for(;0<H-U;)W=Qi(W),H--;for(;U--;){if(be===W||W!==null&&be===W.alternate)break t;be=Qi(be),W=Qi(W)}be=null}else be=null;pe!==null&&Bg(se,re,pe,be,!1),we!==null&&xt!==null&&Bg(se,xt,we,be,!0)}}e:{if(re=Y?eo(Y):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var _e=$k;else if(bg(re))if(Sg)_e=Fk;else{_e=Ik;var Te=Mk}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=Lk);if(_e&&(_e=_e(s,Y))){jg(se,_e,d,ne);break e}Te&&Te(s,re,Y),s==="focusout"&&(Te=re._wrapperState)&&Te.controlled&&re.type==="number"&&yr(re,"number",re.value)}switch(Te=Y?eo(Y):window,s){case"focusin":(bg(Te)||Te.contentEditable==="true")&&(Xi=Te,vf=Y,Ra=null);break;case"focusout":Ra=vf=Xi=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Ag(se,d,ne);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":Ag(se,d,ne)}var Ae;if(ff)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ki?xg(s,d)&&(Fe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(vg&&d.locale!=="ko"&&(Ki||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ki&&(Ae=dg()):(cs=ne,of="value"in cs?cs.value:cs.textContent,Ki=!0)),Te=Sc(Y,Fe),0<Te.length&&(Fe=new mg(Fe,s,null,d,ne),se.push({event:Fe,listeners:Te}),Ae?Fe.data=Ae:(Ae=wg(d),Ae!==null&&(Fe.data=Ae)))),(Ae=Tk?Ak(s,d):Dk(s,d))&&(Y=Sc(Y,"onBeforeInput"),0<Y.length&&(ne=new mg("onBeforeInput","beforeinput",null,d,ne),se.push({event:ne,listeners:Y}),ne.data=Ae))}Ug(se,a)})}function Ma(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Sc(s,a){for(var d=a+"Capture",v=[];s!==null;){var b=s,_=b.stateNode;b.tag===5&&_!==null&&(b=_,_=$e(s,d),_!=null&&v.unshift(Ma(s,_,b)),_=$e(s,a),_!=null&&v.push(Ma(s,_,b))),s=s.return}return v}function Qi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Bg(s,a,d,v,b){for(var _=a._reactName,T=[];d!==null&&d!==v;){var O=d,L=O.alternate,Y=O.stateNode;if(L!==null&&L===v)break;O.tag===5&&Y!==null&&(O=Y,b?(L=$e(d,_),L!=null&&T.unshift(Ma(d,L,O))):b||(L=$e(d,_),L!=null&&T.push(Ma(d,L,O)))),d=d.return}T.length!==0&&s.push({event:a,listeners:T})}var qk=/\r\n?/g,Yk=/\u0000|\uFFFD/g;function zg(s){return(typeof s=="string"?s:""+s).replace(qk,`
`).replace(Yk,"")}function _c(s,a,d){if(a=zg(a),zg(s)!==a&&d)throw Error(r(425))}function Nc(){}var Sf=null,_f=null;function Nf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cf=typeof setTimeout=="function"?setTimeout:void 0,Gk=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,Kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(s){return Wg.resolve(null).then(s).catch(Xk)}:Cf;function Xk(s){setTimeout(function(){throw s})}function kf(s,a){var d=a,v=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(v===0){s.removeChild(b),Ca(a);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=b}while(d);Ca(a)}function ds(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Hg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),pn="__reactFiber$"+Zi,Ia="__reactProps$"+Zi,En="__reactContainer$"+Zi,Pf="__reactEvents$"+Zi,Jk="__reactListeners$"+Zi,Qk="__reactHandles$"+Zi;function ni(s){var a=s[pn];if(a)return a;for(var d=s.parentNode;d;){if(a=d[En]||d[pn]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=Hg(s);s!==null;){if(d=s[pn])return d;s=Hg(s)}return a}s=d,d=s.parentNode}return null}function La(s){return s=s[pn]||s[En],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function eo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Cc(s){return s[Ia]||null}var Ef=[],to=-1;function fs(s){return{current:s}}function at(s){0>to||(s.current=Ef[to],Ef[to]=null,to--)}function rt(s,a){to++,Ef[to]=s.current,s.current=a}var hs={},Ht=fs(hs),lr=fs(!1),si=hs;function ro(s,a){var d=s.type.contextTypes;if(!d)return hs;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===a)return v.__reactInternalMemoizedMaskedChildContext;var b={},_;for(_ in d)b[_]=a[_];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=b),b}function cr(s){return s=s.childContextTypes,s!=null}function kc(){at(lr),at(Ht)}function qg(s,a,d){if(Ht.current!==hs)throw Error(r(168));rt(Ht,a),rt(lr,d)}function Yg(s,a,d){var v=s.stateNode;if(a=a.childContextTypes,typeof v.getChildContext!="function")return d;v=v.getChildContext();for(var b in v)if(!(b in a))throw Error(r(108,ue(s)||"Unknown",b));return Z({},d,v)}function Pc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||hs,si=Ht.current,rt(Ht,s),rt(lr,lr.current),!0}function Gg(s,a,d){var v=s.stateNode;if(!v)throw Error(r(169));d?(s=Yg(s,a,si),v.__reactInternalMemoizedMergedChildContext=s,at(lr),at(Ht),rt(Ht,s)):at(lr),rt(lr,d)}var Tn=null,Ec=!1,Tf=!1;function Kg(s){Tn===null?Tn=[s]:Tn.push(s)}function Zk(s){Ec=!0,Kg(s)}function ms(){if(!Tf&&Tn!==null){Tf=!0;var s=0,a=Qe;try{var d=Tn;for(Qe=1;s<d.length;s++){var v=d[s];do v=v(!0);while(v!==null)}Tn=null,Ec=!1}catch(b){throw Tn!==null&&(Tn=Tn.slice(s+1)),Jv(Jd,ms),b}finally{Qe=a,Tf=!1}}return null}var no=[],so=0,Tc=null,Ac=0,Dr=[],Rr=0,ii=null,An=1,Dn="";function oi(s,a){no[so++]=Ac,no[so++]=Tc,Tc=s,Ac=a}function Xg(s,a,d){Dr[Rr++]=An,Dr[Rr++]=Dn,Dr[Rr++]=ii,ii=s;var v=An;s=Dn;var b=32-qr(v)-1;v&=~(1<<b),d+=1;var _=32-qr(a)+b;if(30<_){var T=b-b%5;_=(v&(1<<T)-1).toString(32),v>>=T,b-=T,An=1<<32-qr(a)+b|d<<b|v,Dn=_+s}else An=1<<_|d<<b|v,Dn=s}function Af(s){s.return!==null&&(oi(s,1),Xg(s,1,0))}function Df(s){for(;s===Tc;)Tc=no[--so],no[so]=null,Ac=no[--so],no[so]=null;for(;s===ii;)ii=Dr[--Rr],Dr[Rr]=null,Dn=Dr[--Rr],Dr[Rr]=null,An=Dr[--Rr],Dr[Rr]=null}var wr=null,br=null,ct=!1,Gr=null;function Jg(s,a){var d=Ir(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Qg(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,wr=s,br=ds(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,wr=s,br=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=ii!==null?{id:An,overflow:Dn}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Ir(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,wr=s,br=null,!0):!1;default:return!1}}function Rf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Of(s){if(ct){var a=br;if(a){var d=a;if(!Qg(s,a)){if(Rf(s))throw Error(r(418));a=ds(d.nextSibling);var v=wr;a&&Qg(s,a)?Jg(v,d):(s.flags=s.flags&-4097|2,ct=!1,wr=s)}}else{if(Rf(s))throw Error(r(418));s.flags=s.flags&-4097|2,ct=!1,wr=s}}}function Zg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wr=s}function Dc(s){if(s!==wr)return!1;if(!ct)return Zg(s),ct=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Nf(s.type,s.memoizedProps)),a&&(a=br)){if(Rf(s))throw ey(),Error(r(418));for(;a;)Jg(s,a),a=ds(a.nextSibling)}if(Zg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){br=ds(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}br=null}}else br=wr?ds(s.stateNode.nextSibling):null;return!0}function ey(){for(var s=br;s;)s=ds(s.nextSibling)}function io(){br=wr=null,ct=!1}function $f(s){Gr===null?Gr=[s]:Gr.push(s)}var e2=P.ReactCurrentBatchConfig;function Fa(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var v=d.stateNode}if(!v)throw Error(r(147,s));var b=v,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var O=b.refs;T===null?delete O[_]:O[_]=T},a._stringRef=_,a)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function Rc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function ty(s){var a=s._init;return a(s._payload)}function ry(s){function a(W,U){if(s){var H=W.deletions;H===null?(W.deletions=[U],W.flags|=16):H.push(U)}}function d(W,U){if(!s)return null;for(;U!==null;)a(W,U),U=U.sibling;return null}function v(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function b(W,U){return W=js(W,U),W.index=0,W.sibling=null,W}function _(W,U,H){return W.index=H,s?(H=W.alternate,H!==null?(H=H.index,H<U?(W.flags|=2,U):H):(W.flags|=2,U)):(W.flags|=1048576,U)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function O(W,U,H,ce){return U===null||U.tag!==6?(U=Ch(H,W.mode,ce),U.return=W,U):(U=b(U,H),U.return=W,U)}function L(W,U,H,ce){var _e=H.type;return _e===C?ne(W,U,H.props.children,ce,H.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ee&&ty(_e)===U.type)?(ce=b(U,H.props),ce.ref=Fa(W,U,H),ce.return=W,ce):(ce=nu(H.type,H.key,H.props,null,W.mode,ce),ce.ref=Fa(W,U,H),ce.return=W,ce)}function Y(W,U,H,ce){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=kh(H,W.mode,ce),U.return=W,U):(U=b(U,H.children||[]),U.return=W,U)}function ne(W,U,H,ce,_e){return U===null||U.tag!==7?(U=mi(H,W.mode,ce,_e),U.return=W,U):(U=b(U,H),U.return=W,U)}function se(W,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Ch(""+U,W.mode,H),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return H=nu(U.type,U.key,U.props,null,W.mode,H),H.ref=Fa(W,null,U),H.return=W,H;case A:return U=kh(U,W.mode,H),U.return=W,U;case ee:var ce=U._init;return se(W,ce(U._payload),H)}if(Ar(U)||K(U))return U=mi(U,W.mode,H,null),U.return=W,U;Rc(W,U)}return null}function re(W,U,H,ce){var _e=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return _e!==null?null:O(W,U,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===_e?L(W,U,H,ce):null;case A:return H.key===_e?Y(W,U,H,ce):null;case ee:return _e=H._init,re(W,U,_e(H._payload),ce)}if(Ar(H)||K(H))return _e!==null?null:ne(W,U,H,ce,null);Rc(W,H)}return null}function pe(W,U,H,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return W=W.get(H)||null,O(U,W,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case D:return W=W.get(ce.key===null?H:ce.key)||null,L(U,W,ce,_e);case A:return W=W.get(ce.key===null?H:ce.key)||null,Y(U,W,ce,_e);case ee:var Te=ce._init;return pe(W,U,H,Te(ce._payload),_e)}if(Ar(ce)||K(ce))return W=W.get(H)||null,ne(U,W,ce,_e,null);Rc(U,ce)}return null}function we(W,U,H,ce){for(var _e=null,Te=null,Ae=U,Fe=U=0,Dt=null;Ae!==null&&Fe<H.length;Fe++){Ae.index>Fe?(Dt=Ae,Ae=null):Dt=Ae.sibling;var Xe=re(W,Ae,H[Fe],ce);if(Xe===null){Ae===null&&(Ae=Dt);break}s&&Ae&&Xe.alternate===null&&a(W,Ae),U=_(Xe,U,Fe),Te===null?_e=Xe:Te.sibling=Xe,Te=Xe,Ae=Dt}if(Fe===H.length)return d(W,Ae),ct&&oi(W,Fe),_e;if(Ae===null){for(;Fe<H.length;Fe++)Ae=se(W,H[Fe],ce),Ae!==null&&(U=_(Ae,U,Fe),Te===null?_e=Ae:Te.sibling=Ae,Te=Ae);return ct&&oi(W,Fe),_e}for(Ae=v(W,Ae);Fe<H.length;Fe++)Dt=pe(Ae,W,Fe,H[Fe],ce),Dt!==null&&(s&&Dt.alternate!==null&&Ae.delete(Dt.key===null?Fe:Dt.key),U=_(Dt,U,Fe),Te===null?_e=Dt:Te.sibling=Dt,Te=Dt);return s&&Ae.forEach(function(Ss){return a(W,Ss)}),ct&&oi(W,Fe),_e}function be(W,U,H,ce){var _e=K(H);if(typeof _e!="function")throw Error(r(150));if(H=_e.call(H),H==null)throw Error(r(151));for(var Te=_e=null,Ae=U,Fe=U=0,Dt=null,Xe=H.next();Ae!==null&&!Xe.done;Fe++,Xe=H.next()){Ae.index>Fe?(Dt=Ae,Ae=null):Dt=Ae.sibling;var Ss=re(W,Ae,Xe.value,ce);if(Ss===null){Ae===null&&(Ae=Dt);break}s&&Ae&&Ss.alternate===null&&a(W,Ae),U=_(Ss,U,Fe),Te===null?_e=Ss:Te.sibling=Ss,Te=Ss,Ae=Dt}if(Xe.done)return d(W,Ae),ct&&oi(W,Fe),_e;if(Ae===null){for(;!Xe.done;Fe++,Xe=H.next())Xe=se(W,Xe.value,ce),Xe!==null&&(U=_(Xe,U,Fe),Te===null?_e=Xe:Te.sibling=Xe,Te=Xe);return ct&&oi(W,Fe),_e}for(Ae=v(W,Ae);!Xe.done;Fe++,Xe=H.next())Xe=pe(Ae,W,Fe,Xe.value,ce),Xe!==null&&(s&&Xe.alternate!==null&&Ae.delete(Xe.key===null?Fe:Xe.key),U=_(Xe,U,Fe),Te===null?_e=Xe:Te.sibling=Xe,Te=Xe);return s&&Ae.forEach(function(R2){return a(W,R2)}),ct&&oi(W,Fe),_e}function xt(W,U,H,ce){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var _e=H.key,Te=U;Te!==null;){if(Te.key===_e){if(_e=H.type,_e===C){if(Te.tag===7){d(W,Te.sibling),U=b(Te,H.props.children),U.return=W,W=U;break e}}else if(Te.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ee&&ty(_e)===Te.type){d(W,Te.sibling),U=b(Te,H.props),U.ref=Fa(W,Te,H),U.return=W,W=U;break e}d(W,Te);break}else a(W,Te);Te=Te.sibling}H.type===C?(U=mi(H.props.children,W.mode,ce,H.key),U.return=W,W=U):(ce=nu(H.type,H.key,H.props,null,W.mode,ce),ce.ref=Fa(W,U,H),ce.return=W,W=ce)}return T(W);case A:e:{for(Te=H.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){d(W,U.sibling),U=b(U,H.children||[]),U.return=W,W=U;break e}else{d(W,U);break}else a(W,U);U=U.sibling}U=kh(H,W.mode,ce),U.return=W,W=U}return T(W);case ee:return Te=H._init,xt(W,U,Te(H._payload),ce)}if(Ar(H))return we(W,U,H,ce);if(K(H))return be(W,U,H,ce);Rc(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,U!==null&&U.tag===6?(d(W,U.sibling),U=b(U,H),U.return=W,W=U):(d(W,U),U=Ch(H,W.mode,ce),U.return=W,W=U),T(W)):d(W,U)}return xt}var oo=ry(!0),ny=ry(!1),Oc=fs(null),$c=null,ao=null,Mf=null;function If(){Mf=ao=$c=null}function Lf(s){var a=Oc.current;at(Oc),s._currentValue=a}function Ff(s,a,d){for(;s!==null;){var v=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,v!==null&&(v.childLanes|=a)):v!==null&&(v.childLanes&a)!==a&&(v.childLanes|=a),s===d)break;s=s.return}}function lo(s,a){$c=s,Mf=ao=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(ur=!0),s.firstContext=null)}function Or(s){var a=s._currentValue;if(Mf!==s)if(s={context:s,memoizedValue:a,next:null},ao===null){if($c===null)throw Error(r(308));ao=s,$c.dependencies={lanes:0,firstContext:s}}else ao=ao.next=s;return a}var ai=null;function Uf(s){ai===null?ai=[s]:ai.push(s)}function sy(s,a,d,v){var b=a.interleaved;return b===null?(d.next=d,Uf(a)):(d.next=b.next,b.next=d),a.interleaved=d,Rn(s,v)}function Rn(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var ps=!1;function Vf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iy(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function On(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function vs(s,a,d){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Ge&2)!==0){var b=v.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),v.pending=a,Rn(s,d)}return b=v.interleaved,b===null?(a.next=a,Uf(v)):(a.next=b.next,b.next=a),v.interleaved=a,Rn(s,d)}function Mc(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var v=a.lanes;v&=s.pendingLanes,d|=v,a.lanes=d,ef(s,d)}}function oy(s,a){var d=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var b=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?b=_=T:_=_.next=T,d=d.next}while(d!==null);_===null?b=_=a:_=_.next=a}else b=_=a;d={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:v.shared,effects:v.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Ic(s,a,d,v){var b=s.updateQueue;ps=!1;var _=b.firstBaseUpdate,T=b.lastBaseUpdate,O=b.shared.pending;if(O!==null){b.shared.pending=null;var L=O,Y=L.next;L.next=null,T===null?_=Y:T.next=Y,T=L;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==T&&(O===null?ne.firstBaseUpdate=Y:O.next=Y,ne.lastBaseUpdate=L))}if(_!==null){var se=b.baseState;T=0,ne=Y=L=null,O=_;do{var re=O.lane,pe=O.eventTime;if((v&re)===re){ne!==null&&(ne=ne.next={eventTime:pe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var we=s,be=O;switch(re=a,pe=d,be.tag){case 1:if(we=be.payload,typeof we=="function"){se=we.call(pe,se,re);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,re=typeof we=="function"?we.call(pe,se,re):we,re==null)break e;se=Z({},se,re);break e;case 2:ps=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,re=b.effects,re===null?b.effects=[O]:re.push(O))}else pe={eventTime:pe,lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(Y=ne=pe,L=se):ne=ne.next=pe,T|=re;if(O=O.next,O===null){if(O=b.shared.pending,O===null)break;re=O,O=re.next,re.next=null,b.lastBaseUpdate=re,b.shared.pending=null}}while(!0);if(ne===null&&(L=se),b.baseState=L,b.firstBaseUpdate=Y,b.lastBaseUpdate=ne,a=b.shared.interleaved,a!==null){b=a;do T|=b.lane,b=b.next;while(b!==a)}else _===null&&(b.shared.lanes=0);ui|=T,s.lanes=T,s.memoizedState=se}}function ay(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var v=s[a],b=v.callback;if(b!==null){if(v.callback=null,v=d,typeof b!="function")throw Error(r(191,b));b.call(v)}}}var Ua={},vn=fs(Ua),Va=fs(Ua),Ba=fs(Ua);function li(s){if(s===Ua)throw Error(r(174));return s}function Bf(s,a){switch(rt(Ba,a),rt(Va,s),rt(vn,Ua),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ha(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ha(a,s)}at(vn),rt(vn,a)}function co(){at(vn),at(Va),at(Ba)}function ly(s){li(Ba.current);var a=li(vn.current),d=ha(a,s.type);a!==d&&(rt(Va,s),rt(vn,d))}function zf(s){Va.current===s&&(at(vn),at(Va))}var ut=fs(0);function Lc(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wf=[];function Hf(){for(var s=0;s<Wf.length;s++)Wf[s]._workInProgressVersionPrimary=null;Wf.length=0}var Fc=P.ReactCurrentDispatcher,qf=P.ReactCurrentBatchConfig,ci=0,dt=null,Pt=null,Tt=null,Uc=!1,za=!1,Wa=0,t2=0;function qt(){throw Error(r(321))}function Yf(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!Yr(s[d],a[d]))return!1;return!0}function Gf(s,a,d,v,b,_){if(ci=_,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fc.current=s===null||s.memoizedState===null?i2:o2,s=d(v,b),za){_=0;do{if(za=!1,Wa=0,25<=_)throw Error(r(301));_+=1,Tt=Pt=null,a.updateQueue=null,Fc.current=a2,s=d(v,b)}while(za)}if(Fc.current=zc,a=Pt!==null&&Pt.next!==null,ci=0,Tt=Pt=dt=null,Uc=!1,a)throw Error(r(300));return s}function Kf(){var s=Wa!==0;return Wa=0,s}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?dt.memoizedState=Tt=s:Tt=Tt.next=s,Tt}function $r(){if(Pt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Pt.next;var a=Tt===null?dt.memoizedState:Tt.next;if(a!==null)Tt=a,Pt=s;else{if(s===null)throw Error(r(310));Pt=s,s={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Tt===null?dt.memoizedState=Tt=s:Tt=Tt.next=s}return Tt}function Ha(s,a){return typeof a=="function"?a(s):a}function Xf(s){var a=$r(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var v=Pt,b=v.baseQueue,_=d.pending;if(_!==null){if(b!==null){var T=b.next;b.next=_.next,_.next=T}v.baseQueue=b=_,d.pending=null}if(b!==null){_=b.next,v=v.baseState;var O=T=null,L=null,Y=_;do{var ne=Y.lane;if((ci&ne)===ne)L!==null&&(L=L.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),v=Y.hasEagerState?Y.eagerState:s(v,Y.action);else{var se={lane:ne,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};L===null?(O=L=se,T=v):L=L.next=se,dt.lanes|=ne,ui|=ne}Y=Y.next}while(Y!==null&&Y!==_);L===null?T=v:L.next=O,Yr(v,a.memoizedState)||(ur=!0),a.memoizedState=v,a.baseState=T,a.baseQueue=L,d.lastRenderedState=v}if(s=d.interleaved,s!==null){b=s;do _=b.lane,dt.lanes|=_,ui|=_,b=b.next;while(b!==s)}else b===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Jf(s){var a=$r(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var v=d.dispatch,b=d.pending,_=a.memoizedState;if(b!==null){d.pending=null;var T=b=b.next;do _=s(_,T.action),T=T.next;while(T!==b);Yr(_,a.memoizedState)||(ur=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),d.lastRenderedState=_}return[_,v]}function cy(){}function uy(s,a){var d=dt,v=$r(),b=a(),_=!Yr(v.memoizedState,b);if(_&&(v.memoizedState=b,ur=!0),v=v.queue,Qf(hy.bind(null,d,v,s),[s]),v.getSnapshot!==a||_||Tt!==null&&Tt.memoizedState.tag&1){if(d.flags|=2048,qa(9,fy.bind(null,d,v,b,a),void 0,null),At===null)throw Error(r(349));(ci&30)!==0||dy(d,a,b)}return b}function dy(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function fy(s,a,d,v){a.value=d,a.getSnapshot=v,my(a)&&py(s)}function hy(s,a,d){return d(function(){my(a)&&py(s)})}function my(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!Yr(s,d)}catch{return!0}}function py(s){var a=Rn(s,1);a!==null&&Qr(a,s,1,-1)}function vy(s){var a=gn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},a.queue=s,s=s.dispatch=s2.bind(null,dt,s),[a.memoizedState,s]}function qa(s,a,d,v){return s={tag:s,create:a,destroy:d,deps:v,next:null},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(v=d.next,d.next=s,s.next=v,a.lastEffect=s)),s}function gy(){return $r().memoizedState}function Vc(s,a,d,v){var b=gn();dt.flags|=s,b.memoizedState=qa(1|a,d,void 0,v===void 0?null:v)}function Bc(s,a,d,v){var b=$r();v=v===void 0?null:v;var _=void 0;if(Pt!==null){var T=Pt.memoizedState;if(_=T.destroy,v!==null&&Yf(v,T.deps)){b.memoizedState=qa(a,d,_,v);return}}dt.flags|=s,b.memoizedState=qa(1|a,d,_,v)}function yy(s,a){return Vc(8390656,8,s,a)}function Qf(s,a){return Bc(2048,8,s,a)}function xy(s,a){return Bc(4,2,s,a)}function wy(s,a){return Bc(4,4,s,a)}function by(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function jy(s,a,d){return d=d!=null?d.concat([s]):null,Bc(4,4,by.bind(null,a,s),d)}function Zf(){}function Sy(s,a){var d=$r();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&Yf(a,v[1])?v[0]:(d.memoizedState=[s,a],s)}function _y(s,a){var d=$r();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&Yf(a,v[1])?v[0]:(s=s(),d.memoizedState=[s,a],s)}function Ny(s,a,d){return(ci&21)===0?(s.baseState&&(s.baseState=!1,ur=!0),s.memoizedState=d):(Yr(d,a)||(d=tg(),dt.lanes|=d,ui|=d,s.baseState=!0),a)}function r2(s,a){var d=Qe;Qe=d!==0&&4>d?d:4,s(!0);var v=qf.transition;qf.transition={};try{s(!1),a()}finally{Qe=d,qf.transition=v}}function Cy(){return $r().memoizedState}function n2(s,a,d){var v=ws(s);if(d={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null},ky(s))Py(a,d);else if(d=sy(s,a,d,v),d!==null){var b=rr();Qr(d,s,v,b),Ey(d,a,v)}}function s2(s,a,d){var v=ws(s),b={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null};if(ky(s))Py(a,b);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,O=_(T,d);if(b.hasEagerState=!0,b.eagerState=O,Yr(O,T)){var L=a.interleaved;L===null?(b.next=b,Uf(a)):(b.next=L.next,L.next=b),a.interleaved=b;return}}catch{}finally{}d=sy(s,a,b,v),d!==null&&(b=rr(),Qr(d,s,v,b),Ey(d,a,v))}}function ky(s){var a=s.alternate;return s===dt||a!==null&&a===dt}function Py(s,a){za=Uc=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function Ey(s,a,d){if((d&4194240)!==0){var v=a.lanes;v&=s.pendingLanes,d|=v,a.lanes=d,ef(s,d)}}var zc={readContext:Or,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},i2={readContext:Or,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:Or,useEffect:yy,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Vc(4194308,4,by.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Vc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Vc(4,2,s,a)},useMemo:function(s,a){var d=gn();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var v=gn();return a=d!==void 0?d(a):a,v.memoizedState=v.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},v.queue=s,s=s.dispatch=n2.bind(null,dt,s),[v.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:vy,useDebugValue:Zf,useDeferredValue:function(s){return gn().memoizedState=s},useTransition:function(){var s=vy(!1),a=s[0];return s=r2.bind(null,s[1]),gn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var v=dt,b=gn();if(ct){if(d===void 0)throw Error(r(407));d=d()}else{if(d=a(),At===null)throw Error(r(349));(ci&30)!==0||dy(v,a,d)}b.memoizedState=d;var _={value:d,getSnapshot:a};return b.queue=_,yy(hy.bind(null,v,_,s),[s]),v.flags|=2048,qa(9,fy.bind(null,v,_,d,a),void 0,null),d},useId:function(){var s=gn(),a=At.identifierPrefix;if(ct){var d=Dn,v=An;d=(v&~(1<<32-qr(v)-1)).toString(32)+d,a=":"+a+"R"+d,d=Wa++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=t2++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},o2={readContext:Or,useCallback:Sy,useContext:Or,useEffect:Qf,useImperativeHandle:jy,useInsertionEffect:xy,useLayoutEffect:wy,useMemo:_y,useReducer:Xf,useRef:gy,useState:function(){return Xf(Ha)},useDebugValue:Zf,useDeferredValue:function(s){var a=$r();return Ny(a,Pt.memoizedState,s)},useTransition:function(){var s=Xf(Ha)[0],a=$r().memoizedState;return[s,a]},useMutableSource:cy,useSyncExternalStore:uy,useId:Cy,unstable_isNewReconciler:!1},a2={readContext:Or,useCallback:Sy,useContext:Or,useEffect:Qf,useImperativeHandle:jy,useInsertionEffect:xy,useLayoutEffect:wy,useMemo:_y,useReducer:Jf,useRef:gy,useState:function(){return Jf(Ha)},useDebugValue:Zf,useDeferredValue:function(s){var a=$r();return Pt===null?a.memoizedState=s:Ny(a,Pt.memoizedState,s)},useTransition:function(){var s=Jf(Ha)[0],a=$r().memoizedState;return[s,a]},useMutableSource:cy,useSyncExternalStore:uy,useId:Cy,unstable_isNewReconciler:!1};function Kr(s,a){if(s&&s.defaultProps){a=Z({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function eh(s,a,d,v){a=s.memoizedState,d=d(v,a),d=d==null?a:Z({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Wc={isMounted:function(s){return(s=s._reactInternals)?ri(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var v=rr(),b=ws(s),_=On(v,b);_.payload=a,d!=null&&(_.callback=d),a=vs(s,_,b),a!==null&&(Qr(a,s,b,v),Mc(a,s,b))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var v=rr(),b=ws(s),_=On(v,b);_.tag=1,_.payload=a,d!=null&&(_.callback=d),a=vs(s,_,b),a!==null&&(Qr(a,s,b,v),Mc(a,s,b))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=rr(),v=ws(s),b=On(d,v);b.tag=2,a!=null&&(b.callback=a),a=vs(s,b,v),a!==null&&(Qr(a,s,v,d),Mc(a,s,v))}};function Ty(s,a,d,v,b,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,_,T):a.prototype&&a.prototype.isPureReactComponent?!Da(d,v)||!Da(b,_):!0}function Ay(s,a,d){var v=!1,b=hs,_=a.contextType;return typeof _=="object"&&_!==null?_=Or(_):(b=cr(a)?si:Ht.current,v=a.contextTypes,_=(v=v!=null)?ro(s,b):hs),a=new a(d,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Wc,s.stateNode=a,a._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=_),a}function Dy(s,a,d,v){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,v),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,v),a.state!==s&&Wc.enqueueReplaceState(a,a.state,null)}function th(s,a,d,v){var b=s.stateNode;b.props=d,b.state=s.memoizedState,b.refs={},Vf(s);var _=a.contextType;typeof _=="object"&&_!==null?b.context=Or(_):(_=cr(a)?si:Ht.current,b.context=ro(s,_)),b.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(eh(s,a,_,d),b.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&Wc.enqueueReplaceState(b,b.state,null),Ic(s,d,b,v),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function uo(s,a){try{var d="",v=a;do d+=Ne(v),v=v.return;while(v);var b=d}catch(_){b=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:b,digest:null}}function rh(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function nh(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var l2=typeof WeakMap=="function"?WeakMap:Map;function Ry(s,a,d){d=On(-1,d),d.tag=3,d.payload={element:null};var v=a.value;return d.callback=function(){Jc||(Jc=!0,yh=v),nh(s,a)},d}function Oy(s,a,d){d=On(-1,d),d.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var b=a.value;d.payload=function(){return v(b)},d.callback=function(){nh(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){nh(s,a),typeof v!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function $y(s,a,d){var v=s.pingCache;if(v===null){v=s.pingCache=new l2;var b=new Set;v.set(a,b)}else b=v.get(a),b===void 0&&(b=new Set,v.set(a,b));b.has(d)||(b.add(d),s=j2.bind(null,s,a,d),a.then(s,s))}function My(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Iy(s,a,d,v,b){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=On(-1,1),a.tag=2,vs(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var c2=P.ReactCurrentOwner,ur=!1;function tr(s,a,d,v){a.child=s===null?ny(a,null,d,v):oo(a,s.child,d,v)}function Ly(s,a,d,v,b){d=d.render;var _=a.ref;return lo(a,b),v=Gf(s,a,d,v,_,b),d=Kf(),s!==null&&!ur?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~b,$n(s,a,b)):(ct&&d&&Af(a),a.flags|=1,tr(s,a,v,b),a.child)}function Fy(s,a,d,v,b){if(s===null){var _=d.type;return typeof _=="function"&&!Nh(_)&&_.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=_,Uy(s,a,_,v,b)):(s=nu(d.type,null,v,a,a.mode,b),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&b)===0){var T=_.memoizedProps;if(d=d.compare,d=d!==null?d:Da,d(T,v)&&s.ref===a.ref)return $n(s,a,b)}return a.flags|=1,s=js(_,v),s.ref=a.ref,s.return=a,a.child=s}function Uy(s,a,d,v,b){if(s!==null){var _=s.memoizedProps;if(Da(_,v)&&s.ref===a.ref)if(ur=!1,a.pendingProps=v=_,(s.lanes&b)!==0)(s.flags&131072)!==0&&(ur=!0);else return a.lanes=s.lanes,$n(s,a,b)}return sh(s,a,d,v,b)}function Vy(s,a,d){var v=a.pendingProps,b=v.children,_=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(ho,jr),jr|=d;else{if((d&1073741824)===0)return s=_!==null?_.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,rt(ho,jr),jr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=_!==null?_.baseLanes:d,rt(ho,jr),jr|=v}else _!==null?(v=_.baseLanes|d,a.memoizedState=null):v=d,rt(ho,jr),jr|=v;return tr(s,a,b,d),a.child}function By(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function sh(s,a,d,v,b){var _=cr(d)?si:Ht.current;return _=ro(a,_),lo(a,b),d=Gf(s,a,d,v,_,b),v=Kf(),s!==null&&!ur?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~b,$n(s,a,b)):(ct&&v&&Af(a),a.flags|=1,tr(s,a,d,b),a.child)}function zy(s,a,d,v,b){if(cr(d)){var _=!0;Pc(a)}else _=!1;if(lo(a,b),a.stateNode===null)qc(s,a),Ay(a,d,v),th(a,d,v,b),v=!0;else if(s===null){var T=a.stateNode,O=a.memoizedProps;T.props=O;var L=T.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=Or(Y):(Y=cr(d)?si:Ht.current,Y=ro(a,Y));var ne=d.getDerivedStateFromProps,se=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==v||L!==Y)&&Dy(a,T,v,Y),ps=!1;var re=a.memoizedState;T.state=re,Ic(a,v,T,b),L=a.memoizedState,O!==v||re!==L||lr.current||ps?(typeof ne=="function"&&(eh(a,d,ne,v),L=a.memoizedState),(O=ps||Ty(a,d,O,v,re,L,Y))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=v,a.memoizedState=L),T.props=v,T.state=L,T.context=Y,v=O):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),v=!1)}else{T=a.stateNode,iy(s,a),O=a.memoizedProps,Y=a.type===a.elementType?O:Kr(a.type,O),T.props=Y,se=a.pendingProps,re=T.context,L=d.contextType,typeof L=="object"&&L!==null?L=Or(L):(L=cr(d)?si:Ht.current,L=ro(a,L));var pe=d.getDerivedStateFromProps;(ne=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==se||re!==L)&&Dy(a,T,v,L),ps=!1,re=a.memoizedState,T.state=re,Ic(a,v,T,b);var we=a.memoizedState;O!==se||re!==we||lr.current||ps?(typeof pe=="function"&&(eh(a,d,pe,v),we=a.memoizedState),(Y=ps||Ty(a,d,Y,v,re,we,L)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,we,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,we,L)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=v,a.memoizedState=we),T.props=v,T.state=we,T.context=L,v=Y):(typeof T.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),v=!1)}return ih(s,a,d,v,_,b)}function ih(s,a,d,v,b,_){By(s,a);var T=(a.flags&128)!==0;if(!v&&!T)return b&&Gg(a,d,!1),$n(s,a,_);v=a.stateNode,c2.current=a;var O=T&&typeof d.getDerivedStateFromError!="function"?null:v.render();return a.flags|=1,s!==null&&T?(a.child=oo(a,s.child,null,_),a.child=oo(a,null,O,_)):tr(s,a,O,_),a.memoizedState=v.state,b&&Gg(a,d,!0),a.child}function Wy(s){var a=s.stateNode;a.pendingContext?qg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&qg(s,a.context,!1),Bf(s,a.containerInfo)}function Hy(s,a,d,v,b){return io(),$f(b),a.flags|=256,tr(s,a,d,v),a.child}var oh={dehydrated:null,treeContext:null,retryLane:0};function ah(s){return{baseLanes:s,cachePool:null,transitions:null}}function qy(s,a,d){var v=a.pendingProps,b=ut.current,_=!1,T=(a.flags&128)!==0,O;if((O=T)||(O=s!==null&&s.memoizedState===null?!1:(b&2)!==0),O?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),rt(ut,b&1),s===null)return Of(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=v.children,s=v.fallback,_?(v=a.mode,_=a.child,T={mode:"hidden",children:T},(v&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=su(T,v,0,null),s=mi(s,v,d,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=ah(d),a.memoizedState=oh,s):lh(a,T));if(b=s.memoizedState,b!==null&&(O=b.dehydrated,O!==null))return u2(s,a,T,v,O,b,d);if(_){_=v.fallback,T=a.mode,b=s.child,O=b.sibling;var L={mode:"hidden",children:v.children};return(T&1)===0&&a.child!==b?(v=a.child,v.childLanes=0,v.pendingProps=L,a.deletions=null):(v=js(b,L),v.subtreeFlags=b.subtreeFlags&14680064),O!==null?_=js(O,_):(_=mi(_,T,d,null),_.flags|=2),_.return=a,v.return=a,v.sibling=_,a.child=v,v=_,_=a.child,T=s.child.memoizedState,T=T===null?ah(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~d,a.memoizedState=oh,v}return _=s.child,s=_.sibling,v=js(_,{mode:"visible",children:v.children}),(a.mode&1)===0&&(v.lanes=d),v.return=a,v.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=v,a.memoizedState=null,v}function lh(s,a){return a=su({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Hc(s,a,d,v){return v!==null&&$f(v),oo(a,s.child,null,d),s=lh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function u2(s,a,d,v,b,_,T){if(d)return a.flags&256?(a.flags&=-257,v=rh(Error(r(422))),Hc(s,a,T,v)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=v.fallback,b=a.mode,v=su({mode:"visible",children:v.children},b,0,null),_=mi(_,b,T,null),_.flags|=2,v.return=a,_.return=a,v.sibling=_,a.child=v,(a.mode&1)!==0&&oo(a,s.child,null,T),a.child.memoizedState=ah(T),a.memoizedState=oh,_);if((a.mode&1)===0)return Hc(s,a,T,null);if(b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var O=v.dgst;return v=O,_=Error(r(419)),v=rh(_,v,void 0),Hc(s,a,T,v)}if(O=(T&s.childLanes)!==0,ur||O){if(v=At,v!==null){switch(T&-T){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(v.suspendedLanes|T))!==0?0:b,b!==0&&b!==_.retryLane&&(_.retryLane=b,Rn(s,b),Qr(v,s,b,-1))}return _h(),v=rh(Error(r(421))),Hc(s,a,T,v)}return b.data==="$?"?(a.flags|=128,a.child=s.child,a=S2.bind(null,s),b._reactRetry=a,null):(s=_.treeContext,br=ds(b.nextSibling),wr=a,ct=!0,Gr=null,s!==null&&(Dr[Rr++]=An,Dr[Rr++]=Dn,Dr[Rr++]=ii,An=s.id,Dn=s.overflow,ii=a),a=lh(a,v.children),a.flags|=4096,a)}function Yy(s,a,d){s.lanes|=a;var v=s.alternate;v!==null&&(v.lanes|=a),Ff(s.return,a,d)}function ch(s,a,d,v,b){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:b}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=v,_.tail=d,_.tailMode=b)}function Gy(s,a,d){var v=a.pendingProps,b=v.revealOrder,_=v.tail;if(tr(s,a,v.children,d),v=ut.current,(v&2)!==0)v=v&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yy(s,d,a);else if(s.tag===19)Yy(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(rt(ut,v),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(d=a.child,b=null;d!==null;)s=d.alternate,s!==null&&Lc(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=a.child,a.child=null):(b=d.sibling,d.sibling=null),ch(a,!1,b,d,_);break;case"backwards":for(d=null,b=a.child,a.child=null;b!==null;){if(s=b.alternate,s!==null&&Lc(s)===null){a.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}ch(a,!0,d,null,_);break;case"together":ch(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function $n(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),ui|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,d=js(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=js(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function d2(s,a,d){switch(a.tag){case 3:Wy(a),io();break;case 5:ly(a);break;case 1:cr(a.type)&&Pc(a);break;case 4:Bf(a,a.stateNode.containerInfo);break;case 10:var v=a.type._context,b=a.memoizedProps.value;rt(Oc,v._currentValue),v._currentValue=b;break;case 13:if(v=a.memoizedState,v!==null)return v.dehydrated!==null?(rt(ut,ut.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?qy(s,a,d):(rt(ut,ut.current&1),s=$n(s,a,d),s!==null?s.sibling:null);rt(ut,ut.current&1);break;case 19:if(v=(d&a.childLanes)!==0,(s.flags&128)!==0){if(v)return Gy(s,a,d);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),rt(ut,ut.current),v)break;return null;case 22:case 23:return a.lanes=0,Vy(s,a,d)}return $n(s,a,d)}var Ky,uh,Xy,Jy;Ky=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},uh=function(){},Xy=function(s,a,d,v){var b=s.memoizedProps;if(b!==v){s=a.stateNode,li(vn.current);var _=null;switch(d){case"input":b=et(s,b),v=et(s,v),_=[];break;case"select":b=Z({},b,{value:void 0}),v=Z({},v,{value:void 0}),_=[];break;case"textarea":b=fa(s,b),v=fa(s,v),_=[];break;default:typeof b.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=Nc)}pa(d,v);var T;d=null;for(Y in b)if(!v.hasOwnProperty(Y)&&b.hasOwnProperty(Y)&&b[Y]!=null)if(Y==="style"){var O=b[Y];for(T in O)O.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?_||(_=[]):(_=_||[]).push(Y,null));for(Y in v){var L=v[Y];if(O=b!=null?b[Y]:void 0,v.hasOwnProperty(Y)&&L!==O&&(L!=null||O!=null))if(Y==="style")if(O){for(T in O)!O.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in L)L.hasOwnProperty(T)&&O[T]!==L[T]&&(d||(d={}),d[T]=L[T])}else d||(_||(_=[]),_.push(Y,d)),d=L;else Y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,O=O?O.__html:void 0,L!=null&&O!==L&&(_=_||[]).push(Y,L)):Y==="children"?typeof L!="string"&&typeof L!="number"||(_=_||[]).push(Y,""+L):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(L!=null&&Y==="onScroll"&&ot("scroll",s),_||O===L||(_=[])):(_=_||[]).push(Y,L))}d&&(_=_||[]).push("style",d);var Y=_;(a.updateQueue=Y)&&(a.flags|=4)}},Jy=function(s,a,d,v){d!==v&&(a.flags|=4)};function Ya(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Yt(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,v=0;if(a)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags&14680064,v|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=v,s.childLanes=d,a}function f2(s,a,d){var v=a.pendingProps;switch(Df(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(a),null;case 1:return cr(a.type)&&kc(),Yt(a),null;case 3:return v=a.stateNode,co(),at(lr),at(Ht),Hf(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Dc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gr!==null&&(bh(Gr),Gr=null))),uh(s,a),Yt(a),null;case 5:zf(a);var b=li(Ba.current);if(d=a.type,s!==null&&a.stateNode!=null)Xy(s,a,d,v,b),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!v){if(a.stateNode===null)throw Error(r(166));return Yt(a),null}if(s=li(vn.current),Dc(a)){v=a.stateNode,d=a.type;var _=a.memoizedProps;switch(v[pn]=a,v[Ia]=_,s=(a.mode&1)!==0,d){case"dialog":ot("cancel",v),ot("close",v);break;case"iframe":case"object":case"embed":ot("load",v);break;case"video":case"audio":for(b=0;b<Oa.length;b++)ot(Oa[b],v);break;case"source":ot("error",v);break;case"img":case"image":case"link":ot("error",v),ot("load",v);break;case"details":ot("toggle",v);break;case"input":vt(v,_),ot("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!_.multiple},ot("invalid",v);break;case"textarea":Zl(v,_),ot("invalid",v)}pa(d,_),b=null;for(var T in _)if(_.hasOwnProperty(T)){var O=_[T];T==="children"?typeof O=="string"?v.textContent!==O&&(_.suppressHydrationWarning!==!0&&_c(v.textContent,O,s),b=["children",O]):typeof O=="number"&&v.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&_c(v.textContent,O,s),b=["children",""+O]):o.hasOwnProperty(T)&&O!=null&&T==="onScroll"&&ot("scroll",v)}switch(d){case"input":Ee(v),ns(v,_,!0);break;case"textarea":Ee(v),tc(v);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(v.onclick=Nc)}v=b,a.updateQueue=v,v!==null&&(a.flags|=4)}else{T=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=rc(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=T.createElement(d,{is:v.is}):(s=T.createElement(d),d==="select"&&(T=s,v.multiple?T.multiple=!0:v.size&&(T.size=v.size))):s=T.createElementNS(s,d),s[pn]=a,s[Ia]=v,Ky(s,a,!1,!1),a.stateNode=s;e:{switch(T=va(d,v),d){case"dialog":ot("cancel",s),ot("close",s),b=v;break;case"iframe":case"object":case"embed":ot("load",s),b=v;break;case"video":case"audio":for(b=0;b<Oa.length;b++)ot(Oa[b],s);b=v;break;case"source":ot("error",s),b=v;break;case"img":case"image":case"link":ot("error",s),ot("load",s),b=v;break;case"details":ot("toggle",s),b=v;break;case"input":vt(s,v),b=et(s,v),ot("invalid",s);break;case"option":b=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},b=Z({},v,{value:void 0}),ot("invalid",s);break;case"textarea":Zl(s,v),b=fa(s,v),ot("invalid",s);break;default:b=v}pa(d,b),O=b;for(_ in O)if(O.hasOwnProperty(_)){var L=O[_];_==="style"?sc(s,L):_==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&ma(s,L)):_==="children"?typeof L=="string"?(d!=="textarea"||L!=="")&&Js(s,L):typeof L=="number"&&Js(s,""+L):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?L!=null&&_==="onScroll"&&ot("scroll",s):L!=null&&E(s,_,L,T))}switch(d){case"input":Ee(s),ns(s,v,!1);break;case"textarea":Ee(s),tc(s);break;case"option":v.value!=null&&s.setAttribute("value",""+me(v.value));break;case"select":s.multiple=!!v.multiple,_=v.value,_!=null?Wr(s,!!v.multiple,_,!1):v.defaultValue!=null&&Wr(s,!!v.multiple,v.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Nc)}switch(d){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Yt(a),null;case 6:if(s&&a.stateNode!=null)Jy(s,a,s.memoizedProps,v);else{if(typeof v!="string"&&a.stateNode===null)throw Error(r(166));if(d=li(Ba.current),li(vn.current),Dc(a)){if(v=a.stateNode,d=a.memoizedProps,v[pn]=a,(_=v.nodeValue!==d)&&(s=wr,s!==null))switch(s.tag){case 3:_c(v.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&_c(v.nodeValue,d,(s.mode&1)!==0)}_&&(a.flags|=4)}else v=(d.nodeType===9?d:d.ownerDocument).createTextNode(v),v[pn]=a,a.stateNode=v}return Yt(a),null;case 13:if(at(ut),v=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&br!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ey(),io(),a.flags|=98560,_=!1;else if(_=Dc(a),v!==null&&v.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[pn]=a}else io(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Yt(a),_=!1}else Gr!==null&&(bh(Gr),Gr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ut.current&1)!==0?Et===0&&(Et=3):_h())),a.updateQueue!==null&&(a.flags|=4),Yt(a),null);case 4:return co(),uh(s,a),s===null&&$a(a.stateNode.containerInfo),Yt(a),null;case 10:return Lf(a.type._context),Yt(a),null;case 17:return cr(a.type)&&kc(),Yt(a),null;case 19:if(at(ut),_=a.memoizedState,_===null)return Yt(a),null;if(v=(a.flags&128)!==0,T=_.rendering,T===null)if(v)Ya(_,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Lc(s),T!==null){for(a.flags|=128,Ya(_,!1),v=T.updateQueue,v!==null&&(a.updateQueue=v,a.flags|=4),a.subtreeFlags=0,v=d,d=a.child;d!==null;)_=d,s=v,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return rt(ut,ut.current&1|2),a.child}s=s.sibling}_.tail!==null&&yt()>mo&&(a.flags|=128,v=!0,Ya(_,!1),a.lanes=4194304)}else{if(!v)if(s=Lc(T),s!==null){if(a.flags|=128,v=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Ya(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!ct)return Yt(a),null}else 2*yt()-_.renderingStartTime>mo&&d!==1073741824&&(a.flags|=128,v=!0,Ya(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(d=_.last,d!==null?d.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=yt(),a.sibling=null,d=ut.current,rt(ut,v?d&1|2:d&1),a):(Yt(a),null);case 22:case 23:return Sh(),v=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(a.flags|=8192),v&&(a.mode&1)!==0?(jr&1073741824)!==0&&(Yt(a),a.subtreeFlags&6&&(a.flags|=8192)):Yt(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function h2(s,a){switch(Df(a),a.tag){case 1:return cr(a.type)&&kc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return co(),at(lr),at(Ht),Hf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return zf(a),null;case 13:if(at(ut),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));io()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return at(ut),null;case 4:return co(),null;case 10:return Lf(a.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var Yc=!1,Gt=!1,m2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function fo(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(v){mt(s,a,v)}else d.current=null}function dh(s,a,d){try{d()}catch(v){mt(s,a,v)}}var Qy=!1;function p2(s,a){if(Sf=hc,s=Tg(),pf(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var b=v.anchorOffset,_=v.focusNode;v=v.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var T=0,O=-1,L=-1,Y=0,ne=0,se=s,re=null;t:for(;;){for(var pe;se!==d||b!==0&&se.nodeType!==3||(O=T+b),se!==_||v!==0&&se.nodeType!==3||(L=T+v),se.nodeType===3&&(T+=se.nodeValue.length),(pe=se.firstChild)!==null;)re=se,se=pe;for(;;){if(se===s)break t;if(re===d&&++Y===b&&(O=T),re===_&&++ne===v&&(L=T),(pe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=pe}d=O===-1||L===-1?null:{start:O,end:L}}else d=null}d=d||{start:0,end:0}}else d=null;for(_f={focusedElem:s,selectionRange:d},hc=!1,ge=a;ge!==null;)if(a=ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ge=s;else for(;ge!==null;){a=ge;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var be=we.memoizedProps,xt=we.memoizedState,W=a.stateNode,U=W.getSnapshotBeforeUpdate(a.elementType===a.type?be:Kr(a.type,be),xt);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var H=a.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ce){mt(a,a.return,ce)}if(s=a.sibling,s!==null){s.return=a.return,ge=s;break}ge=a.return}return we=Qy,Qy=!1,we}function Ga(s,a,d){var v=a.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&s)===s){var _=b.destroy;b.destroy=void 0,_!==void 0&&dh(a,d,_)}b=b.next}while(b!==v)}}function Gc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var v=d.create;d.destroy=v()}d=d.next}while(d!==a)}}function fh(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Zy(s){var a=s.alternate;a!==null&&(s.alternate=null,Zy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[pn],delete a[Ia],delete a[Pf],delete a[Jk],delete a[Qk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ex(s){return s.tag===5||s.tag===3||s.tag===4}function tx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ex(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hh(s,a,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Nc));else if(v!==4&&(s=s.child,s!==null))for(hh(s,a,d),s=s.sibling;s!==null;)hh(s,a,d),s=s.sibling}function mh(s,a,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(mh(s,a,d),s=s.sibling;s!==null;)mh(s,a,d),s=s.sibling}var Lt=null,Xr=!1;function gs(s,a,d){for(d=d.child;d!==null;)rx(s,a,d),d=d.sibling}function rx(s,a,d){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ac,d)}catch{}switch(d.tag){case 5:Gt||fo(d,a);case 6:var v=Lt,b=Xr;Lt=null,gs(s,a,d),Lt=v,Xr=b,Lt!==null&&(Xr?(s=Lt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Lt.removeChild(d.stateNode));break;case 18:Lt!==null&&(Xr?(s=Lt,d=d.stateNode,s.nodeType===8?kf(s.parentNode,d):s.nodeType===1&&kf(s,d),Ca(s)):kf(Lt,d.stateNode));break;case 4:v=Lt,b=Xr,Lt=d.stateNode.containerInfo,Xr=!0,gs(s,a,d),Lt=v,Xr=b;break;case 0:case 11:case 14:case 15:if(!Gt&&(v=d.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){b=v=v.next;do{var _=b,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&dh(d,a,T),b=b.next}while(b!==v)}gs(s,a,d);break;case 1:if(!Gt&&(fo(d,a),v=d.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=d.memoizedProps,v.state=d.memoizedState,v.componentWillUnmount()}catch(O){mt(d,a,O)}gs(s,a,d);break;case 21:gs(s,a,d);break;case 22:d.mode&1?(Gt=(v=Gt)||d.memoizedState!==null,gs(s,a,d),Gt=v):gs(s,a,d);break;default:gs(s,a,d)}}function nx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new m2),a.forEach(function(v){var b=_2.bind(null,s,v);d.has(v)||(d.add(v),v.then(b,b))})}}function Jr(s,a){var d=a.deletions;if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];try{var _=s,T=a,O=T;e:for(;O!==null;){switch(O.tag){case 5:Lt=O.stateNode,Xr=!1;break e;case 3:Lt=O.stateNode.containerInfo,Xr=!0;break e;case 4:Lt=O.stateNode.containerInfo,Xr=!0;break e}O=O.return}if(Lt===null)throw Error(r(160));rx(_,T,b),Lt=null,Xr=!1;var L=b.alternate;L!==null&&(L.return=null),b.return=null}catch(Y){mt(b,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)sx(a,s),a=a.sibling}function sx(s,a){var d=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Jr(a,s),yn(s),v&4){try{Ga(3,s,s.return),Gc(3,s)}catch(be){mt(s,s.return,be)}try{Ga(5,s,s.return)}catch(be){mt(s,s.return,be)}}break;case 1:Jr(a,s),yn(s),v&512&&d!==null&&fo(d,d.return);break;case 5:if(Jr(a,s),yn(s),v&512&&d!==null&&fo(d,d.return),s.flags&32){var b=s.stateNode;try{Js(b,"")}catch(be){mt(s,s.return,be)}}if(v&4&&(b=s.stateNode,b!=null)){var _=s.memoizedProps,T=d!==null?d.memoizedProps:_,O=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&Er(b,_),va(O,T);var Y=va(O,_);for(T=0;T<L.length;T+=2){var ne=L[T],se=L[T+1];ne==="style"?sc(b,se):ne==="dangerouslySetInnerHTML"?ma(b,se):ne==="children"?Js(b,se):E(b,ne,se,Y)}switch(O){case"input":Tr(b,_);break;case"textarea":ec(b,_);break;case"select":var re=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?Wr(b,!!_.multiple,pe,!1):re!==!!_.multiple&&(_.defaultValue!=null?Wr(b,!!_.multiple,_.defaultValue,!0):Wr(b,!!_.multiple,_.multiple?[]:"",!1))}b[Ia]=_}catch(be){mt(s,s.return,be)}}break;case 6:if(Jr(a,s),yn(s),v&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,_=s.memoizedProps;try{b.nodeValue=_}catch(be){mt(s,s.return,be)}}break;case 3:if(Jr(a,s),yn(s),v&4&&d!==null&&d.memoizedState.isDehydrated)try{Ca(a.containerInfo)}catch(be){mt(s,s.return,be)}break;case 4:Jr(a,s),yn(s);break;case 13:Jr(a,s),yn(s),b=s.child,b.flags&8192&&(_=b.memoizedState!==null,b.stateNode.isHidden=_,!_||b.alternate!==null&&b.alternate.memoizedState!==null||(gh=yt())),v&4&&nx(s);break;case 22:if(ne=d!==null&&d.memoizedState!==null,s.mode&1?(Gt=(Y=Gt)||ne,Jr(a,s),Gt=Y):Jr(a,s),yn(s),v&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ne&&(s.mode&1)!==0)for(ge=s,ne=s.child;ne!==null;){for(se=ge=ne;ge!==null;){switch(re=ge,pe=re.child,re.tag){case 0:case 11:case 14:case 15:Ga(4,re,re.return);break;case 1:fo(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){v=re,d=re.return;try{a=v,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(be){mt(v,d,be)}}break;case 5:fo(re,re.return);break;case 22:if(re.memoizedState!==null){ax(se);continue}}pe!==null?(pe.return=re,ge=pe):ax(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{b=se.stateNode,Y?(_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=se.stateNode,L=se.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,O.style.display=nc("display",T))}catch(be){mt(s,s.return,be)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(be){mt(s,s.return,be)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Jr(a,s),yn(s),v&4&&nx(s);break;case 21:break;default:Jr(a,s),yn(s)}}function yn(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(ex(d)){var v=d;break e}d=d.return}throw Error(r(160))}switch(v.tag){case 5:var b=v.stateNode;v.flags&32&&(Js(b,""),v.flags&=-33);var _=tx(s);mh(s,_,b);break;case 3:case 4:var T=v.stateNode.containerInfo,O=tx(s);hh(s,O,T);break;default:throw Error(r(161))}}catch(L){mt(s,s.return,L)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function v2(s,a,d){ge=s,ix(s)}function ix(s,a,d){for(var v=(s.mode&1)!==0;ge!==null;){var b=ge,_=b.child;if(b.tag===22&&v){var T=b.memoizedState!==null||Yc;if(!T){var O=b.alternate,L=O!==null&&O.memoizedState!==null||Gt;O=Yc;var Y=Gt;if(Yc=T,(Gt=L)&&!Y)for(ge=b;ge!==null;)T=ge,L=T.child,T.tag===22&&T.memoizedState!==null?lx(b):L!==null?(L.return=T,ge=L):lx(b);for(;_!==null;)ge=_,ix(_),_=_.sibling;ge=b,Yc=O,Gt=Y}ox(s)}else(b.subtreeFlags&8772)!==0&&_!==null?(_.return=b,ge=_):ox(s)}}function ox(s){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Gt||Gc(5,a);break;case 1:var v=a.stateNode;if(a.flags&4&&!Gt)if(d===null)v.componentDidMount();else{var b=a.elementType===a.type?d.memoizedProps:Kr(a.type,d.memoizedProps);v.componentDidUpdate(b,d.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&ay(a,_,v);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}ay(a,T,d)}break;case 5:var O=a.stateNode;if(d===null&&a.flags&4){d=O;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&d.focus();break;case"img":L.src&&(d.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ne=Y.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Ca(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gt||a.flags&512&&fh(a)}catch(re){mt(a,a.return,re)}}if(a===s){ge=null;break}if(d=a.sibling,d!==null){d.return=a.return,ge=d;break}ge=a.return}}function ax(s){for(;ge!==null;){var a=ge;if(a===s){ge=null;break}var d=a.sibling;if(d!==null){d.return=a.return,ge=d;break}ge=a.return}}function lx(s){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Gc(4,a)}catch(L){mt(a,d,L)}break;case 1:var v=a.stateNode;if(typeof v.componentDidMount=="function"){var b=a.return;try{v.componentDidMount()}catch(L){mt(a,b,L)}}var _=a.return;try{fh(a)}catch(L){mt(a,_,L)}break;case 5:var T=a.return;try{fh(a)}catch(L){mt(a,T,L)}}}catch(L){mt(a,a.return,L)}if(a===s){ge=null;break}var O=a.sibling;if(O!==null){O.return=a.return,ge=O;break}ge=a.return}}var g2=Math.ceil,Kc=P.ReactCurrentDispatcher,ph=P.ReactCurrentOwner,Mr=P.ReactCurrentBatchConfig,Ge=0,At=null,jt=null,Ft=0,jr=0,ho=fs(0),Et=0,Ka=null,ui=0,Xc=0,vh=0,Xa=null,dr=null,gh=0,mo=1/0,Mn=null,Jc=!1,yh=null,ys=null,Qc=!1,xs=null,Zc=0,Ja=0,xh=null,eu=-1,tu=0;function rr(){return(Ge&6)!==0?yt():eu!==-1?eu:eu=yt()}function ws(s){return(s.mode&1)===0?1:(Ge&2)!==0&&Ft!==0?Ft&-Ft:e2.transition!==null?(tu===0&&(tu=tg()),tu):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:ug(s.type)),s)}function Qr(s,a,d,v){if(50<Ja)throw Ja=0,xh=null,Error(r(185));ba(s,d,v),((Ge&2)===0||s!==At)&&(s===At&&((Ge&2)===0&&(Xc|=d),Et===4&&bs(s,Ft)),fr(s,v),d===1&&Ge===0&&(a.mode&1)===0&&(mo=yt()+500,Ec&&ms()))}function fr(s,a){var d=s.callbackNode;ek(s,a);var v=uc(s,s===At?Ft:0);if(v===0)d!==null&&Qv(d),s.callbackNode=null,s.callbackPriority=0;else if(a=v&-v,s.callbackPriority!==a){if(d!=null&&Qv(d),a===1)s.tag===0?Zk(ux.bind(null,s)):Kg(ux.bind(null,s)),Kk(function(){(Ge&6)===0&&ms()}),d=null;else{switch(rg(v)){case 1:d=Jd;break;case 4:d=Zv;break;case 16:d=oc;break;case 536870912:d=eg;break;default:d=oc}d=yx(d,cx.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function cx(s,a){if(eu=-1,tu=0,(Ge&6)!==0)throw Error(r(327));var d=s.callbackNode;if(po()&&s.callbackNode!==d)return null;var v=uc(s,s===At?Ft:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||a)a=ru(s,v);else{a=v;var b=Ge;Ge|=2;var _=fx();(At!==s||Ft!==a)&&(Mn=null,mo=yt()+500,fi(s,a));do try{w2();break}catch(O){dx(s,O)}while(!0);If(),Kc.current=_,Ge=b,jt!==null?a=0:(At=null,Ft=0,a=Et)}if(a!==0){if(a===2&&(b=Qd(s),b!==0&&(v=b,a=wh(s,b))),a===1)throw d=Ka,fi(s,0),bs(s,v),fr(s,yt()),d;if(a===6)bs(s,v);else{if(b=s.current.alternate,(v&30)===0&&!y2(b)&&(a=ru(s,v),a===2&&(_=Qd(s),_!==0&&(v=_,a=wh(s,_))),a===1))throw d=Ka,fi(s,0),bs(s,v),fr(s,yt()),d;switch(s.finishedWork=b,s.finishedLanes=v,a){case 0:case 1:throw Error(r(345));case 2:hi(s,dr,Mn);break;case 3:if(bs(s,v),(v&130023424)===v&&(a=gh+500-yt(),10<a)){if(uc(s,0)!==0)break;if(b=s.suspendedLanes,(b&v)!==v){rr(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Cf(hi.bind(null,s,dr,Mn),a);break}hi(s,dr,Mn);break;case 4:if(bs(s,v),(v&4194240)===v)break;for(a=s.eventTimes,b=-1;0<v;){var T=31-qr(v);_=1<<T,T=a[T],T>b&&(b=T),v&=~_}if(v=b,v=yt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*g2(v/1960))-v,10<v){s.timeoutHandle=Cf(hi.bind(null,s,dr,Mn),v);break}hi(s,dr,Mn);break;case 5:hi(s,dr,Mn);break;default:throw Error(r(329))}}}return fr(s,yt()),s.callbackNode===d?cx.bind(null,s):null}function wh(s,a){var d=Xa;return s.current.memoizedState.isDehydrated&&(fi(s,a).flags|=256),s=ru(s,a),s!==2&&(a=dr,dr=d,a!==null&&bh(a)),s}function bh(s){dr===null?dr=s:dr.push.apply(dr,s)}function y2(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var v=0;v<d.length;v++){var b=d[v],_=b.getSnapshot;b=b.value;try{if(!Yr(_(),b))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bs(s,a){for(a&=~vh,a&=~Xc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-qr(a),v=1<<d;s[d]=-1,a&=~v}}function ux(s){if((Ge&6)!==0)throw Error(r(327));po();var a=uc(s,0);if((a&1)===0)return fr(s,yt()),null;var d=ru(s,a);if(s.tag!==0&&d===2){var v=Qd(s);v!==0&&(a=v,d=wh(s,v))}if(d===1)throw d=Ka,fi(s,0),bs(s,a),fr(s,yt()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,hi(s,dr,Mn),fr(s,yt()),null}function jh(s,a){var d=Ge;Ge|=1;try{return s(a)}finally{Ge=d,Ge===0&&(mo=yt()+500,Ec&&ms())}}function di(s){xs!==null&&xs.tag===0&&(Ge&6)===0&&po();var a=Ge;Ge|=1;var d=Mr.transition,v=Qe;try{if(Mr.transition=null,Qe=1,s)return s()}finally{Qe=v,Mr.transition=d,Ge=a,(Ge&6)===0&&ms()}}function Sh(){jr=ho.current,at(ho)}function fi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,Gk(d)),jt!==null)for(d=jt.return;d!==null;){var v=d;switch(Df(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&kc();break;case 3:co(),at(lr),at(Ht),Hf();break;case 5:zf(v);break;case 4:co();break;case 13:at(ut);break;case 19:at(ut);break;case 10:Lf(v.type._context);break;case 22:case 23:Sh()}d=d.return}if(At=s,jt=s=js(s.current,null),Ft=jr=a,Et=0,Ka=null,vh=Xc=ui=0,dr=Xa=null,ai!==null){for(a=0;a<ai.length;a++)if(d=ai[a],v=d.interleaved,v!==null){d.interleaved=null;var b=v.next,_=d.pending;if(_!==null){var T=_.next;_.next=b,v.next=T}d.pending=v}ai=null}return s}function dx(s,a){do{var d=jt;try{if(If(),Fc.current=zc,Uc){for(var v=dt.memoizedState;v!==null;){var b=v.queue;b!==null&&(b.pending=null),v=v.next}Uc=!1}if(ci=0,Tt=Pt=dt=null,za=!1,Wa=0,ph.current=null,d===null||d.return===null){Et=1,Ka=a,jt=null;break}e:{var _=s,T=d.return,O=d,L=a;if(a=Ft,O.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=L,ne=O,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var pe=My(T);if(pe!==null){pe.flags&=-257,Iy(pe,T,O,_,a),pe.mode&1&&$y(_,Y,a),a=pe,L=Y;var we=a.updateQueue;if(we===null){var be=new Set;be.add(L),a.updateQueue=be}else we.add(L);break e}else{if((a&1)===0){$y(_,Y,a),_h();break e}L=Error(r(426))}}else if(ct&&O.mode&1){var xt=My(T);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Iy(xt,T,O,_,a),$f(uo(L,O));break e}}_=L=uo(L,O),Et!==4&&(Et=2),Xa===null?Xa=[_]:Xa.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var W=Ry(_,L,a);oy(_,W);break e;case 1:O=L;var U=_.type,H=_.stateNode;if((_.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(ys===null||!ys.has(H)))){_.flags|=65536,a&=-a,_.lanes|=a;var ce=Oy(_,O,a);oy(_,ce);break e}}_=_.return}while(_!==null)}mx(d)}catch(_e){a=_e,jt===d&&d!==null&&(jt=d=d.return);continue}break}while(!0)}function fx(){var s=Kc.current;return Kc.current=zc,s===null?zc:s}function _h(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||(ui&268435455)===0&&(Xc&268435455)===0||bs(At,Ft)}function ru(s,a){var d=Ge;Ge|=2;var v=fx();(At!==s||Ft!==a)&&(Mn=null,fi(s,a));do try{x2();break}catch(b){dx(s,b)}while(!0);if(If(),Ge=d,Kc.current=v,jt!==null)throw Error(r(261));return At=null,Ft=0,Et}function x2(){for(;jt!==null;)hx(jt)}function w2(){for(;jt!==null&&!HC();)hx(jt)}function hx(s){var a=gx(s.alternate,s,jr);s.memoizedProps=s.pendingProps,a===null?mx(s):jt=a,ph.current=null}function mx(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=f2(d,a,jr),d!==null){jt=d;return}}else{if(d=h2(d,a),d!==null){d.flags&=32767,jt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,jt=null;return}}if(a=a.sibling,a!==null){jt=a;return}jt=a=s}while(a!==null);Et===0&&(Et=5)}function hi(s,a,d){var v=Qe,b=Mr.transition;try{Mr.transition=null,Qe=1,b2(s,a,d,v)}finally{Mr.transition=b,Qe=v}return null}function b2(s,a,d,v){do po();while(xs!==null);if((Ge&6)!==0)throw Error(r(327));d=s.finishedWork;var b=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var _=d.lanes|d.childLanes;if(tk(s,_),s===At&&(jt=At=null,Ft=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Qc||(Qc=!0,yx(oc,function(){return po(),null})),_=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||_){_=Mr.transition,Mr.transition=null;var T=Qe;Qe=1;var O=Ge;Ge|=4,ph.current=null,p2(s,d),sx(d,s),Vk(_f),hc=!!Sf,_f=Sf=null,s.current=d,v2(d),qC(),Ge=O,Qe=T,Mr.transition=_}else s.current=d;if(Qc&&(Qc=!1,xs=s,Zc=b),_=s.pendingLanes,_===0&&(ys=null),KC(d.stateNode),fr(s,yt()),a!==null)for(v=s.onRecoverableError,d=0;d<a.length;d++)b=a[d],v(b.value,{componentStack:b.stack,digest:b.digest});if(Jc)throw Jc=!1,s=yh,yh=null,s;return(Zc&1)!==0&&s.tag!==0&&po(),_=s.pendingLanes,(_&1)!==0?s===xh?Ja++:(Ja=0,xh=s):Ja=0,ms(),null}function po(){if(xs!==null){var s=rg(Zc),a=Mr.transition,d=Qe;try{if(Mr.transition=null,Qe=16>s?16:s,xs===null)var v=!1;else{if(s=xs,xs=null,Zc=0,(Ge&6)!==0)throw Error(r(331));var b=Ge;for(Ge|=4,ge=s.current;ge!==null;){var _=ge,T=_.child;if((ge.flags&16)!==0){var O=_.deletions;if(O!==null){for(var L=0;L<O.length;L++){var Y=O[L];for(ge=Y;ge!==null;){var ne=ge;switch(ne.tag){case 0:case 11:case 15:Ga(8,ne,_)}var se=ne.child;if(se!==null)se.return=ne,ge=se;else for(;ge!==null;){ne=ge;var re=ne.sibling,pe=ne.return;if(Zy(ne),ne===Y){ge=null;break}if(re!==null){re.return=pe,ge=re;break}ge=pe}}}var we=_.alternate;if(we!==null){var be=we.child;if(be!==null){we.child=null;do{var xt=be.sibling;be.sibling=null,be=xt}while(be!==null)}}ge=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ge=T;else e:for(;ge!==null;){if(_=ge,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ga(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,ge=W;break e}ge=_.return}}var U=s.current;for(ge=U;ge!==null;){T=ge;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,ge=H;else e:for(T=U;ge!==null;){if(O=ge,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Gc(9,O)}}catch(_e){mt(O,O.return,_e)}if(O===T){ge=null;break e}var ce=O.sibling;if(ce!==null){ce.return=O.return,ge=ce;break e}ge=O.return}}if(Ge=b,ms(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ac,s)}catch{}v=!0}return v}finally{Qe=d,Mr.transition=a}}return!1}function px(s,a,d){a=uo(d,a),a=Ry(s,a,1),s=vs(s,a,1),a=rr(),s!==null&&(ba(s,1,a),fr(s,a))}function mt(s,a,d){if(s.tag===3)px(s,s,d);else for(;a!==null;){if(a.tag===3){px(a,s,d);break}else if(a.tag===1){var v=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ys===null||!ys.has(v))){s=uo(d,s),s=Oy(a,s,1),a=vs(a,s,1),s=rr(),a!==null&&(ba(a,1,s),fr(a,s));break}}a=a.return}}function j2(s,a,d){var v=s.pingCache;v!==null&&v.delete(a),a=rr(),s.pingedLanes|=s.suspendedLanes&d,At===s&&(Ft&d)===d&&(Et===4||Et===3&&(Ft&130023424)===Ft&&500>yt()-gh?fi(s,0):vh|=d),fr(s,a)}function vx(s,a){a===0&&((s.mode&1)===0?a=1:(a=cc,cc<<=1,(cc&130023424)===0&&(cc=4194304)));var d=rr();s=Rn(s,a),s!==null&&(ba(s,a,d),fr(s,d))}function S2(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),vx(s,d)}function _2(s,a){var d=0;switch(s.tag){case 13:var v=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(a),vx(s,d)}var gx;gx=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||lr.current)ur=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return ur=!1,d2(s,a,d);ur=(s.flags&131072)!==0}else ur=!1,ct&&(a.flags&1048576)!==0&&Xg(a,Ac,a.index);switch(a.lanes=0,a.tag){case 2:var v=a.type;qc(s,a),s=a.pendingProps;var b=ro(a,Ht.current);lo(a,d),b=Gf(null,a,v,s,b,d);var _=Kf();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,cr(v)?(_=!0,Pc(a)):_=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Vf(a),b.updater=Wc,a.stateNode=b,b._reactInternals=a,th(a,v,s,d),a=ih(null,a,v,!0,_,d)):(a.tag=0,ct&&_&&Af(a),tr(null,a,b,d),a=a.child),a;case 16:v=a.elementType;e:{switch(qc(s,a),s=a.pendingProps,b=v._init,v=b(v._payload),a.type=v,b=a.tag=C2(v),s=Kr(v,s),b){case 0:a=sh(null,a,v,s,d);break e;case 1:a=zy(null,a,v,s,d);break e;case 11:a=Ly(null,a,v,s,d);break e;case 14:a=Fy(null,a,v,Kr(v.type,s),d);break e}throw Error(r(306,v,""))}return a;case 0:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:Kr(v,b),sh(s,a,v,b,d);case 1:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:Kr(v,b),zy(s,a,v,b,d);case 3:e:{if(Wy(a),s===null)throw Error(r(387));v=a.pendingProps,_=a.memoizedState,b=_.element,iy(s,a),Ic(a,v,null,d);var T=a.memoizedState;if(v=T.element,_.isDehydrated)if(_={element:v,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){b=uo(Error(r(423)),a),a=Hy(s,a,v,d,b);break e}else if(v!==b){b=uo(Error(r(424)),a),a=Hy(s,a,v,d,b);break e}else for(br=ds(a.stateNode.containerInfo.firstChild),wr=a,ct=!0,Gr=null,d=ny(a,null,v,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(io(),v===b){a=$n(s,a,d);break e}tr(s,a,v,d)}a=a.child}return a;case 5:return ly(a),s===null&&Of(a),v=a.type,b=a.pendingProps,_=s!==null?s.memoizedProps:null,T=b.children,Nf(v,b)?T=null:_!==null&&Nf(v,_)&&(a.flags|=32),By(s,a),tr(s,a,T,d),a.child;case 6:return s===null&&Of(a),null;case 13:return qy(s,a,d);case 4:return Bf(a,a.stateNode.containerInfo),v=a.pendingProps,s===null?a.child=oo(a,null,v,d):tr(s,a,v,d),a.child;case 11:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:Kr(v,b),Ly(s,a,v,b,d);case 7:return tr(s,a,a.pendingProps,d),a.child;case 8:return tr(s,a,a.pendingProps.children,d),a.child;case 12:return tr(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(v=a.type._context,b=a.pendingProps,_=a.memoizedProps,T=b.value,rt(Oc,v._currentValue),v._currentValue=T,_!==null)if(Yr(_.value,T)){if(_.children===b.children&&!lr.current){a=$n(s,a,d);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var O=_.dependencies;if(O!==null){T=_.child;for(var L=O.firstContext;L!==null;){if(L.context===v){if(_.tag===1){L=On(-1,d&-d),L.tag=2;var Y=_.updateQueue;if(Y!==null){Y=Y.shared;var ne=Y.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),Y.pending=L}}_.lanes|=d,L=_.alternate,L!==null&&(L.lanes|=d),Ff(_.return,d,a),O.lanes|=d;break}L=L.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(r(341));T.lanes|=d,O=T.alternate,O!==null&&(O.lanes|=d),Ff(T,d,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}tr(s,a,b.children,d),a=a.child}return a;case 9:return b=a.type,v=a.pendingProps.children,lo(a,d),b=Or(b),v=v(b),a.flags|=1,tr(s,a,v,d),a.child;case 14:return v=a.type,b=Kr(v,a.pendingProps),b=Kr(v.type,b),Fy(s,a,v,b,d);case 15:return Uy(s,a,a.type,a.pendingProps,d);case 17:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:Kr(v,b),qc(s,a),a.tag=1,cr(v)?(s=!0,Pc(a)):s=!1,lo(a,d),Ay(a,v,b),th(a,v,b,d),ih(null,a,v,!0,s,d);case 19:return Gy(s,a,d);case 22:return Vy(s,a,d)}throw Error(r(156,a.tag))};function yx(s,a){return Jv(s,a)}function N2(s,a,d,v){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(s,a,d,v){return new N2(s,a,d,v)}function Nh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function C2(s){if(typeof s=="function")return Nh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===J)return 14}return 2}function js(s,a){var d=s.alternate;return d===null?(d=Ir(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function nu(s,a,d,v,b,_){var T=2;if(v=s,typeof s=="function")Nh(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case C:return mi(d.children,b,_,a);case R:T=8,b|=8;break;case M:return s=Ir(12,d,a,b|2),s.elementType=M,s.lanes=_,s;case G:return s=Ir(13,d,a,b),s.elementType=G,s.lanes=_,s;case X:return s=Ir(19,d,a,b),s.elementType=X,s.lanes=_,s;case I:return su(d,b,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case B:T=9;break e;case z:T=11;break e;case J:T=14;break e;case ee:T=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=Ir(T,d,a,b),a.elementType=s,a.type=v,a.lanes=_,a}function mi(s,a,d,v){return s=Ir(7,s,v,a),s.lanes=d,s}function su(s,a,d,v){return s=Ir(22,s,v,a),s.elementType=I,s.lanes=d,s.stateNode={isHidden:!1},s}function Ch(s,a,d){return s=Ir(6,s,null,a),s.lanes=d,s}function kh(s,a,d){return a=Ir(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function k2(s,a,d,v,b){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=v,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Ph(s,a,d,v,b,_,T,O,L){return s=new k2(s,a,d,O,L),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Ir(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:v,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(_),s}function P2(s,a,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:v==null?null:""+v,children:s,containerInfo:a,implementation:d}}function xx(s){if(!s)return hs;s=s._reactInternals;e:{if(ri(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(cr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(cr(d))return Yg(s,d,a)}return a}function wx(s,a,d,v,b,_,T,O,L){return s=Ph(d,v,!0,s,b,_,T,O,L),s.context=xx(null),d=s.current,v=rr(),b=ws(d),_=On(v,b),_.callback=a??null,vs(d,_,b),s.current.lanes=b,ba(s,b,v),fr(s,v),s}function iu(s,a,d,v){var b=a.current,_=rr(),T=ws(b);return d=xx(d),a.context===null?a.context=d:a.pendingContext=d,a=On(_,T),a.payload={element:s},v=v===void 0?null:v,v!==null&&(a.callback=v),s=vs(b,a,T),s!==null&&(Qr(s,b,T,_),Mc(s,b,T)),T}function ou(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function bx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function Eh(s,a){bx(s,a),(s=s.alternate)&&bx(s,a)}function E2(){return null}var jx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Th(s){this._internalRoot=s}au.prototype.render=Th.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));iu(s,a,null,null)},au.prototype.unmount=Th.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;di(function(){iu(null,s,null,null)}),a[En]=null}};function au(s){this._internalRoot=s}au.prototype.unstable_scheduleHydration=function(s){if(s){var a=ig();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ls.length&&a!==0&&a<ls[d].priority;d++);ls.splice(d,0,s),d===0&&lg(s)}};function Ah(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function lu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function T2(s,a,d,v,b){if(b){if(typeof v=="function"){var _=v;v=function(){var Y=ou(T);_.call(Y)}}var T=wx(a,v,s,0,null,!1,!1,"",Sx);return s._reactRootContainer=T,s[En]=T.current,$a(s.nodeType===8?s.parentNode:s),di(),T}for(;b=s.lastChild;)s.removeChild(b);if(typeof v=="function"){var O=v;v=function(){var Y=ou(L);O.call(Y)}}var L=Ph(s,0,!1,null,null,!1,!1,"",Sx);return s._reactRootContainer=L,s[En]=L.current,$a(s.nodeType===8?s.parentNode:s),di(function(){iu(a,L,d,v)}),L}function cu(s,a,d,v,b){var _=d._reactRootContainer;if(_){var T=_;if(typeof b=="function"){var O=b;b=function(){var L=ou(T);O.call(L)}}iu(a,T,s,b)}else T=T2(d,a,s,b,v);return ou(T)}ng=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=wa(a.pendingLanes);d!==0&&(ef(a,d|1),fr(a,yt()),(Ge&6)===0&&(mo=yt()+500,ms()))}break;case 13:di(function(){var v=Rn(s,1);if(v!==null){var b=rr();Qr(v,s,1,b)}}),Eh(s,1)}},tf=function(s){if(s.tag===13){var a=Rn(s,134217728);if(a!==null){var d=rr();Qr(a,s,134217728,d)}Eh(s,134217728)}},sg=function(s){if(s.tag===13){var a=ws(s),d=Rn(s,a);if(d!==null){var v=rr();Qr(d,s,a,v)}Eh(s,a)}},ig=function(){return Qe},og=function(s,a){var d=Qe;try{return Qe=s,a()}finally{Qe=d}},Zs=function(s,a,d){switch(a){case"input":if(Tr(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var v=d[a];if(v!==s&&v.form===s.form){var b=Cc(v);if(!b)throw Error(r(90));De(v),Tr(v,b)}}}break;case"textarea":ec(s,d);break;case"select":a=d.value,a!=null&&Wr(s,!!d.multiple,a,!1)}},ei=jh,ic=di;var A2={usingClientEntryPoint:!1,Events:[La,eo,Cc,xa,Kd,jh]},Qa={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D2={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Kv(s),s===null?null:s.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||E2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{ac=uu.inject(D2),mn=uu}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2,hr.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(a))throw Error(r(200));return P2(s,a,null,d)},hr.createRoot=function(s,a){if(!Ah(s))throw Error(r(299));var d=!1,v="",b=jx;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Ph(s,1,!1,null,null,d,!1,v,b),s[En]=a.current,$a(s.nodeType===8?s.parentNode:s),new Th(a)},hr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Kv(a),s=s===null?null:s.stateNode,s},hr.flushSync=function(s){return di(s)},hr.hydrate=function(s,a,d){if(!lu(a))throw Error(r(200));return cu(null,s,a,!0,d)},hr.hydrateRoot=function(s,a,d){if(!Ah(s))throw Error(r(405));var v=d!=null&&d.hydratedSources||null,b=!1,_="",T=jx;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=wx(a,null,s,1,d??null,b,!1,_,T),s[En]=a.current,$a(s),v)for(s=0;s<v.length;s++)d=v[s],b=d._getVersion,b=b(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,b]:a.mutableSourceEagerHydrationData.push(d,b);return new au(a)},hr.render=function(s,a,d){if(!lu(a))throw Error(r(200));return cu(null,s,a,!1,d)},hr.unmountComponentAtNode=function(s){if(!lu(s))throw Error(r(40));return s._reactRootContainer?(di(function(){cu(null,null,s,!1,function(){s._reactRootContainer=null,s[En]=null})}),!0):!1},hr.unstable_batchedUpdates=jh,hr.unstable_renderSubtreeIntoContainer=function(s,a,d,v){if(!lu(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return cu(s,a,d,!1,v)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var Ax;function _b(){if(Ax)return Oh.exports;Ax=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Oh.exports=V2(),Oh.exports}var Dx;function B2(){if(Dx)return du;Dx=1;var e=_b();return du.createRoot=e.createRoot,du.hydrateRoot=e.hydrateRoot,du}var z2=B2();const W2=Ol(z2);var Ri=_b();const Nb=Ol(Ri);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}var Os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Os||(Os={}));const Rx="popstate";function H2(e){e===void 0&&(e={});function t(n,o){let{pathname:l,search:c,hash:u}=n.location;return Tm("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Fu(o)}return Y2(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q2(){return Math.random().toString(36).substr(2,8)}function Ox(e,t){return{usr:e.state,key:e.key,idx:t}}function Tm(e,t,r,n){return r===void 0&&(r=null),bl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zo(t):t,{state:r,key:t&&t.key||n||q2()})}function Fu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Y2(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,u=Os.Pop,f=null,h=m();h==null&&(h=0,c.replaceState(bl({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function p(){u=Os.Pop;let S=m(),N=S==null?null:S-h;h=S,f&&f({action:u,location:w.location,delta:N})}function y(S,N){u=Os.Push;let k=Tm(w.location,S,N);h=m()+1;let E=Ox(k,h),P=w.createHref(k);try{c.pushState(E,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(P)}l&&f&&f({action:u,location:w.location,delta:1})}function x(S,N){u=Os.Replace;let k=Tm(w.location,S,N);h=m();let E=Ox(k,h),P=w.createHref(k);c.replaceState(E,"",P),l&&f&&f({action:u,location:w.location,delta:0})}function j(S){let N=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof S=="string"?S:Fu(S);return k=k.replace(/ $/,"%20"),Nt(N,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,N)}let w={get action(){return u},get location(){return e(o,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Rx,p),f=S,()=>{o.removeEventListener(Rx,p),f=null}},createHref(S){return t(o,S)},createURL:j,encodeLocation(S){let N=j(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:x,go(S){return c.go(S)}};return w}var $x;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($x||($x={}));function G2(e,t,r){return r===void 0&&(r="/"),K2(e,t,r)}function K2(e,t,r,n){let o=typeof t=="string"?Zo(t):t,l=Sp(o.pathname||"/",r);if(l==null)return null;let c=kb(e);X2(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=lP(l);u=iP(c[f],h)}return u}function kb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=$s([n,f.relativePath]),m=r.concat(f);l.children&&l.children.length>0&&(Nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kb(l.children,t,m,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:nP(h,l.index),routesMeta:m})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let f of Pb(l.path))o(l,c,f)}),t}function Pb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=Pb(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function X2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const J2=/^:[\w-]+$/,Q2=3,Z2=2,eP=1,tP=10,rP=-2,Mx=e=>e==="*";function nP(e,t){let r=e.split("/"),n=r.length;return r.some(Mx)&&(n+=rP),t&&(n+=Z2),r.filter(o=>!Mx(o)).reduce((o,l)=>o+(J2.test(l)?Q2:l===""?eP:tP),n)}function sP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function iP(e,t,r){let{routesMeta:n}=e,o={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=oP({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:$s([l,p.pathname]),pathnameBase:fP($s([l,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(l=$s([l,p.pathnameBase]))}return c}function oP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aP(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:y,isOptional:x}=m;if(y==="*"){let w=u[p]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[p];return x&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function aP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function lP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Zo(e):e;return{pathname:r?r.startsWith("/")?r:uP(r,t):t,search:hP(n),hash:mP(o)}}function uP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ih(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Eb(e,t){let r=dP(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Tb(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Zo(e):(o=bl({},e),Nt(!o.pathname||!o.pathname.includes("?"),Ih("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Ih("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Ih("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),p-=1;o.pathname=y.join("/")}u=p>=0?t[p]:"/"}let f=cP(o,u),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),fP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ab=["post","put","patch","delete"];new Set(Ab);const vP=["get",...Ab];new Set(vP);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}const _p=g.createContext(null),gP=g.createContext(null),Oi=g.createContext(null),od=g.createContext(null),Bs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Db=g.createContext(null);function yP(e,t){let{relative:r}=t===void 0?{}:t;$l()||Nt(!1);let{basename:n,navigator:o}=g.useContext(Oi),{hash:l,pathname:c,search:u}=Ob(e,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:$s([n,c])),o.createHref({pathname:f,search:u,hash:l})}function $l(){return g.useContext(od)!=null}function $i(){return $l()||Nt(!1),g.useContext(od).location}function Rb(e){g.useContext(Oi).static||g.useLayoutEffect(e)}function Pr(){let{isDataRoute:e}=g.useContext(Bs);return e?AP():xP()}function xP(){$l()||Nt(!1);let e=g.useContext(_p),{basename:t,future:r,navigator:n}=g.useContext(Oi),{matches:o}=g.useContext(Bs),{pathname:l}=$i(),c=JSON.stringify(Eb(o,r.v7_relativeSplatPath)),u=g.useRef(!1);return Rb(()=>{u.current=!0}),g.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Tb(h,JSON.parse(c),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:$s([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,l,e])}function ad(){let{matches:e}=g.useContext(Bs),t=e[e.length-1];return t?t.params:{}}function Ob(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(Oi),{matches:o}=g.useContext(Bs),{pathname:l}=$i(),c=JSON.stringify(Eb(o,n.v7_relativeSplatPath));return g.useMemo(()=>Tb(e,JSON.parse(c),l,r==="path"),[e,c,l,r])}function wP(e,t){return bP(e,t)}function bP(e,t,r,n){$l()||Nt(!1);let{navigator:o,static:l}=g.useContext(Oi),{matches:c}=g.useContext(Bs),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=$i(),p;if(t){var y;let N=typeof t=="string"?Zo(t):t;h==="/"||(y=N.pathname)!=null&&y.startsWith(h)||Nt(!1),p=N}else p=m;let x=p.pathname||"/",j=x;if(h!=="/"){let N=h.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=G2(e,{pathname:j}),S=CP(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:$s([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:$s([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,n);return t&&S?g.createElement(od.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Os.Pop}},S):S}function jP(){let e=TP(),t=pP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:o},r):null,null)}const SP=g.createElement(jP,null);class _P extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Bs.Provider,{value:this.props.routeContext},g.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NP(e){let{routeContext:t,match:r,children:n}=e,o=g.useContext(_p);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Bs.Provider,{value:t},n)}function CP(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Nt(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:x}=r,j=p.route.loader&&y[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,y)=>{let x,j=!1,w=null,S=null;r&&(x=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||SP,f&&(h<0&&y===0?(DP("route-fallback"),j=!0,S=null):h===y&&(j=!0,S=p.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,y+1)),k=()=>{let E;return x?E=w:j?E=S:p.route.Component?E=g.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=m,g.createElement(NP,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:E})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?g.createElement(_P,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):k()},null)}var $b=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($b||{}),Mb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mb||{});function kP(e){let t=g.useContext(_p);return t||Nt(!1),t}function PP(e){let t=g.useContext(gP);return t||Nt(!1),t}function EP(e){let t=g.useContext(Bs);return t||Nt(!1),t}function Ib(e){let t=EP(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function TP(){var e;let t=g.useContext(Db),r=PP(),n=Ib();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function AP(){let{router:e}=kP($b.UseNavigateStable),t=Ib(Mb.UseNavigateStable),r=g.useRef(!1);return Rb(()=>{r.current=!0}),g.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,jl({fromRouteId:t},l)))},[e,t])}const Ix={};function DP(e,t,r){Ix[e]||(Ix[e]=!0)}function RP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function St(e){Nt(!1)}function OP(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Os.Pop,navigator:l,static:c=!1,future:u}=e;$l()&&Nt(!1);let f=t.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:f,navigator:l,static:c,future:jl({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof n=="string"&&(n=Zo(n));let{pathname:m="/",search:p="",hash:y="",state:x=null,key:j="default"}=n,w=g.useMemo(()=>{let S=Sp(m,f);return S==null?null:{location:{pathname:S,search:p,hash:y,state:x,key:j},navigationType:o}},[f,m,p,y,x,j,o]);return w==null?null:g.createElement(Oi.Provider,{value:h},g.createElement(od.Provider,{children:r,value:w}))}function $P(e){let{children:t,location:r}=e;return wP(Am(t),r)}new Promise(()=>{});function Am(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,o)=>{if(!g.isValidElement(n))return;let l=[...t,o];if(n.type===g.Fragment){r.push.apply(r,Am(n.props.children,l));return}n.type!==St&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Am(n.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function MP(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,l;for(l=0;l<n.length;l++)o=n[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function IP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LP(e,t){return e.button===0&&(!t||t==="_self")&&!IP(e)}const FP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UP="6";try{window.__reactRouterVersion=UP}catch{}const VP="startTransition",Lx=id[VP];function BP(e){let{basename:t,children:r,future:n,window:o}=e,l=g.useRef();l.current==null&&(l.current=H2({window:o,v5Compat:!0}));let c=l.current,[u,f]=g.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=g.useCallback(p=>{h&&Lx?Lx(()=>f(p)):f(p)},[f,h]);return g.useLayoutEffect(()=>c.listen(m),[c,m]),g.useEffect(()=>RP(n),[n]),g.createElement(OP,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const zP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=g.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:l,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:p}=t,y=MP(t,FP),{basename:x}=g.useContext(Oi),j,w=!1;if(typeof h=="string"&&WP.test(h)&&(j=h,zP))try{let E=new URL(window.location.href),P=h.startsWith("//")?new URL(E.protocol+h):new URL(h),D=Sp(P.pathname,x);P.origin===E.origin&&D!=null?h=D+P.search+P.hash:w=!0}catch{}let S=yP(h,{relative:o}),N=HP(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:p});function k(E){n&&n(E),E.defaultPrevented||N(E)}return g.createElement("a",Dm({},y,{href:j||S,onClick:w||l?n:k,ref:r,target:f}))});var Fx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var Ux;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ux||(Ux={}));function HP(e,t){let{target:r,replace:n,state:o,preventScrollReset:l,relative:c,viewTransition:u}=t===void 0?{}:t,f=Pr(),h=$i(),m=Ob(e,{relative:c});return g.useCallback(p=>{if(LP(p,r)){p.preventDefault();let y=n!==void 0?n:Fu(h)===Fu(m);f(e,{replace:y,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,m,n,o,r,e,l,c,u])}const Lb=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ld=g.createContext({}),cd=g.createContext(null),ud=typeof document<"u",Np=ud?g.useLayoutEffect:g.useEffect,Fb=g.createContext({strict:!1}),Cp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qP="framerAppearId",Ub="data-"+Cp(qP);function YP(e,t,r,n){const{visualElement:o}=g.useContext(ld),l=g.useContext(Fb),c=g.useContext(cd),u=g.useContext(Lb).reducedMotion,f=g.useRef();n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current;g.useInsertionEffect(()=>{h&&h.update(r,c)});const m=g.useRef(!!(r[Ub]&&!window.HandoffComplete));return Np(()=>{h&&(h.render(),m.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(h.updateFeatures(),!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),h}function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GP(e,t,r){return g.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ao(r)&&(r.current=n))},[t])}function Sl(e){return typeof e=="string"||Array.isArray(e)}function dd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pp=["initial",...kp];function fd(e){return dd(e.animate)||Pp.some(t=>Sl(e[t]))}function Vb(e){return!!(fd(e)||e.variants)}function KP(e,t){if(fd(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Sl(r)?r:void 0,animate:Sl(n)?n:void 0}}return e.inherit!==!1?t:{}}function XP(e){const{initial:t,animate:r}=KP(e,g.useContext(ld));return g.useMemo(()=>({initial:t,animate:r}),[Vx(t),Vx(r)])}function Vx(e){return Array.isArray(e)?e.join(" "):e}const Bx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const e in Bx)_l[e]={isEnabled:t=>Bx[e].some(r=>!!t[r])};function JP(e){for(const t in e)_l[t]={..._l[t],...e[t]}}const Ep=g.createContext({}),Bb=g.createContext({}),QP=Symbol.for("motionComponentSymbol");function ZP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:o}){e&&JP(e);function l(u,f){let h;const m={...g.useContext(Lb),...u,layoutId:eE(u)},{isStatic:p}=m,y=XP(u),x=n(u,p);if(!p&&ud){y.visualElement=YP(o,x,m,t);const j=g.useContext(Bb),w=g.useContext(Fb).strict;y.visualElement&&(h=y.visualElement.loadFeatures(m,w,e,j))}return g.createElement(ld.Provider,{value:y},h&&y.visualElement?g.createElement(h,{visualElement:y.visualElement,...m}):null,r(o,u,GP(x,y.visualElement,f),x,p,y.visualElement))}const c=g.forwardRef(l);return c[QP]=o,c}function eE({layoutId:e}){const t=g.useContext(Ep).id;return t&&e!==void 0?t+"-"+e:e}function tE(e){function t(n,o={}){return ZP(e(n,o))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,o)=>(r.has(o)||r.set(o,t(o)),r.get(o))})}const rE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tp(e){return typeof e!="string"||e.includes("-")?!1:!!(rE.indexOf(e)>-1||/[A-Z]/.test(e))}const Uu={};function nE(e){Object.assign(Uu,e)}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mi=new Set(Ml);function zb(e,{layout:t,layoutId:r}){return Mi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Uu[e]||e==="opacity")}const gr=e=>!!(e&&e.getVelocity),sE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iE=Ml.length;function oE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,o){let l="";for(let c=0;c<iE;c++){const u=Ml[c];if(e[u]!==void 0){const f=sE[u]||u;l+=`${f}(${e[u]}) `}}return t&&!e.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(e,n?"":l):r&&n&&(l="none"),l}const Wb=e=>t=>typeof t=="string"&&t.startsWith(e),Hb=Wb("--"),Rm=Wb("var(--"),aE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ls=(e,t,r)=>Math.min(Math.max(r,e),t),Ii={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fl={...Ii,transform:e=>Ls(0,1,e)},fu={...Ii,default:1},hl=e=>Math.round(e*1e5)/1e5,hd=/(-)?([\d]*\.?[\d])+/g,qb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Il(e){return typeof e=="string"}const Ll=e=>({test:t=>Il(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cs=Ll("deg"),wn=Ll("%"),Me=Ll("px"),uE=Ll("vh"),dE=Ll("vw"),zx={...wn,parse:e=>wn.parse(e)/100,transform:e=>wn.transform(e*100)},Wx={...Ii,transform:Math.round},Yb={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:Cs,rotateX:Cs,rotateY:Cs,rotateZ:Cs,scale:fu,scaleX:fu,scaleY:fu,scaleZ:fu,skew:Cs,skewX:Cs,skewY:Cs,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:fl,originX:zx,originY:zx,originZ:Me,zIndex:Wx,fillOpacity:fl,strokeOpacity:fl,numOctaves:Wx};function Ap(e,t,r,n){const{style:o,vars:l,transform:c,transformOrigin:u}=e;let f=!1,h=!1,m=!0;for(const p in t){const y=t[p];if(Hb(p)){l[p]=y;continue}const x=Yb[p],j=lE(y,x);if(Mi.has(p)){if(f=!0,c[p]=j,!m)continue;y!==(x.default||0)&&(m=!1)}else p.startsWith("origin")?(h=!0,u[p]=j):o[p]=j}if(t.transform||(f||n?o.transform=oE(e.transform,r,m,n):o.transform&&(o.transform="none")),h){const{originX:p="50%",originY:y="50%",originZ:x=0}=u;o.transformOrigin=`${p} ${y} ${x}`}}const Dp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gb(e,t,r){for(const n in t)!gr(t[n])&&!zb(n,r)&&(e[n]=t[n])}function fE({transformTemplate:e},t,r){return g.useMemo(()=>{const n=Dp();return Ap(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function hE(e,t,r){const n=e.style||{},o={};return Gb(o,n,e),Object.assign(o,fE(e,t,r)),e.transformValues?e.transformValues(o):o}function mE(e,t,r){const n={},o=hE(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const pE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pE.has(e)}let Kb=e=>!Vu(e);function vE(e){e&&(Kb=t=>t.startsWith("on")?!Vu(t):e(t))}try{vE(require("@emotion/is-prop-valid").default)}catch{}function gE(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(Kb(o)||r===!0&&Vu(o)||!t&&!Vu(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function Hx(e,t,r){return typeof e=="string"?e:Me.transform(t+r*e)}function yE(e,t,r){const n=Hx(t,e.x,e.width),o=Hx(r,e.y,e.height);return`${n} ${o}`}const xE={offset:"stroke-dashoffset",array:"stroke-dasharray"},wE={offset:"strokeDashoffset",array:"strokeDasharray"};function bE(e,t,r=1,n=0,o=!0){e.pathLength=1;const l=o?xE:wE;e[l.offset]=Me.transform(-n);const c=Me.transform(t),u=Me.transform(r);e[l.array]=`${c} ${u}`}function Rp(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...h},m,p,y){if(Ap(e,h,m,y),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:j,dimensions:w}=e;x.transform&&(w&&(j.transform=x.transform),delete x.transform),w&&(o!==void 0||l!==void 0||j.transform)&&(j.transformOrigin=yE(w,o!==void 0?o:.5,l!==void 0?l:.5)),t!==void 0&&(x.x=t),r!==void 0&&(x.y=r),n!==void 0&&(x.scale=n),c!==void 0&&bE(x,c,u,f,!1)}const Xb=()=>({...Dp(),attrs:{}}),Op=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jE(e,t,r,n){const o=g.useMemo(()=>{const l=Xb();return Rp(l,t,{enableHardwareAcceleration:!1},Op(n),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Gb(l,e.style,e),o.style={...l,...o.style}}return o}function SE(e=!1){return(r,n,o,{latestValues:l},c)=>{const f=(Tp(r)?jE:mE)(n,l,c,r),m={...gE(n,typeof r=="string",e),...f,ref:o},{children:p}=n,y=g.useMemo(()=>gr(p)?p.get():p,[p]);return g.createElement(r,{...m,children:y})}}function Jb(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const l in r)e.style.setProperty(l,r[l])}const Qb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zb(e,t,r,n){Jb(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(Qb.has(o)?o:Cp(o),t.attrs[o])}function $p(e,t){const{style:r}=e,n={};for(const o in r)(gr(r[o])||t.style&&gr(t.style[o])||zb(o,e))&&(n[o]=r[o]);return n}function ej(e,t){const r=$p(e,t);for(const n in e)if(gr(e[n])||gr(t[n])){const o=Ml.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=e[n]}return r}function Mp(e,t,r,n={},o={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),t}function tj(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bu=e=>Array.isArray(e),_E=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NE=e=>Bu(e)?e[e.length-1]||0:e;function Ou(e){const t=gr(e)?e.get():e;return _E(t)?t.toValue():t}function CE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,o,l){const c={latestValues:kE(n,o,l,e),renderState:t()};return r&&(c.mount=u=>r(n,u,c)),c}const rj=e=>(t,r)=>{const n=g.useContext(ld),o=g.useContext(cd),l=()=>CE(e,t,n,o);return r?l():tj(l)};function kE(e,t,r,n){const o={},l=n(e,{});for(const y in l)o[y]=Ou(l[y]);let{initial:c,animate:u}=e;const f=fd(e),h=Vb(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=r?r.initial===!1:!1;m=m||c===!1;const p=m?u:c;return p&&typeof p!="boolean"&&!dd(p)&&(Array.isArray(p)?p:[p]).forEach(x=>{const j=Mp(e,x);if(!j)return;const{transitionEnd:w,transition:S,...N}=j;for(const k in N){let E=N[k];if(Array.isArray(E)){const P=m?E.length-1:0;E=E[P]}E!==null&&(o[k]=E)}for(const k in w)o[k]=w[k]}),o}const wt=e=>e;class qx{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function PE(e){let t=new qx,r=new qx,n=0,o=!1,l=!1;const c=new WeakSet,u={schedule:(f,h=!1,m=!1)=>{const p=m&&o,y=p?t:r;return h&&c.add(f),y.add(f)&&p&&o&&(n=t.order.length),f},cancel:f=>{r.remove(f),c.delete(f)},process:f=>{if(o){l=!0;return}if(o=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let h=0;h<n;h++){const m=t.order[h];m(f),c.has(m)&&(u.schedule(m),e())}o=!1,l&&(l=!1,u.process(f))}};return u}const hu=["prepare","read","update","preRender","render","postRender"],EE=40;function TE(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=hu.reduce((p,y)=>(p[y]=PE(()=>r=!0),p),{}),c=p=>l[p].process(o),u=()=>{const p=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(p-o.timestamp,EE),1),o.timestamp=p,o.isProcessing=!0,hu.forEach(c),o.isProcessing=!1,r&&t&&(n=!1,e(u))},f=()=>{r=!0,n=!0,o.isProcessing||e(u)};return{schedule:hu.reduce((p,y)=>{const x=l[y];return p[y]=(j,w=!1,S=!1)=>(r||f(),x.schedule(j,w,S)),p},{}),cancel:p=>hu.forEach(y=>l[y].cancel(p)),state:o,steps:l}}const{schedule:st,cancel:Gn,state:Kt,steps:Lh}=TE(typeof requestAnimationFrame<"u"?requestAnimationFrame:wt,!0),AE={useVisualState:rj({scrapeMotionValuesFromProps:ej,createRenderState:Xb,onMount:(e,t,{renderState:r,latestValues:n})=>{st.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),st.render(()=>{Rp(r,n,{enableHardwareAcceleration:!1},Op(t.tagName),e.transformTemplate),Zb(t,r)})}})},DE={useVisualState:rj({scrapeMotionValuesFromProps:$p,createRenderState:Dp})};function RE(e,{forwardMotionProps:t=!1},r,n){return{...Tp(e)?AE:DE,preloadedFeatures:r,useRender:SE(t),createVisualElement:n,Component:e}}function Vn(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const nj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function md(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const OE=e=>t=>nj(t)&&e(t,md(t));function Hn(e,t,r,n){return Vn(e,t,OE(r),n)}const $E=(e,t)=>r=>t(e(r)),Ms=(...e)=>e.reduce($E);function sj(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Yx=sj("dragHorizontal"),Gx=sj("dragVertical");function ij(e){let t=!1;if(e==="y")t=Gx();else if(e==="x")t=Yx();else{const r=Yx(),n=Gx();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function oj(){const e=ij(!0);return e?(e(),!1):!0}class zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Kx(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),o=(l,c)=>{if(l.pointerType==="touch"||oj())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[n]&&st.update(()=>u[n](l,c))};return Hn(e.current,r,o,{passive:!e.getProps()[n]})}class ME extends zs{mount(){this.unmount=Ms(Kx(this.node,!0),Kx(this.node,!1))}unmount(){}}class IE extends zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ms(Vn(this.node.current,"focus",()=>this.onFocus()),Vn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const aj=(e,t)=>t?e===t?!0:aj(e,t.parentElement):!1;function Fh(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,md(r))}class LE extends zs{constructor(){super(...arguments),this.removeStartListeners=wt,this.removeEndListeners=wt,this.removeAccessibleListeners=wt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),l=Hn(window,"pointerup",(u,f)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:p}=this.node.getProps();st.update(()=>{!p&&!aj(this.node.current,u.target)?m&&m(u,f):h&&h(u,f)})},{passive:!(n.onTap||n.onPointerUp)}),c=Hn(window,"pointercancel",(u,f)=>this.cancelPress(u,f),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ms(l,c),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=l=>{if(l.key!=="Enter"||this.isPressing)return;const c=u=>{u.key!=="Enter"||!this.checkPressEnd()||Fh("up",(f,h)=>{const{onTap:m}=this.node.getProps();m&&st.update(()=>m(f,h))})};this.removeEndListeners(),this.removeEndListeners=Vn(this.node.current,"keyup",c),Fh("down",(u,f)=>{this.startPress(u,f)})},r=Vn(this.node.current,"keydown",t),n=()=>{this.isPressing&&Fh("cancel",(l,c)=>this.cancelPress(l,c))},o=Vn(this.node.current,"blur",n);this.removeAccessibleListeners=Ms(r,o)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&st.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oj()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&st.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Hn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Vn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ms(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Om=new WeakMap,Uh=new WeakMap,FE=e=>{const t=Om.get(e.target);t&&t(e)},UE=e=>{e.forEach(FE)};function VE({root:e,...t}){const r=e||document;Uh.has(r)||Uh.set(r,{});const n=Uh.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(UE,{root:e,...t})),n[o]}function BE(e,t,r){const n=VE(t);return Om.set(e,r),n.observe(e),()=>{Om.delete(e),n.unobserve(e)}}const zE={some:0,all:1};class WE extends zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:l}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:zE[o]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),y=h?m:p;y&&y(f)};return BE(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(HE(t,r))&&this.startObserver()}unmount(){}}function HE({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const qE={inView:{Feature:WE},tap:{Feature:LE},focus:{Feature:IE},hover:{Feature:ME}};function lj(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function YE(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function GE(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function pd(e,t,r){const n=e.getProps();return Mp(n,t,r!==void 0?r:n.custom,YE(e),GE(e))}let Ip=wt;const Ni=e=>e*1e3,qn=e=>e/1e3,KE={current:!1},cj=e=>Array.isArray(e)&&typeof e[0]=="number";function uj(e){return!!(!e||typeof e=="string"&&dj[e]||cj(e)||Array.isArray(e)&&e.every(uj))}const ul=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,dj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ul([0,.65,.55,1]),circOut:ul([.55,0,1,.45]),backIn:ul([.31,.01,.66,-.59]),backOut:ul([.33,1.53,.69,.99])};function fj(e){if(e)return cj(e)?ul(e):Array.isArray(e)?e.map(fj):dj[e]}function XE(e,t,r,{delay:n=0,duration:o,repeat:l=0,repeatType:c="loop",ease:u,times:f}={}){const h={[t]:r};f&&(h.offset=f);const m=fj(u);return Array.isArray(m)&&(h.easing=m),e.animate(h,{delay:n,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}function JE(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const hj=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,QE=1e-7,ZE=12;function eT(e,t,r,n,o){let l,c,u=0;do c=t+(r-t)/2,l=hj(c,n,o)-e,l>0?r=c:t=c;while(Math.abs(l)>QE&&++u<ZE);return c}function Fl(e,t,r,n){if(e===t&&r===n)return wt;const o=l=>eT(l,0,1,e,r);return l=>l===0||l===1?l:hj(o(l),t,n)}const tT=Fl(.42,0,1,1),rT=Fl(0,0,.58,1),mj=Fl(.42,0,.58,1),nT=e=>Array.isArray(e)&&typeof e[0]!="number",pj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vj=e=>t=>1-e(1-t),Lp=e=>1-Math.sin(Math.acos(e)),gj=vj(Lp),sT=pj(Lp),yj=Fl(.33,1.53,.69,.99),Fp=vj(yj),iT=pj(Fp),oT=e=>(e*=2)<1?.5*Fp(e):.5*(2-Math.pow(2,-10*(e-1))),aT={linear:wt,easeIn:tT,easeInOut:mj,easeOut:rT,circIn:Lp,circInOut:sT,circOut:gj,backIn:Fp,backInOut:iT,backOut:yj,anticipate:oT},Xx=e=>{if(Array.isArray(e)){Ip(e.length===4);const[t,r,n,o]=e;return Fl(t,r,n,o)}else if(typeof e=="string")return aT[e];return e},Up=(e,t)=>r=>!!(Il(r)&&cE.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),xj=(e,t,r)=>n=>{if(!Il(n))return n;const[o,l,c,u]=n.match(hd);return{[e]:parseFloat(o),[t]:parseFloat(l),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},lT=e=>Ls(0,255,e),Vh={...Ii,transform:e=>Math.round(lT(e))},Si={test:Up("rgb","red"),parse:xj("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Vh.transform(e)+", "+Vh.transform(t)+", "+Vh.transform(r)+", "+hl(fl.transform(n))+")"};function cT(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const $m={test:Up("#"),parse:cT,transform:Si.transform},Do={test:Up("hsl","hue"),parse:xj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+wn.transform(hl(t))+", "+wn.transform(hl(r))+", "+hl(fl.transform(n))+")"},nr={test:e=>Si.test(e)||$m.test(e)||Do.test(e),parse:e=>Si.test(e)?Si.parse(e):Do.test(e)?Do.parse(e):$m.parse(e),transform:e=>Il(e)?e:e.hasOwnProperty("red")?Si.transform(e):Do.transform(e)},ht=(e,t,r)=>-r*e+r*t+e;function Bh(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function uT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,l=0,c=0;if(!t)o=l=c=r;else{const u=r<.5?r*(1+t):r+t-r*t,f=2*r-u;o=Bh(f,u,e+1/3),l=Bh(f,u,e),c=Bh(f,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}const zh=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},dT=[$m,Si,Do],fT=e=>dT.find(t=>t.test(e));function Jx(e){const t=fT(e);let r=t.parse(e);return t===Do&&(r=uT(r)),r}const wj=(e,t)=>{const r=Jx(e),n=Jx(t),o={...r};return l=>(o.red=zh(r.red,n.red,l),o.green=zh(r.green,n.green,l),o.blue=zh(r.blue,n.blue,l),o.alpha=ht(r.alpha,n.alpha,l),Si.transform(o))};function hT(e){var t,r;return isNaN(e)&&Il(e)&&(((t=e.match(hd))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(qb))===null||r===void 0?void 0:r.length)||0)>0}const bj={regex:aE,countKey:"Vars",token:"${v}",parse:wt},jj={regex:qb,countKey:"Colors",token:"${c}",parse:nr.parse},Sj={regex:hd,countKey:"Numbers",token:"${n}",parse:Ii.parse};function Wh(e,{regex:t,countKey:r,token:n,parse:o}){const l=e.tokenised.match(t);l&&(e["num"+r]=l.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...l.map(o)))}function zu(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Wh(r,bj),Wh(r,jj),Wh(r,Sj),r}function _j(e){return zu(e).values}function Nj(e){const{values:t,numColors:r,numVars:n,tokenised:o}=zu(e),l=t.length;return c=>{let u=o;for(let f=0;f<l;f++)f<n?u=u.replace(bj.token,c[f]):f<n+r?u=u.replace(jj.token,nr.transform(c[f])):u=u.replace(Sj.token,hl(c[f]));return u}}const mT=e=>typeof e=="number"?0:e;function pT(e){const t=_j(e);return Nj(e)(t.map(mT))}const Fs={test:hT,parse:_j,createTransformer:Nj,getAnimatableNone:pT},Cj=(e,t)=>r=>`${r>0?t:e}`;function kj(e,t){return typeof e=="number"?r=>ht(e,t,r):nr.test(e)?wj(e,t):e.startsWith("var(")?Cj(e,t):Ej(e,t)}const Pj=(e,t)=>{const r=[...e],n=r.length,o=e.map((l,c)=>kj(l,t[c]));return l=>{for(let c=0;c<n;c++)r[c]=o[c](l);return r}},vT=(e,t)=>{const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=kj(e[o],t[o]));return o=>{for(const l in n)r[l]=n[l](o);return r}},Ej=(e,t)=>{const r=Fs.createTransformer(t),n=zu(e),o=zu(t);return n.numVars===o.numVars&&n.numColors===o.numColors&&n.numNumbers>=o.numNumbers?Ms(Pj(n.values,o.values),r):Cj(e,t)},Nl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Qx=(e,t)=>r=>ht(e,t,r);function gT(e){return typeof e=="number"?Qx:typeof e=="string"?nr.test(e)?wj:Ej:Array.isArray(e)?Pj:typeof e=="object"?vT:Qx}function yT(e,t,r){const n=[],o=r||gT(e[0]),l=e.length-1;for(let c=0;c<l;c++){let u=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||wt:t;u=Ms(f,u)}n.push(u)}return n}function Tj(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const l=e.length;if(Ip(l===t.length),l===1)return()=>t[0];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=yT(t,n,o),u=c.length,f=h=>{let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Nl(e[m],e[m+1],h);return c[m](p)};return r?h=>f(Ls(e[0],e[l-1],h)):f}function xT(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=Nl(0,t,n);e.push(ht(r,1,o))}}function wT(e){const t=[0];return xT(t,e.length-1),t}function bT(e,t){return e.map(r=>r*t)}function jT(e,t){return e.map(()=>t||mj).splice(0,e.length-1)}function Wu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=nT(n)?n.map(Xx):Xx(n),l={done:!1,value:t[0]},c=bT(r&&r.length===t.length?r:wT(t),e),u=Tj(c,t,{ease:Array.isArray(o)?o:jT(t,o)});return{calculatedDuration:e,next:f=>(l.value=u(f),l.done=f>=e,l)}}function Aj(e,t){return t?e*(1e3/t):0}const ST=5;function Dj(e,t,r){const n=Math.max(t-ST,0);return Aj(r-e(n),t-n)}const Hh=.001,_T=.01,NT=10,CT=.05,kT=1;function PT({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let o,l,c=1-t;c=Ls(CT,kT,c),e=Ls(_T,NT,qn(e)),c<1?(o=h=>{const m=h*c,p=m*e,y=m-r,x=Mm(h,c),j=Math.exp(-p);return Hh-y/x*j},l=h=>{const p=h*c*e,y=p*r+r,x=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-p),w=Mm(Math.pow(h,2),c);return(-o(h)+Hh>0?-1:1)*((y-x)*j)/w}):(o=h=>{const m=Math.exp(-h*e),p=(h-r)*e+1;return-Hh+m*p},l=h=>{const m=Math.exp(-h*e),p=(r-h)*(e*e);return m*p});const u=5/e,f=TT(o,l,u);if(e=Ni(e),isNaN(f))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const ET=12;function TT(e,t,r){let n=r;for(let o=1;o<ET;o++)n=n-e(n)/t(n);return n}function Mm(e,t){return e*Math.sqrt(1-t*t)}const AT=["duration","bounce"],DT=["stiffness","damping","mass"];function Zx(e,t){return t.some(r=>e[r]!==void 0)}function RT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Zx(e,DT)&&Zx(e,AT)){const r=PT(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Rj({keyframes:e,restDelta:t,restSpeed:r,...n}){const o=e[0],l=e[e.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:h,duration:m,velocity:p,isResolvedFromDuration:y}=RT({...n,velocity:-qn(n.velocity||0)}),x=p||0,j=f/(2*Math.sqrt(u*h)),w=l-o,S=qn(Math.sqrt(u/h)),N=Math.abs(w)<5;r||(r=N?.01:2),t||(t=N?.005:.5);let k;if(j<1){const E=Mm(S,j);k=P=>{const D=Math.exp(-j*S*P);return l-D*((x+j*S*w)/E*Math.sin(E*P)+w*Math.cos(E*P))}}else if(j===1)k=E=>l-Math.exp(-S*E)*(w+(x+S*w)*E);else{const E=S*Math.sqrt(j*j-1);k=P=>{const D=Math.exp(-j*S*P),A=Math.min(E*P,300);return l-D*((x+j*S*w)*Math.sinh(A)+E*w*Math.cosh(A))/E}}return{calculatedDuration:y&&m||null,next:E=>{const P=k(E);if(y)c.done=E>=m;else{let D=x;E!==0&&(j<1?D=Dj(k,E,P):D=0);const A=Math.abs(D)<=r,C=Math.abs(l-P)<=t;c.done=A&&C}return c.value=c.done?l:P,c}}}function e0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const p=e[0],y={done:!1,value:p},x=R=>u!==void 0&&R<u||f!==void 0&&R>f,j=R=>u===void 0?f:f===void 0||Math.abs(u-R)<Math.abs(f-R)?u:f;let w=r*t;const S=p+w,N=c===void 0?S:c(S);N!==S&&(w=N-p);const k=R=>-w*Math.exp(-R/n),E=R=>N+k(R),P=R=>{const M=k(R),V=E(R);y.done=Math.abs(M)<=h,y.value=y.done?N:V};let D,A;const C=R=>{x(y.value)&&(D=R,A=Rj({keyframes:[y.value,j(y.value)],velocity:Dj(E,R,y.value),damping:o,stiffness:l,restDelta:h,restSpeed:m}))};return C(0),{calculatedDuration:null,next:R=>{let M=!1;return!A&&D===void 0&&(M=!0,P(R),C(R)),D!==void 0&&R>D?A.next(R-D):(!M&&P(R),y)}}}const OT=e=>{const t=({timestamp:r})=>e(r);return{start:()=>st.update(t,!0),stop:()=>Gn(t),now:()=>Kt.isProcessing?Kt.timestamp:performance.now()}},t0=2e4;function r0(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<t0;)t+=r,n=e.next(t);return t>=t0?1/0:t}const $T={decay:e0,inertia:e0,tween:Wu,keyframes:Wu,spring:Rj};function Hu({autoplay:e=!0,delay:t=0,driver:r=OT,keyframes:n,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:f,onStop:h,onComplete:m,onUpdate:p,...y}){let x=1,j=!1,w,S;const N=()=>{S=new Promise($=>{w=$})};N();let k;const E=$T[o]||Wu;let P;E!==Wu&&typeof n[0]!="number"&&(P=Tj([0,100],n,{clamp:!1}),n=[0,100]);const D=E({...y,keyframes:n});let A;u==="mirror"&&(A=E({...y,keyframes:[...n].reverse(),velocity:-(y.velocity||0)}));let C="idle",R=null,M=null,V=null;D.calculatedDuration===null&&l&&(D.calculatedDuration=r0(D));const{calculatedDuration:B}=D;let z=1/0,G=1/0;B!==null&&(z=B+c,G=z*(l+1)-c);let X=0;const J=$=>{if(M===null)return;x>0&&(M=Math.min(M,$)),x<0&&(M=Math.min($-G/x,M)),R!==null?X=R:X=Math.round($-M)*x;const q=X-t*(x>=0?1:-1),fe=x>=0?q<0:q>G;X=Math.max(q,0),C==="finished"&&R===null&&(X=G);let ve=X,Ne=D;if(l){const de=Math.min(X,G)/z;let he=Math.floor(de),Ee=de%1;!Ee&&de>=1&&(Ee=1),Ee===1&&he--,he=Math.min(he,l+1),!!(he%2)&&(u==="reverse"?(Ee=1-Ee,c&&(Ee-=c/z)):u==="mirror"&&(Ne=A)),ve=Ls(0,1,Ee)*z}const Se=fe?{done:!1,value:n[0]}:Ne.next(ve);P&&(Se.value=P(Se.value));let{done:ue}=Se;!fe&&B!==null&&(ue=x>=0?X>=G:X<=0);const me=R===null&&(C==="finished"||C==="running"&&ue);return p&&p(Se.value),me&&F(),Se},ee=()=>{k&&k.stop(),k=void 0},I=()=>{C="idle",ee(),w(),N(),M=V=null},F=()=>{C="finished",m&&m(),ee(),w()},K=()=>{if(j)return;k||(k=r(J));const $=k.now();f&&f(),R!==null?M=$-R:(!M||C==="finished")&&(M=$),C==="finished"&&N(),V=M,R=null,C="running",k.start()};e&&K();const Z={then($,q){return S.then($,q)},get time(){return qn(X)},set time($){$=Ni($),X=$,R!==null||!k||x===0?R=$:M=k.now()-$/x},get duration(){const $=D.calculatedDuration===null?r0(D):D.calculatedDuration;return qn($)},get speed(){return x},set speed($){$===x||!k||(x=$,Z.time=qn(X))},get state(){return C},play:K,pause:()=>{C="paused",R=X},stop:()=>{j=!0,C!=="idle"&&(C="idle",h&&h(),I())},cancel:()=>{V!==null&&J(V),I()},complete:()=>{C="finished"},sample:$=>(M=0,J($))};return Z}function MT(e){let t;return()=>(t===void 0&&(t=e()),t)}const IT=MT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),mu=10,FT=2e4,UT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!uj(t.ease);function VT(e,t,{onUpdate:r,onComplete:n,...o}){if(!(IT()&&LT.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let c=!1,u,f,h=!1;const m=()=>{f=new Promise(E=>{u=E})};m();let{keyframes:p,duration:y=300,ease:x,times:j}=o;if(UT(t,o)){const E=Hu({...o,repeat:0,delay:0});let P={done:!1,value:p[0]};const D=[];let A=0;for(;!P.done&&A<FT;)P=E.sample(A),D.push(P.value),A+=mu;j=void 0,p=D,y=A-mu,x="linear"}const w=XE(e.owner.current,t,p,{...o,duration:y,ease:x,times:j}),S=()=>{h=!1,w.cancel()},N=()=>{h=!0,st.update(S),u(),m()};return w.onfinish=()=>{h||(e.set(JE(p,o)),n&&n(),N())},{then(E,P){return f.then(E,P)},attachTimeline(E){return w.timeline=E,w.onfinish=null,wt},get time(){return qn(w.currentTime||0)},set time(E){w.currentTime=Ni(E)},get speed(){return w.playbackRate},set speed(E){w.playbackRate=E},get duration(){return qn(y)},play:()=>{c||(w.play(),Gn(S))},pause:()=>w.pause(),stop:()=>{if(c=!0,w.playState==="idle")return;const{currentTime:E}=w;if(E){const P=Hu({...o,autoplay:!1});e.setWithVelocity(P.sample(E-mu).value,P.sample(E).value,mu)}N()},complete:()=>{h||w.finish()},cancel:N}}function BT({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const o=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:wt,pause:wt,stop:wt,then:l=>(l(),Promise.resolve()),cancel:wt,complete:wt});return t?Hu({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const zT={type:"spring",stiffness:500,damping:25,restSpeed:10},WT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HT={type:"keyframes",duration:.8},qT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YT=(e,{keyframes:t})=>t.length>2?HT:Mi.has(e)?e.startsWith("scale")?WT(t[1]):zT:qT,Im=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fs.test(t)||t==="0")&&!t.startsWith("url(")),GT=new Set(["brightness","contrast","saturate","opacity"]);function KT(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(hd)||[];if(!n)return e;const o=r.replace(n,"");let l=GT.has(t)?1:0;return n!==r&&(l*=100),t+"("+l+o+")"}const XT=/([a-z-]*)\(.*?\)/g,Lm={...Fs,getAnimatableNone:e=>{const t=e.match(XT);return t?t.map(KT).join(" "):e}},JT={...Yb,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:Lm,WebkitFilter:Lm},Vp=e=>JT[e];function Oj(e,t){let r=Vp(e);return r!==Lm&&(r=Fs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const $j=e=>/^0[^.\s]+$/.test(e);function QT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$j(e)}function ZT(e,t,r,n){const o=Im(t,r);let l;Array.isArray(r)?l=[...r]:l=[null,r];const c=n.from!==void 0?n.from:e.get();let u;const f=[];for(let h=0;h<l.length;h++)l[h]===null&&(l[h]=h===0?c:l[h-1]),QT(l[h])&&f.push(h),typeof l[h]=="string"&&l[h]!=="none"&&l[h]!=="0"&&(u=l[h]);if(o&&f.length&&u)for(let h=0;h<f.length;h++){const m=f[h];l[m]=Oj(t,u)}return l}function eA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}function Bp(e,t){return e[t]||e.default||e}const tA={skipAnimations:!1},zp=(e,t,r,n={})=>o=>{const l=Bp(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ni(c);const f=ZT(t,e,r,l),h=f[0],m=f[f.length-1],p=Im(e,h),y=Im(e,m);let x={keyframes:f,velocity:t.getVelocity(),ease:"easeOut",...l,delay:-u,onUpdate:j=>{t.set(j),l.onUpdate&&l.onUpdate(j)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(eA(l)||(x={...x,...YT(e,x)}),x.duration&&(x.duration=Ni(x.duration)),x.repeatDelay&&(x.repeatDelay=Ni(x.repeatDelay)),!p||!y||KE.current||l.type===!1||tA.skipAnimations)return BT(x);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=VT(t,e,x);if(j)return j}return Hu(x)};function qu(e){return!!(gr(e)&&e.add)}const Mj=e=>/^\-?\d*\.?\d+$/.test(e);function Wp(e,t){e.indexOf(t)===-1&&e.push(t)}function Hp(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class qp{constructor(){this.subscriptions=[]}add(t){return Wp(this.subscriptions,t),()=>Hp(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rA=e=>!isNaN(parseFloat(e));class nA{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,o=!0)=>{this.prev=this.current,this.current=n;const{delta:l,timestamp:c}=Kt;this.lastUpdated!==c&&(this.timeDelta=l,this.lastUpdated=c,st.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>st.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rA(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new qp);const n=this.events[t].add(r);return t==="change"?()=>{n(),st.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Aj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(e,t){return new nA(e,t)}const Ij=e=>t=>t.test(e),sA={test:e=>e==="auto",parse:e=>e},Lj=[Ii,Me,wn,Cs,dE,uE,sA],el=e=>Lj.find(Ij(e)),iA=[...Lj,nr,Fs],oA=e=>iA.find(Ij(e));function aA(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Uo(r))}function lA(e,t){const r=pd(e,t);let{transitionEnd:n={},transition:o={},...l}=r?e.makeTargetAnimatable(r,!1):{};l={...l,...n};for(const c in l){const u=NE(l[c]);aA(e,c,u)}}function cA(e,t,r){var n,o;const l=Object.keys(t).filter(u=>!e.hasValue(u)),c=l.length;if(c)for(let u=0;u<c;u++){const f=l[u],h=t[f];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(o=(n=r[f])!==null&&n!==void 0?n:e.readValue(f))!==null&&o!==void 0?o:t[f]),m!=null&&(typeof m=="string"&&(Mj(m)||$j(m))?m=parseFloat(m):!oA(m)&&Fs.test(h)&&(m=Oj(f,h)),e.addValue(f,Uo(m,{owner:e})),r[f]===void 0&&(r[f]=m),m!==null&&e.setBaseTarget(f,m))}}function uA(e,t){return t?(t[e]||t.default||t).from:void 0}function dA(e,t,r){const n={};for(const o in e){const l=uA(o,t);if(l!==void 0)n[o]=l;else{const c=r.getValue(o);c&&(n[o]=c.get())}}return n}function fA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function hA(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Fj(e,t,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=e.makeTargetAnimatable(t);const f=e.getValue("willChange");n&&(l=n);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in u){const y=e.getValue(p),x=u[p];if(!y||x===void 0||m&&fA(m,p))continue;const j={delay:r,elapsed:0,...Bp(l||{},p)};if(window.HandoffAppearAnimations){const N=e.getProps()[Ub];if(N){const k=window.HandoffAppearAnimations(N,p,y,st);k!==null&&(j.elapsed=k,j.isHandoff=!0)}}let w=!j.isHandoff&&!hA(y,x);if(j.type==="spring"&&(y.getVelocity()||j.velocity)&&(w=!1),y.animation&&(w=!1),w)continue;y.start(zp(p,y,x,e.shouldReduceMotion&&Mi.has(p)?{type:!1}:j));const S=y.animation;qu(f)&&(f.add(p),S.then(()=>f.remove(p))),h.push(S)}return c&&Promise.all(h).then(()=>{c&&lA(e,c)}),h}function Fm(e,t,r={}){const n=pd(e,t,r.custom);let{transition:o=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const l=n?()=>Promise.all(Fj(e,n,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=o;return mA(e,t,h+f,m,p,r)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,h]=u==="beforeChildren"?[l,c]:[c,l];return f().then(()=>h())}else return Promise.all([l(),c(r.delay)])}function mA(e,t,r=0,n=0,o=1,l){const c=[],u=(e.variantChildren.size-1)*n,f=o===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(e.variantChildren).sort(pA).forEach((h,m)=>{h.notify("AnimationStart",t),c.push(Fm(h,t,{...l,delay:r+f(m)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function pA(e,t){return e.sortNodePosition(t)}function vA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(l=>Fm(e,l,r));n=Promise.all(o)}else if(typeof t=="string")n=Fm(e,t,r);else{const o=typeof t=="function"?pd(e,t,r.custom):t;n=Promise.all(Fj(e,o,r))}return n.then(()=>e.notify("AnimationComplete",t))}const gA=[...kp].reverse(),yA=kp.length;function xA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>vA(e,r,n)))}function wA(e){let t=xA(e);const r=jA();let n=!0;const o=(f,h)=>{const m=pd(e,h);if(m){const{transition:p,transitionEnd:y,...x}=m;f={...f,...x,...y}}return f};function l(f){t=f(e)}function c(f,h){const m=e.getProps(),p=e.getVariantContext(!0)||{},y=[],x=new Set;let j={},w=1/0;for(let N=0;N<yA;N++){const k=gA[N],E=r[k],P=m[k]!==void 0?m[k]:p[k],D=Sl(P),A=k===h?E.isActive:null;A===!1&&(w=N);let C=P===p[k]&&P!==m[k]&&D;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...j},!E.isActive&&A===null||!P&&!E.prevProp||dd(P)||typeof P=="boolean")continue;let M=bA(E.prevProp,P)||k===h&&E.isActive&&!C&&D||N>w&&D,V=!1;const B=Array.isArray(P)?P:[P];let z=B.reduce(o,{});A===!1&&(z={});const{prevResolvedValues:G={}}=E,X={...G,...z},J=ee=>{M=!0,x.has(ee)&&(V=!0,x.delete(ee)),E.needsAnimating[ee]=!0};for(const ee in X){const I=z[ee],F=G[ee];if(j.hasOwnProperty(ee))continue;let K=!1;Bu(I)&&Bu(F)?K=!lj(I,F):K=I!==F,K?I!==void 0?J(ee):x.add(ee):I!==void 0&&x.has(ee)?J(ee):E.protectedKeys[ee]=!0}E.prevProp=P,E.prevResolvedValues=z,E.isActive&&(j={...j,...z}),n&&e.blockInitialAnimation&&(M=!1),M&&(!C||V)&&y.push(...B.map(ee=>({animation:ee,options:{type:k,...f}})))}if(x.size){const N={};x.forEach(k=>{const E=e.getBaseTarget(k);E!==void 0&&(N[k]=E)}),y.push({animation:N})}let S=!!y.length;return n&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),n=!1,S?t(y):Promise.resolve()}function u(f,h,m){var p;if(r[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(x=>{var j;return(j=x.animationState)===null||j===void 0?void 0:j.setActive(f,h)}),r[f].isActive=h;const y=c(m,f);for(const x in r)r[x].protectedKeys={};return y}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>r}}function bA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lj(t,e):!1}function pi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jA(){return{animate:pi(!0),whileInView:pi(),whileHover:pi(),whileTap:pi(),whileDrag:pi(),whileFocus:pi(),exit:pi()}}class SA extends zs{constructor(t){super(t),t.animationState||(t.animationState=wA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),dd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let _A=0;class NA extends zs{constructor(){super(...arguments),this.id=_A++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const l=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&l.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const CA={animation:{Feature:SA},exit:{Feature:NA}},n0=(e,t)=>Math.abs(e-t);function kA(e,t){const r=n0(e.x,t.x),n=n0(e.y,t.y);return Math.sqrt(r**2+n**2)}class Uj{constructor(t,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Yh(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=kA(p.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:j}=p,{timestamp:w}=Kt;this.history.push({...j,timestamp:w});const{onStart:S,onMove:N}=this.handlers;y||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=qh(y,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Yh(p.type==="pointercancel"?this.lastMoveEventInfo:qh(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,S),j&&j(p,S)},!nj(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=md(t),u=qh(c,this.transformPagePoint),{point:f}=u,{timestamp:h}=Kt;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=r;m&&m(t,Yh(u,this.history)),this.removeListeners=Ms(Hn(this.contextWindow,"pointermove",this.handlePointerMove),Hn(this.contextWindow,"pointerup",this.handlePointerUp),Hn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gn(this.updatePoint)}}function qh(e,t){return t?{point:t(e.point)}:e}function s0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yh({point:e},t){return{point:e,delta:s0(e,Vj(t)),offset:s0(e,PA(t)),velocity:EA(t,.1)}}function PA(e){return e[0]}function Vj(e){return e[e.length-1]}function EA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=Vj(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>Ni(t)));)r--;if(!n)return{x:0,y:0};const l=qn(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function kr(e){return e.max-e.min}function Um(e,t=0,r=.01){return Math.abs(e-t)<=r}function i0(e,t,r,n=.5){e.origin=n,e.originPoint=ht(t.min,t.max,e.origin),e.scale=kr(r)/kr(t),(Um(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ht(r.min,r.max,e.origin)-e.originPoint,(Um(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ml(e,t,r,n){i0(e.x,t.x,r.x,n?n.originX:void 0),i0(e.y,t.y,r.y,n?n.originY:void 0)}function o0(e,t,r){e.min=r.min+t.min,e.max=e.min+kr(t)}function TA(e,t,r){o0(e.x,t.x,r.x),o0(e.y,t.y,r.y)}function a0(e,t,r){e.min=t.min-r.min,e.max=e.min+kr(t)}function pl(e,t,r){a0(e.x,t.x,r.x),a0(e.y,t.y,r.y)}function AA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ht(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ht(r,e,n.max):Math.min(e,r)),e}function l0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function DA(e,{top:t,left:r,bottom:n,right:o}){return{x:l0(e.x,r,o),y:l0(e.y,t,n)}}function c0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function RA(e,t){return{x:c0(e.x,t.x),y:c0(e.y,t.y)}}function OA(e,t){let r=.5;const n=kr(e),o=kr(t);return o>n?r=Nl(t.min,t.max-n,e.min):n>o&&(r=Nl(e.min,e.max-o,t.min)),Ls(0,1,r)}function $A(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Vm=.35;function MA(e=Vm){return e===!1?e=0:e===!0&&(e=Vm),{x:u0(e,"left","right"),y:u0(e,"top","bottom")}}function u0(e,t,r){return{min:d0(e,t),max:d0(e,r)}}function d0(e,t){return typeof e=="number"?e:e[t]||0}const f0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:f0(),y:f0()}),h0=()=>({min:0,max:0}),_t=()=>({x:h0(),y:h0()});function Fr(e){return[e("x"),e("y")]}function Bj({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function IA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Gh(e){return e===void 0||e===1}function Bm({scale:e,scaleX:t,scaleY:r}){return!Gh(e)||!Gh(t)||!Gh(r)}function gi(e){return Bm(e)||zj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function zj(e){return m0(e.x)||m0(e.y)}function m0(e){return e&&e!=="0%"}function Yu(e,t,r){const n=e-r,o=t*n;return r+o}function p0(e,t,r,n,o){return o!==void 0&&(e=Yu(e,o,n)),Yu(e,r,n)+t}function zm(e,t=0,r=1,n,o){e.min=p0(e.min,t,r,n,o),e.max=p0(e.max,t,r,n,o)}function Wj(e,{x:t,y:r}){zm(e.x,t.translate,t.scale,t.originPoint),zm(e.y,r.translate,r.scale,r.originPoint)}function FA(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let l,c;for(let u=0;u<o;u++){l=r[u],c=l.projectionDelta;const f=l.instance;f&&f.style&&f.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Wj(e,c)),n&&gi(l.latestValues)&&Oo(e,l.latestValues))}t.x=v0(t.x),t.y=v0(t.y)}function v0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function As(e,t){e.min=e.min+t,e.max=e.max+t}function g0(e,t,[r,n,o]){const l=t[o]!==void 0?t[o]:.5,c=ht(e.min,e.max,l);zm(e,t[r],t[n],c,t.scale)}const UA=["x","scaleX","originX"],VA=["y","scaleY","originY"];function Oo(e,t){g0(e.x,t,UA),g0(e.y,t,VA)}function Hj(e,t){return Bj(LA(e.getBoundingClientRect(),t))}function BA(e,t,r){const n=Hj(e,r),{scroll:o}=t;return o&&(As(n.x,o.offset.x),As(n.y,o.offset.y)),n}const qj=({current:e})=>e?e.ownerDocument.defaultView:null,zA=new WeakMap;class WA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(md(m,"page").point)},l=(m,p)=>{const{drag:y,dragPropagation:x,onDragStart:j}=this.getProps();if(y&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ij(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(S=>{let N=this.getAxisMotionValue(S).get()||0;if(wn.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[S];E&&(N=kr(E)*(parseFloat(N)/100))}}this.originPoint[S]=N}),j&&st.update(()=>j(m,p),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,p)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:j,onDrag:w}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:S}=p;if(x&&this.currentDirection===null){this.currentDirection=HA(S),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),w&&w(m,p)},u=(m,p)=>this.stop(m,p),f=()=>Fr(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Uj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:qj(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&st.update(()=>l(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!pu(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=AA(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;r&&Ao(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=DA(o.layoutBox,r):this.constraints=!1,this.elastic=MA(n),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Fr(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=$A(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ao(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=BA(n,o.root,this.visualElement.getTransformPagePoint());let c=RA(o.layout.layoutBox,l);if(r){const u=r(IA(c));this.hasMutatedConstraints=!!u,u&&(c=Bj(u))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Fr(m=>{if(!pu(m,r,this.currentDirection))return;let p=f&&f[m]||{};c&&(p={min:0,max:0});const y=o?200:1e6,x=o?40:1e7,j={type:"inertia",velocity:n?t[m]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(zp(t,n,0,r))}stopAnimation(){Fr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fr(r=>{const{drag:n}=this.getProps();if(!pu(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[r];l.set(t[r]-ht(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ao(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Fr(c=>{const u=this.getAxisMotionValue(c);if(u){const f=u.get();o[c]=OA({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fr(c=>{if(!pu(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(ht(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;zA.set(this.visualElement,this);const t=this.visualElement.current,r=Hn(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Ao(f)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),n();const c=Vn(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Fr(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=f[m].translate,p.set(p.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Vm,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function pu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function HA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class qA extends zs{constructor(t){super(t),this.removeGroupControls=wt,this.removeListeners=wt,this.controls=new WA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const y0=e=>(t,r)=>{e&&st.update(()=>e(t,r))};class YA extends zs{constructor(){super(...arguments),this.removePointerDownListener=wt}onPointerDown(t){this.session=new Uj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:y0(t),onStart:y0(r),onMove:n,onEnd:(l,c)=>{delete this.session,o&&st.update(()=>o(l,c))}}}mount(){this.removePointerDownListener=Hn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GA(){const e=g.useContext(cd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,o=g.useId();return g.useEffect(()=>n(o),[]),!t&&r?[!1,()=>r&&r(o)]:[!0]}const $u={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function x0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const r=x0(e,t.target.x),n=x0(e,t.target.y);return`${r}% ${n}%`}},KA={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Fs.parse(e);if(o.length>5)return n;const l=Fs.createTransformer(e),c=typeof o[0]!="number"?1:0,u=r.x.scale*t.x,f=r.y.scale*t.y;o[0+c]/=u,o[1+c]/=f;const h=ht(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};class XA extends le.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=t;nE(JA),l&&(r.group&&r.group.add(l),n&&n.register&&o&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$u.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,o||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||st.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Yj(e){const[t,r]=GA(),n=g.useContext(Ep);return le.createElement(XA,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(Bb),isPresent:t,safeToRemove:r})}const JA={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:KA},Gj=["TopLeft","TopRight","BottomLeft","BottomRight"],QA=Gj.length,w0=e=>typeof e=="string"?parseFloat(e):e,b0=e=>typeof e=="number"||Me.test(e);function ZA(e,t,r,n,o,l){o?(e.opacity=ht(0,r.opacity!==void 0?r.opacity:1,e4(n)),e.opacityExit=ht(t.opacity!==void 0?t.opacity:1,0,t4(n))):l&&(e.opacity=ht(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<QA;c++){const u=`border${Gj[c]}Radius`;let f=j0(t,u),h=j0(r,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||b0(f)===b0(h)?(e[u]=Math.max(ht(w0(f),w0(h),n),0),(wn.test(h)||wn.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||r.rotate)&&(e.rotate=ht(t.rotate||0,r.rotate||0,n))}function j0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const e4=Kj(0,.5,gj),t4=Kj(.5,.95,wt);function Kj(e,t,r){return n=>n<e?0:n>t?1:r(Nl(e,t,n))}function S0(e,t){e.min=t.min,e.max=t.max}function Lr(e,t){S0(e.x,t.x),S0(e.y,t.y)}function _0(e,t,r,n,o){return e-=t,e=Yu(e,1/r,n),o!==void 0&&(e=Yu(e,1/o,n)),e}function r4(e,t=0,r=1,n=.5,o,l=e,c=e){if(wn.test(t)&&(t=parseFloat(t),t=ht(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=ht(l.min,l.max,n);e===l&&(u-=t),e.min=_0(e.min,t,r,u,o),e.max=_0(e.max,t,r,u,o)}function N0(e,t,[r,n,o],l,c){r4(e,t[r],t[n],t[o],t.scale,l,c)}const n4=["x","scaleX","originX"],s4=["y","scaleY","originY"];function C0(e,t,r,n){N0(e.x,t,n4,r?r.x:void 0,n?n.x:void 0),N0(e.y,t,s4,r?r.y:void 0,n?n.y:void 0)}function k0(e){return e.translate===0&&e.scale===1}function Xj(e){return k0(e.x)&&k0(e.y)}function i4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Jj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function P0(e){return kr(e.x)/kr(e.y)}class o4{constructor(){this.members=[]}add(t){Wp(this.members,t),t.scheduleRender()}remove(t){if(Hp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function E0(e,t,r){let n="";const o=e.x.translate/t.x,l=e.y.translate/t.y;if((o||l)&&(n=`translate3d(${o}px, ${l}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:f,rotateX:h,rotateY:m}=r;f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const a4=(e,t)=>e.depth-t.depth;class l4{constructor(){this.children=[],this.isDirty=!1}add(t){Wp(this.children,t),this.isDirty=!0}remove(t){Hp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(a4),this.isDirty=!1,this.children.forEach(t)}}function c4(e,t){const r=performance.now(),n=({timestamp:o})=>{const l=o-r;l>=t&&(Gn(n),e(l-t))};return st.read(n,!0),()=>Gn(n)}function u4(e){window.MotionDebug&&window.MotionDebug.record(e)}function d4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function f4(e,t,r){const n=gr(e)?e:Uo(e);return n.start(zp("",n,t,r)),n.animation}const T0=["","X","Y","Z"],h4={visibility:"hidden"},A0=1e3;let m4=0;const yi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Qj({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},u=t==null?void 0:t()){this.id=m4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yi.totalNodes=yi.resolvedTargetDeltas=yi.recalculatedProjection=0,this.nodes.forEach(g4),this.nodes.forEach(j4),this.nodes.forEach(S4),this.nodes.forEach(y4),u4(yi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new l4)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qp),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=d4(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),e){let p;const y=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=c4(y,250),$u.hasAnimatedSinceResize&&($u.hasAnimatedSinceResize=!1,this.nodes.forEach(R0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||P4,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=m.getProps(),k=!this.targetLayout||!Jj(this.targetLayout,j)||x,E=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||y&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const P={...Bp(w,"layout"),onPlay:S,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else y||R0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D0);return}this.isUpdating||this.nodes.forEach(w4),this.isUpdating=!1,this.nodes.forEach(b4),this.nodes.forEach(p4),this.nodes.forEach(v4),this.clearAllSnapshots();const u=performance.now();Kt.delta=Ls(0,1e3/60,u-Kt.timestamp),Kt.timestamp=u,Kt.isProcessing=!0,Lh.update.process(Kt),Lh.preRender.process(Kt),Lh.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(x4),this.sharedNodes.forEach(N4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!Xj(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&(u||gi(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),E4(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return _t();const u=c.measureViewportBox(),{scroll:f}=this.root;return f&&(As(u.x,f.offset.x),As(u.y,f.offset.y)),u}removeElementScroll(c){const u=_t();Lr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:p}=h;if(h!==this.root&&m&&p.layoutScroll){if(m.isRoot){Lr(u,c);const{scroll:y}=this.root;y&&(As(u.x,-y.offset.x),As(u.y,-y.offset.y))}As(u.x,m.offset.x),As(u.y,m.offset.y)}}return u}applyTransform(c,u=!1){const f=_t();Lr(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Oo(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),gi(m.latestValues)&&Oo(f,m.latestValues)}return gi(this.latestValues)&&Oo(f,this.latestValues),f}removeTransform(c){const u=_t();Lr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!gi(h.latestValues))continue;Bm(h.latestValues)&&h.updateSnapshot();const m=_t(),p=h.measurePageBox();Lr(m,p),C0(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return gi(this.latestValues)&&C0(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),pl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),Wj(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),pl(this.relativeTargetOrigin,this.target,x.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bm(this.parent.latestValues)||zj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Lr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;FA(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:j}=u;if(!j){this.projectionTransform&&(this.projectionDelta=Ro(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro());const w=this.projectionTransform;ml(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=E0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==y||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),yi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},p=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=_t(),x=f?f.source:void 0,j=this.layout?this.layout.source:void 0,w=x!==j,S=this.getStack(),N=!S||S.members.length<=1,k=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(k4));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const D=P/1e3;O0(p.x,c.x,D),O0(p.y,c.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pl(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C4(this.relativeTarget,this.relativeTargetOrigin,y,D),E&&i4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=_t()),Lr(E,this.relativeTarget)),w&&(this.animationValues=m,ZA(m,h,this.latestValues,D,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{$u.hasAnimatedSinceResize=!0,this.currentAnimation=f4(0,A0,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&Zj(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||_t();const p=kr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+p;const y=kr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+y}Lr(u,f),Oo(u,m),ml(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new o4),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<T0.length;m++){const p="rotate"+T0[m];f[p]&&(h[p]=f[p],c.setStaticValue(p,0))}c.render();for(const m in h)c.setStaticValue(m,h[m]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return h4;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ou(c==null?void 0:c.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ou(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!gi(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=E0(this.projectionDeltaWithTransform,this.treeScale,y),m&&(h.transform=m(y,h.transform));const{x,y:j}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${j.origin*100}% 0`,p.animationValues?h.opacity=p===this?(f=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Uu){if(y[w]===void 0)continue;const{correct:S,applyTo:N}=Uu[w],k=h.transform==="none"?y[w]:S(y[w],p);if(N){const E=N.length;for(let P=0;P<E;P++)h[N[P]]=k}else h[w]=k}return this.options.layoutId&&(h.pointerEvents=p===this?Ou(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(D0),this.root.sharedNodes.clear()}}}function p4(e){e.updateLayout()}function v4(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:l}=e.options,c=r.source!==e.layout.source;l==="size"?Fr(p=>{const y=c?r.measuredBox[p]:r.layoutBox[p],x=kr(y);y.min=n[p].min,y.max=y.min+x}):Zj(l,r.layoutBox,n)&&Fr(p=>{const y=c?r.measuredBox[p]:r.layoutBox[p],x=kr(n[p]);y.max=y.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+x)});const u=Ro();ml(u,n,r.layoutBox);const f=Ro();c?ml(f,e.applyTransform(o,!0),r.measuredBox):ml(f,n,r.layoutBox);const h=!Xj(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:x}=p;if(y&&x){const j=_t();pl(j,r.layoutBox,y.layoutBox);const w=_t();pl(w,n,x.layoutBox),Jj(j,w)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function g4(e){yi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function y4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function x4(e){e.clearSnapshot()}function D0(e){e.clearMeasurements()}function w4(e){e.isLayoutDirty=!1}function b4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function R0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function j4(e){e.resolveTargetDelta()}function S4(e){e.calcProjection()}function _4(e){e.resetRotation()}function N4(e){e.removeLeadSnapshot()}function O0(e,t,r){e.translate=ht(t.translate,0,r),e.scale=ht(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function $0(e,t,r,n){e.min=ht(t.min,r.min,n),e.max=ht(t.max,r.max,n)}function C4(e,t,r,n){$0(e.x,t.x,r.x,n),$0(e.y,t.y,r.y,n)}function k4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P4={duration:.45,ease:[.4,0,.1,1]},M0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),I0=M0("applewebkit/")&&!M0("chrome/")?Math.round:wt;function L0(e){e.min=I0(e.min),e.max=I0(e.max)}function E4(e){L0(e.x),L0(e.y)}function Zj(e,t,r){return e==="position"||e==="preserve-aspect"&&!Um(P0(t),P0(r),.2)}const T4=Qj({attachResizeListener:(e,t)=>Vn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kh={current:void 0},e1=Qj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kh.current){const e=new T4({});e.mount(window),e.setOptions({layoutScroll:!0}),Kh.current=e}return Kh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),A4={pan:{Feature:YA},drag:{Feature:qA,ProjectionNode:e1,MeasureLayout:Yj}},D4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function R4(e){const t=D4.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Wm(e,t,r=1){const[n,o]=R4(e);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const c=l.trim();return Mj(c)?parseFloat(c):c}else return Rm(o)?Wm(o,t,r+1):o}function O4(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(o=>{const l=o.get();if(!Rm(l))return;const c=Wm(l,n);c&&o.set(c)});for(const o in t){const l=t[o];if(!Rm(l))continue;const c=Wm(l,n);c&&(t[o]=c,r||(r={}),r[o]===void 0&&(r[o]=l))}return{target:t,transitionEnd:r}}const $4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),t1=e=>$4.has(e),M4=e=>Object.keys(e).some(t1),F0=e=>e===Ii||e===Me,U0=(e,t)=>parseFloat(e.split(", ")[t]),V0=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/);if(o)return U0(o[1],t);{const l=n.match(/^matrix\((.+)\)$/);return l?U0(l[1],e):0}},I4=new Set(["x","y","z"]),L4=Ml.filter(e=>!I4.has(e));function F4(e){const t=[];return L4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Vo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:V0(4,13),y:V0(5,14)};Vo.translateX=Vo.x;Vo.translateY=Vo.y;const U4=(e,t,r)=>{const n=t.measureViewportBox(),o=t.current,l=getComputedStyle(o),{display:c}=l,u={};c==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(h=>{u[h]=Vo[h](n,l)}),t.render();const f=t.measureViewportBox();return r.forEach(h=>{const m=t.getValue(h);m&&m.jump(u[h]),e[h]=Vo[h](f,l)}),e},V4=(e,t,r={},n={})=>{t={...t},n={...n};const o=Object.keys(t).filter(t1);let l=[],c=!1;const u=[];if(o.forEach(f=>{const h=e.getValue(f);if(!e.hasValue(f))return;let m=r[f],p=el(m);const y=t[f];let x;if(Bu(y)){const j=y.length,w=y[0]===null?1:0;m=y[w],p=el(m);for(let S=w;S<j&&y[S]!==null;S++)x?Ip(el(y[S])===x):x=el(y[S])}else x=el(y);if(p!==x)if(F0(p)&&F0(x)){const j=h.get();typeof j=="string"&&h.set(parseFloat(j)),typeof y=="string"?t[f]=parseFloat(y):Array.isArray(y)&&x===Me&&(t[f]=y.map(parseFloat))}else p!=null&&p.transform&&(x!=null&&x.transform)&&(m===0||y===0)?m===0?h.set(x.transform(m)):t[f]=p.transform(y):(c||(l=F4(e),c=!0),u.push(f),n[f]=n[f]!==void 0?n[f]:t[f],h.jump(y))}),u.length){const f=u.indexOf("height")>=0?window.pageYOffset:null,h=U4(t,e,u);return l.length&&l.forEach(([m,p])=>{e.getValue(m).set(p)}),e.render(),ud&&f!==null&&window.scrollTo({top:f}),{target:h,transitionEnd:n}}else return{target:t,transitionEnd:n}};function B4(e,t,r,n){return M4(t)?V4(e,t,r,n):{target:t,transitionEnd:n}}const z4=(e,t,r,n)=>{const o=O4(e,t,n);return t=o.target,n=o.transitionEnd,B4(e,t,r,n)},Hm={current:null},r1={current:!1};function W4(){if(r1.current=!0,!!ud)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hm.current=e.matches;e.addListener(t),t()}else Hm.current=!1}function H4(e,t,r){const{willChange:n}=t;for(const o in t){const l=t[o],c=r[o];if(gr(l))e.addValue(o,l),qu(n)&&n.add(o);else if(gr(c))e.addValue(o,Uo(l,{owner:e})),qu(n)&&n.remove(o);else if(c!==l)if(e.hasValue(o)){const u=e.getValue(o);!u.hasAnimated&&u.set(l)}else{const u=e.getStaticValue(o);e.addValue(o,Uo(u!==void 0?u:l,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const B0=new WeakMap,n1=Object.keys(_l),q4=n1.length,z0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Y4=Pp.length;class G4{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>st.render(this.render,!1,!0);const{latestValues:u,renderState:f}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=fd(r),this.isVariantNode=Vb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{});for(const p in m){const y=m[p];u[p]!==void 0&&gr(y)&&(y.set(u[p],!1),qu(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,B0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),r1.current||W4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){B0.delete(this.current),this.projection&&this.projection.unmount(),Gn(this.notifyUpdate),Gn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Mi.has(t),o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&st.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),l()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,o,l){let c,u;for(let f=0;f<q4;f++){const h=n1[f],{isEnabled:m,Feature:p,ProjectionNode:y,MeasureLayout:x}=_l[h];y&&(c=y),m(r)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),x&&(u=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:h,drag:m,dragConstraints:p,layoutScroll:y,layoutRoot:x}=r;this.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:!!m||p&&Ao(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:l,layoutScroll:y,layoutRoot:x})}return u}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<z0.length;n++){const o=z0[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=t["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=H4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<Y4;n++){const o=Pp[n],l=this.props[o];(Sl(l)||l===!1)&&(r[o]=l)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Uo(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,o=typeof n=="string"||typeof n=="object"?(r=Mp(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!gr(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new qp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class s1 extends G4{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:o},l){let c=dA(n,t||{},this);if(o&&(r&&(r=o(r)),n&&(n=o(n)),c&&(c=o(c))),l){cA(this,n,c);const u=z4(this,n,c,r);r=u.transitionEnd,n=u.target}return{transition:t,transitionEnd:r,...n}}}function K4(e){return window.getComputedStyle(e)}class X4 extends s1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Mi.has(r)){const n=Vp(r);return n&&n.default||0}else{const n=K4(t),o=(Hb(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Hj(t,r)}build(t,r,n,o){Ap(t,r,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,r){return $p(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,o){Jb(t,r,n,o)}}class J4 extends s1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Mi.has(r)){const n=Vp(r);return n&&n.default||0}return r=Qb.has(r)?r:Cp(r),t.getAttribute(r)}measureInstanceViewportBox(){return _t()}scrapeMotionValuesFromProps(t,r){return ej(t,r)}build(t,r,n,o){Rp(t,r,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,r,n,o){Zb(t,r,n,o)}mount(t){this.isSVGTag=Op(t.tagName),super.mount(t)}}const Q4=(e,t)=>Tp(e)?new J4(t,{enableHardwareAcceleration:!1}):new X4(t,{enableHardwareAcceleration:!0}),Z4={layout:{ProjectionNode:e1,MeasureLayout:Yj}},eD={...CA,...qE,...A4,...Z4},ye=tE((e,t)=>RE(e,t,eD,Q4));function i1(){const e=g.useRef(!1);return Np(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function tD(){const e=i1(),[t,r]=g.useState(0),n=g.useCallback(()=>{e.current&&r(t+1)},[t]);return[g.useCallback(()=>st.postRender(n),[n]),t]}class rD extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function nD({children:e,isPresent:t}){const r=g.useId(),n=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f}=o.current;if(t||!n.current||!l||!c)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),g.createElement(rD,{isPresent:t,childRef:n,sizeRef:o},g.cloneElement(e,{ref:n}))}const Xh=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:c})=>{const u=tj(sD),f=g.useId(),h=g.useMemo(()=>({id:f,initial:t,isPresent:r,custom:o,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),l?void 0:[r]);return g.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),c==="popLayout"&&(e=g.createElement(nD,{isPresent:r},e)),g.createElement(cd.Provider,{value:h},e)};function sD(){return new Map}function iD(e){return g.useEffect(()=>()=>e(),[])}const xi=e=>e.key||"";function oD(e,t){e.forEach(r=>{const n=xi(r);t.set(n,r)})}function aD(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const Cl=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:c="sync"})=>{const u=g.useContext(Ep).forceRender||tD()[0],f=i1(),h=aD(e);let m=h;const p=g.useRef(new Map).current,y=g.useRef(m),x=g.useRef(new Map).current,j=g.useRef(!0);if(Np(()=>{j.current=!1,oD(h,x),y.current=m}),iD(()=>{j.current=!0,x.clear(),p.clear()}),j.current)return g.createElement(g.Fragment,null,m.map(k=>g.createElement(Xh,{key:xi(k),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l,mode:c},k)));m=[...m];const w=y.current.map(xi),S=h.map(xi),N=w.length;for(let k=0;k<N;k++){const E=w[k];S.indexOf(E)===-1&&!p.has(E)&&p.set(E,void 0)}return c==="wait"&&p.size&&(m=[]),p.forEach((k,E)=>{if(S.indexOf(E)!==-1)return;const P=x.get(E);if(!P)return;const D=w.indexOf(E);let A=k;if(!A){const C=()=>{p.delete(E);const R=Array.from(x.keys()).filter(M=>!S.includes(M));if(R.forEach(M=>x.delete(M)),y.current=h.filter(M=>{const V=xi(M);return V===E||R.includes(V)}),!p.size){if(f.current===!1)return;u(),n&&n()}};A=g.createElement(Xh,{key:xi(P),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:l,mode:c},P),p.set(E,A)}m.splice(D,0,A)}),m=m.map(k=>{const E=k.key;return p.has(E)?k:g.createElement(Xh,{key:xi(k),isPresent:!0,presenceAffectsLayout:l,mode:c},k)}),g.createElement(g.Fragment,null,p.size?m:m.map(k=>g.cloneElement(k)))},lD=e=>{localStorage.setItem("groceroo-cart",JSON.stringify(e))},cD=()=>{const e=localStorage.getItem("groceroo-cart");return e?JSON.parse(e):[]},uD=1;let Jh=0;function dD(){return Jh=(Jh+1)%Number.MAX_VALUE,Jh.toString()}const sr={state:{toasts:[]},listeners:[],getState:()=>sr.state,setState:e=>{typeof e=="function"?sr.state=e(sr.state):sr.state={...sr.state,...e},sr.listeners.forEach(t=>t(sr.state))},subscribe:e=>(sr.listeners.push(e),()=>{sr.listeners=sr.listeners.filter(t=>t!==e)})},te=({...e})=>{const t=dD(),r=o=>sr.setState(l=>({...l,toasts:l.toasts.map(c=>c.id===t?{...c,...o}:c)})),n=()=>sr.setState(o=>({...o,toasts:o.toasts.filter(l=>l.id!==t)}));return sr.setState(o=>({...o,toasts:[{...e,id:t,dismiss:n},...o.toasts].slice(0,uD)})),{id:t,dismiss:n,update:r}};function fD(){const[e,t]=g.useState(sr.getState());return g.useEffect(()=>sr.subscribe(n=>{t(n)}),[]),g.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const o=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(o)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:te,toasts:e.toasts}}const o1=g.createContext(),Ws=()=>{const e=g.useContext(o1);if(!e)throw new Error("useCart must be used within a CartProvider");return e},hD=({children:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!1);g.useEffect(()=>{const j=cD();j&&j.length>0&&r(j)},[]),g.useEffect(()=>{lD(t)},[t]);const l=()=>o(!0),c=()=>o(!1),u=()=>o(!n),f=(j,w=1)=>{r(S=>{if(S.find(k=>k.id===j.id)){const k=S.map(E=>E.id===j.id?{...E,quantity:E.quantity+w}:E);return te({title:"Item updated",description:`${j.name} quantity updated in your cart.`,duration:2e3}),k}else return te({title:"Item added",description:`${j.name} added to your cart.`,duration:2e3}),[...S,{...j,quantity:w}]})},h=j=>{r(w=>{const S=w.find(N=>N.id===j);return S&&te({title:"Item removed",description:`${S.name} removed from your cart.`,duration:2e3}),w.filter(N=>N.id!==j)})},m=(j,w)=>{if(w<=0){h(j);return}r(S=>S.map(N=>N.id===j?{...N,quantity:w}:N))},p=()=>{r([]),te({title:"Cart cleared",description:"All items have been removed from your cart.",duration:2e3})},y=()=>t.reduce((j,w)=>j+w.price*w.quantity,0),x=()=>t.reduce((j,w)=>j+w.quantity,0);return i.jsx(o1.Provider,{value:{cart:t,isCartOpen:n,openCart:l,closeCart:c,toggleCart:u,addToCart:f,removeFromCart:h,updateQuantity:m,clearCart:p,getCartTotal:y,getCartCount:x},children:e})},mD="modulepreload",pD=function(e){return"/"+e},W0={},Bo=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(r.map(h=>{if(h=pD(h),h in W0)return;W0[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":mD,m||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),m)return new Promise((x,j)=>{y.addEventListener("load",x),y.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})},vD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bo(async()=>{const{default:n}=await Promise.resolve().then(()=>ea);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gD extends Yp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yD extends Yp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xD extends Yp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qm||(qm={}));var wD=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class bD{constructor(t,{headers:r={},customFetch:n,region:o=qm.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=vD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return wD(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:c}=r;let u={},{region:f}=r;f||(f=this.region),f&&f!=="any"&&(u["x-region"]=f);let h;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(u["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(u["Content-Type"]="application/json",h=JSON.stringify(c)));const m=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h}).catch(j=>{throw new gD(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new yD(m);if(!m.ok)throw new xD(m);let y=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield m.json():y==="application/octet-stream"?x=yield m.blob():y==="text/event-stream"?x=m:y==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null}}catch(o){return{data:null,error:o}}})}}var Rt={},vo={},go={},yo={},xo={},wo={},jD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zo=jD();const SD=zo.fetch,a1=zo.fetch.bind(zo),l1=zo.Headers,_D=zo.Request,ND=zo.Response,ea=Object.freeze(Object.defineProperty({__proto__:null,Headers:l1,Request:_D,Response:ND,default:a1,fetch:SD},Symbol.toStringTag,{value:"Module"})),CD=$2(ea);var vu={},H0;function c1(){if(H0)return vu;H0=1,Object.defineProperty(vu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vu.default=e,vu}var q0;function u1(){if(q0)return wo;q0=1;var e=wo&&wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(CD),r=e(c1());class n{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,p,y;let x=null,j=null,w=null,S=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=D:j=JSON.parse(D))}const E=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");E&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(x={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,S=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const E=await h.text();try{x=JSON.parse(E),Array.isArray(x)&&h.status===404&&(j=[],x=null,S=200,N="OK")}catch{h.status===404&&E===""?(S=204,N="No Content"):x={message:E}}if(x&&this.isMaybeSingle&&(!((y=x==null?void 0:x.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,S=200,N="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:j,count:w,status:S,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,p,y;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=h==null?void 0:h.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return wo.default=n,wo}var Y0;function d1(){if(Y0)return xo;Y0=1;var e=xo&&xo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(u1());class r extends t.default{select(o){let l=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const p=[o?"analyze":null,l?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`,h==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xo.default=r,xo}var G0;function Gp(){if(G0)return yo;G0=1;var e=yo&&yo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(d1());class r extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return yo.default=r,yo}var K0;function f1(){if(K0)return go;K0=1;var e=go&&go.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(go,"__esModule",{value:!0});const t=e(Gp());class r{constructor(o,{headers:l={},schema:c,fetch:u}){this.url=o,this.headers=l,this.schema=c,this.fetch=u}select(o,{head:l=!1,count:c}={}){const u=l?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:l,defaultToNull:c=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const h=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){const h="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(p.length>0){const y=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:l}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const l="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return go.default=r,go}var rl={},nl={},X0;function kD(){return X0||(X0=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.version=void 0,nl.version="0.0.0-automated"),nl}var J0;function PD(){if(J0)return rl;J0=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.DEFAULT_HEADERS=void 0;const e=kD();return rl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},rl}var Q0;function ED(){if(Q0)return vo;Q0=1;var e=vo&&vo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vo,"__esModule",{value:!0});const t=e(f1()),r=e(Gp()),n=PD();class o{constructor(c,{headers:u={},schema:f,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:h=!1,count:m}={}){let p;const y=new URL(`${this.url}/rpc/${c}`);let x;f||h?(p=f?"HEAD":"GET",Object.entries(u).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{y.searchParams.append(w,S)})):(p="POST",x=u);const j=Object.assign({},this.headers);return m&&(j.Prefer=`count=${m}`),new r.default({method:p,url:y,headers:j,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return vo.default=o,vo}var Z0;function TD(){if(Z0)return Rt;Z0=1;var e=Rt&&Rt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const t=e(ED());Rt.PostgrestClient=t.default;const r=e(f1());Rt.PostgrestQueryBuilder=r.default;const n=e(Gp());Rt.PostgrestFilterBuilder=n.default;const o=e(d1());Rt.PostgrestTransformBuilder=o.default;const l=e(u1());Rt.PostgrestBuilder=l.default;const c=e(c1());return Rt.PostgrestError=c.default,Rt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},Rt}var AD=TD();const DD=Ol(AD),{PostgrestClient:RD,PostgrestQueryBuilder:eV,PostgrestFilterBuilder:tV,PostgrestTransformBuilder:rV,PostgrestBuilder:nV,PostgrestError:sV}=DD,OD="2.11.2",$D={"X-Client-Info":`realtime-js/${OD}`},MD="1.0.0",h1=1e4,ID=1e3;var Mo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mo||(Mo={}));var _r;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_r||(_r={}));var en;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(en||(en={}));var Ym;(function(e){e.websocket="websocket"})(Ym||(Ym={}));var ji;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ji||(ji={}));class LD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+l));c=c+l;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class m1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const ew=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((l,c)=>(l[c]=FD(c,e,t,o),l),{})},FD=(e,t,r,n)=>{const o=t.find(u=>u.name===e),l=o==null?void 0:o.type,c=r[e];return l&&!n.includes(l)?p1(l,c):Gm(c)},p1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zD(t,r)}switch(e){case nt.bool:return UD(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return VD(t);case nt.json:case nt.jsonb:return BD(t);case nt.timestamp:return WD(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Gm(t);default:return Gm(t)}},Gm=e=>e,UD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>p1(t,u))}return e},WD=e=>typeof e=="string"?e.replace(" ","T"):e,v1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qh{constructor(t,r,n={},o=h1){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tw||(tw={}));class vl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vl.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=vl.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=vl.syncDiff(this.state,o,l,c),u())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const l=this.cloneDeep(t),c=this.transformState(r),u={},f={};return this.map(l,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const p=l[h];if(p){const y=m.map(S=>S.presence_ref),x=p.map(S=>S.presence_ref),j=m.filter(S=>x.indexOf(S.presence_ref)<0),w=p.filter(S=>y.indexOf(S.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(l,{joins:u,leaves:f},n,o)}static syncDiff(t,r,n,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(l,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const p=t[u].map(x=>x.presence_ref),y=m.filter(x=>p.indexOf(x.presence_ref)<0);t[u].unshift(...y)}n(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[u]=h,o(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rw||(rw={}));var nw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nw||(nw={}));var Ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class Kp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qh(this,en.join,this.params,this.timeout),this.rejoinTimer=new m1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_r.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(en.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new vl(this),this.broadcastEndpointURL=v1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(m=>t==null?void 0:t(Ln.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ln.CLOSED));const f={},h={broadcast:l,presence:c,postgres_changes:(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Ln.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,j=[];for(let w=0;w<x;w++){const S=y[w],{filter:{event:N,schema:k,table:E,filter:P}}=S,D=m&&m[w];if(D&&D.event===N&&D.schema===k&&D.table===E&&D.filter===P)j.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),t==null||t(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Ln.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_r.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(en.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const o=new Qh(this,en.leave,{},t);o.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const o=new AbortController,l=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Qh(this,t,r,n);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,l;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=en;if(n&&[u,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var j,w,S;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((S=(w=x.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(x=>x.callback(y,n)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var j,w,S,N,k,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const P=x.id,D=(j=x.filter)===null||j===void 0?void 0:j.event;return P&&((w=r.ids)===null||w===void 0?void 0:w.includes(P))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(k=(N=x==null?void 0:x.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:w,table:S,commit_timestamp:N,type:k,errors:E}=j;y=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:N,eventType:k,new:{},old:{},errors:E}),this._getPayloadRecords(j))}x.callback(y,n)})}_isClosed(){return this.state===_r.closed}_isJoined(){return this.state===_r.joined}_isJoining(){return this.state===_r.joining}_isLeaving(){return this.state===_r.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),l={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&Kp.isEqual(o.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(en.close,{},t)}_onError(t){this._on(en.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_r.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ew(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ew(t.columns,t.old_record)),r}}const HD=()=>{},qD=typeof WebSocket<"u",YD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GD{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$D,this.params={},this.timeout=h1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=HD,this.conn=null,this.sendBuffer=[],this.serializer=new LD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>Bo(async()=>{const{default:f}=await Promise.resolve().then(()=>ea);return{default:f}},void 0).then(({default:f})=>f(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${t}/${Ym.websocket}`,this.httpEndpoint=v1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(l,c)=>c(JSON.stringify(l)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new m1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(qD){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new KD(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bo(async()=>{const{default:t}=await import("./browser-CV_fH4Dd.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MD}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mo.connecting:return ji.Connecting;case Mo.open:return ji.Open;case Mo.closing:return ji.Closing;default:return ji.Closed}}isConnected(){return this.connectionState()===ji.Open}channel(t,r={config:{}}){const n=new Kp(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:o,ref:l}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(en.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ID,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:o,payload:l,ref:c}=r;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${n} ${o} ${c&&"("+c+")"||""}`,l),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(en.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([YD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class KD{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Mo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Xp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XD extends Xp{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Km extends Xp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var JD=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const g1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bo(async()=>{const{default:n}=await Promise.resolve().then(()=>ea);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QD=()=>JD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bo(()=>Promise.resolve().then(()=>ea),void 0)).Response:Response}),Xm=e=>{if(Array.isArray(e))return e.map(r=>Xm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=Xm(n)}),t};var Li=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const Zh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZD=(e,t,r)=>Li(void 0,void 0,void 0,function*(){const n=yield QD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{t(new XD(Zh(o),e.status||500))}).catch(o=>{t(new Km(Zh(o),o))}):t(new Km(Zh(e),e))}),eR=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))};function Ul(e,t,r,n,o,l){return Li(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,eR(t,n,o,l)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>ZD(f,u,n))})})}function Gu(e,t,r,n){return Li(this,void 0,void 0,function*(){return Ul(e,"GET",t,r,n)})}function Ds(e,t,r,n,o){return Li(this,void 0,void 0,function*(){return Ul(e,"POST",t,n,o,r)})}function tR(e,t,r,n,o){return Li(this,void 0,void 0,function*(){return Ul(e,"PUT",t,n,o,r)})}function rR(e,t,r,n){return Li(this,void 0,void 0,function*(){return Ul(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function y1(e,t,r,n,o){return Li(this,void 0,void 0,function*(){return Ul(e,"DELETE",t,n,o,r)})}var mr=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const nR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sR{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=g1(o)}uploadOrUpdate(t,r,n,o){return mr(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},sw),o);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),y=yield p.json();return p.ok?{data:{path:h,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}upload(t,r,n){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return mr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:sw.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:m}),y=yield p.json();return p.ok?{data:{path:l,fullPath:y.Key},error:null}:{data:null,error:y}}catch(f){if(Ot(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return mr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const l=yield Ds(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new Xp("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}update(t,r,n){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return mr(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}copy(t,r,n){return mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return mr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),l=yield Ds(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return mr(this,void 0,void 0,function*(){try{const o=yield Ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}download(t,r){return mr(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Gu(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ot(u))return{data:null,error:u};throw u}})}info(t){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xm(n),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}exists(t){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield rR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ot(n)&&n instanceof Km){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return mr(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}list(t,r,n){return mr(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},nR),r),{prefix:t||""});return{data:yield Ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const iR="2.7.1",oR={"X-Client-Info":`storage-js/${iR}`};var bo=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class aR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oR),r),this.fetch=g1(n)}listBuckets(){return bo(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ot(t))return{data:null,error:t};throw t}})}getBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return bo(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return bo(this,void 0,void 0,function*(){try{return{data:yield tR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}}class lR extends aR{constructor(t,r={},n){super(t,r,n)}from(t){return new sR(this.url,this.headers,t,this.fetch)}}const cR="2.49.4";let dl="";typeof Deno<"u"?dl="deno":typeof document<"u"?dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dl="react-native":dl="node";const uR={"X-Client-Info":`supabase-js-${dl}/${cR}`},dR={headers:uR},fR={schema:"public"},hR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mR={};var pR=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const vR=e=>{let t;return e?t=e:typeof fetch>"u"?t=a1:t=fetch,(...r)=>t(...r)},gR=()=>typeof Headers>"u"?l1:Headers,yR=(e,t,r)=>{const n=vR(r),o=gR();return(l,c)=>pR(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(l,Object.assign(Object.assign({},c),{headers:h}))})};var xR=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};function wR(e){return e.replace(/\/$/,"")}function bR(e,t){const{db:r,auth:n,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},h),l),accessToken:()=>xR(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const x1="2.69.1",To=30*1e3,Jm=3,em=Jm*To,jR="http://localhost:9999",SR="supabase.auth.token",_R={"X-Client-Info":`gotrue-js/${x1}`},Qm="X-Supabase-Api-Version",w1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CR=6e5;class Jp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kR extends Jp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function PR(e){return Ue(e)&&e.name==="AuthApiError"}class b1 extends Jp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hs extends Jp{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class ks extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ER(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class tm extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gu extends Hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yu extends Hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TR(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class iw extends Hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zm extends Hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rm(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class ow extends Hs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gl extends Hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const aw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lw=` 	
\r=`.split(""),AR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lw.length;t+=1)e[lw[t].charCodeAt(0)]=-2;for(let t=0;t<aw.length;t+=1)e[aw[t].charCodeAt(0)]=t;return e})();function j1(e,t,r){const n=AR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cw(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{OR(c,n,r)};for(let c=0;c<e.length;c+=1)j1(e.charCodeAt(c),o,l);return t.join("")}function DR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}DR(n,t)}}function OR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $R(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)j1(e.charCodeAt(o),r,n);return new Uint8Array(t)}function MR(e){const t=[];return RR(e,r=>t.push(r)),new Uint8Array(t)}function IR(e){return Math.round(Date.now()/1e3)+e}function LR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xn=()=>typeof window<"u"&&typeof document<"u",vi={tested:!1,writable:!1},yl=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vi.tested)return vi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vi.tested=!0,vi.writable=!0}catch{vi.tested=!0,vi.writable=!1}return vi.writable};function FR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const S1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bo(async()=>{const{default:n}=await Promise.resolve().then(()=>ea);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},UR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_1=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wu=async(e,t)=>{await e.removeItem(t)};class vd{constructor(){this.promise=new vd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vd.promiseConstructor=Promise;function nm(e){const t=e.split(".");if(t.length!==3)throw new gl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NR.test(t[n]))throw new gl("JWT not in base64url format");return{header:JSON.parse(cw(t[0])),payload:JSON.parse(cw(t[1])),signature:$R(t[2]),raw:{header:t[0],payload:t[1]}}}async function VR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BR(e,t){return new Promise((n,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){n(c);return}}catch(c){if(!t(l,c)){o(c);return}}})()})}function zR(e){return("0"+e.toString(16)).substr(-2)}function WR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,zR).join("")}async function HR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function qR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jo(e,t,r=!1){const n=WR();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await _1(e,`${t}-code-verifier`,o);const l=await qR(n);return[l,n===l?"plain":"s256"]}const YR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GR(e){const t=e.headers.get(Qm);if(!t||!t.match(YR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var JR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const wi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QR=[502,503,504];async function uw(e){var t;if(!UR(e))throw new Zm(wi(e),0);if(QR.includes(e.status))throw new Zm(wi(e),e.status);let r;try{r=await e.json()}catch(l){throw new b1(wi(l),l)}let n;const o=GR(e);if(o&&o.getTime()>=w1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ow(wi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ks}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new ow(wi(r),e.status,r.weak_password.reasons);throw new kR(wi(r),e.status||500,n)}const ZR=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function qe(e,t,r,n){var o;const l=Object.assign({},n==null?void 0:n.headers);l[Qm]||(l[Qm]=w1["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await eO(e,t,r+u,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function eO(e,t,r,n,o,l){const c=ZR(t,n,o,l);let u;try{u=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new Zm(wi(f),0)}if(u.ok||await uw(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await uw(f)}}function Ps(e){var t;let r=null;sO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function dw(e){const t=Ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tO(e){return{data:e,error:null}}function rO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l}=e,c=JR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function nO(e){return e}function sO(e){return e.access_token&&e.refresh_token&&e.expires_in}var iO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class oO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=S1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iO(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:rO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,l,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:nO});if(m.error)throw m.error;const p=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);h[`${S}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ue(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}const aO={getItem:e=>yl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{yl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{yl()&&globalThis.localStorage.removeItem(e)}};function fw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function lO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const So={debug:!!(globalThis&&yl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class N1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cO extends N1{}async function uO(e,t,r){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(So.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lO();const dO={url:jR,storageKey:SR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_R,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hw(e,t,r){return await r()}class kl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kl.nextInstanceID,kl.nextInstanceID+=1,this.instanceID>0&&xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},dO),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new oO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=S1(o.fetch),this.lock=o.lock||hw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:xn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uO:this.lock=hw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:yl()?this.storage=aO:(this.memoryStorage={},this.storage=fw(this.memoryStorage)):(this.memoryStorage={},this.storage=fw(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=FR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xn()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),TR(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?{error:r}:{error:new b1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ps}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var r,n,o;try{let l;if("email"in t){const{email:m,password:p,options:y}=t;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await jo(this.storage,this.storageKey)),l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:j},xform:Ps})}else if("phone"in t){const{phone:m,password:p,options:y}=t;l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(o=y==null?void 0:y.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ps})}else throw new gu("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:u}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:dw})}else if("phone"in t){const{phone:l,password:c,options:u}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:dw})}else throw new gu("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new tm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await xu(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:l,error:c}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ps});if(await wu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new tm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Ue(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:l,nonce:c}=t,u=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ps}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new tm}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,l,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await jo(this.storage,this.storageKey));const{error:p}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new gu("You must provide either an email or phone number.")}catch(u){if(Ue(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let o,l;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Ps});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await jo(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:tO})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ks;const{error:o}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:l}=t,{error:c}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:o,options:l}=t,{data:c,error:u}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gu("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<em:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:t},error:null}}const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rs}):await this._useSession(async r=>{var n,o,l;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ks}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Rs})})}catch(r){if(Ue(r))return ER(r)&&(await this._removeSession(),await wu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:l}=n;if(l)throw l;if(!o.session)throw new ks;const c=o.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await jo(this.storage,this.storageKey));const{data:h,error:m}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:Rs});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ks;const r=Date.now()/1e3;let n=r,o=!0,l=null;const{payload:c}=nm(t.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{session:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ks;const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!xn())throw new yu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new iw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iw("No code detected.");const{data:k,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!l||!u||!c||!h)throw new yu("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let y=m+p;f&&(y=parseInt(f));const x=y-m;x*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const j=y-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,m);const{data:w,error:S}=await this._getUser(l);if(S)throw S;const N={provider_token:n,provider_refresh_token:o,access_token:l,expires_in:p,expires_at:y,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(Ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{error:l};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(PR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await wu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await jo(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async l=>{var c,u,f,h,m;const{data:p,error:y}=l;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return xn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ue(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)throw c;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BR(async o=>(o>0&&await VR(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ps})),(o,l)=>{const c=200*Math.pow(2,o);return l&&rm(l)&&Date.now()+c-n<To})}catch(n){if(this._debug(r,"error",n),Ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await xu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<em;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${em}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),rm(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vd;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new ks;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(o,"error",l),Ue(l)){const c={session:null,error:l};return rm(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await wu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${To}ms, refresh threshold is ${Jm} ticks`),o<=Jm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof N1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await jo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);o.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const{data:c,error:u}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:l}=t;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=nm(o.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n||(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+CR>Date.now()))return n;const{data:o,error:l}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new gl("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),n=o.keys.find(c=>c.kid===t),!n)throw new gl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:x,error:j}=await this.getSession();if(j||!x.session)return{data:null,error:j};n=x.session.access_token}const{header:o,payload:l,signature:c,raw:{header:u,payload:f}}=nm(n);if(KR(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:l,header:o,signature:c},error:null}}const h=XR(o.alg),m=await this.fetchJwk(o.kid,r),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,c,MR(`${u}.${f}`)))throw new gl("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}kl.nextInstanceID=0;const fO=kl;class hO extends fO{constructor(t){super(t)}}var mO=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class pO{constructor(t,r,n){var o,l,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=wR(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:fR,realtime:mR,auth:Object.assign(Object.assign({},hR),{storageKey:f}),global:dR},m=bR(n??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=yR(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new RD(`${u}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new bD(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return mO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:l,flowType:c,lock:u,debug:f},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hO({url:this.authUrl,headers:Object.assign(Object.assign({},p),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:c,lock:u,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new GD(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vO=(e,t,r)=>new pO(e,t,r),gO="https://bcbxcnxutotjzmdjeyde.supabase.co",yO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY",ie=vO(gO,yO),C1=g.createContext(),Qp=()=>{const e=g.useContext(C1);if(!e)throw new Error("useOrders must be used within an OrderProvider");return e},xO=({children:e})=>{const[t,r]=g.useState([]),n=async u=>{try{const{data:f,error:h}=await ie.from("orders").insert({user_id:u.user_id||null,customer_name:u.customer_name,customer_email:u.customer_email,customer_phone:u.customer_phone,customer_address:u.customer_address,customer_postcode:u.customer_postcode,delivery_notes:u.delivery_notes,total:u.total,status:"pending",delivery_type:u.delivery_type,scheduled_delivery_time:u.scheduled_delivery_time,delivery_fee:u.delivery_fee,items:u.items,payment_data:u.payment_data}).select().single();if(h)throw h;return te({title:"Order Created",description:"Your order has been successfully placed."}),f}catch(f){throw console.error("Error creating order:",f),te({variant:"destructive",title:"Error",description:"Failed to create order. Please try again."}),f}},o=async(u,f)=>{try{const{error:h}=await ie.from("orders").update({status:f}).eq("id",u);if(h)throw h;te({title:"Order Updated",description:`Order status changed to ${f}.`})}catch(h){console.error("Error updating order status:",h),te({variant:"destructive",title:"Error",description:"Failed to update order status."})}},l=async u=>{try{const{data:f,error:h}=await ie.from("orders").select("*").eq("id",u).single();if(h)throw h;return f}catch(f){return console.error("Error fetching order:",f),null}},c=async u=>{try{let f=ie.from("orders").select("*");u&&(f=f.eq("status",u));const{data:h,error:m}=await f;if(m)throw m;return h}catch(f){return console.error("Error fetching orders:",f),[]}};return i.jsx(C1.Provider,{value:{orders:t,addOrder:n,updateOrderStatus:o,getOrderById:l,getOrdersByStatus:c},children:e})},k1=g.createContext(),ir=()=>{const e=g.useContext(k1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wO=({children:e})=>{const[t,r]=g.useState(null),[n,o]=g.useState(null),[l,c]=g.useState(!1),[u,f]=g.useState(!0),h=g.useCallback(async w=>{if(!w)return o(null),c(!1),null;try{const{data:S,error:N,status:k}=await ie.from("profiles").select("name, phone, address, is_admin, addresses").eq("id",w).single();if(N&&k!==406)throw console.error("Error fetching user profile (status not 406):",N.message),N;if(N&&k===406)return console.warn("Profile not found or no permission (406), this might be expected for new users before profile creation or RLS issues."),o(null),c(!1),null;if(S){console.log(S);const E=S.phone;return S.phone=E.startsWith("61")?`0${E.replace(/^61/,"")}`:E,o(S),c(S.is_admin===!0),S}else return o(null),c(!1),null}catch(S){return console.error("Error fetching user profile (catch block):",S.message),S.message!=="JSON object requested, multiple (or no) rows returned"&&te({variant:"destructive",title:"Profile Error",description:"Could not load user profile. "+S.message}),o(null),c(!1),null}},[]);g.useEffect(()=>{let w=!0;const S=async E=>{if(w){if(console.log("Handling auth state change:",E),E!=null&&E.user){r(E.user);const P=await h(E.user.id);c((P==null?void 0:P.is_admin)===!0)}else r(null),o(null),c(!1);f(!1)}},{data:{subscription:N}}=ie.auth.onAuthStateChange((E,P)=>{S(P)});return(async()=>{const{data:{session:E},error:P}=await ie.auth.getSession();w&&(P?(console.error("Error fetching initial session:",P),te({variant:"destructive",title:"Auth Error",description:"Could not fetch initial session."}),r(null),o(null),c(!1),f(!1)):S(E))})(),()=>{w=!1,N==null||N.unsubscribe()}},[h]);const m=async(w,S)=>{f(!0);const{data:N,error:k}=await ie.auth.signInWithPassword({email:w,password:S});if(k)return console.error("Login error:",k),te({variant:"destructive",title:"Login Failed",description:k.message}),f(!1),{success:!1,isAdminUser:!1,error:k.message};const E=await h(N.user.id);return{success:!0,isAdminUser:(E==null?void 0:E.is_admin)===!0}},p=async(w,S,N,k)=>{f(!0);const{data:E,error:P}=await ie.auth.signUp({email:w,password:S,options:{data:{name:N}}});if(P)return console.error("Registration error:",P),te({variant:"destructive",title:"Registration Failed",description:P.message}),f(!1),!1;if(E.user&&k){await new Promise(A=>setTimeout(A,1e3));const{error:D}=await ie.from("profiles").update({phone:k,updated_at:new Date}).eq("id",E.user.id);D&&(console.error("Error updating phone during registration:",D),te({variant:"destructive",title:"Profile Update Issue",description:"Could not save phone number: "+D.message}))}return te({title:"Registration Successful",description:"Please check your email to confirm your account."}),!0},y=async()=>{f(!0);const{error:w}=await ie.auth.signOut();w?(console.error("Logout error:",w),te({variant:"destructive",title:"Logout Failed",description:w.message}),f(!1)):te({title:"Logged Out",description:"You have been successfully logged out."})},x=async w=>{if(!t)return;f(!0);const{data:S,error:N}=await ie.from("profiles").update({name:w.name,phone:w.phone,address:w.address,addresses:w.addresses,updated_at:new Date}).eq("id",t.id).select().single();N?(console.error("Profile update error:",N),te({variant:"destructive",title:"Update Failed",description:N.message})):S&&(o(S),c(S.is_admin===!0),te({title:"Profile Updated",description:"Your information has been updated."})),f(!1)},j=t&&n?{...t,...n,email:t.email}:t;return i.jsx(k1.Provider,{value:{user:j,session:ie.auth.getSession(),isAdmin:l,loading:u,login:m,register:p,logout:y,updateUserInfo:x},children:e})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),mw=e=>{const t=jO(e);return t.charAt(0).toUpperCase()+t.slice(1)},P1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),SO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...u},f)=>g.createElement("svg",{ref:f,..._O,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:P1("lucide",o),...!l&&!SO(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>g.createElement(h,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const r=g.forwardRef(({className:n,...o},l)=>g.createElement(NO,{ref:l,iconNode:t,className:P1(`lucide-${bO(mw(e))}`,`lucide-${e}`,n),...o}));return r.displayName=mw(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],kO=je("apple",CO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wo=je("arrow-left",PO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ep=je("arrow-right",EO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]],AO=je("beef",TO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],RO=je("bot",DO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qs=je("calendar",OO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],MO=je("camera",$O);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M10 7v10.9",key:"1gynux"}],["path",{d:"M14 6.1V17",key:"116kdf"}],["path",{d:"M16 7V3a1 1 0 0 1 1.707-.707 2.5 2.5 0 0 0 2.152.717 1 1 0 0 1 1.131 1.131 2.5 2.5 0 0 0 .717 2.152A1 1 0 0 1 21 8h-4",key:"gpb6xx"}],["path",{d:"M16.536 7.465a5 5 0 0 0-7.072 0l-2 2a5 5 0 0 0 0 7.07 5 5 0 0 0 7.072 0l2-2a5 5 0 0 0 0-7.07",key:"1tsln4"}],["path",{d:"M8 17v4a1 1 0 0 1-1.707.707 2.5 2.5 0 0 0-2.152-.717 1 1 0 0 1-1.131-1.131 2.5 2.5 0 0 0-.717-2.152A1 1 0 0 1 3 16h4",key:"qexcha"}]],LO=je("candy",IO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E1=je("check",FO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zp=je("chevron-down",UO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BO=je("chevron-left",VO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WO=je("chevron-right",zO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],T1=je("chevron-up",HO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ku=je("circle-check-big",qO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],gd=je("circle-plus",YO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],KO=je("circle-x",GO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JO=je("circle",XO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nn=je("clock",QO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],A1=je("cloud-upload",ZO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],t$=je("cookie",e$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Vl=je("credit-card",r$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z",key:"1ozxlb"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83",key:"ffuyb5"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4",key:"osnpzi"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2",key:"1vubaw"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5",key:"wxr772"}]],s$=je("croissant",n$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]],o$=je("cup-soda",i$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"11.5",cy:"12.5",r:"3.5",key:"1cl1mi"}],["path",{d:"M3 8c0-3.5 2.5-6 6.5-6 5 0 4.83 3 7.5 5s5 2 5 6c0 4.5-2.5 6.5-7 6.5-2.5 0-2.5 2.5-6 2.5s-7-2-7-5.5c0-3 1.5-3 1.5-5C3.5 10 3 9 3 8Z",key:"165ef9"}]],l$=je("egg-fried",a$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D1=je("eye",c$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],d$=je("facebook",u$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],h$=je("fish",f$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ta=je("funnel",m$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 16H4a2 2 0 1 1 0-4h16a2 2 0 1 1 0 4h-4.25",key:"5dloqd"}],["path",{d:"M5 12a2 2 0 0 1-2-2 9 7 0 0 1 18 0 2 2 0 0 1-2 2",key:"1vl3my"}],["path",{d:"M5 16a2 2 0 0 0-2 2 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 2 2 0 0 0-2-2q0 0 0 0",key:"1us75o"}],["path",{d:"m6.67 12 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"qqzweh"}]],v$=je("hamburger",p$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yd=je("image",g$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],x$=je("info",y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],b$=je("instagram",w$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],S$=je("list",j$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R1=je("log-out",_$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],O1=je("mail",N$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],k$=je("map-pin-check-inside",C$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ho=je("map-pin",P$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Bl=je("message-circle",E$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$1=je("message-square",T$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M5 12h14",key:"1ays0h"}]],zl=je("minus",A$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Br=je("package",D$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],O$=je("pen",R$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xd=je("phone",$$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ra=je("plus",M$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ev=je("search",I$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wl=je("send",L$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U$=je("settings",F$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],M1=je("shield-alert",V$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],I1=je("shopping-bag",B$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Pi=je("shopping-cart",z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wd=je("square-pen",W$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Fi=je("store",H$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],L1=je("tag",q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],na=je("trash-2",Y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],tv=je("truck",G$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],X$=je("twitter",K$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Q$=je("upload",J$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],pw=je("user-round",Z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],F1=je("user",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U1=je("users",tM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],nM=je("utensils",rM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ys=je("x",sM);function V1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=V1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function B1(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=V1(e))&&(n&&(n+=" "),n+=t);return n}function iM(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=z1(t))&&(n&&(n+=" "),n+=r);return n}function z1(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=z1(e[n]))&&(r&&(r+=" "),r+=t);return r}var rv="-";function oM(e){var t=lM(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=n===void 0?{}:n;function l(u){var f=u.split(rv);return f[0]===""&&f.length!==1&&f.shift(),W1(f,t)||aM(u)}function c(u,f){var h=r[u]||[];return f&&o[u]?[].concat(h,o[u]):h}return{getClassGroupId:l,getConflictingClassGroupIds:c}}function W1(e,t){var c;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?W1(e.slice(1),n):void 0;if(o)return o;if(t.validators.length!==0){var l=e.join(rv);return(c=t.validators.find(function(u){var f=u.validator;return f(l)}))==null?void 0:c.classGroupId}}var vw=/^\[(.+)\]$/;function aM(e){if(vw.test(e)){var t=vw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function lM(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=uM(Object.entries(e.classGroups),r);return o.forEach(function(l){var c=l[0],u=l[1];tp(u,n,c,t)}),n}function tp(e,t,r,n){e.forEach(function(o){if(typeof o=="string"){var l=o===""?t:gw(t,o);l.classGroupId=r;return}if(typeof o=="function"){if(cM(o)){tp(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(c){var u=c[0],f=c[1];tp(f,gw(t,u),r,n)})})}function gw(e,t){var r=e;return t.split(rv).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function cM(e){return e.isThemeGetter}function uM(e,t){return t?e.map(function(r){var n=r[0],o=r[1],l=o.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(u){var f=u[0],h=u[1];return[t+f,h]})):c});return[n,l]}):e}function dM(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(l,c){r.set(l,c),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(c){var u=r.get(c);if(u!==void 0)return u;if((u=n.get(c))!==void 0)return o(c,u),u},set:function(c,u){r.has(c)?r.set(c,u):o(c,u)}}}var H1="!";function fM(e){var t=e.separator||":",r=t.length===1,n=t[0],o=t.length;return function(c){for(var u=[],f=0,h=0,m,p=0;p<c.length;p++){var y=c[p];if(f===0){if(y===n&&(r||c.slice(p,p+o)===t)){u.push(c.slice(h,p)),h=p+o;continue}if(y==="/"){m=p;continue}}y==="["?f++:y==="]"&&f--}var x=u.length===0?c:c.substring(h),j=x.startsWith(H1),w=j?x.substring(1):x,S=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:S}}}function hM(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var o=n[0]==="[";o?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function mM(e){return{cache:dM(e.cacheSize),splitModifiers:fM(e),...oM(e)}}var pM=/\s+/;function vM(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,l=new Set;return e.trim().split(pM).map(function(c){var u=r(c),f=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,p=u.maybePostfixModifierPosition,y=n(p?m.substring(0,p):m),x=!!p;if(!y){if(!p)return{isTailwindClass:!1,originalClassName:c};if(y=n(m),!y)return{isTailwindClass:!1,originalClassName:c};x=!1}var j=hM(f).join(":"),w=h?j+H1:j;return{isTailwindClass:!0,modifierId:w,classGroupId:y,originalClassName:c,hasPostfixModifier:x}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var u=c.modifierId,f=c.classGroupId,h=c.hasPostfixModifier,m=u+f;return l.has(m)?!1:(l.add(m),o(f,h).forEach(function(p){return l.add(u+p)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function gM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,l,c=u;function u(h){var m=t[0],p=t.slice(1),y=p.reduce(function(x,j){return j(x)},m());return n=mM(y),o=n.cache.get,l=n.cache.set,c=f,f(h)}function f(h){var m=o(h);if(m)return m;var p=vM(h,n);return l(h,p),p}return function(){return c(iM.apply(null,arguments))}}function lt(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var q1=/^\[(?:([a-z-]+):)?(.+)\]$/i,yM=/^\d+\/\d+$/,xM=new Set(["px","full","screen"]),wM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Zr(e){return _i(e)||xM.has(e)||yM.test(e)||rp(e)}function rp(e){return Ui(e,"length",PM)}function SM(e){return Ui(e,"size",Y1)}function _M(e){return Ui(e,"position",Y1)}function NM(e){return Ui(e,"url",EM)}function bu(e){return Ui(e,"number",_i)}function _i(e){return!Number.isNaN(Number(e))}function CM(e){return e.endsWith("%")&&_i(e.slice(0,-1))}function sl(e){return yw(e)||Ui(e,"number",yw)}function He(e){return q1.test(e)}function il(){return!0}function _s(e){return wM.test(e)}function kM(e){return Ui(e,"",TM)}function Ui(e,t,r){var n=q1.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function PM(e){return bM.test(e)}function Y1(){return!1}function EM(e){return e.startsWith("url(")}function yw(e){return Number.isInteger(Number(e))}function TM(e){return jM.test(e)}function AM(){var e=lt("colors"),t=lt("spacing"),r=lt("blur"),n=lt("brightness"),o=lt("borderColor"),l=lt("borderRadius"),c=lt("borderSpacing"),u=lt("borderWidth"),f=lt("contrast"),h=lt("grayscale"),m=lt("hueRotate"),p=lt("invert"),y=lt("gap"),x=lt("gradientColorStops"),j=lt("gradientColorStopPositions"),w=lt("inset"),S=lt("margin"),N=lt("opacity"),k=lt("padding"),E=lt("saturate"),P=lt("scale"),D=lt("sepia"),A=lt("skew"),C=lt("space"),R=lt("translate"),M=function(){return["auto","contain","none"]},V=function(){return["auto","hidden","clip","visible","scroll"]},B=function(){return["auto",He,t]},z=function(){return[He,t]},G=function(){return["",Zr]},X=function(){return["auto",_i,He]},J=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ee=function(){return["solid","dashed","dotted","double","none"]},I=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},F=function(){return["start","end","center","between","around","evenly","stretch"]},K=function(){return["","0",He]},Z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[_i,bu]},q=function(){return[_i,He]};return{cacheSize:500,theme:{colors:[il],spacing:[Zr],blur:["none","",_s,He],brightness:$(),borderColor:[e],borderRadius:["none","","full",_s,He],borderSpacing:z(),borderWidth:G(),contrast:$(),grayscale:K(),hueRotate:q(),invert:K(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[CM,rp],inset:B(),margin:B(),opacity:$(),padding:z(),saturate:$(),scale:$(),sepia:K(),skew:q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(J(),[He])}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sl]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",sl]}],"grid-cols":[{"grid-cols":[il]}],"col-start-end":[{col:["auto",{span:["full",sl]},He]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[il]}],"row-start-end":[{row:["auto",{span:[sl]},He]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal"].concat(F())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(F(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(F(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",He,t]}],"min-w":[{"min-w":["min","max","fit",He,Zr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[_s]},_s,He]}],h:[{h:[He,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",He,Zr]}],"max-h":[{"max-h":[He,t,"min","max","fit"]}],"font-size":[{text:["base",_s,rp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bu]}],"font-family":[{font:[il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",_i,bu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",He,Zr]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ee(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Zr]}],"underline-offset":[{"underline-offset":["auto",He,Zr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(J(),[_M])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[].concat(ee(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:ee()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(ee())}],"outline-offset":[{"outline-offset":[He,Zr]}],"outline-w":[{outline:[Zr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Zr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_s,kM]}],"shadow-color":[{shadow:[il]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":I()}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",_s,He]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[sl,He]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zr,bu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var DM=gM(AM);function ke(...e){return DM(B1(e))}function Pe(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD",minimumFractionDigits:2}).format(e)}function xw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function G1(...e){return t=>{let r=!1;const n=e.map(o=>{const l=xw(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():xw(e[o],null)}}}}function bt(...e){return g.useCallback(G1(...e),e)}function qo(e){const t=OM(e),r=g.forwardRef((n,o)=>{const{children:l,...c}=n,u=g.Children.toArray(l),f=u.find(MM);if(f){const h=f.props.children,m=u.map(p=>p===f?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:p);return i.jsx(t,{...c,ref:o,children:g.isValidElement(h)?g.cloneElement(h,void 0,m):null})}return i.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}var RM=qo("Slot");function OM(e){const t=g.forwardRef((r,n)=>{const{children:o,...l}=r;if(g.isValidElement(o)){const c=LM(o),u=IM(l,o.props);return o.type!==g.Fragment&&(u.ref=n?G1(n,c):c),g.cloneElement(o,u)}return g.Children.count(o)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $M=Symbol("radix.slottable");function MM(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$M}function IM(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...u)=>{l(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function LM(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const ww=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bw=B1,bd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return bw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(h=>{const m=r==null?void 0:r[h],p=l==null?void 0:l[h];if(m===null)return null;const y=ww(m)||ww(p);return o[h][y]}),u=r&&Object.entries(r).reduce((h,m)=>{let[p,y]=m;return y===void 0||(h[p]=y),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:p,className:y,...x}=m;return Object.entries(x).every(j=>{let[w,S]=j;return Array.isArray(S)?S.includes({...l,...u}[w]):{...l,...u}[w]===S})?[...h,p,y]:h},[]);return bw(e,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},np=bd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=le.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},l)=>{const c=n?RM:"button";return i.jsx(c,{className:ke(np({variant:t,size:r,className:e})),ref:l,...o})});Q.displayName="Button";const FM=bd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pt({className:e,variant:t,...r}){return i.jsx("div",{className:ke(FM({variant:t}),e),...r})}function We(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function UM(e,t){const r=g.createContext(t),n=l=>{const{children:c,...u}=l,f=g.useMemo(()=>u,Object.values(u));return i.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function o(l){const c=g.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,o]}function _n(e,t=[]){let r=[];function n(l,c){const u=g.createContext(c),f=r.length;r=[...r,c];const h=p=>{var N;const{scope:y,children:x,...j}=p,w=((N=y==null?void 0:y[e])==null?void 0:N[f])||u,S=g.useMemo(()=>j,Object.values(j));return i.jsx(w.Provider,{value:S,children:x})};h.displayName=l+"Provider";function m(p,y){var w;const x=((w=y==null?void 0:y[e])==null?void 0:w[f])||u,j=g.useContext(x);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[h,m]}const o=()=>{const l=r.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,VM(o,...t)]}function VM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Kn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},BM=id[" useId ".trim().toString()]||(()=>{}),zM=0;function Io(e){const[t,r]=g.useState(BM());return Kn(()=>{r(n=>n??String(zM++))},[e]),t?`radix-${t}`:""}var WM=id[" useInsertionEffect ".trim().toString()]||Kn;function Vi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,l,c]=HM({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:o;{const m=g.useRef(e!==void 0);g.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=g.useCallback(m=>{var p;if(u){const y=qM(m)?m(e):m;y!==e&&((p=c.current)==null||p.call(c,y))}else l(m)},[u,e,l,c]);return[f,h]}function HM({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),o=g.useRef(r),l=g.useRef(t);return WM(()=>{l.current=t},[t]),g.useEffect(()=>{var c;o.current!==r&&((c=l.current)==null||c.call(l,r),o.current=r)},[r,o]),[r,n,l]}function qM(e){return typeof e=="function"}var YM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=YM.reduce((e,t)=>{const r=qo(`Primitive.${t}`),n=g.forwardRef((o,l)=>{const{asChild:c,...u}=o,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...u,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function K1(e,t){e&&Ri.flushSync(()=>e.dispatchEvent(t))}function sn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function GM(e,t=globalThis==null?void 0:globalThis.document){const r=sn(e);g.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KM="DismissableLayer",sp="dismissableLayer.update",XM="dismissableLayer.pointerDownOutside",JM="dismissableLayer.focusOutside",jw,X1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jd=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=e,h=g.useContext(X1),[m,p]=g.useState(null),y=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=g.useState({}),j=bt(t,C=>p(C)),w=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(S),k=m?w.indexOf(m):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,P=k>=N,D=ZM(C=>{const R=C.target,M=[...h.branches].some(V=>V.contains(R));!P||M||(o==null||o(C),c==null||c(C),C.defaultPrevented||u==null||u())},y),A=eI(C=>{const R=C.target;[...h.branches].some(V=>V.contains(R))||(l==null||l(C),c==null||c(C),C.defaultPrevented||u==null||u())},y);return GM(C=>{k===h.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&u&&(C.preventDefault(),u()))},y),g.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Sw(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=jw)}},[m,y,r,h]),g.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Sw())},[m,h]),g.useEffect(()=>{const C=()=>x({});return document.addEventListener(sp,C),()=>document.removeEventListener(sp,C)},[]),i.jsx(Ye.div,{...f,ref:j,style:{pointerEvents:E?P?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,A.onFocusCapture),onBlurCapture:We(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,D.onPointerDownCapture)})});jd.displayName=KM;var QM="DismissableLayerBranch",J1=g.forwardRef((e,t)=>{const r=g.useContext(X1),n=g.useRef(null),o=bt(t,n);return g.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),i.jsx(Ye.div,{...e,ref:o})});J1.displayName=QM;function ZM(e,t=globalThis==null?void 0:globalThis.document){const r=sn(e),n=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let f=function(){Q1(XM,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function eI(e,t=globalThis==null?void 0:globalThis.document){const r=sn(e),n=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!n.current&&Q1(JM,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Sw(){const e=new CustomEvent(sp);document.dispatchEvent(e)}function Q1(e,t,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?K1(o,l):o.dispatchEvent(l)}var tI=jd,rI=J1,sm="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",_w={bubbles:!1,cancelable:!0},nI="FocusScope",nv=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),h=sn(o),m=sn(l),p=g.useRef(null),y=bt(t,w=>f(w)),x=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let w=function(E){if(x.paused||!u)return;const P=E.target;u.contains(P)?p.current=P:Es(p.current,{select:!0})},S=function(E){if(x.paused||!u)return;const P=E.relatedTarget;P!==null&&(u.contains(P)||Es(p.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&Es(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const k=new MutationObserver(N);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),k.disconnect()}}},[n,u,x.paused]),g.useEffect(()=>{if(u){Cw.add(x);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(sm,_w);u.addEventListener(sm,h),u.dispatchEvent(N),N.defaultPrevented||(sI(cI(Z1(u)),{select:!0}),document.activeElement===w&&Es(u))}return()=>{u.removeEventListener(sm,h),setTimeout(()=>{const N=new CustomEvent(im,_w);u.addEventListener(im,m),u.dispatchEvent(N),N.defaultPrevented||Es(w??document.body,{select:!0}),u.removeEventListener(im,m),Cw.remove(x)},0)}}},[u,h,m,x]);const j=g.useCallback(w=>{if(!r&&!n||x.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(S&&N){const k=w.currentTarget,[E,P]=iI(k);E&&P?!w.shiftKey&&N===P?(w.preventDefault(),r&&Es(E,{select:!0})):w.shiftKey&&N===E&&(w.preventDefault(),r&&Es(P,{select:!0})):N===k&&w.preventDefault()}},[r,n,x.paused]);return i.jsx(Ye.div,{tabIndex:-1,...c,ref:y,onKeyDown:j})});nv.displayName=nI;function sI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Es(n,{select:t}),document.activeElement!==r)return}function iI(e){const t=Z1(e),r=Nw(t,e),n=Nw(t.reverse(),e);return[r,n]}function Z1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Nw(e,t){for(const r of e)if(!oI(r,{upTo:t}))return r}function oI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aI(e){return e instanceof HTMLInputElement&&"select"in e}function Es(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aI(e)&&t&&e.select()}}var Cw=lI();function lI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=kw(e,t),e.unshift(t)},remove(t){var r;e=kw(e,t),(r=e[0])==null||r.resume()}}}function kw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cI(e){return e.filter(t=>t.tagName!=="A")}var uI="Portal",Sd=g.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[o,l]=g.useState(!1);Kn(()=>l(!0),[]);const c=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Nb.createPortal(i.jsx(Ye.div,{...n,ref:t}),c):null});Sd.displayName=uI;function dI(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Nn=e=>{const{present:t,children:r}=e,n=fI(t),o=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),l=bt(n.ref,hI(o));return typeof r=="function"||n.isPresent?g.cloneElement(o,{ref:l}):null};Nn.displayName="Presence";function fI(e){const[t,r]=g.useState(),n=g.useRef(null),o=g.useRef(e),l=g.useRef("none"),c=e?"mounted":"unmounted",[u,f]=dI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const h=ju(n.current);l.current=u==="mounted"?h:"none"},[u]),Kn(()=>{const h=n.current,m=o.current;if(m!==e){const y=l.current,x=ju(h);e?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&y!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Kn(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=x=>{const w=ju(n.current).includes(x.animationName);if(x.target===t&&w&&(f("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=x=>{x.target===t&&(l.current=ju(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:g.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function ju(e){return(e==null?void 0:e.animationName)||"none"}function hI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var om=0;function eS(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Pw()),document.body.insertAdjacentElement("beforeend",e[1]??Pw()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),om--}},[])}function Pw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xt=function(){return Xt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Xt.apply(this,arguments)};function sv(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function tS(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,l;n<o;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var xl="right-scroll-bar-position",wl="width-before-scroll-bar",mI="with-scroll-bars-hidden",pI="--removed-body-scroll-bar-size";function am(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vI(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var gI=typeof window<"u"?g.useLayoutEffect:g.useEffect,Ew=new WeakMap;function rS(e,t){var r=vI(null,function(n){return e.forEach(function(o){return am(o,n)})});return gI(function(){var n=Ew.get(r);if(n){var o=new Set(n),l=new Set(e),c=r.current;o.forEach(function(u){l.has(u)||am(u,null)}),l.forEach(function(u){o.has(u)||am(u,c)})}Ew.set(r,e)},[e]),r}function yI(e){return e}function xI(e,t){t===void 0&&(t=yI);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var f=function(){var m=c;c=[],m.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return o}function nS(e){e===void 0&&(e={});var t=xI(null);return t.options=Xt({async:!0,ssr:!1},e),t}var sS=function(e){var t=e.sideCar,r=sv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Xt({},r))};sS.isSideCarExport=!0;function iS(e,t){return e.useMedium(t),sS}var oS=nS(),lm=function(){},_d=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),o=n[0],l=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,y=e.sideCar,x=e.noIsolation,j=e.inert,w=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,k=e.gapMode,E=sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,D=rS([r,t]),A=Xt(Xt({},E),o);return g.createElement(g.Fragment,null,m&&g.createElement(P,{sideCar:oS,removeScrollBar:h,shards:p,noIsolation:x,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:k}),c?g.cloneElement(g.Children.only(u),Xt(Xt({},A),{ref:D})):g.createElement(N,Xt({},A,{className:f,ref:D}),u))});_d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_d.classNames={fullWidth:wl,zeroRight:xl};var wI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wI();return t&&e.setAttribute("nonce",t),e}function jI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _I=function(){var e=0,t=null;return{add:function(r){e==0&&(t=bI())&&(jI(t,r),SI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NI=function(){var e=_I();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},iv=function(){var e=NI(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},CI={left:0,top:0,right:0,gap:0},cm=function(e){return parseInt(e||"",10)||0},kI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[cm(r),cm(n),cm(o)]},PI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CI;var t=kI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},EI=iv(),Lo="data-scroll-locked",TI=function(e,t,r,n){var o=e.left,l=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Lo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xl,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(wl,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(xl," .").concat(xl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wl," .").concat(wl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lo,`] {
    `).concat(pI,": ").concat(u,`px;
  }
`)},Tw=function(){var e=parseInt(document.body.getAttribute(Lo)||"0",10);return isFinite(e)?e:0},AI=function(){g.useEffect(function(){return document.body.setAttribute(Lo,(Tw()+1).toString()),function(){var e=Tw()-1;e<=0?document.body.removeAttribute(Lo):document.body.setAttribute(Lo,e.toString())}},[])},aS=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;AI();var l=g.useMemo(function(){return PI(o)},[o]);return g.createElement(EI,{styles:TI(l,!t,o,r?"":"!important")})},ip=!1;if(typeof window<"u")try{var Su=Object.defineProperty({},"passive",{get:function(){return ip=!0,!0}});window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{ip=!1}var _o=ip?{passive:!1}:!1,DI=function(e){return e.tagName==="TEXTAREA"},lS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DI(e)&&r[t]==="visible")},RI=function(e){return lS(e,"overflowY")},OI=function(e){return lS(e,"overflowX")},Aw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=cS(e,n);if(o){var l=uS(e,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$I=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},MI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},cS=function(e,t){return e==="v"?RI(t):OI(t)},uS=function(e,t){return e==="v"?$I(t):MI(t)},II=function(e,t){return e==="h"&&t==="rtl"?-1:1},LI=function(e,t,r,n,o){var l=II(e,window.getComputedStyle(t).direction),c=l*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,y=0;do{var x=uS(e,u),j=x[0],w=x[1],S=x[2],N=w-S-l*j;(j||N)&&cS(e,u)&&(p+=N,y+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(y)<1)&&(h=!0),h},_u=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dw=function(e){return[e.deltaX,e.deltaY]},Rw=function(e){return e&&"current"in e?e.current:e},FI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VI=0,No=[];function BI(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),o=g.useState(VI++)[0],l=g.useState(iv)[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=tS([e.lockRef.current],(e.shards||[]).map(Rw),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var N=_u(w),k=r.current,E="deltaX"in w?w.deltaX:k[0]-N[0],P="deltaY"in w?w.deltaY:k[1]-N[1],D,A=w.target,C=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in w&&C==="h"&&A.type==="range")return!1;var R=Aw(C,A);if(!R)return!0;if(R?D=C:(D=C==="v"?"h":"v",R=Aw(C,A)),!R)return!1;if(!n.current&&"changedTouches"in w&&(E||P)&&(n.current=D),!D)return!0;var M=n.current||D;return LI(M,S,w,M==="h"?E:P)},[]),f=g.useCallback(function(w){var S=w;if(!(!No.length||No[No.length-1]!==l)){var N="deltaY"in S?Dw(S):_u(S),k=t.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&FI(D.delta,N)})[0];if(k&&k.should){S.cancelable&&S.preventDefault();return}if(!k){var E=(c.current.shards||[]).map(Rw).filter(Boolean).filter(function(D){return D.contains(S.target)}),P=E.length>0?u(S,E[0]):!c.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),h=g.useCallback(function(w,S,N,k){var E={name:w,delta:S,target:N,should:k,shadowParent:zI(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(P){return P!==E})},1)},[]),m=g.useCallback(function(w){r.current=_u(w),n.current=void 0},[]),p=g.useCallback(function(w){h(w.type,Dw(w),w.target,u(w,e.lockRef.current))},[]),y=g.useCallback(function(w){h(w.type,_u(w),w.target,u(w,e.lockRef.current))},[]);g.useEffect(function(){return No.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",f,_o),document.addEventListener("touchmove",f,_o),document.addEventListener("touchstart",m,_o),function(){No=No.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,_o),document.removeEventListener("touchmove",f,_o),document.removeEventListener("touchstart",m,_o)}},[]);var x=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(l,{styles:UI(o)}):null,x?g.createElement(aS,{gapMode:e.gapMode}):null)}function zI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WI=iS(oS,BI);var ov=g.forwardRef(function(e,t){return g.createElement(_d,Xt({},e,{ref:t,sideCar:WI}))});ov.classNames=_d.classNames;var HI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Co=new WeakMap,Nu=new WeakMap,Cu={},um=0,dS=function(e){return e&&(e.host||dS(e.parentNode))},qI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=dS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},YI=function(e,t,r,n){var o=qI(t,Array.isArray(e)?e:[e]);Cu[r]||(Cu[r]=new WeakMap);var l=Cu[r],c=[],u=new Set,f=new Set(o),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};o.forEach(h);var m=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(y){if(u.has(y))m(y);else try{var x=y.getAttribute(n),j=x!==null&&x!=="false",w=(Co.get(y)||0)+1,S=(l.get(y)||0)+1;Co.set(y,w),l.set(y,S),c.push(y),w===1&&j&&Nu.set(y,!0),S===1&&y.setAttribute(r,"true"),j||y.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return m(t),u.clear(),um++,function(){c.forEach(function(p){var y=Co.get(p)-1,x=l.get(p)-1;Co.set(p,y),l.set(p,x),y||(Nu.has(p)||p.removeAttribute(n),Nu.delete(p)),x||p.removeAttribute(r)}),um--,um||(Co=new WeakMap,Co=new WeakMap,Nu=new WeakMap,Cu={})}},av=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=HI(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),YI(n,o,r,"aria-hidden")):function(){return null}},Nd="Dialog",[fS,iV]=_n(Nd),[GI,dn]=fS(Nd),hS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=g.useRef(null),f=g.useRef(null),[h,m]=Vi({prop:n,defaultProp:o??!1,onChange:l,caller:Nd});return i.jsx(GI,{scope:t,triggerRef:u,contentRef:f,contentId:Io(),titleId:Io(),descriptionId:Io(),open:h,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),modal:c,children:r})};hS.displayName=Nd;var mS="DialogTrigger",pS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=dn(mS,r),l=bt(t,o.triggerRef);return i.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":uv(o.open),...n,ref:l,onClick:We(e.onClick,o.onOpenToggle)})});pS.displayName=mS;var lv="DialogPortal",[KI,vS]=fS(lv,{forceMount:void 0}),gS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,l=dn(lv,t);return i.jsx(KI,{scope:t,forceMount:r,children:g.Children.map(n,c=>i.jsx(Nn,{present:r||l.open,children:i.jsx(Sd,{asChild:!0,container:o,children:c})}))})};gS.displayName=lv;var Xu="DialogOverlay",yS=g.forwardRef((e,t)=>{const r=vS(Xu,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=dn(Xu,e.__scopeDialog);return l.modal?i.jsx(Nn,{present:n||l.open,children:i.jsx(JI,{...o,ref:t})}):null});yS.displayName=Xu;var XI=qo("DialogOverlay.RemoveScroll"),JI=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=dn(Xu,r);return i.jsx(ov,{as:XI,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Ye.div,{"data-state":uv(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ei="DialogContent",xS=g.forwardRef((e,t)=>{const r=vS(Ei,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=dn(Ei,e.__scopeDialog);return i.jsx(Nn,{present:n||l.open,children:l.modal?i.jsx(QI,{...o,ref:t}):i.jsx(ZI,{...o,ref:t})})});xS.displayName=Ei;var QI=g.forwardRef((e,t)=>{const r=dn(Ei,e.__scopeDialog),n=g.useRef(null),o=bt(t,r.contentRef,n);return g.useEffect(()=>{const l=n.current;if(l)return av(l)},[]),i.jsx(wS,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:We(e.onFocusOutside,l=>l.preventDefault())})}),ZI=g.forwardRef((e,t)=>{const r=dn(Ei,e.__scopeDialog),n=g.useRef(!1),o=g.useRef(!1);return i.jsx(wS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),wS=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,u=dn(Ei,r),f=g.useRef(null),h=bt(t,f);return eS(),i.jsxs(i.Fragment,{children:[i.jsx(nv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(jd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":uv(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(e3,{titleId:u.titleId}),i.jsx(r3,{contentRef:f,descriptionId:u.descriptionId})]})]})}),cv="DialogTitle",bS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=dn(cv,r);return i.jsx(Ye.h2,{id:o.titleId,...n,ref:t})});bS.displayName=cv;var jS="DialogDescription",SS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=dn(jS,r);return i.jsx(Ye.p,{id:o.descriptionId,...n,ref:t})});SS.displayName=jS;var _S="DialogClose",NS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=dn(_S,r);return i.jsx(Ye.button,{type:"button",...n,ref:t,onClick:We(e.onClick,()=>o.onOpenChange(!1))})});NS.displayName=_S;function uv(e){return e?"open":"closed"}var CS="DialogTitleWarning",[oV,kS]=UM(CS,{contentName:Ei,titleName:cv,docsSlug:"dialog"}),e3=({titleId:e})=>{const t=kS(CS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},t3="DialogDescriptionWarning",r3=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kS(t3).contentName}}.`;return g.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},n3=hS,s3=pS,i3=gS,PS=yS,ES=xS,TS=bS,AS=SS,o3=NS;const Gs=n3,sa=s3,a3=i3,DS=le.forwardRef(({className:e,...t},r)=>i.jsx(PS,{ref:r,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));DS.displayName=PS.displayName;const es=le.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(a3,{children:[i.jsx(DS,{}),i.jsxs(ES,{ref:n,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(o3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ys,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));es.displayName=ES.displayName;const ts=({className:e,...t})=>i.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ts.displayName="DialogHeader";const ia=({className:e,...t})=>i.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ia.displayName="DialogFooter";const rs=le.forwardRef(({className:e,...t},r)=>i.jsx(TS,{ref:r,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));rs.displayName=TS.displayName;const RS=le.forwardRef(({className:e,...t},r)=>i.jsx(AS,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));RS.displayName=AS.displayName;const xe=le.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));xe.displayName="Input";var l3="Label",OS=g.forwardRef((e,t)=>i.jsx(Ye.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));OS.displayName=l3;var $S=OS;const c3=bd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=le.forwardRef(({className:e,...t},r)=>i.jsx($S,{ref:r,className:ke(c3(),e),...t}));oe.displayName=$S.displayName;const Cd=({onSuccess:e})=>{const[t,r]=g.useState(""),[n,o]=g.useState(""),[l,c]=g.useState(!1),[u,f]=g.useState(0),[h,m]=g.useState(!1);g.useEffect(()=>{if(u>0){const x=setTimeout(()=>f(u-1),1e3);return()=>clearTimeout(x)}},[u]);const p=async x=>{if(x.preventDefault(),!t.trim()){te({variant:"destructive",title:"Error",description:"Please enter a phone number"});return}const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`;c(!0);try{const{error:w}=await ie.auth.signInWithOtp({phone:j});if(w)throw w;m(!0),f(30),te({title:"Code Sent",description:"Please check your phone for the verification code."})}catch(w){console.error("Error sending OTP:",w),te({variant:"destructive",title:"Error",description:w.message})}finally{c(!1)}},y=async x=>{if(x.preventDefault(),!n.trim()||n.length!==6){te({variant:"destructive",title:"Error",description:"Please enter a valid 6-digit code"});return}c(!0);try{const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`,{error:w}=await ie.auth.verifyOtp({phone:j,token:n,type:"sms"});if(w)throw w;te({title:"Success",description:"You have been successfully logged in."}),e&&e()}catch(j){console.error("Error verifying OTP:",j),te({variant:"destructive",title:"Error",description:j.message})}finally{c(!1)}};return i.jsx("div",{className:"w-full max-w-lg mx-auto",children:i.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 border border-primary/20 shadow-lg",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome to Groceroo"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your phone number to get started"})]}),i.jsxs("form",{onSubmit:h?y:p,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",className:"text-sm font-semibold text-gray-700",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"+61"})}),i.jsx(xe,{id:"phone",type:"tel",placeholder:"04XXXXXXXX",value:t.replace(/^\+61/,""),onChange:x=>r(x.target.value),disabled:l||h,className:"pl-10 h-10 text-base border-2 focus:border-primary transition-colors"})]})]}),h&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"otp",className:"text-sm font-semibold text-gray-700",children:"Verification Code"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"otp",type:"text",maxLength:6,placeholder:"Enter 6-digit code",value:n,onChange:x=>o(x.target.value.replace(/\D/g,"").slice(0,6)),disabled:l,className:"h-10 text-base text-center tracking-widest border-2 focus:border-primary transition-colors"}),n.length===6&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx(Ku,{className:"w-4 h-4 text-green-500"})})]})]}),i.jsx("div",{className:"space-y-2",children:h?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Q,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:l||n.length!==6,children:l?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verifying..."]}):"Verify & Sign In"}),i.jsx(Q,{type:"button",variant:"outline",className:"w-full h-8 text-sm",onClick:p,disabled:l||u>0,children:u>0?`Resend in ${u}s`:"Resend Code"})]}):i.jsx(Q,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:l||!t.trim(),children:l?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending Code..."]}):i.jsxs("div",{className:"flex items-center",children:[i.jsx($1,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:i.jsxs("p",{className:"text-xs text-center text-gray-500 leading-relaxed",children:["By continuing, you agree to our"," ",i.jsx(Ce,{to:"/terms",className:"text-primary hover:underline font-medium",target:"_blank",children:"Terms of Service"})," ","and"," ",i.jsx(Ce,{to:"/privacy",className:"text-primary hover:underline font-medium",target:"_blank",children:"Privacy Policy"})]})})]})})},u3=({open:e,onOpenChange:t})=>i.jsx(Gs,{open:e,onOpenChange:t,children:i.jsxs(es,{className:"sm:max-w-[425px]",children:[i.jsx(ts,{children:i.jsx(rs,{children:i.jsx("h1",{})})}),i.jsx(Cd,{onSuccess:()=>t(!1)})]})}),d3=()=>{var w;const[e,t]=g.useState(!1),[r,n]=g.useState(!1),{getCartCount:o,toggleCart:l}=Ws(),{user:c,isAdmin:u,logout:f,loading:h}=ir(),m=Pr(),p=o(),y=()=>t(!1),x=async()=>{await f(),y(),m("/")},j={closed:{opacity:0,x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}}};return i.jsxs("header",{className:"sticky top-0 z-40 w-full bg-gradient-to-r from-[#2E8B57] via-[#3CB371] to-[#98D598] border-b shadow-sm",children:[i.jsxs("div",{className:"container flex items-center justify-between h-16 px-4 mx-auto md:px-6",children:[i.jsx(Ce,{to:"/",className:"flex items-center space-x-2",children:i.jsx("div",{style:{backgroundImage:"url(/logo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"180px",height:"60px"},"aria-label":"Groceroo Logo"})}),i.jsxs("nav",{className:"hidden md:flex md:items-center md:space-x-6",children:[i.jsx(Ce,{to:"/store-pickup",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Grocery Run"}),i.jsx(Ce,{to:"/shop",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Shop"}),i.jsx(Ce,{to:"/categories",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Categories"}),u&&i.jsx(Ce,{to:"/admin",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Admin Dashboard"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Q,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:l,children:[i.jsx(Pi,{className:"w-5 h-5 text-white"}),p>0&&i.jsx(pt,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:p})]}),!h&&(c?i.jsx("div",{className:"md:flex md:items-center md:space-x-2",children:i.jsx(Ce,{to:"/account",children:i.jsxs(Q,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 hover:bg-white/20 text-white",children:[i.jsx(pw,{className:"w-4 h-4"}),i.jsx("span",{children:((w=c.name)==null?void 0:w.split(" ")[0])||"My Account"})]})})}):i.jsx(Q,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",size:"sm",onClick:()=>n(!0),children:i.jsx(pw,{})}))]})]}),i.jsx(Cl,{children:e&&i.jsx(ye.div,{className:"fixed inset-0 z-50 bg-black/50 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:y,children:i.jsxs(ye.div,{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-xl",variants:j,initial:"closed",animate:"open",exit:"closed",onClick:S=>S.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsx("span",{className:"text-lg font-semibold",children:"Menu"}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:y,children:i.jsx(Ys,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[i.jsx(Ce,{to:"/",className:"flex items-center space-x-2 text-sm",onClick:y,children:"Home"}),i.jsx(Ce,{to:"/shop",className:"flex items-center space-x-2 text-sm",onClick:y,children:"Shop"}),i.jsx(Ce,{to:"/categories",className:"flex items-center space-x-2 text-sm",onClick:y,children:"Categories"}),u&&i.jsxs(Ce,{to:"/admin",className:"flex items-center space-x-2 text-sm",onClick:y,children:[i.jsx(Br,{className:"w-4 h-4"}),i.jsx("span",{children:"Admin Dashboard"})]}),!h&&(c?i.jsxs(i.Fragment,{children:[i.jsxs(Ce,{to:"/account",className:"flex items-center space-x-2 text-sm",onClick:y,children:[i.jsx(F1,{className:"w-4 h-4"}),i.jsx("span",{children:"My Account"})]}),i.jsxs(Q,{variant:"ghost",className:"flex items-center justify-start space-x-2 text-sm",onClick:x,children:[i.jsx(R1,{className:"w-4 h-4"}),i.jsx("span",{children:"Logout"})]})]}):i.jsx(Q,{onClick:()=>{y(),n(!0)},children:"Sign In"}))]})]})})}),i.jsx(u3,{open:r,onOpenChange:n})]})},f3=()=>{const e=new Date().getFullYear(),t=()=>{window.confirm("Are you sure you want to clear local storage, session storage, and cookies?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())};return i.jsx("footer",{className:"bg-white border-t",children:i.jsxs("div",{className:"container px-4 py-12 mx-auto md:px-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{style:{backgroundImage:"url(/logo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"#2E8B57",width:"100px",height:"40px"},"aria-label":"Groceroo Logo"}),i.jsx("div",{className:"text-xs text-gray-500",children:"ABN 257 558 402 06"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Express grocery shopping and delivery service in Adelaide. Groceries and more delivered to your door."}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:i.jsx(d$,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:i.jsx(b$,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:i.jsx(X$,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(O1,{className:"w-4 h-4 mr-2"}),i.jsx("a",{href:"mailto:contact@groceroo.com.au",className:"hover:text-primary underline",children:"contact@groceroo.com.au"})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(xd,{className:"w-4 h-4 mr-2"}),i.jsx("a",{href:"tel:+61478477036",className:"hover:text-primary underline",children:"+61 478 477 036"})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Bl,{className:"w-4 h-4 mr-2"}),i.jsx("a",{href:"https://wa.me/61478477036",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary underline",children:"Chat on WhatsApp"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold",children:"Shop"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(Ce,{to:"/categories",className:"text-gray-600 hover:text-primary",children:"Categories"})}),i.jsx("li",{children:i.jsx(Ce,{to:"/shop",className:"text-gray-600 hover:text-primary",children:"All Products"})}),i.jsx("li",{children:i.jsx(Ce,{to:"/shop?featured=true",className:"text-gray-600 hover:text-primary",children:"Featured Items"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold",children:"Connect"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(Ce,{to:"/contact",className:"text-gray-600 hover:text-primary",children:"Contact Us"})}),i.jsx("li",{children:i.jsx(Ce,{to:"/work",className:"text-gray-600 hover:text-primary",children:"Work With Us"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold",children:"More"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(Ce,{to:"/",className:"text-gray-600 hover:text-primary",children:"Home"})}),i.jsx("li",{children:i.jsx(Ce,{to:"/privacy",className:"text-gray-600 hover:text-primary",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(Ce,{to:"/terms",className:"text-gray-600 hover:text-primary",children:"Terms and conditions"})})]})]})]}),i.jsx("div",{className:"pt-8 mt-8 border-t",children:i.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 md:flex-row md:space-y-0",children:[i.jsxs("p",{className:"text-xs text-gray-600",children:["© ",e," Groceroo. All rights reserved."]}),i.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[i.jsxs(Ce,{to:"/admin-login",className:"hover:text-destructive opacity-60 hover:opacity-100 flex items-center",title:"Admin Login Portal",children:[i.jsx(M1,{className:"w-3 h-3 mr-1"})," Admin Portal"]}),i.jsx("button",{onClick:t,className:"hover:text-red-500 text-xs",children:"Clear Data"}),i.jsx(Ce,{to:"/privacy",className:"hover:text-primary",children:"Privacy Policy"}),i.jsx(Ce,{to:"/terms",className:"hover:text-primary",children:"Terms of Service"})]})]})})]})})},h3=()=>{const{cart:e,isCartOpen:t,closeCart:r,removeFromCart:n,updateQuantity:o,getCartTotal:l,clearCart:c}=Ws(),u=Pr(),f=()=>{r(),u("/checkout")},h={closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},m={closed:{opacity:0},open:{opacity:1}};return i.jsx(Cl,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(ye.div,{className:"fixed inset-0 z-50 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:m,onClick:r}),i.jsxs(ye.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:"closed",animate:"open",exit:"closed",variants:h,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Pi,{className:"w-5 h-5 text-primary"}),i.jsx("h2",{className:"text-lg font-semibold",children:"Your Cart"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.reduce((p,y)=>p+y.quantity,0)," items)"]})]}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:r,children:i.jsx(Ys,{className:"w-5 h-5"})})]}),e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 space-y-4 text-center",children:[i.jsx("div",{className:"p-4 rounded-full bg-muted",children:i.jsx(Pi,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-medium",children:"Your cart is empty"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added any products to your cart yet."}),i.jsx(Q,{onClick:()=>{r(),u("/shop")},children:"Continue Shopping"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:i.jsx("ul",{className:"space-y-4",children:i.jsx(Cl,{children:e.map(p=>i.jsxs(ye.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center space-x-4 p-3 rounded-lg border bg-card",children:[i.jsx("div",{className:"w-16 h-16 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:i.jsx("img",{alt:p.name,className:"w-full h-full object-cover",src:p.image_url||"https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-medium truncate",children:p.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pe(p.price)," / ",p.unit]}),i.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[i.jsx(Q,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity-1),children:i.jsx(zl,{className:"h-3 w-3"})}),i.jsx("span",{className:"text-sm w-8 text-center",children:p.quantity}),i.jsx(Q,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity+1),children:i.jsx(ra,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[i.jsx("span",{className:"text-sm font-medium",children:Pe(p.price*p.quantity)}),i.jsx(Q,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>n(p.id),children:i.jsx(na,{className:"h-4 w-4"})})]})]},p.id))})})}),i.jsx("div",{className:"p-4 border-t bg-muted/30",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),i.jsx("span",{className:"text-sm font-medium",children:Pe(l())})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Shipping"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated at checkout"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsx("span",{className:"text-base font-semibold",children:"Total"}),i.jsx("span",{className:"text-base font-semibold",children:Pe(l())})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Q,{variant:"outline",className:"w-full",onClick:c,children:"Clear Cart"}),i.jsx(Q,{className:"w-full",onClick:f,disabled:e.length===0,children:"Checkout"})]})]})})]})]})]})})};function MS(e){const t=e+"CollectionProvider",[r,n]=_n(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:S,children:N}=w,k=le.useRef(null),E=le.useRef(new Map).current;return i.jsx(o,{scope:S,itemMap:E,collectionRef:k,children:N})};c.displayName=t;const u=e+"CollectionSlot",f=qo(u),h=le.forwardRef((w,S)=>{const{scope:N,children:k}=w,E=l(u,N),P=bt(S,E.collectionRef);return i.jsx(f,{ref:P,children:k})});h.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",y=qo(m),x=le.forwardRef((w,S)=>{const{scope:N,children:k,...E}=w,P=le.useRef(null),D=bt(S,P),A=l(m,N);return le.useEffect(()=>(A.itemMap.set(P,{ref:P,...E}),()=>void A.itemMap.delete(P))),i.jsx(y,{[p]:"",ref:D,children:k})});x.displayName=m;function j(w){const S=l(e+"CollectionConsumer",w);return le.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const E=Array.from(k.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((A,C)=>E.indexOf(A.ref.current)-E.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:h,ItemSlot:x},j,n]}var m3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),p3="VisuallyHidden",dv=g.forwardRef((e,t)=>i.jsx(Ye.span,{...e,ref:t,style:{...m3,...e.style}}));dv.displayName=p3;var fv="ToastProvider",[hv,v3,g3]=MS("Toast"),[IS,aV]=_n("Toast",[g3]),[y3,kd]=IS(fv),LS=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=e,[u,f]=g.useState(null),[h,m]=g.useState(0),p=g.useRef(!1),y=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${fv}\`. Expected non-empty \`string\`.`),i.jsx(hv.Provider,{scope:t,children:i.jsx(y3,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:l,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:g.useCallback(()=>m(x=>x+1),[]),onToastRemove:g.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:y,children:c})})};LS.displayName=fv;var FS="ToastViewport",x3=["F8"],op="toast.viewportPause",ap="toast.viewportResume",US=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=x3,label:o="Notifications ({hotkey})",...l}=e,c=kd(FS,r),u=v3(r),f=g.useRef(null),h=g.useRef(null),m=g.useRef(null),p=g.useRef(null),y=bt(t,p,c.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;g.useEffect(()=>{const S=N=>{var E;n.length!==0&&n.every(P=>N[P]||N.code===P)&&((E=p.current)==null||E.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),g.useEffect(()=>{const S=f.current,N=p.current;if(j&&S&&N){const k=()=>{if(!c.isClosePausedRef.current){const A=new CustomEvent(op);N.dispatchEvent(A),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const A=new CustomEvent(ap);N.dispatchEvent(A),c.isClosePausedRef.current=!1}},P=A=>{!S.contains(A.relatedTarget)&&E()},D=()=>{S.contains(document.activeElement)||E()};return S.addEventListener("focusin",k),S.addEventListener("focusout",P),S.addEventListener("pointermove",k),S.addEventListener("pointerleave",D),window.addEventListener("blur",k),window.addEventListener("focus",E),()=>{S.removeEventListener("focusin",k),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",k),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",k),window.removeEventListener("focus",E)}}},[j,c.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:S})=>{const k=u().map(E=>{const P=E.ref.current,D=[P,...D3(P)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?k.reverse():k).flat()},[u]);return g.useEffect(()=>{const S=p.current;if(S){const N=k=>{var D,A,C;const E=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!E){const R=document.activeElement,M=k.shiftKey;if(k.target===S&&M){(D=h.current)==null||D.focus();return}const z=w({tabbingDirection:M?"backwards":"forwards"}),G=z.findIndex(X=>X===R);dm(z.slice(G+1))?k.preventDefault():M?(A=h.current)==null||A.focus():(C=m.current)==null||C.focus()}};return S.addEventListener("keydown",N),()=>S.removeEventListener("keydown",N)}},[u,w]),i.jsxs(rI,{ref:f,role:"region","aria-label":o.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&i.jsx(lp,{ref:h,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"forwards"});dm(S)}}),i.jsx(hv.Slot,{scope:r,children:i.jsx(Ye.ol,{tabIndex:-1,...l,ref:y})}),j&&i.jsx(lp,{ref:m,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"backwards"});dm(S)}})]})});US.displayName=FS;var VS="ToastFocusProxy",lp=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,l=kd(VS,r);return i.jsx(dv,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=l.viewport)!=null&&h.contains(u))&&n()}})});lp.displayName=VS;var Hl="Toast",w3="toast.swipeStart",b3="toast.swipeMove",j3="toast.swipeCancel",S3="toast.swipeEnd",BS=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:l,...c}=e,[u,f]=Vi({prop:n,defaultProp:o??!0,onChange:l,caller:Hl});return i.jsx(Nn,{present:r||u,children:i.jsx(C3,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:sn(e.onPause),onResume:sn(e.onResume),onSwipeStart:We(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:We(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:We(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:We(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});BS.displayName=Hl;var[_3,N3]=IS(Hl,{onClose(){}}),C3=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:y,onSwipeEnd:x,...j}=e,w=kd(Hl,r),[S,N]=g.useState(null),k=bt(t,X=>N(X)),E=g.useRef(null),P=g.useRef(null),D=o||w.duration,A=g.useRef(0),C=g.useRef(D),R=g.useRef(0),{onToastAdd:M,onToastRemove:V}=w,B=sn(()=>{var J;(S==null?void 0:S.contains(document.activeElement))&&((J=w.viewport)==null||J.focus()),c()}),z=g.useCallback(X=>{!X||X===1/0||(window.clearTimeout(R.current),A.current=new Date().getTime(),R.current=window.setTimeout(B,X))},[B]);g.useEffect(()=>{const X=w.viewport;if(X){const J=()=>{z(C.current),h==null||h()},ee=()=>{const I=new Date().getTime()-A.current;C.current=C.current-I,window.clearTimeout(R.current),f==null||f()};return X.addEventListener(op,ee),X.addEventListener(ap,J),()=>{X.removeEventListener(op,ee),X.removeEventListener(ap,J)}}},[w.viewport,D,f,h,z]),g.useEffect(()=>{l&&!w.isClosePausedRef.current&&z(D)},[l,D,w.isClosePausedRef,z]),g.useEffect(()=>(M(),()=>V()),[M,V]);const G=g.useMemo(()=>S?KS(S):null,[S]);return w.viewport?i.jsxs(i.Fragment,{children:[G&&i.jsx(k3,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),i.jsx(_3,{scope:r,onClose:B,children:Ri.createPortal(i.jsx(hv.ItemSlot,{scope:r,children:i.jsx(tI,{asChild:!0,onEscapeKeyDown:We(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||B(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:We(e.onKeyDown,X=>{X.key==="Escape"&&(u==null||u(X.nativeEvent),X.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:We(e.onPointerDown,X=>{X.button===0&&(E.current={x:X.clientX,y:X.clientY})}),onPointerMove:We(e.onPointerMove,X=>{if(!E.current)return;const J=X.clientX-E.current.x,ee=X.clientY-E.current.y,I=!!P.current,F=["left","right"].includes(w.swipeDirection),K=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Z=F?K(0,J):0,$=F?0:K(0,ee),q=X.pointerType==="touch"?10:2,fe={x:Z,y:$},ve={originalEvent:X,delta:fe};I?(P.current=fe,ku(b3,p,ve,{discrete:!1})):Ow(fe,w.swipeDirection,q)?(P.current=fe,ku(w3,m,ve,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(J)>q||Math.abs(ee)>q)&&(E.current=null)}),onPointerUp:We(e.onPointerUp,X=>{const J=P.current,ee=X.target;if(ee.hasPointerCapture(X.pointerId)&&ee.releasePointerCapture(X.pointerId),P.current=null,E.current=null,J){const I=X.currentTarget,F={originalEvent:X,delta:J};Ow(J,w.swipeDirection,w.swipeThreshold)?ku(S3,x,F,{discrete:!0}):ku(j3,y,F,{discrete:!0}),I.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),k3=e=>{const{__scopeToast:t,children:r,...n}=e,o=kd(Hl,t),[l,c]=g.useState(!1),[u,f]=g.useState(!1);return T3(()=>c(!0)),g.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:i.jsx(Sd,{asChild:!0,children:i.jsx(dv,{...n,children:l&&i.jsxs(i.Fragment,{children:[o.label," ",r]})})})},P3="ToastTitle",zS=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ye.div,{...n,ref:t})});zS.displayName=P3;var E3="ToastDescription",WS=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ye.div,{...n,ref:t})});WS.displayName=E3;var HS="ToastAction",qS=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(GS,{altText:r,asChild:!0,children:i.jsx(mv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HS}\`. Expected non-empty \`string\`.`),null)});qS.displayName=HS;var YS="ToastClose",mv=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=N3(YS,r);return i.jsx(GS,{asChild:!0,children:i.jsx(Ye.button,{type:"button",...n,ref:t,onClick:We(e.onClick,o.onClose)})})});mv.displayName=YS;var GS=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return i.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function KS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),A3(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...KS(n))}}),t}function ku(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?K1(o,l):o.dispatchEvent(l)}var Ow=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),l=n>o;return t==="left"||t==="right"?l&&n>r:!l&&o>r};function T3(e=()=>{}){const t=sn(e);Kn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function A3(e){return e.nodeType===e.ELEMENT_NODE}function D3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var R3=LS,XS=US,JS=BS,QS=zS,ZS=WS,e_=qS,t_=mv;const O3=R3,r_=le.forwardRef(({className:e,...t},r)=>i.jsx(XS,{ref:r,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));r_.displayName=XS.displayName;const $3=bd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),n_=le.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(JS,{ref:n,className:ke($3({variant:t}),e),...r}));n_.displayName=JS.displayName;const M3=le.forwardRef(({className:e,...t},r)=>i.jsx(e_,{ref:r,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));M3.displayName=e_.displayName;const s_=le.forwardRef(({className:e,...t},r)=>i.jsx(t_,{ref:r,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Ys,{className:"h-4 w-4"})}));s_.displayName=t_.displayName;const i_=le.forwardRef(({className:e,...t},r)=>i.jsx(QS,{ref:r,className:ke("text-sm font-semibold",e),...t}));i_.displayName=QS.displayName;const o_=le.forwardRef(({className:e,...t},r)=>i.jsx(ZS,{ref:r,className:ke("text-sm opacity-90",e),...t}));o_.displayName=ZS.displayName;function I3(){const{toasts:e}=fD();return i.jsxs(O3,{children:[e.map(({id:t,title:r,description:n,action:o,...l})=>i.jsxs(n_,{...l,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(i_,{children:r}),n&&i.jsx(o_,{children:n})]}),o,i.jsx(s_,{})]},t)),i.jsx(r_,{})]})}var a_="https://js.stripe.com/v3",L3=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var F3=function(){for(var t=document.querySelectorAll('script[src^="'.concat(a_,'"]')),r=0;r<t.length;r++){var n=t[r];if(L3.test(n.src))return n}return null},$w=function(t){var r="",n=document.createElement("script");n.src="".concat(a_).concat(r);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},U3=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:r})},ol=null,Pu=null,Eu=null,V3=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},B3=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},z3=function(t){return ol!==null?ol:(ol=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var o=F3();if(!(o&&t)){if(!o)o=$w(t);else if(o&&Eu!==null&&Pu!==null){var l;o.removeEventListener("load",Eu),o.removeEventListener("error",Pu),(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=$w(t)}}Eu=B3(r,n),Pu=V3(n),o.addEventListener("load",Eu),o.addEventListener("error",Pu)}catch(c){n(c);return}}),ol.catch(function(r){return ol=null,Promise.reject(r)}))},W3=function(t,r,n){if(t===null)return null;var o=t.apply(void 0,r);return U3(o,n),o},al,l_=!1,c_=function(){return al||(al=z3(null).catch(function(t){return al=null,Promise.reject(t)}),al)};Promise.resolve().then(function(){return c_()}).catch(function(e){l_||console.warn(e)});var H3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l_=!0;var o=Date.now();return c_().then(function(l){return W3(l,r,o)})},fm={exports:{}},hm,Mw;function q3(){if(Mw)return hm;Mw=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hm=e,hm}var mm,Iw;function Y3(){if(Iw)return mm;Iw=1;var e=q3();function t(){}function r(){}return r.resetWarningCache=t,mm=function(){function n(c,u,f,h,m,p){if(p!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function o(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return l.PropTypes=l,l},mm}var Lw;function G3(){return Lw||(Lw=1,fm.exports=Y3()()),fm.exports}var K3=G3();const ft=Ol(K3);function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){u_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(t){return typeof t}:Mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function u_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e,t){return X3(e)||J3(e,t)||Q3(e,t)||Z3()}function X3(e){if(Array.isArray(e))return e}function J3(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],o=!0,l=!1,c,u;try{for(r=r.call(e);!(o=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(f){l=!0,u=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw u}}return n}}function Q3(e,t){if(e){if(typeof e=="string")return Vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(e,t)}}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sr=function(t,r,n){var o=!!n,l=le.useRef(n);le.useEffect(function(){l.current=n},[n]),le.useEffect(function(){if(!o||!t)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return t.on(r,c),function(){t.off(r,c)}},[o,r,t,l])},cp=function(t){var r=le.useRef(t);return le.useEffect(function(){r.current=t},[t]),r.current},Yo=function(t){return t!==null&&Mu(t)==="object"},e5=function(t){return Yo(t)&&typeof t.then=="function"},t5=function(t){return Yo(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Bw="[object Object]",r5=function e(t,r){if(!Yo(t)||!Yo(r))return t===r;var n=Array.isArray(t),o=Array.isArray(r);if(n!==o)return!1;var l=Object.prototype.toString.call(t)===Bw,c=Object.prototype.toString.call(r)===Bw;if(l!==c)return!1;if(!l&&!n)return t===r;var u=Object.keys(t),f=Object.keys(r);if(u.length!==f.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var p=0;p<f.length;p+=1)h[f[p]]=!0;var y=Object.keys(h);if(y.length!==u.length)return!1;var x=t,j=r,w=function(N){return e(x[N],j[N])};return y.every(w)},f_=function(t,r,n){return Yo(t)?Object.keys(t).reduce(function(o,l){var c=!Yo(r)||!r5(t[l],r[l]);return n.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),o):c?Uw(Uw({},o||{}),{},u_({},l,t[l])):o},null):null},h_="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",zw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h_;if(t===null||t5(t))return t;throw new Error(r)},n5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h_;if(e5(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return zw(o,r)})};var n=zw(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},s5=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Pd=le.createContext(null);Pd.displayName="ElementsContext";var m_=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},p_=function(t){var r=t.stripe,n=t.options,o=t.children,l=le.useMemo(function(){return n5(r)},[r]),c=le.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(n):null}}),u=d_(c,2),f=u[0],h=u[1];le.useEffect(function(){var y=!0,x=function(w){h(function(S){return S.stripe?S:{stripe:w,elements:w.elements(n)}})};return l.tag==="async"&&!f.stripe?l.stripePromise.then(function(j){j&&y&&x(j)}):l.tag==="sync"&&!f.stripe&&x(l.stripe),function(){y=!1}},[l,f,n]);var m=cp(r);le.useEffect(function(){m!==null&&m!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,r]);var p=cp(n);return le.useEffect(function(){if(f.elements){var y=f_(n,p,["clientSecret","fonts"]);y&&f.elements.update(y)}},[n,p,f.elements]),le.useEffect(function(){s5(f.stripe)},[f.stripe]),le.createElement(Pd.Provider,{value:f},o)};p_.propTypes={stripe:ft.any,options:ft.object};var i5=function(t){var r=le.useContext(Pd);return m_(r,t)},o5=function(){var t=i5("calls useElements()"),r=t.elements;return r};ft.func.isRequired;var v_=le.createContext(null);v_.displayName="CustomCheckoutSdkContext";var a5=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},l5=le.createContext(null);l5.displayName="CustomCheckoutContext";ft.any,ft.shape({clientSecret:ft.string.isRequired,elementsOptions:ft.object}).isRequired;var up=function(t){var r=le.useContext(v_),n=le.useContext(Pd);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?a5(r,t):m_(n,t)},c5=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ct=function(t,r){var n="".concat(c5(t),"Element"),o=function(f){var h=f.id,m=f.className,p=f.options,y=p===void 0?{}:p,x=f.onBlur,j=f.onFocus,w=f.onReady,S=f.onChange,N=f.onEscape,k=f.onClick,E=f.onLoadError,P=f.onLoaderStart,D=f.onNetworksChange,A=f.onConfirm,C=f.onCancel,R=f.onShippingAddressChange,M=f.onShippingRateChange,V=up("mounts <".concat(n,">")),B="elements"in V?V.elements:null,z="customCheckoutSdk"in V?V.customCheckoutSdk:null,G=le.useState(null),X=d_(G,2),J=X[0],ee=X[1],I=le.useRef(null),F=le.useRef(null);Sr(J,"blur",x),Sr(J,"focus",j),Sr(J,"escape",N),Sr(J,"click",k),Sr(J,"loaderror",E),Sr(J,"loaderstart",P),Sr(J,"networkschange",D),Sr(J,"confirm",A),Sr(J,"cancel",C),Sr(J,"shippingaddresschange",R),Sr(J,"shippingratechange",M),Sr(J,"change",S);var K;w&&(t==="expressCheckout"?K=w:K=function(){w(J)}),Sr(J,"ready",K),le.useLayoutEffect(function(){if(I.current===null&&F.current!==null&&(B||z)){var $=null;z?$=z.createElement(t,y):B&&($=B.create(t,y)),I.current=$,ee($),$&&$.mount(F.current)}},[B,z,y]);var Z=cp(y);return le.useEffect(function(){if(I.current){var $=f_(y,Z,["paymentRequest"]);$&&"update"in I.current&&I.current.update($)}},[y,Z]),le.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),le.createElement("div",{id:h,className:m,ref:F})},l=function(f){up("mounts <".concat(n,">"));var h=f.id,m=f.className;return le.createElement("div",{id:h,className:m})},c=r?l:o;return c.propTypes={id:ft.string,className:ft.string,onChange:ft.func,onBlur:ft.func,onFocus:ft.func,onReady:ft.func,onEscape:ft.func,onClick:ft.func,onLoadError:ft.func,onLoaderStart:ft.func,onNetworksChange:ft.func,onConfirm:ft.func,onCancel:ft.func,onShippingAddressChange:ft.func,onShippingRateChange:ft.func,options:ft.object},c.displayName=n,c.__elementType=t,c},kt=typeof window>"u",u5=le.createContext(null);u5.displayName="EmbeddedCheckoutProviderContext";var d5=function(){var t=up("calls useStripe()"),r=t.stripe;return r};Ct("auBankAccount",kt);Ct("card",kt);Ct("cardNumber",kt);Ct("cardExpiry",kt);Ct("cardCvc",kt);Ct("fpxBank",kt);Ct("iban",kt);Ct("idealBank",kt);Ct("p24Bank",kt);Ct("epsBank",kt);var f5=Ct("payment",kt);Ct("expressCheckout",kt);Ct("currencySelector",kt);Ct("paymentRequestButton",kt);Ct("linkAuthentication",kt);Ct("address",kt);Ct("shippingAddress",kt);Ct("paymentMethodMessaging",kt);Ct("affirmMessage",kt);Ct("afterpayClearpayMessage",kt);const h5=H3("pk_test_51RU0DpAcyZwL9ZCroHLDNCalx80u736eoFCb3mNARKz2BpDuDhl2VgtPJWp8t0jkaitH7zXOFDiE7B3q95rNColr00V7gqABTc",{stripeAccount:"acct_1RU0DpAcyZwL9ZCr"}),m5=({onPaymentSuccess:e})=>{const t=d5(),r=o5(),[n,o]=g.useState(!1),l=async c=>{if(c.preventDefault(),!(!t||!r)){o(!0);try{const{error:u,paymentIntent:f}=await t.confirmPayment({elements:r,redirect:"if_required"});if(u)throw new Error(u.message);const m=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/verify-stripe-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({paymentIntentId:f.id})})).json();if(m.success)await e(m.orderData),te({title:"Payment Successful",description:"Your order has been placed successfully."});else throw new Error(m.error||"Payment verification failed")}catch(u){console.error("Payment error:",u),te({variant:"destructive",title:"Payment Failed",description:u.message})}finally{o(!1)}}};return i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsx(f5,{}),i.jsx(Q,{type:"submit",className:"w-full",disabled:n,children:n?"Processing...":"Pay Now"})]})},g_=({clientSecret:e,onPaymentSuccess:t})=>e?i.jsx(p_,{stripe:h5,options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"#2E8B57"}}},children:i.jsx(m5,{onPaymentSuccess:t})}):null,Ju=({product:e})=>{const{addToCart:t,updateQuantity:r,cart:n}=Ws(),o=n.find(f=>f.id===e.id),l=o?o.quantity:0,c=(f,h)=>{f.preventDefault(),f.stopPropagation(),r(e.id,h)},u=f=>{f.preventDefault(),f.stopPropagation(),t(e,1)};return i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`product-card overflow-hidden rounded-lg border bg-card ${e.in_stock?"":"opacity-60"}`,children:i.jsxs(Ce,{to:`/product/${e.id}`,className:"block",children:[i.jsxs("div",{className:"relative aspect-square w-full max-h-48 bg-muted",children:[i.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.image_url||"https://images.unsplash.com/photo-1554702299-1ac5541cd63b"}),e.featured&&i.jsx(pt,{variant:"default",className:"absolute top-2 left-2 text-xs",children:"Featured"}),!e.in_stock&&i.jsx(pt,{variant:"destructive",className:"absolute top-2 right-2 text-xs",children:"Out of Stock"})]}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"text-sm font-medium truncate",children:e.name}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-base font-semibold",children:Pe(e.price)}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["per ",e.unit]})]}),e.in_stock?l>0?i.jsxs("div",{className:"flex items-center space-x-1",onClick:f=>f.preventDefault(),children:[i.jsx(Q,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:f=>c(f,l-1),children:i.jsx(zl,{className:"h-3 w-3"})}),i.jsx("span",{className:"text-xs font-medium w-4 text-center",children:l}),i.jsx(Q,{size:"icon",className:"h-6 w-6",onClick:f=>c(f,l+1),children:i.jsx(ra,{className:"h-3 w-3"})})]}):i.jsx(Q,{size:"icon",className:"h-7 w-7 rounded-full",onClick:u,children:i.jsx(Pi,{className:"h-3 w-3"})}):i.jsx(Q,{size:"icon",className:"h-7 w-7 rounded-full",disabled:!0,children:i.jsx(Pi,{className:"h-3 w-3"})})]})]})]})})},p5=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(!1),f=g.useRef(null),h=g.useRef(null),{addToCart:m}=Ws(),{user:p}=ir(),y=()=>{var k;(k=f.current)==null||k.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{y()},[r]);const x=async k=>{var P;if(k.preventDefault(),!o.trim()||c||!p)return;const E=o.trim();l(""),n(D=>[...D,{role:"user",content:E}]),u(!0);try{const D=await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/googlegenai-api",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({message:E,user_id:p.id})});if(!D.ok)throw new Error("Failed to get AI response");const A=await D.json();let C=[];Array.isArray(A.products)&&(typeof A.products[0]=="string"?C=A.products:typeof A.products[0]=="object"&&((P=A.products[0])!=null&&P.name)&&(C=A.products.map(M=>M.name)));let R=[];if(C.length>0){const M=C.map(z=>`'${z.replace(/'/g,"''")}'`).join(" | "),{data:V,error:B}=await ie.from("products").select("*").textSearch("name",M);!B&&V&&(R=V)}n(M=>[...M,{role:"assistant",content:A.message||"Here are some suggestions:",products:R}]),u(!1)}catch(D){console.error("Error:",D),n(A=>[...A,{role:"assistant",content:"Sorry, something went wrong. Please try again later.",products:[]}]),u(!1)}},j=()=>{window.open("https://wa.me/1234567890","_blank")},w=()=>i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"text-sm text-center text-muted-foreground mb-4",children:["By continuing, you agree to our"," ",i.jsx("a",{href:"/privacy",target:"_blank",className:"text-primary hover:underline",children:"Privacy Policy"})," and"," ",i.jsx("a",{href:"/terms",target:"_blank",className:"text-primary hover:underline",children:"Terms of Service"})]}),i.jsx(Cd,{onSuccess:()=>{}})]}),S={closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},N={closed:{opacity:0},open:{opacity:1}};return i.jsxs(i.Fragment,{children:[i.jsx(Q,{onClick:()=>t(!e),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-[#2A8A57] hover:bg-[#2E7A57]/90 z-50",size:"icon",children:i.jsx($1,{className:"h-6 w-6"})}),i.jsx(Cl,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(ye.div,{className:"fixed inset-0 z-40 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:N,onClick:()=>t(!1)}),i.jsxs(ye.div,{ref:h,initial:"closed",animate:"open",exit:"closed",variants:S,className:"fixed top-0 right-0 z-50 w-full max-w-md h-full bg-background border-l rounded-l-lg shadow-xl flex flex-col overflow-hidden",style:{maxHeight:"100vh"},children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Chat with a human on WhatsApp!"}),i.jsx(Q,{onClick:j,className:"h-12 w-[30%] rounded-lg bg-[#25D366] hover:bg-[#128C7E] flex items-center justify-center",size:"icon","aria-label":"Open WhatsApp Chat",children:i.jsx(Bl,{className:"h-6 w-6 text-white"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[i.jsxs("span",{className:"text-lg font-semibold text-muted-foreground",children:[i.jsx(RO,{className:"inline-block mr-2"}),"AI Chat (beta)"]}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:i.jsx(Ys,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 flex flex-col h-0",children:p?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map((k,E)=>i.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-full rounded-lg p-3 ${k.role==="user"?"bg-[#2E8B57] text-white":"bg-muted"}`,children:[i.jsx("p",{className:"text-sm",children:k.content}),k.products&&k.products.length>0&&i.jsx("div",{className:"mt-2 space-y-2",children:k.products.map(P=>i.jsxs("div",{className:"flex items-center justify-between bg-background rounded p-2",children:[i.jsx("span",{className:"text-sm",children:P.name}),i.jsx(Q,{size:"sm",onClick:()=>m(P,1),children:i.jsx(Pi,{className:"h-4 w-4"})})]},P.id))})]})},E)),c&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-muted rounded-lg p-3",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),i.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),i.jsx("div",{ref:f})]}),i.jsx("form",{onSubmit:x,className:"p-4 border-t bg-background",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(xe,{value:o,onChange:k=>l(k.target.value),placeholder:"I want to cook some Pasta for dinner",disabled:c}),i.jsx(Q,{type:"submit",size:"icon",disabled:c,children:i.jsx(Wl,{className:"h-4 w-4"})})]})})]}):i.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto",children:i.jsx(w,{})})})]})]})})]})};function Bn(e,t,r=30){const n=Date.now()+r*60*1e3,o={data:t,expires:n};localStorage.setItem(e,JSON.stringify(o))}function zn(e){const t=localStorage.getItem(e);if(!t)return null;try{const r=JSON.parse(t);return r.expires&&r.expires>Date.now()?r.data:(localStorage.removeItem(e),null)}catch{return localStorage.removeItem(e),null}}function v5(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}function g5(){return/android/.test(window.navigator.userAgent.toLowerCase())}function y5(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const x5=({onClose:e,platform:t})=>i.jsxs("div",{className:"fixed top-2 left-1/2 z-50 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in-down max-w-xs w-full",children:[i.jsx("span",{children:t==="ios"?'Install this app on your iPhone: tap Share, then "Add to Home Screen".':'Install this app: tap the menu and "Add to Home screen".'}),i.jsx("button",{onClick:e,className:"ml-2 text-lg font-bold",children:"×"})]}),w5=()=>{const{user:e}=ir(),[t,r]=g.useState([]),[n,o]=g.useState([]),[l,c]=g.useState([]),[u,f]=g.useState(!0),[h,m]=g.useState(""),[p,y]=g.useState(45),[x,j]=g.useState(!1),[w,S]=g.useState(null),N=Pr();g.useEffect(()=>{(async()=>{try{let R=zn("featuredProducts"),M=zn("categories_home"),V=zn("deliverySettings");if(!R){const{data:B,error:z}=await ie.from("products").select("*, categories ( id, name )").eq("featured",!0).limit(20);if(z)throw z;R=B||[],Bn("featuredProducts",R)}if(!M){const{data:B,error:z}=await ie.from("categories").select("*").order("name").limit(7);if(z)throw z;M=B||[],Bn("categories_home",M)}if(!V){const{data:B,error:z}=await ie.from("delivery_settings").select("estimated_delivery_minutes").eq("id",1).single();!z&&B&&(V=B,Bn("deliverySettings",V))}r(R),c(M),V&&y(V.estimated_delivery_minutes),e&&await k()}catch(R){console.error("Error fetching data:",R)}finally{f(!1)}})()},[e]);const k=async()=>{try{let C=zn(`previouslyOrderedProducts_${e==null?void 0:e.id}`);if(!C){const{data:R,error:M}=await ie.from("orders").select("items").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(M)throw M;if(R&&R.length>0){const V=new Set;if(R.forEach(B=>{B.items&&Array.isArray(B.items)&&B.items.forEach(z=>{z.id&&V.add(z.id)})}),V.size>0){const{data:B,error:z}=await ie.from("products").select("*, categories ( id, name )").in("id",Array.from(V)).limit(12);!z&&B&&(C=B,Bn(`previouslyOrderedProducts_${e.id}`,C))}}}C&&o(C)}catch(C){console.error("Error fetching previously ordered products:",C)}},E=C=>{C.preventDefault(),h.trim()?N(`/shop?search=${encodeURIComponent(h.trim())}`):N("/shop")},P="w-5 h-5 text-primary",D=C=>{switch(C.toLowerCase()){case"beverages":case"soda":case"drinks":return i.jsx(o$,{className:P});case"dairy & eggs":return i.jsx(l$,{className:P});case"cookies":case"biscuits":return i.jsx(t$,{className:P});case"burgers":case"fast food":return i.jsx(v$,{className:P});case"bakery":return i.jsx(s$,{className:P});case"fruits":return i.jsx(kO,{className:P});case"meat":return i.jsx(AO,{className:P});case"confectionary":case"candy":return i.jsx(LO,{className:P});case"seafood":return i.jsx(h$,{className:P});case"kitchen":return i.jsx(nM,{className:P});default:return i.jsx(nn,{className:P})}};g.useEffect(()=>{window.innerWidth>768||y5()||localStorage.getItem("a2hs-dismissed")||(v5()?(S("ios"),j(!0)):g5()&&(S("android"),j(!0)))},[]);const A=()=>{j(!1),localStorage.setItem("a2hs-dismissed","1")};return i.jsxs("div",{className:"flex flex-col min-h-screen",children:[x&&i.jsx(x5,{onClose:A,platform:w}),i.jsxs("section",{className:"relative min-h-[350px] h-[40vh] max-h-[500px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:"/banner_bg.jpeg",alt:"Grocery delivery",className:"w-full h-full object-cover opacity-30"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),i.jsx("div",{className:"container relative h-full px-4 md:px-6",children:i.jsx("div",{className:"flex flex-col justify-center h-full max-w-4xl mx-auto py-4 md:py-6",children:i.jsxs(ye.div,{className:"space-y-3 md:space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx(ye.div,{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.4},children:i.jsxs("div",{className:"inline-flex items-center bg-white/95 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg w-fit",children:[i.jsx(k$,{className:"w-3 h-3 text-[#fd7507] mr-1.5"}),i.jsx("span",{className:"text-[#2E8B57] font-semibold text-xs",children:"Adelaide   "}),"  ",i.jsx(nn,{className:"w-3 h-3 text-[#2E8B57] mr-1.5"}),i.jsxs("span",{className:"text-[#2E8B57] font-small text-xs",children:[p,"m"]})]})}),i.jsxs(ye.form,{onSubmit:E,className:"flex gap-1 w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx(xe,{type:"text",placeholder:"Search for groceries and more...",value:h,onChange:C=>m(C.target.value),className:"h-10 md:h-12 pl-3 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500 text-sm"})}),i.jsx(Q,{type:"submit",size:"sm",className:"h-10 md:h-12 bg-white hover:bg-white/90 shadow-lg text-sm",children:i.jsx(Fi,{style:{color:"orange"},className:"w-8 h-6"})})]}),i.jsx(ye.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},className:"relative",children:i.jsxs("div",{className:"flex overflow-x-auto pb-1 space-x-6 scrollbar-hide px-4 md:px-0 md:justify-center",children:[l.map(C=>i.jsxs(Ce,{to:`/category/${C.id}`,className:"flex-none group text-center",children:[i.jsxs("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:[i.jsx("img",{src:C.icon_url,alt:C.name,className:"w-12 h-12 md:w-14 md:h-14 object-cover rounded-full",onError:R=>{R.target.style.display="none",R.target.nextSibling.style.display="flex"}}),i.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 hidden items-center justify-center",children:D(C.name)})]}),i.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:C.name})]},C.id)),i.jsxs(Ce,{to:"/categories",className:"flex-none group text-center",children:[i.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:i.jsx("div",{className:"flex flex-col items-center",children:i.jsx(ep,{className:"h-6 w-6 md:h-8 md:w-8 text-white"})})}),i.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:"View All"})]})]})}),i.jsx(ye.div,{className:"pt-2 flex justify-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.5},children:i.jsx(Ce,{to:"/store-pickup",className:"block w-full max-w-md",children:i.jsxs(Q,{size:"lg",variant:"outline",className:"w-full h-10 md:h-12 bg-white/95 hover:bg-white border-2 border-white/50 shadow-lg text-[#2E8B57] hover:text-[#2E8B57] font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:["...",i.jsx(tv,{className:"w-4 h-4 mr-2"}),"Schedule Grocery Run"]})})})]})})})]}),e&&n.length>0&&i.jsx("section",{className:"py-8 bg-gray-50",children:i.jsxs("div",{className:"container px-4 md:px-6",children:[i.jsx(ye.h2,{className:"text-xl font-bold mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Previously Ordered"}),i.jsx(ye.div,{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:n.slice(0,12).map(C=>i.jsx("div",{className:"flex-none w-48",children:i.jsx(Ju,{product:C})},C.id))})]})}),i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container px-4 md:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(ye.h2,{className:"text-xl font-bold",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Featured Products"}),i.jsx(Ce,{to:"/shop",className:"flex-none group text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:i.jsx(ep,{className:"h-5 w-5 text-primary"})}),i.jsx("span",{className:"text-xs font-medium text-primary transition-colors block truncate",children:"View All"})]})})]}),i.jsx(ye.div,{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:t.map(C=>i.jsx(Ju,{product:C},C.id))})]})}),i.jsx(p5,{})]})};function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(null,arguments)}function Ww(e,[t,r]){return Math.min(r,Math.max(t,e))}function Mt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function pv(e,t=[]){let r=[];function n(l,c){const u=g.createContext(c),f=r.length;r=[...r,c];function h(p){const{scope:y,children:x,...j}=p,w=(y==null?void 0:y[e][f])||u,S=g.useMemo(()=>j,Object.values(j));return g.createElement(w.Provider,{value:S},x)}function m(p,y){const x=(y==null?void 0:y[e][f])||u,j=g.useContext(x);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return h.displayName=l+"Provider",[h,m]}const o=()=>{const l=r.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,b5(o,...t)]}function b5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function j5(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function y_(...e){return t=>e.forEach(r=>j5(r,t))}function er(...e){return g.useCallback(y_(...e),e)}const Pl=g.forwardRef((e,t)=>{const{children:r,...n}=e,o=g.Children.toArray(r),l=o.find(_5);if(l){const c=l.props.children,u=o.map(f=>f===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:f);return g.createElement(dp,Je({},n,{ref:t}),g.isValidElement(c)?g.cloneElement(c,void 0,u):null)}return g.createElement(dp,Je({},n,{ref:t}),r)});Pl.displayName="Slot";const dp=g.forwardRef((e,t)=>{const{children:r,...n}=e;return g.isValidElement(r)?g.cloneElement(r,{...N5(n,r.props),ref:t?y_(t,r.ref):r.ref}):g.Children.count(r)>1?g.Children.only(null):null});dp.displayName="SlotClone";const S5=({children:e})=>g.createElement(g.Fragment,null,e);function _5(e){return g.isValidElement(e)&&e.type===S5}function N5(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...u)=>{l(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function C5(e){const t=e+"CollectionProvider",[r,n]=pv(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:j,children:w}=x,S=le.useRef(null),N=le.useRef(new Map).current;return le.createElement(o,{scope:j,itemMap:N,collectionRef:S},w)},u=e+"CollectionSlot",f=le.forwardRef((x,j)=>{const{scope:w,children:S}=x,N=l(u,w),k=er(j,N.collectionRef);return le.createElement(Pl,{ref:k},S)}),h=e+"CollectionItemSlot",m="data-radix-collection-item",p=le.forwardRef((x,j)=>{const{scope:w,children:S,...N}=x,k=le.useRef(null),E=er(j,k),P=l(h,w);return le.useEffect(()=>(P.itemMap.set(k,{ref:k,...N}),()=>void P.itemMap.delete(k))),le.createElement(Pl,{[m]:"",ref:E},S)});function y(x){const j=l(e+"CollectionConsumer",x);return le.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const N=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((P,D)=>N.indexOf(P.ref.current)-N.indexOf(D.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:f,ItemSlot:p},y,n]}const k5=g.createContext(void 0);function P5(e){const t=g.useContext(k5);return e||t||"ltr"}const E5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wt=E5.reduce((e,t)=>{const r=g.forwardRef((n,o)=>{const{asChild:l,...c}=n,u=l?Pl:t;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(u,Je({},c,{ref:o}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function T5(e,t){e&&Ri.flushSync(()=>e.dispatchEvent(t))}function Xn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function A5(e,t=globalThis==null?void 0:globalThis.document){const r=Xn(e);g.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const fp="dismissableLayer.update",D5="dismissableLayer.pointerDownOutside",R5="dismissableLayer.focusOutside";let Hw;const O5=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5=g.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,m=g.useContext(O5),[p,y]=g.useState(null),x=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,j]=g.useState({}),w=er(t,R=>y(R)),S=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(N),E=p?S.indexOf(p):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,D=E>=k,A=M5(R=>{const M=R.target,V=[...m.branches].some(B=>B.contains(M));!D||V||(l==null||l(R),u==null||u(R),R.defaultPrevented||f==null||f())},x),C=I5(R=>{const M=R.target;[...m.branches].some(B=>B.contains(M))||(c==null||c(R),u==null||u(R),R.defaultPrevented||f==null||f())},x);return A5(R=>{E===m.layers.size-1&&(o==null||o(R),!R.defaultPrevented&&f&&(R.preventDefault(),f()))},x),g.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Hw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),qw(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Hw)}},[p,x,n,m]),g.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),qw())},[p,m]),g.useEffect(()=>{const R=()=>j({});return document.addEventListener(fp,R),()=>document.removeEventListener(fp,R)},[]),g.createElement(Wt.div,Je({},h,{ref:w,style:{pointerEvents:P?D?"auto":"none":void 0,...e.style},onFocusCapture:Mt(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Mt(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Mt(e.onPointerDownCapture,A.onPointerDownCapture)}))});function M5(e,t=globalThis==null?void 0:globalThis.document){const r=Xn(e),n=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let h=function(){x_(D5,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I5(e,t=globalThis==null?void 0:globalThis.document){const r=Xn(e),n=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!n.current&&x_(R5,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qw(){const e=new CustomEvent(fp);document.dispatchEvent(e)}function x_(e,t,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?T5(o,l):o.dispatchEvent(l)}let pm=0;function L5(){g.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Yw()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Yw()),pm++,()=>{pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),pm--}},[])}function Yw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const vm="focusScope.autoFocusOnMount",gm="focusScope.autoFocusOnUnmount",Gw={bubbles:!1,cancelable:!0},F5=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),h=Xn(o),m=Xn(l),p=g.useRef(null),y=er(t,w=>f(w)),x=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let w=function(E){if(x.paused||!u)return;const P=E.target;u.contains(P)?p.current=P:Ts(p.current,{select:!0})},S=function(E){if(x.paused||!u)return;const P=E.relatedTarget;P!==null&&(u.contains(P)||Ts(p.current,{select:!0}))},N=function(E){const P=document.activeElement;for(const D of E)D.removedNodes.length>0&&(u!=null&&u.contains(P)||Ts(u))};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const k=new MutationObserver(N);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),k.disconnect()}}},[n,u,x.paused]),g.useEffect(()=>{if(u){Xw.add(x);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(vm,Gw);u.addEventListener(vm,h),u.dispatchEvent(N),N.defaultPrevented||(U5(H5(w_(u)),{select:!0}),document.activeElement===w&&Ts(u))}return()=>{u.removeEventListener(vm,h),setTimeout(()=>{const N=new CustomEvent(gm,Gw);u.addEventListener(gm,m),u.dispatchEvent(N),N.defaultPrevented||Ts(w??document.body,{select:!0}),u.removeEventListener(gm,m),Xw.remove(x)},0)}}},[u,h,m,x]);const j=g.useCallback(w=>{if(!r&&!n||x.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(S&&N){const k=w.currentTarget,[E,P]=V5(k);E&&P?!w.shiftKey&&N===P?(w.preventDefault(),r&&Ts(E,{select:!0})):w.shiftKey&&N===E&&(w.preventDefault(),r&&Ts(P,{select:!0})):N===k&&w.preventDefault()}},[r,n,x.paused]);return g.createElement(Wt.div,Je({tabIndex:-1},c,{ref:y,onKeyDown:j}))});function U5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ts(n,{select:t}),document.activeElement!==r)return}function V5(e){const t=w_(e),r=Kw(t,e),n=Kw(t.reverse(),e);return[r,n]}function w_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Kw(e,t){for(const r of e)if(!B5(r,{upTo:t}))return r}function B5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z5(e){return e instanceof HTMLInputElement&&"select"in e}function Ts(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&z5(e)&&t&&e.select()}}const Xw=W5();function W5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jw(e,t),e.unshift(t)},remove(t){var r;e=Jw(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Jw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function H5(e){return e.filter(t=>t.tagName!=="A")}const zr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},q5=id.useId||(()=>{});let Y5=0;function b_(e){const[t,r]=g.useState(q5());return zr(()=>{r(n=>n??String(Y5++))},[e]),t?`radix-${t}`:""}const G5=["top","right","bottom","left"],Us=Math.min,Nr=Math.max,Qu=Math.round,Tu=Math.floor,bn=e=>({x:e,y:e}),K5={left:"right",right:"left",bottom:"top",top:"bottom"},X5={start:"end",end:"start"};function hp(e,t,r){return Nr(e,Us(t,r))}function Jn(e,t){return typeof e=="function"?e(t):e}function Qn(e){return e.split("-")[0]}function oa(e){return e.split("-")[1]}function vv(e){return e==="x"?"y":"x"}function gv(e){return e==="y"?"height":"width"}function Yn(e){return["top","bottom"].includes(Qn(e))?"y":"x"}function yv(e){return vv(Yn(e))}function J5(e,t,r){r===void 0&&(r=!1);const n=oa(e),o=yv(e),l=gv(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Zu(c)),[c,Zu(c)]}function Q5(e){const t=Zu(e);return[mp(e),t,mp(t)]}function mp(e){return e.replace(/start|end/g,t=>X5[t])}function Z5(e,t,r){const n=["left","right"],o=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?l:c;default:return[]}}function eL(e,t,r,n){const o=oa(e);let l=Z5(Qn(e),r==="start",n);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(mp)))),l}function Zu(e){return e.replace(/left|right|bottom|top/g,t=>K5[t])}function tL(e){return{top:0,right:0,bottom:0,left:0,...e}}function j_(e){return typeof e!="number"?tL(e):{top:e,right:e,bottom:e,left:e}}function ed(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Qw(e,t,r){let{reference:n,floating:o}=e;const l=Yn(t),c=yv(t),u=gv(c),f=Qn(t),h=l==="y",m=n.x+n.width/2-o.width/2,p=n.y+n.height/2-o.height/2,y=n[u]/2-o[u]/2;let x;switch(f){case"top":x={x:m,y:n.y-o.height};break;case"bottom":x={x:m,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:p};break;case"left":x={x:n.x-o.width,y:p};break;default:x={x:n.x,y:n.y}}switch(oa(t)){case"start":x[c]-=y*(r&&h?-1:1);break;case"end":x[c]+=y*(r&&h?-1:1);break}return x}const rL=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=Qw(h,n,f),y=n,x={},j=0;for(let w=0;w<u.length;w++){const{name:S,fn:N}=u[w],{x:k,y:E,data:P,reset:D}=await N({x:m,y:p,initialPlacement:n,placement:y,strategy:o,middlewareData:x,rects:h,platform:c,elements:{reference:e,floating:t}});m=k??m,p=E??p,x={...x,[S]:{...x[S],...P}},D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(y=D.placement),D.rects&&(h=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:m,y:p}=Qw(h,y,f)),w=-1)}return{x:m,y:p,placement:y,strategy:o,middlewareData:x}};async function El(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:y=!1,padding:x=0}=Jn(t,e),j=j_(x),S=u[y?p==="floating"?"reference":"floating":p],N=ed(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(S)))==null||r?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),k=p==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),P=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},D=ed(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:E,strategy:f}):k);return{top:(N.top-D.top+j.top)/P.y,bottom:(D.bottom-N.bottom+j.bottom)/P.y,left:(N.left-D.left+j.left)/P.x,right:(D.right-N.right+j.right)/P.x}}const nL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=Jn(e,t)||{};if(h==null)return{};const p=j_(m),y={x:r,y:n},x=yv(o),j=gv(x),w=await c.getDimensions(h),S=x==="y",N=S?"top":"left",k=S?"bottom":"right",E=S?"clientHeight":"clientWidth",P=l.reference[j]+l.reference[x]-y[x]-l.floating[j],D=y[x]-l.reference[x],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let C=A?A[E]:0;(!C||!await(c.isElement==null?void 0:c.isElement(A)))&&(C=u.floating[E]||l.floating[j]);const R=P/2-D/2,M=C/2-w[j]/2-1,V=Us(p[N],M),B=Us(p[k],M),z=V,G=C-w[j]-B,X=C/2-w[j]/2+R,J=hp(z,X,G),ee=!f.arrow&&oa(o)!=null&&X!==J&&l.reference[j]/2-(X<z?V:B)-w[j]/2<0,I=ee?X<z?X-z:X-G:0;return{[x]:y[x]+I,data:{[x]:J,centerOffset:X-J-I,...ee&&{alignmentOffset:I}},reset:ee}}}),sL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,...S}=Jn(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const N=Qn(o),k=Yn(u),E=Qn(u)===u,P=await(f.isRTL==null?void 0:f.isRTL(h.floating)),D=y||(E||!w?[Zu(u)]:Q5(u)),A=j!=="none";!y&&A&&D.push(...eL(u,w,j,P));const C=[u,...D],R=await El(t,S),M=[];let V=((n=l.flip)==null?void 0:n.overflows)||[];if(m&&M.push(R[N]),p){const J=J5(o,c,P);M.push(R[J[0]],R[J[1]])}if(V=[...V,{placement:o,overflows:M}],!M.every(J=>J<=0)){var B,z;const J=(((B=l.flip)==null?void 0:B.index)||0)+1,ee=C[J];if(ee){var G;const F=p==="alignment"?k!==Yn(ee):!1,K=((G=V[0])==null?void 0:G.overflows[0])>0;if(!F||K)return{data:{index:J,overflows:V},reset:{placement:ee}}}let I=(z=V.filter(F=>F.overflows[0]<=0).sort((F,K)=>F.overflows[1]-K.overflows[1])[0])==null?void 0:z.placement;if(!I)switch(x){case"bestFit":{var X;const F=(X=V.filter(K=>{if(A){const Z=Yn(K.placement);return Z===k||Z==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(Z=>Z>0).reduce((Z,$)=>Z+$,0)]).sort((K,Z)=>K[1]-Z[1])[0])==null?void 0:X[0];F&&(I=F);break}case"initialPlacement":I=u;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function Zw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eb(e){return G5.some(t=>e[t]>=0)}const iL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Jn(e,t);switch(n){case"referenceHidden":{const l=await El(t,{...o,elementContext:"reference"}),c=Zw(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:eb(c)}}}case"escaped":{const l=await El(t,{...o,altBoundary:!0}),c=Zw(l,r.floating);return{data:{escapedOffsets:c,escaped:eb(c)}}}default:return{}}}}};async function oL(e,t){const{placement:r,platform:n,elements:o}=e,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=Qn(r),u=oa(r),f=Yn(r)==="y",h=["left","top"].includes(c)?-1:1,m=l&&f?-1:1,p=Jn(t,e);let{mainAxis:y,crossAxis:x,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(x=u==="end"?j*-1:j),f?{x:x*m,y:y*h}:{x:y*h,y:x*m}}const aL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:l,placement:c,middlewareData:u}=t,f=await oL(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},lL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:N,y:k}=S;return{x:N,y:k}}},...f}=Jn(e,t),h={x:r,y:n},m=await El(t,f),p=Yn(Qn(o)),y=vv(p);let x=h[y],j=h[p];if(l){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",k=x+m[S],E=x-m[N];x=hp(k,x,E)}if(c){const S=p==="y"?"top":"left",N=p==="y"?"bottom":"right",k=j+m[S],E=j-m[N];j=hp(k,j,E)}const w=u.fn({...t,[y]:x,[p]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:l,[p]:c}}}}}},cL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Jn(e,t),m={x:r,y:n},p=Yn(o),y=vv(p);let x=m[y],j=m[p];const w=Jn(u,t),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const E=y==="y"?"height":"width",P=l.reference[y]-l.floating[E]+S.mainAxis,D=l.reference[y]+l.reference[E]-S.mainAxis;x<P?x=P:x>D&&(x=D)}if(h){var N,k;const E=y==="y"?"width":"height",P=["top","left"].includes(Qn(o)),D=l.reference[p]-l.floating[E]+(P&&((N=c.offset)==null?void 0:N[p])||0)+(P?0:S.crossAxis),A=l.reference[p]+l.reference[E]+(P?0:((k=c.offset)==null?void 0:k[p])||0)-(P?S.crossAxis:0);j<D?j=D:j>A&&(j=A)}return{[y]:x,[p]:j}}}},uL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:l,platform:c,elements:u}=t,{apply:f=()=>{},...h}=Jn(e,t),m=await El(t,h),p=Qn(o),y=oa(o),x=Yn(o)==="y",{width:j,height:w}=l.floating;let S,N;p==="top"||p==="bottom"?(S=p,N=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=p,S=y==="end"?"top":"bottom");const k=w-m.top-m.bottom,E=j-m.left-m.right,P=Us(w-m[S],k),D=Us(j-m[N],E),A=!t.middlewareData.shift;let C=P,R=D;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=k),A&&!y){const V=Nr(m.left,0),B=Nr(m.right,0),z=Nr(m.top,0),G=Nr(m.bottom,0);x?R=j-2*(V!==0||B!==0?V+B:Nr(m.left,m.right)):C=w-2*(z!==0||G!==0?z+G:Nr(m.top,m.bottom))}await f({...t,availableWidth:R,availableHeight:C});const M=await c.getDimensions(u.floating);return j!==M.width||w!==M.height?{reset:{rects:!0}}:{}}}};function Ed(){return typeof window<"u"}function aa(e){return S_(e)?(e.nodeName||"").toLowerCase():"#document"}function Cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cn(e){var t;return(t=(S_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function S_(e){return Ed()?e instanceof Node||e instanceof Cr(e).Node:!1}function on(e){return Ed()?e instanceof Element||e instanceof Cr(e).Element:!1}function jn(e){return Ed()?e instanceof HTMLElement||e instanceof Cr(e).HTMLElement:!1}function tb(e){return!Ed()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cr(e).ShadowRoot}function ql(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=an(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function dL(e){return["table","td","th"].includes(aa(e))}function Td(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function xv(e){const t=wv(),r=on(e)?an(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function fL(e){let t=Vs(e);for(;jn(t)&&!Go(t);){if(xv(t))return t;if(Td(t))return null;t=Vs(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Go(e){return["html","body","#document"].includes(aa(e))}function an(e){return Cr(e).getComputedStyle(e)}function Ad(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vs(e){if(aa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tb(e)&&e.host||Cn(e);return tb(t)?t.host:t}function __(e){const t=Vs(e);return Go(t)?e.ownerDocument?e.ownerDocument.body:e.body:jn(t)&&ql(t)?t:__(t)}function Tl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=__(e),l=o===((n=e.ownerDocument)==null?void 0:n.body),c=Cr(o);if(l){const u=pp(c);return t.concat(c,c.visualViewport||[],ql(o)?o:[],u&&r?Tl(u):[])}return t.concat(o,Tl(o,[],r))}function pp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function N_(e){const t=an(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=jn(e),l=o?e.offsetWidth:r,c=o?e.offsetHeight:n,u=Qu(r)!==l||Qu(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function bv(e){return on(e)?e:e.contextElement}function Fo(e){const t=bv(e);if(!jn(t))return bn(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:l}=N_(t);let c=(l?Qu(r.width):r.width)/n,u=(l?Qu(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const hL=bn(0);function C_(e){const t=Cr(e);return!wv()||!t.visualViewport?hL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Cr(e)?!1:t}function Ti(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),l=bv(e);let c=bn(1);t&&(n?on(n)&&(c=Fo(n)):c=Fo(e));const u=mL(l,r,n)?C_(l):bn(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,p=o.height/c.y;if(l){const y=Cr(l),x=n&&on(n)?Cr(n):n;let j=y,w=pp(j);for(;w&&n&&x!==j;){const S=Fo(w),N=w.getBoundingClientRect(),k=an(w),E=N.left+(w.clientLeft+parseFloat(k.paddingLeft))*S.x,P=N.top+(w.clientTop+parseFloat(k.paddingTop))*S.y;f*=S.x,h*=S.y,m*=S.x,p*=S.y,f+=E,h+=P,j=Cr(w),w=pp(j)}}return ed({width:m,height:p,x:f,y:h})}function jv(e,t){const r=Ad(e).scrollLeft;return t?t.left+r:Ti(Cn(e)).left+r}function k_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:jv(e,n)),l=n.top+t.scrollTop;return{x:o,y:l}}function pL(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const l=o==="fixed",c=Cn(n),u=t?Td(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},h=bn(1);const m=bn(0),p=jn(n);if((p||!p&&!l)&&((aa(n)!=="body"||ql(c))&&(f=Ad(n)),jn(n))){const x=Ti(n);h=Fo(n),m.x=x.x+n.clientLeft,m.y=x.y+n.clientTop}const y=c&&!p&&!l?k_(c,f,!0):bn(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+y.x,y:r.y*h.y-f.scrollTop*h.y+m.y+y.y}}function vL(e){return Array.from(e.getClientRects())}function gL(e){const t=Cn(e),r=Ad(e),n=e.ownerDocument.body,o=Nr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Nr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+jv(e);const u=-r.scrollTop;return an(n).direction==="rtl"&&(c+=Nr(t.clientWidth,n.clientWidth)-o),{width:o,height:l,x:c,y:u}}function yL(e,t){const r=Cr(e),n=Cn(e),o=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(o){l=o.width,c=o.height;const h=wv();(!h||h&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:c,x:u,y:f}}function xL(e,t){const r=Ti(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,l=jn(e)?Fo(e):bn(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=o*l.x,h=n*l.y;return{width:c,height:u,x:f,y:h}}function rb(e,t,r){let n;if(t==="viewport")n=yL(e,r);else if(t==="document")n=gL(Cn(e));else if(on(t))n=xL(t,r);else{const o=C_(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ed(n)}function P_(e,t){const r=Vs(e);return r===t||!on(r)||Go(r)?!1:an(r).position==="fixed"||P_(r,t)}function wL(e,t){const r=t.get(e);if(r)return r;let n=Tl(e,[],!1).filter(u=>on(u)&&aa(u)!=="body"),o=null;const l=an(e).position==="fixed";let c=l?Vs(e):e;for(;on(c)&&!Go(c);){const u=an(c),f=xv(c);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ql(c)&&!f&&P_(e,c))?n=n.filter(m=>m!==c):o=u,c=Vs(c)}return t.set(e,n),n}function bL(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Td(t)?[]:wL(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const p=rb(t,m,o);return h.top=Nr(p.top,h.top),h.right=Us(p.right,h.right),h.bottom=Us(p.bottom,h.bottom),h.left=Nr(p.left,h.left),h},rb(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function jL(e){const{width:t,height:r}=N_(e);return{width:t,height:r}}function SL(e,t,r){const n=jn(t),o=Cn(t),l=r==="fixed",c=Ti(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=bn(0);function h(){f.x=jv(o)}if(n||!n&&!l)if((aa(t)!=="body"||ql(o))&&(u=Ad(t)),n){const x=Ti(t,!0,l,t);f.x=x.x+t.clientLeft,f.y=x.y+t.clientTop}else o&&h();l&&!n&&o&&h();const m=o&&!n&&!l?k_(o,u):bn(0),p=c.left+u.scrollLeft-f.x-m.x,y=c.top+u.scrollTop-f.y-m.y;return{x:p,y,width:c.width,height:c.height}}function ym(e){return an(e).position==="static"}function nb(e,t){if(!jn(e)||an(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cn(e)===r&&(r=r.ownerDocument.body),r}function E_(e,t){const r=Cr(e);if(Td(e))return r;if(!jn(e)){let o=Vs(e);for(;o&&!Go(o);){if(on(o)&&!ym(o))return o;o=Vs(o)}return r}let n=nb(e,t);for(;n&&dL(n)&&ym(n);)n=nb(n,t);return n&&Go(n)&&ym(n)&&!xv(n)?r:n||fL(e)||r}const _L=async function(e){const t=this.getOffsetParent||E_,r=this.getDimensions,n=await r(e.floating);return{reference:SL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NL(e){return an(e).direction==="rtl"}const CL={convertOffsetParentRelativeRectToViewportRelativeRect:pL,getDocumentElement:Cn,getClippingRect:bL,getOffsetParent:E_,getElementRects:_L,getClientRects:vL,getDimensions:jL,getScale:Fo,isElement:on,isRTL:NL};function T_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kL(e,t){let r=null,n;const o=Cn(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=e.getBoundingClientRect(),{left:m,top:p,width:y,height:x}=h;if(u||t(),!y||!x)return;const j=Tu(p),w=Tu(o.clientWidth-(m+y)),S=Tu(o.clientHeight-(p+x)),N=Tu(m),E={rootMargin:-j+"px "+-w+"px "+-S+"px "+-N+"px",threshold:Nr(0,Us(1,f))||1};let P=!0;function D(A){const C=A[0].intersectionRatio;if(C!==f){if(!P)return c();C?c(!1,C):n=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!T_(h,e.getBoundingClientRect())&&c(),P=!1}try{r=new IntersectionObserver(D,{...E,root:o.ownerDocument})}catch{r=new IntersectionObserver(D,E)}r.observe(e)}return c(!0),l}function A_(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=bv(e),m=o||l?[...h?Tl(h):[],...Tl(t)]:[];m.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),l&&N.addEventListener("resize",r)});const p=h&&u?kL(h,r):null;let y=-1,x=null;c&&(x=new ResizeObserver(N=>{let[k]=N;k&&k.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(t)})),r()}),h&&!f&&x.observe(h),x.observe(t));let j,w=f?Ti(e):null;f&&S();function S(){const N=Ti(e);w&&!T_(w,N)&&r(),w=N,j=requestAnimationFrame(S)}return r(),()=>{var N;m.forEach(k=>{o&&k.removeEventListener("scroll",r),l&&k.removeEventListener("resize",r)}),p==null||p(),(N=x)==null||N.disconnect(),x=null,f&&cancelAnimationFrame(j)}}const PL=aL,EL=lL,TL=sL,AL=uL,DL=iL,sb=nL,RL=cL,OL=(e,t,r)=>{const n=new Map,o={platform:CL,...r},l={...o.platform,_c:n};return rL(e,t,{...o,platform:l})};var Iu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function td(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!td(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const l=o[n];if(!(l==="_owner"&&e.$$typeof)&&!td(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function D_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ib(e,t){const r=D_(e);return Math.round(t*r)/r}function xm(e){const t=g.useRef(e);return Iu(()=>{t.current=e}),t}function R_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,p]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,x]=g.useState(n);td(y,n)||x(n);const[j,w]=g.useState(null),[S,N]=g.useState(null),k=g.useCallback(F=>{F!==A.current&&(A.current=F,w(F))},[]),E=g.useCallback(F=>{F!==C.current&&(C.current=F,N(F))},[]),P=l||j,D=c||S,A=g.useRef(null),C=g.useRef(null),R=g.useRef(m),M=f!=null,V=xm(f),B=xm(o),z=xm(h),G=g.useCallback(()=>{if(!A.current||!C.current)return;const F={placement:t,strategy:r,middleware:y};B.current&&(F.platform=B.current),OL(A.current,C.current,F).then(K=>{const Z={...K,isPositioned:z.current!==!1};X.current&&!td(R.current,Z)&&(R.current=Z,Ri.flushSync(()=>{p(Z)}))})},[y,t,r,B,z]);Iu(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[h]);const X=g.useRef(!1);Iu(()=>(X.current=!0,()=>{X.current=!1}),[]),Iu(()=>{if(P&&(A.current=P),D&&(C.current=D),P&&D){if(V.current)return V.current(P,D,G);G()}},[P,D,G,V,M]);const J=g.useMemo(()=>({reference:A,floating:C,setReference:k,setFloating:E}),[k,E]),ee=g.useMemo(()=>({reference:P,floating:D}),[P,D]),I=g.useMemo(()=>{const F={position:r,left:0,top:0};if(!ee.floating)return F;const K=ib(ee.floating,m.x),Z=ib(ee.floating,m.y);return u?{...F,transform:"translate("+K+"px, "+Z+"px)",...D_(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:Z}},[r,u,ee.floating,m.x,m.y]);return g.useMemo(()=>({...m,update:G,refs:J,elements:ee,floatingStyles:I}),[m,G,J,ee,I])}const $L=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sb({element:n.current,padding:o}).fn(r):{}:n?sb({element:n,padding:o}).fn(r):{}}}},O_=(e,t)=>({...PL(e),options:[e,t]}),$_=(e,t)=>({...EL(e),options:[e,t]}),M_=(e,t)=>({...RL(e),options:[e,t]}),I_=(e,t)=>({...TL(e),options:[e,t]}),L_=(e,t)=>({...AL(e),options:[e,t]}),F_=(e,t)=>({...DL(e),options:[e,t]}),U_=(e,t)=>({...$L(e),options:[e,t]});function ML(e){const[t,r]=g.useState(void 0);return zr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const V_="Popper",[B_,z_]=pv(V_),[IL,W_]=B_(V_),LL=e=>{const{__scopePopper:t,children:r}=e,[n,o]=g.useState(null);return g.createElement(IL,{scope:t,anchor:n,onAnchorChange:o},r)},FL="PopperAnchor",UL=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,l=W_(FL,r),c=g.useRef(null),u=er(t,c);return g.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:g.createElement(Wt.div,Je({},o,{ref:u}))}),H_="PopperContent",[VL,lV]=B_(H_),BL=g.forwardRef((e,t)=>{var r,n,o,l,c,u,f,h;const{__scopePopper:m,side:p="bottom",sideOffset:y=0,align:x="center",alignOffset:j=0,arrowPadding:w=0,collisionBoundary:S=[],collisionPadding:N=0,sticky:k="partial",hideWhenDetached:E=!1,avoidCollisions:P=!0,onPlaced:D,...A}=e,C=W_(H_,m),[R,M]=g.useState(null),V=er(t,et=>M(et)),[B,z]=g.useState(null),G=ML(B),X=(r=G==null?void 0:G.width)!==null&&r!==void 0?r:0,J=(n=G==null?void 0:G.height)!==null&&n!==void 0?n:0,ee=p+(x!=="center"?"-"+x:""),I=typeof N=="number"?N:{top:0,right:0,bottom:0,left:0,...N},F=Array.isArray(S)?S:[S],K=F.length>0,Z={padding:I,boundary:F.filter(zL),altBoundary:K},{refs:$,floatingStyles:q,placement:fe,isPositioned:ve,middlewareData:Ne}=R_({strategy:"fixed",placement:ee,whileElementsMounted:A_,elements:{reference:C.anchor},middleware:[O_({mainAxis:y+J,alignmentAxis:j}),P&&$_({mainAxis:!0,crossAxis:!1,limiter:k==="partial"?M_():void 0,...Z}),P&&I_({...Z}),L_({...Z,apply:({elements:et,rects:vt,availableWidth:Er,availableHeight:Tr})=>{const{width:ns,height:yr}=vt.reference,Ar=et.floating.style;Ar.setProperty("--radix-popper-available-width",`${Er}px`),Ar.setProperty("--radix-popper-available-height",`${Tr}px`),Ar.setProperty("--radix-popper-anchor-width",`${ns}px`),Ar.setProperty("--radix-popper-anchor-height",`${yr}px`)}}),B&&U_({element:B,padding:w}),WL({arrowWidth:X,arrowHeight:J}),E&&F_({strategy:"referenceHidden"})]}),[Se,ue]=q_(fe),me=Xn(D);zr(()=>{ve&&(me==null||me())},[ve,me]);const de=(o=Ne.arrow)===null||o===void 0?void 0:o.x,he=(l=Ne.arrow)===null||l===void 0?void 0:l.y,Ee=((c=Ne.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[De,Re]=g.useState();return zr(()=>{R&&Re(window.getComputedStyle(R).zIndex)},[R]),g.createElement("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:ve?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(u=Ne.transformOrigin)===null||u===void 0?void 0:u.x,(f=Ne.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},g.createElement(VL,{scope:m,placedSide:Se,onArrowChange:z,arrowX:de,arrowY:he,shouldHideArrow:Ee},g.createElement(Wt.div,Je({"data-side":Se,"data-align":ue},A,{ref:V,style:{...A.style,animation:ve?void 0:"none",opacity:(h=Ne.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function zL(e){return e!==null}const WL=e=>({name:"transformOrigin",options:e,fn(t){var r,n,o,l,c;const{placement:u,rects:f,middlewareData:h}=t,p=((r=h.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,y=p?0:e.arrowWidth,x=p?0:e.arrowHeight,[j,w]=q_(u),S={start:"0%",center:"50%",end:"100%"}[w],N=((n=(o=h.arrow)===null||o===void 0?void 0:o.x)!==null&&n!==void 0?n:0)+y/2,k=((l=(c=h.arrow)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0)+x/2;let E="",P="";return j==="bottom"?(E=p?S:`${N}px`,P=`${-x}px`):j==="top"?(E=p?S:`${N}px`,P=`${f.floating.height+x}px`):j==="right"?(E=`${-x}px`,P=p?S:`${k}px`):j==="left"&&(E=`${f.floating.width+x}px`,P=p?S:`${k}px`),{data:{x:E,y:P}}}});function q_(e){const[t,r="center"]=e.split("-");return[t,r]}const HL=LL,qL=UL,YL=BL,GL=g.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...o}=e;return n?Nb.createPortal(g.createElement(Wt.div,Je({},o,{ref:t})),n):null});function ob({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=KL({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:n,u=Xn(r),f=g.useCallback(h=>{if(l){const p=typeof h=="function"?h(e):h;p!==e&&u(p)}else o(h)},[l,e,o,u]);return[c,f]}function KL({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,o=g.useRef(n),l=Xn(t);return g.useEffect(()=>{o.current!==n&&(l(n),o.current=n)},[n,o,l]),r}function XL(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const JL=g.forwardRef((e,t)=>g.createElement(Wt.span,Je({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var Y_=nS(),wm=function(){},Dd=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:wm,onWheelCapture:wm,onTouchMoveCapture:wm}),o=n[0],l=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,y=e.sideCar,x=e.noIsolation,j=e.inert,w=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,k=sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=y,P=rS([r,t]),D=Xt(Xt({},k),o);return g.createElement(g.Fragment,null,m&&g.createElement(E,{sideCar:Y_,removeScrollBar:h,shards:p,noIsolation:x,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r}),c?g.cloneElement(g.Children.only(u),Xt(Xt({},D),{ref:P})):g.createElement(N,Xt({},D,{className:f,ref:P}),u))});Dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dd.classNames={fullWidth:wl,zeroRight:xl};var vp=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return vp=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{vp=!1}var ko=vp?{passive:!1}:!1,QL=function(e){return e.tagName==="TEXTAREA"},G_=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!QL(e)&&r[t]==="visible")},ZL=function(e){return G_(e,"overflowY")},eF=function(e){return G_(e,"overflowX")},ab=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=K_(e,r);if(n){var o=X_(e,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},tF=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rF=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},K_=function(e,t){return e==="v"?ZL(t):eF(t)},X_=function(e,t){return e==="v"?tF(t):rF(t)},nF=function(e,t){return e==="h"&&t==="rtl"?-1:1},sF=function(e,t,r,n,o){var l=nF(e,window.getComputedStyle(t).direction),c=l*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,y=0;do{var x=X_(e,u),j=x[0],w=x[1],S=x[2],N=w-S-l*j;(j||N)&&K_(e,u)&&(p+=N,y+=j),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&p===0||!m&&y===0)&&(h=!0),h},Du=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lb=function(e){return[e.deltaX,e.deltaY]},cb=function(e){return e&&"current"in e?e.current:e},iF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aF=0,Po=[];function lF(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),o=g.useState(aF++)[0],l=g.useState(function(){return iv()})[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=tS([e.lockRef.current],(e.shards||[]).map(cb),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(w,S){if("touches"in w&&w.touches.length===2)return!c.current.allowPinchZoom;var N=Du(w),k=r.current,E="deltaX"in w?w.deltaX:k[0]-N[0],P="deltaY"in w?w.deltaY:k[1]-N[1],D,A=w.target,C=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in w&&C==="h"&&A.type==="range")return!1;var R=ab(C,A);if(!R)return!0;if(R?D=C:(D=C==="v"?"h":"v",R=ab(C,A)),!R)return!1;if(!n.current&&"changedTouches"in w&&(E||P)&&(n.current=D),!D)return!0;var M=n.current||D;return sF(M,S,w,M==="h"?E:P)},[]),f=g.useCallback(function(w){var S=w;if(!(!Po.length||Po[Po.length-1]!==l)){var N="deltaY"in S?lb(S):Du(S),k=t.current.filter(function(D){return D.name===S.type&&D.target===S.target&&iF(D.delta,N)})[0];if(k&&k.should){S.cancelable&&S.preventDefault();return}if(!k){var E=(c.current.shards||[]).map(cb).filter(Boolean).filter(function(D){return D.contains(S.target)}),P=E.length>0?u(S,E[0]):!c.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),h=g.useCallback(function(w,S,N,k){var E={name:w,delta:S,target:N,should:k};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(P){return P!==E})},1)},[]),m=g.useCallback(function(w){r.current=Du(w),n.current=void 0},[]),p=g.useCallback(function(w){h(w.type,lb(w),w.target,u(w,e.lockRef.current))},[]),y=g.useCallback(function(w){h(w.type,Du(w),w.target,u(w,e.lockRef.current))},[]);g.useEffect(function(){return Po.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",f,ko),document.addEventListener("touchmove",f,ko),document.addEventListener("touchstart",m,ko),function(){Po=Po.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,ko),document.removeEventListener("touchmove",f,ko),document.removeEventListener("touchstart",m,ko)}},[]);var x=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(l,{styles:oF(o)}):null,x?g.createElement(aS,{gapMode:"margin"}):null)}const cF=iS(Y_,lF);var J_=g.forwardRef(function(e,t){return g.createElement(Dd,Xt({},e,{ref:t,sideCar:cF}))});J_.classNames=Dd.classNames;const uF=[" ","Enter","ArrowUp","ArrowDown"],dF=[" ","Enter"],Rd="Select",[Od,$d,fF]=C5(Rd),[la,cV]=pv(Rd,[fF,z_]),Sv=z_(),[hF,Bi]=la(Rd),[mF,pF]=la(Rd),vF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:l,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:p,disabled:y,required:x}=e,j=Sv(t),[w,S]=g.useState(null),[N,k]=g.useState(null),[E,P]=g.useState(!1),D=P5(h),[A=!1,C]=ob({prop:n,defaultProp:o,onChange:l}),[R,M]=ob({prop:c,defaultProp:u,onChange:f}),V=g.useRef(null),B=w?!!w.closest("form"):!0,[z,G]=g.useState(new Set),X=Array.from(z).map(J=>J.props.value).join(";");return g.createElement(HL,j,g.createElement(hF,{required:x,scope:t,trigger:w,onTriggerChange:S,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:b_(),value:R,onValueChange:M,open:A,onOpenChange:C,dir:D,triggerPointerDownPosRef:V,disabled:y},g.createElement(Od.Provider,{scope:t},g.createElement(mF,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(J=>{G(ee=>new Set(ee).add(J))},[]),onNativeOptionRemove:g.useCallback(J=>{G(ee=>{const I=new Set(ee);return I.delete(J),I})},[])},r)),B?g.createElement(tN,{key:X,"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:R,onChange:J=>M(J.target.value),disabled:y},R===void 0?g.createElement("option",{value:""}):null,Array.from(z)):null))},gF="SelectTrigger",yF=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,l=Sv(r),c=Bi(gF,r),u=c.disabled||n,f=er(t,c.onTriggerChange),h=$d(r),[m,p,y]=rN(j=>{const w=h().filter(k=>!k.disabled),S=w.find(k=>k.value===c.value),N=nN(w,j,S);N!==void 0&&c.onValueChange(N.value)}),x=()=>{u||(c.onOpenChange(!0),y())};return g.createElement(qL,Je({asChild:!0},l),g.createElement(Wt.button,Je({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":c.value===void 0?"":void 0},o,{ref:f,onClick:Mt(o.onClick,j=>{j.currentTarget.focus()}),onPointerDown:Mt(o.onPointerDown,j=>{const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&(x(),c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)},j.preventDefault())}),onKeyDown:Mt(o.onKeyDown,j=>{const w=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&p(j.key),!(w&&j.key===" ")&&uF.includes(j.key)&&(x(),j.preventDefault())})})))}),xF="SelectValue",wF=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:l,placeholder:c,...u}=e,f=Bi(xF,r),{onValueNodeHasChildrenChange:h}=f,m=l!==void 0,p=er(t,f.onValueNodeChange);return zr(()=>{h(m)},[h,m]),g.createElement(Wt.span,Je({},u,{ref:p,style:{pointerEvents:"none"}}),f.value===void 0&&c!==void 0?c:l)}),bF=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return g.createElement(Wt.span,Je({"aria-hidden":!0},o,{ref:t}),n||"▼")}),jF=e=>g.createElement(GL,Je({asChild:!0},e)),Ko="SelectContent",SF=g.forwardRef((e,t)=>{const r=Bi(Ko,e.__scopeSelect),[n,o]=g.useState();if(zr(()=>{o(new DocumentFragment)},[]),!r.open){const l=n;return l?Ri.createPortal(g.createElement(Q_,{scope:e.__scopeSelect},g.createElement(Od.Slot,{scope:e.__scopeSelect},g.createElement("div",null,e.children))),l):null}return g.createElement(_F,Je({},e,{ref:t}))}),Fn=10,[Q_,zi]=la(Ko),_F=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:x,sticky:j,hideWhenDetached:w,avoidCollisions:S,...N}=e,k=Bi(Ko,r),[E,P]=g.useState(null),[D,A]=g.useState(null),C=er(t,ue=>P(ue)),[R,M]=g.useState(null),[V,B]=g.useState(null),z=$d(r),[G,X]=g.useState(!1),J=g.useRef(!1);g.useEffect(()=>{if(E)return av(E)},[E]),L5();const ee=g.useCallback(ue=>{const[me,...de]=z().map(De=>De.ref.current),[he]=de.slice(-1),Ee=document.activeElement;for(const De of ue)if(De===Ee||(De==null||De.scrollIntoView({block:"nearest"}),De===me&&D&&(D.scrollTop=0),De===he&&D&&(D.scrollTop=D.scrollHeight),De==null||De.focus(),document.activeElement!==Ee))return},[z,D]),I=g.useCallback(()=>ee([R,E]),[ee,R,E]);g.useEffect(()=>{G&&I()},[G,I]);const{onOpenChange:F,triggerPointerDownPosRef:K}=k;g.useEffect(()=>{if(E){let ue={x:0,y:0};const me=he=>{var Ee,De,Re,et;ue={x:Math.abs(Math.round(he.pageX)-((Ee=(De=K.current)===null||De===void 0?void 0:De.x)!==null&&Ee!==void 0?Ee:0)),y:Math.abs(Math.round(he.pageY)-((Re=(et=K.current)===null||et===void 0?void 0:et.y)!==null&&Re!==void 0?Re:0))}},de=he=>{ue.x<=10&&ue.y<=10?he.preventDefault():E.contains(he.target)||F(!1),document.removeEventListener("pointermove",me),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",de,{capture:!0})}}},[E,F,K]),g.useEffect(()=>{const ue=()=>F(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[F]);const[Z,$]=rN(ue=>{const me=z().filter(Ee=>!Ee.disabled),de=me.find(Ee=>Ee.ref.current===document.activeElement),he=nN(me,ue,de);he&&setTimeout(()=>he.ref.current.focus())}),q=g.useCallback((ue,me,de)=>{const he=!J.current&&!de;(k.value!==void 0&&k.value===me||he)&&(M(ue),he&&(J.current=!0))},[k.value]),fe=g.useCallback(()=>E==null?void 0:E.focus(),[E]),ve=g.useCallback((ue,me,de)=>{const he=!J.current&&!de;(k.value!==void 0&&k.value===me||he)&&B(ue)},[k.value]),Ne=n==="popper"?ub:NF,Se=Ne===ub?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:x,sticky:j,hideWhenDetached:w,avoidCollisions:S}:{};return g.createElement(Q_,{scope:r,content:E,viewport:D,onViewportChange:A,itemRefCallback:q,selectedItem:R,onItemLeave:fe,itemTextRefCallback:ve,focusSelectedItem:I,selectedItemText:V,position:n,isPositioned:G,searchRef:Z},g.createElement(J_,{as:Pl,allowPinchZoom:!0},g.createElement(F5,{asChild:!0,trapped:k.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Mt(o,ue=>{var me;(me=k.trigger)===null||me===void 0||me.focus({preventScroll:!0}),ue.preventDefault()})},g.createElement($5,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>k.onOpenChange(!1)},g.createElement(Ne,Je({role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ue=>ue.preventDefault()},N,Se,{onPlaced:()=>X(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Mt(N.onKeyDown,ue=>{const me=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!me&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let he=z().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ee=ue.target,De=he.indexOf(Ee);he=he.slice(De+1)}setTimeout(()=>ee(he)),ue.preventDefault()}})}))))))}),NF=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,l=Bi(Ko,r),c=zi(Ko,r),[u,f]=g.useState(null),[h,m]=g.useState(null),p=er(t,C=>m(C)),y=$d(r),x=g.useRef(!1),j=g.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:N,focusSelectedItem:k}=c,E=g.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&w&&S&&N){const C=l.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),M=l.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(l.dir!=="rtl"){const Ee=V.left-R.left,De=M.left-Ee,Re=C.left-De,et=C.width+Re,vt=Math.max(et,R.width),Er=window.innerWidth-Fn,Tr=Ww(De,[Fn,Er-vt]);u.style.minWidth=et+"px",u.style.left=Tr+"px"}else{const Ee=R.right-V.right,De=window.innerWidth-M.right-Ee,Re=window.innerWidth-C.right-De,et=C.width+Re,vt=Math.max(et,R.width),Er=window.innerWidth-Fn,Tr=Ww(De,[Fn,Er-vt]);u.style.minWidth=et+"px",u.style.right=Tr+"px"}const B=y(),z=window.innerHeight-Fn*2,G=w.scrollHeight,X=window.getComputedStyle(h),J=parseInt(X.borderTopWidth,10),ee=parseInt(X.paddingTop,10),I=parseInt(X.borderBottomWidth,10),F=parseInt(X.paddingBottom,10),K=J+ee+G+F+I,Z=Math.min(S.offsetHeight*5,K),$=window.getComputedStyle(w),q=parseInt($.paddingTop,10),fe=parseInt($.paddingBottom,10),ve=C.top+C.height/2-Fn,Ne=z-ve,Se=S.offsetHeight/2,ue=S.offsetTop+Se,me=J+ee+ue,de=K-me;if(me<=ve){const Ee=S===B[B.length-1].ref.current;u.style.bottom="0px";const De=h.clientHeight-w.offsetTop-w.offsetHeight,Re=Math.max(Ne,Se+(Ee?fe:0)+De+I),et=me+Re;u.style.height=et+"px"}else{const Ee=S===B[0].ref.current;u.style.top="0px";const Re=Math.max(ve,J+w.offsetTop+(Ee?q:0)+Se)+de;u.style.height=Re+"px",w.scrollTop=me-ve+w.offsetTop}u.style.margin=`${Fn}px 0`,u.style.minHeight=Z+"px",u.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[y,l.trigger,l.valueNode,u,h,w,S,N,l.dir,n]);zr(()=>E(),[E]);const[P,D]=g.useState();zr(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const A=g.useCallback(C=>{C&&j.current===!0&&(E(),k==null||k(),j.current=!1)},[E,k]);return g.createElement(CF,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:A},g.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},g.createElement(Wt.div,Je({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),ub=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Fn,...l}=e,c=Sv(r);return g.createElement(YL,Je({},c,l,{ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[CF,_v]=la(Ko,{}),db="SelectViewport",kF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=zi(db,r),l=_v(db,r),c=er(t,o.onViewportChange),u=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(Od.Slot,{scope:r},g.createElement(Wt.div,Je({"data-radix-select-viewport":"",role:"presentation"},n,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:Mt(n.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&m){const y=Math.abs(u.current-h.scrollTop);if(y>0){const x=window.innerHeight-Fn*2,j=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),S=Math.max(j,w);if(S<x){const N=S+y,k=Math.min(x,N),E=N-k;m.style.height=k+"px",m.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})}))))}),PF="SelectGroup",[uV,EF]=la(PF),TF="SelectLabel",AF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=EF(TF,r);return g.createElement(Wt.div,Je({id:o.id},n,{ref:t}))}),gp="SelectItem",[DF,Z_]=la(gp),RF=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:l,...c}=e,u=Bi(gp,r),f=zi(gp,r),h=u.value===n,[m,p]=g.useState(l??""),[y,x]=g.useState(!1),j=er(t,N=>{var k;return(k=f.itemRefCallback)===null||k===void 0?void 0:k.call(f,N,n,o)}),w=b_(),S=()=>{o||(u.onValueChange(n),u.onOpenChange(!1))};return g.createElement(DF,{scope:r,value:n,disabled:o,textId:w,isSelected:h,onItemTextChange:g.useCallback(N=>{p(k=>{var E;return k||((E=N==null?void 0:N.textContent)!==null&&E!==void 0?E:"").trim()})},[])},g.createElement(Od.ItemSlot,{scope:r,value:n,disabled:o,textValue:m},g.createElement(Wt.div,Je({role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},c,{ref:j,onFocus:Mt(c.onFocus,()=>x(!0)),onBlur:Mt(c.onBlur,()=>x(!1)),onPointerUp:Mt(c.onPointerUp,S),onPointerMove:Mt(c.onPointerMove,N=>{if(o){var k;(k=f.onItemLeave)===null||k===void 0||k.call(f)}else N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(c.onPointerLeave,N=>{if(N.currentTarget===document.activeElement){var k;(k=f.onItemLeave)===null||k===void 0||k.call(f)}}),onKeyDown:Mt(c.onKeyDown,N=>{var k;((k=f.searchRef)===null||k===void 0?void 0:k.current)!==""&&N.key===" "||(dF.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})}))))}),Ru="SelectItemText",OF=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...l}=e,c=Bi(Ru,r),u=zi(Ru,r),f=Z_(Ru,r),h=pF(Ru,r),[m,p]=g.useState(null),y=er(t,N=>p(N),f.onItemTextChange,N=>{var k;return(k=u.itemTextRefCallback)===null||k===void 0?void 0:k.call(u,N,f.value,f.disabled)}),x=m==null?void 0:m.textContent,j=g.useMemo(()=>g.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},x),[f.disabled,f.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=h;return zr(()=>(w(j),()=>S(j)),[w,S,j]),g.createElement(g.Fragment,null,g.createElement(Wt.span,Je({id:f.textId},l,{ref:y})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ri.createPortal(l.children,c.valueNode):null)}),$F="SelectItemIndicator",MF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Z_($F,r).isSelected?g.createElement(Wt.span,Je({"aria-hidden":!0},n,{ref:t})):null}),fb="SelectScrollUpButton",IF=g.forwardRef((e,t)=>{const r=zi(fb,e.__scopeSelect),n=_v(fb,e.__scopeSelect),[o,l]=g.useState(!1),c=er(t,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollTop>0;l(h)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?g.createElement(eN,Je({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}})):null}),hb="SelectScrollDownButton",LF=g.forwardRef((e,t)=>{const r=zi(hb,e.__scopeSelect),n=_v(hb,e.__scopeSelect),[o,l]=g.useState(!1),c=er(t,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;l(m)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?g.createElement(eN,Je({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}})):null}),eN=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,l=zi("SelectScrollButton",r),c=g.useRef(null),u=$d(r),f=g.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return g.useEffect(()=>()=>f(),[f]),zr(()=>{var h;const m=u().find(p=>p.ref.current===document.activeElement);m==null||(h=m.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[u]),g.createElement(Wt.div,Je({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:Mt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Mt(o.onPointerMove,()=>{var h;(h=l.onItemLeave)===null||h===void 0||h.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Mt(o.onPointerLeave,()=>{f()})}))}),FF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return g.createElement(Wt.div,Je({"aria-hidden":!0},n,{ref:t}))}),tN=g.forwardRef((e,t)=>{const{value:r,...n}=e,o=g.useRef(null),l=er(t,o),c=XL(r);return g.useEffect(()=>{const u=o.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==r&&m){const p=new Event("change",{bubbles:!0});m.call(u,r),u.dispatchEvent(p)}},[c,r]),g.createElement(JL,{asChild:!0},g.createElement("select",Je({},n,{ref:l,defaultValue:r})))});tN.displayName="BubbleSelect";function rN(e){const t=Xn(e),r=g.useRef(""),n=g.useRef(0),o=g.useCallback(c=>{const u=r.current+c;t(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),l=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,l]}function nN(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=UF(e,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function UF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const VF=vF,sN=yF,BF=wF,zF=bF,WF=jF,iN=SF,HF=kF,oN=AF,aN=RF,qF=OF,YF=MF,lN=IF,cN=LF,uN=FF,Jt=VF,Qt=BF,Vt=le.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(sN,{ref:n,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(zF,{asChild:!0,children:i.jsx(Zp,{className:"h-4 w-4 opacity-50"})})]}));Vt.displayName=sN.displayName;const dN=le.forwardRef(({className:e,...t},r)=>i.jsx(lN,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(T1,{className:"h-4 w-4"})}));dN.displayName=lN.displayName;const fN=le.forwardRef(({className:e,...t},r)=>i.jsx(cN,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Zp,{className:"h-4 w-4"})}));fN.displayName=cN.displayName;const Bt=le.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>i.jsx(WF,{children:i.jsxs(iN,{ref:o,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(dN,{}),i.jsx(HF,{className:ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(fN,{})]})}));Bt.displayName=iN.displayName;const GF=le.forwardRef(({className:e,...t},r)=>i.jsx(oN,{ref:r,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));GF.displayName=oN.displayName;const Ie=le.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(aN,{ref:n,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(YF,{children:i.jsx(E1,{className:"h-4 w-4"})})}),i.jsx(qF,{children:t})]}));Ie.displayName=aN.displayName;const KF=le.forwardRef(({className:e,...t},r)=>i.jsx(uN,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));KF.displayName=uN.displayName;const bm=25,XF=()=>{var ee;const e=$i(),t=new URLSearchParams(e.search),r=t.get("featured"),n=t.get("search"),[o,l]=g.useState(n||""),[c,u]=g.useState(n||""),[f,h]=g.useState("all"),[m,p]=g.useState("name-asc"),[y,x]=g.useState([]),[j,w]=g.useState([]),[S,N]=g.useState(!0),[k,E]=g.useState(!1),[P,D]=g.useState(!0),[A,C]=g.useState(0);g.useEffect(()=>{const I=setTimeout(()=>{(o.length>=2||o.length===0)&&u(o)},300);return()=>clearTimeout(I)},[o]),g.useEffect(()=>{R()},[]),g.useEffect(()=>{C(0),x([]),D(!0),M(!0)},[c,f,m,r]);const R=async()=>{try{let I=zn("categories_all");if(!I){const{data:F,error:K}=await ie.from("categories").select("*").order("name");if(K)throw K;I=F||[],Bn("categories_all",I)}w(I)}catch(I){console.error("Error fetching categories:",I)}},M=async(I=!1)=>{const F=I?0:A,K=`products_${r||"all"}_${c||"all"}_${f}_${m}_${F}`;I?N(!0):E(!0);try{let Z=zn(K),$=[];if(Z)$=Z;else{let q=ie.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `);if(r==="true"&&(q=q.eq("featured",!0)),c&&c.length>=2&&(q=q.or(`name.ilike.%${c}%,description.ilike.%${c}%`)),f!=="all"){const ue=parseInt(f);q=q.or(`category_id.eq.${ue},categories_ids.cs.[${ue}]`)}switch(m){case"name-asc":q=q.order("name",{ascending:!0});break;case"name-desc":q=q.order("name",{ascending:!1});break;case"price-asc":q=q.order("price",{ascending:!0});break;case"price-desc":q=q.order("price",{ascending:!1});break;default:q=q.order("name",{ascending:!0});break}const fe=F*bm,ve=fe+bm-1;q=q.range(fe,ve);const{data:Ne,error:Se}=await q;if(Se)throw Se;$=Ne||[],Bn(K,$)}I?(x($),C(1)):(x(q=>[...q,...$]),C(q=>q+1)),D($.length===bm)}catch(Z){console.error("Error fetching products:",Z)}finally{N(!1),E(!1)}},V=()=>{!k&&P&&M(!1)},B=I=>{l(I)},z=I=>{h(I)},G=I=>{p(I)},X=()=>{l(""),u(""),h("all"),p("name-asc")},J=o||f!=="all"||m!=="name-asc";return i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsxs("section",{className:"relative min-h-[280px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:"/banner_bg.jpeg",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),i.jsx("div",{className:"container relative h-full px-4 md:px-6",children:i.jsx("div",{className:"flex flex-col justify-center h-full py-5",children:i.jsxs(ye.div,{className:"space-y-3 max-w-4xl mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:r==="true"?"Featured Products":"Shop"}),i.jsx("p",{className:"text-white/90 text-sm",children:"Browse from our selection of groceries, household essentials and more."}),n&&i.jsxs("p",{className:"text-white/80 text-xs mt-1",children:['Showing results for: "',n,'"']})]}),i.jsx(ye.div,{className:"relative max-w-xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:i.jsxs("div",{className:"relative",children:[i.jsx(ev,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),i.jsx(xe,{type:"search",placeholder:"Search for products...",className:"h-9 pl-10 pr-4 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500",value:o,onChange:I=>B(I.target.value)}),o.length>0&&o.length<2&&i.jsx("p",{className:"absolute -bottom-4 left-0 text-xs text-white/80",children:"Enter at least 2 characters to search"})]})}),i.jsxs(ye.div,{className:"flex flex-col sm:flex-row gap-2 items-center justify-center max-w-3xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:[i.jsx("div",{className:"w-full sm:w-auto min-w-[160px]",children:i.jsxs(Jt,{value:f,onValueChange:z,children:[i.jsx(Vt,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:i.jsx(Qt,{placeholder:"All Categories"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"all",children:"All Categories"}),j.map(I=>i.jsx(Ie,{value:I.id.toString(),children:I.name},I.id))]})]})}),i.jsx("div",{className:"w-full sm:w-auto min-w-[140px]",children:i.jsxs(Jt,{value:m,onValueChange:G,children:[i.jsx(Vt,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:i.jsx(Qt,{placeholder:"Sort by"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"name-asc",children:"Name (A-Z)"}),i.jsx(Ie,{value:"name-desc",children:"Name (Z-A)"}),i.jsx(Ie,{value:"price-asc",children:"Price (Low to High)"}),i.jsx(Ie,{value:"price-desc",children:"Price (High to Low)"})]})]})}),J&&i.jsxs(Q,{variant:"outline",size:"sm",className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg hover:bg-white text-gray-800 h-8 text-xs",onClick:X,children:[i.jsx(Ys,{className:"w-3 h-3 mr-1"}),"Reset"]})]}),J&&i.jsxs(ye.div,{className:"flex flex-wrap gap-1 justify-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:[o&&i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:['Search: "',o,'"']}),f!=="all"&&i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Category: ",(ee=j.find(I=>I.id.toString()===f))==null?void 0:ee.name]}),m!=="name-asc"&&i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Sort: ",m.replace("-"," ").replace(/\b\w/g,I=>I.toUpperCase())]})]})]})})})]}),i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:S?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-32 p-8 text-center border rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium",children:"No products found"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter criteria."}),J&&i.jsx(Q,{onClick:X,className:"mt-4",variant:"outline",children:"Clear all filters"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-6",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",y.length," product",y.length!==1?"s":"",J&&" matching your criteria"]})}),i.jsx("div",{className:"product-grid",children:y.map(I=>i.jsx(Ju,{product:I},I.id))}),P&&i.jsx("div",{className:"flex justify-center mt-8",children:i.jsx(Q,{onClick:V,disabled:k,variant:"outline",size:"lg",children:k?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More Products"})})]})})]})},JF=({category:e})=>i.jsx(Ce,{to:`/category/${e.id}`,children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.03},className:"category-card overflow-hidden rounded-lg border bg-card",children:[i.jsx("div",{className:"aspect-square mx-auto bg-muted",children:i.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.icon_url||"https://images.unsplash.com/photo-1491696888587-6a2c0225c9fb"})}),i.jsxs("div",{className:"p-3 text-center",children:[i.jsx("h3",{className:"text-sm font-medium",children:e.name}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:e.description}),i.jsxs("div",{className:"flex items-center justify-center mt-2 text-primary",children:[i.jsx("span",{className:"text-xs font-medium",children:"Shop now"}),i.jsx(ep,{className:"ml-1 h-3 w-3"})]})]})]})}),QF=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{let l=zn("categories_all");if(l)t(l);else{const{data:c,error:u}=await ie.from("categories").select("*").order("name");if(u)throw u;t(c||[]),Bn("categories_all",c||[])}}catch(l){console.error("Error fetching categories:",l)}finally{n(!1)}})()},[]),r?i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsxs("section",{className:"relative h-[30vh] min-h-[200px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:"/banner_bg.jpeg",alt:"Fresh groceries",className:"w-full h-full object-cover opacity-20"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),i.jsx("div",{className:"container relative h-full px-4 md:px-6",children:i.jsx("div",{className:"flex flex-col justify-center h-full max-w-2xl",children:i.jsxs(ye.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Categories"}),i.jsx("p",{className:"text-white/90",children:"Browse our selection of grocery categories to find exactly what you need."})]})})})]}),i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map((o,l)=>i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.05},children:i.jsx(JF,{category:o})},o.id))})})]})},ZF=()=>{const{id:e}=ad(),[t,r]=g.useState(null),[n,o]=g.useState([]),[l,c]=g.useState(!0),[u,f]=g.useState("");g.useEffect(()=>{(async()=>{if(e){c(!0);try{let p=zn(`category_${e}`),y=zn(`category_products_${e}`);if(!p){const{data:x,error:j}=await ie.from("categories").select("*").eq("id",e).single();if(j)throw j;p=x,Bn(`category_${e}`,x)}if(r(p),!y){const{data:x,error:j}=await ie.from("products").select("*, categories ( id, name )").or(`category_id.eq.${e},categories_ids.cs.[${e}]`).order("name");if(j)throw j;y=x||[],Bn(`category_products_${e}`,y)}o(y)}catch(p){console.error("Error fetching category or products:",p)}finally{c(!1)}}})()},[e]);const h=n.filter(m=>m.name.toLowerCase().includes(u.toLowerCase())||m.description&&m.description.toLowerCase().includes(u.toLowerCase()));return l?i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?i.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs(Ce,{to:"/categories",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[i.jsx(Wo,{className:"w-4 h-4 mr-1"}),"Back to Categories"]})}),i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:i.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg bg-muted mb-4",style:t!=null&&t.icon_url?{backgroundImage:`url(${t.icon_url})`,backgroundRepeat:"repeat",backgroundSize:"60px",backgroundPosition:"center"}:{},children:[i.jsx("div",{className:"absolute inset-0 bg-[#3CB371] opacity-90"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsxs("div",{className:"absolute bottom-0 left-0 p-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:t.name}),i.jsx("p",{className:"mt-2 text-white/90",children:t.description})]})]})}),i.jsxs("div",{className:"relative mb-6",children:[i.jsx(ev,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(xe,{type:"text",placeholder:`Search products in ${t.name}...`,value:u,onChange:m=>f(m.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),h.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-8 text-center border rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium",children:u?`No products found matching "${u}"`:"No products found"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:u?"Try a different search term.":"There are currently no products in this category."}),!u&&i.jsx(Ce,{to:"/shop",children:i.jsx(Q,{className:"mt-4",children:"Browse All Products"})})]}):i.jsxs("div",{className:"product-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[" ",h.map(m=>i.jsx(Ju,{product:m},m.id))]})]}):i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Category Not Found"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"The category you're looking for doesn't exist."}),i.jsx(Ce,{to:"/categories",children:i.jsx(Q,{className:"mt-4",children:"Browse All Categories"})})]})})},e6=()=>{const{id:e}=ad(),[t,r]=g.useState(null),[n,o]=g.useState(!0),{addToCart:l,updateQuantity:c,cart:u}=Ws();g.useEffect(()=>{(async()=>{if(e)try{const{data:x,error:j}=await ie.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `).eq("id",e).single();if(j)throw j;r(x)}catch(x){console.error("Error fetching product:",x)}finally{o(!1)}})()},[e]);const f=u.find(y=>(y==null?void 0:y.id)===(t==null?void 0:t.id)),h=f?f.quantity:0,m=y=>{t&&c(t.id,y)},p=()=>{t&&l(t,1)};return n?i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?i.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs(Ce,{to:"/shop",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[i.jsx(Wo,{className:"w-4 h-4 mr-1"}),"Back to Shop"]})}),i.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[i.jsx(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"overflow-hidden rounded-lg bg-muted aspect-square",children:i.jsx("img",{alt:t.name,className:"w-full h-full object-cover",src:t.image_url||"https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg"})}),i.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[t.categories&&i.jsx(Ce,{to:`/category/${t.categories.id}`,className:"inline-block px-3 py-1 text-xs font-medium rounded-full bg-primary/10 text-primary",children:t.categories.name}),i.jsx("h1",{className:"text-3xl font-bold",children:t.name}),i.jsxs("div",{className:"flex items-baseline space-x-2",children:[i.jsx("span",{className:"text-2xl font-bold",children:Pe(t.price)}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["per ",t.unit]})]}),i.jsx("p",{className:"text-muted-foreground",children:t.description}),i.jsxs("div",{className:"pt-6 border-t",children:[i.jsx("div",{className:"flex items-center space-x-4",children:h>0?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Q,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(h-1),children:i.jsx(zl,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-sm font-medium w-6 text-center",children:h}),i.jsx(Q,{size:"icon",className:"h-8 w-8",onClick:()=>m(h+1),children:i.jsx(ra,{className:"h-4 w-4"})})]}):i.jsxs(Q,{className:"flex-1",onClick:p,disabled:!t.in_stock,children:[i.jsx(Pi,{className:"w-4 h-4 mr-2"}),t.in_stock?"Add to Cart":"Out of Stock"]})}),h>0&&i.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Total:"})," ",Pe(t.price*h)]})})]})]})]})]}):i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Product Not Found"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"The product you're looking for doesn't exist."}),i.jsx(Ce,{to:"/shop",children:i.jsx(Q,{className:"mt-4",children:"Browse All Products"})})]})})};function hN(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Nv(e){const[t,r]=g.useState(void 0);return Kn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Md="Checkbox",[t6,dV]=_n(Md),[r6,n6]=t6(Md),mN=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...p}=e,[y,x]=g.useState(null),j=bt(t,P=>x(P)),w=g.useRef(!1),S=y?m||!!y.closest("form"):!0,[N,k]=Vi({prop:o,defaultProp:l??!1,onChange:h,caller:Md}),E=g.useRef(N);return g.useEffect(()=>{const P=y==null?void 0:y.form;if(P){const D=()=>k(E.current);return P.addEventListener("reset",D),()=>P.removeEventListener("reset",D)}},[y,k]),i.jsxs(r6,{scope:r,state:N,disabled:u,children:[i.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Is(N)?"mixed":N,"aria-required":c,"data-state":yN(N),"data-disabled":u?"":void 0,disabled:u,value:f,...p,ref:j,onKeyDown:We(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:We(e.onClick,P=>{k(D=>Is(D)?!0:!D),S&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),S&&i.jsx(gN,{control:y,bubbles:!w.current,name:n,value:f,checked:N,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Is(l)?!1:l})]})});mN.displayName=Md;var pN="CheckboxIndicator",vN=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,l=n6(pN,r);return i.jsx(Nn,{present:n||Is(l.state)||l.state===!0,children:i.jsx(Ye.span,{"data-state":yN(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});vN.displayName=pN;var s6="CheckboxBubbleInput",gN=g.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:o,...l},c)=>{const u=g.useRef(null),f=bt(u,c),h=hN(r),m=Nv(t);g.useEffect(()=>{const y=u.current;if(!y)return;const x=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(x,"checked").set;if(h!==r&&w){const S=new Event("click",{bubbles:n});y.indeterminate=Is(r),w.call(y,Is(r)?!1:r),y.dispatchEvent(S)}},[h,r,n]);const p=g.useRef(Is(r)?!1:r);return i.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,...l,tabIndex:-1,ref:f,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gN.displayName=s6;function Is(e){return e==="indeterminate"}function yN(e){return Is(e)?"indeterminate":e?"checked":"unchecked"}var xN=mN,i6=vN;const Zn=le.forwardRef(({className:e,...t},r)=>i.jsx(xN,{ref:r,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(i6,{className:ke("flex items-center justify-center text-current"),children:i.jsx(E1,{className:"h-4 w-4"})})}));Zn.displayName=xN.displayName;const ln=le.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ln.displayName="Textarea";const wN=({onSelect:e})=>{const{user:t}=ir(),r=(t==null?void 0:t.addresses)||[];return i.jsx("div",{className:"space-y-2",children:r.map(n=>i.jsxs(Q,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>e(n.address),children:[i.jsx(Ho,{className:"w-4 h-4 mr-2"}),i.jsxs("div",{className:"flex flex-col items-start",children:[i.jsx("span",{className:"font-medium",children:n.label}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:n.address})]})]},n.id))})},Id=({value:e,onChange:t,onAddressSelect:r,placeholder:n="Enter your address",className:o,disabled:l,...c})=>{const[u,f]=g.useState([]),[h,m]=g.useState(!1),[p,y]=g.useState(!1),x=g.useRef(null),j=g.useRef(null),w=g.useRef(!1),S=g.useRef(),N=async A=>{y(!0);try{if(A.length>=3){const C=await ie.from("adelaide_address_data").select("ADDRESS_LA, LOCALITY_N, POSTCODE").ilike("ADDRESS_LA",`%${A.toUpperCase()}%`).limit(50);if(C.error)throw C.error;const R=k(C.data);f(R),m(R.length>0);return}f([]),m(!1)}catch(C){console.error("Error searching addresses:",C),f([]),m(!1)}finally{y(!1)}};g.useEffect(()=>{if(w.current){w.current=!1;return}if(!e||e.length<3){f([]),m(!1);return}return clearTimeout(S.current),S.current=setTimeout(()=>{N(e)},400),()=>clearTimeout(S.current)},[e]);const k=A=>{const C={ADDRESS_LA:"address",LOCALITY_N:"suburb",POSTCODE:"postcode"};return A.map(R=>{const M={};for(const V in R)M[C[V]||V]=R[V];return M})},E=A=>{t(A.target.value)},P=A=>{w.current=!0,t(A.address),m(!1),r&&r({address:A.address,suburb:A.suburb.toUpperCase(),postcode:A.postcode})},D=A=>{A.key==="Escape"&&m(!1)};return g.useEffect(()=>{const A=C=>{x.current&&!x.current.contains(C.target)&&j.current&&!j.current.contains(C.target)&&m(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{ref:x,value:e,onChange:E,onKeyDown:D,placeholder:n,className:o,disabled:l,...c}),h&&u.length>0&&i.jsx("div",{ref:j,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:u.map((A,C)=>i.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>P(A),children:[i.jsx("div",{className:"text-sm font-medium",children:A.address}),i.jsxs("div",{className:"text-xs text-gray-500",children:[A.suburb,", ",A.postcode]})]},C))}),p&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]})},o6=({onDetailsChange:e,errors:t})=>{var E;const{user:r}=ir(),[n,o]=g.useState({name:"",email:"",phone:"",address:"",postcode:"",deliveryNotes:""}),[l,c]=g.useState(!1),[u,f]=g.useState([]),[h,m]=g.useState([]),[p,y]=g.useState(""),[x,j]=g.useState(!1);g.useEffect(()=>{r&&o({name:r.name||"",email:r.email||"",phone:r.phone||"",address:"",postcode:"",deliveryNotes:""})},[r]),g.useEffect(()=>{(async()=>{const{data:D,error:A}=await ie.from("postcodes").select("*").order("suburb");if(A){console.error("Error fetching postcodes:",A);return}f(D),m(D)})()},[]),g.useEffect(()=>{if(p.length===0)m(u);else{const P=u.filter(D=>D.suburb.toLowerCase().includes(p.toLowerCase())||D.postcode.includes(p));m(P)}},[p,u]),g.useEffect(()=>{e({...n})},[n,e]);const w=P=>{const{name:D,value:A}=P.target;o(C=>({...C,[D]:A}))},S=P=>{const D=r.addresses.find(A=>A.address===P);if(D){o(C=>({...C,address:D.address,postcode:D.postcode}));const A=u.find(C=>C.postcode===D.postcode);A&&y(`${A.suburb}, ${A.postcode}`)}c(!1)},N=P=>{o(D=>({...D,address:P.address,postcode:P.postcode})),y(`${P.suburb.toUpperCase()}, ${P.postcode}`)},k=P=>{o(D=>({...D,postcode:P.postcode})),y(`${P.suburb}, ${P.postcode}`),j(!1)};return i.jsxs("div",{className:"p-6 border rounded-lg",children:[i.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(tv,{className:"mr-2 h-5 w-5 text-primary"}),"Delivery Information"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Full Name"}),i.jsx(xe,{id:"name",name:"name",value:n.name,onChange:w,className:t!=null&&t.name?"border-destructive":""}),(t==null?void 0:t.name)&&i.jsx("p",{className:"text-xs text-destructive",children:t.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"email",children:"Email (Optional)"}),i.jsx(xe,{id:"email",name:"email",type:"email",value:n.email,onChange:w,className:t!=null&&t.email?"border-destructive":""}),(t==null?void 0:t.email)&&i.jsx("p",{className:"text-xs text-destructive",children:t.email})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),i.jsx(xe,{id:"phone",name:"phone",value:n.phone,onChange:w,className:t!=null&&t.phone?"border-destructive":""}),(t==null?void 0:t.phone)&&i.jsx("p",{className:"text-xs text-destructive",children:t.phone})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(oe,{htmlFor:"address",children:"Delivery Address"}),r&&((E=r.addresses)==null?void 0:E.length)>0&&i.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"flex items-center text-primary",children:[i.jsx(Ho,{className:"w-4 h-4 mr-1"}),l?"Hide saved addresses":"Use saved address"]})]}),l&&i.jsx(wN,{onSelect:S}),i.jsx(Id,{value:n.address,onChange:P=>o(D=>({...D,address:P})),onAddressSelect:N,placeholder:"Start typing your address...",className:t!=null&&t.address?"border-destructive":""}),(t==null?void 0:t.address)&&i.jsx("p",{className:"text-xs text-destructive",children:t.address})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:p,onChange:P=>{y(P.target.value),j(!0)},onFocus:()=>j(!0),className:t!=null&&t.postcode?"border-destructive":""}),x&&h.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.slice(0,10).map(P=>i.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>k(P),children:[i.jsx("div",{className:"text-sm font-medium",children:P.suburb}),i.jsx("div",{className:"text-xs text-gray-500",children:P.postcode})]},`${P.suburb}-${P.postcode}`))})]}),(t==null?void 0:t.postcode)&&i.jsx("p",{className:"text-xs text-destructive",children:t.postcode})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"deliveryNotes",children:"Delivery Notes (Optional)"}),i.jsx(ln,{id:"deliveryNotes",name:"deliveryNotes",value:n.deliveryNotes,onChange:w,placeholder:"E.g., Leave at the door, call upon arrival, etc.",rows:3})]})]})]})};var a6="Separator",mb="horizontal",l6=["horizontal","vertical"],bN=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=mb,...o}=e,l=c6(n)?n:mb,u=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return i.jsx(Ye.div,{"data-orientation":l,...u,...o,ref:t})});bN.displayName=a6;function c6(e){return l6.includes(e)}var jN=bN;const Al=le.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>i.jsx(jN,{ref:o,decorative:r,orientation:t,className:ke("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Al.displayName=jN.displayName;const u6=({deliveryFee:e=0,appliedPromo:t=null,discountAmount:r=0,serviceFee:n=0})=>{const{cart:o,getCartTotal:l}=Ws(),c=l(),u=c-r+e+n;return i.jsxs("div",{className:"sticky top-20 p-6 border rounded-lg bg-muted/20",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4 custom-scrollbar",children:o.length>0?o.map(f=>i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 mr-2",children:[i.jsx("p",{className:"font-medium text-sm leading-tight",children:f.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Pe(f.price)," x ",f.quantity]})]}),i.jsx("p",{className:"font-medium text-sm whitespace-nowrap",children:Pe(f.price*f.quantity)})]},f.id)):i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Your cart is empty."})}),i.jsx(Al,{className:"my-4"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),i.jsx("span",{children:Pe(c)})]}),t&&r>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Discount (",t.code,")"]}),i.jsxs("span",{children:["-",Pe(r)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),i.jsx("span",{children:Pe(e)})]}),n>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Service Fee"}),i.jsx("span",{children:Pe(n)})]}),i.jsx(Al,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-bold text-base pt-1",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:Pe(u)})]})]})]})};function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function It(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Oe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ve(e){Oe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Xo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ut(e,t){Oe(2,arguments);var r=Ve(e),n=It(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function cn(e,t){Oe(2,arguments);var r=Ve(e),n=It(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),l=new Date(r.getTime());l.setMonth(r.getMonth()+n+1,0);var c=l.getDate();return o>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),o),r)}function d6(e,t){Oe(2,arguments);var r=Ve(e).getTime(),n=It(t);return new Date(r+n)}var f6={};function Ks(){return f6}function Sn(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ks(),p=It((r=(n=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Ve(e),x=y.getDay(),j=(x<p?7:0)+x-p;return y.setDate(y.getDate()-j),y.setHours(0,0,0,0),y}function Ai(e){return Oe(1,arguments),Sn(e,{weekStartsOn:1})}function h6(e){Oe(1,arguments);var t=Ve(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=Ai(n),l=new Date(0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);var c=Ai(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function m6(e){Oe(1,arguments);var t=h6(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=Ai(r);return n}function Dl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Jo(e){Oe(1,arguments);var t=Ve(e);return t.setHours(0,0,0,0),t}var p6=864e5;function Wn(e,t){Oe(2,arguments);var r=Jo(e),n=Jo(t),o=r.getTime()-Dl(r),l=n.getTime()-Dl(n);return Math.round((o-l)/p6)}function yp(e,t){Oe(2,arguments);var r=It(t),n=r*7;return Ut(e,n)}function v6(e,t){Oe(2,arguments);var r=It(t);return cn(e,r*12)}function g6(e){Oe(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Xo(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=Ve(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function y6(e){Oe(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Xo(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=Ve(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function pr(e,t){Oe(2,arguments);var r=Jo(e),n=Jo(t);return r.getTime()===n.getTime()}function Cv(e){return Oe(1,arguments),e instanceof Date||Xo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function x6(e){if(Oe(1,arguments),!Cv(e)&&typeof e!="number")return!1;var t=Ve(e);return!isNaN(Number(t))}function Rl(e,t){Oe(2,arguments);var r=Ve(e),n=Ve(t),o=r.getFullYear()-n.getFullYear(),l=r.getMonth()-n.getMonth();return o*12+l}var w6=6048e5;function b6(e,t,r){Oe(2,arguments);var n=Sn(e,r),o=Sn(t,r),l=n.getTime()-Dl(n),c=o.getTime()-Dl(o);return Math.round((l-c)/w6)}function kv(e){Oe(1,arguments);var t=Ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function vr(e){Oe(1,arguments);var t=Ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function j6(e){Oe(1,arguments);var t=Ve(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Pv(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ks(),p=It((r=(n=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Ve(e),x=y.getDay(),j=(x<p?-7:0)+6-(x-p);return y.setDate(y.getDate()+j),y.setHours(23,59,59,999),y}function SN(e){return Oe(1,arguments),Pv(e,{weekStartsOn:1})}function S6(e,t){Oe(2,arguments);var r=It(t);return d6(e,-r)}var _6=864e5;function N6(e){Oe(1,arguments);var t=Ve(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),o=r-n;return Math.floor(o/_6)+1}function rd(e){Oe(1,arguments);var t=1,r=Ve(e),n=r.getUTCDay(),o=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function _N(e){Oe(1,arguments);var t=Ve(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=rd(n),l=new Date(0);l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0);var c=rd(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function C6(e){Oe(1,arguments);var t=_N(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=rd(r);return n}var k6=6048e5;function P6(e){Oe(1,arguments);var t=Ve(e),r=rd(t).getTime()-C6(t).getTime();return Math.round(r/k6)+1}function nd(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ks(),p=It((r=(n=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Ve(e),x=y.getUTCDay(),j=(x<p?7:0)+x-p;return y.setUTCDate(y.getUTCDate()-j),y.setUTCHours(0,0,0,0),y}function NN(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ve(e),p=m.getUTCFullYear(),y=Ks(),x=It((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:y.firstWeekContainsDate)!==null&&n!==void 0?n:(f=y.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(p+1,0,x),j.setUTCHours(0,0,0,0);var w=nd(j,t),S=new Date(0);S.setUTCFullYear(p,0,x),S.setUTCHours(0,0,0,0);var N=nd(S,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function E6(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ks(),p=It((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),y=NN(e,t),x=new Date(0);x.setUTCFullYear(y,0,p),x.setUTCHours(0,0,0,0);var j=nd(x,t);return j}var T6=6048e5;function A6(e,t){Oe(1,arguments);var r=Ve(e),n=nd(r,t).getTime()-E6(r,t).getTime();return Math.round(n/T6)+1}function Ze(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ns={y:function(t,r){var n=t.getUTCFullYear(),o=n>0?n:1-n;return Ze(r==="yy"?o%100:o,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Ze(n+1,2)},d:function(t,r){return Ze(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Ze(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Ze(t.getUTCHours(),r.length)},m:function(t,r){return Ze(t.getUTCMinutes(),r.length)},s:function(t,r){return Ze(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,o=t.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,n-3));return Ze(l,r.length)}},Eo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D6={G:function(t,r,n){var o=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var o=t.getUTCFullYear(),l=o>0?o:1-o;return n.ordinalNumber(l,{unit:"year"})}return Ns.y(t,r)},Y:function(t,r,n,o){var l=NN(t,o),c=l>0?l:1-l;if(r==="YY"){var u=c%100;return Ze(u,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ze(c,r.length)},R:function(t,r){var n=_N(t);return Ze(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Ze(n,r.length)},Q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Ze(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Ze(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){var o=t.getUTCMonth();switch(r){case"M":case"MM":return Ns.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){var o=t.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return Ze(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){var l=A6(t,o);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):Ze(l,r.length)},I:function(t,r,n){var o=P6(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):Ze(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ns.d(t,r)},D:function(t,r,n){var o=N6(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Ze(o,r.length)},E:function(t,r,n){var o=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){var l=t.getUTCDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return Ze(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){var l=t.getUTCDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return Ze(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(t,r,n){var o=t.getUTCDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return Ze(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){var o=t.getUTCHours(),l=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,r,n){var o=t.getUTCHours(),l;switch(o===12?l=Eo.noon:o===0?l=Eo.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,r,n){var o=t.getUTCHours(),l;switch(o>=17?l=Eo.evening:o>=12?l=Eo.afternoon:o>=4?l=Eo.morning:l=Eo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Ns.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ns.H(t,r)},K:function(t,r,n){var o=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Ze(o,r.length)},k:function(t,r,n){var o=t.getUTCHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):Ze(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ns.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ns.s(t,r)},S:function(t,r){return Ns.S(t,r)},X:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();if(c===0)return"Z";switch(r){case"X":return vb(c);case"XXXX":case"XX":return bi(c);case"XXXXX":case"XXX":default:return bi(c,":")}},x:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(r){case"x":return vb(c);case"xxxx":case"xx":return bi(c);case"xxxxx":case"xxx":default:return bi(c,":")}},O:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+pb(c,":");case"OOOO":default:return"GMT"+bi(c,":")}},z:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+pb(c,":");case"zzzz":default:return"GMT"+bi(c,":")}},t:function(t,r,n,o){var l=o._originalDate||t,c=Math.floor(l.getTime()/1e3);return Ze(c,r.length)},T:function(t,r,n,o){var l=o._originalDate||t,c=l.getTime();return Ze(c,r.length)}};function pb(e,t){var r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),l=n%60;if(l===0)return r+String(o);var c=t;return r+String(o)+c+Ze(l,2)}function vb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ze(Math.abs(e)/60,2)}return bi(e,t)}function bi(e,t){var r=t||"",n=e>0?"-":"+",o=Math.abs(e),l=Ze(Math.floor(o/60),2),c=Ze(o%60,2);return n+l+r+c}var gb=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},CN=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},R6=function(t,r){var n=t.match(/(P+)(p+)?/)||[],o=n[1],l=n[2];if(!l)return gb(t,r);var c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",gb(o,r)).replace("{{time}}",CN(l,r))},O6={p:CN,P:R6},$6=["D","DD"],M6=["YY","YYYY"];function I6(e){return $6.indexOf(e)!==-1}function L6(e){return M6.indexOf(e)!==-1}function yb(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var F6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U6=function(t,r,n){var o,l=F6[t];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function jm(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var V6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W6={date:jm({formats:V6,defaultWidth:"full"}),time:jm({formats:B6,defaultWidth:"full"}),dateTime:jm({formats:z6,defaultWidth:"full"})},H6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q6=function(t,r,n,o){return H6[t]};function ll(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;o=e.formattingValues[c]||e.formattingValues[l]}else{var u=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[f]||e.values[u]}var h=e.argumentCallback?e.argumentCallback(t):t;return o[h]}}var Y6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z6=function(t,r){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},e8={ordinalNumber:Z6,era:ll({values:Y6,defaultWidth:"wide"}),quarter:ll({values:G6,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ll({values:K6,defaultWidth:"wide"}),day:ll({values:X6,defaultWidth:"wide"}),dayPeriod:ll({values:J6,defaultWidth:"wide",formattingValues:Q6,defaultFormattingWidth:"wide"})};function cl(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;var c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?r8(u,function(p){return p.test(c)}):t8(u,function(p){return p.test(c)}),h;h=e.valueCallback?e.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;var m=t.slice(c.length);return{value:h,rest:m}}}function t8(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function r8(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function n8(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],l=t.match(e.parsePattern);if(!l)return null;var c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}var s8=/^(\d+)(th|st|nd|rd)?/i,i8=/\d+/i,o8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a8={any:[/^b/i,/^(a|c)/i]},l8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c8={any:[/1/i,/2/i,/3/i,/4/i]},u8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},h8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v8={ordinalNumber:n8({matchPattern:s8,parsePattern:i8,valueCallback:function(t){return parseInt(t,10)}}),era:cl({matchPatterns:o8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any"}),quarter:cl({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:cl({matchPatterns:u8,defaultMatchWidth:"wide",parsePatterns:d8,defaultParseWidth:"any"}),day:cl({matchPatterns:f8,defaultMatchWidth:"wide",parsePatterns:h8,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:m8,defaultMatchWidth:"any",parsePatterns:p8,defaultParseWidth:"any"})},kN={code:"en-US",formatDistance:U6,formatLong:W6,formatRelative:q6,localize:e8,match:v8,options:{weekStartsOn:0,firstWeekContainsDate:1}},g8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x8=/^'([^]*?)'?$/,w8=/''/g,b8=/[a-zA-Z]/;function zt(e,t,r){var n,o,l,c,u,f,h,m,p,y,x,j,w,S,N,k,E,P;Oe(2,arguments);var D=String(t),A=Ks(),C=(n=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:A.locale)!==null&&n!==void 0?n:kN,R=It((l=(c=(u=(f=r==null?void 0:r.firstWeekContainsDate)!==null&&f!==void 0?f:r==null||(h=r.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:A.firstWeekContainsDate)!==null&&c!==void 0?c:(p=A.locale)===null||p===void 0||(y=p.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=It((x=(j=(w=(S=r==null?void 0:r.weekStartsOn)!==null&&S!==void 0?S:r==null||(N=r.locale)===null||N===void 0||(k=N.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&w!==void 0?w:A.weekStartsOn)!==null&&j!==void 0?j:(E=A.locale)===null||E===void 0||(P=E.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&x!==void 0?x:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var V=Ve(e);if(!x6(V))throw new RangeError("Invalid time value");var B=Dl(V),z=S6(V,B),G={firstWeekContainsDate:R,weekStartsOn:M,locale:C,_originalDate:V},X=D.match(y8).map(function(J){var ee=J[0];if(ee==="p"||ee==="P"){var I=O6[ee];return I(J,C.formatLong)}return J}).join("").match(g8).map(function(J){if(J==="''")return"'";var ee=J[0];if(ee==="'")return j8(J);var I=D6[ee];if(I)return!(r!=null&&r.useAdditionalWeekYearTokens)&&L6(J)&&yb(J,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&I6(J)&&yb(J,t,String(e)),I(z,J,C.localize,G);if(ee.match(b8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return J}).join("");return X}function j8(e){var t=e.match(x8);return t?t[1].replace(w8,"'"):e}function S8(e){Oe(1,arguments);var t=Ve(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var _8=6048e5;function N8(e){Oe(1,arguments);var t=Ve(e),r=Ai(t).getTime()-m6(t).getTime();return Math.round(r/_8)+1}function C8(e){Oe(1,arguments);var t=Ve(e),r=t.getTime();return r}function k8(e){return Oe(1,arguments),Math.floor(C8(e)/1e3)}function P8(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ve(e),p=m.getFullYear(),y=Ks(),x=It((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:y.firstWeekContainsDate)!==null&&n!==void 0?n:(f=y.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setFullYear(p+1,0,x),j.setHours(0,0,0,0);var w=Sn(j,t),S=new Date(0);S.setFullYear(p,0,x),S.setHours(0,0,0,0);var N=Sn(S,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function E8(e,t){var r,n,o,l,c,u,f,h;Oe(1,arguments);var m=Ks(),p=It((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),y=P8(e,t),x=new Date(0);x.setFullYear(y,0,p),x.setHours(0,0,0,0);var j=Sn(x,t);return j}var T8=6048e5;function A8(e,t){Oe(1,arguments);var r=Ve(e),n=Sn(r,t).getTime()-E8(r,t).getTime();return Math.round(n/T8)+1}function D8(e){Oe(1,arguments);var t=Ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function R8(e,t){return Oe(1,arguments),b6(D8(e),vr(e),t)+1}function xp(e,t){Oe(2,arguments);var r=Ve(e),n=Ve(t);return r.getTime()>n.getTime()}function PN(e,t){Oe(2,arguments);var r=Ve(e),n=Ve(t);return r.getTime()<n.getTime()}function Ev(e,t){Oe(2,arguments);var r=Ve(e),n=Ve(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function O8(e,t){Oe(2,arguments);var r=Ve(e),n=Ve(t);return r.getFullYear()===n.getFullYear()}function Sm(e,t){Oe(2,arguments);var r=It(t);return Ut(e,-r)}function _m(e,t){Oe(2,arguments);var r=Ve(e),n=It(t),o=r.getFullYear(),l=r.getDate(),c=new Date(0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);var u=S8(c);return r.setMonth(n,Math.min(l,u)),r}function xb(e,t){Oe(2,arguments);var r=Ve(e),n=It(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}var Le=function(){return Le=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Le.apply(this,arguments)};function $8(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function EN(e,t,r){for(var n=0,o=t.length,l;n<o;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function Yl(e){return e.mode==="multiple"}function Gl(e){return e.mode==="range"}function Ld(e){return e.mode==="single"}var M8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function I8(e,t){return zt(e,"LLLL y",t)}function L8(e,t){return zt(e,"d",t)}function F8(e,t){return zt(e,"LLLL",t)}function U8(e){return"".concat(e)}function V8(e,t){return zt(e,"cccccc",t)}function B8(e,t){return zt(e,"yyyy",t)}var z8=Object.freeze({__proto__:null,formatCaption:I8,formatDay:L8,formatMonthCaption:F8,formatWeekNumber:U8,formatWeekdayName:V8,formatYearCaption:B8}),W8=function(e,t,r){return zt(e,"do MMMM (EEEE)",r)},H8=function(){return"Month: "},q8=function(){return"Go to next month"},Y8=function(){return"Go to previous month"},G8=function(e,t){return zt(e,"cccc",t)},K8=function(e){return"Week n. ".concat(e)},X8=function(){return"Year: "},J8=Object.freeze({__proto__:null,labelDay:W8,labelMonthDropdown:H8,labelNext:q8,labelPrevious:Y8,labelWeekNumber:K8,labelWeekday:G8,labelYearDropdown:X8});function Q8(){var e="buttons",t=M8,r=kN,n={},o={},l=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:z8,labels:J8,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:l,styles:c,today:u,mode:"default"}}function Z8(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,l=e.fromDate,c=e.toDate;return n?l=vr(n):t&&(l=new Date(t,0,1)),o?c=kv(o):r&&(c=new Date(r,11,31)),{fromDate:l?Jo(l):void 0,toDate:c?Jo(c):void 0}}var TN=g.createContext(void 0);function e7(e){var t,r=e.initialProps,n=Q8(),o=Z8(r),l=o.fromDate,c=o.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!l||!c)&&(u="buttons");var f;(Ld(r)||Yl(r)||Gl(r))&&(f=r.onSelect);var h=Le(Le(Le({},n),r),{captionLayout:u,classNames:Le(Le({},n.classNames),r.classNames),components:Le({},r.components),formatters:Le(Le({},n.formatters),r.formatters),fromDate:l,labels:Le(Le({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Le(Le({},n.modifiers),r.modifiers),modifiersClassNames:Le(Le({},n.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:Le(Le({},n.styles),r.styles),toDate:c});return i.jsx(TN.Provider,{value:h,children:e.children})}function it(){var e=g.useContext(TN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AN(e){var t=it(),r=t.locale,n=t.classNames,o=t.styles,l=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:r})})}function t7(e){return i.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DN(e){var t,r,n=e.onChange,o=e.value,l=e.children,c=e.caption,u=e.className,f=e.style,h=it(),m=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:t7;return i.jsxs("div",{className:u,style:f,children:[i.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:o,onChange:n,children:l}),i.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,i.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function r7(e){var t,r=it(),n=r.fromDate,o=r.toDate,l=r.styles,c=r.locale,u=r.formatters.formatMonthCaption,f=r.classNames,h=r.components,m=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!o)return i.jsx(i.Fragment,{});var p=[];if(O8(n,o))for(var y=vr(n),x=n.getMonth();x<=o.getMonth();x++)p.push(_m(y,x));else for(var y=vr(new Date),x=0;x<=11;x++)p.push(_m(y,x));var j=function(S){var N=Number(S.target.value),k=_m(vr(e.displayMonth),N);e.onChange(k)},w=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:DN;return i.jsx(w,{name:"months","aria-label":m(),className:f.dropdown_month,style:l.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:p.map(function(S){return i.jsx("option",{value:S.getMonth(),children:u(S,{locale:c})},S.getMonth())})})}function n7(e){var t,r=e.displayMonth,n=it(),o=n.fromDate,l=n.toDate,c=n.locale,u=n.styles,f=n.classNames,h=n.components,m=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,y=[];if(!o)return i.jsx(i.Fragment,{});if(!l)return i.jsx(i.Fragment,{});for(var x=o.getFullYear(),j=l.getFullYear(),w=x;w<=j;w++)y.push(xb(j6(new Date),w));var S=function(k){var E=xb(vr(r),Number(k.target.value));e.onChange(E)},N=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:DN;return i.jsx(N,{name:"years","aria-label":p(),className:f.dropdown_year,style:u.dropdown_year,onChange:S,value:r.getFullYear(),caption:m(r,{locale:c}),children:y.map(function(k){return i.jsx("option",{value:k.getFullYear(),children:m(k,{locale:c})},k.getFullYear())})})}function s7(e,t){var r=g.useState(e),n=r[0],o=r[1],l=t===void 0?n:t;return[l,o]}function i7(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,l=e.toDate,c=e.fromDate,u=e.numberOfMonths,f=u===void 0?1:u;if(l&&Rl(l,o)<0){var h=-1*(f-1);o=cn(l,h)}return c&&Rl(o,c)<0&&(o=c),vr(o)}function o7(){var e=it(),t=i7(e),r=s7(t,e.month),n=r[0],o=r[1],l=function(c){var u;if(!e.disableNavigation){var f=vr(c);o(f),(u=e.onMonthChange)===null||u===void 0||u.call(e,f)}};return[n,l]}function a7(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=vr(e),l=vr(cn(o,n)),c=Rl(l,o),u=[],f=0;f<c;f++){var h=cn(o,f);u.push(h)}return r&&(u=u.reverse()),u}function l7(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=n?l:1,u=vr(e);if(!r)return cn(u,c);var f=Rl(r,e);if(!(f<l))return cn(u,c)}}function c7(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=n?l:1,u=vr(e);if(!r)return cn(u,-c);var f=Rl(u,r);if(!(f<=0))return cn(u,-c)}}var RN=g.createContext(void 0);function u7(e){var t=it(),r=o7(),n=r[0],o=r[1],l=a7(n,t),c=l7(n,t),u=c7(n,t),f=function(p){return l.some(function(y){return Ev(p,y)})},h=function(p,y){f(p)||(y&&PN(p,y)?o(cn(p,1+t.numberOfMonths*-1)):o(p))},m={currentMonth:n,displayMonths:l,goToMonth:o,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:f};return i.jsx(RN.Provider,{value:m,children:e.children})}function Kl(){var e=g.useContext(RN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function wb(e){var t,r=it(),n=r.classNames,o=r.styles,l=r.components,c=Kl().goToMonth,u=function(m){c(cn(m,e.displayIndex?-e.displayIndex:0))},f=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:AN,h=i.jsx(f,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:h}),i.jsx(r7,{onChange:u,displayMonth:e.displayMonth}),i.jsx(n7,{onChange:u,displayMonth:e.displayMonth})]})}function d7(e){return i.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function f7(e){return i.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var sd=g.forwardRef(function(e,t){var r=it(),n=r.classNames,o=r.styles,l=[n.button_reset,n.button];e.className&&l.push(e.className);var c=l.join(" "),u=Le(Le({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),i.jsx("button",Le({},e,{ref:t,type:"button",className:c,style:u}))});function h7(e){var t,r,n=it(),o=n.dir,l=n.locale,c=n.classNames,u=n.styles,f=n.labels,h=f.labelPrevious,m=f.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var y=h(e.previousMonth,{locale:l}),x=[c.nav_button,c.nav_button_previous].join(" "),j=m(e.nextMonth,{locale:l}),w=[c.nav_button,c.nav_button_next].join(" "),S=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:f7,N=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:d7;return i.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&i.jsx(sd,{name:"previous-month","aria-label":y,className:x,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?i.jsx(S,{className:c.nav_icon,style:u.nav_icon}):i.jsx(N,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&i.jsx(sd,{name:"next-month","aria-label":j,className:w,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?i.jsx(N,{className:c.nav_icon,style:u.nav_icon}):i.jsx(S,{className:c.nav_icon,style:u.nav_icon})})]})}function bb(e){var t=it().numberOfMonths,r=Kl(),n=r.previousMonth,o=r.nextMonth,l=r.goToMonth,c=r.displayMonths,u=c.findIndex(function(j){return Ev(e.displayMonth,j)}),f=u===0,h=u===c.length-1,m=t>1&&(f||!h),p=t>1&&(h||!f),y=function(){n&&l(n)},x=function(){o&&l(o)};return i.jsx(h7,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:o,previousMonth:n,onPreviousClick:y,onNextClick:x})}function m7(e){var t,r=it(),n=r.classNames,o=r.disableNavigation,l=r.styles,c=r.captionLayout,u=r.components,f=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:AN,h;return o?h=i.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=i.jsx(wb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=i.jsxs(i.Fragment,{children:[i.jsx(wb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(bb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=i.jsxs(i.Fragment,{children:[i.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(bb,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:l.caption,children:h})}function p7(e){var t=it(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?i.jsx("tfoot",{className:o,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function v7(e,t,r){for(var n=r?Ai(new Date):Sn(new Date,{locale:e,weekStartsOn:t}),o=[],l=0;l<7;l++){var c=Ut(n,l);o.push(c)}return o}function g7(){var e=it(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,l=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,h=v7(o,l,c);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(m,p){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":f(m,{locale:o}),children:u(m,{locale:o})},p)})]})}function y7(){var e,t=it(),r=t.classNames,n=t.styles,o=t.components,l=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:g7;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(l,{})})}function x7(e){var t=it(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var Tv=g.createContext(void 0);function w7(e){if(!Yl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(Tv.Provider,{value:t,children:e.children})}return i.jsx(b7,{initialProps:e.initialProps,children:e.children})}function b7(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,l=t.max,c=function(h,m,p){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,h,m,p);var j=!!(m.selected&&o&&(n==null?void 0:n.length)===o);if(!j){var w=!!(!m.selected&&l&&(n==null?void 0:n.length)===l);if(!w){var S=n?EN([],n):[];if(m.selected){var N=S.findIndex(function(k){return pr(h,k)});S.splice(N,1)}else S.push(h);(x=t.onSelect)===null||x===void 0||x.call(t,S,h,m,p)}}},u={disabled:[]};n&&u.disabled.push(function(h){var m=l&&n.length>l-1,p=n.some(function(y){return pr(y,h)});return!!(m&&!p)});var f={selected:n,onDayClick:c,modifiers:u};return i.jsx(Tv.Provider,{value:f,children:r})}function Av(){var e=g.useContext(Tv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function j7(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?pr(o,e)&&pr(n,e)?void 0:pr(o,e)?{from:o,to:void 0}:pr(n,e)?void 0:xp(n,e)?{from:e,to:o}:{from:n,to:e}:o?xp(e,o)?{from:o,to:e}:{from:e,to:o}:n?PN(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Dv=g.createContext(void 0);function S7(e){if(!Gl(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(Dv.Provider,{value:t,children:e.children})}return i.jsx(_7,{initialProps:e.initialProps,children:e.children})}function _7(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},l=o.from,c=o.to,u=t.min,f=t.max,h=function(x,j,w){var S,N;(S=t.onDayClick)===null||S===void 0||S.call(t,x,j,w);var k=j7(x,n);(N=t.onSelect)===null||N===void 0||N.call(t,k,x,j,w)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],c?(m.range_end=[c],pr(l,c)||(m.range_middle=[{after:l,before:c}])):m.range_end=[l]):c&&(m.range_start=[c],m.range_end=[c]),u&&(l&&!c&&m.disabled.push({after:Sm(l,u-1),before:Ut(l,u-1)}),l&&c&&m.disabled.push({after:l,before:Ut(l,u-1)}),!l&&c&&m.disabled.push({after:Sm(c,u-1),before:Ut(c,u-1)})),f){if(l&&!c&&(m.disabled.push({before:Ut(l,-f+1)}),m.disabled.push({after:Ut(l,f-1)})),l&&c){var p=Wn(c,l)+1,y=f-p;m.disabled.push({before:Sm(l,y)}),m.disabled.push({after:Ut(c,y)})}!l&&c&&(m.disabled.push({before:Ut(c,-f+1)}),m.disabled.push({after:Ut(c,f-1)}))}return i.jsx(Dv.Provider,{value:{selected:n,onDayClick:h,modifiers:m},children:r})}function Rv(){var e=g.useContext(Dv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Lu(e){return Array.isArray(e)?EN([],e):e!==void 0?[e]:[]}function N7(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=Lu(o)}),t}var un;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(un||(un={}));var C7=un.Selected,In=un.Disabled,k7=un.Hidden,P7=un.Today,Nm=un.RangeEnd,Cm=un.RangeMiddle,km=un.RangeStart,E7=un.Outside;function T7(e,t,r){var n,o=(n={},n[C7]=Lu(e.selected),n[In]=Lu(e.disabled),n[k7]=Lu(e.hidden),n[P7]=[e.today],n[Nm]=[],n[Cm]=[],n[km]=[],n[E7]=[],n);return e.fromDate&&o[In].push({before:e.fromDate}),e.toDate&&o[In].push({after:e.toDate}),Yl(e)?o[In]=o[In].concat(t.modifiers[In]):Gl(e)&&(o[In]=o[In].concat(r.modifiers[In]),o[km]=r.modifiers[km],o[Cm]=r.modifiers[Cm],o[Nm]=r.modifiers[Nm]),o}var ON=g.createContext(void 0);function A7(e){var t=it(),r=Av(),n=Rv(),o=T7(t,r,n),l=N7(t.modifiers),c=Le(Le({},o),l);return i.jsx(ON.Provider,{value:c,children:e.children})}function $N(){var e=g.useContext(ON);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function D7(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function R7(e){return!!(e&&typeof e=="object"&&"from"in e)}function O7(e){return!!(e&&typeof e=="object"&&"after"in e)}function $7(e){return!!(e&&typeof e=="object"&&"before"in e)}function M7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function I7(e,t){var r,n=t.from,o=t.to;if(n&&o){var l=Wn(o,n)<0;l&&(r=[o,n],n=r[0],o=r[1]);var c=Wn(e,n)>=0&&Wn(o,e)>=0;return c}return o?pr(o,e):n?pr(n,e):!1}function L7(e){return Cv(e)}function F7(e){return Array.isArray(e)&&e.every(Cv)}function U7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(L7(r))return pr(e,r);if(F7(r))return r.includes(e);if(R7(r))return I7(e,r);if(M7(r))return r.dayOfWeek.includes(e.getDay());if(D7(r)){var n=Wn(r.before,e),o=Wn(r.after,e),l=n>0,c=o<0,u=xp(r.before,r.after);return u?c&&l:l||c}return O7(r)?Wn(e,r.after)>0:$7(r)?Wn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Ov(e,t,r){var n=Object.keys(t).reduce(function(l,c){var u=t[c];return U7(e,u)&&l.push(c),l},[]),o={};return n.forEach(function(l){return o[l]=!0}),r&&!Ev(e,r)&&(o.outside=!0),o}function V7(e,t){for(var r=vr(e[0]),n=kv(e[e.length-1]),o,l,c=r;c<=n;){var u=Ov(c,t),f=!u.disabled&&!u.hidden;if(!f){c=Ut(c,1);continue}if(u.selected)return c;u.today&&!l&&(l=c),o||(o=c),c=Ut(c,1)}return l||o}var B7=365;function MN(e,t){var r=t.moveBy,n=t.direction,o=t.context,l=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,f=o.weekStartsOn,h=o.fromDate,m=o.toDate,p=o.locale,y={day:Ut,week:yp,month:cn,year:v6,startOfWeek:function(S){return o.ISOWeek?Ai(S):Sn(S,{locale:p,weekStartsOn:f})},endOfWeek:function(S){return o.ISOWeek?SN(S):Pv(S,{locale:p,weekStartsOn:f})}},x=y[r](e,n==="after"?1:-1);n==="before"&&h?x=g6([h,x]):n==="after"&&m&&(x=y6([m,x]));var j=!0;if(l){var w=Ov(x,l);j=!w.disabled&&!w.hidden}return j?x:u.count>B7?u.lastFocused:MN(x,{moveBy:r,direction:n,context:o,modifiers:l,retry:Le(Le({},u),{count:u.count+1})})}var IN=g.createContext(void 0);function z7(e){var t=Kl(),r=$N(),n=g.useState(),o=n[0],l=n[1],c=g.useState(),u=c[0],f=c[1],h=V7(t.displayMonths,r),m=o??(u&&t.isDateDisplayed(u))?u:h,p=function(){f(o),l(void 0)},y=function(S){l(S)},x=it(),j=function(S,N){if(o){var k=MN(o,{moveBy:S,direction:N,context:x,modifiers:r});pr(o,k)||(t.goToDate(k,o),y(k))}},w={focusedDay:o,focusTarget:m,blur:p,focus:y,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return i.jsx(IN.Provider,{value:w,children:e.children})}function $v(){var e=g.useContext(IN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function W7(e,t){var r=$N(),n=Ov(e,r,t);return n}var Mv=g.createContext(void 0);function H7(e){if(!Ld(e.initialProps)){var t={selected:void 0};return i.jsx(Mv.Provider,{value:t,children:e.children})}return i.jsx(q7,{initialProps:e.initialProps,children:e.children})}function q7(e){var t=e.initialProps,r=e.children,n=function(l,c,u){var f,h,m;if((f=t.onDayClick)===null||f===void 0||f.call(t,l,c,u),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,l,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,l,l,c,u)},o={selected:t.selected,onDayClick:n};return i.jsx(Mv.Provider,{value:o,children:r})}function LN(){var e=g.useContext(Mv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Y7(e,t){var r=it(),n=LN(),o=Av(),l=Rv(),c=$v(),u=c.focusDayAfter,f=c.focusDayBefore,h=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,y=c.focus,x=c.focusMonthBefore,j=c.focusMonthAfter,w=c.focusYearBefore,S=c.focusYearAfter,N=c.focusStartOfWeek,k=c.focusEndOfWeek,E=function(I){var F,K,Z,$;Ld(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,e,t,I):Yl(r)?(K=o.onDayClick)===null||K===void 0||K.call(o,e,t,I):Gl(r)?(Z=l.onDayClick)===null||Z===void 0||Z.call(l,e,t,I):($=r.onDayClick)===null||$===void 0||$.call(r,e,t,I)},P=function(I){var F;y(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,I)},D=function(I){var F;p(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,I)},A=function(I){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,I)},C=function(I){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,I)},R=function(I){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,I)},M=function(I){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,I)},V=function(I){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,I)},B=function(I){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,I)},z=function(I){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,I)},G=function(I){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,I)},X=function(I){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,I)},J=function(I){var F;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?u():f();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?f():u();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),h();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),m();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?w():x();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?S():j();break;case"Home":I.preventDefault(),I.stopPropagation(),N();break;case"End":I.preventDefault(),I.stopPropagation(),k();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,I)},ee={onClick:E,onFocus:P,onBlur:D,onKeyDown:J,onKeyUp:X,onMouseEnter:A,onMouseLeave:C,onPointerEnter:R,onPointerLeave:M,onTouchCancel:V,onTouchEnd:B,onTouchMove:z,onTouchStart:G};return ee}function G7(){var e=it(),t=LN(),r=Av(),n=Rv(),o=Ld(e)?t.selected:Yl(e)?r.selected:Gl(e)?n.selected:void 0;return o}function K7(e){return Object.values(un).includes(e)}function X7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(K7(n)){var l=e.classNames["day_".concat(n)];l&&r.push(l)}}),r}function J7(e,t){var r=Le({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=Le(Le({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function Q7(e,t,r){var n,o,l,c=it(),u=$v(),f=W7(e,t),h=Y7(e,f),m=G7(),p=!!(c.onDayClick||c.mode!=="default");g.useEffect(function(){var A;f.outside||u.focusedDay&&p&&pr(u.focusedDay,e)&&((A=r.current)===null||A===void 0||A.focus())},[u.focusedDay,e,r,p,f.outside]);var y=X7(c,f).join(" "),x=J7(c,f),j=!!(f.outside&&!c.showOutsideDays||f.hidden),w=(l=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&l!==void 0?l:x7,S=i.jsx(w,{date:e,displayMonth:t,activeModifiers:f}),N={style:x,className:y,children:S,role:"gridcell"},k=u.focusTarget&&pr(u.focusTarget,e)&&!f.outside,E=u.focusedDay&&pr(u.focusedDay,e),P=Le(Le(Le({},N),(n={disabled:f.disabled,role:"gridcell"},n["aria-selected"]=f.selected,n.tabIndex=E||k?0:-1,n)),h),D={isButton:p,isHidden:j,activeModifiers:f,selectedDays:m,buttonProps:P,divProps:N};return D}function Z7(e){var t=g.useRef(null),r=Q7(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(sd,Le({name:"day",ref:t},r.buttonProps)):i.jsx("div",Le({},r.divProps))}function eU(e){var t=e.number,r=e.dates,n=it(),o=n.onWeekNumberClick,l=n.styles,c=n.classNames,u=n.locale,f=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,m=h(Number(t),{locale:u});if(!o)return i.jsx("span",{className:c.weeknumber,style:l.weeknumber,children:m});var p=f(Number(t),{locale:u}),y=function(x){o(t,r,x)};return i.jsx(sd,{name:"week-number","aria-label":p,className:c.weeknumber,style:l.weeknumber,onClick:y,children:m})}function tU(e){var t,r,n=it(),o=n.styles,l=n.classNames,c=n.showWeekNumber,u=n.components,f=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:Z7,h=(r=u==null?void 0:u.WeekNumber)!==null&&r!==void 0?r:eU,m;return c&&(m=i.jsx("td",{className:l.cell,style:o.cell,children:i.jsx(h,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:l.row,style:o.row,children:[m,e.dates.map(function(p){return i.jsx("td",{className:l.cell,style:o.cell,role:"presentation",children:i.jsx(f,{displayMonth:e.displayMonth,date:p})},k8(p))})]})}function jb(e,t,r){for(var n=r!=null&&r.ISOWeek?SN(t):Pv(t,r),o=r!=null&&r.ISOWeek?Ai(e):Sn(e,r),l=Wn(n,o),c=[],u=0;u<=l;u++)c.push(Ut(o,u));var f=c.reduce(function(h,m){var p=r!=null&&r.ISOWeek?N8(m):A8(m,r),y=h.find(function(x){return x.weekNumber===p});return y?(y.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return f}function rU(e,t){var r=jb(vr(e),kv(e),t);if(t!=null&&t.useFixedWeeks){var n=R8(e,t);if(n<6){var o=r[r.length-1],l=o.dates[o.dates.length-1],c=yp(l,6-n),u=jb(yp(l,1),c,t);r.push.apply(r,u)}}return r}function nU(e){var t,r,n,o=it(),l=o.locale,c=o.classNames,u=o.styles,f=o.hideHead,h=o.fixedWeeks,m=o.components,p=o.weekStartsOn,y=o.firstWeekContainsDate,x=o.ISOWeek,j=rU(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:x,locale:l,weekStartsOn:p,firstWeekContainsDate:y}),w=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:y7,S=(r=m==null?void 0:m.Row)!==null&&r!==void 0?r:tU,N=(n=m==null?void 0:m.Footer)!==null&&n!==void 0?n:p7;return i.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&i.jsx(w,{}),i.jsx("tbody",{className:c.tbody,style:u.tbody,children:j.map(function(k){return i.jsx(S,{displayMonth:e.displayMonth,dates:k.dates,weekNumber:k.weekNumber},k.weekNumber)})}),i.jsx(N,{displayMonth:e.displayMonth})]})}function sU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var iU=sU()?g.useLayoutEffect:g.useEffect,Pm=!1,oU=0;function Sb(){return"react-day-picker-".concat(++oU)}function aU(e){var t,r=e??(Pm?Sb():null),n=g.useState(r),o=n[0],l=n[1];return iU(function(){o===null&&l(Sb())},[]),g.useEffect(function(){Pm===!1&&(Pm=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function lU(e){var t,r,n=it(),o=n.dir,l=n.classNames,c=n.styles,u=n.components,f=Kl().displayMonths,h=aU(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),m=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[l.month],y=c.month,x=e.displayIndex===0,j=e.displayIndex===f.length-1,w=!x&&!j;o==="rtl"&&(t=[x,j],j=t[0],x=t[1]),x&&(p.push(l.caption_start),y=Le(Le({},y),c.caption_start)),j&&(p.push(l.caption_end),y=Le(Le({},y),c.caption_end)),w&&(p.push(l.caption_between),y=Le(Le({},y),c.caption_between));var S=(r=u==null?void 0:u.Caption)!==null&&r!==void 0?r:m7;return i.jsxs("div",{className:p.join(" "),style:y,children:[i.jsx(S,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(nU,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function cU(e){var t=it(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function uU(e){var t,r,n=e.initialProps,o=it(),l=$v(),c=Kl(),u=g.useState(!1),f=u[0],h=u[1];g.useEffect(function(){o.initialFocus&&l.focusTarget&&(f||(l.focus(l.focusTarget),h(!0)))},[o.initialFocus,f,l.focus,l.focusTarget,l]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var p=Le(Le({},o.styles.root),o.style),y=Object.keys(n).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var S;return Le(Le({},j),(S={},S[w]=n[w],S))},{}),x=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:cU;return i.jsx("div",Le({className:m.join(" "),style:p,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},y,{children:i.jsx(x,{children:c.displayMonths.map(function(j,w){return i.jsx(lU,{displayIndex:w,displayMonth:j},w)})})}))}function dU(e){var t=e.children,r=$8(e,["children"]);return i.jsx(e7,{initialProps:r,children:i.jsx(u7,{children:i.jsx(H7,{initialProps:r,children:i.jsx(w7,{initialProps:r,children:i.jsx(S7,{initialProps:r,children:i.jsx(A7,{children:i.jsx(z7,{children:t})})})})})})})}function fU(e){return i.jsx(dU,Le({},e,{children:i.jsx(uU,{initialProps:e})}))}function Fd({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(fU,{showOutsideDays:r,className:ke("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ke(np({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ke(np({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>i.jsx(BO,{className:"h-4 w-4"}),IconRight:({...o})=>i.jsx(WO,{className:"h-4 w-4"})},...n})}Fd.displayName="Calendar";var hU="Arrow",FN=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...l}=e;return i.jsx(Ye.svg,{...l,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});FN.displayName=hU;var mU=FN,Iv="Popper",[UN,VN]=_n(Iv),[pU,BN]=UN(Iv),zN=e=>{const{__scopePopper:t,children:r}=e,[n,o]=g.useState(null);return i.jsx(pU,{scope:t,anchor:n,onAnchorChange:o,children:r})};zN.displayName=Iv;var WN="PopperAnchor",HN=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,l=BN(WN,r),c=g.useRef(null),u=bt(t,c);return g.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:i.jsx(Ye.div,{...o,ref:u})});HN.displayName=WN;var Lv="PopperContent",[vU,gU]=UN(Lv),qN=g.forwardRef((e,t)=>{var ue,me,de,he,Ee,De;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:j,...w}=e,S=BN(Lv,r),[N,k]=g.useState(null),E=bt(t,Re=>k(Re)),[P,D]=g.useState(null),A=Nv(P),C=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,M=n+(l!=="center"?"-"+l:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(h)?h:[h],z=B.length>0,G={padding:V,boundary:B.filter(xU),altBoundary:z},{refs:X,floatingStyles:J,placement:ee,isPositioned:I,middlewareData:F}=R_({strategy:"fixed",placement:M,whileElementsMounted:(...Re)=>A_(...Re,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[O_({mainAxis:o+R,alignmentAxis:c}),f&&$_({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?M_():void 0,...G}),f&&I_({...G}),L_({...G,apply:({elements:Re,rects:et,availableWidth:vt,availableHeight:Er})=>{const{width:Tr,height:ns}=et.reference,yr=Re.floating.style;yr.setProperty("--radix-popper-available-width",`${vt}px`),yr.setProperty("--radix-popper-available-height",`${Er}px`),yr.setProperty("--radix-popper-anchor-width",`${Tr}px`),yr.setProperty("--radix-popper-anchor-height",`${ns}px`)}}),P&&U_({element:P,padding:u}),wU({arrowWidth:C,arrowHeight:R}),y&&F_({strategy:"referenceHidden",...G})]}),[K,Z]=KN(ee),$=sn(j);Kn(()=>{I&&($==null||$())},[I,$]);const q=(ue=F.arrow)==null?void 0:ue.x,fe=(me=F.arrow)==null?void 0:me.y,ve=((de=F.arrow)==null?void 0:de.centerOffset)!==0,[Ne,Se]=g.useState();return Kn(()=>{N&&Se(window.getComputedStyle(N).zIndex)},[N]),i.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:I?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(he=F.transformOrigin)==null?void 0:he.x,(Ee=F.transformOrigin)==null?void 0:Ee.y].join(" "),...((De=F.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(vU,{scope:r,placedSide:K,onArrowChange:D,arrowX:q,arrowY:fe,shouldHideArrow:ve,children:i.jsx(Ye.div,{"data-side":K,"data-align":Z,...w,ref:E,style:{...w.style,animation:I?void 0:"none"}})})})});qN.displayName=Lv;var YN="PopperArrow",yU={top:"bottom",right:"left",bottom:"top",left:"right"},GN=g.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,l=gU(YN,n),c=yU[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(mU,{...o,ref:r,style:{...o.style,display:"block"}})})});GN.displayName=YN;function xU(e){return e!==null}var wU=e=>({name:"transformOrigin",options:e,fn(t){var S,N,k;const{placement:r,rects:n,middlewareData:o}=t,c=((S=o.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=KN(r),p={start:"0%",center:"50%",end:"100%"}[m],y=(((N=o.arrow)==null?void 0:N.x)??0)+u/2,x=(((k=o.arrow)==null?void 0:k.y)??0)+f/2;let j="",w="";return h==="bottom"?(j=c?p:`${y}px`,w=`${-f}px`):h==="top"?(j=c?p:`${y}px`,w=`${n.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?p:`${x}px`):h==="left"&&(j=`${n.floating.width+f}px`,w=c?p:`${x}px`),{data:{x:j,y:w}}}});function KN(e){const[t,r="center"]=e.split("-");return[t,r]}var bU=zN,XN=HN,jU=qN,SU=GN,Ud="Popover",[JN,fV]=_n(Ud,[VN]),Xl=VN(),[_U,Xs]=JN(Ud),QN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,u=Xl(t),f=g.useRef(null),[h,m]=g.useState(!1),[p,y]=Vi({prop:n,defaultProp:o??!1,onChange:l,caller:Ud});return i.jsx(bU,{...u,children:i.jsx(_U,{scope:t,contentId:Io(),triggerRef:f,open:p,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(x=>!x),[y]),hasCustomAnchor:h,onCustomAnchorAdd:g.useCallback(()=>m(!0),[]),onCustomAnchorRemove:g.useCallback(()=>m(!1),[]),modal:c,children:r})})};QN.displayName=Ud;var ZN="PopoverAnchor",NU=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xs(ZN,r),l=Xl(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return g.useEffect(()=>(c(),()=>u()),[c,u]),i.jsx(XN,{...l,...n,ref:t})});NU.displayName=ZN;var eC="PopoverTrigger",tC=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xs(eC,r),l=Xl(r),c=bt(t,o.triggerRef),u=i.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":oC(o.open),...n,ref:c,onClick:We(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:i.jsx(XN,{asChild:!0,...l,children:u})});tC.displayName=eC;var Fv="PopoverPortal",[CU,kU]=JN(Fv,{forceMount:void 0}),rC=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,l=Xs(Fv,t);return i.jsx(CU,{scope:t,forceMount:r,children:i.jsx(Nn,{present:r||l.open,children:i.jsx(Sd,{asChild:!0,container:o,children:n})})})};rC.displayName=Fv;var Qo="PopoverContent",nC=g.forwardRef((e,t)=>{const r=kU(Qo,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,l=Xs(Qo,e.__scopePopover);return i.jsx(Nn,{present:n||l.open,children:l.modal?i.jsx(EU,{...o,ref:t}):i.jsx(TU,{...o,ref:t})})});nC.displayName=Qo;var PU=qo("PopoverContent.RemoveScroll"),EU=g.forwardRef((e,t)=>{const r=Xs(Qo,e.__scopePopover),n=g.useRef(null),o=bt(t,n),l=g.useRef(!1);return g.useEffect(()=>{const c=n.current;if(c)return av(c)},[]),i.jsx(ov,{as:PU,allowPinchZoom:!0,children:i.jsx(sC,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:We(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),TU=g.forwardRef((e,t)=>{const r=Xs(Qo,e.__scopePopover),n=g.useRef(!1),o=g.useRef(!1);return i.jsx(sC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),sC=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...p}=e,y=Xs(Qo,r),x=Xl(r);return eS(),i.jsx(nv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(jd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:i.jsx(jU,{"data-state":oC(y.open),role:"dialog",id:y.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),iC="PopoverClose",AU=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xs(iC,r);return i.jsx(Ye.button,{type:"button",...n,ref:t,onClick:We(e.onClick,()=>o.onOpenChange(!1))})});AU.displayName=iC;var DU="PopoverArrow",RU=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xl(r);return i.jsx(SU,{...o,...n,ref:t})});RU.displayName=DU;function oC(e){return e?"open":"closed"}var OU=QN,$U=tC,MU=rC,aC=nC;const Uv=OU,Vv=$U,Vd=le.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>i.jsx(MU,{children:i.jsx(aC,{ref:o,align:t,sideOffset:r,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vd.displayName=aC.displayName;var IU=g.createContext(void 0);function Bv(e){const t=g.useContext(IU);return e||t||"ltr"}var Em="rovingFocusGroup.onEntryFocus",LU={bubbles:!1,cancelable:!0},Jl="RovingFocusGroup",[wp,lC,FU]=MS(Jl),[UU,Bd]=_n(Jl,[FU]),[VU,BU]=UU(Jl),cC=g.forwardRef((e,t)=>i.jsx(wp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(wp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(zU,{...e,ref:t})})}));cC.displayName=Jl;var zU=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,y=g.useRef(null),x=bt(t,y),j=Bv(l),[w,S]=Vi({prop:c,defaultProp:u??null,onChange:f,caller:Jl}),[N,k]=g.useState(!1),E=sn(h),P=lC(r),D=g.useRef(!1),[A,C]=g.useState(0);return g.useEffect(()=>{const R=y.current;if(R)return R.addEventListener(Em,E),()=>R.removeEventListener(Em,E)},[E]),i.jsx(VU,{scope:r,orientation:n,dir:j,loop:o,currentTabStopId:w,onItemFocus:g.useCallback(R=>S(R),[S]),onItemShiftTab:g.useCallback(()=>k(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:g.useCallback(()=>C(R=>R-1),[]),children:i.jsx(Ye.div,{tabIndex:N||A===0?-1:0,"data-orientation":n,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{D.current=!0}),onFocus:We(e.onFocus,R=>{const M=!D.current;if(R.target===R.currentTarget&&M&&!N){const V=new CustomEvent(Em,LU);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const B=P().filter(ee=>ee.focusable),z=B.find(ee=>ee.active),G=B.find(ee=>ee.id===w),J=[z,G,...B].filter(Boolean).map(ee=>ee.ref.current);fC(J,m)}}D.current=!1}),onBlur:We(e.onBlur,()=>k(!1))})})}),uC="RovingFocusGroupItem",dC=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:l,children:c,...u}=e,f=Io(),h=l||f,m=BU(uC,r),p=m.currentTabStopId===h,y=lC(r),{onFocusableItemAdd:x,onFocusableItemRemove:j,currentTabStopId:w}=m;return g.useEffect(()=>{if(n)return x(),()=>j()},[n,x,j]),i.jsx(wp.ItemSlot,{scope:r,id:h,focusable:n,active:o,children:i.jsx(Ye.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:We(e.onMouseDown,S=>{n?m.onItemFocus(h):S.preventDefault()}),onFocus:We(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:We(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const N=qU(S,m.orientation,m.dir);if(N!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=y().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")E.reverse();else if(N==="prev"||N==="next"){N==="prev"&&E.reverse();const P=E.indexOf(S.currentTarget);E=m.loop?YU(E,P+1):E.slice(P+1)}setTimeout(()=>fC(E))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:w!=null}):c})})});dC.displayName=uC;var WU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qU(e,t,r){const n=HU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return WU[n]}function fC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function YU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hC=cC,mC=dC,zv="Radio",[GU,pC]=_n(zv),[KU,XU]=GU(zv),vC=g.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:l,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[p,y]=g.useState(null),x=bt(t,S=>y(S)),j=g.useRef(!1),w=p?h||!!p.closest("form"):!0;return i.jsxs(KU,{scope:r,checked:o,disabled:c,children:[i.jsx(Ye.button,{type:"button",role:"radio","aria-checked":o,"data-state":wC(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:x,onClick:We(e.onClick,S=>{o||f==null||f(),w&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),w&&i.jsx(xC,{control:p,bubbles:!j.current,name:n,value:u,checked:o,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});vC.displayName=zv;var gC="RadioIndicator",yC=g.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,l=XU(gC,r);return i.jsx(Nn,{present:n||l.checked,children:i.jsx(Ye.span,{"data-state":wC(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t})})});yC.displayName=gC;var JU="RadioBubbleInput",xC=g.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},l)=>{const c=g.useRef(null),u=bt(c,l),f=hN(r),h=Nv(t);return g.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==r&&x){const j=new Event("click",{bubbles:n});x.call(m,r),m.dispatchEvent(j)}},[f,r,n]),i.jsx(Ye.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xC.displayName=JU;function wC(e){return e?"checked":"unchecked"}var QU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zd="RadioGroup",[ZU,hV]=_n(zd,[Bd,pC]),bC=Bd(),jC=pC(),[e9,t9]=ZU(zd),SC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:l,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:p,...y}=e,x=bC(r),j=Bv(h),[w,S]=Vi({prop:l,defaultProp:o??"",onChange:p,caller:zd});return i.jsx(e9,{scope:r,name:n,required:c,disabled:u,value:w,onValueChange:S,children:i.jsx(hC,{asChild:!0,...x,orientation:f,dir:j,loop:m,children:i.jsx(Ye.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:j,...y,ref:t})})})});SC.displayName=zd;var _C="RadioGroupItem",NC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,l=t9(_C,r),c=l.disabled||n,u=bC(r),f=jC(r),h=g.useRef(null),m=bt(t,h),p=l.value===o.value,y=g.useRef(!1);return g.useEffect(()=>{const x=w=>{QU.includes(w.key)&&(y.current=!0)},j=()=>y.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",j)}},[]),i.jsx(mC,{asChild:!0,...u,focusable:!c,active:p,children:i.jsx(vC,{disabled:c,required:l.required,checked:p,...f,...o,name:l.name,ref:m,onCheck:()=>l.onValueChange(o.value),onKeyDown:We(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:We(o.onFocus,()=>{var x;y.current&&((x=h.current)==null||x.click())})})})});NC.displayName=_C;var r9="RadioGroupIndicator",CC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=jC(r);return i.jsx(yC,{...o,...n,ref:t})});CC.displayName=r9;var kC=SC,PC=NC,n9=CC;const Wd=le.forwardRef(({className:e,...t},r)=>i.jsx(kC,{className:ke("grid gap-2",e),...t,ref:r}));Wd.displayName=kC.displayName;const Di=le.forwardRef(({className:e,...t},r)=>i.jsx(PC,{ref:r,className:ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(n9,{className:"flex items-center justify-center",children:i.jsx(JO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Di.displayName=PC.displayName;const Ql="Australia/Adelaide",Un=(e=Ql)=>{const t=new Date,r=t.getTime()+t.getTimezoneOffset()*6e4;return new Date(r+s9(e)*6e4)},s9=e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-r.getTime())/(1e3*60)},$t=(e,t=Ql)=>{const r={timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",r).format(e)},$o=e=>{const[t,r]=e.split(":").map(Number),n=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${n}`},i9=(e,t)=>{const r=e>=12?"PM":"AM";return`${e%12||12}:${t.toString().padStart(2,"0")} ${r}`},o9=()=>{const e=[];for(let t=0;t<24;t++)for(let r=0;r<60;r+=30){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,o=i9(t,r);e.push({value:n,label:o})}return e},a9=(e,t)=>{const[r,n]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),c=r*60+n;return o*60+l>c},l9=({onDeliveryChange:e})=>{const[t,r]=g.useState("express"),[n,o]=g.useState(null),[l,c]=g.useState(""),[u,f]=g.useState([]),[h,m]=g.useState({express:0,scheduled:0}),[p,y]=g.useState(!0),[x,j]=g.useState(!1),[w,S]=g.useState(Ql);g.useEffect(()=>{(async()=>{y(!0);try{const{data:D,error:A}=await ie.from("delivery_settings").select("express_fee, scheduled_fee, timezone").eq("id",1).single();if(A&&A.code!=="PGRST116")throw A;m({express:(D==null?void 0:D.express_fee)||9.99,scheduled:(D==null?void 0:D.scheduled_fee)||5.99}),D!=null&&D.timezone&&S(D.timezone)}catch(D){console.error("Error fetching delivery settings:",D),m({express:9.99,scheduled:5.99})}finally{y(!1)}})()},[]),g.useEffect(()=>{n&&t==="scheduled"&&N(n)},[n,t,w]),g.useEffect(()=>{let P=0,D=null,A=null;if(t==="express")P=h.express;else if(t==="scheduled"&&l){P=h.scheduled;const C=u.find(R=>R.id===l);C&&(D=new Date(C.date+"T"+C.start_time).toISOString(),A=C.id)}e({type:t,fee:P,scheduledTime:D,timeslot_id:A})},[t,l,h,u,e]);const N=async P=>{j(!0);try{const D=$t(P,w),{data:A,error:C}=await ie.from("time_slots").select("*").eq("date",D).eq("is_active",!0).order("start_time");if(C)throw C;f(A||[]),c("")}catch(D){console.error("Error fetching time slots:",D),f([])}finally{j(!1)}},k=P=>{o(P),c("")},E=P=>{const D=Un(w),A=$t(D,w);return $t(P,w)<A};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Delivery Options"}),i.jsxs(Wd,{value:t,onValueChange:r,children:[i.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-md has-[:checked]:border-primary",children:[i.jsx(Di,{value:"express",id:"express"}),i.jsxs(oe,{htmlFor:"express",className:"flex-1 cursor-pointer",children:["Express Delivery (ASAP)",i.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Pe(h.express)}`})]})]}),i.jsxs("div",{className:"flex flex-col space-y-4 p-4 border rounded-md has-[:checked]:border-primary",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Di,{value:"scheduled",id:"scheduled"}),i.jsxs(oe,{htmlFor:"scheduled",className:"flex-1 cursor-pointer",children:["Schedule Delivery",i.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Pe(h.scheduled)}`})]})]}),t==="scheduled"&&i.jsxs(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"pl-6 space-y-4",children:[i.jsxs(Uv,{children:[i.jsx(Vv,{asChild:!0,children:i.jsxs(Q,{variant:"outline",className:ke("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[i.jsx(qs,{className:"mr-2 h-4 w-4"}),n?zt(n,"PPP"):i.jsx("span",{children:"Pick a date"})]})}),i.jsx(Vd,{className:"w-auto p-0",children:i.jsx(Fd,{mode:"single",selected:n,onSelect:k,initialFocus:!0,disabled:E})})]}),n&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Available Time Slots"}),x?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):u.length===0?i.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):i.jsxs(Jt,{value:l,onValueChange:c,children:[i.jsxs(Vt,{children:[i.jsx(nn,{className:"mr-2 h-4 w-4 text-muted-foreground"}),i.jsx(Qt,{placeholder:"Select a time slot"})]}),i.jsx(Bt,{children:u.map(P=>i.jsxs(Ie,{value:P.id,children:[$o(P.start_time)," - ",$o(P.end_time)]},P.id))})]})]})]})]})]})]})},EC=({subtotal:e,onPromoApplied:t,appliedPromo:r,onPromoRemoved:n})=>{const[o,l]=g.useState(""),[c,u]=g.useState(!1),f=async()=>{if(!o.trim()){te({variant:"destructive",title:"Error",description:"Please enter a promo code"});return}u(!0);try{const{data:m,error:p}=await ie.from("promo_codes").select("*").eq("code",o.toUpperCase()).eq("is_active",!0).single();if(p||!m){te({variant:"destructive",title:"Invalid Code",description:"Promo code not found or expired"});return}const y=new Date,x=new Date(m.valid_from),j=m.valid_until?new Date(m.valid_until):null;if(y<x){te({variant:"destructive",title:"Invalid Code",description:"This promo code is not yet active"});return}if(j&&y>j){te({variant:"destructive",title:"Expired Code",description:"This promo code has expired"});return}if(m.max_uses&&m.current_uses>=m.max_uses){te({variant:"destructive",title:"Code Limit Reached",description:"This promo code has reached its usage limit"});return}if(m.minimum_order_amount&&e<m.minimum_order_amount){te({variant:"destructive",title:"Minimum Order Required",description:`Minimum order of ${Pe(m.minimum_order_amount)} required for this promo code`});return}let w=0;m.discount_type==="percentage"?w=e*m.discount_value/100:w=m.discount_value,w=Math.min(w,e),t({code:m.code,description:m.description,discountType:m.discount_type,discountValue:m.discount_value,discountAmount:w}),te({title:"Promo Code Applied",description:`You saved ${Pe(w)}!`}),l("")}catch(m){console.error("Error validating promo code:",m),te({variant:"destructive",title:"Error",description:"Failed to validate promo code"})}finally{u(!1)}},h=()=>{n(),te({title:"Promo Code Removed",description:"Promo code has been removed from your order"})};return r?i.jsx("div",{className:"p-4 border rounded-lg bg-green-50 border-green-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(L1,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-800",children:r.code}),i.jsx("p",{className:"text-sm text-green-600",children:r.description}),i.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",Pe(r.discountAmount)]})]})]}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:h,className:"text-green-600 hover:text-green-800",children:i.jsx(Ys,{className:"w-4 h-4"})})]})}):i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(xe,{id:"promo-code",value:o,onChange:m=>l(m.target.value.toUpperCase()),placeholder:"Enter promo code",disabled:c}),i.jsx(Q,{onClick:f,disabled:c||!o.trim(),variant:"outline",children:c?i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Apply"})]})})},c9=()=>{const{cart:e,getCartTotal:t,clearCart:r}=Ws(),{addOrder:n}=Qp(),{user:o,updateUserInfo:l}=ir(),c=Pr(),[u,f]=g.useState(!1),[h,m]=g.useState({type:"express",fee:0,scheduledTime:null,timeslot_id:null}),[p,y]=g.useState({name:"",email:"",phone:"",address:"",deliveryNotes:""}),[x,j]=g.useState({}),[w,S]=g.useState(!1),[N,k]=g.useState(!1),[E,P]=g.useState({name:"",address:"",postcode:""}),[D,A]=g.useState([]),[C,R]=g.useState([]),[M,V]=g.useState(""),[B,z]=g.useState(!1),[G,X]=g.useState(null),[J,ee]=g.useState(3);g.useEffect(()=>{const de=async()=>{try{const{data:De,error:Re}=await ie.from("delivery_settings").select("express_fee").eq("id",1).single();if(Re&&Re.code!=="PGRST116")throw Re;m(et=>({...et,fee:(De==null?void 0:De.express_fee)||9.99}))}catch(De){console.error("Error fetching initial delivery fee:",De),m(Re=>({...Re,fee:9.99}))}},he=async()=>{const{data:De,error:Re}=await ie.from("postcodes").select("*").order("suburb");if(Re){console.error("Error fetching postcodes:",Re);return}A(De),R(De)},Ee=()=>{if(o){const De=!o.name||!o.addresses||o.addresses.length===0;k(De),De||(document.cookie="accountSetup=true; max-age=86400")}};de(),he(),Ee()},[o]),g.useEffect(()=>{(async()=>{const{data:he,error:Ee}=await ie.from("delivery_settings").select("service_fee_percent").eq("id",1).single();!Ee&&he&&he.service_fee_percent&&ee(he.service_fee_percent)})()},[]),g.useEffect(()=>{if(M.length===0)R(D);else{const de=D.filter(he=>he.suburb.toLowerCase().includes(M.toLowerCase())||he.postcode.includes(M));R(de)}},[M,D]);const I=async de=>{de.preventDefault();try{await l({name:E.name,addresses:[{id:Date.now().toString(),label:"Default",address:E.address,postcode:E.postcode}]}),k(!1),document.cookie="accountSetup=true; max-age=86400",te({title:"Success",description:"Account details updated successfully"})}catch(he){console.error("Error updating account:",he),te({variant:"destructive",title:"Error",description:"Failed to update account details"})}},F=de=>{P(he=>({...he,address:de.address,postcode:de.postcode})),V(`${de.suburb.toUpperCase()}, ${de.postcode}`)},K=de=>{P(he=>({...he,postcode:de.postcode})),V(`${de.suburb}, ${de.postcode}`),z(!1)},Z=g.useCallback(de=>{m(de)},[]),$=g.useCallback(de=>{y(de)},[]),q=de=>{X(de)},fe=()=>{X(null)},ve=()=>Number(t()||0),Ne=()=>Number(G?G.discountAmount:0),Se=()=>{const de=ve()+Number(h.fee||0);return parseFloat((de*(J/100)).toFixed(2))},ue=()=>{const de=ve(),he=Ne(),Ee=Number(h.fee||0),De=Se(),Re=de-he+Ee+De;return parseFloat(Re.toFixed(2))};if(e.length===0&&!u)return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Your cart is empty"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Add products to checkout."}),i.jsx(Q,{className:"mt-4",onClick:()=>c("/shop"),children:"Continue Shopping"})]})});const me={customer_name:p.name,customer_email:p.email,customer_phone:p.phone,customer_address:p.address,customer_postcode:p.postcode,customer_city:p.city,delivery_notes:p.deliveryNotes,delivery_type:h.type,scheduled_delivery_time:h.scheduledTime,timeslot_id:h.timeslot_id,promo_code:(G==null?void 0:G.code)||null,discount_amount:Ne()};return i.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-8",children:"Checkout"}),i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_350px]",children:[i.jsx("div",{className:"space-y-6",children:i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o?N?i.jsxs("div",{className:"p-6 border rounded-lg bg-muted/30",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Complete Your Account Details"}),i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Full Name"}),i.jsx(xe,{id:"name",value:E.name,onChange:de=>P(he=>({...he,name:de.target.value})),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"address",children:"Delivery Address"}),i.jsx(Id,{value:E.address,onChange:de=>P(he=>({...he,address:de})),onAddressSelect:F,placeholder:"Start typing your address...",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:M,onChange:de=>{V(de.target.value),z(!0)},onFocus:()=>z(!0),required:!0}),B&&C.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:C.slice(0,10).map(de=>i.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>K(de),children:[i.jsx("div",{className:"text-sm font-medium",children:de.suburb}),i.jsx("div",{className:"text-xs text-gray-500",children:de.postcode})]},`${de.suburb}-${de.postcode}`))})]})]}),i.jsx(Q,{type:"submit",children:"Save Details"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(o6,{onDetailsChange:$,errors:x}),i.jsx(l9,{onDeliveryChange:Z}),i.jsxs("div",{className:"p-6 border rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Promo Code"}),i.jsx(EC,{subtotal:ve(),onPromoApplied:q,appliedPromo:G,onPromoRemoved:fe})]})]}):i.jsxs("div",{className:"mt-6 p-6 border rounded-lg bg-muted/30",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sign in to Continue"}),i.jsx(Cd,{onSuccess:()=>{}})]})})}),i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"lg:sticky lg:top-20",children:i.jsx(u6,{deliveryFee:h.fee,appliedPromo:G,discountAmount:Ne(),serviceFee:Se()})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zn,{id:"terms",checked:w,onCheckedChange:S}),i.jsxs(oe,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",i.jsx(Ce,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",i.jsx(Ce,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]})]})]}),i.jsx("div",{className:"flex justify-center w-full mt-8 mb-4",children:i.jsxs(Q,{className:"w-full max-w-xl text-base h-12 md:h-12 md:text-lg shadow-lg",onClick:()=>c("/stripe-payment",{state:{orderData:me,deliveryFee:h.fee,finalTotal:ue(),serviceFee:Se()}}),disabled:!o||!w||N||p.address.length===0||ve()<=0||u,children:["Proceed to Payment   ",i.jsx(Vl,{})]})})]})},u9=()=>{const{id:e}=ad(),[t,r]=g.useState(null),[n,o]=g.useState(!0),[l,c]=g.useState(null),[u,f]=g.useState(!1),[h,m]=g.useState(null),[p,y]=g.useState(""),[x,j]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e)try{const{data:C,error:R}=await ie.from("orders").select("*").eq("id",e).single();if(R)throw R;if(C)if(r(C),C.expected_delivery_at===null){let M=new Date().getTime(),V=new Date(M+45*60*1e3);c(V)}else c(new Date(C.expected_delivery_at))}catch(C){console.error("Error fetching order:",C)}finally{o(!1)}})()},[e]);const w=A=>{if(!A)return"N/A";const C=new Date(A);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(C)},S=()=>{if(!t)return null;const A={pending:{color:"text-yellow-500",bgColor:"bg-yellow-100",icon:nn,title:"Order Pending",description:l?`Estimated delivery by ${w(l)}`:"Processing your order"},processing:{color:"text-blue-500",bgColor:"bg-blue-100",icon:Br,title:"Order Processing",description:"Your order is being prepared"},delivered:{color:"text-green-500",bgColor:"bg-green-100",icon:Ku,title:"Order Delivered",description:"Your order has been delivered"},cancelled:{color:"text-red-500",bgColor:"bg-red-100",icon:KO,title:"Order Cancelled",description:"This order has been cancelled"}};return A[t.status]||A.pending},N=t&&["pending","processing"].includes(t.status),k=async()=>{if(t&&window.confirm("Are you sure you want to cancel this order? Cancellation fees may apply.")){f(!0),m(null);try{const{error:A}=await ie.from("orders").update({status:"cancelled"}).eq("id",t.id);if(A)throw A;r({...t,status:"cancelled"})}catch{m("Failed to cancel order. Please try again.")}finally{f(!1)}}},E=async()=>{if(!(!p.trim()||x)){j(!0);try{const A=t.admin_messages||[],C={from:"customer",message:p.trim(),timestamp:new Date().toISOString()},{error:R}=await ie.from("orders").update({admin_messages:[...A,C]}).eq("id",t.id);if(R)throw R;r(M=>({...M,admin_messages:[...A,C]})),y("")}catch{m("Could not send message.")}finally{j(!1)}}};if(n)return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})});if(!t)return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Order Not Found"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"The order you're looking for doesn't exist."}),i.jsx(Ce,{to:"/shop",children:i.jsx(Q,{className:"mt-4",children:"Continue Shopping"})})]})});const P=S(),D=P.icon;return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs(ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx(ye.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`mx-auto w-24 h-24 rounded-full ${P.bgColor} flex items-center justify-center mb-4`,children:i.jsx(D,{className:`w-12 h-12 ${P.color}`})}),i.jsx("h1",{className:"text-2xl font-bold mb-2",children:P.title}),i.jsx("p",{className:"text-muted-foreground",children:P.description})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-0 top-1/2 w-full h-1 bg-muted transform -translate-y-1/2",children:i.jsx("div",{className:`h-full bg-primary transition-all duration-500 ${t.status==="pending"?"w-1/3":t.status==="processing"?"w-2/3":t.status==="delivered"?"w-full":"w-0"}`})}),i.jsxs("div",{className:"relative flex justify-between",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending","processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:i.jsx(Ku,{className:"w-4 h-4"})}),i.jsx("span",{className:"mt-2 text-sm",children:"Confirmed"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:i.jsx(Br,{className:"w-4 h-4"})}),i.jsx("span",{className:"mt-2 text-sm",children:"Processing"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.status==="delivered"?"bg-primary text-primary-foreground":"bg-muted"}`,children:i.jsx(tv,{className:"w-4 h-4"})}),i.jsx("span",{className:"mt-2 text-sm",children:"Delivered"})]})]})]})}),i.jsxs("div",{className:"mt-8 p-6 border rounded-lg text-left",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold",children:["Order #",t.id.slice(0,6).toUpperCase()]}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${P.bgColor} ${P.color}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),i.jsx("p",{className:"font-medium",children:w(t.created_at)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Address"}),i.jsx("p",{className:"font-medium",children:t.customer_address})]}),t.delivery_notes&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Notes"}),i.jsx("p",{className:"font-medium",children:t.delivery_notes})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),i.jsx("div",{className:"space-y-3",children:t.items.map((A,C)=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:A.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pe(A.price)," x ",A.quantity]})]}),i.jsx("p",{className:"font-medium",children:Pe(A.price*A.quantity)})]},C))}),i.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-bold",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:Pe(t.total)})]})]})]}),i.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsx(Ce,{to:"/shop",children:i.jsx(Q,{variant:"outline",children:"Continue Shopping"})}),i.jsx(Ce,{to:"/account/orders",children:i.jsxs(Q,{children:[i.jsx(Br,{className:"mr-2 h-4 w-4"}),"View All Orders"]})}),N&&i.jsx(Q,{variant:"destructive",onClick:k,disabled:u,children:u?"Cancelling...":"Cancel Order"})]}),h&&i.jsx("div",{className:"mt-4 text-red-500 text-center",children:h}),t.payment_status==="paid"&&t.payment_data&&i.jsxs("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded",children:[i.jsx("div",{className:"font-medium mb-1 text-green-800",children:"Payment Details:"}),i.jsx("pre",{className:"text-xs text-green-900 whitespace-pre-wrap break-all",children:JSON.stringify(t.payment_data,null,2)})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Support Messages"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.admin_messages&&t.admin_messages.length>0?t.admin_messages.map((A,C)=>i.jsxs("div",{className:`p-3 rounded text-sm ${A.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"font-medium",children:A.from==="admin"?"Support Team":"You"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(A.timestamp).toLocaleString()})]}),i.jsx("p",{children:A.message})]},C)):i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx("label",{className:"block font-medium",children:"Send a message:"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("textarea",{value:p,onChange:A=>y(A.target.value),placeholder:"Type your message...",rows:2,className:"flex-1 border rounded p-2"}),i.jsx(Q,{onClick:E,disabled:!p.trim()||x,size:"sm",children:x?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(Wl,{className:"w-4 h-4"})})]})]})]})]})})},d9=()=>{const[e,t]=g.useState({email:"",password:""}),[r,n]=g.useState({}),[o,l]=g.useState(!1),{login:c,loading:u,logout:f}=ir(),h=Pr(),m=x=>{const{name:j,value:w}=x.target;t(S=>({...S,[j]:w})),r[j]&&n(S=>({...S,[j]:""}))},p=()=>{const x={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(x.email="Email is invalid"):x.email="Email is required",e.password.trim()||(x.password="Password is required"),n(x),Object.keys(x).length===0},y=async x=>{if(x.preventDefault(),!p()||o||u)return;l(!0);const{success:j,isAdminUser:w,error:S}=await c(e.email,e.password);j?w?(h("/admin"),te({title:"Admin Access Granted",description:"Welcome to the Admin Dashboard."})):(te({variant:"destructive",title:"Access Denied",description:"You do not have admin privileges. Logging out."}),await f()):S&&S!=="Invalid login credentials"&&te({variant:"destructive",title:"Login Failed",description:S}),l(!1)};return i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"admin-email",children:"Admin Email"}),i.jsx(xe,{id:"admin-email",name:"email",type:"email",value:e.email,onChange:m,placeholder:"admin_master@groceroo.com.au",className:`${r.email?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.email&&i.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"admin-password",children:"Admin Password"}),i.jsx(xe,{id:"admin-password",name:"password",type:"password",value:e.password,onChange:m,placeholder:"••••••••",className:`${r.password?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.password&&i.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),i.jsx("div",{className:"text-sm text-right",children:i.jsx(Ce,{to:"/forgot-password",className:`text-muted-foreground hover:text-destructive ${o||u?"pointer-events-none opacity-50":""}`,children:"Forgot password?"})}),i.jsx(Q,{type:"submit",variant:"destructive",className:"w-full",disabled:o||u,children:o||u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-destructive-foreground border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):"Sign In to Admin Portal"})]})},f9=()=>i.jsx("div",{className:"container flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4 py-8 mx-auto md:px-6",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col items-center mb-8 text-center",children:[i.jsx(M1,{className:"w-12 h-12 mb-4 text-destructive"}),i.jsx("h1",{className:"text-3xl font-bold text-destructive",children:"Admin Portal"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Authorized personnel access only."})]}),i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"p-6 border-2 border-destructive/30 rounded-lg shadow-xl bg-card",children:i.jsx(d9,{})}),i.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-sm",children:i.jsxs("p",{className:"text-muted-foreground",children:["Not an admin? Return to"," ",i.jsx(Ce,{to:"/",className:"text-primary hover:underline",children:"Homepage"})," ","or"," ",i.jsx(Ce,{to:"/login",className:"text-primary hover:underline",children:"Customer Login"}),"."]})})]})}),h9=()=>{const[e,t]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[r,n]=g.useState({}),[o,l]=g.useState(!1),{register:c}=ir(),u=Pr(),f=p=>{const{name:y,value:x}=p.target;t(j=>({...j,[y]:x})),r[y]&&n(j=>({...j,[y]:""}))},h=()=>{const p={};return e.name.trim()||(p.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(p.email="Email is invalid"):p.email="Email is required",e.phone.trim()||(p.phone="Phone number is required"),e.password.trim()?e.password.length<6&&(p.password="Password must be at least 6 characters"):p.password="Password is required",e.password!==e.confirmPassword&&(p.confirmPassword="Passwords do not match"),n(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h()||o)return;l(!0);const y=await c(e.email,e.password,e.name,e.phone);l(!1),y&&u("/login")};return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Create an Account"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Sign up to start shopping with Groceroo"})]}),i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:[i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Full Name"}),i.jsx(xe,{id:"name",name:"name",value:e.name,onChange:f,className:r.name?"border-destructive":"",disabled:o}),r.name&&i.jsx("p",{className:"text-xs text-destructive",children:r.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"email",children:"Email"}),i.jsx(xe,{id:"email",name:"email",type:"email",value:e.email,onChange:f,className:r.email?"border-destructive":"",disabled:o}),r.email&&i.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),i.jsx(xe,{id:"phone",name:"phone",value:e.phone,onChange:f,className:r.phone?"border-destructive":"",disabled:o}),r.phone&&i.jsx("p",{className:"text-xs text-destructive",children:r.phone})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"password",children:"Password"}),i.jsx(xe,{id:"password",name:"password",type:"password",value:e.password,onChange:f,className:r.password?"border-destructive":"",disabled:o}),r.password&&i.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"confirmPassword",children:"Confirm Password"}),i.jsx(xe,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,className:r.confirmPassword?"border-destructive":"",disabled:o}),r.confirmPassword&&i.jsx("p",{className:"text-xs text-destructive",children:r.confirmPassword})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]}),i.jsx("div",{className:"mt-6 text-center text-sm",children:i.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",i.jsx(Ce,{to:"/login",className:`text-primary hover:underline ${o?"pointer-events-none opacity-50":""}`,children:"Sign in"})]})})]})]})})};var Hd="Tabs",[m9,mV]=_n(Hd,[Bd]),TC=Bd(),[p9,Wv]=m9(Hd),AC=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=Bv(u),[p,y]=Vi({prop:n,onChange:o,defaultProp:l??"",caller:Hd});return i.jsx(p9,{scope:r,baseId:Io(),value:p,onValueChange:y,orientation:c,dir:m,activationMode:f,children:i.jsx(Ye.div,{dir:m,"data-orientation":c,...h,ref:t})})});AC.displayName=Hd;var DC="TabsList",RC=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,l=Wv(DC,r),c=TC(r);return i.jsx(hC,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:i.jsx(Ye.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});RC.displayName=DC;var OC="TabsTrigger",$C=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...l}=e,c=Wv(OC,r),u=TC(r),f=LC(c.baseId,n),h=FC(c.baseId,n),m=n===c.value;return i.jsx(mC,{asChild:!0,...u,focusable:!o,active:m,children:i.jsx(Ye.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:We(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(n):p.preventDefault()}),onKeyDown:We(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(n)}),onFocus:We(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!o&&p&&c.onValueChange(n)})})})});$C.displayName=OC;var MC="TabsContent",IC=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:l,...c}=e,u=Wv(MC,r),f=LC(u.baseId,n),h=FC(u.baseId,n),m=n===u.value,p=g.useRef(m);return g.useEffect(()=>{const y=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(y)},[]),i.jsx(Nn,{present:o||m,children:({present:y})=>i.jsx(Ye.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:y&&l})})});IC.displayName=MC;function LC(e,t){return`${e}-trigger-${t}`}function FC(e,t){return`${e}-content-${t}`}var v9=AC,UC=RC,VC=$C,BC=IC;const Hv=v9,qd=le.forwardRef(({className:e,...t},r)=>i.jsx(UC,{ref:r,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qd.displayName=UC.displayName;const Ci=le.forwardRef(({className:e,...t},r)=>i.jsx(VC,{ref:r,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ci.displayName=VC.displayName;const ki=le.forwardRef(({className:e,...t},r)=>i.jsx(BC,{ref:r,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ki.displayName=BC.displayName;const g9=()=>{const{user:e,updateUserInfo:t}=ir(),[r,n]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState({label:"",address:"",postcode:""}),[f,h]=g.useState(!1),[m,p]=g.useState([]),[y,x]=g.useState([]),[j,w]=g.useState(""),[S,N]=g.useState(!1),k=(e==null?void 0:e.addresses)||[];g.useEffect(()=>{(async()=>{const{data:M,error:V}=await ie.from("postcodes").select("*").order("suburb");if(V){console.error("Error fetching postcodes:",V);return}p(M),x(M)})()},[]),g.useEffect(()=>{if(j.length===0)x(m);else{const R=m.filter(M=>M.suburb.toLowerCase().includes(j.toLowerCase())||M.postcode.includes(j));x(R)}},[j,m]);const E=async R=>{if(R.preventDefault(),!c.label.trim()||!c.address.trim()||!c.postcode){te({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}h(!0);try{let M;if(o)M=k.map(V=>V.id===o.id?{...V,label:c.label,address:c.address,postcode:c.postcode}:V);else{const V=Math.random().toString(36).substr(2,9);M=[...k,{id:V,label:c.label,address:c.address,postcode:c.postcode}]}await t({addresses:M}),n(!1),l(null),u({label:"",address:"",postcode:""}),w(""),te({title:"Success",description:o?"Address updated":"Address added"})}catch(M){console.error("Error saving address:",M),te({variant:"destructive",title:"Error",description:"Could not save address"})}finally{h(!1)}},P=async R=>{try{const M=k.filter(V=>V.id!==R);await t({addresses:M}),te({title:"Success",description:"Address deleted"})}catch(M){console.error("Error deleting address:",M),te({variant:"destructive",title:"Error",description:"Could not delete address"})}},D=R=>{u(M=>({...M,address:R.address,postcode:R.postcode})),w(`${R.suburb.toUpperCase()}, ${R.postcode}`)},A=R=>{u(M=>({...M,postcode:R.postcode})),w(`${R.suburb}, ${R.postcode}`),N(!1)},C=(R=null)=>{if(l(R),R){u({label:R.label,address:R.address,postcode:R.postcode});const M=m.find(V=>V.postcode===R.postcode);M&&w(`${M.suburb}, ${M.postcode}`)}else u({label:"",address:"",postcode:""}),w("");n(!0)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Saved Addresses"}),i.jsxs(Gs,{open:r,onOpenChange:n,children:[i.jsx(sa,{asChild:!0,children:i.jsxs(Q,{onClick:()=>C(),children:[i.jsx(ra,{className:"w-4 h-4 mr-2"}),"Add Address"]})}),i.jsxs(es,{children:[i.jsx(ts,{children:i.jsx(rs,{children:o?"Edit Address":"Add New Address"})}),i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"label",children:"Label"}),i.jsx(xe,{id:"label",placeholder:"e.g., Home, Work",value:c.label,onChange:R=>u(M=>({...M,label:R.target.value})),disabled:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"address",children:"Address"}),i.jsx(Id,{value:c.address,onChange:R=>u(M=>({...M,address:R})),onAddressSelect:D,placeholder:"Start typing your address...",disabled:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:j,onChange:R=>{w(R.target.value),N(!0)},onFocus:()=>N(!0),disabled:f}),S&&y.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:y.slice(0,10).map(R=>i.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>A(R),children:[i.jsx("div",{className:"text-sm font-medium",children:R.suburb}),i.jsx("div",{className:"text-xs text-gray-500",children:R.postcode})]},`${R.suburb}-${R.postcode}`))})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:()=>{n(!1),N(!1)},disabled:f,children:"Cancel"}),i.jsx(Q,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Add"})]})]})]})]})]}),i.jsx("div",{className:"space-y-2",children:k.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No addresses saved yet."}):k.map(R=>{const M=m.find(V=>V.postcode===R.postcode);return i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:R.label}),i.jsx("p",{className:"text-sm text-muted-foreground",children:R.address}),i.jsx("p",{className:"text-sm text-muted-foreground",children:M?`${M.suburb}, ${M.postcode}`:R.postcode})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>C(R),children:i.jsx(O$,{className:"w-4 h-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>P(R.id),children:i.jsx(na,{className:"w-4 h-4"})})]})]},R.id)})})]})},Ur=le.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ur.displayName="Card";const tn=le.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));tn.displayName="CardHeader";const rn=le.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));rn.displayName="CardTitle";const bp=le.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));bp.displayName="CardDescription";const Vr=le.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("p-6 pt-0",e),...t}));Vr.displayName="CardContent";const y9=le.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("flex items-center p-6 pt-0",e),...t}));y9.displayName="CardFooter";const zC=({orders:e})=>{const t=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=n=>n?zt(new Date(n),"PPP"):"N/A";return e.length===0?i.jsx(Ur,{children:i.jsxs(Vr,{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(Br,{className:"w-12 h-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No upcoming orders"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your scheduled pickup orders will appear here."})]})}):i.jsx("div",{className:"space-y-2",children:e.map(n=>{var o,l;return i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs(Ur,{className:"py-2",children:[i.jsx(tn,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(rn,{className:"text-base",children:["Order #",n.id.slice(0,6).toUpperCase()]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pt,{className:t(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),i.jsx(Ce,{to:`/pickup-order/${n.id}`,children:i.jsx(Q,{variant:"ghost",size:"sm",children:i.jsx(D1,{className:"w-4 h-4"})})})]})]})}),i.jsxs(Vr,{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(qs,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r(n.pickup_date)]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(nn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]})]}),i.jsxs("div",{className:"flex items-center text-xs",children:[i.jsx(Fi,{className:"w-4 h-4 mr-2 text-muted-foreground"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:(o=n.pickup_order_stores)==null?void 0:o.map((c,u)=>{var f;return i.jsx(pt,{variant:"outline",className:"text-xs",children:(f=c.stores)==null?void 0:f.name},u)})})]}),i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsx("span",{children:"Estimated Total:"}),i.jsx("span",{className:"font-medium",children:Pe(n.estimated_total)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-medium mb-1",children:"Store Details:"}),i.jsx("div",{className:"space-y-1",children:(l=n.pickup_order_stores)==null?void 0:l.map((c,u)=>{var f;return i.jsxs("div",{className:"flex justify-between items-center text-xs bg-muted/30 p-1 rounded",children:[i.jsx("span",{children:(f=c.stores)==null?void 0:f.name}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-medium",children:Pe(c.estimated_total||0)}),i.jsx(pt,{variant:"outline",className:"text-xs",children:c.status})]})]},u)})})]}),n.photos&&n.photos.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-medium mb-1",children:"Photos:"}),i.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[n.photos.slice(0,4).map((c,u)=>i.jsx("img",{src:c.data,alt:`Photo ${u+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(c.data,"_blank")},u)),n.photos.length>4&&i.jsxs("div",{className:"aspect-square rounded bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",n.photos.length-4," more"]})]})]}),i.jsx("div",{className:"flex justify-center pt-1",children:i.jsx(Ce,{to:`/pickup-order/${n.id}`,children:i.jsx(Q,{size:"sm",children:"View Full Details"})})})]})]})},n.id)})})},x9=()=>{const{user:e,updateUserInfo:t,logout:r,loading:n}=ir(),[o,l]=g.useState([]),[c,u]=g.useState([]),[f,h]=g.useState(!0),m=Pr(),[p,y]=g.useState({name:"",email:"",phone:""}),[x,j]=g.useState({}),[w,S]=g.useState(!1);g.useEffect(()=>{!n&&!e?m("/login"):e&&(y({name:e.name||"",email:e.email||"",phone:e.phone||""}),N(e.id),k(e.id))},[e,n,m]);const N=async V=>{h(!0);try{const{data:B,error:z}=await ie.from("orders").select("*").eq("user_id",V).order("created_at",{ascending:!1});if(z)throw z;l(B||[])}catch(B){console.error("Error fetching orders:",B)}},k=async V=>{try{const{data:B,error:z}=await ie.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("user_id",V).order("created_at",{ascending:!1});if(z)throw z;u(B||[])}catch(B){console.error("Error fetching pickup orders:",B)}finally{h(!1)}},E=async(V,B)=>{try{const{data:z,error:G}=await ie.from("pickup_orders").select("admin_messages").eq("id",V).single();if(G)throw G;const X=z.admin_messages||[],J={from:"customer",message:B,timestamp:new Date().toISOString()},{error:ee}=await ie.from("pickup_orders").update({admin_messages:[...X,J]}).eq("id",V);if(ee)throw ee;k(e.id)}catch(z){console.error("Error sending message:",z)}},P=V=>{const{name:B,value:z}=V.target;y(G=>({...G,[B]:z})),x[B]&&j(G=>({...G,[B]:""}))},D=()=>{const V={};return p.name.trim()||(V.name="Name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(V.email="Email is invalid"):V.email="Email is required",j(V),Object.keys(V).length===0},A=async V=>{if(V.preventDefault(),!(!D()||w)){S(!0);try{await t({name:p.name,email:p.email}),toast({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(B){console.error("Error updating profile:",B),toast({variant:"destructive",title:"Update Failed",description:B.message})}finally{S(!1)}}},C=async()=>{await r(),m("/")},R=V=>{if(!V)return"N/A";const B=new Date(V);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(B)},M=V=>{switch(V){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100"}};return n?i.jsx("div",{className:"container flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[i.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-3xl font-bold tracking-tight mb-6",children:"My Account"}),i.jsxs(Hv,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(qd,{className:"grid w-full grid-cols-3 md:w-auto md:inline-flex",children:[i.jsxs(Ci,{value:"profile",className:"flex items-center",children:[i.jsx(F1,{className:"w-4 h-4 mr-2"}),"Profile"]}),i.jsxs(Ci,{value:"orders",className:"flex items-center",children:[i.jsx(Br,{className:"w-4 h-4 mr-2"}),"Orders"]}),i.jsxs(Ci,{value:"grocery-runs",className:"flex items-center",children:[i.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Grocery Runs"]})]}),i.jsxs(ki,{value:"profile",className:"space-y-6",children:[i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 border rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Full Name"}),i.jsx(xe,{id:"name",name:"name",value:p.name,onChange:P,className:x.name?"border-destructive":"",disabled:w}),x.name&&i.jsx("p",{className:"text-xs text-destructive",children:x.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"email",children:"Email"}),i.jsx(xe,{id:"email",name:"email",type:"email",value:p.email,onChange:P,className:x.email?"border-destructive":"",disabled:w}),x.email&&i.jsx("p",{className:"text-xs text-destructive",children:x.email})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),i.jsx(xe,{id:"phone",name:"phone",value:p.phone,className:"bg-muted/50",disabled:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone number cannot be changed."})]}),i.jsx("div",{className:"flex justify-end space-x-2",children:i.jsx(Q,{type:"submit",disabled:w,children:w?"Saving...":"Save Changes"})})]})]}),i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:i.jsx(g9,{})}),i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"p-6 border rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Actions"}),i.jsxs(Q,{variant:"destructive",className:"flex items-center",onClick:C,disabled:w,children:[i.jsx(R1,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),i.jsx(ki,{value:"orders",className:"space-y-6",children:i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:i.jsxs("div",{className:"p-6 border rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Orders"}),f?i.jsx("div",{className:"flex items-center justify-center h-40",children:i.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Br,{className:"w-12 h-12 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No delivery orders yet"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start shopping to place your first order."}),i.jsx(Ce,{to:"/shop",children:i.jsx(Q,{className:"mt-4",children:"Start Shopping"})})]}):i.jsx("div",{className:"space-y-4",children:o.map(V=>i.jsx(Ce,{to:`/order-confirmation/${V.id}`,className:"block p-4 border rounded-lg hover:bg-muted/30 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("h3",{className:"font-medium",children:["Order #",V.id.substring(0,6).toUpperCase(),"..."]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(V.status)}`,children:V.status.charAt(0).toUpperCase()+V.status.slice(1)})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[R(V.created_at)," • ",Pe(V.total)]})]}),i.jsx("div",{className:"mt-2 sm:mt-0 text-right",children:i.jsx("p",{className:"font-medium",children:Pe(V.total)})})]})},V.id))})]})})}),i.jsx(ki,{value:"grocery-runs",className:"space-y-6",children:i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("div",{className:"p-6 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Your Grocery Runs"}),i.jsx(Ce,{to:"/store-pickup",children:i.jsx(Q,{children:"Schedule New"})})]}),f?i.jsx("div",{className:"flex items-center justify-center h-40",children:i.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx(zC,{orders:c,onSendMessage:E})]})})})]})]})},w9=({pendingCount:e,processingCount:t,deliveredCount:r})=>{const n=[{title:"Pending Orders",count:e,icon:Br,color:"yellow"},{title:"Processing Orders",count:t,icon:I1,color:"blue"},{title:"Delivered Orders",count:r,icon:U1,color:"green"}],o={yellow:{bg:"bg-yellow-100/50",text:"text-yellow-600"},blue:{bg:"bg-blue-100/50",text:"text-blue-600"},green:{bg:"bg-green-100/50",text:"text-green-600"}};return i.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:n.map((l,c)=>i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*(c+1)},className:"p-6 border rounded-lg bg-card",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`p-2 rounded-full ${o[l.color].bg}`,children:i.jsx(l.icon,{className:`h-6 w-6 ${o[l.color].text}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:l.title}),i.jsx("h3",{className:"text-2xl font-bold",children:l.count})]})]})},l.title))})},b9=({order:e,onStatusChange:t,onDeliveryTimeChange:r})=>{const[n,o]=le.useState(!1),l=h=>{const m=new Date(h);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(m)},c=h=>{switch(h){case"pending":return"order-status-pending";case"processing":return"order-status-processing";case"delivered":return"order-status-delivered";case"cancelled":return"order-status-cancelled";default:return""}},u=h=>{t(e.id,h)},f=h=>{const m=h.target.value;r(e.id,m)};return i.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg overflow-hidden bg-card",children:[i.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>o(!n),children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:i.jsx(Br,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:e.id}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l(e.date)})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium",children:e.customer.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.customer.email})]}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium",children:Pe(e.total)}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.items.length," ",e.items.length===1?"item":"items"]})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${c(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:h=>h.stopPropagation(),children:n?i.jsx(T1,{className:"h-4 w-4"}):i.jsx(Zp,{className:"h-4 w-4"})})]})]}),n&&i.jsx("div",{className:"p-4 border-t bg-muted/30",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Customer Information"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",e.customer.name]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Email:"})," ",e.customer.email]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",e.customer.phone]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Address:"})," ",e.customer.address]}),e.deliveryNotes&&i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Delivery Notes:"})," ",e.deliveryNotes]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(oe,{htmlFor:`status-${e.id}`,children:"Order Status"}),i.jsxs(Jt,{defaultValue:e.status,onValueChange:u,children:[i.jsx(Vt,{className:"w-[180px]",children:i.jsx(Qt,{placeholder:"Select status"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"pending",children:"Pending"}),i.jsx(Ie,{value:"processing",children:"Processing"}),i.jsx(Ie,{value:"delivered",children:"Delivered"}),i.jsx(Ie,{value:"cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{children:[i.jsxs(oe,{htmlFor:`delivery-time-${e.id}`,className:"flex items-center gap-2",children:[i.jsx(qs,{className:"h-4 w-4"}),"Expected Delivery Time"]}),i.jsx(xe,{id:`delivery-time-${e.id}`,type:"datetime-local",value:e.expected_delivery_at?new Date(e.expected_delivery_at).toISOString().slice(0,16):"",onChange:f,className:"mt-1"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Order Items"}),i.jsx("div",{className:"space-y-2",children:e.items.map((h,m)=>i.jsxs("div",{className:"flex justify-between p-2 rounded bg-background",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium",children:h.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["x",h.quantity]})]}),i.jsx("span",{className:"text-sm",children:Pe(h.price*h.quantity)})]},m))}),i.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between",children:[i.jsx("span",{className:"font-semibold",children:"Total"}),i.jsx("span",{className:"font-semibold",children:Pe(e.total)})]})]})]})]})})]})},j9=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[o,l]=g.useState("all"),[c,u]=g.useState("");g.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:y,error:x}=await ie.from("orders").select("*").order("created_at",{ascending:!1});if(x)throw x;t(y||[])}catch(y){console.error("Error fetching orders:",y),te({variant:"destructive",title:"Error",description:"Could not load orders."})}finally{n(!1)}},h=async(y,x)=>{try{const{error:j}=await ie.from("orders").update({status:x}).eq("id",y);if(j)throw j;te({title:"Status Updated",description:`Order status changed to ${x}`}),f()}catch(j){console.error("Error updating order status:",j),te({variant:"destructive",title:"Error",description:"Could not update order status."})}},m=async(y,x)=>{try{const{error:j}=await ie.from("orders").update({expected_delivery_at:x}).eq("id",y);if(j)throw j;te({title:"Delivery Time Updated",description:"Expected delivery time has been updated"}),f()}catch(j){console.error("Error updating delivery time:",j),te({variant:"destructive",title:"Error",description:"Could not update delivery time."})}},p=e.filter(y=>{var w,S;const x=((w=y.customer_name)==null?void 0:w.toLowerCase().includes(c.toLowerCase()))||((S=y.customer_email)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||y.id.toLowerCase().includes(c.toLowerCase()),j=o==="all"||y.status===o;return x&&j});return i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Orders Management"}),i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ta,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:c,onChange:y=>u(y.target.value)})]}),i.jsxs(Jt,{value:o,onValueChange:l,children:[i.jsx(Vt,{className:"w-full md:w-[180px]",children:i.jsx(Qt,{placeholder:"Filter by status"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"all",children:"All Orders"}),i.jsx(Ie,{value:"pending",children:"Pending"}),i.jsx(Ie,{value:"processing",children:"Processing"}),i.jsx(Ie,{value:"delivered",children:"Delivered"}),i.jsx(Ie,{value:"cancelled",children:"Cancelled"})]})]}),i.jsx(Q,{variant:"outline",className:"md:w-auto",onClick:()=>{u(""),l("all")},children:"Reset Filters"})]})]}),r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"space-y-4",children:p.length===0?i.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[i.jsx(Br,{className:"w-12 h-12 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No orders found"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your filters."})]}):p.map(y=>i.jsx(b9,{order:{id:y.id,date:y.created_at,customer:{name:y.customer_name,email:y.customer_email,phone:y.customer_phone,address:y.customer_address},items:y.items,total:y.total,status:y.status,deliveryNotes:y.delivery_notes,expected_delivery_at:y.expected_delivery_at},onStatusChange:h,onDeliveryTimeChange:m},y.id))})]})},ca=le.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:ke("w-full caption-bottom text-sm",e),...t})}));ca.displayName="Table";const ua=le.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:ke("[&_tr]:border-b",e),...t}));ua.displayName="TableHeader";const da=le.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:ke("[&_tr:last-child]:border-0",e),...t}));da.displayName="TableBody";const S9=le.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));S9.displayName="TableFooter";const Zt=le.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Zt.displayName="TableRow";const Ke=le.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableHead";const ze=le.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ze.displayName="TableCell";const _9=le.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:ke("mt-4 text-sm text-muted-foreground",e),...t}));_9.displayName="TableCaption";const qv=(e="groceroo_images")=>{const[t,r]=g.useState(!1),[n,o]=g.useState(null);return{isUploading:t,uploadError:n,uploadFile:async(u,f="")=>{if(!u)return{url:null,error:null};r(!0),o(null);const h=u.name.split(".").pop(),m=`${Date.now()}.${h}`,p=f?`${f}/${m}`:m;try{const{data:y,error:x}=await ie.storage.from(e).upload(p,u);if(x)throw x;const{data:j}=ie.storage.from(e).getPublicUrl(p);return r(!1),{url:j.publicUrl,error:null}}catch(y){return console.error(`Error uploading file to ${e}:`,y),o(y.message),te({variant:"destructive",title:"Upload Failed",description:y.message}),r(!1),{url:null,error:y.message}}},deleteFile:async u=>{if(!u)return{success:!0,error:null};const f=u.split("/"),h=f.findIndex(p=>p===e);if(h===-1||h===f.length-1)return console.warn("Could not parse file path from URL:",u),{success:!1,error:"Could not parse file path"};const m=f.slice(h+1).join("/");if(!m)return console.warn("Empty file path extracted from URL:",u),{success:!1,error:"Empty file path"};try{const{error:p}=await ie.storage.from(e).remove([m]);if(p)throw p;return console.log(`Successfully deleted file ${m} from ${e}.`),{success:!0,error:null}}catch(p){return console.error(`Error deleting file ${m}:`,p),te({variant:"destructive",title:"Deletion Error",description:`Could not delete file: ${p.message}`}),{success:!1,error:p.message}}}}},N9=({product:e,categories:t,onSubmit:r,onCancel:n})=>{const[o,l]=g.useState({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),[c,u]=g.useState({}),[f,h]=g.useState(null),[m,p]=g.useState(""),y=g.useRef(null),{isUploading:x,uploadFile:j,deleteFile:w}=qv();g.useEffect(()=>{e?(l({name:e.name||"",price:e.price||"",unit:e.unit||"",category_id:e.category_id?String(e.category_id):"",description:e.description||"",image_url:e.image_url||"",in_stock:e.in_stock!==void 0?e.in_stock:!0,featured:e.featured!==void 0?e.featured:!1,categories_ids:e.categories_ids||[]}),p(e.image_url||"")):(l({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),p(""),h(null))},[e]);const S=C=>{const{name:R,value:M,type:V,checked:B}=C.target;l(z=>({...z,[R]:V==="checkbox"?B:M})),c[R]&&u(z=>({...z,[R]:""}))},N=(C,R)=>{l(M=>({...M,[C]:R})),c[C]&&u(M=>({...M,[C]:""}))},k=C=>{const R=C.target.files[0];if(R){h(R);const M=new FileReader;M.onloadend=()=>p(M.result),M.readAsDataURL(R),u(V=>({...V,image_url:""}))}},E=async()=>{let C=o.image_url||null;if(f){e&&e.image_url&&await w(e.image_url);const{url:R,error:M}=await j(f,"products");if(M)return u(V=>({...V,image_url:"Image upload failed. Please try again."})),null;C=R}return C},P=()=>{const C={};return o.name.trim()||(C.name="Name is required"),(!o.price||isNaN(o.price)||parseFloat(o.price)<=0)&&(C.price="Valid price is required"),o.unit.trim()||(C.unit="Unit is required"),o.category_id||(C.category_id="Category is required"),o.description.trim()||(C.description="Description is required"),u(C),Object.keys(C).length===0},D=async C=>{if(C.preventDefault(),!P()||x)return;const R=await E();if(f&&R===null){te({variant:"destructive",title:"Submission Failed",description:"Product could not be saved due to image upload error."});return}const M={name:o.name,price:parseFloat(o.price),unit:o.unit,category_id:parseInt(o.category_id),description:o.description,image_url:R,in_stock:o.in_stock,featured:o.featured,updated_at:new Date,categories_ids:o.categories_ids};e!=null&&e.id&&(M.id=e.id),r(M)},A=C=>{const R=Array.from(C.target.selectedOptions);l(M=>({...M,categories_ids:R.map(V=>parseInt(V.value))})),c.categories_ids&&u(M=>({...M,categories_ids:""}))};return i.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"product-image",children:"Product Image"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:m?i.jsx("img",{src:m,alt:"Product Preview",className:"object-cover w-full h-full"}):i.jsx(yd,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx(xe,{id:"product-image",type:"file",accept:"image/*",onChange:k,ref:y,className:"hidden",disabled:x}),i.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var C;return(C=y.current)==null?void 0:C.click()},disabled:x,children:[i.jsx(A1,{className:"w-4 h-4 mr-2"}),x?"Uploading...":f?"Change Image":"Upload Image"]})]}),c.image_url&&i.jsx("p",{className:"text-xs text-destructive",children:c.image_url})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Product Name"}),i.jsx(xe,{id:"name",name:"name",value:o.name,onChange:S,className:c.name?"border-destructive":"",disabled:x}),c.name&&i.jsx("p",{className:"text-xs text-destructive",children:c.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"price",children:"Price"}),i.jsx(xe,{id:"price",name:"price",type:"number",step:"0.01",value:o.price,onChange:S,className:c.price?"border-destructive":"",disabled:x}),c.price&&i.jsx("p",{className:"text-xs text-destructive",children:c.price})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"unit",children:"Unit (e.g., lb, bunch, each)"}),i.jsx(xe,{id:"unit",name:"unit",value:o.unit,onChange:S,className:c.unit?"border-destructive":"",disabled:x}),c.unit&&i.jsx("p",{className:"text-xs text-destructive",children:c.unit})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"category_id",children:"Category"}),i.jsxs(Jt,{value:o.category_id,onValueChange:C=>N("category_id",C),disabled:x,children:[i.jsx(Vt,{className:c.category_id?"border-destructive":"",children:i.jsx(Qt,{placeholder:"Select category"})}),i.jsx(Bt,{children:t.map(C=>i.jsx(Ie,{value:String(C.id),children:C.name},C.id))})]}),c.category_id&&i.jsx("p",{className:"text-xs text-destructive",children:c.category_id})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"categories_ids",children:"Other Categories"}),i.jsx("select",{id:"categories_ids",name:"categories_ids",multiple:!0,value:o.categories_ids.map(String),onChange:A,className:"w-full border rounded p-2 min-h-[40px]",disabled:x,children:t.filter(C=>String(C.id)!==o.category_id).map(C=>i.jsx("option",{value:C.id,children:C.name},C.id))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple categories."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"description",children:"Description"}),i.jsx(ln,{id:"description",name:"description",value:o.description,onChange:S,className:c.description?"border-destructive":"",disabled:x}),c.description&&i.jsx("p",{className:"text-xs text-destructive",children:c.description})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zn,{id:"in_stock",name:"in_stock",checked:o.in_stock,onCheckedChange:C=>N("in_stock",C),disabled:x}),i.jsx(oe,{htmlFor:"in_stock",children:"In Stock"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zn,{id:"featured",name:"featured",checked:o.featured,onCheckedChange:C=>N("featured",C),disabled:x}),i.jsx(oe,{htmlFor:"featured",children:"Featured Product"})]})]}),i.jsxs(ia,{children:[i.jsx(Q,{type:"button",variant:"outline",onClick:n,disabled:x,children:"Cancel"}),i.jsx(Q,{type:"submit",disabled:x,children:x?"Saving...":e?"Save Changes":"Add Product"})]})]})},C9=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState([]),[l,c]=g.useState(!0),[u,f]=g.useState(""),[h,m]=g.useState(!1),[p,y]=g.useState(null),[x,j]=g.useState(!1),w=g.useCallback(async()=>{c(!0);try{const{data:A,error:C}=await ie.from("products").select("*, categories(id, name)").order("name",{ascending:!0});if(C)throw C;r(A||[]);const{data:R,error:M}=await ie.from("categories").select("*").order("name",{ascending:!0});if(M)throw M;o(R||[])}catch(A){console.error("Error fetching products or categories:",A),te({variant:"destructive",title:"Fetch Error",description:"Could not load products or categories."})}finally{c(!1)}},[]);g.useEffect(()=>{w()},[w]);const S=g.useMemo(()=>{let A=[...t];if(u){const C=u.toLowerCase();A=A.filter(R=>{var M,V;return R.name.toLowerCase().includes(C)||((M=R.description)==null?void 0:M.toLowerCase().includes(C))||((V=R.categories)==null?void 0:V.name.toLowerCase().includes(C))})}return A},[t,u]),N=async A=>{c(!0);try{let C;if(p){const{data:R,error:M}=await ie.from("products").update({...A,category_id:A.category_id,categories_ids:A.categories_ids||[],updated_at:new Date}).eq("id",p.id).select("*, categories(id, name)").single();if(M)throw M;C=R,te({title:"Product Updated",description:`${C.name} has been updated.`})}else{const{data:R,error:M}=await ie.from("products").insert({...A,category_id:A.category_id,categories_ids:A.categories_ids||[]}).select("*, categories(id, name)").single();if(M)throw M;C=R,te({title:"Product Added",description:`${C.name} has been added.`})}w(),m(!1),y(null)}catch(C){console.error("Error saving product:",C),te({variant:"destructive",title:"Save Error",description:C.message})}finally{c(!1)}},k=A=>{const C=t.find(R=>R.id===A);C&&e("product",A,C.image_url)},E=g.useRef(null),P=async A=>{j(!0),E.current.click()},D=async A=>{const C=A.target.files[0];if(!C)return;if(C.type!=="text/csv"){console.error("Please upload a CSV file.");return}const R=new FileReader;R.onload=async M=>{const B=M.target.result.split(`
`).filter(G=>G.trim()!=="");if(B.length===0){console.warn("CSV file is empty.");return}const z=B.slice(1).map(G=>{const[X,J,ee,I]=G.split(",");return{name:X?X.trim():"",price:J?parseFloat(J.trim()):0,description:ee?ee.trim():"",stock:I?parseInt(I.trim(),10):0}}).filter(G=>G.name);if(console.log("Parsed Products:",z),z.length===0){console.warn("No valid product data found in CSV.");return}try{const{data:G,error:X}=await ie.from("products").insert(z);X?console.error("Error inserting data into Supabase:",X):console.log("Bulk upload successful to Supabase:",G)}catch(G){console.error("Unexpected error during Supabase insert:",G)}},R.onerror=M=>{console.error("Error reading file:",M)},R.readAsText(C)};return i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Products Management"}),i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ta,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search products...",className:"pl-8 w-full md:w-[200px]",value:u,onChange:A=>f(A.target.value)})]}),i.jsxs(Gs,{open:h,onOpenChange:A=>{m(A),A||y(null)},children:[i.jsx(sa,{asChild:!0,children:i.jsxs(Q,{onClick:()=>y(null),children:[i.jsx(gd,{className:"w-4 h-4 mr-2"})," Add Product"]})}),i.jsxs(es,{className:"sm:max-w-[600px]",children:[i.jsx(ts,{children:i.jsx(rs,{children:p?"Edit Product":"Add New Product"})}),i.jsx(N9,{product:p,categories:n,onSubmit:N,onCancel:()=>m(!1)},p?p.id:"new")]})]}),i.jsx(Q,{onClick:P,disabled:x,children:x?"Uploading...":"Upload CSV"}),i.jsx("input",{type:"file",ref:E,accept:".csv",onChange:D,style:{display:"none"}})]})]}),l?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"border rounded-lg overflow-x-auto",children:i.jsxs(ca,{children:[i.jsx(ua,{children:i.jsxs(Zt,{children:[i.jsx(Ke,{className:"w-[80px]",children:"Image"}),i.jsx(Ke,{children:"Name"}),i.jsx(Ke,{children:"Category"}),i.jsx(Ke,{children:"Price"}),i.jsx(Ke,{children:"Stock"}),i.jsx(Ke,{children:"Featured"}),i.jsx(Ke,{className:"text-right",children:"Actions"})]})}),i.jsx(da,{children:S.length===0?i.jsx(Zt,{children:i.jsx(ze,{colSpan:7,className:"h-24 text-center",children:"No products found."})}):S.map(A=>{var C;return i.jsxs(Zt,{children:[i.jsx(ze,{children:i.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:A.image_url?i.jsx("img",{src:A.image_url,alt:A.name,className:"object-cover w-full h-full"}):i.jsx(yd,{className:"w-6 h-6 text-muted-foreground"})})}),i.jsx(ze,{className:"font-medium",children:A.name}),i.jsx(ze,{children:((C=A.categories)==null?void 0:C.name)||"N/A"}),i.jsx(ze,{children:Pe(A.price)}),i.jsx(ze,{children:i.jsx(pt,{variant:A.in_stock?"default":"destructive",className:`whitespace-nowrap ${A.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.in_stock?"In Stock":"Out"})}),i.jsx(ze,{children:i.jsx(Zn,{checked:A.featured,disabled:!0,className:"cursor-default"})}),i.jsxs(ze,{className:"text-right",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{y(A),m(!0)},children:i.jsx(wd,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>k(A.id),children:i.jsx(na,{className:"h-4 w-4"})})]})]},A.id)})})]})})]})},k9=({category:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({name:"",description:"",image_url:""}),[l,c]=g.useState({}),[u,f]=g.useState(null),[h,m]=g.useState(""),p=g.useRef(null),{isUploading:y,uploadFile:x,deleteFile:j}=qv();g.useEffect(()=>{e?(o({name:e.name||"",description:e.description||"",image_url:e.image_url||""}),m(e.image_url||"")):(o({name:"",description:"",image_url:""}),m(""),f(null))},[e]);const w=P=>{const{name:D,value:A}=P.target;o(C=>({...C,[D]:A})),l[D]&&c(C=>({...C,[D]:""}))},S=P=>{const D=P.target.files[0];if(D){f(D);const A=new FileReader;A.onloadend=()=>m(A.result),A.readAsDataURL(D),c(C=>({...C,image_url:""}))}},N=async()=>{let P=n.image_url||null;if(u){e&&e.image_url&&await j(e.image_url);const{url:D,error:A}=await x(u,"categories");if(A)return c(C=>({...C,image_url:"Image upload failed."})),null;P=D}return P},k=()=>{const P={};return n.name.trim()||(P.name="Name is required"),n.description.trim()||(P.description="Description is required"),c(P),Object.keys(P).length===0},E=async P=>{if(P.preventDefault(),!k()||y)return;const D=await N();if(u&&D===null){te({variant:"destructive",title:"Submission Failed",description:"Category could not be saved due to image upload error."});return}const A={name:n.name,description:n.description,image_url:D,updated_at:new Date};e!=null&&e.id&&(A.id=e.id),t(A)};return i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"category-image",children:"Category Image"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:h?i.jsx("img",{src:h,alt:"Category Preview",className:"object-cover w-full h-full"}):i.jsx(yd,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx(xe,{id:"category-image",type:"file",accept:"image/*",onChange:S,ref:p,className:"hidden",disabled:y}),i.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var P;return(P=p.current)==null?void 0:P.click()},disabled:y,children:[i.jsx(A1,{className:"w-4 h-4 mr-2"}),y?"Uploading...":u?"Change Image":"Upload Image"]})]}),l.image_url&&i.jsx("p",{className:"text-xs text-destructive",children:l.image_url})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Category Name"}),i.jsx(xe,{id:"name",name:"name",value:n.name,onChange:w,className:l.name?"border-destructive":"",disabled:y}),l.name&&i.jsx("p",{className:"text-xs text-destructive",children:l.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"description",children:"Description"}),i.jsx(ln,{id:"description",name:"description",value:n.description,onChange:w,className:l.description?"border-destructive":"",disabled:y}),l.description&&i.jsx("p",{className:"text-xs text-destructive",children:l.description})]}),i.jsxs(ia,{children:[i.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:y,children:"Cancel"}),i.jsx(Q,{type:"submit",disabled:y,children:y?"Saving...":e?"Save Changes":"Add Category"})]})]})},P9=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState(!1),[h,m]=g.useState(null),p=g.useCallback(async()=>{o(!0);try{const{data:w,error:S}=await ie.from("categories").select("*").order("name",{ascending:!0});if(S)throw S;r(w||[])}catch(w){console.error("Error fetching categories:",w),te({variant:"destructive",title:"Fetch Error",description:"Could not load categories."})}finally{o(!1)}},[]);g.useEffect(()=>{p()},[p]);const y=g.useMemo(()=>{let w=[...t];if(l){const S=l.toLowerCase();w=w.filter(N=>{var k;return N.name.toLowerCase().includes(S)||((k=N.description)==null?void 0:k.toLowerCase().includes(S))})}return w},[t,l]),x=async w=>{o(!0);try{let S;if(h){const{data:N,error:k}=await ie.from("categories").update(w).eq("id",h.id).select().single();if(k)throw k;S=N,te({title:"Category Updated",description:`${S.name} has been updated.`})}else{const{data:N,error:k}=await ie.from("categories").insert(w).select().single();if(k)throw k;S=N,te({title:"Category Added",description:`${S.name} has been added.`})}p(),f(!1),m(null)}catch(S){console.error("Error saving category:",S),te({variant:"destructive",title:"Save Error",description:S.message})}finally{o(!1)}},j=w=>{const S=t.find(N=>N.id===w);S&&e("category",w,S.image_url)};return i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Categories Management"}),i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ta,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search categories...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:w=>c(w.target.value)})]}),i.jsxs(Gs,{open:u,onOpenChange:w=>{f(w),w||m(null)},children:[i.jsx(sa,{asChild:!0,children:i.jsxs(Q,{onClick:()=>m(null),children:[i.jsx(gd,{className:"w-4 h-4 mr-2"})," Add Category"]})}),i.jsxs(es,{className:"sm:max-w-[425px]",children:[i.jsx(ts,{children:i.jsx(rs,{children:h?"Edit Category":"Add New Category"})}),i.jsx(k9,{category:h,onSubmit:x,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"border rounded-lg overflow-x-auto",children:i.jsxs(ca,{children:[i.jsx(ua,{children:i.jsxs(Zt,{children:[i.jsx(Ke,{className:"w-[80px]",children:"Image"}),i.jsx(Ke,{children:"Name"}),i.jsx(Ke,{children:"Description"}),i.jsx(Ke,{className:"text-right",children:"Actions"})]})}),i.jsx(da,{children:y.length===0?i.jsx(Zt,{children:i.jsx(ze,{colSpan:4,className:"h-24 text-center",children:"No categories found."})}):y.map(w=>i.jsxs(Zt,{children:[i.jsx(ze,{children:i.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:w.image_url?i.jsx("img",{src:w.image_url,alt:w.name,className:"object-cover w-full h-full"}):i.jsx(yd,{className:"w-6 h-6 text-muted-foreground"})})}),i.jsx(ze,{className:"font-medium",children:w.name}),i.jsx(ze,{className:"text-sm text-muted-foreground truncate max-w-xs",children:w.description}),i.jsxs(ze,{className:"text-right",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(w),f(!0)},children:i.jsx(wd,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(w.id),children:i.jsx(na,{className:"h-4 w-4"})})]})]},w.id))})]})})]})},E9=()=>{const[e,t]=g.useState({express_fee:"",scheduled_fee:"",late_fee:"",timezone:"Australia/Adelaide",estimated_delivery_minutes:45}),[r,n]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState({}),f=[{value:"Australia/Adelaide",label:"Adelaide (ACST/ACDT)"},{value:"Australia/Sydney",label:"Sydney (AEST/AEDT)"},{value:"Australia/Melbourne",label:"Melbourne (AEST/AEDT)"},{value:"Australia/Brisbane",label:"Brisbane (AEST)"},{value:"Australia/Perth",label:"Perth (AWST)"},{value:"Australia/Darwin",label:"Darwin (ACST)"}];g.useEffect(()=>{(async()=>{n(!0);try{const{data:j,error:w}=await ie.from("delivery_settings").select("*").eq("id",1).single();if(w&&w.code!=="PGRST116")throw w;t(j?{express_fee:j.express_fee||"",scheduled_fee:j.scheduled_fee||"",late_fee:j.late_fee||"",timezone:j.timezone||"Australia/Adelaide",estimated_delivery_minutes:j.estimated_delivery_minutes||45}:{express_fee:"9.99",scheduled_fee:"5.99",late_fee:"7.99",timezone:"Australia/Adelaide",estimated_delivery_minutes:45})}catch(j){console.error("Error fetching delivery settings:",j),te({variant:"destructive",title:"Fetch Error",description:"Could not load delivery settings."})}finally{n(!1)}})()},[]);const h=x=>{const{name:j,value:w}=x.target;t(S=>({...S,[j]:w})),c[j]&&u(S=>({...S,[j]:""}))},m=(x,j)=>{t(w=>({...w,[x]:j})),c[x]&&u(w=>({...w,[x]:""}))},p=()=>{const x={},j=(w,S)=>{(!w||isNaN(w)||parseFloat(w)<0)&&(x[S]="Valid non-negative fee is required")};return j(e.express_fee,"express_fee"),j(e.scheduled_fee,"scheduled_fee"),j(e.late_fee,"late_fee"),(!e.estimated_delivery_minutes||isNaN(e.estimated_delivery_minutes)||parseInt(e.estimated_delivery_minutes)<=0)&&(x.estimated_delivery_minutes="Valid delivery time is required"),u(x),Object.keys(x).length===0},y=async x=>{if(x.preventDefault(),!(!p()||o)){l(!0);try{const j={id:1,express_fee:parseFloat(e.express_fee),scheduled_fee:parseFloat(e.scheduled_fee),late_fee:parseFloat(e.late_fee),timezone:e.timezone,estimated_delivery_minutes:parseInt(e.estimated_delivery_minutes),updated_at:new Date},{error:w}=await ie.from("delivery_settings").upsert(j,{onConflict:"id"});if(w)throw w;te({title:"Settings Updated",description:"Delivery settings have been saved."})}catch(j){console.error("Error saving delivery settings:",j),te({variant:"destructive",title:"Save Error",description:j.message})}finally{l(!1)}}};return r?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsxs("form",{onSubmit:y,className:"space-y-6 max-w-md",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"express_fee",children:"Express Delivery Fee ($)"}),i.jsx(xe,{id:"express_fee",name:"express_fee",type:"number",step:"0.01",value:e.express_fee,onChange:h,className:c.express_fee?"border-destructive":"",disabled:o}),c.express_fee&&i.jsx("p",{className:"text-xs text-destructive",children:c.express_fee})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"scheduled_fee",children:"Scheduled Delivery Fee ($)"}),i.jsx(xe,{id:"scheduled_fee",name:"scheduled_fee",type:"number",step:"0.01",value:e.scheduled_fee,onChange:h,className:c.scheduled_fee?"border-destructive":"",disabled:o}),c.scheduled_fee&&i.jsx("p",{className:"text-xs text-destructive",children:c.scheduled_fee})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"late_fee",children:"Late Delivery Fee ($)"}),i.jsx(xe,{id:"late_fee",name:"late_fee",type:"number",step:"0.01",value:e.late_fee,onChange:h,className:c.late_fee?"border-destructive":"",disabled:o}),c.late_fee&&i.jsx("p",{className:"text-xs text-destructive",children:c.late_fee}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee applied for orders scheduled outside standard hours."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"timezone",children:"Timezone"}),i.jsxs(Jt,{value:e.timezone,onValueChange:x=>m("timezone",x),disabled:o,children:[i.jsx(Vt,{className:c.timezone?"border-destructive":"",children:i.jsx(Qt,{placeholder:"Select timezone"})}),i.jsx(Bt,{children:f.map(x=>i.jsx(Ie,{value:x.value,children:x.label},x.value))})]}),c.timezone&&i.jsx("p",{className:"text-xs text-destructive",children:c.timezone})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"estimated_delivery_minutes",children:"Estimated Delivery Time (minutes)"}),i.jsx(xe,{id:"estimated_delivery_minutes",name:"estimated_delivery_minutes",type:"number",min:"1",value:e.estimated_delivery_minutes,onChange:h,className:c.estimated_delivery_minutes?"border-destructive":"",disabled:o}),c.estimated_delivery_minutes&&i.jsx("p",{className:"text-xs text-destructive",children:c.estimated_delivery_minutes}),i.jsx("p",{className:"text-xs text-muted-foreground",children:'This will be displayed on the homepage as "Delivering in: X minutes (approx.)"'})]}),i.jsx(Q,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},T9=()=>{const[e,t]=g.useState({publishable_key:"",price_id:"",openai_key:""}),[r,n]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState({});g.useEffect(()=>{(async()=>{n(!0);try{const[{data:y},{data:x}]=await Promise.all([ie.from("stripe_settings").select("publishable_key, price_id").eq("id",1).single(),ie.from("openai_settings").select("api_key").eq("id",1).single()]);t({publishable_key:(y==null?void 0:y.publishable_key)||"",price_id:(y==null?void 0:y.price_id)||"",openai_key:(x==null?void 0:x.api_key)||""})}catch(y){console.error("Error fetching settings:",y),te({variant:"destructive",title:"Fetch Error",description:"Could not load settings."})}finally{n(!1)}})()},[]);const f=p=>{const{name:y,value:x}=p.target;t(j=>({...j,[y]:x})),c[y]&&u(j=>({...j,[y]:""}))},h=()=>{const p={};return e.publishable_key.trim()?e.publishable_key.startsWith("pk_")||(p.publishable_key='Invalid Publishable Key format. Should start with "pk_".'):p.publishable_key="Stripe Publishable Key is required.",e.price_id.trim()?e.price_id.startsWith("price_")||(p.price_id='Invalid Price ID format. Should start with "price_".'):p.price_id="Stripe Price ID is required.",e.openai_key.trim()?e.openai_key.startsWith("sk-")||(p.openai_key='Invalid OpenAI API Key format. Should start with "sk-".'):p.openai_key="OpenAI API Key is required.",u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!(!h()||o)){l(!0);try{const[y,x]=await Promise.all([ie.from("stripe_settings").upsert({id:1,publishable_key:e.publishable_key.trim(),price_id:e.price_id.trim(),updated_at:new Date},{onConflict:"id"}),ie.from("openai_settings").upsert({id:1,api_key:e.openai_key.trim(),updated_at:new Date},{onConflict:"id"})]);if(y.error)throw y.error;if(x.error)throw x.error;te({title:"Settings Updated",description:"Your payment and AI settings have been saved."})}catch(y){console.error("Error saving settings:",y),te({variant:"destructive",title:"Save Error",description:y.message})}finally{l(!1)}}};return r?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsxs("form",{onSubmit:m,className:"space-y-6 max-w-md",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"publishable_key",children:"Stripe Publishable Key"}),i.jsx(xe,{id:"publishable_key",name:"publishable_key",type:"text",value:e.publishable_key,onChange:f,placeholder:"pk_live_...",className:c.publishable_key?"border-destructive":"",disabled:o}),c.publishable_key&&i.jsx("p",{className:"text-xs text-destructive",children:c.publishable_key}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in your Stripe Dashboard under Developers > API Keys."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"price_id",children:"Stripe Default Price ID"}),i.jsx(xe,{id:"price_id",name:"price_id",type:"text",value:e.price_id,onChange:f,placeholder:"price_...",className:c.price_id?"border-destructive":"",disabled:o}),c.price_id&&i.jsx("p",{className:"text-xs text-destructive",children:c.price_id}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"The Price ID for your primary product/service in Stripe."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"openai_key",children:"OpenAI API Key"}),i.jsx(xe,{id:"openai_key",name:"openai_key",type:"password",value:e.openai_key,onChange:f,placeholder:"sk-...",className:c.openai_key?"border-destructive":"",disabled:o}),c.openai_key&&i.jsx("p",{className:"text-xs text-destructive",children:c.openai_key}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Your OpenAI API key for the AI shopping assistant. Find this in your OpenAI dashboard."})]}),i.jsx(Q,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},A9=()=>i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Settings"}),i.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:i.jsx(E9,{})})]}),i.jsx(Al,{}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Stripe Payment Gateway"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure your Stripe account to enable online payments."}),i.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:i.jsx(T9,{})})]})]}),D9=({store:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({name:"",address:"",phone:"",opening_time:"09:00",closing_time:"21:00"}),[l,c]=g.useState({}),[u,f]=g.useState(!1);g.useEffect(()=>{var y,x;e&&o({name:e.name||"",address:e.address||"",phone:e.phone||"",opening_time:((y=e.opening_time)==null?void 0:y.slice(0,5))||"09:00",closing_time:((x=e.closing_time)==null?void 0:x.slice(0,5))||"21:00"})},[e]);const h=y=>{const{name:x,value:j}=y.target;o(w=>({...w,[x]:j})),l[x]&&c(w=>({...w,[x]:""}))},m=()=>{const y={};return n.name.trim()||(y.name="Name is required"),n.address.trim()||(y.address="Address is required"),n.phone.trim()||(y.phone="Phone number is required"),n.opening_time||(y.opening_time="Opening time is required"),n.closing_time||(y.closing_time="Closing time is required"),c(y),Object.keys(y).length===0},p=async y=>{y.preventDefault(),!(!m()||u)&&(f(!0),await t(n),f(!1))};return i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Store Name"}),i.jsx(xe,{id:"name",name:"name",value:n.name,onChange:h,className:l.name?"border-destructive":"",disabled:u}),l.name&&i.jsx("p",{className:"text-xs text-destructive",children:l.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"address",children:"Address"}),i.jsx(xe,{id:"address",name:"address",value:n.address,onChange:h,className:l.address?"border-destructive":"",disabled:u}),l.address&&i.jsx("p",{className:"text-xs text-destructive",children:l.address})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),i.jsx(xe,{id:"phone",name:"phone",value:n.phone,onChange:h,className:l.phone?"border-destructive":"",disabled:u}),l.phone&&i.jsx("p",{className:"text-xs text-destructive",children:l.phone})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"opening_time",children:"Opening Time"}),i.jsx(xe,{id:"opening_time",name:"opening_time",type:"time",value:n.opening_time,onChange:h,className:l.opening_time?"border-destructive":"",disabled:u}),l.opening_time&&i.jsx("p",{className:"text-xs text-destructive",children:l.opening_time})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"closing_time",children:"Closing Time"}),i.jsx(xe,{id:"closing_time",name:"closing_time",type:"time",value:n.closing_time,onChange:h,className:l.closing_time?"border-destructive":"",disabled:u}),l.closing_time&&i.jsx("p",{className:"text-xs text-destructive",children:l.closing_time})]})]}),i.jsxs(ia,{children:[i.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),i.jsx(Q,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Store":"Add Store"})]})]})},R9=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState(!1),[f,h]=g.useState(null),m=async()=>{try{const{data:j,error:w}=await ie.from("stores").select("*").order("name");if(w)throw w;t(j||[])}catch(j){console.error("Error fetching stores:",j),te({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{n(!1)}};g.useEffect(()=>{m()},[]);const p=async j=>{try{if(f){const{error:w}=await ie.from("stores").update(j).eq("id",f.id);if(w)throw w;te({title:"Store Updated",description:`${j.name} has been updated.`})}else{const{error:w}=await ie.from("stores").insert(j);if(w)throw w;te({title:"Store Added",description:`${j.name} has been added.`})}u(!1),h(null),m()}catch(w){console.error("Error saving store:",w),te({variant:"destructive",title:"Error",description:"Could not save store."})}},y=async j=>{if(window.confirm("Are you sure you want to delete this store?"))try{const{error:w}=await ie.from("stores").delete().eq("id",j);if(w)throw w;te({title:"Store Deleted",description:"Store has been removed."}),m()}catch(w){console.error("Error deleting store:",w),te({variant:"destructive",title:"Error",description:"Could not delete store."})}},x=e.filter(j=>j.name.toLowerCase().includes(o.toLowerCase())||j.address.toLowerCase().includes(o.toLowerCase()));return i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Store Management"}),i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ta,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search stores...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:j=>l(j.target.value)})]}),i.jsxs(Gs,{open:c,onOpenChange:u,children:[i.jsx(sa,{asChild:!0,children:i.jsxs(Q,{onClick:()=>h(null),children:[i.jsx(gd,{className:"w-4 h-4 mr-2"})," Add Store"]})}),i.jsxs(es,{className:"sm:max-w-[425px]",children:[i.jsx(ts,{children:i.jsx(rs,{children:f?"Edit Store":"Add New Store"})}),i.jsx(D9,{store:f,onSubmit:p,onCancel:()=>u(!1)})]})]})]})]}),r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"border rounded-lg overflow-x-auto",children:i.jsxs(ca,{children:[i.jsx(ua,{children:i.jsxs(Zt,{children:[i.jsx(Ke,{children:"Name"}),i.jsx(Ke,{children:"Address"}),i.jsx(Ke,{children:"Phone"}),i.jsx(Ke,{children:"Hours"}),i.jsx(Ke,{className:"text-right",children:"Actions"})]})}),i.jsx(da,{children:x.length===0?i.jsx(Zt,{children:i.jsx(ze,{colSpan:5,className:"h-24 text-center",children:"No stores found."})}):x.map(j=>i.jsxs(Zt,{children:[i.jsx(ze,{className:"font-medium",children:j.name}),i.jsx(ze,{children:j.address}),i.jsx(ze,{children:j.phone}),i.jsx(ze,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(nn,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("span",{children:[j.opening_time.slice(0,5)," - ",j.closing_time.slice(0,5)]})]})}),i.jsxs(ze,{className:"text-right",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{h(j),u(!0)},children:i.jsx(wd,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>y(j.id),children:i.jsx(na,{className:"h-4 w-4"})})]})]},j.id))})]})})]})},O9=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[f,h]=g.useState(null),[m,p]=g.useState(!1),[y,x]=g.useState(""),[j,w]=g.useState(""),[S,N]=g.useState(!1),k=async()=>{try{const{data:B,error:z}=await ie.from("pickup_orders").select(`
          *,
          profiles:user_id (name, phone),
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).order("created_at",{ascending:!1});if(z)throw z;t(B||[])}catch(B){console.error("Error fetching pickup orders:",B),te({variant:"destructive",title:"Error",description:"Could not load pickup orders."})}finally{n(!1)}};g.useEffect(()=>{k()},[]);const E=async(B,z)=>{try{const{error:G}=await ie.from("pickup_orders").update({status:z}).eq("id",B);if(G)throw G;te({title:"Status Updated",description:`Order status changed to ${z}`}),k()}catch(G){console.error("Error updating order status:",G),te({variant:"destructive",title:"Error",description:"Could not update order status."})}},P=async(B,z)=>{try{const{error:G}=await ie.from("pickup_order_stores").update({status:z}).eq("id",B);if(G)throw G;if(te({title:"Store Status Updated",description:`Store order status changed to ${z}`}),k(),f){const X=e.find(J=>J.id===f.id);h(X)}}catch(G){console.error("Error updating store order status:",G),te({variant:"destructive",title:"Error",description:"Could not update store order status."})}},D=async()=>{if(!(!j||!f)){N(!0);try{const z=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/confirm-pickup-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({orderId:f.id,actualAmount:parseFloat(j)})})).json();if(z.error)throw new Error(z.error);const{error:G}=await ie.from("pickup_orders").update({actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"}).eq("id",f.id);if(G)throw G;te({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Pe(parseFloat(j))}`}),w(""),k(),h({...f,actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"})}catch(B){console.error("Error confirming payment:",B),te({variant:"destructive",title:"Error",description:"Could not confirm payment: "+B.message})}finally{N(!1)}}},A=async()=>{if(!(!y.trim()||!f))try{const B=f.admin_messages||[],z={from:"admin",message:y,timestamp:new Date().toISOString()},{error:G}=await ie.from("pickup_orders").update({admin_messages:[...B,z]}).eq("id",f.id);if(G)throw G;te({title:"Message Sent",description:"Your message has been sent to the customer."}),x(""),k(),h({...f,admin_messages:[...B,z]})}catch(B){console.error("Error sending message:",B),te({variant:"destructive",title:"Error",description:"Could not send message."})}},C=B=>{const z=B.replace(/\D/g,"");window.open(`https://wa.me/${z}`,"_blank")},R=e.filter(B=>{var X,J,ee,I;const z=((J=(X=B.profiles)==null?void 0:X.name)==null?void 0:J.toLowerCase().includes(o.toLowerCase()))||((ee=B.whatsapp_number)==null?void 0:ee.includes(o))||((I=B.phone_number)==null?void 0:I.includes(o))||B.id.toLowerCase().includes(o.toLowerCase()),G=c==="all"||B.status===c;return z&&G}),M=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Multi-Store Pickup Orders"}),i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ta,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:B=>l(B.target.value)})]}),i.jsxs(Jt,{value:c,onValueChange:u,children:[i.jsx(Vt,{className:"w-full md:w-[180px]",children:i.jsx(Qt,{placeholder:"Filter by status"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"all",children:"All Orders"}),i.jsx(Ie,{value:"pending",children:"Pending"}),i.jsx(Ie,{value:"confirmed",children:"Confirmed"}),i.jsx(Ie,{value:"processing",children:"Processing"}),i.jsx(Ie,{value:"ready",children:"Ready"}),i.jsx(Ie,{value:"completed",children:"Completed"}),i.jsx(Ie,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"border rounded-lg overflow-x-auto",children:i.jsxs(ca,{children:[i.jsx(ua,{children:i.jsxs(Zt,{children:[i.jsx(Ke,{children:"Order ID"}),i.jsx(Ke,{children:"Customer"}),i.jsx(Ke,{children:"Stores"}),i.jsx(Ke,{children:"Date & Time"}),i.jsx(Ke,{children:"Contact"}),i.jsx(Ke,{children:"Status"}),i.jsx(Ke,{children:"Payment"}),i.jsx(Ke,{children:"Total"}),i.jsx(Ke,{className:"text-right",children:"Actions"})]})}),i.jsx(da,{children:R.length===0?i.jsx(Zt,{children:i.jsx(ze,{colSpan:9,className:"h-24 text-center",children:"No orders found."})}):R.map(B=>{var z,G,X,J,ee;return i.jsxs(Zt,{children:[i.jsxs(ze,{className:"font-medium",children:[B.id.slice(0,6),"..."]}),i.jsx(ze,{children:((z=B.profiles)==null?void 0:z.name)||"N/A"}),i.jsx(ze,{children:i.jsx("div",{className:"flex flex-wrap gap-1",children:(G=B.pickup_order_stores)==null?void 0:G.map((I,F)=>{var K;return i.jsx(pt,{variant:"outline",className:"text-xs",children:(K=I.stores)==null?void 0:K.name},F)})})}),i.jsx(ze,{children:i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(qs,{className:"w-3 h-3 mr-1"}),B.pickup_date?zt(new Date(B.pickup_date),"MMM d"):"N/A"]}),i.jsx("div",{className:"text-muted-foreground",children:B.time_slot})]})}),i.jsx(ze,{children:i.jsxs("div",{className:"space-y-1",children:[B.whatsapp_number&&i.jsxs(Q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>C(B.whatsapp_number),children:[i.jsx(Bl,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),B.phone_number&&i.jsxs(Q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>window.open(`tel:${B.phone_number}`),children:[i.jsx(xd,{className:"w-3 h-3 mr-1"}),"Call"]})]})}),i.jsx(ze,{children:i.jsxs(Jt,{value:B.status,onValueChange:I=>E(B.id,I),children:[i.jsx(Vt,{className:"w-[130px]",children:i.jsx(Qt,{})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"pending",children:"Pending"}),i.jsx(Ie,{value:"confirmed",children:"Confirmed"}),i.jsx(Ie,{value:"processing",children:"Processing"}),i.jsx(Ie,{value:"ready",children:"Ready"}),i.jsx(Ie,{value:"completed",children:"Completed"}),i.jsx(Ie,{value:"cancelled",children:"Cancelled"})]})]})}),i.jsx(ze,{children:i.jsx(pt,{className:V(B.payment_status),children:B.payment_status})}),i.jsx(ze,{children:B.actual_total?Pe(B.actual_total):Pe(B.estimated_total||0)}),i.jsx(ze,{className:"text-right",children:i.jsxs(Gs,{open:m,onOpenChange:p,children:[i.jsx(sa,{asChild:!0,children:i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>h(B),children:i.jsx(D1,{className:"w-4 h-4"})})}),i.jsxs(es,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsx(ts,{children:i.jsxs(rs,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6),"..."]})}),f&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",(X=f.profiles)==null?void 0:X.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"WhatsApp:"})," ",f.whatsapp_number||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",f.phone_number||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Address:"})," ",f.delivery_address]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Postcode:"})," ",f.postcode]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Date:"})," ",f.pickup_date?zt(new Date(f.pickup_date),"PPP"):"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Time Slot:"})," ",f.time_slot]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"}),i.jsx(pt,{className:`ml-2 ${M(f.status)}`,children:f.status})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Payment:"}),i.jsx(pt,{className:`ml-2 ${V(f.payment_status)}`,children:f.payment_status})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Estimated Total:"})," ",Pe(f.estimated_total||0)]}),f.actual_total&&i.jsxs("p",{children:[i.jsx("strong",{children:"Actual Total:"})," ",Pe(f.actual_total)]})]})]})]}),f.payment_status==="paid"&&!f.actual_total&&i.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[i.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),i.jsxs("div",{className:"flex space-x-2 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(oe,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),i.jsx(xe,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:I=>w(I.target.value),placeholder:"Enter actual total amount"})]}),i.jsxs(Q,{onClick:D,disabled:!j||S,className:"bg-green-600 hover:bg-green-700",children:[S?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):i.jsx(Ku,{className:"w-4 h-4 mr-2"}),S?"Confirming...":"Confirm Payment"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Store Orders"}),i.jsx("div",{className:"space-y-4",children:(J=f.pickup_order_stores)==null?void 0:J.map((I,F)=>{var K,Z;return i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium",children:(K=I.stores)==null?void 0:K.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(Z=I.stores)==null?void 0:Z.address})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium",children:Pe(I.estimated_total||0)}),i.jsxs(Jt,{value:I.status,onValueChange:$=>P(I.id,$),children:[i.jsx(Vt,{className:"w-[120px] mt-1",children:i.jsx(Qt,{})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"pending",children:"Pending"}),i.jsx(Ie,{value:"confirmed",children:"Confirmed"}),i.jsx(Ie,{value:"processing",children:"Processing"}),i.jsx(Ie,{value:"ready",children:"Ready"}),i.jsx(Ie,{value:"completed",children:"Completed"}),i.jsx(Ie,{value:"cancelled",children:"Cancelled"})]})]})]})]}),I.notes&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Shopping List:"}),i.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded mt-1",children:I.notes})]})]},F)})})]}),f.photos&&f.photos.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Customer Photos"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.photos.map((I,F)=>i.jsx("img",{src:I.data,alt:`Photo ${F+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(I.data,"_blank")},F))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(ee=f.admin_messages)==null?void 0:ee.map((I,F)=>i.jsxs("div",{className:`p-3 rounded text-sm ${I.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"font-medium",children:I.from==="admin"?"You":"Customer"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:zt(new Date(I.timestamp),"MMM d, HH:mm")})]}),i.jsx("p",{children:I.message})]},F))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Send message to customer:"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ln,{value:y,onChange:I=>x(I.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),i.jsx(Q,{onClick:A,disabled:!y.trim(),children:"Send"})]})]})]})]})]})]})})]},B.id)})})]})})]})},$9=({timeSlot:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({dates:[Un()],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),[l,c]=g.useState({}),[u,f]=g.useState(!1),[h,m]=g.useState(!1),[p,y]=g.useState(Ql);g.useEffect(()=>{(async()=>{try{const{data:A,error:C}=await ie.from("delivery_settings").select("timezone").eq("id",1).single();!C&&(A!=null&&A.timezone)&&y(A.timezone)}catch(A){console.error("Error fetching timezone:",A)}})()},[]),g.useEffect(()=>{if(e){const D=new Date(e.date+"T12:00:00");o({dates:[D],start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),max_orders:e.max_orders,slot_type:e.slot_type,is_active:e.is_active}),m(!1)}else o({dates:[Un(p)],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),m(!1)},[e,p]);const x=(D,A)=>{o(C=>({...C,[D]:A})),l[D]&&c(C=>({...C,[D]:""}))},j=(D,A)=>{const C=[...n.dates];C[A]=D,o(R=>({...R,dates:C})),l.dates&&c(R=>({...R,dates:""}))},w=()=>{const D=n.dates[n.dates.length-1],A=Ut(D,1);o(C=>({...C,dates:[...C.dates,A]}))},S=D=>{if(n.dates.length>1){const A=n.dates.filter((C,R)=>R!==D);o(C=>({...C,dates:A}))}},N=()=>{const D=Un(p),A=[];for(let C=0;C<7;C++)A.push(Ut(D,C));o(C=>({...C,dates:A}))},k=()=>{const D={};if(!n.dates||n.dates.length===0)D.dates="At least one date is required";else{const A=Un(p),C=$t(A,p);for(const R of n.dates)if($t(R,p)<C){D.dates="Dates cannot be in the past";break}}return n.start_time||(D.start_time="Start time is required"),n.end_time||(D.end_time="End time is required"),n.start_time&&n.end_time&&(a9(n.start_time,n.end_time)||(D.end_time="End time must be after start time")),(!n.max_orders||n.max_orders<1)&&(D.max_orders="Maximum orders must be at least 1"),n.slot_type||(D.slot_type="Slot type is required"),c(D),Object.keys(D).length===0},E=async D=>{if(D.preventDefault(),!(!k()||u)){f(!0);try{if(e){const A={date:$t(n.dates[0],p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(A)}else for(const A of n.dates){const C={date:$t(A,p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(C)}}catch(A){console.error("Error submitting time slots:",A)}finally{f(!1)}}},P=o9();return i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[!e&&i.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted/30 rounded-lg",children:[i.jsx(Zn,{id:"bulk_mode",checked:h,onCheckedChange:m}),i.jsx(oe,{htmlFor:"bulk_mode",className:"text-sm",children:"Create slots for multiple dates"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(oe,{children:["Date",n.dates.length>1?"s":""]}),n.dates.map((D,A)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(Uv,{children:[i.jsx(Vv,{asChild:!0,children:i.jsxs(Q,{type:"button",variant:"outline",className:ke("flex-1 justify-start text-left font-normal",!D&&"text-muted-foreground",l.dates&&"border-destructive"),disabled:u,children:[i.jsx(qs,{className:"mr-2 h-4 w-4"}),D?$t(D,p):i.jsx("span",{children:"Pick a date"})]})}),i.jsx(Vd,{className:"w-auto p-0",children:i.jsx(Fd,{mode:"single",selected:D,onSelect:C=>j(C,A),disabled:C=>{const R=Un(p),M=$t(R,p);return $t(C,p)<M},initialFocus:!0})})]}),!e&&n.dates.length>1&&i.jsx(Q,{type:"button",variant:"outline",size:"icon",onClick:()=>S(A),disabled:u,children:i.jsx(zl,{className:"h-4 w-4"})})]},A)),!e&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Q,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:u,children:[i.jsx(ra,{className:"h-4 w-4 mr-1"}),"Add Date"]}),i.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:u,children:"Add Next 7 Days"})]}),l.dates&&i.jsx("p",{className:"text-xs text-destructive",children:l.dates}),n.dates.length>1&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.dates.map((D,A)=>i.jsx(pt,{variant:"secondary",className:"text-xs",children:$t(D,p)},A))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"start_time",children:"Start Time"}),i.jsxs(Jt,{value:n.start_time,onValueChange:D=>x("start_time",D),disabled:u,children:[i.jsx(Vt,{className:l.start_time?"border-destructive":"",children:i.jsx(Qt,{placeholder:"Select start time"})}),i.jsx(Bt,{children:P.map(D=>i.jsx(Ie,{value:D.value,children:D.label},D.value))})]}),l.start_time&&i.jsx("p",{className:"text-xs text-destructive",children:l.start_time})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"end_time",children:"End Time"}),i.jsxs(Jt,{value:n.end_time,onValueChange:D=>x("end_time",D),disabled:u,children:[i.jsx(Vt,{className:l.end_time?"border-destructive":"",children:i.jsx(Qt,{placeholder:"Select end time"})}),i.jsx(Bt,{children:P.map(D=>i.jsx(Ie,{value:D.value,children:D.label},D.value))})]}),l.end_time&&i.jsx("p",{className:"text-xs text-destructive",children:l.end_time})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"slot_type",children:"Slot Type"}),i.jsxs(Jt,{value:n.slot_type,onValueChange:D=>x("slot_type",D),disabled:u,children:[i.jsx(Vt,{className:l.slot_type?"border-destructive":"",children:i.jsx(Qt,{placeholder:"Select slot type"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"delivery",children:"Delivery"}),i.jsx(Ie,{value:"pickup",children:"Pickup"})]})]}),l.slot_type&&i.jsx("p",{className:"text-xs text-destructive",children:l.slot_type})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"max_orders",children:"Maximum Orders"}),i.jsx(xe,{id:"max_orders",type:"number",min:"1",value:n.max_orders,onChange:D=>x("max_orders",D.target.value),className:l.max_orders?"border-destructive":"",disabled:u}),l.max_orders&&i.jsx("p",{className:"text-xs text-destructive",children:l.max_orders})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zn,{id:"is_active",checked:n.is_active,onCheckedChange:D=>x("is_active",D),disabled:u}),i.jsx(oe,{htmlFor:"is_active",children:"Active (available for booking)"})]}),i.jsxs(ia,{children:[i.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),i.jsx(Q,{type:"submit",disabled:u,children:u?"Creating...":e?"Update Time Slot":`Create ${n.dates.length} Time Slot${n.dates.length>1?"s":""}`})]})]})},M9=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState("all"),[h,m]=g.useState("all"),[p,y]=g.useState(!1),[x,j]=g.useState(null),w=g.useCallback(async()=>{o(!0);try{let A=ie.from("time_slots").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});u!=="all"&&(A=A.eq("slot_type",u)),h==="today"?A=A.eq("date",new Date().toISOString().split("T")[0]):h==="upcoming"&&(A=A.gte("date",new Date().toISOString().split("T")[0]));const{data:C,error:R}=await A;if(R)throw R;r(C||[])}catch(A){console.error("Error fetching time slots:",A),te({variant:"destructive",title:"Fetch Error",description:"Could not load time slots."})}finally{o(!1)}},[u,h]);g.useEffect(()=>{w()},[w]);const S=t.filter(A=>{if(!l)return!0;const C=l.toLowerCase();return A.slot_type.toLowerCase().includes(C)||zt(new Date(A.date),"PPP").toLowerCase().includes(C)||N(A.start_time).toLowerCase().includes(C)||N(A.end_time).toLowerCase().includes(C)}),N=A=>{const[C,R]=A.split(":"),M=parseInt(C,10),V=M>=12?"PM":"AM";return`${M%12||12}:${R} ${V}`},k=async A=>{o(!0);try{let C;if(x){const{data:R,error:M}=await ie.from("time_slots").update({...A,updated_at:new Date}).eq("id",x.id).select().single();if(M)throw M;C=R,te({title:"Time Slot Updated",description:"Time slot has been updated successfully."})}else{const{data:R,error:M}=await ie.from("time_slots").insert(A).select().single();if(M)throw M;C=R,te({title:"Time Slot Created",description:"Time slot has been created successfully."})}w(),y(!1),j(null)}catch(C){console.error("Error saving time slot:",C),te({variant:"destructive",title:"Save Error",description:C.message})}finally{o(!1)}},E=A=>{t.find(R=>R.id===A)&&e("time_slot",A)},P=A=>{const C=new Date,R=new Date(A.date),M=R.toDateString()===C.toDateString(),V=R<C&&!M,B=A.current_orders>=A.max_orders;return V?i.jsx(pt,{variant:"secondary",children:"Past"}):A.is_active?B?i.jsx(pt,{variant:"destructive",children:"Full"}):M?i.jsx(pt,{variant:"default",children:"Today"}):i.jsx(pt,{variant:"outline",children:"Available"}):i.jsx(pt,{variant:"destructive",children:"Inactive"})},D=A=>{const C=A.current_orders/A.max_orders*100;return C>=100?"text-red-600":C>=80?"text-orange-600":C>=60?"text-yellow-600":"text-green-600"};return i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Time Slots Management"}),i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ta,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search slots...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:A=>c(A.target.value)})]}),i.jsxs(Jt,{value:u,onValueChange:f,children:[i.jsx(Vt,{className:"w-full md:w-[140px]",children:i.jsx(Qt,{placeholder:"Filter by type"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"all",children:"All Types"}),i.jsx(Ie,{value:"delivery",children:"Delivery"}),i.jsx(Ie,{value:"pickup",children:"Pickup"})]})]}),i.jsxs(Jt,{value:h,onValueChange:m,children:[i.jsx(Vt,{className:"w-full md:w-[140px]",children:i.jsx(Qt,{placeholder:"Filter by date"})}),i.jsxs(Bt,{children:[i.jsx(Ie,{value:"all",children:"All Dates"}),i.jsx(Ie,{value:"today",children:"Today"}),i.jsx(Ie,{value:"upcoming",children:"Upcoming"})]})]}),i.jsxs(Gs,{open:p,onOpenChange:A=>{y(A),A||j(null)},children:[i.jsx(sa,{asChild:!0,children:i.jsxs(Q,{onClick:()=>j(null),children:[i.jsx(gd,{className:"w-4 h-4 mr-2"})," Add Time Slot"]})}),i.jsxs(es,{className:"sm:max-w-[500px]",children:[i.jsx(ts,{children:i.jsx(rs,{children:x?"Edit Time Slot":"Add New Time Slot"})}),i.jsx($9,{timeSlot:x,onSubmit:k,onCancel:()=>y(!1)},x?x.id:"new")]})]})]})]}),n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"border rounded-lg overflow-x-auto",children:i.jsxs(ca,{children:[i.jsx(ua,{children:i.jsxs(Zt,{children:[i.jsx(Ke,{children:"Date"}),i.jsx(Ke,{children:"Time"}),i.jsx(Ke,{children:"Type"}),i.jsx(Ke,{children:"Capacity"}),i.jsx(Ke,{children:"Availability"}),i.jsx(Ke,{children:"Status"}),i.jsx(Ke,{className:"text-right",children:"Actions"})]})}),i.jsx(da,{children:S.length===0?i.jsx(Zt,{children:i.jsx(ze,{colSpan:7,className:"h-24 text-center",children:"No time slots found."})}):S.map(A=>i.jsxs(Zt,{children:[i.jsx(ze,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qs,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{children:zt(new Date(A.date),"MMM d, yyyy")})]})}),i.jsx(ze,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(nn,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("span",{children:[N(A.start_time)," - ",N(A.end_time)]})]})}),i.jsx(ze,{children:i.jsx(pt,{variant:A.slot_type==="delivery"?"default":"secondary",children:A.slot_type.charAt(0).toUpperCase()+A.slot_type.slice(1)})}),i.jsx(ze,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(U1,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("span",{children:[A.max_orders," orders"]})]})}),i.jsx(ze,{children:i.jsxs("span",{className:D(A),children:[A.current_orders," / ",A.max_orders]})}),i.jsx(ze,{children:P(A)}),i.jsxs(ze,{className:"text-right",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{j(A),y(!0)},children:i.jsx(wd,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>E(A.id),children:i.jsx(na,{className:"h-4 w-4"})})]})]},A.id))})]})})]})},I9=({isOpen:e,onOpenChange:t,itemType:r,onConfirm:n,isDeleting:o})=>i.jsx(Gs,{open:e,onOpenChange:t,children:i.jsxs(es,{children:[i.jsxs(ts,{children:[i.jsx(rs,{children:"Confirm Deletion"}),i.jsxs(RS,{children:["Are you sure you want to delete this ",r,"? This action cannot be undone. Associated images will also be removed."]})]}),i.jsxs(ia,{children:[i.jsx(Q,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),i.jsx(Q,{variant:"destructive",onClick:n,disabled:o,children:o?"Deleting...":"Delete"})]})]})}),L9=()=>{const{isAdmin:e,loading:t,user:r}=ir(),n=Pr();return g.useEffect(()=>{t||(r?e||(te({variant:"destructive",title:"Access Denied",description:"You must be an admin to view this page."}),n("/admin-login")):(te({variant:"destructive",title:"Authentication Required",description:"Please log in to access this page."}),n("/admin-login")))},[e,t,r,n]),{authLoading:t,isAdmin:e}},F9=e=>{const[t,r]=g.useState(!1),[n,o]=g.useState(null),[l,c]=g.useState(!1),{deleteFile:u}=qv(),f=g.useCallback((m,p,y=null)=>{o({type:m,id:p,imageUrl:y}),r(!0)},[]);return{isDeleteDialogOpen:t,itemToDelete:n,isDeleting:l,openDeleteDialog:f,confirmDelete:async()=>{if(n){c(!0);try{let m="",p=n.type;if(n.type==="product")m="products";else if(n.type==="category"){m="categories";const{data:j,error:w}=await ie.from("products").select("id").eq("category_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete category as it is assigned to products.")}else if(n.type==="time_slot"){m="time_slots";const{data:j,error:w}=await ie.from("orders").select("id").eq("timeslot_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete time slot as it has associated orders.");const{data:S,error:N}=await ie.from("pickup_orders").select("id").eq("timeslot_id",n.id).limit(1);if(N)throw N;if(S&&S.length>0)throw new Error("Cannot delete time slot as it has associated pickup orders.")}else throw new Error("Invalid item type for deletion");const{error:y}=await ie.from(m).delete().eq("id",n.id);if(y)throw y;if(n.imageUrl){const{error:j}=await u(n.imageUrl);j&&console.warn("Failed to delete associated image:",j)}te({title:`${p.charAt(0).toUpperCase()+p.slice(1)} Deleted`});const x=e(j=>j);e(""),setTimeout(()=>e(x),0)}catch(m){console.error(`Error deleting ${n.type}:`,m),te({variant:"destructive",title:"Deletion Failed",description:m.message})}finally{c(!1),r(!1),o(null)}}},setIsDeleteDialogOpen:r}},U9=()=>i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage orders, products, categories, and settings for Groceroo."})]}),V9=()=>{const{authLoading:e,isAdmin:t}=L9(),{getOrdersByStatus:r}=Qp(),[n,o]=g.useState("orders"),{isDeleteDialogOpen:l,itemToDelete:c,isDeleting:u,openDeleteDialog:f,confirmDelete:h,setIsDeleteDialogOpen:m}=F9(o),p=r("pending").length,y=r("processing").length,x=r("delivered").length;if(e)return i.jsx("div",{className:"container flex items-center justify-center h-screen",children:i.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return null;const j=[{value:"orders",label:"Orders",icon:Br,component:i.jsx(j9,{})},{value:"pickup-orders",label:"Store Pickups",icon:I1,component:i.jsx(O9,{})},{value:"products",label:"Products",icon:S$,component:i.jsx(C9,{openDeleteDialog:f},"products")},{value:"categories",label:"Categories",icon:L1,component:i.jsx(P9,{openDeleteDialog:f},"categories")},{value:"stores",label:"Stores",icon:Fi,component:i.jsx(R9,{})},{value:"time-slots",label:"Time Slots",icon:nn,component:i.jsx(M9,{openDeleteDialog:f},"time-slots")},{value:"settings",label:"Settings",icon:U$,component:i.jsx(A9,{})}];return i.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[i.jsx(U9,{}),i.jsx(w9,{pendingCount:p,processingCount:y,deliveredCount:x}),i.jsxs(Hv,{value:n,onValueChange:o,className:"mt-8 space-y-6",children:[i.jsx(qd,{className:"grid w-full grid-cols-7 md:w-auto md:inline-flex",children:j.map(w=>i.jsxs(Ci,{value:w.value,className:"flex items-center",children:[i.jsx(w.icon,{className:"w-4 h-4 mr-2"}),w.label]},w.value))}),j.map(w=>i.jsx(ki,{value:w.value,children:w.component},w.value))]}),i.jsx(I9,{isOpen:l,onOpenChange:m,itemType:c==null?void 0:c.type,onConfirm:h,isDeleting:u})]})},B9=({stores:e,selectedStores:t,onStoreToggle:r,onNotesChange:n,onEstimatedTotalChange:o})=>{const l=h=>30,c=h=>{if(t.some(p=>p.id===h.id))r(t.filter(p=>p.id!==h.id));else{const p=[...t,{id:h.id,name:h.name,estimatedTotal:l(t.length+1),notes:""}];r(p)}},u=(h,m)=>{const p=t.map(y=>y.id===h?{...y,notes:m}:y);r(p),n(h,m)},f=(h,m)=>{const p=t.map(y=>y.id===h?{...y,estimatedTotal:parseFloat(m)||0}:y);r(p),o(h,m)};return i.jsx("div",{className:"space-y-6",children:i.jsx("div",{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(h=>{var x,j;const m=t.some(w=>w.id===h.id),p=t.find(w=>w.id===h.id),y=h.minimum_order_amount||l(t.length+(m?0:1));return i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs(Ur,{className:`cursor-pointer transition-all ${m?"ring-2 ring-primary":"hover:shadow-md"}`,children:[i.jsx(tn,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:h.image?i.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"}):i.jsx(Fi,{className:"w-6 h-6 text-muted-foreground"})}),i.jsx(rn,{className:"text-base",children:h.name})]}),i.jsx(Q,{type:"button",variant:m?"default":"outline",size:"sm",onClick:()=>c(h),children:m?i.jsx(zl,{className:"w-4 h-4"}):i.jsx(ra,{className:"w-4 h-4"})})]})}),i.jsxs(Vr,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(Ho,{className:"w-4 h-4 mr-1"}),h.address]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(nn,{className:"w-4 h-4 mr-1"}),(x=h.opening_time)==null?void 0:x.slice(0,5)," - ",(j=h.closing_time)==null?void 0:j.slice(0,5)]}),i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs(pt,{variant:"secondary",children:["Min: ",Pe(y)]})}),m&&i.jsxs(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3 pt-3 border-t",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:`estimated-${h.id}`,children:"Estimated Total ($)"}),i.jsx(xe,{id:`estimated-${h.id}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:y,step:"5",value:p==null?void 0:p.estimatedTotal,onChange:w=>{const S=w.target.value.replace(/[^0-9.]/g,"");f(h.id,S)},onBlur:w=>{let S=parseFloat(w.target.value);(isNaN(S)||S<y)&&(S=y),f(h.id,S)},placeholder:`Minimum ${Pe(y)}`})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:`notes-${h.id}`,children:"Shopping List / Notes (or do it later) "}),i.jsx(ln,{id:`notes-${h.id}`,value:(p==null?void 0:p.notes)||"",onChange:w=>u(h.id,w.target.value),placeholder:"Enter your shopping list or special instructions...",rows:3})]})]})]})]})},h.id)})})})})},z9=({photos:e,onPhotosChange:t,maxPhotos:r=5})=>{const[n,o]=g.useState(!1),l=g.useRef(null),c=(m,p=800,y=.8)=>new Promise(x=>{const j=document.createElement("canvas"),w=j.getContext("2d"),S=new Image;S.onload=()=>{const N=Math.min(p/S.width,p/S.height);j.width=S.width*N,j.height=S.height*N,w.drawImage(S,0,0,j.width,j.height),j.toBlob(x,"image/jpeg",y)},S.src=URL.createObjectURL(m)}),u=async m=>{const p=Array.from(m.target.files);if(e.length+p.length>r){te({variant:"destructive",title:"Too many photos",description:`You can only upload up to ${r} photos.`});return}o(!0);try{const y=await Promise.all(p.map(async x=>{const j=await c(x),w=new FileReader;return new Promise(S=>{w.onload=()=>{S({id:Date.now()+Math.random(),name:x.name,data:w.result,size:j.size})},w.readAsDataURL(j)})}));t([...e,...y]),te({title:"Photos uploaded",description:`${y.length} photo(s) added successfully.`})}catch(y){console.error("Error compressing photos:",y),te({variant:"destructive",title:"Upload failed",description:"Failed to process photos. Please try again."})}finally{o(!1),l.current&&(l.current.value="")}},f=m=>{t(e.filter(p=>p.id!==m))},h=m=>{if(m===0)return"0 Bytes";const p=1024,y=["Bytes","KB","MB"],x=Math.floor(Math.log(m)/Math.log(p));return parseFloat((m/Math.pow(p,x)).toFixed(2))+" "+y[x]};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(oe,{children:"Photos (Optional)"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Upload photos of your shopping list or special items. Max ",r," photos."]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},disabled:n||e.length>=r,className:"flex items-center",children:[n?i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"}):i.jsx(Q$,{className:"w-4 h-4 mr-2"}),n?"Processing...":"Upload Photos"]}),i.jsx("input",{ref:l,type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]}),e.length>0&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(m=>i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted border",children:i.jsx("img",{src:m.data,alt:m.name,className:"w-full h-full object-cover"})}),i.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>f(m.id),children:i.jsx(Ys,{className:"h-3 w-3"})}),i.jsxs("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:[m.name," (",h(m.size),")"]})]},m.id))})]})},W9=()=>{var Hi;const{user:e}=ir(),[t,r]=g.useState([]),[n,o]=g.useState([]),[l,c]=g.useState(""),[u,f]=g.useState([]),[h,m]=g.useState(!0),[p,y]=g.useState([]),[x,j]=g.useState(Un()),[w,S]=g.useState(""),[N,k]=g.useState([]),[E,P]=g.useState(!1),[D,A]=g.useState(""),[C,R]=g.useState(""),[M,V]=g.useState(""),[B,z]=g.useState([]),[G,X]=g.useState(!1),[J,ee]=g.useState(!1),[I,F]=g.useState({}),[K,Z]=g.useState("whatsapp"),[$,q]=g.useState(""),[fe,ve]=g.useState([]),[Ne,Se]=g.useState([]),[ue,me]=g.useState(""),[de,he]=g.useState(!1),[Ee,De]=g.useState("new-order"),[Re,et]=g.useState(null),[vt,Er]=g.useState(Ql),[Tr,ns]=g.useState(!1),[yr,Ar]=g.useState(!1),[Wr,fa]=g.useState({convenience_fee_percent:7,service_fee_percent:3}),Zl=Pr();g.useEffect(()=>{Promise.all([rc(),ha(),tc()]),e&&(ma(),e.phone&&(q(e.phone),A(e.phone)))},[e]),g.useEffect(()=>{if(ue.length===0)Se(fe);else{const ae=fe.filter($e=>$e.suburb.toLowerCase().includes(ue.toLowerCase())||$e.postcode.includes(ue));Se(ae)}},[ue,fe]),g.useEffect(()=>{if(l.length===0)o(t);else{const ae=t.filter($e=>$e.name.toLowerCase().includes(l.toLowerCase())||$e.address.toLowerCase().includes(l.toLowerCase()));o(ae)}},[l,t]),g.useEffect(()=>{x&&Wi(x)},[x,vt]),g.useEffect(()=>{(async()=>{const{data:$e,error:tt}=await ie.from("delivery_settings").select("convenience_fee_percent, service_fee_percent").eq("id",1).single();!tt&&$e&&fa({convenience_fee_percent:$e.convenience_fee_percent||7,service_fee_percent:$e.service_fee_percent||3})})()},[]);const ec=!e&&p.length>0&&x&&w,tc=async()=>{try{const{data:ae,error:$e}=await ie.from("delivery_settings").select("timezone").eq("id",1).single();!$e&&(ae!=null&&ae.timezone)&&Er(ae.timezone)}catch(ae){console.error("Error fetching timezone:",ae)}},rc=async()=>{try{const{data:ae,error:$e}=await ie.from("stores").select("*").order("name");if($e)throw $e;r(ae||[]),o(ae||[])}catch(ae){console.error("Error fetching stores:",ae),te({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{m(!1)}},ha=async()=>{try{const{data:ae,error:$e}=await ie.from("postcodes").select("*").order("suburb");if($e)throw $e;ve(ae||[]),Se(ae||[])}catch(ae){console.error("Error fetching postcodes:",ae),te({variant:"destructive",title:"Error",description:"Could not load postcodes."})}},Wi=async ae=>{P(!0);try{const $e=$t(ae,vt),{data:tt,error:gt}=await ie.from("time_slots").select("*").eq("date",$e).eq("is_active",!0).order("start_time");if(gt)throw gt;k(tt||[]),S("")}catch($e){console.error("Error fetching time slots:",$e),k([])}finally{P(!1)}},ma=async()=>{try{const{data:ae,error:$e}=await ie.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name)
          )
        `).eq("user_id",e.id).in("status",["pending","processing","ready"]).gte("pickup_date",$t(Un(vt),vt)).order("pickup_date",{ascending:!0});if($e)throw $e;f(ae||[])}catch(ae){console.error("Error fetching upcoming orders:",ae),te({variant:"destructive",title:"Error",description:"Could not load upcoming orders."})}},Js=ae=>{const $e=e.addresses.find(tt=>tt.address===ae);if($e){R($e.address),V($e.postcode);const tt=fe.find(gt=>gt.postcode===$e.postcode);tt&&me(`${tt.suburb}, ${tt.postcode}`)}X(!1)},Qs=ae=>{R(ae.address),V(ae.postcode),me(`${ae.suburb.toUpperCase()}, ${ae.postcode}`)},Yd=ae=>{V(ae.postcode),me(`${ae.suburb}, ${ae.postcode}`),he(!1)},nc=ae=>{et(ae)},sc=()=>{et(null)},Gd=()=>{ns(!1)},pa=()=>{const ae={};return p.length===0&&(ae.stores="Please select at least one store"),w||(ae.timeSlot="Please select a time slot"),K==="whatsapp"&&!D&&(ae.whatsapp="WhatsApp number is required for WhatsApp communication"),K==="phone"&&!$&&(ae.phone="Phone number is required for SMS/Call communication"),C||(ae.address="Delivery address is required"),M||(ae.postcode="Please select a postcode"),p.forEach(($e,tt)=>{(!$e.estimatedTotal||$e.estimatedTotal<30)&&(ae[`store_${$e.id}`]=`Minimum order for this store is ${Pe(30)}`)}),J||(ae.terms="You must accept the terms and conditions"),F(ae),Object.keys(ae).length===0},va=async ae=>{if(ae.preventDefault(),!pa()){te({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields and accept the terms."});return}try{const $e=p.reduce((Pn,Xd)=>Pn+(Xd.estimatedTotal||0),0),tt=Re?Re.discountAmount:0,gt=xa(),kn=N.find(Pn=>Pn.id===w),or=kn?`${$o(kn.start_time)} - ${$o(kn.end_time)}`:"",{data:ar,error:Hr}=await ie.from("pickup_orders").insert({user_id:e.id,pickup_date:$t(x,vt),time_slot:or,timeslot_id:w,whatsapp_number:K==="whatsapp"?D:null,phone_number:K==="phone"?$:null,delivery_address:C,postcode:M,photos:B,status:"pending",payment_status:"pending",estimated_total:$e,promo_code:(Re==null?void 0:Re.code)||null,discount_amount:tt,admin_messages:yr?[{from:"customer",message:"Please reorder my previous items along with this order.",timestamp:new Date().toISOString()}]:[]}).select().single();if(Hr)throw Hr;const ti=p.map(Pn=>({pickup_order_id:ar.id,store_id:Pn.id,estimated_total:Pn.estimatedTotal,notes:Pn.notes,status:"pending"})),{error:qi}=await ie.from("pickup_order_stores").insert(ti);if(qi)throw qi;Re&&await ie.rpc("increment_promo_usage",{promo_code:Re.code}),Zl("/pickup-payment",{state:{orderId:ar.id,orderData:{pickup_date:$t(x,vt),time_slot:or,contact_preference:K,whatsapp_number:K==="whatsapp"?D:null,phone_number:K==="phone"?$:null,delivery_address:C,postcode:M,estimated_total:gt,promo_code:(Re==null?void 0:Re.code)||null,discount_amount:tt,stores:p},finalTotal:gt}})}catch($e){console.error("Error creating pickup order:",$e),te({variant:"destructive",title:"Error",description:"Could not create pickup order."})}},ga=async(ae,$e)=>{try{const{data:tt,error:gt}=await ie.from("pickup_orders").select("admin_messages").eq("id",ae).single();if(gt)throw gt;const kn=tt.admin_messages||[],or={from:"customer",message:$e,timestamp:new Date().toISOString()},{error:ar}=await ie.from("pickup_orders").update({admin_messages:[...kn,or]}).eq("id",ae);if(ar)throw ar;te({title:"Message sent",description:"Your message has been sent to the admin."}),ma()}catch(tt){console.error("Error sending message:",tt),te({variant:"destructive",title:"Error",description:"Could not send message."})}},ss=()=>Number(ei.subtotal||0),Zs=()=>Number(ei.deliveryFee||0),fn=()=>Number(ei.discountAmount||0),hn=()=>parseFloat((ss()*(Wr.convenience_fee_percent/100)).toFixed(2)),ya=()=>{const ae=ss()+Zs()+hn();return parseFloat((ae*(Wr.service_fee_percent/100)).toFixed(2))},xa=()=>{const ae=ss()+Zs()+hn()+ya()-fn();return parseFloat(ae.toFixed(2))},ei=(()=>{const ae=p.reduce((or,ar)=>or+(ar.estimatedTotal||0),0),$e=ae*.1,tt=p.reduce((or,ar)=>{const Hr=t.find(qi=>qi.id===ar.id),ti=(Hr==null?void 0:Hr.store_delivery_fee)||0;return Math.max(or,ti)},0),gt=Re?Re.discountAmount:0,kn=ae+$e+tt-gt;return{subtotal:ae,serviceCharge:$e,deliveryFee:tt,discountAmount:gt,total:kn}})(),ic=ae=>{const $e=Un(vt),tt=$t($e,vt);return $t(ae,vt)<tt};return i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsxs("section",{className:"relative h-[30vh] min-h-[240px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:"/banner_bg.jpeg",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),i.jsx("div",{className:"container relative h-full px-4 md:px-6",children:i.jsx("div",{className:"flex flex-col justify-center h-full py-2",children:i.jsxs(ye.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsxs("div",{className:"text-center mb-2",children:[i.jsx("h1",{className:"text-lg md:text-xl font-bold text-white mb-1",children:"Grocery Run"}),i.jsx("p",{className:"text-white/90 text-xs",children:"Let us do the shopping for you at multiple stores!"})]}),i.jsxs("div",{className:"grid gap-1 grid-cols-2 md:grid-cols-4 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[i.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Fi,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),i.jsx("h3",{className:"font-medium text-white text-xs",children:"1. Add Stores"}),i.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Select stores and set budget"})]}),i.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[i.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Bl,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),i.jsx("h3",{className:"font-medium text-white text-xs",children:"2. Share Lists"}),i.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Add shopping lists"})]}),i.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[i.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(nn,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),i.jsx("h3",{className:"font-medium text-white text-xs",children:"3. We Shop"}),i.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"We shop at all stores"})]}),i.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[i.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Ho,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),i.jsx("h3",{className:"font-medium text-white text-xs",children:"4. Delivery"}),i.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"All items in one trip"})]})]})]})})})]}),i.jsx("div",{className:"container px-4 py-6 mx-auto md:px-6",children:i.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-6xl mx-auto",children:i.jsxs(Hv,{value:Ee,onValueChange:De,className:"space-y-6",children:[i.jsxs(qd,{className:"grid w-full grid-cols-2",children:[i.jsx(Ci,{value:"new-order",children:"New Order"}),i.jsxs(Ci,{value:"upcoming-orders",children:["Upcoming Orders (",u.length,")"]})]}),i.jsx(ki,{value:"new-order",className:"space-y-6",children:i.jsxs(Ur,{children:[i.jsxs(tn,{children:[i.jsx(rn,{children:"Schedule a Multi-Store Run"}),i.jsx(bp,{children:"Add one or more stores and we'll shop at all of them for you"})]}),i.jsx(Vr,{children:i.jsxs("form",{onSubmit:va,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Select Stores"}),i.jsxs("div",{className:"relative w-64",children:[i.jsx(ev,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"search",placeholder:"Search stores...",className:"pl-8",value:l,onChange:ae=>c(ae.target.value)})]})]}),i.jsx(B9,{stores:n,selectedStores:p,onStoreToggle:y,onNotesChange:()=>{},onEstimatedTotalChange:()=>{}})]}),I.stores&&i.jsx("p",{className:"text-xs text-destructive",children:I.stores}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Select Date"}),i.jsxs(Uv,{children:[i.jsx(Vv,{asChild:!0,children:i.jsxs(Q,{type:"button",variant:"outline",className:ke("w-full justify-start text-left font-normal",!x&&"text-muted-foreground"),children:[i.jsx(qs,{className:"mr-2 h-4 w-4"}),x?$t(x,vt):i.jsx("span",{children:"Pick a date"})]})}),i.jsx(Vd,{className:"w-auto p-0",align:"start",children:i.jsx(Fd,{mode:"single",selected:x,onSelect:j,disabled:ic,initialFocus:!0})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Time Slot"}),E?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):N.length===0?i.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):i.jsxs(Jt,{value:w,onValueChange:S,children:[i.jsx(Vt,{className:I.timeSlot?"border-destructive":"",children:i.jsx(Qt,{placeholder:"Choose a time slot"})}),i.jsx(Bt,{children:N.map(ae=>i.jsxs(Ie,{value:ae.id,children:[$o(ae.start_time)," - ",$o(ae.end_time)]},ae.id))})]}),I.timeSlot&&i.jsx("p",{className:"text-xs text-destructive",children:I.timeSlot})]})]}),ec&&i.jsxs(Ur,{className:"border-primary/20 bg-primary/5",children:[i.jsxs(tn,{children:[i.jsx(rn,{children:"Sign in to Continue"}),i.jsx(bp,{children:"Please sign in to complete your grocery run order"})]}),i.jsx(Vr,{children:i.jsx("div",{className:"max-w-lg mx-auto",children:i.jsx(Cd,{onSuccess:Gd})})})]}),e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Contact Preference"}),i.jsxs(Wd,{value:K,onValueChange:Z,className:"grid gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Di,{value:"whatsapp",id:"whatsapp"}),i.jsx(oe,{htmlFor:"whatsapp",children:"WhatsApp"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Di,{value:"phone",id:"phone"}),i.jsx(oe,{htmlFor:"phone",children:"SMS/Call"})]})]})]}),K==="whatsapp"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"whatsapp",children:"WhatsApp Number"}),i.jsx(xe,{id:"whatsapp",value:D,onChange:ae=>A(ae.target.value),placeholder:"Enter your WhatsApp number",className:I.whatsapp?"border-destructive":""}),I.whatsapp&&i.jsx("p",{className:"text-xs text-destructive",children:I.whatsapp})]}),K==="phone"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),i.jsx(xe,{id:"phone",value:$,onChange:ae=>q(ae.target.value),placeholder:"Enter your phone number",className:I.phone?"border-destructive":""}),I.phone&&i.jsx("p",{className:"text-xs text-destructive",children:I.phone})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zn,{id:"reorder",checked:yr,onCheckedChange:Ar}),i.jsx(oe,{htmlFor:"reorder",className:"text-sm",children:"Reorder my previous items (we'll add them to this order)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(oe,{htmlFor:"address",children:"Delivery Address"}),e&&((Hi=e.addresses)==null?void 0:Hi.length)>0&&i.jsxs(Q,{type:"button",variant:"ghost",size:"sm",onClick:()=>X(!G),className:"flex items-center text-primary",children:[i.jsx(Ho,{className:"w-4 h-4 mr-1"}),G?"Hide saved addresses":"Use saved address"]})]}),G&&i.jsx(wN,{onSelect:Js}),i.jsx(Id,{value:C,onChange:R,onAddressSelect:Qs,placeholder:"Start typing your address...",className:I.address?"border-destructive":""}),I.address&&i.jsx("p",{className:"text-xs text-destructive",children:I.address})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:ue,onChange:ae=>{me(ae.target.value),he(!0)},onFocus:()=>he(!0),className:I.postcode?"border-destructive":""}),de&&Ne.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:Ne.slice(0,10).map(ae=>i.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>Yd(ae),children:[i.jsx("div",{className:"text-sm font-medium",children:ae.suburb}),i.jsx("div",{className:"text-xs text-gray-500",children:ae.postcode})]},`${ae.suburb}-${ae.postcode}`))})]}),I.postcode&&i.jsx("p",{className:"text-xs text-destructive",children:I.postcode})]}),p.length>0&&i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Promo Code"}),i.jsx(EC,{subtotal:ei.subtotal,onPromoApplied:nc,appliedPromo:Re,onPromoRemoved:sc})]}),i.jsx("hr",{}),p.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.map(ae=>i.jsx("span",{className:"bg-seagreen text-white-800 border border-gray-200 rounded-full px-6 py-1 text-xs font-medium shadow-sm",children:ae.name},ae.id))}),p.length>0&&i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-muted/30",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Estimated Subtotal:"}),i.jsx("span",{children:Pe(ss())})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Convenience Fee (",Wr.convenience_fee_percent,"%):"]}),i.jsx("span",{children:Pe(hn())})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Delivery Fee :"}),i.jsx("span",{children:Pe(Zs())})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Service Fee (",Wr.service_fee_percent,"%):"]}),i.jsx("span",{children:Pe(ya())})]}),Re&&fn()>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Discount (",Re.code,"):"]}),i.jsxs("span",{children:["-",Pe(fn())]})]}),i.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[i.jsx("span",{children:"Estimated Total:"}),i.jsx("span",{children:Pe(xa())})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zn,{id:"terms",checked:J,onCheckedChange:ee}),i.jsxs(oe,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",i.jsx(Ce,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",i.jsx(Ce,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]}),I.terms&&i.jsx("p",{className:"text-xs text-destructive",children:I.terms}),i.jsxs(Q,{type:"submit",className:"w-full",disabled:p.length===0,children:["Proceed to Payment  ",i.jsx(Vl,{})]})]})]})})]})}),i.jsx(ki,{value:"upcoming-orders",children:i.jsx(zC,{orders:u,onSendMessage:ga})})]})})})]})},H9=()=>{var x;const{user:e}=ir(),t=Pr(),r=$i(),[n,o]=g.useState(null),[l,c]=g.useState(!0),[u,f]=g.useState(null),{orderId:h,orderData:m,finalTotal:p}=r.state||{};g.useEffect(()=>{if(!h||!m||!p){t("/store-pickup");return}(async()=>{try{const S=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"pickup",orderId:h,orderData:m,amount:Math.round(p*100),user_id:e.id,productList:null})})).json();if(S.error)throw new Error(S.error);o(S.clientSecret)}catch(w){f(w.message)}finally{c(!1)}})()},[h,m,p,t,e.id]);const y=async j=>{try{const{error:w}=await ie.from("pickup_orders").update({payment_status:"paid",payment_data:j.payment_data,status:"processing"}).eq("id",h);if(w)throw w;te({title:"Payment Successful",description:"Your grocery run has been scheduled and payment confirmed."}),t("/store-pickup",{state:{tab:"upcoming-orders",message:"Your grocery run has been scheduled successfully!"}})}catch(w){console.error("Error updating order:",w),f("Payment successful but failed to update order. Please contact support.")}};return l?i.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):u?i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"max-w-md mx-auto text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:u}),i.jsxs(Q,{onClick:()=>t("/store-pickup"),variant:"outline",children:[i.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Return to Grocery Run"]})]})}):i.jsx("div",{className:"container py-8",children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl md:max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs(Q,{variant:"ghost",onClick:()=>t("/store-pickup"),className:"mb-4",children:[i.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Back to Grocery Run"]}),i.jsx("h1",{className:"text-2xl font-bold",children:"Complete Payment"}),i.jsx("p",{className:"text-muted-foreground",children:"Secure payment for your grocery run"})]}),i.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[i.jsxs(Ur,{className:"bg-muted/30 border",children:[i.jsx(tn,{children:i.jsxs(rn,{className:"flex items-center",children:[i.jsx(Vl,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),i.jsxs(Vr,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Pickup Date:"}),i.jsx("span",{children:new Date(m.pickup_date).toLocaleDateString()})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Time Slot:"}),i.jsx("span",{children:m.time_slot})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Stores:"}),i.jsxs("span",{children:[((x=m.stores)==null?void 0:x.length)||0," stores"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Contact:"}),i.jsx("span",{children:m.contact_preference==="whatsapp"?`WhatsApp: ${m.whatsapp_number}`:`Phone: ${m.phone_number}`})]})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"flex justify-between font-semibold",children:[i.jsx("span",{children:"Total Amount:"}),i.jsx("span",{className:"text-lg",children:Pe(p)})]})})]})]}),i.jsxs(Ur,{children:[i.jsx(tn,{children:i.jsx(rn,{children:"Payment Details"})}),i.jsx(Vr,{children:i.jsx(g_,{clientSecret:n,onPaymentSuccess:y})})]})]})]})})},q9=()=>{var A;const{id:e}=ad(),{user:t}=ir(),r=Pr(),[n,o]=g.useState(null),[l,c]=g.useState(!0),[u,f]=g.useState(""),[h,m]=g.useState(!1),[p,y]=g.useState({}),[x,j]=g.useState({}),[w,S]=g.useState({});g.useEffect(()=>{if(!t){r("/store-pickup");return}N()},[e,t,r]);const N=async()=>{var C;try{const{data:R,error:M}=await ie.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("id",e).eq("user_id",t.id).single();if(M)throw M;if(!R){te({variant:"destructive",title:"Order not found",description:"This order doesn't exist or you don't have access to it."}),r("/store-pickup");return}o(R);const V={},B={};(C=R.pickup_order_stores)==null||C.forEach(z=>{V[z.store_id]=z.notes||"",B[z.store_id]=[]}),y(V),j(B)}catch(R){console.error("Error fetching order details:",R),te({variant:"destructive",title:"Error",description:"Could not load order details."}),r("/store-pickup")}finally{c(!1)}},k=async()=>{if(!(!u.trim()||h)){m(!0);try{const C=n.admin_messages||[],R={from:"customer",message:u.trim(),timestamp:new Date().toISOString()},{error:M}=await ie.from("pickup_orders").update({admin_messages:[...C,R]}).eq("id",e);if(M)throw M;o(V=>({...V,admin_messages:[...C,R]})),f(""),te({title:"Message sent",description:"Your message has been sent to our team."})}catch(C){console.error("Error sending message:",C),te({variant:"destructive",title:"Error",description:"Could not send message."})}finally{m(!1)}}},E=async(C,R)=>{S(M=>({...M,[C]:!0}));try{const{error:M}=await ie.from("pickup_order_stores").update({notes:p[C]}).eq("id",R);if(M)throw M;te({title:"Notes saved",description:"Your shopping notes have been updated."}),o(V=>({...V,pickup_order_stores:V.pickup_order_stores.map(B=>B.id===R?{...B,notes:p[C]}:B)}))}catch(M){console.error("Error saving notes:",M),te({variant:"destructive",title:"Error",description:"Could not save notes."})}finally{S(M=>({...M,[C]:!1}))}},P=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?i.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n?i.jsx("div",{className:"container py-8",children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(Ce,{to:"/store-pickup",children:i.jsxs(Q,{variant:"ghost",className:"mb-4",children:[i.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Back to Grocery Runs"]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Grocery Run #",n.id.slice(0,6).toUpperCase()]}),i.jsxs("p",{className:"text-muted-foreground",children:[n.pickup_date?zt(new Date(n.pickup_date),"PPP"):"N/A"," • ",n.time_slot]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(pt,{className:D(n.payment_status),children:[i.jsx(Vl,{}),"  ",n.payment_status.charAt(0).toUpperCase()+n.payment_status.slice(1)]}),i.jsxs(pt,{className:P(n.status),children:[i.jsx(x$,{}),"  ",n.status.charAt(0).toUpperCase()+n.status.slice(1)]})]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(Ur,{children:[i.jsx(tn,{children:i.jsxs(rn,{className:"flex items-center",children:[i.jsx(Br,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),i.jsxs(Vr,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(qs,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.pickup_date?zt(new Date(n.pickup_date),"PPP"):"N/A"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(nn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ho,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.delivery_address]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(xd,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.whatsapp_number||n.phone_number]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[i.jsx("span",{className:"font-medium",children:"Total Amount:"}),i.jsx("span",{className:"text-lg font-bold",children:n.actual_total?Pe(n.actual_total):"(Est.)"+Pe(n.estimated_total)})]}),n.actual_total&&i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsx("span",{className:"font-medium",children:"Actual Total:"}),i.jsx("span",{className:"text-base font-semibold",children:Pe(n.actual_total)})]}),n.payment_status==="paid"&&n.payment_data&&i.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded",children:[i.jsx("div",{className:"font-medium mb-1 text-green-800",children:"Payment Details:"}),i.jsx("pre",{className:"text-xs text-green-900 whitespace-pre-wrap break-all",children:JSON.stringify(n.payment_data,null,2)})]}),n.status!=="cancelled"&&n.status!=="completed"&&i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx(Q,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to cancel this order? Cancellation fees may apply"))try{const{error:C}=await ie.from("pickup_orders").update({status:"cancelled"}).eq("id",n.id);if(C)throw C;o(R=>({...R,status:"cancelled"})),te({title:"Order Cancelled",description:"Your order has been cancelled."})}catch{te({variant:"destructive",title:"Error",description:"Could not cancel order."})}},children:"Cancel Order"})})]})]}),i.jsxs(Ur,{children:[i.jsx(tn,{children:i.jsxs(rn,{className:"flex items-center",children:[i.jsx(Fi,{className:"w-5 h-5 mr-2"}),"Store Orders"]})}),i.jsx(Vr,{className:"space-y-6",children:(A=n.pickup_order_stores)==null?void 0:A.map((C,R)=>{var M,V,B;return i.jsxs("div",{className:"space-y-4",children:[R>0&&i.jsx(Al,{}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-medium mb-0",children:(M=C.stores)==null?void 0:M.name}),i.jsx(pt,{className:P(C.status),variant:"outline",children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(V=C.stores)==null?void 0:V.address})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium",children:C.actual_total?Pe(C.actual_total):Pe(C.estimated_total)}),C.actual_total&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",Pe(C.estimated_total)]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:`notes-${C.store_id}`,children:"Shopping List / Notes"}),i.jsx(ln,{id:`notes-${C.store_id}`,value:p[C.store_id]||"",onChange:z=>y(G=>({...G,[C.store_id]:z.target.value})),placeholder:"Add your shopping list or special instructions for this store...",rows:3,disabled:n.status==="completed"||n.status==="cancelled"}),n.status!=="completed"&&n.status!=="cancelled"&&i.jsx(Q,{size:"sm",onClick:()=>E(C.store_id,C.id),disabled:w[C.store_id],children:w[C.store_id]?"Saving...":"Save Notes"})]}),n.status!=="completed"&&n.status!=="cancelled"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(oe,{children:["Photos for ",(B=C.stores)==null?void 0:B.name]}),i.jsx(z9,{photos:x[C.store_id]||[],onPhotosChange:z=>j(G=>({...G,[C.store_id]:z})),maxPhotos:5})]})]},C.id)})})]}),n.photos&&n.photos.length>0&&i.jsxs(Ur,{children:[i.jsx(tn,{children:i.jsxs(rn,{className:"flex items-center",children:[i.jsx(MO,{className:"w-5 h-5 mr-2"}),"Your Photos"]})}),i.jsx(Vr,{children:i.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.photos.map((C,R)=>i.jsx("img",{src:C.data,alt:`Photo ${R+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(C.data,"_blank")},R))})})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(Ur,{children:[i.jsx(tn,{children:i.jsxs(rn,{className:"flex items-center",children:[i.jsx(Bl,{className:"w-5 h-5 mr-2"}),"Support"]})}),i.jsxs(Vr,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.admin_messages&&n.admin_messages.length>0?n.admin_messages.map((C,R)=>i.jsxs("div",{className:`p-3 rounded text-sm ${C.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"font-medium",children:C.from==="admin"?"Support Team":"You"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:zt(new Date(C.timestamp),"MMM d, HH:mm")})]}),i.jsx("p",{children:C.message})]},R)):i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Send a message:"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ln,{value:u,onChange:C=>f(C.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),i.jsx(Q,{onClick:k,disabled:!u.trim()||h,size:"sm",children:h?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(Wl,{className:"w-4 h-4"})})]})]})]})]})})]})]})}):i.jsxs("div",{className:"container py-8 text-center",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order not found"}),i.jsx(Ce,{to:"/store-pickup",children:i.jsxs(Q,{variant:"outline",children:[i.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Back to Grocery Runs"]})})]})},Y9=()=>i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),i.jsxs("div",{className:"prose prose-slate max-w-none",children:[i.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),i.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us, including:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Name and contact information"}),i.jsx("li",{children:"Delivery address"}),i.jsx("li",{children:"Order history and preferences"}),i.jsx("li",{children:"Payment information"})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),i.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Process and deliver your orders"}),i.jsx("li",{children:"Send order confirmations and updates"}),i.jsx("li",{children:"Improve our services"}),i.jsx("li",{children:"Communicate with you about promotions and updates"})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),i.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We share your information only with:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Delivery partners to fulfill your orders"}),i.jsx("li",{children:"Payment processors to handle transactions"}),i.jsx("li",{children:"Service providers who assist our operations"})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Your Rights"}),i.jsx("p",{className:"mb-4",children:"You have the right to:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Access your personal information"}),i.jsx("li",{children:"Correct inaccurate information"}),i.jsx("li",{children:"Request deletion of your information"}),i.jsx("li",{children:"Opt-out of marketing communications"})]})]})]}),i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsx(Ce,{to:"/",children:i.jsx(Q,{variant:"outline",children:"Back to Home"})})})]})}),G9=()=>i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms and Conditions"}),i.jsxs("div",{className:"prose prose-slate max-w-none",children:[i.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"mb-4",children:"By accessing and using Groceroo's services, you agree to be bound by these Terms and Conditions. These terms govern your use of our website, mobile application, and delivery services."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Service Description"}),i.jsx("p",{className:"mb-4",children:"Groceroo provides an online grocery shopping and delivery service. We:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Accept orders for grocery items"}),i.jsx("li",{children:"Process payments securely"}),i.jsx("li",{children:"Deliver orders to specified addresses"}),i.jsx("li",{children:"Offer store pickup services"})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Ordering and Delivery"}),i.jsx("p",{className:"mb-4",children:"When placing an order:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"You must provide accurate delivery information"}),i.jsx("li",{children:"Orders are subject to product availability"}),i.jsx("li",{children:"Delivery times are estimates and not guaranteed"}),i.jsx("li",{children:"Minimum order values may apply"})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Pricing and Payment"}),i.jsx("p",{className:"mb-4",children:"All prices are in AUD and include applicable taxes. Additional fees may apply:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Delivery fees"}),i.jsx("li",{children:"Service fees"}),i.jsx("li",{children:"Special handling fees"})]})]})]}),i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsx(Ce,{to:"/",children:i.jsx(Q,{variant:"outline",children:"Back to Home"})})})]})}),K9=()=>{var S,N;const{user:e}=ir(),{cart:t,getCartTotal:r,clearCart:n}=Ws(),{addOrder:o}=Qp(),l=Pr(),c=$i(),[u,f]=g.useState(null),[h,m]=g.useState(null),[p,y]=g.useState(!0),[x,j]=g.useState(null);g.useEffect(()=>{if(!t.length){l("/checkout");return}(async()=>{var E;try{const P=t.map(R=>({id:R.id,quantity:R.quantity})),D=(E=c.state)==null?void 0:E.orderData,C=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"delivery",productList:P,user_id:e.id,orderData:D,orderId:null})})).json();if(C.error)throw new Error(C.error);f(C.clientSecret),m(C.orderData)}catch(P){j(P.message)}finally{y(!1)}})()},[t,l,c.state,e.id]);const w=async k=>{try{const E=k.payment_data,P={...h,payment_data:E},D=await o(P);n(),l(`/order-confirmation/${D.id}`)}catch(E){console.error("Error creating order:",E),j("Failed to create order. Please contact support.")}};return p?i.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):x?i.jsxs("div",{className:"container py-8 text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:x}),i.jsx("button",{onClick:()=>l("/checkout"),className:"text-primary hover:underline",children:"Return to checkout"})]}):i.jsxs("div",{className:"container py-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Complete Payment"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Order Total"}),i.jsx("p",{className:"text-2xl font-bold",children:Pe(r()+(((S=c.state)==null?void 0:S.deliveryFee)||0)+(((N=c.state)==null?void 0:N.serviceFee)||0))})]}),i.jsx(g_,{clientSecret:u,onPaymentSuccess:w})]})]})},X9=()=>{const[e,t]=g.useState({name:"",email:"",subject:"",message:""}),[r,n]=g.useState(!1),o=async l=>{l.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),te({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),t({name:"",email:"",subject:"",message:""}),n(!1)};return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Contact Us"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions or feedback? We'd love to hear from you."}),i.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:i.jsx(O1,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Email"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"contact@groceroo.com.au"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:i.jsx(xd,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Phone"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"+61 478 477 036"})]})]})]}),i.jsxs("div",{className:"p-6 border rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send us a message"}),i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Name"}),i.jsx(xe,{id:"name",value:e.name,onChange:l=>t(c=>({...c,name:l.target.value})),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"email",children:"Email"}),i.jsx(xe,{id:"email",type:"email",value:e.email,onChange:l=>t(c=>({...c,email:l.target.value})),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"subject",children:"Subject"}),i.jsx(xe,{id:"subject",value:e.subject,onChange:l=>t(c=>({...c,subject:l.target.value})),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"message",children:"Message"}),i.jsx(ln,{id:"message",rows:5,value:e.message,onChange:l=>t(c=>({...c,message:l.target.value})),required:!0})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})})},J9=()=>{const[e,t]=g.useState({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),[r,n]=g.useState(!1),o=async l=>{l.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),te({title:"Application Received",description:"Thank you for your interest! We'll review your application and get back to you soon."}),t({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),n(!1)};return i.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:i.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Work With Us"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Join our team and be part of Adelaide's growing grocery delivery service."}),i.jsxs("div",{className:"p-6 border rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expression of Interest"}),i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"name",children:"Full Name"}),i.jsx(xe,{id:"name",value:e.name,onChange:l=>t(c=>({...c,name:l.target.value})),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"email",children:"Email"}),i.jsx(xe,{id:"email",type:"email",value:e.email,onChange:l=>t(c=>({...c,email:l.target.value})),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),i.jsx(xe,{id:"phone",type:"tel",value:e.phone,onChange:l=>t(c=>({...c,phone:l.target.value})),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{children:"Position of Interest"}),i.jsxs(Wd,{value:e.position,onValueChange:l=>t(c=>({...c,position:l})),className:"flex space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Di,{value:"driver",id:"driver"}),i.jsx(oe,{htmlFor:"driver",children:"Delivery Driver"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Di,{value:"assistant",id:"assistant"}),i.jsx(oe,{htmlFor:"assistant",children:"In-Store Assistant"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"experience",children:"Relevant Experience"}),i.jsx(ln,{id:"experience",rows:3,value:e.experience,onChange:l=>t(c=>({...c,experience:l.target.value})),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(oe,{htmlFor:"availability",children:"Availability"}),i.jsx(ln,{id:"availability",rows:2,value:e.availability,onChange:l=>t(c=>({...c,availability:l.target.value})),placeholder:"Please specify your available days and hours",required:!0})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})]})})},Q9=()=>i.jsx(wO,{children:i.jsx(xO,{children:i.jsx(hD,{children:i.jsx(BP,{children:i.jsxs("div",{className:"flex flex-col min-h-screen bg-background font-sans antialiased",children:[i.jsx(d3,{}),i.jsx("main",{className:"flex-1",children:i.jsx(Cl,{mode:"wait",children:i.jsxs($P,{children:[i.jsx(St,{path:"/",element:i.jsx(w5,{})}),i.jsx(St,{path:"/shop",element:i.jsx(XF,{})}),i.jsx(St,{path:"/categories",element:i.jsx(QF,{})}),i.jsx(St,{path:"/category/:id",element:i.jsx(ZF,{})}),i.jsx(St,{path:"/product/:id",element:i.jsx(e6,{})}),i.jsx(St,{path:"/checkout",element:i.jsx(c9,{})}),i.jsx(St,{path:"/store-pickup",element:i.jsx(W9,{})}),i.jsx(St,{path:"/pickup-payment",element:i.jsx(H9,{})}),i.jsx(St,{path:"/pickup-order/:id",element:i.jsx(q9,{})}),i.jsx(St,{path:"/order-confirmation/:id",element:i.jsx(u9,{})}),i.jsx(St,{path:"/admin-login",element:i.jsx(f9,{})}),i.jsx(St,{path:"/register",element:i.jsx(h9,{})}),i.jsx(St,{path:"/account/*",element:i.jsx(x9,{})}),i.jsx(St,{path:"/admin",element:i.jsx(V9,{})}),i.jsx(St,{path:"/privacy",element:i.jsx(Y9,{})}),i.jsx(St,{path:"/terms",element:i.jsx(G9,{})}),i.jsx(St,{path:"/stripe-payment",element:i.jsx(K9,{})}),i.jsx(St,{path:"/contact",element:i.jsx(X9,{})}),i.jsx(St,{path:"/work",element:i.jsx(J9,{})})]})})}),i.jsx(f3,{}),i.jsx(h3,{}),i.jsx(I3,{})]})})})})});W2.createRoot(document.getElementById("root")).render(i.jsx(Q9,{}));export{Ol as g};
