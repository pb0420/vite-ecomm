function $k(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var zh={exports:{}},ul={},Wh={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function Ik(){if(Ty)return He;Ty=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _($,J,le){this.props=$,this.context=J,this.refs=w,this.updater=le||y}_.prototype.isReactComponent={},_.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=_.prototype;function C($,J,le){this.props=$,this.context=J,this.refs=w,this.updater=le||y}var k=C.prototype=new N;k.constructor=C,j(k,_.prototype),k.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,D={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A($,J,le){var ue,ye={},me=null,ie=null;if(J!=null)for(ue in J.ref!==void 0&&(ie=J.ref),J.key!==void 0&&(me=""+J.key),J)E.call(J,ue)&&!O.hasOwnProperty(ue)&&(ye[ue]=J[ue]);var pe=arguments.length-2;if(pe===1)ye.children=le;else if(1<pe){for(var Ne=Array(pe),ve=0;ve<pe;ve++)Ne[ve]=arguments[ve+2];ye.children=Ne}if($&&$.defaultProps)for(ue in pe=$.defaultProps,pe)ye[ue]===void 0&&(ye[ue]=pe[ue]);return{$$typeof:e,type:$,key:me,ref:ie,props:ye,_owner:D.current}}function R($,J){return{$$typeof:e,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function Q($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(le){return J[le]})}var G=/\/+/g;function W($,J){return typeof $=="object"&&$!==null&&$.key!=null?Q(""+$.key):J.toString(36)}function U($,J,le,ue,ye){var me=typeof $;(me==="undefined"||me==="boolean")&&($=null);var ie=!1;if($===null)ie=!0;else switch(me){case"string":case"number":ie=!0;break;case"object":switch($.$$typeof){case e:case t:ie=!0}}if(ie)return ie=$,ye=ye(ie),$=ue===""?"."+W(ie,0):ue,P(ye)?(le="",$!=null&&(le=$.replace(G,"$&/")+"/"),U(ye,J,le,"",function(ve){return ve})):ye!=null&&(z(ye)&&(ye=R(ye,le+(!ye.key||ie&&ie.key===ye.key?"":(""+ye.key).replace(G,"$&/")+"/")+$)),J.push(ye)),1;if(ie=0,ue=ue===""?".":ue+":",P($))for(var pe=0;pe<$.length;pe++){me=$[pe];var Ne=ue+W(me,pe);ie+=U(me,J,le,Ne,ye)}else if(Ne=x($),typeof Ne=="function")for($=Ne.call($),pe=0;!(me=$.next()).done;)me=me.value,Ne=ue+W(me,pe++),ie+=U(me,J,le,Ne,ye);else if(me==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ie}function q($,J,le){if($==null)return $;var ue=[],ye=0;return U($,ue,"","",function(me){return J.call(le,me,ye++)}),ue}function K($){if($._status===-1){var J=$._result;J=J(),J.then(function(le){($._status===0||$._status===-1)&&($._status=1,$._result=le)},function(le){($._status===0||$._status===-1)&&($._status=2,$._result=le)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var I={current:null},L={transition:null},B={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:D};function Z(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:q,forEach:function($,J,le){q($,function(){J.apply(this,arguments)},le)},count:function($){var J=0;return q($,function(){J++}),J},toArray:function($){return q($,function(J){return J})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}},He.Component=_,He.Fragment=n,He.Profiler=o,He.PureComponent=C,He.StrictMode=r,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,He.act=Z,He.cloneElement=function($,J,le){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ue=j({},$.props),ye=$.key,me=$.ref,ie=$._owner;if(J!=null){if(J.ref!==void 0&&(me=J.ref,ie=D.current),J.key!==void 0&&(ye=""+J.key),$.type&&$.type.defaultProps)var pe=$.type.defaultProps;for(Ne in J)E.call(J,Ne)&&!O.hasOwnProperty(Ne)&&(ue[Ne]=J[Ne]===void 0&&pe!==void 0?pe[Ne]:J[Ne])}var Ne=arguments.length-2;if(Ne===1)ue.children=le;else if(1<Ne){pe=Array(Ne);for(var ve=0;ve<Ne;ve++)pe[ve]=arguments[ve+2];ue.children=pe}return{$$typeof:e,type:$.type,key:ye,ref:me,props:ue,_owner:ie}},He.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},He.createElement=A,He.createFactory=function($){var J=A.bind(null,$);return J.type=$,J},He.createRef=function(){return{current:null}},He.forwardRef=function($){return{$$typeof:u,render:$}},He.isValidElement=z,He.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:K}},He.memo=function($,J){return{$$typeof:h,type:$,compare:J===void 0?null:J}},He.startTransition=function($){var J=L.transition;L.transition={};try{$()}finally{L.transition=J}},He.unstable_act=Z,He.useCallback=function($,J){return I.current.useCallback($,J)},He.useContext=function($){return I.current.useContext($)},He.useDebugValue=function(){},He.useDeferredValue=function($){return I.current.useDeferredValue($)},He.useEffect=function($,J){return I.current.useEffect($,J)},He.useId=function(){return I.current.useId()},He.useImperativeHandle=function($,J,le){return I.current.useImperativeHandle($,J,le)},He.useInsertionEffect=function($,J){return I.current.useInsertionEffect($,J)},He.useLayoutEffect=function($,J){return I.current.useLayoutEffect($,J)},He.useMemo=function($,J){return I.current.useMemo($,J)},He.useReducer=function($,J,le){return I.current.useReducer($,J,le)},He.useRef=function($){return I.current.useRef($)},He.useState=function($){return I.current.useState($)},He.useSyncExternalStore=function($,J,le){return I.current.useSyncExternalStore($,J,le)},He.useTransition=function(){return I.current.useTransition()},He.version="18.3.1",He}var Ay;function Rp(){return Ay||(Ay=1,Wh.exports=Ik()),Wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function Lk(){if(Dy)return ul;Dy=1;var e=Rp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,p={},x=null,y=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(y=f.ref);for(m in f)r.call(f,m)&&!l.hasOwnProperty(m)&&(p[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:t,type:u,key:x,ref:y,props:p,_owner:o.current}}return ul.Fragment=n,ul.jsx=c,ul.jsxs=c,ul}var Oy;function Fk(){return Oy||(Oy=1,zh.exports=Lk()),zh.exports}var s=Fk(),g=Rp();const fe=Kl(g),xd=$k({__proto__:null,default:fe},[g]);var Nu={},Hh={exports:{}},gn={},qh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function Uk(){return Ry||(Ry=1,function(e){function t(L,B){var Z=L.length;L.push(B);e:for(;0<Z;){var $=Z-1>>>1,J=L[$];if(0<o(J,B))L[$]=B,L[Z]=J,Z=$;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],Z=L.pop();if(Z!==B){L[0]=Z;e:for(var $=0,J=L.length,le=J>>>1;$<le;){var ue=2*($+1)-1,ye=L[ue],me=ue+1,ie=L[me];if(0>o(ye,Z))me<J&&0>o(ie,ye)?(L[$]=ie,L[me]=Z,$=me):(L[$]=ye,L[ue]=Z,$=ue);else if(me<J&&0>o(ie,Z))L[$]=ie,L[me]=Z,$=me;else break e}}return B}function o(L,B){var Z=L.sortIndex-B.sortIndex;return Z!==0?Z:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,p=null,x=3,y=!1,j=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(L){for(var B=n(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=L)r(h),B.sortIndex=B.expirationTime,t(f,B);else break;B=n(h)}}function P(L){if(w=!1,k(L),!j)if(n(f)!==null)j=!0,K(E);else{var B=n(h);B!==null&&I(P,B.startTime-L)}}function E(L,B){j=!1,w&&(w=!1,N(A),A=-1),y=!0;var Z=x;try{for(k(B),p=n(f);p!==null&&(!(p.expirationTime>B)||L&&!Q());){var $=p.callback;if(typeof $=="function"){p.callback=null,x=p.priorityLevel;var J=$(p.expirationTime<=B);B=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(f)&&r(f),k(B)}else r(f);p=n(f)}if(p!==null)var le=!0;else{var ue=n(h);ue!==null&&I(P,ue.startTime-B),le=!1}return le}finally{p=null,x=Z,y=!1}}var D=!1,O=null,A=-1,R=5,z=-1;function Q(){return!(e.unstable_now()-z<R)}function G(){if(O!==null){var L=e.unstable_now();z=L;var B=!0;try{B=O(!0,L)}finally{B?W():(D=!1,O=null)}}else D=!1}var W;if(typeof C=="function")W=function(){C(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=G,W=function(){q.postMessage(null)}}else W=function(){_(G,0)};function K(L){O=L,D||(D=!0,W())}function I(L,B){A=_(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,K(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(L){switch(x){case 1:case 2:case 3:var B=3;break;default:B=x}var Z=x;x=B;try{return L()}finally{x=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Z=x;x=L;try{return B()}finally{x=Z}},e.unstable_scheduleCallback=function(L,B,Z){var $=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?$+Z:$):Z=$,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,L={id:m++,callback:B,priorityLevel:L,startTime:Z,expirationTime:J,sortIndex:-1},Z>$?(L.sortIndex=Z,t(h,L),n(f)===null&&L===n(h)&&(w?(N(A),A=-1):w=!0,I(P,Z-$))):(L.sortIndex=J,t(f,L),j||y||(j=!0,K(E))),L},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(L){var B=x;return function(){var Z=x;x=B;try{return L.apply(this,arguments)}finally{x=Z}}}}(Yh)),Yh}var $y;function Bk(){return $y||($y=1,qh.exports=Uk()),qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function Vk(){if(My)return gn;My=1;var e=Rp(),t=Bk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(i){return f.call(p,i)?!0:f.call(m,i)?!1:h.test(i)?p[i]=!0:(m[i]=!0,!1)}function y(i,a,d,v){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return v?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,a,d,v){if(a===null||typeof a>"u"||y(i,a,d,v))return!0;if(v)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(i,a,d,v,b,S,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=v,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=S,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];_[a]=new w(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(N,C);_[a]=new w(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(N,C);_[a]=new w(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(N,C);_[a]=new w(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,a,d,v){var b=_.hasOwnProperty(a)?_[a]:null;(b!==null?b.type!==0:v||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,d,b,v)&&(d=null),v||b===null?x(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):b.mustUseProperty?i[b.propertyName]=d===null?b.type===3?!1:"":d:(a=b.attributeName,v=b.attributeNamespace,d===null?i.removeAttribute(a):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,v?i.setAttributeNS(v,a,d):i.setAttribute(a,d))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),Q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Object.assign,$;function J(i){if($===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+i}var le=!1;function ue(i,a){if(!i||le)return"";le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var v=X}Reflect.construct(i,[],a)}else{try{a.call()}catch(X){v=X}i.call(a.prototype)}else{try{throw Error()}catch(X){v=X}i()}}catch(X){if(X&&v&&typeof X.stack=="string"){for(var b=X.stack.split(`
`),S=v.stack.split(`
`),T=b.length-1,M=S.length-1;1<=T&&0<=M&&b[T]!==S[M];)M--;for(;1<=T&&0<=M;T--,M--)if(b[T]!==S[M]){if(T!==1||M!==1)do if(T--,M--,0>M||b[T]!==S[M]){var F=`
`+b[T].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=T&&0<=M);break}}}finally{le=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?J(i):""}function ye(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=ue(i.type,!1),i;case 11:return i=ue(i.type.render,!1),i;case 1:return i=ue(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case D:return"Portal";case R:return"Profiler";case A:return"StrictMode";case W:return"Suspense";case U:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Q:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case G:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return a=i.displayName||null,a!==null?a:me(i.type)||"Memo";case K:a=i._payload,i=i._init;try{return me(i(a))}catch{}}return null}function ie(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ve(i){var a=Ne(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),v=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,S=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function(T){v=""+T,S.call(this,T)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(T){v=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function de(i){i._valueTracker||(i._valueTracker=ve(i))}function Ce(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),v="";return i&&(v=Ne(i)?i.checked?"true":"false":i.value),i=v,i!==d?(a.setValue(i),!0):!1}function Ue(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Be(i,a){var d=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Qe(i,a){var d=a.defaultValue==null?"":a.defaultValue,v=a.checked!=null?a.checked:a.defaultChecked;d=pe(a.value!=null?a.value:d),i._wrapperState={initialChecked:v,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function dn(i,a){a=a.checked,a!=null&&k(i,"checked",a,!1)}function Rn(i,a){dn(i,a);var d=pe(a.value),v=a.type;if(d!=null)v==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?jn(i,a.type,d):a.hasOwnProperty("defaultValue")&&jn(i,a.type,pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function os(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var v=a.type;if(!(v!=="submit"&&v!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function jn(i,a,d){(a!=="number"||Ue(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var $n=Array.isArray;function rn(i,a,d,v){if(i=i.options,a){a={};for(var b=0;b<d.length;b++)a["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=a.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&v&&(i[d].defaultSelected=!0)}else{for(d=""+pe(d),a=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,v&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function ba(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hc(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if($n(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:pe(d)}}function nf(i,a){var d=pe(a.value),v=pe(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),v!=null&&(i.defaultValue=""+v)}function eo(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ja(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _a(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ja(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var to,mc=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,v,b){MSApp.execUnsafeLocalFunction(function(){return i(a,d,v,b)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=to.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function si(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rf=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(i){rf.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),ii[a]=ii[i]})});function Sa(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ii.hasOwnProperty(i)&&ii[i]?(""+a).trim():a+"px"}function pc(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var v=d.indexOf("--")===0,b=Sa(d,a[d],v);d==="float"&&(d="cssFloat"),v?i.setProperty(d,b):i[d]=b}}var sf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(i,a){if(a){if(sf[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ca(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function Pa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ea=null,as=null,ls=null;function oi(i){if(i=Ka(i)){if(typeof Ea!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Uc(a),Ea(i.stateNode,i.type,a))}}function cs(i){as?ls?ls.push(i):ls=[i]:as=i}function no(){if(as){var i=as,a=ls;if(ls=as=null,oi(i),a)for(i=0;i<a.length;i++)oi(a[i])}}function us(i,a){return i(a)}function ai(){}var ro=!1;function of(i,a,d){if(ro)return i(a,d);ro=!0;try{return us(i,a,d)}finally{ro=!1,(as!==null||ls!==null)&&(ai(),no())}}function xr(i,a){var d=i.stateNode;if(d===null)return null;var v=Uc(d);if(v===null)return null;d=v[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Ta=!1;if(u)try{var li={};Object.defineProperty(li,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Ta=!1}function vc(i,a,d,v,b,S,T,M,F){var X=Array.prototype.slice.call(arguments,3);try{a.apply(d,X)}catch(oe){this.onError(oe)}}var re=!1,Ee=null,Ze=!1,ft=null,Gt={onError:function(i){re=!0,Ee=i}};function Mn(i,a,d,v,b,S,T,M,F){re=!1,Ee=null,vc.apply(Gt,arguments)}function _n(i,a,d,v,b,S,T,M,F){if(Mn.apply(this,arguments),re){if(re){var X=Ee;re=!1,Ee=null}else throw Error(n(198));Ze||(Ze=!0,ft=X)}}function Kt(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function ds(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Ir(i){if(Kt(i)!==i)throw Error(n(188))}function Jn(i){var a=i.alternate;if(!a){if(a=Kt(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,v=a;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(v=b.return,v!==null){d=v;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return Ir(b),i;if(S===v)return Ir(b),a;S=S.sibling}throw Error(n(188))}if(d.return!==v.return)d=b,v=S;else{for(var T=!1,M=b.child;M;){if(M===d){T=!0,d=b,v=S;break}if(M===v){T=!0,v=b,d=S;break}M=M.sibling}if(!T){for(M=S.child;M;){if(M===d){T=!0,d=S,v=b;break}if(M===v){T=!0,v=S,d=b;break}M=M.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function so(i){return i=Jn(i),i!==null?gc(i):null}function gc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=gc(i);if(a!==null)return a;i=i.sibling}return null}var xc=t.unstable_scheduleCallback,yc=t.unstable_cancelCallback,af=t.unstable_shouldYield,lf=t.unstable_requestPaint,ht=t.unstable_now,GC=t.unstable_getCurrentPriorityLevel,cf=t.unstable_ImmediatePriority,ig=t.unstable_UserBlockingPriority,wc=t.unstable_NormalPriority,KC=t.unstable_LowPriority,og=t.unstable_IdlePriority,bc=null,yr=null;function XC(i){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(bc,i,void 0,(i.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:ZC,JC=Math.log,QC=Math.LN2;function ZC(i){return i>>>=0,i===0?32:31-(JC(i)/QC|0)|0}var jc=64,_c=4194304;function Aa(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Sc(i,a){var d=i.pendingLanes;if(d===0)return 0;var v=0,b=i.suspendedLanes,S=i.pingedLanes,T=d&268435455;if(T!==0){var M=T&~b;M!==0?v=Aa(M):(S&=T,S!==0&&(v=Aa(S)))}else T=d&~b,T!==0?v=Aa(T):S!==0&&(v=Aa(S));if(v===0)return 0;if(a!==0&&a!==v&&(a&b)===0&&(b=v&-v,S=a&-a,b>=S||b===16&&(S&4194240)!==0))return a;if((v&4)!==0&&(v|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=v;0<a;)d=31-Qn(a),b=1<<d,v|=i[d],a&=~b;return v}function e2(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t2(i,a){for(var d=i.suspendedLanes,v=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes;0<S;){var T=31-Qn(S),M=1<<T,F=b[T];F===-1?((M&d)===0||(M&v)!==0)&&(b[T]=e2(M,a)):F<=a&&(i.expiredLanes|=M),S&=~M}}function uf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ag(){var i=jc;return jc<<=1,(jc&4194240)===0&&(jc=64),i}function df(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function Da(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Qn(a),i[a]=d}function n2(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<d;){var b=31-Qn(d),S=1<<b;a[b]=0,v[b]=-1,i[b]=-1,d&=~S}}function ff(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var v=31-Qn(d),b=1<<v;b&a|i[v]&a&&(i[v]|=a),d&=~b}}var tt=0;function lg(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var cg,hf,ug,dg,fg,mf=!1,Nc=[],fs=null,hs=null,ms=null,Oa=new Map,Ra=new Map,ps=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hg(i,a){switch(i){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Oa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(a.pointerId)}}function $a(i,a,d,v,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:a,domEventName:d,eventSystemFlags:v,nativeEvent:S,targetContainers:[b]},a!==null&&(a=Ka(a),a!==null&&hf(a)),i):(i.eventSystemFlags|=v,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function s2(i,a,d,v,b){switch(a){case"focusin":return fs=$a(fs,i,a,d,v,b),!0;case"dragenter":return hs=$a(hs,i,a,d,v,b),!0;case"mouseover":return ms=$a(ms,i,a,d,v,b),!0;case"pointerover":var S=b.pointerId;return Oa.set(S,$a(Oa.get(S)||null,i,a,d,v,b)),!0;case"gotpointercapture":return S=b.pointerId,Ra.set(S,$a(Ra.get(S)||null,i,a,d,v,b)),!0}return!1}function mg(i){var a=ci(i.target);if(a!==null){var d=Kt(a);if(d!==null){if(a=d.tag,a===13){if(a=ds(d),a!==null){i.blockedOn=a,fg(i.priority,function(){ug(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=vf(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var v=new d.constructor(d.type,d);ka=v,d.target.dispatchEvent(v),ka=null}else return a=Ka(d),a!==null&&hf(a),i.blockedOn=d,!1;a.shift()}return!0}function pg(i,a,d){Cc(i)&&d.delete(a)}function i2(){mf=!1,fs!==null&&Cc(fs)&&(fs=null),hs!==null&&Cc(hs)&&(hs=null),ms!==null&&Cc(ms)&&(ms=null),Oa.forEach(pg),Ra.forEach(pg)}function Ma(i,a){i.blockedOn===a&&(i.blockedOn=null,mf||(mf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i2)))}function Ia(i){function a(b){return Ma(b,i)}if(0<Nc.length){Ma(Nc[0],i);for(var d=1;d<Nc.length;d++){var v=Nc[d];v.blockedOn===i&&(v.blockedOn=null)}}for(fs!==null&&Ma(fs,i),hs!==null&&Ma(hs,i),ms!==null&&Ma(ms,i),Oa.forEach(a),Ra.forEach(a),d=0;d<ps.length;d++)v=ps[d],v.blockedOn===i&&(v.blockedOn=null);for(;0<ps.length&&(d=ps[0],d.blockedOn===null);)mg(d),d.blockedOn===null&&ps.shift()}var io=P.ReactCurrentBatchConfig,kc=!0;function o2(i,a,d,v){var b=tt,S=io.transition;io.transition=null;try{tt=1,pf(i,a,d,v)}finally{tt=b,io.transition=S}}function a2(i,a,d,v){var b=tt,S=io.transition;io.transition=null;try{tt=4,pf(i,a,d,v)}finally{tt=b,io.transition=S}}function pf(i,a,d,v){if(kc){var b=vf(i,a,d,v);if(b===null)Of(i,a,v,Pc,d),hg(i,v);else if(s2(b,i,a,d,v))v.stopPropagation();else if(hg(i,v),a&4&&-1<r2.indexOf(i)){for(;b!==null;){var S=Ka(b);if(S!==null&&cg(S),S=vf(i,a,d,v),S===null&&Of(i,a,v,Pc,d),S===b)break;b=S}b!==null&&v.stopPropagation()}else Of(i,a,v,null,d)}}var Pc=null;function vf(i,a,d,v){if(Pc=null,i=Pa(v),i=ci(i),i!==null)if(a=Kt(i),a===null)i=null;else if(d=a.tag,d===13){if(i=ds(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Pc=i,null}function vg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GC()){case cf:return 1;case ig:return 4;case wc:case KC:return 16;case og:return 536870912;default:return 16}default:return 16}}var vs=null,gf=null,Ec=null;function gg(){if(Ec)return Ec;var i,a=gf,d=a.length,v,b="value"in vs?vs.value:vs.textContent,S=b.length;for(i=0;i<d&&a[i]===b[i];i++);var T=d-i;for(v=1;v<=T&&a[d-v]===b[S-v];v++);return Ec=b.slice(i,1<v?1-v:void 0)}function Tc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ac(){return!0}function xg(){return!1}function Sn(i){function a(d,v,b,S,T){this._reactName=d,this._targetInst=b,this.type=v,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(d=i[M],this[M]=d?d(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ac:xg,this.isPropagationStopped=xg,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),a}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=Sn(oo),La=Z({},oo,{view:0,detail:0}),l2=Sn(La),yf,wf,Fa,Dc=Z({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fa&&(Fa&&i.type==="mousemove"?(yf=i.screenX-Fa.screenX,wf=i.screenY-Fa.screenY):wf=yf=0,Fa=i),yf)},movementY:function(i){return"movementY"in i?i.movementY:wf}}),yg=Sn(Dc),c2=Z({},Dc,{dataTransfer:0}),u2=Sn(c2),d2=Z({},La,{relatedTarget:0}),bf=Sn(d2),f2=Z({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),h2=Sn(f2),m2=Z({},oo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),p2=Sn(m2),v2=Z({},oo,{data:0}),wg=Sn(v2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=y2[i])?!!a[i]:!1}function jf(){return w2}var b2=Z({},La,{key:function(i){if(i.key){var a=g2[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Tc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?x2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(i){return i.type==="keypress"?Tc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Tc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),j2=Sn(b2),_2=Z({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=Sn(_2),S2=Z({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),N2=Sn(S2),C2=Z({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),k2=Sn(C2),P2=Z({},Dc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),E2=Sn(P2),T2=[9,13,27,32],_f=u&&"CompositionEvent"in window,Ua=null;u&&"documentMode"in document&&(Ua=document.documentMode);var A2=u&&"TextEvent"in window&&!Ua,jg=u&&(!_f||Ua&&8<Ua&&11>=Ua),_g=" ",Sg=!1;function Ng(i,a){switch(i){case"keyup":return T2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ao=!1;function D2(i,a){switch(i){case"compositionend":return Cg(a);case"keypress":return a.which!==32?null:(Sg=!0,_g);case"textInput":return i=a.data,i===_g&&Sg?null:i;default:return null}}function O2(i,a){if(ao)return i==="compositionend"||!_f&&Ng(i,a)?(i=gg(),Ec=gf=vs=null,ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return jg&&a.locale!=="ko"?null:a.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!R2[i.type]:a==="textarea"}function Pg(i,a,d,v){cs(v),a=Ic(a,"onChange"),0<a.length&&(d=new xf("onChange","change",null,d,v),i.push({event:d,listeners:a}))}var Ba=null,Va=null;function $2(i){qg(i,0)}function Oc(i){var a=ho(i);if(Ce(a))return i}function M2(i,a){if(i==="change")return a}var Eg=!1;if(u){var Sf;if(u){var Nf="oninput"in document;if(!Nf){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Nf=typeof Tg.oninput=="function"}Sf=Nf}else Sf=!1;Eg=Sf&&(!document.documentMode||9<document.documentMode)}function Ag(){Ba&&(Ba.detachEvent("onpropertychange",Dg),Va=Ba=null)}function Dg(i){if(i.propertyName==="value"&&Oc(Va)){var a=[];Pg(a,Va,i,Pa(i)),of($2,a)}}function I2(i,a,d){i==="focusin"?(Ag(),Ba=a,Va=d,Ba.attachEvent("onpropertychange",Dg)):i==="focusout"&&Ag()}function L2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oc(Va)}function F2(i,a){if(i==="click")return Oc(a)}function U2(i,a){if(i==="input"||i==="change")return Oc(a)}function B2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Zn=typeof Object.is=="function"?Object.is:B2;function za(i,a){if(Zn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),v=Object.keys(a);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var b=d[v];if(!f.call(a,b)||!Zn(i[b],a[b]))return!1}return!0}function Og(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rg(i,a){var d=Og(i);i=0;for(var v;d;){if(d.nodeType===3){if(v=i+d.textContent.length,i<=a&&v>=a)return{node:d,offset:a-i};i=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Og(d)}}function $g(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?$g(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Mg(){for(var i=window,a=Ue();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=Ue(i.document)}return a}function Cf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function V2(i){var a=Mg(),d=i.focusedElem,v=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&$g(d.ownerDocument.documentElement,d)){if(v!==null&&Cf(d)){if(a=v.start,i=v.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var b=d.textContent.length,S=Math.min(v.start,b);v=v.end===void 0?S:Math.min(v.end,b),!i.extend&&S>v&&(b=v,v=S,S=b),b=Rg(d,S);var T=Rg(d,v);b&&T&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),i.removeAllRanges(),S>v?(i.addRange(a),i.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var z2=u&&"documentMode"in document&&11>=document.documentMode,lo=null,kf=null,Wa=null,Pf=!1;function Ig(i,a,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pf||lo==null||lo!==Ue(v)||(v=lo,"selectionStart"in v&&Cf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Wa&&za(Wa,v)||(Wa=v,v=Ic(kf,"onSelect"),0<v.length&&(a=new xf("onSelect","select",null,a,d),i.push({event:a,listeners:v}),a.target=lo)))}function Rc(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var co={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Ef={},Lg={};u&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function $c(i){if(Ef[i])return Ef[i];if(!co[i])return i;var a=co[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in Lg)return Ef[i]=a[d];return i}var Fg=$c("animationend"),Ug=$c("animationiteration"),Bg=$c("animationstart"),Vg=$c("transitionend"),zg=new Map,Wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(i,a){zg.set(i,a),l(a,[i])}for(var Tf=0;Tf<Wg.length;Tf++){var Af=Wg[Tf],W2=Af.toLowerCase(),H2=Af[0].toUpperCase()+Af.slice(1);gs(W2,"on"+H2)}gs(Fg,"onAnimationEnd"),gs(Ug,"onAnimationIteration"),gs(Bg,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(Vg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function Hg(i,a,d){var v=i.type||"unknown-event";i.currentTarget=d,_n(v,a,void 0,i),i.currentTarget=null}function qg(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var v=i[d],b=v.event;v=v.listeners;e:{var S=void 0;if(a)for(var T=v.length-1;0<=T;T--){var M=v[T],F=M.instance,X=M.currentTarget;if(M=M.listener,F!==S&&b.isPropagationStopped())break e;Hg(b,M,X),S=F}else for(T=0;T<v.length;T++){if(M=v[T],F=M.instance,X=M.currentTarget,M=M.listener,F!==S&&b.isPropagationStopped())break e;Hg(b,M,X),S=F}}}if(Ze)throw i=ft,Ze=!1,ft=null,i}function lt(i,a){var d=a[Ff];d===void 0&&(d=a[Ff]=new Set);var v=i+"__bubble";d.has(v)||(Yg(a,i,2,!1),d.add(v))}function Df(i,a,d){var v=0;a&&(v|=4),Yg(d,i,v,a)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function qa(i){if(!i[Mc]){i[Mc]=!0,r.forEach(function(d){d!=="selectionchange"&&(q2.has(d)||Df(d,!1,i),Df(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Mc]||(a[Mc]=!0,Df("selectionchange",!1,a))}}function Yg(i,a,d,v){switch(vg(a)){case 1:var b=o2;break;case 4:b=a2;break;default:b=pf}d=b.bind(null,a,d,i),b=void 0,!Ta||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),v?b!==void 0?i.addEventListener(a,d,{capture:!0,passive:b}):i.addEventListener(a,d,!0):b!==void 0?i.addEventListener(a,d,{passive:b}):i.addEventListener(a,d,!1)}function Of(i,a,d,v,b){var S=v;if((a&1)===0&&(a&2)===0&&v!==null)e:for(;;){if(v===null)return;var T=v.tag;if(T===3||T===4){var M=v.stateNode.containerInfo;if(M===b||M.nodeType===8&&M.parentNode===b)break;if(T===4)for(T=v.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===b||F.nodeType===8&&F.parentNode===b))return;T=T.return}for(;M!==null;){if(T=ci(M),T===null)return;if(F=T.tag,F===5||F===6){v=S=T;continue e}M=M.parentNode}}v=v.return}of(function(){var X=S,oe=Pa(d),ce=[];e:{var se=zg.get(i);if(se!==void 0){var xe=xf,_e=i;switch(i){case"keypress":if(Tc(d)===0)break e;case"keydown":case"keyup":xe=j2;break;case"focusin":_e="focus",xe=bf;break;case"focusout":_e="blur",xe=bf;break;case"beforeblur":case"afterblur":xe=bf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=u2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=N2;break;case Fg:case Ug:case Bg:xe=h2;break;case Vg:xe=k2;break;case"scroll":xe=l2;break;case"wheel":xe=E2;break;case"copy":case"cut":case"paste":xe=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=bg}var ke=(a&4)!==0,yt=!ke&&i==="scroll",H=ke?se!==null?se+"Capture":null:se;ke=[];for(var V=X,Y;V!==null;){Y=V;var he=Y.stateNode;if(Y.tag===5&&he!==null&&(Y=he,H!==null&&(he=xr(V,H),he!=null&&ke.push(Ya(V,he,Y)))),yt)break;V=V.return}0<ke.length&&(se=new xe(se,_e,null,d,oe),ce.push({event:se,listeners:ke}))}}if((a&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",se&&d!==ka&&(_e=d.relatedTarget||d.fromElement)&&(ci(_e)||_e[Lr]))break e;if((xe||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,xe?(_e=d.relatedTarget||d.toElement,xe=X,_e=_e?ci(_e):null,_e!==null&&(yt=Kt(_e),_e!==yt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(xe=null,_e=X),xe!==_e)){if(ke=yg,he="onMouseLeave",H="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(ke=bg,he="onPointerLeave",H="onPointerEnter",V="pointer"),yt=xe==null?se:ho(xe),Y=_e==null?se:ho(_e),se=new ke(he,V+"leave",xe,d,oe),se.target=yt,se.relatedTarget=Y,he=null,ci(oe)===X&&(ke=new ke(H,V+"enter",_e,d,oe),ke.target=Y,ke.relatedTarget=yt,he=ke),yt=he,xe&&_e)t:{for(ke=xe,H=_e,V=0,Y=ke;Y;Y=uo(Y))V++;for(Y=0,he=H;he;he=uo(he))Y++;for(;0<V-Y;)ke=uo(ke),V--;for(;0<Y-V;)H=uo(H),Y--;for(;V--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=uo(ke),H=uo(H)}ke=null}else ke=null;xe!==null&&Gg(ce,se,xe,ke,!1),_e!==null&&yt!==null&&Gg(ce,yt,_e,ke,!0)}}e:{if(se=X?ho(X):window,xe=se.nodeName&&se.nodeName.toLowerCase(),xe==="select"||xe==="input"&&se.type==="file")var Pe=M2;else if(kg(se))if(Eg)Pe=U2;else{Pe=L2;var Oe=I2}else(xe=se.nodeName)&&xe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Pe=F2);if(Pe&&(Pe=Pe(i,X))){Pg(ce,Pe,d,oe);break e}Oe&&Oe(i,se,X),i==="focusout"&&(Oe=se._wrapperState)&&Oe.controlled&&se.type==="number"&&jn(se,"number",se.value)}switch(Oe=X?ho(X):window,i){case"focusin":(kg(Oe)||Oe.contentEditable==="true")&&(lo=Oe,kf=X,Wa=null);break;case"focusout":Wa=kf=lo=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Ig(ce,d,oe);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":Ig(ce,d,oe)}var Re;if(_f)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ao?Ng(i,d)&&(Le="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(jg&&d.locale!=="ko"&&(ao||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ao&&(Re=gg()):(vs=oe,gf="value"in vs?vs.value:vs.textContent,ao=!0)),Oe=Ic(X,Le),0<Oe.length&&(Le=new wg(Le,i,null,d,oe),ce.push({event:Le,listeners:Oe}),Re?Le.data=Re:(Re=Cg(d),Re!==null&&(Le.data=Re)))),(Re=A2?D2(i,d):O2(i,d))&&(X=Ic(X,"onBeforeInput"),0<X.length&&(oe=new wg("onBeforeInput","beforeinput",null,d,oe),ce.push({event:oe,listeners:X}),oe.data=Re))}qg(ce,a)})}function Ya(i,a,d){return{instance:i,listener:a,currentTarget:d}}function Ic(i,a){for(var d=a+"Capture",v=[];i!==null;){var b=i,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=xr(i,d),S!=null&&v.unshift(Ya(i,S,b)),S=xr(i,a),S!=null&&v.push(Ya(i,S,b))),i=i.return}return v}function uo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Gg(i,a,d,v,b){for(var S=a._reactName,T=[];d!==null&&d!==v;){var M=d,F=M.alternate,X=M.stateNode;if(F!==null&&F===v)break;M.tag===5&&X!==null&&(M=X,b?(F=xr(d,S),F!=null&&T.unshift(Ya(d,F,M))):b||(F=xr(d,S),F!=null&&T.push(Ya(d,F,M)))),d=d.return}T.length!==0&&i.push({event:a,listeners:T})}var Y2=/\r\n?/g,G2=/\u0000|\uFFFD/g;function Kg(i){return(typeof i=="string"?i:""+i).replace(Y2,`
`).replace(G2,"")}function Lc(i,a,d){if(a=Kg(a),Kg(i)!==a&&d)throw Error(n(425))}function Fc(){}var Rf=null,$f=null;function Mf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,X2=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(i){return Xg.resolve(null).then(i).catch(J2)}:If;function J2(i){setTimeout(function(){throw i})}function Lf(i,a){var d=a,v=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(v===0){i.removeChild(b),Ia(a);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=b}while(d);Ia(a)}function xs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Jg(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var fo=Math.random().toString(36).slice(2),wr="__reactFiber$"+fo,Ga="__reactProps$"+fo,Lr="__reactContainer$"+fo,Ff="__reactEvents$"+fo,Q2="__reactListeners$"+fo,Z2="__reactHandles$"+fo;function ci(i){var a=i[wr];if(a)return a;for(var d=i.parentNode;d;){if(a=d[Lr]||d[wr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Jg(i);i!==null;){if(d=i[wr])return d;i=Jg(i)}return a}i=d,d=i.parentNode}return null}function Ka(i){return i=i[wr]||i[Lr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ho(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Uc(i){return i[Ga]||null}var Uf=[],mo=-1;function ys(i){return{current:i}}function ct(i){0>mo||(i.current=Uf[mo],Uf[mo]=null,mo--)}function rt(i,a){mo++,Uf[mo]=i.current,i.current=a}var ws={},Xt=ys(ws),fn=ys(!1),ui=ws;function po(i,a){var d=i.type.contextTypes;if(!d)return ws;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===a)return v.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in d)b[S]=a[S];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=b),b}function hn(i){return i=i.childContextTypes,i!=null}function Bc(){ct(fn),ct(Xt)}function Qg(i,a,d){if(Xt.current!==ws)throw Error(n(168));rt(Xt,a),rt(fn,d)}function Zg(i,a,d){var v=i.stateNode;if(a=a.childContextTypes,typeof v.getChildContext!="function")return d;v=v.getChildContext();for(var b in v)if(!(b in a))throw Error(n(108,ie(i)||"Unknown",b));return Z({},d,v)}function Vc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ws,ui=Xt.current,rt(Xt,i),rt(fn,fn.current),!0}function ex(i,a,d){var v=i.stateNode;if(!v)throw Error(n(169));d?(i=Zg(i,a,ui),v.__reactInternalMemoizedMergedChildContext=i,ct(fn),ct(Xt),rt(Xt,i)):ct(fn),rt(fn,d)}var Fr=null,zc=!1,Bf=!1;function tx(i){Fr===null?Fr=[i]:Fr.push(i)}function ek(i){zc=!0,tx(i)}function bs(){if(!Bf&&Fr!==null){Bf=!0;var i=0,a=tt;try{var d=Fr;for(tt=1;i<d.length;i++){var v=d[i];do v=v(!0);while(v!==null)}Fr=null,zc=!1}catch(b){throw Fr!==null&&(Fr=Fr.slice(i+1)),xc(cf,bs),b}finally{tt=a,Bf=!1}}return null}var vo=[],go=0,Wc=null,Hc=0,In=[],Ln=0,di=null,Ur=1,Br="";function fi(i,a){vo[go++]=Hc,vo[go++]=Wc,Wc=i,Hc=a}function nx(i,a,d){In[Ln++]=Ur,In[Ln++]=Br,In[Ln++]=di,di=i;var v=Ur;i=Br;var b=32-Qn(v)-1;v&=~(1<<b),d+=1;var S=32-Qn(a)+b;if(30<S){var T=b-b%5;S=(v&(1<<T)-1).toString(32),v>>=T,b-=T,Ur=1<<32-Qn(a)+b|d<<b|v,Br=S+i}else Ur=1<<S|d<<b|v,Br=i}function Vf(i){i.return!==null&&(fi(i,1),nx(i,1,0))}function zf(i){for(;i===Wc;)Wc=vo[--go],vo[go]=null,Hc=vo[--go],vo[go]=null;for(;i===di;)di=In[--Ln],In[Ln]=null,Br=In[--Ln],In[Ln]=null,Ur=In[--Ln],In[Ln]=null}var Nn=null,Cn=null,dt=!1,er=null;function rx(i,a){var d=Vn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function sx(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Nn=i,Cn=xs(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Nn=i,Cn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=di!==null?{id:Ur,overflow:Br}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Vn(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Nn=i,Cn=null,!0):!1;default:return!1}}function Wf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hf(i){if(dt){var a=Cn;if(a){var d=a;if(!sx(i,a)){if(Wf(i))throw Error(n(418));a=xs(d.nextSibling);var v=Nn;a&&sx(i,a)?rx(v,d):(i.flags=i.flags&-4097|2,dt=!1,Nn=i)}}else{if(Wf(i))throw Error(n(418));i.flags=i.flags&-4097|2,dt=!1,Nn=i}}}function ix(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Nn=i}function qc(i){if(i!==Nn)return!1;if(!dt)return ix(i),dt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Mf(i.type,i.memoizedProps)),a&&(a=Cn)){if(Wf(i))throw ox(),Error(n(418));for(;a;)rx(i,a),a=xs(a.nextSibling)}if(ix(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){Cn=xs(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}Cn=null}}else Cn=Nn?xs(i.stateNode.nextSibling):null;return!0}function ox(){for(var i=Cn;i;)i=xs(i.nextSibling)}function xo(){Cn=Nn=null,dt=!1}function qf(i){er===null?er=[i]:er.push(i)}var tk=P.ReactCurrentBatchConfig;function Xa(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var v=d.stateNode}if(!v)throw Error(n(147,i));var b=v,S=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(T){var M=b.refs;T===null?delete M[S]:M[S]=T},a._stringRef=S,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function Yc(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function ax(i){var a=i._init;return a(i._payload)}function lx(i){function a(H,V){if(i){var Y=H.deletions;Y===null?(H.deletions=[V],H.flags|=16):Y.push(V)}}function d(H,V){if(!i)return null;for(;V!==null;)a(H,V),V=V.sibling;return null}function v(H,V){for(H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function b(H,V){return H=Es(H,V),H.index=0,H.sibling=null,H}function S(H,V,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<V?(H.flags|=2,V):Y):(H.flags|=2,V)):(H.flags|=1048576,V)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function M(H,V,Y,he){return V===null||V.tag!==6?(V=Ih(Y,H.mode,he),V.return=H,V):(V=b(V,Y),V.return=H,V)}function F(H,V,Y,he){var Pe=Y.type;return Pe===O?oe(H,V,Y.props.children,he,Y.key):V!==null&&(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===K&&ax(Pe)===V.type)?(he=b(V,Y.props),he.ref=Xa(H,V,Y),he.return=H,he):(he=gu(Y.type,Y.key,Y.props,null,H.mode,he),he.ref=Xa(H,V,Y),he.return=H,he)}function X(H,V,Y,he){return V===null||V.tag!==4||V.stateNode.containerInfo!==Y.containerInfo||V.stateNode.implementation!==Y.implementation?(V=Lh(Y,H.mode,he),V.return=H,V):(V=b(V,Y.children||[]),V.return=H,V)}function oe(H,V,Y,he,Pe){return V===null||V.tag!==7?(V=wi(Y,H.mode,he,Pe),V.return=H,V):(V=b(V,Y),V.return=H,V)}function ce(H,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Ih(""+V,H.mode,Y),V.return=H,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return Y=gu(V.type,V.key,V.props,null,H.mode,Y),Y.ref=Xa(H,null,V),Y.return=H,Y;case D:return V=Lh(V,H.mode,Y),V.return=H,V;case K:var he=V._init;return ce(H,he(V._payload),Y)}if($n(V)||B(V))return V=wi(V,H.mode,Y,null),V.return=H,V;Yc(H,V)}return null}function se(H,V,Y,he){var Pe=V!==null?V.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Pe!==null?null:M(H,V,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===Pe?F(H,V,Y,he):null;case D:return Y.key===Pe?X(H,V,Y,he):null;case K:return Pe=Y._init,se(H,V,Pe(Y._payload),he)}if($n(Y)||B(Y))return Pe!==null?null:oe(H,V,Y,he,null);Yc(H,Y)}return null}function xe(H,V,Y,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number")return H=H.get(Y)||null,M(V,H,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return H=H.get(he.key===null?Y:he.key)||null,F(V,H,he,Pe);case D:return H=H.get(he.key===null?Y:he.key)||null,X(V,H,he,Pe);case K:var Oe=he._init;return xe(H,V,Y,Oe(he._payload),Pe)}if($n(he)||B(he))return H=H.get(Y)||null,oe(V,H,he,Pe,null);Yc(V,he)}return null}function _e(H,V,Y,he){for(var Pe=null,Oe=null,Re=V,Le=V=0,Mt=null;Re!==null&&Le<Y.length;Le++){Re.index>Le?(Mt=Re,Re=null):Mt=Re.sibling;var Je=se(H,Re,Y[Le],he);if(Je===null){Re===null&&(Re=Mt);break}i&&Re&&Je.alternate===null&&a(H,Re),V=S(Je,V,Le),Oe===null?Pe=Je:Oe.sibling=Je,Oe=Je,Re=Mt}if(Le===Y.length)return d(H,Re),dt&&fi(H,Le),Pe;if(Re===null){for(;Le<Y.length;Le++)Re=ce(H,Y[Le],he),Re!==null&&(V=S(Re,V,Le),Oe===null?Pe=Re:Oe.sibling=Re,Oe=Re);return dt&&fi(H,Le),Pe}for(Re=v(H,Re);Le<Y.length;Le++)Mt=xe(Re,H,Le,Y[Le],he),Mt!==null&&(i&&Mt.alternate!==null&&Re.delete(Mt.key===null?Le:Mt.key),V=S(Mt,V,Le),Oe===null?Pe=Mt:Oe.sibling=Mt,Oe=Mt);return i&&Re.forEach(function(Ts){return a(H,Ts)}),dt&&fi(H,Le),Pe}function ke(H,V,Y,he){var Pe=B(Y);if(typeof Pe!="function")throw Error(n(150));if(Y=Pe.call(Y),Y==null)throw Error(n(151));for(var Oe=Pe=null,Re=V,Le=V=0,Mt=null,Je=Y.next();Re!==null&&!Je.done;Le++,Je=Y.next()){Re.index>Le?(Mt=Re,Re=null):Mt=Re.sibling;var Ts=se(H,Re,Je.value,he);if(Ts===null){Re===null&&(Re=Mt);break}i&&Re&&Ts.alternate===null&&a(H,Re),V=S(Ts,V,Le),Oe===null?Pe=Ts:Oe.sibling=Ts,Oe=Ts,Re=Mt}if(Je.done)return d(H,Re),dt&&fi(H,Le),Pe;if(Re===null){for(;!Je.done;Le++,Je=Y.next())Je=ce(H,Je.value,he),Je!==null&&(V=S(Je,V,Le),Oe===null?Pe=Je:Oe.sibling=Je,Oe=Je);return dt&&fi(H,Le),Pe}for(Re=v(H,Re);!Je.done;Le++,Je=Y.next())Je=xe(Re,H,Le,Je.value,he),Je!==null&&(i&&Je.alternate!==null&&Re.delete(Je.key===null?Le:Je.key),V=S(Je,V,Le),Oe===null?Pe=Je:Oe.sibling=Je,Oe=Je);return i&&Re.forEach(function(Rk){return a(H,Rk)}),dt&&fi(H,Le),Pe}function yt(H,V,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var Pe=Y.key,Oe=V;Oe!==null;){if(Oe.key===Pe){if(Pe=Y.type,Pe===O){if(Oe.tag===7){d(H,Oe.sibling),V=b(Oe,Y.props.children),V.return=H,H=V;break e}}else if(Oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===K&&ax(Pe)===Oe.type){d(H,Oe.sibling),V=b(Oe,Y.props),V.ref=Xa(H,Oe,Y),V.return=H,H=V;break e}d(H,Oe);break}else a(H,Oe);Oe=Oe.sibling}Y.type===O?(V=wi(Y.props.children,H.mode,he,Y.key),V.return=H,H=V):(he=gu(Y.type,Y.key,Y.props,null,H.mode,he),he.ref=Xa(H,V,Y),he.return=H,H=he)}return T(H);case D:e:{for(Oe=Y.key;V!==null;){if(V.key===Oe)if(V.tag===4&&V.stateNode.containerInfo===Y.containerInfo&&V.stateNode.implementation===Y.implementation){d(H,V.sibling),V=b(V,Y.children||[]),V.return=H,H=V;break e}else{d(H,V);break}else a(H,V);V=V.sibling}V=Lh(Y,H.mode,he),V.return=H,H=V}return T(H);case K:return Oe=Y._init,yt(H,V,Oe(Y._payload),he)}if($n(Y))return _e(H,V,Y,he);if(B(Y))return ke(H,V,Y,he);Yc(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,V!==null&&V.tag===6?(d(H,V.sibling),V=b(V,Y),V.return=H,H=V):(d(H,V),V=Ih(Y,H.mode,he),V.return=H,H=V),T(H)):d(H,V)}return yt}var yo=lx(!0),cx=lx(!1),Gc=ys(null),Kc=null,wo=null,Yf=null;function Gf(){Yf=wo=Kc=null}function Kf(i){var a=Gc.current;ct(Gc),i._currentValue=a}function Xf(i,a,d){for(;i!==null;){var v=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,v!==null&&(v.childLanes|=a)):v!==null&&(v.childLanes&a)!==a&&(v.childLanes|=a),i===d)break;i=i.return}}function bo(i,a){Kc=i,Yf=wo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(mn=!0),i.firstContext=null)}function Fn(i){var a=i._currentValue;if(Yf!==i)if(i={context:i,memoizedValue:a,next:null},wo===null){if(Kc===null)throw Error(n(308));wo=i,Kc.dependencies={lanes:0,firstContext:i}}else wo=wo.next=i;return a}var hi=null;function Jf(i){hi===null?hi=[i]:hi.push(i)}function ux(i,a,d,v){var b=a.interleaved;return b===null?(d.next=d,Jf(a)):(d.next=b.next,b.next=d),a.interleaved=d,Vr(i,v)}function Vr(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var js=!1;function Qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zr(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function _s(i,a,d){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Xe&2)!==0){var b=v.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),v.pending=a,Vr(i,d)}return b=v.interleaved,b===null?(a.next=a,Jf(v)):(a.next=b.next,b.next=a),v.interleaved=a,Vr(i,d)}function Xc(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var v=a.lanes;v&=i.pendingLanes,d|=v,a.lanes=d,ff(i,d)}}function fx(i,a){var d=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?b=S=T:S=S.next=T,d=d.next}while(d!==null);S===null?b=S=a:S=S.next=a}else b=S=a;d={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:v.shared,effects:v.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function Jc(i,a,d,v){var b=i.updateQueue;js=!1;var S=b.firstBaseUpdate,T=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var F=M,X=F.next;F.next=null,T===null?S=X:T.next=X,T=F;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==T&&(M===null?oe.firstBaseUpdate=X:M.next=X,oe.lastBaseUpdate=F))}if(S!==null){var ce=b.baseState;T=0,oe=X=F=null,M=S;do{var se=M.lane,xe=M.eventTime;if((v&se)===se){oe!==null&&(oe=oe.next={eventTime:xe,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var _e=i,ke=M;switch(se=a,xe=d,ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){ce=_e.call(xe,ce,se);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,se=typeof _e=="function"?_e.call(xe,ce,se):_e,se==null)break e;ce=Z({},ce,se);break e;case 2:js=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,se=b.effects,se===null?b.effects=[M]:se.push(M))}else xe={eventTime:xe,lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(X=oe=xe,F=ce):oe=oe.next=xe,T|=se;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;se=M,M=se.next,se.next=null,b.lastBaseUpdate=se,b.shared.pending=null}}while(!0);if(oe===null&&(F=ce),b.baseState=F,b.firstBaseUpdate=X,b.lastBaseUpdate=oe,a=b.shared.interleaved,a!==null){b=a;do T|=b.lane,b=b.next;while(b!==a)}else S===null&&(b.shared.lanes=0);vi|=T,i.lanes=T,i.memoizedState=ce}}function hx(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var v=i[a],b=v.callback;if(b!==null){if(v.callback=null,v=d,typeof b!="function")throw Error(n(191,b));b.call(v)}}}var Ja={},br=ys(Ja),Qa=ys(Ja),Za=ys(Ja);function mi(i){if(i===Ja)throw Error(n(174));return i}function Zf(i,a){switch(rt(Za,a),rt(Qa,i),rt(br,Ja),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:_a(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=_a(a,i)}ct(br),rt(br,a)}function jo(){ct(br),ct(Qa),ct(Za)}function mx(i){mi(Za.current);var a=mi(br.current),d=_a(a,i.type);a!==d&&(rt(Qa,i),rt(br,d))}function eh(i){Qa.current===i&&(ct(br),ct(Qa))}var mt=ys(0);function Qc(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var th=[];function nh(){for(var i=0;i<th.length;i++)th[i]._workInProgressVersionPrimary=null;th.length=0}var Zc=P.ReactCurrentDispatcher,rh=P.ReactCurrentBatchConfig,pi=0,pt=null,Et=null,Rt=null,eu=!1,el=!1,tl=0,nk=0;function Jt(){throw Error(n(321))}function sh(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!Zn(i[d],a[d]))return!1;return!0}function ih(i,a,d,v,b,S){if(pi=S,pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Zc.current=i===null||i.memoizedState===null?ok:ak,i=d(v,b),el){S=0;do{if(el=!1,tl=0,25<=S)throw Error(n(301));S+=1,Rt=Et=null,a.updateQueue=null,Zc.current=lk,i=d(v,b)}while(el)}if(Zc.current=ru,a=Et!==null&&Et.next!==null,pi=0,Rt=Et=pt=null,eu=!1,a)throw Error(n(300));return i}function oh(){var i=tl!==0;return tl=0,i}function jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?pt.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Un(){if(Et===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var a=Rt===null?pt.memoizedState:Rt.next;if(a!==null)Rt=a,Et=i;else{if(i===null)throw Error(n(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Rt===null?pt.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function nl(i,a){return typeof a=="function"?a(i):a}function ah(i){var a=Un(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var v=Et,b=v.baseQueue,S=d.pending;if(S!==null){if(b!==null){var T=b.next;b.next=S.next,S.next=T}v.baseQueue=b=S,d.pending=null}if(b!==null){S=b.next,v=v.baseState;var M=T=null,F=null,X=S;do{var oe=X.lane;if((pi&oe)===oe)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),v=X.hasEagerState?X.eagerState:i(v,X.action);else{var ce={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(M=F=ce,T=v):F=F.next=ce,pt.lanes|=oe,vi|=oe}X=X.next}while(X!==null&&X!==S);F===null?T=v:F.next=M,Zn(v,a.memoizedState)||(mn=!0),a.memoizedState=v,a.baseState=T,a.baseQueue=F,d.lastRenderedState=v}if(i=d.interleaved,i!==null){b=i;do S=b.lane,pt.lanes|=S,vi|=S,b=b.next;while(b!==i)}else b===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function lh(i){var a=Un(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var v=d.dispatch,b=d.pending,S=a.memoizedState;if(b!==null){d.pending=null;var T=b=b.next;do S=i(S,T.action),T=T.next;while(T!==b);Zn(S,a.memoizedState)||(mn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),d.lastRenderedState=S}return[S,v]}function px(){}function vx(i,a){var d=pt,v=Un(),b=a(),S=!Zn(v.memoizedState,b);if(S&&(v.memoizedState=b,mn=!0),v=v.queue,ch(yx.bind(null,d,v,i),[i]),v.getSnapshot!==a||S||Rt!==null&&Rt.memoizedState.tag&1){if(d.flags|=2048,rl(9,xx.bind(null,d,v,b,a),void 0,null),$t===null)throw Error(n(349));(pi&30)!==0||gx(d,a,b)}return b}function gx(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=pt.updateQueue,a===null?(a={lastEffect:null,stores:null},pt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function xx(i,a,d,v){a.value=d,a.getSnapshot=v,wx(a)&&bx(i)}function yx(i,a,d){return d(function(){wx(a)&&bx(i)})}function wx(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!Zn(i,d)}catch{return!0}}function bx(i){var a=Vr(i,1);a!==null&&sr(a,i,1,-1)}function jx(i){var a=jr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:i},a.queue=i,i=i.dispatch=ik.bind(null,pt,i),[a.memoizedState,i]}function rl(i,a,d,v){return i={tag:i,create:a,destroy:d,deps:v,next:null},a=pt.updateQueue,a===null?(a={lastEffect:null,stores:null},pt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(v=d.next,d.next=i,i.next=v,a.lastEffect=i)),i}function _x(){return Un().memoizedState}function tu(i,a,d,v){var b=jr();pt.flags|=i,b.memoizedState=rl(1|a,d,void 0,v===void 0?null:v)}function nu(i,a,d,v){var b=Un();v=v===void 0?null:v;var S=void 0;if(Et!==null){var T=Et.memoizedState;if(S=T.destroy,v!==null&&sh(v,T.deps)){b.memoizedState=rl(a,d,S,v);return}}pt.flags|=i,b.memoizedState=rl(1|a,d,S,v)}function Sx(i,a){return tu(8390656,8,i,a)}function ch(i,a){return nu(2048,8,i,a)}function Nx(i,a){return nu(4,2,i,a)}function Cx(i,a){return nu(4,4,i,a)}function kx(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Px(i,a,d){return d=d!=null?d.concat([i]):null,nu(4,4,kx.bind(null,a,i),d)}function uh(){}function Ex(i,a){var d=Un();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&sh(a,v[1])?v[0]:(d.memoizedState=[i,a],i)}function Tx(i,a){var d=Un();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&sh(a,v[1])?v[0]:(i=i(),d.memoizedState=[i,a],i)}function Ax(i,a,d){return(pi&21)===0?(i.baseState&&(i.baseState=!1,mn=!0),i.memoizedState=d):(Zn(d,a)||(d=ag(),pt.lanes|=d,vi|=d,i.baseState=!0),a)}function rk(i,a){var d=tt;tt=d!==0&&4>d?d:4,i(!0);var v=rh.transition;rh.transition={};try{i(!1),a()}finally{tt=d,rh.transition=v}}function Dx(){return Un().memoizedState}function sk(i,a,d){var v=ks(i);if(d={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null},Ox(i))Rx(a,d);else if(d=ux(i,a,d,v),d!==null){var b=on();sr(d,i,v,b),$x(d,a,v)}}function ik(i,a,d){var v=ks(i),b={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ox(i))Rx(a,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var T=a.lastRenderedState,M=S(T,d);if(b.hasEagerState=!0,b.eagerState=M,Zn(M,T)){var F=a.interleaved;F===null?(b.next=b,Jf(a)):(b.next=F.next,F.next=b),a.interleaved=b;return}}catch{}finally{}d=ux(i,a,b,v),d!==null&&(b=on(),sr(d,i,v,b),$x(d,a,v))}}function Ox(i){var a=i.alternate;return i===pt||a!==null&&a===pt}function Rx(i,a){el=eu=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function $x(i,a,d){if((d&4194240)!==0){var v=a.lanes;v&=i.pendingLanes,d|=v,a.lanes=d,ff(i,d)}}var ru={readContext:Fn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},ok={readContext:Fn,useCallback:function(i,a){return jr().memoizedState=[i,a===void 0?null:a],i},useContext:Fn,useEffect:Sx,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,tu(4194308,4,kx.bind(null,a,i),d)},useLayoutEffect:function(i,a){return tu(4194308,4,i,a)},useInsertionEffect:function(i,a){return tu(4,2,i,a)},useMemo:function(i,a){var d=jr();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var v=jr();return a=d!==void 0?d(a):a,v.memoizedState=v.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},v.queue=i,i=i.dispatch=sk.bind(null,pt,i),[v.memoizedState,i]},useRef:function(i){var a=jr();return i={current:i},a.memoizedState=i},useState:jx,useDebugValue:uh,useDeferredValue:function(i){return jr().memoizedState=i},useTransition:function(){var i=jx(!1),a=i[0];return i=rk.bind(null,i[1]),jr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var v=pt,b=jr();if(dt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),$t===null)throw Error(n(349));(pi&30)!==0||gx(v,a,d)}b.memoizedState=d;var S={value:d,getSnapshot:a};return b.queue=S,Sx(yx.bind(null,v,S,i),[i]),v.flags|=2048,rl(9,xx.bind(null,v,S,d,a),void 0,null),d},useId:function(){var i=jr(),a=$t.identifierPrefix;if(dt){var d=Br,v=Ur;d=(v&~(1<<32-Qn(v)-1)).toString(32)+d,a=":"+a+"R"+d,d=tl++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=nk++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},ak={readContext:Fn,useCallback:Ex,useContext:Fn,useEffect:ch,useImperativeHandle:Px,useInsertionEffect:Nx,useLayoutEffect:Cx,useMemo:Tx,useReducer:ah,useRef:_x,useState:function(){return ah(nl)},useDebugValue:uh,useDeferredValue:function(i){var a=Un();return Ax(a,Et.memoizedState,i)},useTransition:function(){var i=ah(nl)[0],a=Un().memoizedState;return[i,a]},useMutableSource:px,useSyncExternalStore:vx,useId:Dx,unstable_isNewReconciler:!1},lk={readContext:Fn,useCallback:Ex,useContext:Fn,useEffect:ch,useImperativeHandle:Px,useInsertionEffect:Nx,useLayoutEffect:Cx,useMemo:Tx,useReducer:lh,useRef:_x,useState:function(){return lh(nl)},useDebugValue:uh,useDeferredValue:function(i){var a=Un();return Et===null?a.memoizedState=i:Ax(a,Et.memoizedState,i)},useTransition:function(){var i=lh(nl)[0],a=Un().memoizedState;return[i,a]},useMutableSource:px,useSyncExternalStore:vx,useId:Dx,unstable_isNewReconciler:!1};function tr(i,a){if(i&&i.defaultProps){a=Z({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function dh(i,a,d,v){a=i.memoizedState,d=d(v,a),d=d==null?a:Z({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var su={isMounted:function(i){return(i=i._reactInternals)?Kt(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var v=on(),b=ks(i),S=zr(v,b);S.payload=a,d!=null&&(S.callback=d),a=_s(i,S,b),a!==null&&(sr(a,i,b,v),Xc(a,i,b))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var v=on(),b=ks(i),S=zr(v,b);S.tag=1,S.payload=a,d!=null&&(S.callback=d),a=_s(i,S,b),a!==null&&(sr(a,i,b,v),Xc(a,i,b))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=on(),v=ks(i),b=zr(d,v);b.tag=2,a!=null&&(b.callback=a),a=_s(i,b,v),a!==null&&(sr(a,i,v,d),Xc(a,i,v))}};function Mx(i,a,d,v,b,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,S,T):a.prototype&&a.prototype.isPureReactComponent?!za(d,v)||!za(b,S):!0}function Ix(i,a,d){var v=!1,b=ws,S=a.contextType;return typeof S=="object"&&S!==null?S=Fn(S):(b=hn(a)?ui:Xt.current,v=a.contextTypes,S=(v=v!=null)?po(i,b):ws),a=new a(d,S),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=su,i.stateNode=a,a._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=S),a}function Lx(i,a,d,v){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,v),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,v),a.state!==i&&su.enqueueReplaceState(a,a.state,null)}function fh(i,a,d,v){var b=i.stateNode;b.props=d,b.state=i.memoizedState,b.refs={},Qf(i);var S=a.contextType;typeof S=="object"&&S!==null?b.context=Fn(S):(S=hn(a)?ui:Xt.current,b.context=po(i,S)),b.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(dh(i,a,S,d),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&su.enqueueReplaceState(b,b.state,null),Jc(i,d,b,v),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function _o(i,a){try{var d="",v=a;do d+=ye(v),v=v.return;while(v);var b=d}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:a,stack:b,digest:null}}function hh(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function mh(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function Fx(i,a,d){d=zr(-1,d),d.tag=3,d.payload={element:null};var v=a.value;return d.callback=function(){du||(du=!0,Eh=v),mh(i,a)},d}function Ux(i,a,d){d=zr(-1,d),d.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var b=a.value;d.payload=function(){return v(b)},d.callback=function(){mh(i,a)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){mh(i,a),typeof v!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function Bx(i,a,d){var v=i.pingCache;if(v===null){v=i.pingCache=new ck;var b=new Set;v.set(a,b)}else b=v.get(a),b===void 0&&(b=new Set,v.set(a,b));b.has(d)||(b.add(d),i=_k.bind(null,i,a,d),a.then(i,i))}function Vx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function zx(i,a,d,v,b){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=zr(-1,1),a.tag=2,_s(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var uk=P.ReactCurrentOwner,mn=!1;function sn(i,a,d,v){a.child=i===null?cx(a,null,d,v):yo(a,i.child,d,v)}function Wx(i,a,d,v,b){d=d.render;var S=a.ref;return bo(a,b),v=ih(i,a,d,v,S,b),d=oh(),i!==null&&!mn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,Wr(i,a,b)):(dt&&d&&Vf(a),a.flags|=1,sn(i,a,v,b),a.child)}function Hx(i,a,d,v,b){if(i===null){var S=d.type;return typeof S=="function"&&!Mh(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=S,qx(i,a,S,v,b)):(i=gu(d.type,null,v,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(S=i.child,(i.lanes&b)===0){var T=S.memoizedProps;if(d=d.compare,d=d!==null?d:za,d(T,v)&&i.ref===a.ref)return Wr(i,a,b)}return a.flags|=1,i=Es(S,v),i.ref=a.ref,i.return=a,a.child=i}function qx(i,a,d,v,b){if(i!==null){var S=i.memoizedProps;if(za(S,v)&&i.ref===a.ref)if(mn=!1,a.pendingProps=v=S,(i.lanes&b)!==0)(i.flags&131072)!==0&&(mn=!0);else return a.lanes=i.lanes,Wr(i,a,b)}return ph(i,a,d,v,b)}function Yx(i,a,d){var v=a.pendingProps,b=v.children,S=i!==null?i.memoizedState:null;if(v.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(No,kn),kn|=d;else{if((d&1073741824)===0)return i=S!==null?S.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,rt(No,kn),kn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=S!==null?S.baseLanes:d,rt(No,kn),kn|=v}else S!==null?(v=S.baseLanes|d,a.memoizedState=null):v=d,rt(No,kn),kn|=v;return sn(i,a,b,d),a.child}function Gx(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function ph(i,a,d,v,b){var S=hn(d)?ui:Xt.current;return S=po(a,S),bo(a,b),d=ih(i,a,d,v,S,b),v=oh(),i!==null&&!mn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,Wr(i,a,b)):(dt&&v&&Vf(a),a.flags|=1,sn(i,a,d,b),a.child)}function Kx(i,a,d,v,b){if(hn(d)){var S=!0;Vc(a)}else S=!1;if(bo(a,b),a.stateNode===null)ou(i,a),Ix(a,d,v),fh(a,d,v,b),v=!0;else if(i===null){var T=a.stateNode,M=a.memoizedProps;T.props=M;var F=T.context,X=d.contextType;typeof X=="object"&&X!==null?X=Fn(X):(X=hn(d)?ui:Xt.current,X=po(a,X));var oe=d.getDerivedStateFromProps,ce=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==v||F!==X)&&Lx(a,T,v,X),js=!1;var se=a.memoizedState;T.state=se,Jc(a,v,T,b),F=a.memoizedState,M!==v||se!==F||fn.current||js?(typeof oe=="function"&&(dh(a,d,oe,v),F=a.memoizedState),(M=js||Mx(a,d,M,v,se,F,X))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=v,a.memoizedState=F),T.props=v,T.state=F,T.context=X,v=M):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),v=!1)}else{T=a.stateNode,dx(i,a),M=a.memoizedProps,X=a.type===a.elementType?M:tr(a.type,M),T.props=X,ce=a.pendingProps,se=T.context,F=d.contextType,typeof F=="object"&&F!==null?F=Fn(F):(F=hn(d)?ui:Xt.current,F=po(a,F));var xe=d.getDerivedStateFromProps;(oe=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==ce||se!==F)&&Lx(a,T,v,F),js=!1,se=a.memoizedState,T.state=se,Jc(a,v,T,b);var _e=a.memoizedState;M!==ce||se!==_e||fn.current||js?(typeof xe=="function"&&(dh(a,d,xe,v),_e=a.memoizedState),(X=js||Mx(a,d,X,v,se,_e,F)||!1)?(oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,_e,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,_e,F)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(a.flags|=1024),a.memoizedProps=v,a.memoizedState=_e),T.props=v,T.state=_e,T.context=F,v=X):(typeof T.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(a.flags|=1024),v=!1)}return vh(i,a,d,v,S,b)}function vh(i,a,d,v,b,S){Gx(i,a);var T=(a.flags&128)!==0;if(!v&&!T)return b&&ex(a,d,!1),Wr(i,a,S);v=a.stateNode,uk.current=a;var M=T&&typeof d.getDerivedStateFromError!="function"?null:v.render();return a.flags|=1,i!==null&&T?(a.child=yo(a,i.child,null,S),a.child=yo(a,null,M,S)):sn(i,a,M,S),a.memoizedState=v.state,b&&ex(a,d,!0),a.child}function Xx(i){var a=i.stateNode;a.pendingContext?Qg(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Qg(i,a.context,!1),Zf(i,a.containerInfo)}function Jx(i,a,d,v,b){return xo(),qf(b),a.flags|=256,sn(i,a,d,v),a.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function xh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qx(i,a,d){var v=a.pendingProps,b=mt.current,S=!1,T=(a.flags&128)!==0,M;if((M=T)||(M=i!==null&&i.memoizedState===null?!1:(b&2)!==0),M?(S=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),rt(mt,b&1),i===null)return Hf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=v.children,i=v.fallback,S?(v=a.mode,S=a.child,T={mode:"hidden",children:T},(v&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=xu(T,v,0,null),i=wi(i,v,d,null),S.return=a,i.return=a,S.sibling=i,a.child=S,a.child.memoizedState=xh(d),a.memoizedState=gh,i):yh(a,T));if(b=i.memoizedState,b!==null&&(M=b.dehydrated,M!==null))return dk(i,a,T,v,M,b,d);if(S){S=v.fallback,T=a.mode,b=i.child,M=b.sibling;var F={mode:"hidden",children:v.children};return(T&1)===0&&a.child!==b?(v=a.child,v.childLanes=0,v.pendingProps=F,a.deletions=null):(v=Es(b,F),v.subtreeFlags=b.subtreeFlags&14680064),M!==null?S=Es(M,S):(S=wi(S,T,d,null),S.flags|=2),S.return=a,v.return=a,v.sibling=S,a.child=v,v=S,S=a.child,T=i.child.memoizedState,T=T===null?xh(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=i.childLanes&~d,a.memoizedState=gh,v}return S=i.child,i=S.sibling,v=Es(S,{mode:"visible",children:v.children}),(a.mode&1)===0&&(v.lanes=d),v.return=a,v.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=v,a.memoizedState=null,v}function yh(i,a){return a=xu({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function iu(i,a,d,v){return v!==null&&qf(v),yo(a,i.child,null,d),i=yh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function dk(i,a,d,v,b,S,T){if(d)return a.flags&256?(a.flags&=-257,v=hh(Error(n(422))),iu(i,a,T,v)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(S=v.fallback,b=a.mode,v=xu({mode:"visible",children:v.children},b,0,null),S=wi(S,b,T,null),S.flags|=2,v.return=a,S.return=a,v.sibling=S,a.child=v,(a.mode&1)!==0&&yo(a,i.child,null,T),a.child.memoizedState=xh(T),a.memoizedState=gh,S);if((a.mode&1)===0)return iu(i,a,T,null);if(b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var M=v.dgst;return v=M,S=Error(n(419)),v=hh(S,v,void 0),iu(i,a,T,v)}if(M=(T&i.childLanes)!==0,mn||M){if(v=$t,v!==null){switch(T&-T){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(v.suspendedLanes|T))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Vr(i,b),sr(v,i,b,-1))}return $h(),v=hh(Error(n(421))),iu(i,a,T,v)}return b.data==="$?"?(a.flags|=128,a.child=i.child,a=Sk.bind(null,i),b._reactRetry=a,null):(i=S.treeContext,Cn=xs(b.nextSibling),Nn=a,dt=!0,er=null,i!==null&&(In[Ln++]=Ur,In[Ln++]=Br,In[Ln++]=di,Ur=i.id,Br=i.overflow,di=a),a=yh(a,v.children),a.flags|=4096,a)}function Zx(i,a,d){i.lanes|=a;var v=i.alternate;v!==null&&(v.lanes|=a),Xf(i.return,a,d)}function wh(i,a,d,v,b){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:b}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=v,S.tail=d,S.tailMode=b)}function ey(i,a,d){var v=a.pendingProps,b=v.revealOrder,S=v.tail;if(sn(i,a,v.children,d),v=mt.current,(v&2)!==0)v=v&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zx(i,d,a);else if(i.tag===19)Zx(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(rt(mt,v),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(d=a.child,b=null;d!==null;)i=d.alternate,i!==null&&Qc(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=a.child,a.child=null):(b=d.sibling,d.sibling=null),wh(a,!1,b,d,S);break;case"backwards":for(d=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&Qc(i)===null){a.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}wh(a,!0,d,null,S);break;case"together":wh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ou(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Wr(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),vi|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=Es(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=Es(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function fk(i,a,d){switch(a.tag){case 3:Xx(a),xo();break;case 5:mx(a);break;case 1:hn(a.type)&&Vc(a);break;case 4:Zf(a,a.stateNode.containerInfo);break;case 10:var v=a.type._context,b=a.memoizedProps.value;rt(Gc,v._currentValue),v._currentValue=b;break;case 13:if(v=a.memoizedState,v!==null)return v.dehydrated!==null?(rt(mt,mt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?Qx(i,a,d):(rt(mt,mt.current&1),i=Wr(i,a,d),i!==null?i.sibling:null);rt(mt,mt.current&1);break;case 19:if(v=(d&a.childLanes)!==0,(i.flags&128)!==0){if(v)return ey(i,a,d);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),rt(mt,mt.current),v)break;return null;case 22:case 23:return a.lanes=0,Yx(i,a,d)}return Wr(i,a,d)}var ty,bh,ny,ry;ty=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},bh=function(){},ny=function(i,a,d,v){var b=i.memoizedProps;if(b!==v){i=a.stateNode,mi(br.current);var S=null;switch(d){case"input":b=Be(i,b),v=Be(i,v),S=[];break;case"select":b=Z({},b,{value:void 0}),v=Z({},v,{value:void 0}),S=[];break;case"textarea":b=ba(i,b),v=ba(i,v),S=[];break;default:typeof b.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=Fc)}Na(d,v);var T;d=null;for(X in b)if(!v.hasOwnProperty(X)&&b.hasOwnProperty(X)&&b[X]!=null)if(X==="style"){var M=b[X];for(T in M)M.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?S||(S=[]):(S=S||[]).push(X,null));for(X in v){var F=v[X];if(M=b!=null?b[X]:void 0,v.hasOwnProperty(X)&&F!==M&&(F!=null||M!=null))if(X==="style")if(M){for(T in M)!M.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in F)F.hasOwnProperty(T)&&M[T]!==F[T]&&(d||(d={}),d[T]=F[T])}else d||(S||(S=[]),S.push(X,d)),d=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(S=S||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(S=S||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&lt("scroll",i),S||M===F||(S=[])):(S=S||[]).push(X,F))}d&&(S=S||[]).push("style",d);var X=S;(a.updateQueue=X)&&(a.flags|=4)}},ry=function(i,a,d,v){d!==v&&(a.flags|=4)};function sl(i,a){if(!dt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function Qt(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,v=0;if(a)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags&14680064,v|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=v,i.childLanes=d,a}function hk(i,a,d){var v=a.pendingProps;switch(zf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(a),null;case 1:return hn(a.type)&&Bc(),Qt(a),null;case 3:return v=a.stateNode,jo(),ct(fn),ct(Xt),nh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(qc(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,er!==null&&(Dh(er),er=null))),bh(i,a),Qt(a),null;case 5:eh(a);var b=mi(Za.current);if(d=a.type,i!==null&&a.stateNode!=null)ny(i,a,d,v,b),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!v){if(a.stateNode===null)throw Error(n(166));return Qt(a),null}if(i=mi(br.current),qc(a)){v=a.stateNode,d=a.type;var S=a.memoizedProps;switch(v[wr]=a,v[Ga]=S,i=(a.mode&1)!==0,d){case"dialog":lt("cancel",v),lt("close",v);break;case"iframe":case"object":case"embed":lt("load",v);break;case"video":case"audio":for(b=0;b<Ha.length;b++)lt(Ha[b],v);break;case"source":lt("error",v);break;case"img":case"image":case"link":lt("error",v),lt("load",v);break;case"details":lt("toggle",v);break;case"input":Qe(v,S),lt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!S.multiple},lt("invalid",v);break;case"textarea":hc(v,S),lt("invalid",v)}Na(d,S),b=null;for(var T in S)if(S.hasOwnProperty(T)){var M=S[T];T==="children"?typeof M=="string"?v.textContent!==M&&(S.suppressHydrationWarning!==!0&&Lc(v.textContent,M,i),b=["children",M]):typeof M=="number"&&v.textContent!==""+M&&(S.suppressHydrationWarning!==!0&&Lc(v.textContent,M,i),b=["children",""+M]):o.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&lt("scroll",v)}switch(d){case"input":de(v),os(v,S,!0);break;case"textarea":de(v),eo(v);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(v.onclick=Fc)}v=b,a.updateQueue=v,v!==null&&(a.flags|=4)}else{T=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ja(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=T.createElement(d,{is:v.is}):(i=T.createElement(d),d==="select"&&(T=i,v.multiple?T.multiple=!0:v.size&&(T.size=v.size))):i=T.createElementNS(i,d),i[wr]=a,i[Ga]=v,ty(i,a,!1,!1),a.stateNode=i;e:{switch(T=Ca(d,v),d){case"dialog":lt("cancel",i),lt("close",i),b=v;break;case"iframe":case"object":case"embed":lt("load",i),b=v;break;case"video":case"audio":for(b=0;b<Ha.length;b++)lt(Ha[b],i);b=v;break;case"source":lt("error",i),b=v;break;case"img":case"image":case"link":lt("error",i),lt("load",i),b=v;break;case"details":lt("toggle",i),b=v;break;case"input":Qe(i,v),b=Be(i,v),lt("invalid",i);break;case"option":b=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},b=Z({},v,{value:void 0}),lt("invalid",i);break;case"textarea":hc(i,v),b=ba(i,v),lt("invalid",i);break;default:b=v}Na(d,b),M=b;for(S in M)if(M.hasOwnProperty(S)){var F=M[S];S==="style"?pc(i,F):S==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&mc(i,F)):S==="children"?typeof F=="string"?(d!=="textarea"||F!=="")&&si(i,F):typeof F=="number"&&si(i,""+F):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?F!=null&&S==="onScroll"&&lt("scroll",i):F!=null&&k(i,S,F,T))}switch(d){case"input":de(i),os(i,v,!1);break;case"textarea":de(i),eo(i);break;case"option":v.value!=null&&i.setAttribute("value",""+pe(v.value));break;case"select":i.multiple=!!v.multiple,S=v.value,S!=null?rn(i,!!v.multiple,S,!1):v.defaultValue!=null&&rn(i,!!v.multiple,v.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Fc)}switch(d){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Qt(a),null;case 6:if(i&&a.stateNode!=null)ry(i,a,i.memoizedProps,v);else{if(typeof v!="string"&&a.stateNode===null)throw Error(n(166));if(d=mi(Za.current),mi(br.current),qc(a)){if(v=a.stateNode,d=a.memoizedProps,v[wr]=a,(S=v.nodeValue!==d)&&(i=Nn,i!==null))switch(i.tag){case 3:Lc(v.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lc(v.nodeValue,d,(i.mode&1)!==0)}S&&(a.flags|=4)}else v=(d.nodeType===9?d:d.ownerDocument).createTextNode(v),v[wr]=a,a.stateNode=v}return Qt(a),null;case 13:if(ct(mt),v=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&Cn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ox(),xo(),a.flags|=98560,S=!1;else if(S=qc(a),v!==null&&v.dehydrated!==null){if(i===null){if(!S)throw Error(n(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[wr]=a}else xo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),S=!1}else er!==null&&(Dh(er),er=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(mt.current&1)!==0?Tt===0&&(Tt=3):$h())),a.updateQueue!==null&&(a.flags|=4),Qt(a),null);case 4:return jo(),bh(i,a),i===null&&qa(a.stateNode.containerInfo),Qt(a),null;case 10:return Kf(a.type._context),Qt(a),null;case 17:return hn(a.type)&&Bc(),Qt(a),null;case 19:if(ct(mt),S=a.memoizedState,S===null)return Qt(a),null;if(v=(a.flags&128)!==0,T=S.rendering,T===null)if(v)sl(S,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(T=Qc(i),T!==null){for(a.flags|=128,sl(S,!1),v=T.updateQueue,v!==null&&(a.updateQueue=v,a.flags|=4),a.subtreeFlags=0,v=d,d=a.child;d!==null;)S=d,i=v,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,i=T.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return rt(mt,mt.current&1|2),a.child}i=i.sibling}S.tail!==null&&ht()>Co&&(a.flags|=128,v=!0,sl(S,!1),a.lanes=4194304)}else{if(!v)if(i=Qc(T),i!==null){if(a.flags|=128,v=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),sl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!dt)return Qt(a),null}else 2*ht()-S.renderingStartTime>Co&&d!==1073741824&&(a.flags|=128,v=!0,sl(S,!1),a.lanes=4194304);S.isBackwards?(T.sibling=a.child,a.child=T):(d=S.last,d!==null?d.sibling=T:a.child=T,S.last=T)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=ht(),a.sibling=null,d=mt.current,rt(mt,v?d&1|2:d&1),a):(Qt(a),null);case 22:case 23:return Rh(),v=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(a.flags|=8192),v&&(a.mode&1)!==0?(kn&1073741824)!==0&&(Qt(a),a.subtreeFlags&6&&(a.flags|=8192)):Qt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function mk(i,a){switch(zf(a),a.tag){case 1:return hn(a.type)&&Bc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return jo(),ct(fn),ct(Xt),nh(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return eh(a),null;case 13:if(ct(mt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));xo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ct(mt),null;case 4:return jo(),null;case 10:return Kf(a.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var au=!1,Zt=!1,pk=typeof WeakSet=="function"?WeakSet:Set,we=null;function So(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(v){xt(i,a,v)}else d.current=null}function jh(i,a,d){try{d()}catch(v){xt(i,a,v)}}var sy=!1;function vk(i,a){if(Rf=kc,i=Mg(),Cf(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var b=v.anchorOffset,S=v.focusNode;v=v.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var T=0,M=-1,F=-1,X=0,oe=0,ce=i,se=null;t:for(;;){for(var xe;ce!==d||b!==0&&ce.nodeType!==3||(M=T+b),ce!==S||v!==0&&ce.nodeType!==3||(F=T+v),ce.nodeType===3&&(T+=ce.nodeValue.length),(xe=ce.firstChild)!==null;)se=ce,ce=xe;for(;;){if(ce===i)break t;if(se===d&&++X===b&&(M=T),se===S&&++oe===v&&(F=T),(xe=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=xe}d=M===-1||F===-1?null:{start:M,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for($f={focusedElem:i,selectionRange:d},kc=!1,we=a;we!==null;)if(a=we,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,we=i;else for(;we!==null;){a=we;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ke=_e.memoizedProps,yt=_e.memoizedState,H=a.stateNode,V=H.getSnapshotBeforeUpdate(a.elementType===a.type?ke:tr(a.type,ke),yt);H.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){xt(a,a.return,he)}if(i=a.sibling,i!==null){i.return=a.return,we=i;break}we=a.return}return _e=sy,sy=!1,_e}function il(i,a,d){var v=a.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&i)===i){var S=b.destroy;b.destroy=void 0,S!==void 0&&jh(a,d,S)}b=b.next}while(b!==v)}}function lu(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var v=d.create;d.destroy=v()}d=d.next}while(d!==a)}}function _h(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function iy(i){var a=i.alternate;a!==null&&(i.alternate=null,iy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[wr],delete a[Ga],delete a[Ff],delete a[Q2],delete a[Z2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function oy(i){return i.tag===5||i.tag===3||i.tag===4}function ay(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||oy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sh(i,a,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Fc));else if(v!==4&&(i=i.child,i!==null))for(Sh(i,a,d),i=i.sibling;i!==null;)Sh(i,a,d),i=i.sibling}function Nh(i,a,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(Nh(i,a,d),i=i.sibling;i!==null;)Nh(i,a,d),i=i.sibling}var Wt=null,nr=!1;function Ss(i,a,d){for(d=d.child;d!==null;)ly(i,a,d),d=d.sibling}function ly(i,a,d){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(bc,d)}catch{}switch(d.tag){case 5:Zt||So(d,a);case 6:var v=Wt,b=nr;Wt=null,Ss(i,a,d),Wt=v,nr=b,Wt!==null&&(nr?(i=Wt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Wt.removeChild(d.stateNode));break;case 18:Wt!==null&&(nr?(i=Wt,d=d.stateNode,i.nodeType===8?Lf(i.parentNode,d):i.nodeType===1&&Lf(i,d),Ia(i)):Lf(Wt,d.stateNode));break;case 4:v=Wt,b=nr,Wt=d.stateNode.containerInfo,nr=!0,Ss(i,a,d),Wt=v,nr=b;break;case 0:case 11:case 14:case 15:if(!Zt&&(v=d.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){b=v=v.next;do{var S=b,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&jh(d,a,T),b=b.next}while(b!==v)}Ss(i,a,d);break;case 1:if(!Zt&&(So(d,a),v=d.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=d.memoizedProps,v.state=d.memoizedState,v.componentWillUnmount()}catch(M){xt(d,a,M)}Ss(i,a,d);break;case 21:Ss(i,a,d);break;case 22:d.mode&1?(Zt=(v=Zt)||d.memoizedState!==null,Ss(i,a,d),Zt=v):Ss(i,a,d);break;default:Ss(i,a,d)}}function cy(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new pk),a.forEach(function(v){var b=Nk.bind(null,i,v);d.has(v)||(d.add(v),v.then(b,b))})}}function rr(i,a){var d=a.deletions;if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];try{var S=i,T=a,M=T;e:for(;M!==null;){switch(M.tag){case 5:Wt=M.stateNode,nr=!1;break e;case 3:Wt=M.stateNode.containerInfo,nr=!0;break e;case 4:Wt=M.stateNode.containerInfo,nr=!0;break e}M=M.return}if(Wt===null)throw Error(n(160));ly(S,T,b),Wt=null,nr=!1;var F=b.alternate;F!==null&&(F.return=null),b.return=null}catch(X){xt(b,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)uy(a,i),a=a.sibling}function uy(i,a){var d=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rr(a,i),_r(i),v&4){try{il(3,i,i.return),lu(3,i)}catch(ke){xt(i,i.return,ke)}try{il(5,i,i.return)}catch(ke){xt(i,i.return,ke)}}break;case 1:rr(a,i),_r(i),v&512&&d!==null&&So(d,d.return);break;case 5:if(rr(a,i),_r(i),v&512&&d!==null&&So(d,d.return),i.flags&32){var b=i.stateNode;try{si(b,"")}catch(ke){xt(i,i.return,ke)}}if(v&4&&(b=i.stateNode,b!=null)){var S=i.memoizedProps,T=d!==null?d.memoizedProps:S,M=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{M==="input"&&S.type==="radio"&&S.name!=null&&dn(b,S),Ca(M,T);var X=Ca(M,S);for(T=0;T<F.length;T+=2){var oe=F[T],ce=F[T+1];oe==="style"?pc(b,ce):oe==="dangerouslySetInnerHTML"?mc(b,ce):oe==="children"?si(b,ce):k(b,oe,ce,X)}switch(M){case"input":Rn(b,S);break;case"textarea":nf(b,S);break;case"select":var se=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var xe=S.value;xe!=null?rn(b,!!S.multiple,xe,!1):se!==!!S.multiple&&(S.defaultValue!=null?rn(b,!!S.multiple,S.defaultValue,!0):rn(b,!!S.multiple,S.multiple?[]:"",!1))}b[Ga]=S}catch(ke){xt(i,i.return,ke)}}break;case 6:if(rr(a,i),_r(i),v&4){if(i.stateNode===null)throw Error(n(162));b=i.stateNode,S=i.memoizedProps;try{b.nodeValue=S}catch(ke){xt(i,i.return,ke)}}break;case 3:if(rr(a,i),_r(i),v&4&&d!==null&&d.memoizedState.isDehydrated)try{Ia(a.containerInfo)}catch(ke){xt(i,i.return,ke)}break;case 4:rr(a,i),_r(i);break;case 13:rr(a,i),_r(i),b=i.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(Ph=ht())),v&4&&cy(i);break;case 22:if(oe=d!==null&&d.memoizedState!==null,i.mode&1?(Zt=(X=Zt)||oe,rr(a,i),Zt=X):rr(a,i),_r(i),v&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!oe&&(i.mode&1)!==0)for(we=i,oe=i.child;oe!==null;){for(ce=we=oe;we!==null;){switch(se=we,xe=se.child,se.tag){case 0:case 11:case 14:case 15:il(4,se,se.return);break;case 1:So(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){v=se,d=se.return;try{a=v,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(ke){xt(v,d,ke)}}break;case 5:So(se,se.return);break;case 22:if(se.memoizedState!==null){hy(ce);continue}}xe!==null?(xe.return=se,we=xe):hy(ce)}oe=oe.sibling}e:for(oe=null,ce=i;;){if(ce.tag===5){if(oe===null){oe=ce;try{b=ce.stateNode,X?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(M=ce.stateNode,F=ce.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=Sa("display",T))}catch(ke){xt(i,i.return,ke)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(ke){xt(i,i.return,ke)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:rr(a,i),_r(i),v&4&&cy(i);break;case 21:break;default:rr(a,i),_r(i)}}function _r(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(oy(d)){var v=d;break e}d=d.return}throw Error(n(160))}switch(v.tag){case 5:var b=v.stateNode;v.flags&32&&(si(b,""),v.flags&=-33);var S=ay(i);Nh(i,S,b);break;case 3:case 4:var T=v.stateNode.containerInfo,M=ay(i);Sh(i,M,T);break;default:throw Error(n(161))}}catch(F){xt(i,i.return,F)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function gk(i,a,d){we=i,dy(i)}function dy(i,a,d){for(var v=(i.mode&1)!==0;we!==null;){var b=we,S=b.child;if(b.tag===22&&v){var T=b.memoizedState!==null||au;if(!T){var M=b.alternate,F=M!==null&&M.memoizedState!==null||Zt;M=au;var X=Zt;if(au=T,(Zt=F)&&!X)for(we=b;we!==null;)T=we,F=T.child,T.tag===22&&T.memoizedState!==null?my(b):F!==null?(F.return=T,we=F):my(b);for(;S!==null;)we=S,dy(S),S=S.sibling;we=b,au=M,Zt=X}fy(i)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,we=S):fy(i)}}function fy(i){for(;we!==null;){var a=we;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Zt||lu(5,a);break;case 1:var v=a.stateNode;if(a.flags&4&&!Zt)if(d===null)v.componentDidMount();else{var b=a.elementType===a.type?d.memoizedProps:tr(a.type,d.memoizedProps);v.componentDidUpdate(b,d.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&hx(a,S,v);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}hx(a,T,d)}break;case 5:var M=a.stateNode;if(d===null&&a.flags&4){d=M;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&d.focus();break;case"img":F.src&&(d.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var oe=X.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&Ia(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||a.flags&512&&_h(a)}catch(se){xt(a,a.return,se)}}if(a===i){we=null;break}if(d=a.sibling,d!==null){d.return=a.return,we=d;break}we=a.return}}function hy(i){for(;we!==null;){var a=we;if(a===i){we=null;break}var d=a.sibling;if(d!==null){d.return=a.return,we=d;break}we=a.return}}function my(i){for(;we!==null;){var a=we;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{lu(4,a)}catch(F){xt(a,d,F)}break;case 1:var v=a.stateNode;if(typeof v.componentDidMount=="function"){var b=a.return;try{v.componentDidMount()}catch(F){xt(a,b,F)}}var S=a.return;try{_h(a)}catch(F){xt(a,S,F)}break;case 5:var T=a.return;try{_h(a)}catch(F){xt(a,T,F)}}}catch(F){xt(a,a.return,F)}if(a===i){we=null;break}var M=a.sibling;if(M!==null){M.return=a.return,we=M;break}we=a.return}}var xk=Math.ceil,cu=P.ReactCurrentDispatcher,Ch=P.ReactCurrentOwner,Bn=P.ReactCurrentBatchConfig,Xe=0,$t=null,_t=null,Ht=0,kn=0,No=ys(0),Tt=0,ol=null,vi=0,uu=0,kh=0,al=null,pn=null,Ph=0,Co=1/0,Hr=null,du=!1,Eh=null,Ns=null,fu=!1,Cs=null,hu=0,ll=0,Th=null,mu=-1,pu=0;function on(){return(Xe&6)!==0?ht():mu!==-1?mu:mu=ht()}function ks(i){return(i.mode&1)===0?1:(Xe&2)!==0&&Ht!==0?Ht&-Ht:tk.transition!==null?(pu===0&&(pu=ag()),pu):(i=tt,i!==0||(i=window.event,i=i===void 0?16:vg(i.type)),i)}function sr(i,a,d,v){if(50<ll)throw ll=0,Th=null,Error(n(185));Da(i,d,v),((Xe&2)===0||i!==$t)&&(i===$t&&((Xe&2)===0&&(uu|=d),Tt===4&&Ps(i,Ht)),vn(i,v),d===1&&Xe===0&&(a.mode&1)===0&&(Co=ht()+500,zc&&bs()))}function vn(i,a){var d=i.callbackNode;t2(i,a);var v=Sc(i,i===$t?Ht:0);if(v===0)d!==null&&yc(d),i.callbackNode=null,i.callbackPriority=0;else if(a=v&-v,i.callbackPriority!==a){if(d!=null&&yc(d),a===1)i.tag===0?ek(vy.bind(null,i)):tx(vy.bind(null,i)),X2(function(){(Xe&6)===0&&bs()}),d=null;else{switch(lg(v)){case 1:d=cf;break;case 4:d=ig;break;case 16:d=wc;break;case 536870912:d=og;break;default:d=wc}d=Sy(d,py.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function py(i,a){if(mu=-1,pu=0,(Xe&6)!==0)throw Error(n(327));var d=i.callbackNode;if(ko()&&i.callbackNode!==d)return null;var v=Sc(i,i===$t?Ht:0);if(v===0)return null;if((v&30)!==0||(v&i.expiredLanes)!==0||a)a=vu(i,v);else{a=v;var b=Xe;Xe|=2;var S=xy();($t!==i||Ht!==a)&&(Hr=null,Co=ht()+500,xi(i,a));do try{bk();break}catch(M){gy(i,M)}while(!0);Gf(),cu.current=S,Xe=b,_t!==null?a=0:($t=null,Ht=0,a=Tt)}if(a!==0){if(a===2&&(b=uf(i),b!==0&&(v=b,a=Ah(i,b))),a===1)throw d=ol,xi(i,0),Ps(i,v),vn(i,ht()),d;if(a===6)Ps(i,v);else{if(b=i.current.alternate,(v&30)===0&&!yk(b)&&(a=vu(i,v),a===2&&(S=uf(i),S!==0&&(v=S,a=Ah(i,S))),a===1))throw d=ol,xi(i,0),Ps(i,v),vn(i,ht()),d;switch(i.finishedWork=b,i.finishedLanes=v,a){case 0:case 1:throw Error(n(345));case 2:yi(i,pn,Hr);break;case 3:if(Ps(i,v),(v&130023424)===v&&(a=Ph+500-ht(),10<a)){if(Sc(i,0)!==0)break;if(b=i.suspendedLanes,(b&v)!==v){on(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=If(yi.bind(null,i,pn,Hr),a);break}yi(i,pn,Hr);break;case 4:if(Ps(i,v),(v&4194240)===v)break;for(a=i.eventTimes,b=-1;0<v;){var T=31-Qn(v);S=1<<T,T=a[T],T>b&&(b=T),v&=~S}if(v=b,v=ht()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*xk(v/1960))-v,10<v){i.timeoutHandle=If(yi.bind(null,i,pn,Hr),v);break}yi(i,pn,Hr);break;case 5:yi(i,pn,Hr);break;default:throw Error(n(329))}}}return vn(i,ht()),i.callbackNode===d?py.bind(null,i):null}function Ah(i,a){var d=al;return i.current.memoizedState.isDehydrated&&(xi(i,a).flags|=256),i=vu(i,a),i!==2&&(a=pn,pn=d,a!==null&&Dh(a)),i}function Dh(i){pn===null?pn=i:pn.push.apply(pn,i)}function yk(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var v=0;v<d.length;v++){var b=d[v],S=b.getSnapshot;b=b.value;try{if(!Zn(S(),b))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(i,a){for(a&=~kh,a&=~uu,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Qn(a),v=1<<d;i[d]=-1,a&=~v}}function vy(i){if((Xe&6)!==0)throw Error(n(327));ko();var a=Sc(i,0);if((a&1)===0)return vn(i,ht()),null;var d=vu(i,a);if(i.tag!==0&&d===2){var v=uf(i);v!==0&&(a=v,d=Ah(i,v))}if(d===1)throw d=ol,xi(i,0),Ps(i,a),vn(i,ht()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,yi(i,pn,Hr),vn(i,ht()),null}function Oh(i,a){var d=Xe;Xe|=1;try{return i(a)}finally{Xe=d,Xe===0&&(Co=ht()+500,zc&&bs())}}function gi(i){Cs!==null&&Cs.tag===0&&(Xe&6)===0&&ko();var a=Xe;Xe|=1;var d=Bn.transition,v=tt;try{if(Bn.transition=null,tt=1,i)return i()}finally{tt=v,Bn.transition=d,Xe=a,(Xe&6)===0&&bs()}}function Rh(){kn=No.current,ct(No)}function xi(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,K2(d)),_t!==null)for(d=_t.return;d!==null;){var v=d;switch(zf(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Bc();break;case 3:jo(),ct(fn),ct(Xt),nh();break;case 5:eh(v);break;case 4:jo();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Kf(v.type._context);break;case 22:case 23:Rh()}d=d.return}if($t=i,_t=i=Es(i.current,null),Ht=kn=a,Tt=0,ol=null,kh=uu=vi=0,pn=al=null,hi!==null){for(a=0;a<hi.length;a++)if(d=hi[a],v=d.interleaved,v!==null){d.interleaved=null;var b=v.next,S=d.pending;if(S!==null){var T=S.next;S.next=b,v.next=T}d.pending=v}hi=null}return i}function gy(i,a){do{var d=_t;try{if(Gf(),Zc.current=ru,eu){for(var v=pt.memoizedState;v!==null;){var b=v.queue;b!==null&&(b.pending=null),v=v.next}eu=!1}if(pi=0,Rt=Et=pt=null,el=!1,tl=0,Ch.current=null,d===null||d.return===null){Tt=1,ol=a,_t=null;break}e:{var S=i,T=d.return,M=d,F=a;if(a=Ht,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,oe=M,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var xe=Vx(T);if(xe!==null){xe.flags&=-257,zx(xe,T,M,S,a),xe.mode&1&&Bx(S,X,a),a=xe,F=X;var _e=a.updateQueue;if(_e===null){var ke=new Set;ke.add(F),a.updateQueue=ke}else _e.add(F);break e}else{if((a&1)===0){Bx(S,X,a),$h();break e}F=Error(n(426))}}else if(dt&&M.mode&1){var yt=Vx(T);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),zx(yt,T,M,S,a),qf(_o(F,M));break e}}S=F=_o(F,M),Tt!==4&&(Tt=2),al===null?al=[S]:al.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var H=Fx(S,F,a);fx(S,H);break e;case 1:M=F;var V=S.type,Y=S.stateNode;if((S.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ns===null||!Ns.has(Y)))){S.flags|=65536,a&=-a,S.lanes|=a;var he=Ux(S,M,a);fx(S,he);break e}}S=S.return}while(S!==null)}wy(d)}catch(Pe){a=Pe,_t===d&&d!==null&&(_t=d=d.return);continue}break}while(!0)}function xy(){var i=cu.current;return cu.current=ru,i===null?ru:i}function $h(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||(vi&268435455)===0&&(uu&268435455)===0||Ps($t,Ht)}function vu(i,a){var d=Xe;Xe|=2;var v=xy();($t!==i||Ht!==a)&&(Hr=null,xi(i,a));do try{wk();break}catch(b){gy(i,b)}while(!0);if(Gf(),Xe=d,cu.current=v,_t!==null)throw Error(n(261));return $t=null,Ht=0,Tt}function wk(){for(;_t!==null;)yy(_t)}function bk(){for(;_t!==null&&!af();)yy(_t)}function yy(i){var a=_y(i.alternate,i,kn);i.memoizedProps=i.pendingProps,a===null?wy(i):_t=a,Ch.current=null}function wy(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=hk(d,a,kn),d!==null){_t=d;return}}else{if(d=mk(d,a),d!==null){d.flags&=32767,_t=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,_t=null;return}}if(a=a.sibling,a!==null){_t=a;return}_t=a=i}while(a!==null);Tt===0&&(Tt=5)}function yi(i,a,d){var v=tt,b=Bn.transition;try{Bn.transition=null,tt=1,jk(i,a,d,v)}finally{Bn.transition=b,tt=v}return null}function jk(i,a,d,v){do ko();while(Cs!==null);if((Xe&6)!==0)throw Error(n(327));d=i.finishedWork;var b=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var S=d.lanes|d.childLanes;if(n2(i,S),i===$t&&(_t=$t=null,Ht=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||fu||(fu=!0,Sy(wc,function(){return ko(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Bn.transition,Bn.transition=null;var T=tt;tt=1;var M=Xe;Xe|=4,Ch.current=null,vk(i,d),uy(d,i),V2($f),kc=!!Rf,$f=Rf=null,i.current=d,gk(d),lf(),Xe=M,tt=T,Bn.transition=S}else i.current=d;if(fu&&(fu=!1,Cs=i,hu=b),S=i.pendingLanes,S===0&&(Ns=null),XC(d.stateNode),vn(i,ht()),a!==null)for(v=i.onRecoverableError,d=0;d<a.length;d++)b=a[d],v(b.value,{componentStack:b.stack,digest:b.digest});if(du)throw du=!1,i=Eh,Eh=null,i;return(hu&1)!==0&&i.tag!==0&&ko(),S=i.pendingLanes,(S&1)!==0?i===Th?ll++:(ll=0,Th=i):ll=0,bs(),null}function ko(){if(Cs!==null){var i=lg(hu),a=Bn.transition,d=tt;try{if(Bn.transition=null,tt=16>i?16:i,Cs===null)var v=!1;else{if(i=Cs,Cs=null,hu=0,(Xe&6)!==0)throw Error(n(331));var b=Xe;for(Xe|=4,we=i.current;we!==null;){var S=we,T=S.child;if((we.flags&16)!==0){var M=S.deletions;if(M!==null){for(var F=0;F<M.length;F++){var X=M[F];for(we=X;we!==null;){var oe=we;switch(oe.tag){case 0:case 11:case 15:il(8,oe,S)}var ce=oe.child;if(ce!==null)ce.return=oe,we=ce;else for(;we!==null;){oe=we;var se=oe.sibling,xe=oe.return;if(iy(oe),oe===X){we=null;break}if(se!==null){se.return=xe,we=se;break}we=xe}}}var _e=S.alternate;if(_e!==null){var ke=_e.child;if(ke!==null){_e.child=null;do{var yt=ke.sibling;ke.sibling=null,ke=yt}while(ke!==null)}}we=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,we=T;else e:for(;we!==null;){if(S=we,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:il(9,S,S.return)}var H=S.sibling;if(H!==null){H.return=S.return,we=H;break e}we=S.return}}var V=i.current;for(we=V;we!==null;){T=we;var Y=T.child;if((T.subtreeFlags&2064)!==0&&Y!==null)Y.return=T,we=Y;else e:for(T=V;we!==null;){if(M=we,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:lu(9,M)}}catch(Pe){xt(M,M.return,Pe)}if(M===T){we=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,we=he;break e}we=M.return}}if(Xe=b,bs(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(bc,i)}catch{}v=!0}return v}finally{tt=d,Bn.transition=a}}return!1}function by(i,a,d){a=_o(d,a),a=Fx(i,a,1),i=_s(i,a,1),a=on(),i!==null&&(Da(i,1,a),vn(i,a))}function xt(i,a,d){if(i.tag===3)by(i,i,d);else for(;a!==null;){if(a.tag===3){by(a,i,d);break}else if(a.tag===1){var v=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ns===null||!Ns.has(v))){i=_o(d,i),i=Ux(a,i,1),a=_s(a,i,1),i=on(),a!==null&&(Da(a,1,i),vn(a,i));break}}a=a.return}}function _k(i,a,d){var v=i.pingCache;v!==null&&v.delete(a),a=on(),i.pingedLanes|=i.suspendedLanes&d,$t===i&&(Ht&d)===d&&(Tt===4||Tt===3&&(Ht&130023424)===Ht&&500>ht()-Ph?xi(i,0):kh|=d),vn(i,a)}function jy(i,a){a===0&&((i.mode&1)===0?a=1:(a=_c,_c<<=1,(_c&130023424)===0&&(_c=4194304)));var d=on();i=Vr(i,a),i!==null&&(Da(i,a,d),vn(i,d))}function Sk(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),jy(i,d)}function Nk(i,a){var d=0;switch(i.tag){case 13:var v=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(a),jy(i,d)}var _y;_y=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||fn.current)mn=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return mn=!1,fk(i,a,d);mn=(i.flags&131072)!==0}else mn=!1,dt&&(a.flags&1048576)!==0&&nx(a,Hc,a.index);switch(a.lanes=0,a.tag){case 2:var v=a.type;ou(i,a),i=a.pendingProps;var b=po(a,Xt.current);bo(a,d),b=ih(null,a,v,i,b,d);var S=oh();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,hn(v)?(S=!0,Vc(a)):S=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Qf(a),b.updater=su,a.stateNode=b,b._reactInternals=a,fh(a,v,i,d),a=vh(null,a,v,!0,S,d)):(a.tag=0,dt&&S&&Vf(a),sn(null,a,b,d),a=a.child),a;case 16:v=a.elementType;e:{switch(ou(i,a),i=a.pendingProps,b=v._init,v=b(v._payload),a.type=v,b=a.tag=kk(v),i=tr(v,i),b){case 0:a=ph(null,a,v,i,d);break e;case 1:a=Kx(null,a,v,i,d);break e;case 11:a=Wx(null,a,v,i,d);break e;case 14:a=Hx(null,a,v,tr(v.type,i),d);break e}throw Error(n(306,v,""))}return a;case 0:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:tr(v,b),ph(i,a,v,b,d);case 1:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:tr(v,b),Kx(i,a,v,b,d);case 3:e:{if(Xx(a),i===null)throw Error(n(387));v=a.pendingProps,S=a.memoizedState,b=S.element,dx(i,a),Jc(a,v,null,d);var T=a.memoizedState;if(v=T.element,S.isDehydrated)if(S={element:v,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){b=_o(Error(n(423)),a),a=Jx(i,a,v,d,b);break e}else if(v!==b){b=_o(Error(n(424)),a),a=Jx(i,a,v,d,b);break e}else for(Cn=xs(a.stateNode.containerInfo.firstChild),Nn=a,dt=!0,er=null,d=cx(a,null,v,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(xo(),v===b){a=Wr(i,a,d);break e}sn(i,a,v,d)}a=a.child}return a;case 5:return mx(a),i===null&&Hf(a),v=a.type,b=a.pendingProps,S=i!==null?i.memoizedProps:null,T=b.children,Mf(v,b)?T=null:S!==null&&Mf(v,S)&&(a.flags|=32),Gx(i,a),sn(i,a,T,d),a.child;case 6:return i===null&&Hf(a),null;case 13:return Qx(i,a,d);case 4:return Zf(a,a.stateNode.containerInfo),v=a.pendingProps,i===null?a.child=yo(a,null,v,d):sn(i,a,v,d),a.child;case 11:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:tr(v,b),Wx(i,a,v,b,d);case 7:return sn(i,a,a.pendingProps,d),a.child;case 8:return sn(i,a,a.pendingProps.children,d),a.child;case 12:return sn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(v=a.type._context,b=a.pendingProps,S=a.memoizedProps,T=b.value,rt(Gc,v._currentValue),v._currentValue=T,S!==null)if(Zn(S.value,T)){if(S.children===b.children&&!fn.current){a=Wr(i,a,d);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var M=S.dependencies;if(M!==null){T=S.child;for(var F=M.firstContext;F!==null;){if(F.context===v){if(S.tag===1){F=zr(-1,d&-d),F.tag=2;var X=S.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),X.pending=F}}S.lanes|=d,F=S.alternate,F!==null&&(F.lanes|=d),Xf(S.return,d,a),M.lanes|=d;break}F=F.next}}else if(S.tag===10)T=S.type===a.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(n(341));T.lanes|=d,M=T.alternate,M!==null&&(M.lanes|=d),Xf(T,d,a),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===a){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}sn(i,a,b.children,d),a=a.child}return a;case 9:return b=a.type,v=a.pendingProps.children,bo(a,d),b=Fn(b),v=v(b),a.flags|=1,sn(i,a,v,d),a.child;case 14:return v=a.type,b=tr(v,a.pendingProps),b=tr(v.type,b),Hx(i,a,v,b,d);case 15:return qx(i,a,a.type,a.pendingProps,d);case 17:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:tr(v,b),ou(i,a),a.tag=1,hn(v)?(i=!0,Vc(a)):i=!1,bo(a,d),Ix(a,v,b),fh(a,v,b,d),vh(null,a,v,!0,i,d);case 19:return ey(i,a,d);case 22:return Yx(i,a,d)}throw Error(n(156,a.tag))};function Sy(i,a){return xc(i,a)}function Ck(i,a,d,v){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,a,d,v){return new Ck(i,a,d,v)}function Mh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function kk(i){if(typeof i=="function")return Mh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===G)return 11;if(i===q)return 14}return 2}function Es(i,a){var d=i.alternate;return d===null?(d=Vn(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function gu(i,a,d,v,b,S){var T=2;if(v=i,typeof i=="function")Mh(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case O:return wi(d.children,b,S,a);case A:T=8,b|=8;break;case R:return i=Vn(12,d,a,b|2),i.elementType=R,i.lanes=S,i;case W:return i=Vn(13,d,a,b),i.elementType=W,i.lanes=S,i;case U:return i=Vn(19,d,a,b),i.elementType=U,i.lanes=S,i;case I:return xu(d,b,S,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:T=10;break e;case Q:T=9;break e;case G:T=11;break e;case q:T=14;break e;case K:T=16,v=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Vn(T,d,a,b),a.elementType=i,a.type=v,a.lanes=S,a}function wi(i,a,d,v){return i=Vn(7,i,v,a),i.lanes=d,i}function xu(i,a,d,v){return i=Vn(22,i,v,a),i.elementType=I,i.lanes=d,i.stateNode={isHidden:!1},i}function Ih(i,a,d){return i=Vn(6,i,null,a),i.lanes=d,i}function Lh(i,a,d){return a=Vn(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Pk(i,a,d,v,b){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=v,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Fh(i,a,d,v,b,S,T,M,F){return i=new Pk(i,a,d,M,F),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Vn(3,null,null,a),i.current=S,S.stateNode=i,S.memoizedState={element:v,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(S),i}function Ek(i,a,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:v==null?null:""+v,children:i,containerInfo:a,implementation:d}}function Ny(i){if(!i)return ws;i=i._reactInternals;e:{if(Kt(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(hn(d))return Zg(i,d,a)}return a}function Cy(i,a,d,v,b,S,T,M,F){return i=Fh(d,v,!0,i,b,S,T,M,F),i.context=Ny(null),d=i.current,v=on(),b=ks(d),S=zr(v,b),S.callback=a??null,_s(d,S,b),i.current.lanes=b,Da(i,b,v),vn(i,v),i}function yu(i,a,d,v){var b=a.current,S=on(),T=ks(b);return d=Ny(d),a.context===null?a.context=d:a.pendingContext=d,a=zr(S,T),a.payload={element:i},v=v===void 0?null:v,v!==null&&(a.callback=v),i=_s(b,a,T),i!==null&&(sr(i,b,T,S),Xc(i,b,T)),T}function wu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ky(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Uh(i,a){ky(i,a),(i=i.alternate)&&ky(i,a)}function Tk(){return null}var Py=typeof reportError=="function"?reportError:function(i){console.error(i)};function Bh(i){this._internalRoot=i}bu.prototype.render=Bh.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));yu(i,a,null,null)},bu.prototype.unmount=Bh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;gi(function(){yu(null,i,null,null)}),a[Lr]=null}};function bu(i){this._internalRoot=i}bu.prototype.unstable_scheduleHydration=function(i){if(i){var a=dg();i={blockedOn:null,target:i,priority:a};for(var d=0;d<ps.length&&a!==0&&a<ps[d].priority;d++);ps.splice(d,0,i),d===0&&mg(i)}};function Vh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ju(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function Ak(i,a,d,v,b){if(b){if(typeof v=="function"){var S=v;v=function(){var X=wu(T);S.call(X)}}var T=Cy(a,v,i,0,null,!1,!1,"",Ey);return i._reactRootContainer=T,i[Lr]=T.current,qa(i.nodeType===8?i.parentNode:i),gi(),T}for(;b=i.lastChild;)i.removeChild(b);if(typeof v=="function"){var M=v;v=function(){var X=wu(F);M.call(X)}}var F=Fh(i,0,!1,null,null,!1,!1,"",Ey);return i._reactRootContainer=F,i[Lr]=F.current,qa(i.nodeType===8?i.parentNode:i),gi(function(){yu(a,F,d,v)}),F}function _u(i,a,d,v,b){var S=d._reactRootContainer;if(S){var T=S;if(typeof b=="function"){var M=b;b=function(){var F=wu(T);M.call(F)}}yu(a,T,i,b)}else T=Ak(d,a,i,b,v);return wu(T)}cg=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=Aa(a.pendingLanes);d!==0&&(ff(a,d|1),vn(a,ht()),(Xe&6)===0&&(Co=ht()+500,bs()))}break;case 13:gi(function(){var v=Vr(i,1);if(v!==null){var b=on();sr(v,i,1,b)}}),Uh(i,1)}},hf=function(i){if(i.tag===13){var a=Vr(i,134217728);if(a!==null){var d=on();sr(a,i,134217728,d)}Uh(i,134217728)}},ug=function(i){if(i.tag===13){var a=ks(i),d=Vr(i,a);if(d!==null){var v=on();sr(d,i,a,v)}Uh(i,a)}},dg=function(){return tt},fg=function(i,a){var d=tt;try{return tt=i,a()}finally{tt=d}},Ea=function(i,a,d){switch(a){case"input":if(Rn(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var v=d[a];if(v!==i&&v.form===i.form){var b=Uc(v);if(!b)throw Error(n(90));Ce(v),Rn(v,b)}}}break;case"textarea":nf(i,d);break;case"select":a=d.value,a!=null&&rn(i,!!d.multiple,a,!1)}},us=Oh,ai=gi;var Dk={usingClientEntryPoint:!1,Events:[Ka,ho,Uc,cs,no,Oh]},cl={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ok={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=so(i),i===null?null:i.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{bc=Su.inject(Ok),yr=Su}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dk,gn.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(a))throw Error(n(200));return Ek(i,a,null,d)},gn.createRoot=function(i,a){if(!Vh(i))throw Error(n(299));var d=!1,v="",b=Py;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Fh(i,1,!1,null,null,d,!1,v,b),i[Lr]=a.current,qa(i.nodeType===8?i.parentNode:i),new Bh(a)},gn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=so(a),i=i===null?null:i.stateNode,i},gn.flushSync=function(i){return gi(i)},gn.hydrate=function(i,a,d){if(!ju(a))throw Error(n(200));return _u(null,i,a,!0,d)},gn.hydrateRoot=function(i,a,d){if(!Vh(i))throw Error(n(405));var v=d!=null&&d.hydratedSources||null,b=!1,S="",T=Py;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=Cy(a,null,i,1,d??null,b,!1,S,T),i[Lr]=a.current,qa(i),v)for(i=0;i<v.length;i++)d=v[i],b=d._getVersion,b=b(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,b]:a.mutableSourceEagerHydrationData.push(d,b);return new bu(a)},gn.render=function(i,a,d){if(!ju(a))throw Error(n(200));return _u(null,i,a,!1,d)},gn.unmountComponentAtNode=function(i){if(!ju(i))throw Error(n(40));return i._reactRootContainer?(gi(function(){_u(null,null,i,!1,function(){i._reactRootContainer=null,i[Lr]=null})}),!0):!1},gn.unstable_batchedUpdates=Oh,gn.unstable_renderSubtreeIntoContainer=function(i,a,d,v){if(!ju(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return _u(i,a,d,!1,v)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Iy;function Ab(){if(Iy)return Hh.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hh.exports=Vk(),Hh.exports}var Ly;function zk(){if(Ly)return Nu;Ly=1;var e=Ab();return Nu.createRoot=e.createRoot,Nu.hydrateRoot=e.hydrateRoot,Nu}var Wk=zk();const Hk=Kl(Wk);var Li=Ab();const Db=Kl(Li);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const Fy="popstate";function qk(e){e===void 0&&(e={});function t(r,o){let{pathname:l,search:c,hash:u}=r.location;return Vm("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Zu(o)}return Gk(t,n,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ob(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yk(){return Math.random().toString(36).substr(2,8)}function Uy(e,t){return{usr:e.state,key:e.key,idx:t}}function Vm(e,t,n,r){return n===void 0&&(n=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fa(t):t,{state:n,key:t&&t.key||r||Yk()})}function Zu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Gk(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,u=Bs.Pop,f=null,h=m();h==null&&(h=0,c.replaceState(Dl({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function p(){u=Bs.Pop;let _=m(),N=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:N})}function x(_,N){u=Bs.Push;let C=Vm(w.location,_,N);h=m()+1;let k=Uy(C,h),P=w.createHref(C);try{c.pushState(k,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(P)}l&&f&&f({action:u,location:w.location,delta:1})}function y(_,N){u=Bs.Replace;let C=Vm(w.location,_,N);h=m();let k=Uy(C,h),P=w.createHref(C);c.replaceState(k,"",P),l&&f&&f({action:u,location:w.location,delta:0})}function j(_){let N=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof _=="string"?_:Zu(_);return C=C.replace(/ $/,"%20"),Nt(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let w={get action(){return u},get location(){return e(o,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Fy,p),f=_,()=>{o.removeEventListener(Fy,p),f=null}},createHref(_){return t(o,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:y,go(_){return c.go(_)}};return w}var By;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(By||(By={}));function Kk(e,t,n){return n===void 0&&(n="/"),Xk(e,t,n)}function Xk(e,t,n,r){let o=typeof t=="string"?fa(t):t,l=$p(o.pathname||"/",n);if(l==null)return null;let c=Rb(e);Jk(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=cP(l);u=oP(c[f],h)}return u}function Rb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Vs([r,f.relativePath]),m=n.concat(f);l.children&&l.children.length>0&&(Nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Rb(l.children,t,m,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:sP(h,l.index),routesMeta:m})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let f of $b(l.path))o(l,c,f)}),t}function $b(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=$b(r.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function Jk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:iP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qk=/^:[\w-]+$/,Zk=3,eP=2,tP=1,nP=10,rP=-2,Vy=e=>e==="*";function sP(e,t){let n=e.split("/"),r=n.length;return n.some(Vy)&&(r+=rP),t&&(r+=eP),n.filter(o=>!Vy(o)).reduce((o,l)=>o+(Qk.test(l)?Zk:l===""?tP:nP),r)}function iP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function oP(e,t,n){let{routesMeta:r}=e,o={},l="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=aP({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:Vs([l,p.pathname]),pathnameBase:hP(Vs([l,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(l=Vs([l,p.pathnameBase]))}return c}function aP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((h,m,p)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let w=u[p]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[p];return y&&!j?h[x]=void 0:h[x]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function lP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ob(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function cP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ob(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $p(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?fa(e):e;return{pathname:n?n.startsWith("/")?n:dP(n,t):t,search:mP(r),hash:pP(o)}}function dP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mb(e,t){let n=fP(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ib(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=fa(e):(o=Dl({},e),Nt(!o.pathname||!o.pathname.includes("?"),Gh("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Gh("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Gh("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=n;else{let p=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),p-=1;o.pathname=x.join("/")}u=p>=0?t[p]:"/"}let f=uP(o,u),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const Vs=e=>e.join("/").replace(/\/\/+/g,"/"),hP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lb=["post","put","patch","delete"];new Set(Lb);const gP=["get",...Lb];new Set(gP);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}const Mp=g.createContext(null),xP=g.createContext(null),Fi=g.createContext(null),yd=g.createContext(null),Xs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Fb=g.createContext(null);function yP(e,t){let{relative:n}=t===void 0?{}:t;Xl()||Nt(!1);let{basename:r,navigator:o}=g.useContext(Fi),{hash:l,pathname:c,search:u}=Bb(e,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Vs([r,c])),o.createHref({pathname:f,search:u,hash:l})}function Xl(){return g.useContext(yd)!=null}function Js(){return Xl()||Nt(!1),g.useContext(yd).location}function Ub(e){g.useContext(Fi).static||g.useLayoutEffect(e)}function On(){let{isDataRoute:e}=g.useContext(Xs);return e?DP():wP()}function wP(){Xl()||Nt(!1);let e=g.useContext(Mp),{basename:t,future:n,navigator:r}=g.useContext(Fi),{matches:o}=g.useContext(Xs),{pathname:l}=Js(),c=JSON.stringify(Mb(o,n.v7_relativeSplatPath)),u=g.useRef(!1);return Ub(()=>{u.current=!0}),g.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let p=Ib(h,JSON.parse(c),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Vs([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,c,l,e])}function wd(){let{matches:e}=g.useContext(Xs),t=e[e.length-1];return t?t.params:{}}function Bb(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(Fi),{matches:o}=g.useContext(Xs),{pathname:l}=Js(),c=JSON.stringify(Mb(o,r.v7_relativeSplatPath));return g.useMemo(()=>Ib(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function bP(e,t){return jP(e,t)}function jP(e,t,n,r){Xl()||Nt(!1);let{navigator:o,static:l}=g.useContext(Fi),{matches:c}=g.useContext(Xs),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=Js(),p;if(t){var x;let N=typeof t=="string"?fa(t):t;h==="/"||(x=N.pathname)!=null&&x.startsWith(h)||Nt(!1),p=N}else p=m;let y=p.pathname||"/",j=y;if(h!=="/"){let N=h.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=Kk(e,{pathname:j}),_=kP(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Vs([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Vs([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,n,r);return t&&_?g.createElement(yd.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Bs.Pop}},_):_}function _P(){let e=AP(),t=vP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:o},n):null,null)}const SP=g.createElement(_P,null);class NP extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(Xs.Provider,{value:this.props.routeContext},g.createElement(Fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CP(e){let{routeContext:t,match:n,children:r}=e,o=g.useContext(Mp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Xs.Provider,{value:t},r)}function kP(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=(o=n)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Nt(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:y}=n,j=p.route.loader&&x[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,x)=>{let y,j=!1,w=null,_=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||SP,f&&(h<0&&x===0?(OP("route-fallback"),j=!0,_=null):h===x&&(j=!0,_=p.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,x+1)),C=()=>{let k;return y?k=w:j?k=_:p.route.Component?k=g.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,g.createElement(CP,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?g.createElement(NP,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var Vb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vb||{}),zb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zb||{});function PP(e){let t=g.useContext(Mp);return t||Nt(!1),t}function EP(e){let t=g.useContext(xP);return t||Nt(!1),t}function TP(e){let t=g.useContext(Xs);return t||Nt(!1),t}function Wb(e){let t=TP(),n=t.matches[t.matches.length-1];return n.route.id||Nt(!1),n.route.id}function AP(){var e;let t=g.useContext(Fb),n=EP(),r=Wb();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function DP(){let{router:e}=PP(Vb.UseNavigateStable),t=Wb(zb.UseNavigateStable),n=g.useRef(!1);return Ub(()=>{n.current=!0}),g.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ol({fromRouteId:t},l)))},[e,t])}const zy={};function OP(e,t,n){zy[e]||(zy[e]=!0)}function RP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wt(e){Nt(!1)}function $P(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Bs.Pop,navigator:l,static:c=!1,future:u}=e;Xl()&&Nt(!1);let f=t.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:f,navigator:l,static:c,future:Ol({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof r=="string"&&(r=fa(r));let{pathname:m="/",search:p="",hash:x="",state:y=null,key:j="default"}=r,w=g.useMemo(()=>{let _=$p(m,f);return _==null?null:{location:{pathname:_,search:p,hash:x,state:y,key:j},navigationType:o}},[f,m,p,x,y,j,o]);return w==null?null:g.createElement(Fi.Provider,{value:h},g.createElement(yd.Provider,{children:n,value:w}))}function MP(e){let{children:t,location:n}=e;return bP(zm(t),n)}new Promise(()=>{});function zm(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,o)=>{if(!g.isValidElement(r))return;let l=[...t,o];if(r.type===g.Fragment){n.push.apply(n,zm(r.props.children,l));return}r.type!==wt&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=zm(r.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wm.apply(this,arguments)}function IP(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function LP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FP(e,t){return e.button===0&&(!t||t==="_self")&&!LP(e)}const UP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BP="6";try{window.__reactRouterVersion=BP}catch{}const VP="startTransition",Wy=xd[VP];function zP(e){let{basename:t,children:n,future:r,window:o}=e,l=g.useRef();l.current==null&&(l.current=qk({window:o,v5Compat:!0}));let c=l.current,[u,f]=g.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},m=g.useCallback(p=>{h&&Wy?Wy(()=>f(p)):f(p)},[f,h]);return g.useLayoutEffect(()=>c.listen(m),[c,m]),g.useEffect(()=>RP(r),[r]),g.createElement($P,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const WP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=g.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:l,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:p}=t,x=IP(t,UP),{basename:y}=g.useContext(Fi),j,w=!1;if(typeof h=="string"&&HP.test(h)&&(j=h,WP))try{let k=new URL(window.location.href),P=h.startsWith("//")?new URL(k.protocol+h):new URL(h),E=$p(P.pathname,y);P.origin===k.origin&&E!=null?h=E+P.search+P.hash:w=!0}catch{}let _=yP(h,{relative:o}),N=qP(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:p});function C(k){r&&r(k),k.defaultPrevented||N(k)}return g.createElement("a",Wm({},x,{href:j||_,onClick:w||l?r:C,ref:n,target:f}))});var Hy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));function qP(e,t){let{target:n,replace:r,state:o,preventScrollReset:l,relative:c,viewTransition:u}=t===void 0?{}:t,f=On(),h=Js(),m=Bb(e,{relative:c});return g.useCallback(p=>{if(FP(p,n)){p.preventDefault();let x=r!==void 0?r:Zu(h)===Zu(m);f(e,{replace:x,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,m,r,o,n,e,l,c,u])}const Hb=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bd=g.createContext({}),jd=g.createContext(null),_d=typeof document<"u",Ip=_d?g.useLayoutEffect:g.useEffect,qb=g.createContext({strict:!1}),Lp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),YP="framerAppearId",Yb="data-"+Lp(YP);function GP(e,t,n,r){const{visualElement:o}=g.useContext(bd),l=g.useContext(qb),c=g.useContext(jd),u=g.useContext(Hb).reducedMotion,f=g.useRef();r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current;g.useInsertionEffect(()=>{h&&h.update(n,c)});const m=g.useRef(!!(n[Yb]&&!window.HandoffComplete));return Ip(()=>{h&&(h.render(),m.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(h.updateFeatures(),!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),h}function zo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KP(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):zo(n)&&(n.current=r))},[t])}function Rl(e){return typeof e=="string"||Array.isArray(e)}function Sd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Up=["initial",...Fp];function Nd(e){return Sd(e.animate)||Up.some(t=>Rl(e[t]))}function Gb(e){return!!(Nd(e)||e.variants)}function XP(e,t){if(Nd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Rl(n)?n:void 0,animate:Rl(r)?r:void 0}}return e.inherit!==!1?t:{}}function JP(e){const{initial:t,animate:n}=XP(e,g.useContext(bd));return g.useMemo(()=>({initial:t,animate:n}),[Yy(t),Yy(n)])}function Yy(e){return Array.isArray(e)?e.join(" "):e}const Gy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$l={};for(const e in Gy)$l[e]={isEnabled:t=>Gy[e].some(n=>!!t[n])};function QP(e){for(const t in e)$l[t]={...$l[t],...e[t]}}const Bp=g.createContext({}),Kb=g.createContext({}),ZP=Symbol.for("motionComponentSymbol");function eE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&QP(e);function l(u,f){let h;const m={...g.useContext(Hb),...u,layoutId:tE(u)},{isStatic:p}=m,x=JP(u),y=r(u,p);if(!p&&_d){x.visualElement=GP(o,y,m,t);const j=g.useContext(Kb),w=g.useContext(qb).strict;x.visualElement&&(h=x.visualElement.loadFeatures(m,w,e,j))}return g.createElement(bd.Provider,{value:x},h&&x.visualElement?g.createElement(h,{visualElement:x.visualElement,...m}):null,n(o,u,KP(y,x.visualElement,f),y,p,x.visualElement))}const c=g.forwardRef(l);return c[ZP]=o,c}function tE({layoutId:e}){const t=g.useContext(Bp).id;return t&&e!==void 0?t+"-"+e:e}function nE(e){function t(r,o={}){return eE(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const rE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(e){return typeof e!="string"||e.includes("-")?!1:!!(rE.indexOf(e)>-1||/[A-Z]/.test(e))}const ed={};function sE(e){Object.assign(ed,e)}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(Jl);function Xb(e,{layout:t,layoutId:n}){return Ui.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ed[e]||e==="opacity")}const bn=e=>!!(e&&e.getVelocity),iE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oE=Jl.length;function aE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let l="";for(let c=0;c<oE;c++){const u=Jl[c];if(e[u]!==void 0){const f=iE[u]||u;l+=`${f}(${e[u]}) `}}return t&&!e.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(e,r?"":l):n&&r&&(l="none"),l}const Jb=e=>t=>typeof t=="string"&&t.startsWith(e),Qb=Jb("--"),Hm=Jb("var(--"),lE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,cE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qs=(e,t,n)=>Math.min(Math.max(n,e),t),Bi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_l={...Bi,transform:e=>qs(0,1,e)},Cu={...Bi,default:1},Sl=e=>Math.round(e*1e5)/1e5,Cd=/(-)?([\d]*\.?[\d])+/g,Zb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ql(e){return typeof e=="string"}const Zl=e=>({test:t=>Ql(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Os=Zl("deg"),Pr=Zl("%"),Me=Zl("px"),dE=Zl("vh"),fE=Zl("vw"),Ky={...Pr,parse:e=>Pr.parse(e)/100,transform:e=>Pr.transform(e*100)},Xy={...Bi,transform:Math.round},ej={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:Cu,scaleX:Cu,scaleY:Cu,scaleZ:Cu,skew:Os,skewX:Os,skewY:Os,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:_l,originX:Ky,originY:Ky,originZ:Me,zIndex:Xy,fillOpacity:_l,strokeOpacity:_l,numOctaves:Xy};function zp(e,t,n,r){const{style:o,vars:l,transform:c,transformOrigin:u}=e;let f=!1,h=!1,m=!0;for(const p in t){const x=t[p];if(Qb(p)){l[p]=x;continue}const y=ej[p],j=cE(x,y);if(Ui.has(p)){if(f=!0,c[p]=j,!m)continue;x!==(y.default||0)&&(m=!1)}else p.startsWith("origin")?(h=!0,u[p]=j):o[p]=j}if(t.transform||(f||r?o.transform=aE(e.transform,n,m,r):o.transform&&(o.transform="none")),h){const{originX:p="50%",originY:x="50%",originZ:y=0}=u;o.transformOrigin=`${p} ${x} ${y}`}}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tj(e,t,n){for(const r in t)!bn(t[r])&&!Xb(r,n)&&(e[r]=t[r])}function hE({transformTemplate:e},t,n){return g.useMemo(()=>{const r=Wp();return zp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function mE(e,t,n){const r=e.style||{},o={};return tj(o,r,e),Object.assign(o,hE(e,t,n)),e.transformValues?e.transformValues(o):o}function pE(e,t,n){const r={},o=mE(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const vE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vE.has(e)}let nj=e=>!td(e);function gE(e){e&&(nj=t=>t.startsWith("on")?!td(t):e(t))}try{gE(require("@emotion/is-prop-valid").default)}catch{}function xE(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(nj(o)||n===!0&&td(o)||!t&&!td(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function Jy(e,t,n){return typeof e=="string"?e:Me.transform(t+n*e)}function yE(e,t,n){const r=Jy(t,e.x,e.width),o=Jy(n,e.y,e.height);return`${r} ${o}`}const wE={offset:"stroke-dashoffset",array:"stroke-dasharray"},bE={offset:"strokeDashoffset",array:"strokeDasharray"};function jE(e,t,n=1,r=0,o=!0){e.pathLength=1;const l=o?wE:bE;e[l.offset]=Me.transform(-r);const c=Me.transform(t),u=Me.transform(n);e[l.array]=`${c} ${u}`}function Hp(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...h},m,p,x){if(zp(e,h,m,x),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:j,dimensions:w}=e;y.transform&&(w&&(j.transform=y.transform),delete y.transform),w&&(o!==void 0||l!==void 0||j.transform)&&(j.transformOrigin=yE(w,o!==void 0?o:.5,l!==void 0?l:.5)),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),c!==void 0&&jE(y,c,u,f,!1)}const rj=()=>({...Wp(),attrs:{}}),qp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _E(e,t,n,r){const o=g.useMemo(()=>{const l=rj();return Hp(l,t,{enableHardwareAcceleration:!1},qp(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};tj(l,e.style,e),o.style={...l,...o.style}}return o}function SE(e=!1){return(n,r,o,{latestValues:l},c)=>{const f=(Vp(n)?_E:pE)(r,l,c,n),m={...xE(r,typeof n=="string",e),...f,ref:o},{children:p}=r,x=g.useMemo(()=>bn(p)?p.get():p,[p]);return g.createElement(n,{...m,children:x})}}function sj(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}const ij=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oj(e,t,n,r){sj(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(ij.has(o)?o:Lp(o),t.attrs[o])}function Yp(e,t){const{style:n}=e,r={};for(const o in n)(bn(n[o])||t.style&&bn(t.style[o])||Xb(o,e))&&(r[o]=n[o]);return r}function aj(e,t){const n=Yp(e,t);for(const r in e)if(bn(e[r])||bn(t[r])){const o=Jl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Gp(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function lj(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const nd=e=>Array.isArray(e),NE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),CE=e=>nd(e)?e[e.length-1]||0:e;function Gu(e){const t=bn(e)?e.get():e;return NE(t)?t.toValue():t}function kE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,l){const c={latestValues:PE(r,o,l,e),renderState:t()};return n&&(c.mount=u=>n(r,u,c)),c}const cj=e=>(t,n)=>{const r=g.useContext(bd),o=g.useContext(jd),l=()=>kE(e,t,r,o);return n?l():lj(l)};function PE(e,t,n,r){const o={},l=r(e,{});for(const x in l)o[x]=Gu(l[x]);let{initial:c,animate:u}=e;const f=Nd(e),h=Gb(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const p=m?u:c;return p&&typeof p!="boolean"&&!Sd(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const j=Gp(e,y);if(!j)return;const{transitionEnd:w,transition:_,...N}=j;for(const C in N){let k=N[C];if(Array.isArray(k)){const P=m?k.length-1:0;k=k[P]}k!==null&&(o[C]=k)}for(const C in w)o[C]=w[C]}),o}const bt=e=>e;class Qy{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function EE(e){let t=new Qy,n=new Qy,r=0,o=!1,l=!1;const c=new WeakSet,u={schedule:(f,h=!1,m=!1)=>{const p=m&&o,x=p?t:n;return h&&c.add(f),x.add(f)&&p&&o&&(r=t.order.length),f},cancel:f=>{n.remove(f),c.delete(f)},process:f=>{if(o){l=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let h=0;h<r;h++){const m=t.order[h];m(f),c.has(m)&&(u.schedule(m),e())}o=!1,l&&(l=!1,u.process(f))}};return u}const ku=["prepare","read","update","preRender","render","postRender"],TE=40;function AE(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=ku.reduce((p,x)=>(p[x]=EE(()=>n=!0),p),{}),c=p=>l[p].process(o),u=()=>{const p=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(p-o.timestamp,TE),1),o.timestamp=p,o.isProcessing=!0,ku.forEach(c),o.isProcessing=!1,n&&t&&(r=!1,e(u))},f=()=>{n=!0,r=!0,o.isProcessing||e(u)};return{schedule:ku.reduce((p,x)=>{const y=l[x];return p[x]=(j,w=!1,_=!1)=>(n||f(),y.schedule(j,w,_)),p},{}),cancel:p=>ku.forEach(x=>l[x].cancel(p)),state:o,steps:l}}const{schedule:ot,cancel:es,state:en,steps:Kh}=AE(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0),DE={useVisualState:cj({scrapeMotionValuesFromProps:aj,createRenderState:rj,onMount:(e,t,{renderState:n,latestValues:r})=>{ot.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{Hp(n,r,{enableHardwareAcceleration:!1},qp(t.tagName),e.transformTemplate),oj(t,n)})}})},OE={useVisualState:cj({scrapeMotionValuesFromProps:Yp,createRenderState:Wp})};function RE(e,{forwardMotionProps:t=!1},n,r){return{...Vp(e)?DE:OE,preloadedFeatures:n,useRender:SE(t),createVisualElement:r,Component:e}}function Kr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const uj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const $E=e=>t=>uj(t)&&e(t,kd(t));function Jr(e,t,n,r){return Kr(e,t,$E(n),r)}const ME=(e,t)=>n=>t(e(n)),zs=(...e)=>e.reduce(ME);function dj(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Zy=dj("dragHorizontal"),e0=dj("dragVertical");function fj(e){let t=!1;if(e==="y")t=e0();else if(e==="x")t=Zy();else{const n=Zy(),r=e0();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function hj(){const e=fj(!0);return e?(e(),!1):!0}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function t0(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(l,c)=>{if(l.pointerType==="touch"||hj())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[r]&&ot.update(()=>u[r](l,c))};return Jr(e.current,n,o,{passive:!e.getProps()[r]})}class IE extends Qs{mount(){this.unmount=zs(t0(this.node,!0),t0(this.node,!1))}unmount(){}}class LE extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zs(Kr(this.node.current,"focus",()=>this.onFocus()),Kr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mj=(e,t)=>t?e===t?!0:mj(e,t.parentElement):!1;function Xh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,kd(n))}class FE extends Qs{constructor(){super(...arguments),this.removeStartListeners=bt,this.removeEndListeners=bt,this.removeAccessibleListeners=bt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),l=Jr(window,"pointerup",(u,f)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:p}=this.node.getProps();ot.update(()=>{!p&&!mj(this.node.current,u.target)?m&&m(u,f):h&&h(u,f)})},{passive:!(r.onTap||r.onPointerUp)}),c=Jr(window,"pointercancel",(u,f)=>this.cancelPress(u,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zs(l,c),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=l=>{if(l.key!=="Enter"||this.isPressing)return;const c=u=>{u.key!=="Enter"||!this.checkPressEnd()||Xh("up",(f,h)=>{const{onTap:m}=this.node.getProps();m&&ot.update(()=>m(f,h))})};this.removeEndListeners(),this.removeEndListeners=Kr(this.node.current,"keyup",c),Xh("down",(u,f)=>{this.startPress(u,f)})},n=Kr(this.node.current,"keydown",t),r=()=>{this.isPressing&&Xh("cancel",(l,c)=>this.cancelPress(l,c))},o=Kr(this.node.current,"blur",r);this.removeAccessibleListeners=zs(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hj()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Jr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Kr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qm=new WeakMap,Jh=new WeakMap,UE=e=>{const t=qm.get(e.target);t&&t(e)},BE=e=>{e.forEach(UE)};function VE({root:e,...t}){const n=e||document;Jh.has(n)||Jh.set(n,{});const r=Jh.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(BE,{root:e,...t})),r[o]}function zE(e,t,n){const r=VE(t);return qm.set(e,n),r.observe(e),()=>{qm.delete(e),r.unobserve(e)}}const WE={some:0,all:1};class HE extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:WE[o]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),x=h?m:p;x&&x(f)};return zE(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qE(t,n))&&this.startObserver()}unmount(){}}function qE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const YE={inView:{Feature:HE},tap:{Feature:FE},focus:{Feature:LE},hover:{Feature:IE}};function pj(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function GE(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function KE(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Pd(e,t,n){const r=e.getProps();return Gp(r,t,n!==void 0?n:r.custom,GE(e),KE(e))}let Kp=bt;const Ai=e=>e*1e3,Qr=e=>e/1e3,XE={current:!1},vj=e=>Array.isArray(e)&&typeof e[0]=="number";function gj(e){return!!(!e||typeof e=="string"&&xj[e]||vj(e)||Array.isArray(e)&&e.every(gj))}const bl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bl([0,.65,.55,1]),circOut:bl([.55,0,1,.45]),backIn:bl([.31,.01,.66,-.59]),backOut:bl([.33,1.53,.69,.99])};function yj(e){if(e)return vj(e)?bl(e):Array.isArray(e)?e.map(yj):xj[e]}function JE(e,t,n,{delay:r=0,duration:o,repeat:l=0,repeatType:c="loop",ease:u,times:f}={}){const h={[t]:n};f&&(h.offset=f);const m=yj(u);return Array.isArray(m)&&(h.easing=m),e.animate(h,{delay:r,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}function QE(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const wj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZE=1e-7,eT=12;function tT(e,t,n,r,o){let l,c,u=0;do c=t+(n-t)/2,l=wj(c,r,o)-e,l>0?n=c:t=c;while(Math.abs(l)>ZE&&++u<eT);return c}function ec(e,t,n,r){if(e===t&&n===r)return bt;const o=l=>tT(l,0,1,e,n);return l=>l===0||l===1?l:wj(o(l),t,r)}const nT=ec(.42,0,1,1),rT=ec(0,0,.58,1),bj=ec(.42,0,.58,1),sT=e=>Array.isArray(e)&&typeof e[0]!="number",jj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_j=e=>t=>1-e(1-t),Xp=e=>1-Math.sin(Math.acos(e)),Sj=_j(Xp),iT=jj(Xp),Nj=ec(.33,1.53,.69,.99),Jp=_j(Nj),oT=jj(Jp),aT=e=>(e*=2)<1?.5*Jp(e):.5*(2-Math.pow(2,-10*(e-1))),lT={linear:bt,easeIn:nT,easeInOut:bj,easeOut:rT,circIn:Xp,circInOut:iT,circOut:Sj,backIn:Jp,backInOut:oT,backOut:Nj,anticipate:aT},n0=e=>{if(Array.isArray(e)){Kp(e.length===4);const[t,n,r,o]=e;return ec(t,n,r,o)}else if(typeof e=="string")return lT[e];return e},Qp=(e,t)=>n=>!!(Ql(n)&&uE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Cj=(e,t,n)=>r=>{if(!Ql(r))return r;const[o,l,c,u]=r.match(Cd);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},cT=e=>qs(0,255,e),Qh={...Bi,transform:e=>Math.round(cT(e))},Ei={test:Qp("rgb","red"),parse:Cj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Qh.transform(e)+", "+Qh.transform(t)+", "+Qh.transform(n)+", "+Sl(_l.transform(r))+")"};function uT(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ym={test:Qp("#"),parse:uT,transform:Ei.transform},Wo={test:Qp("hsl","hue"),parse:Cj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pr.transform(Sl(t))+", "+Pr.transform(Sl(n))+", "+Sl(_l.transform(r))+")"},an={test:e=>Ei.test(e)||Ym.test(e)||Wo.test(e),parse:e=>Ei.test(e)?Ei.parse(e):Wo.test(e)?Wo.parse(e):Ym.parse(e),transform:e=>Ql(e)?e:e.hasOwnProperty("red")?Ei.transform(e):Wo.transform(e)},gt=(e,t,n)=>-n*e+n*t+e;function Zh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;o=Zh(f,u,e+1/3),l=Zh(f,u,e),c=Zh(f,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}const em=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},fT=[Ym,Ei,Wo],hT=e=>fT.find(t=>t.test(e));function r0(e){const t=hT(e);let n=t.parse(e);return t===Wo&&(n=dT(n)),n}const kj=(e,t)=>{const n=r0(e),r=r0(t),o={...n};return l=>(o.red=em(n.red,r.red,l),o.green=em(n.green,r.green,l),o.blue=em(n.blue,r.blue,l),o.alpha=gt(n.alpha,r.alpha,l),Ei.transform(o))};function mT(e){var t,n;return isNaN(e)&&Ql(e)&&(((t=e.match(Cd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Zb))===null||n===void 0?void 0:n.length)||0)>0}const Pj={regex:lE,countKey:"Vars",token:"${v}",parse:bt},Ej={regex:Zb,countKey:"Colors",token:"${c}",parse:an.parse},Tj={regex:Cd,countKey:"Numbers",token:"${n}",parse:Bi.parse};function tm(e,{regex:t,countKey:n,token:r,parse:o}){const l=e.tokenised.match(t);l&&(e["num"+n]=l.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...l.map(o)))}function rd(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tm(n,Pj),tm(n,Ej),tm(n,Tj),n}function Aj(e){return rd(e).values}function Dj(e){const{values:t,numColors:n,numVars:r,tokenised:o}=rd(e),l=t.length;return c=>{let u=o;for(let f=0;f<l;f++)f<r?u=u.replace(Pj.token,c[f]):f<r+n?u=u.replace(Ej.token,an.transform(c[f])):u=u.replace(Tj.token,Sl(c[f]));return u}}const pT=e=>typeof e=="number"?0:e;function vT(e){const t=Aj(e);return Dj(e)(t.map(pT))}const Ys={test:mT,parse:Aj,createTransformer:Dj,getAnimatableNone:vT},Oj=(e,t)=>n=>`${n>0?t:e}`;function Rj(e,t){return typeof e=="number"?n=>gt(e,t,n):an.test(e)?kj(e,t):e.startsWith("var(")?Oj(e,t):Mj(e,t)}const $j=(e,t)=>{const n=[...e],r=n.length,o=e.map((l,c)=>Rj(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}},gT=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Rj(e[o],t[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}},Mj=(e,t)=>{const n=Ys.createTransformer(t),r=rd(e),o=rd(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?zs($j(r.values,o.values),n):Oj(e,t)},Ml=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},s0=(e,t)=>n=>gt(e,t,n);function xT(e){return typeof e=="number"?s0:typeof e=="string"?an.test(e)?kj:Mj:Array.isArray(e)?$j:typeof e=="object"?gT:s0}function yT(e,t,n){const r=[],o=n||xT(e[0]),l=e.length-1;for(let c=0;c<l;c++){let u=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||bt:t;u=zs(f,u)}r.push(u)}return r}function Ij(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const l=e.length;if(Kp(l===t.length),l===1)return()=>t[0];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=yT(t,r,o),u=c.length,f=h=>{let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Ml(e[m],e[m+1],h);return c[m](p)};return n?h=>f(qs(e[0],e[l-1],h)):f}function wT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ml(0,t,r);e.push(gt(n,1,o))}}function bT(e){const t=[0];return wT(t,e.length-1),t}function jT(e,t){return e.map(n=>n*t)}function _T(e,t){return e.map(()=>t||bj).splice(0,e.length-1)}function sd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=sT(r)?r.map(n0):n0(r),l={done:!1,value:t[0]},c=jT(n&&n.length===t.length?n:bT(t),e),u=Ij(c,t,{ease:Array.isArray(o)?o:_T(t,o)});return{calculatedDuration:e,next:f=>(l.value=u(f),l.done=f>=e,l)}}function Lj(e,t){return t?e*(1e3/t):0}const ST=5;function Fj(e,t,n){const r=Math.max(t-ST,0);return Lj(n-e(r),t-r)}const nm=.001,NT=.01,CT=10,kT=.05,PT=1;function ET({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,l,c=1-t;c=qs(kT,PT,c),e=qs(NT,CT,Qr(e)),c<1?(o=h=>{const m=h*c,p=m*e,x=m-n,y=Gm(h,c),j=Math.exp(-p);return nm-x/y*j},l=h=>{const p=h*c*e,x=p*n+n,y=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-p),w=Gm(Math.pow(h,2),c);return(-o(h)+nm>0?-1:1)*((x-y)*j)/w}):(o=h=>{const m=Math.exp(-h*e),p=(h-n)*e+1;return-nm+m*p},l=h=>{const m=Math.exp(-h*e),p=(n-h)*(e*e);return m*p});const u=5/e,f=AT(o,l,u);if(e=Ai(e),isNaN(f))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:e}}}const TT=12;function AT(e,t,n){let r=n;for(let o=1;o<TT;o++)r=r-e(r)/t(r);return r}function Gm(e,t){return e*Math.sqrt(1-t*t)}const DT=["duration","bounce"],OT=["stiffness","damping","mass"];function i0(e,t){return t.some(n=>e[n]!==void 0)}function RT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!i0(e,OT)&&i0(e,DT)){const n=ET(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Uj({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],l=e[e.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=RT({...r,velocity:-Qr(r.velocity||0)}),y=p||0,j=f/(2*Math.sqrt(u*h)),w=l-o,_=Qr(Math.sqrt(u/h)),N=Math.abs(w)<5;n||(n=N?.01:2),t||(t=N?.005:.5);let C;if(j<1){const k=Gm(_,j);C=P=>{const E=Math.exp(-j*_*P);return l-E*((y+j*_*w)/k*Math.sin(k*P)+w*Math.cos(k*P))}}else if(j===1)C=k=>l-Math.exp(-_*k)*(w+(y+_*w)*k);else{const k=_*Math.sqrt(j*j-1);C=P=>{const E=Math.exp(-j*_*P),D=Math.min(k*P,300);return l-E*((y+j*_*w)*Math.sinh(D)+k*w*Math.cosh(D))/k}}return{calculatedDuration:x&&m||null,next:k=>{const P=C(k);if(x)c.done=k>=m;else{let E=y;k!==0&&(j<1?E=Fj(C,k,P):E=0);const D=Math.abs(E)<=n,O=Math.abs(l-P)<=t;c.done=D&&O}return c.value=c.done?l:P,c}}}function o0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const p=e[0],x={done:!1,value:p},y=A=>u!==void 0&&A<u||f!==void 0&&A>f,j=A=>u===void 0?f:f===void 0||Math.abs(u-A)<Math.abs(f-A)?u:f;let w=n*t;const _=p+w,N=c===void 0?_:c(_);N!==_&&(w=N-p);const C=A=>-w*Math.exp(-A/r),k=A=>N+C(A),P=A=>{const R=C(A),z=k(A);x.done=Math.abs(R)<=h,x.value=x.done?N:z};let E,D;const O=A=>{y(x.value)&&(E=A,D=Uj({keyframes:[x.value,j(x.value)],velocity:Fj(k,A,x.value),damping:o,stiffness:l,restDelta:h,restSpeed:m}))};return O(0),{calculatedDuration:null,next:A=>{let R=!1;return!D&&E===void 0&&(R=!0,P(A),O(A)),E!==void 0&&A>E?D.next(A-E):(!R&&P(A),x)}}}const $T=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ot.update(t,!0),stop:()=>es(t),now:()=>en.isProcessing?en.timestamp:performance.now()}},a0=2e4;function l0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<a0;)t+=n,r=e.next(t);return t>=a0?1/0:t}const MT={decay:o0,inertia:o0,tween:sd,keyframes:sd,spring:Uj};function id({autoplay:e=!0,delay:t=0,driver:n=$T,keyframes:r,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:f,onStop:h,onComplete:m,onUpdate:p,...x}){let y=1,j=!1,w,_;const N=()=>{_=new Promise($=>{w=$})};N();let C;const k=MT[o]||sd;let P;k!==sd&&typeof r[0]!="number"&&(P=Ij([0,100],r,{clamp:!1}),r=[0,100]);const E=k({...x,keyframes:r});let D;u==="mirror"&&(D=k({...x,keyframes:[...r].reverse(),velocity:-(x.velocity||0)}));let O="idle",A=null,R=null,z=null;E.calculatedDuration===null&&l&&(E.calculatedDuration=l0(E));const{calculatedDuration:Q}=E;let G=1/0,W=1/0;Q!==null&&(G=Q+c,W=G*(l+1)-c);let U=0;const q=$=>{if(R===null)return;y>0&&(R=Math.min(R,$)),y<0&&(R=Math.min($-W/y,R)),A!==null?U=A:U=Math.round($-R)*y;const J=U-t*(y>=0?1:-1),le=y>=0?J<0:J>W;U=Math.max(J,0),O==="finished"&&A===null&&(U=W);let ue=U,ye=E;if(l){const Ne=Math.min(U,W)/G;let ve=Math.floor(Ne),de=Ne%1;!de&&Ne>=1&&(de=1),de===1&&ve--,ve=Math.min(ve,l+1),!!(ve%2)&&(u==="reverse"?(de=1-de,c&&(de-=c/G)):u==="mirror"&&(ye=D)),ue=qs(0,1,de)*G}const me=le?{done:!1,value:r[0]}:ye.next(ue);P&&(me.value=P(me.value));let{done:ie}=me;!le&&Q!==null&&(ie=y>=0?U>=W:U<=0);const pe=A===null&&(O==="finished"||O==="running"&&ie);return p&&p(me.value),pe&&L(),me},K=()=>{C&&C.stop(),C=void 0},I=()=>{O="idle",K(),w(),N(),R=z=null},L=()=>{O="finished",m&&m(),K(),w()},B=()=>{if(j)return;C||(C=n(q));const $=C.now();f&&f(),A!==null?R=$-A:(!R||O==="finished")&&(R=$),O==="finished"&&N(),z=R,A=null,O="running",C.start()};e&&B();const Z={then($,J){return _.then($,J)},get time(){return Qr(U)},set time($){$=Ai($),U=$,A!==null||!C||y===0?A=$:R=C.now()-$/y},get duration(){const $=E.calculatedDuration===null?l0(E):E.calculatedDuration;return Qr($)},get speed(){return y},set speed($){$===y||!C||(y=$,Z.time=Qr(U))},get state(){return O},play:B,pause:()=>{O="paused",A=U},stop:()=>{j=!0,O!=="idle"&&(O="idle",h&&h(),I())},cancel:()=>{z!==null&&q(z),I()},complete:()=>{O="finished"},sample:$=>(R=0,q($))};return Z}function IT(e){let t;return()=>(t===void 0&&(t=e()),t)}const LT=IT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Pu=10,UT=2e4,BT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!gj(t.ease);function VT(e,t,{onUpdate:n,onComplete:r,...o}){if(!(LT()&&FT.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let c=!1,u,f,h=!1;const m=()=>{f=new Promise(k=>{u=k})};m();let{keyframes:p,duration:x=300,ease:y,times:j}=o;if(BT(t,o)){const k=id({...o,repeat:0,delay:0});let P={done:!1,value:p[0]};const E=[];let D=0;for(;!P.done&&D<UT;)P=k.sample(D),E.push(P.value),D+=Pu;j=void 0,p=E,x=D-Pu,y="linear"}const w=JE(e.owner.current,t,p,{...o,duration:x,ease:y,times:j}),_=()=>{h=!1,w.cancel()},N=()=>{h=!0,ot.update(_),u(),m()};return w.onfinish=()=>{h||(e.set(QE(p,o)),r&&r(),N())},{then(k,P){return f.then(k,P)},attachTimeline(k){return w.timeline=k,w.onfinish=null,bt},get time(){return Qr(w.currentTime||0)},set time(k){w.currentTime=Ai(k)},get speed(){return w.playbackRate},set speed(k){w.playbackRate=k},get duration(){return Qr(x)},play:()=>{c||(w.play(),es(_))},pause:()=>w.pause(),stop:()=>{if(c=!0,w.playState==="idle")return;const{currentTime:k}=w;if(k){const P=id({...o,autoplay:!1});e.setWithVelocity(P.sample(k-Pu).value,P.sample(k).value,Pu)}N()},complete:()=>{h||w.finish()},cancel:N}}function zT({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:bt,pause:bt,stop:bt,then:l=>(l(),Promise.resolve()),cancel:bt,complete:bt});return t?id({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const WT={type:"spring",stiffness:500,damping:25,restSpeed:10},HT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qT={type:"keyframes",duration:.8},YT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GT=(e,{keyframes:t})=>t.length>2?qT:Ui.has(e)?e.startsWith("scale")?HT(t[1]):WT:YT,Km=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ys.test(t)||t==="0")&&!t.startsWith("url(")),KT=new Set(["brightness","contrast","saturate","opacity"]);function XT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Cd)||[];if(!r)return e;const o=n.replace(r,"");let l=KT.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+o+")"}const JT=/([a-z-]*)\(.*?\)/g,Xm={...Ys,getAnimatableNone:e=>{const t=e.match(JT);return t?t.map(XT).join(" "):e}},QT={...ej,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Xm,WebkitFilter:Xm},Zp=e=>QT[e];function Bj(e,t){let n=Zp(e);return n!==Xm&&(n=Ys),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Vj=e=>/^0[^.\s]+$/.test(e);function ZT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Vj(e)}function eA(e,t,n,r){const o=Km(t,n);let l;Array.isArray(n)?l=[...n]:l=[null,n];const c=r.from!==void 0?r.from:e.get();let u;const f=[];for(let h=0;h<l.length;h++)l[h]===null&&(l[h]=h===0?c:l[h-1]),ZT(l[h])&&f.push(h),typeof l[h]=="string"&&l[h]!=="none"&&l[h]!=="0"&&(u=l[h]);if(o&&f.length&&u)for(let h=0;h<f.length;h++){const m=f[h];l[m]=Bj(t,u)}return l}function tA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}function ev(e,t){return e[t]||e.default||e}const nA={skipAnimations:!1},tv=(e,t,n,r={})=>o=>{const l=ev(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ai(c);const f=eA(t,e,n,l),h=f[0],m=f[f.length-1],p=Km(e,h),x=Km(e,m);let y={keyframes:f,velocity:t.getVelocity(),ease:"easeOut",...l,delay:-u,onUpdate:j=>{t.set(j),l.onUpdate&&l.onUpdate(j)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(tA(l)||(y={...y,...GT(e,y)}),y.duration&&(y.duration=Ai(y.duration)),y.repeatDelay&&(y.repeatDelay=Ai(y.repeatDelay)),!p||!x||XE.current||l.type===!1||nA.skipAnimations)return zT(y);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=VT(t,e,y);if(j)return j}return id(y)};function od(e){return!!(bn(e)&&e.add)}const zj=e=>/^\-?\d*\.?\d+$/.test(e);function nv(e,t){e.indexOf(t)===-1&&e.push(t)}function rv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class sv{constructor(){this.subscriptions=[]}add(t){return nv(this.subscriptions,t),()=>rv(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rA=e=>!isNaN(parseFloat(e));class sA{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:l,timestamp:c}=en;this.lastUpdated!==c&&(this.timeDelta=l,this.lastUpdated=c,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rA(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sv);const r=this.events[t].add(n);return t==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Lj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(e,t){return new sA(e,t)}const Wj=e=>t=>t.test(e),iA={test:e=>e==="auto",parse:e=>e},Hj=[Bi,Me,Pr,Os,fE,dE,iA],dl=e=>Hj.find(Wj(e)),oA=[...Hj,an,Ys],aA=e=>oA.find(Wj(e));function lA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Qo(n))}function cA(e,t){const n=Pd(e,t);let{transitionEnd:r={},transition:o={},...l}=n?e.makeTargetAnimatable(n,!1):{};l={...l,...r};for(const c in l){const u=CE(l[c]);lA(e,c,u)}}function uA(e,t,n){var r,o;const l=Object.keys(t).filter(u=>!e.hasValue(u)),c=l.length;if(c)for(let u=0;u<c;u++){const f=l[u],h=t[f];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(o=(r=n[f])!==null&&r!==void 0?r:e.readValue(f))!==null&&o!==void 0?o:t[f]),m!=null&&(typeof m=="string"&&(zj(m)||Vj(m))?m=parseFloat(m):!aA(m)&&Ys.test(h)&&(m=Bj(f,h)),e.addValue(f,Qo(m,{owner:e})),n[f]===void 0&&(n[f]=m),m!==null&&e.setBaseTarget(f,m))}}function dA(e,t){return t?(t[e]||t.default||t).from:void 0}function fA(e,t,n){const r={};for(const o in e){const l=dA(o,t);if(l!==void 0)r[o]=l;else{const c=n.getValue(o);c&&(r[o]=c.get())}}return r}function hA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function mA(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function qj(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=e.makeTargetAnimatable(t);const f=e.getValue("willChange");r&&(l=r);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in u){const x=e.getValue(p),y=u[p];if(!x||y===void 0||m&&hA(m,p))continue;const j={delay:n,elapsed:0,...ev(l||{},p)};if(window.HandoffAppearAnimations){const N=e.getProps()[Yb];if(N){const C=window.HandoffAppearAnimations(N,p,x,ot);C!==null&&(j.elapsed=C,j.isHandoff=!0)}}let w=!j.isHandoff&&!mA(x,y);if(j.type==="spring"&&(x.getVelocity()||j.velocity)&&(w=!1),x.animation&&(w=!1),w)continue;x.start(tv(p,x,y,e.shouldReduceMotion&&Ui.has(p)?{type:!1}:j));const _=x.animation;od(f)&&(f.add(p),_.then(()=>f.remove(p))),h.push(_)}return c&&Promise.all(h).then(()=>{c&&cA(e,c)}),h}function Jm(e,t,n={}){const r=Pd(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(qj(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=o;return pA(e,t,h+f,m,p,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,h]=u==="beforeChildren"?[l,c]:[c,l];return f().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function pA(e,t,n=0,r=0,o=1,l){const c=[],u=(e.variantChildren.size-1)*r,f=o===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(e.variantChildren).sort(vA).forEach((h,m)=>{h.notify("AnimationStart",t),c.push(Jm(h,t,{...l,delay:n+f(m)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function vA(e,t){return e.sortNodePosition(t)}function gA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(l=>Jm(e,l,n));r=Promise.all(o)}else if(typeof t=="string")r=Jm(e,t,n);else{const o=typeof t=="function"?Pd(e,t,n.custom):t;r=Promise.all(qj(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const xA=[...Fp].reverse(),yA=Fp.length;function wA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>gA(e,n,r)))}function bA(e){let t=wA(e);const n=_A();let r=!0;const o=(f,h)=>{const m=Pd(e,h);if(m){const{transition:p,transitionEnd:x,...y}=m;f={...f,...y,...x}}return f};function l(f){t=f(e)}function c(f,h){const m=e.getProps(),p=e.getVariantContext(!0)||{},x=[],y=new Set;let j={},w=1/0;for(let N=0;N<yA;N++){const C=xA[N],k=n[C],P=m[C]!==void 0?m[C]:p[C],E=Rl(P),D=C===h?k.isActive:null;D===!1&&(w=N);let O=P===p[C]&&P!==m[C]&&E;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...j},!k.isActive&&D===null||!P&&!k.prevProp||Sd(P)||typeof P=="boolean")continue;let R=jA(k.prevProp,P)||C===h&&k.isActive&&!O&&E||N>w&&E,z=!1;const Q=Array.isArray(P)?P:[P];let G=Q.reduce(o,{});D===!1&&(G={});const{prevResolvedValues:W={}}=k,U={...W,...G},q=K=>{R=!0,y.has(K)&&(z=!0,y.delete(K)),k.needsAnimating[K]=!0};for(const K in U){const I=G[K],L=W[K];if(j.hasOwnProperty(K))continue;let B=!1;nd(I)&&nd(L)?B=!pj(I,L):B=I!==L,B?I!==void 0?q(K):y.add(K):I!==void 0&&y.has(K)?q(K):k.protectedKeys[K]=!0}k.prevProp=P,k.prevResolvedValues=G,k.isActive&&(j={...j,...G}),r&&e.blockInitialAnimation&&(R=!1),R&&(!O||z)&&x.push(...Q.map(K=>({animation:K,options:{type:C,...f}})))}if(y.size){const N={};y.forEach(C=>{const k=e.getBaseTarget(C);k!==void 0&&(N[C]=k)}),x.push({animation:N})}let _=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(x):Promise.resolve()}function u(f,h,m){var p;if(n[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(y=>{var j;return(j=y.animationState)===null||j===void 0?void 0:j.setActive(f,h)}),n[f].isActive=h;const x=c(m,f);for(const y in n)n[y].protectedKeys={};return x}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n}}function jA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pj(t,e):!1}function bi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _A(){return{animate:bi(!0),whileInView:bi(),whileHover:bi(),whileTap:bi(),whileDrag:bi(),whileFocus:bi(),exit:bi()}}class SA extends Qs{constructor(t){super(t),t.animationState||(t.animationState=bA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Sd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let NA=0;class CA extends Qs{constructor(){super(...arguments),this.id=NA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const l=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&l.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const kA={animation:{Feature:SA},exit:{Feature:CA}},c0=(e,t)=>Math.abs(e-t);function PA(e,t){const n=c0(e.x,t.x),r=c0(e.y,t.y);return Math.sqrt(n**2+r**2)}class Yj{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=sm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=PA(p.offset,{x:0,y:0})>=3;if(!x&&!y)return;const{point:j}=p,{timestamp:w}=en;this.history.push({...j,timestamp:w});const{onStart:_,onMove:N}=this.handlers;x||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=rm(x,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=sm(p.type==="pointercancel"?this.lastMoveEventInfo:rm(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,_),j&&j(p,_)},!uj(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=kd(t),u=rm(c,this.transformPagePoint),{point:f}=u,{timestamp:h}=en;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=n;m&&m(t,sm(u,this.history)),this.removeListeners=zs(Jr(this.contextWindow,"pointermove",this.handlePointerMove),Jr(this.contextWindow,"pointerup",this.handlePointerUp),Jr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function rm(e,t){return t?{point:t(e.point)}:e}function u0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sm({point:e},t){return{point:e,delta:u0(e,Gj(t)),offset:u0(e,EA(t)),velocity:TA(t,.1)}}function EA(e){return e[0]}function Gj(e){return e[e.length-1]}function TA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Gj(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Ai(t)));)n--;if(!r)return{x:0,y:0};const l=Qr(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Dn(e){return e.max-e.min}function Qm(e,t=0,n=.01){return Math.abs(e-t)<=n}function d0(e,t,n,r=.5){e.origin=r,e.originPoint=gt(t.min,t.max,e.origin),e.scale=Dn(n)/Dn(t),(Qm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gt(n.min,n.max,e.origin)-e.originPoint,(Qm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Nl(e,t,n,r){d0(e.x,t.x,n.x,r?r.originX:void 0),d0(e.y,t.y,n.y,r?r.originY:void 0)}function f0(e,t,n){e.min=n.min+t.min,e.max=e.min+Dn(t)}function AA(e,t,n){f0(e.x,t.x,n.x),f0(e.y,t.y,n.y)}function h0(e,t,n){e.min=t.min-n.min,e.max=e.min+Dn(t)}function Cl(e,t,n){h0(e.x,t.x,n.x),h0(e.y,t.y,n.y)}function DA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gt(n,e,r.max):Math.min(e,n)),e}function m0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function OA(e,{top:t,left:n,bottom:r,right:o}){return{x:m0(e.x,n,o),y:m0(e.y,t,r)}}function p0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function RA(e,t){return{x:p0(e.x,t.x),y:p0(e.y,t.y)}}function $A(e,t){let n=.5;const r=Dn(e),o=Dn(t);return o>r?n=Ml(t.min,t.max-r,e.min):r>o&&(n=Ml(e.min,e.max-o,t.min)),qs(0,1,n)}function MA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zm=.35;function IA(e=Zm){return e===!1?e=0:e===!0&&(e=Zm),{x:v0(e,"left","right"),y:v0(e,"top","bottom")}}function v0(e,t,n){return{min:g0(e,t),max:g0(e,n)}}function g0(e,t){return typeof e=="number"?e:e[t]||0}const x0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:x0(),y:x0()}),y0=()=>({min:0,max:0}),St=()=>({x:y0(),y:y0()});function Wn(e){return[e("x"),e("y")]}function Kj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function LA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function im(e){return e===void 0||e===1}function ep({scale:e,scaleX:t,scaleY:n}){return!im(e)||!im(t)||!im(n)}function _i(e){return ep(e)||Xj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Xj(e){return w0(e.x)||w0(e.y)}function w0(e){return e&&e!=="0%"}function ad(e,t,n){const r=e-n,o=t*r;return n+o}function b0(e,t,n,r,o){return o!==void 0&&(e=ad(e,o,r)),ad(e,n,r)+t}function tp(e,t=0,n=1,r,o){e.min=b0(e.min,t,n,r,o),e.max=b0(e.max,t,n,r,o)}function Jj(e,{x:t,y:n}){tp(e.x,t.translate,t.scale,t.originPoint),tp(e.y,n.translate,n.scale,n.originPoint)}function UA(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let u=0;u<o;u++){l=n[u],c=l.projectionDelta;const f=l.instance;f&&f.style&&f.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Jj(e,c)),r&&_i(l.latestValues)&&qo(e,l.latestValues))}t.x=j0(t.x),t.y=j0(t.y)}function j0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ls(e,t){e.min=e.min+t,e.max=e.max+t}function _0(e,t,[n,r,o]){const l=t[o]!==void 0?t[o]:.5,c=gt(e.min,e.max,l);tp(e,t[n],t[r],c,t.scale)}const BA=["x","scaleX","originX"],VA=["y","scaleY","originY"];function qo(e,t){_0(e.x,t,BA),_0(e.y,t,VA)}function Qj(e,t){return Kj(FA(e.getBoundingClientRect(),t))}function zA(e,t,n){const r=Qj(e,n),{scroll:o}=t;return o&&(Ls(r.x,o.offset.x),Ls(r.y,o.offset.y)),r}const Zj=({current:e})=>e?e.ownerDocument.defaultView:null,WA=new WeakMap;class HA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kd(m,"page").point)},l=(m,p)=>{const{drag:x,dragPropagation:y,onDragStart:j}=this.getProps();if(x&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=fj(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(_=>{let N=this.getAxisMotionValue(_).get()||0;if(Pr.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[_];k&&(N=Dn(k)*(parseFloat(N)/100))}}this.originPoint[_]=N}),j&&ot.update(()=>j(m,p),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,p)=>{const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:j,onDrag:w}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:_}=p;if(y&&this.currentDirection===null){this.currentDirection=qA(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),w&&w(m,p)},u=(m,p)=>this.stop(m,p),f=()=>Wn(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Yj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:Zj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ot.update(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Eu(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=DA(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&zo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=OA(o.layoutBox,n):this.constraints=!1,this.elastic=IA(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Wn(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=MA(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=zA(r,o.root,this.visualElement.getTransformPagePoint());let c=RA(o.layout.layoutBox,l);if(n){const u=n(LA(c));this.hasMutatedConstraints=!!u,u&&(c=Kj(u))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Wn(m=>{if(!Eu(m,n,this.currentDirection))return;let p=f&&f[m]||{};c&&(p={min:0,max:0});const x=o?200:1e6,y=o?40:1e7,j={type:"inertia",velocity:r?t[m]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(tv(t,r,0,n))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wn(n=>{const{drag:r}=this.getProps();if(!Eu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[n];l.set(t[n]-gt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Wn(c=>{const u=this.getAxisMotionValue(c);if(u){const f=u.get();o[c]=$A({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(c=>{if(!Eu(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(gt(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;WA.set(this.visualElement,this);const t=this.visualElement.current,n=Jr(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();zo(f)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const c=Kr(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Wn(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=f[m].translate,p.set(p.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Zm,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Eu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class YA extends Qs{constructor(t){super(t),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new HA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const S0=e=>(t,n)=>{e&&ot.update(()=>e(t,n))};class GA extends Qs{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(t){this.session=new Yj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:S0(t),onStart:S0(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&ot.update(()=>o(l,c))}}}mount(){this.removePointerDownListener=Jr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function KA(){const e=g.useContext(jd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=g.useId();return g.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Ku={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const n=N0(e,t.target.x),r=N0(e,t.target.y);return`${n}% ${r}%`}},XA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Ys.parse(e);if(o.length>5)return r;const l=Ys.createTransformer(e),c=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,f=n.y.scale*t.y;o[0+c]/=u,o[1+c]/=f;const h=gt(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};class JA extends fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=t;sE(QA),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ku.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||t.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ot.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function e1(e){const[t,n]=KA(),r=g.useContext(Bp);return fe.createElement(JA,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(Kb),isPresent:t,safeToRemove:n})}const QA={borderRadius:{...fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fl,borderTopRightRadius:fl,borderBottomLeftRadius:fl,borderBottomRightRadius:fl,boxShadow:XA},t1=["TopLeft","TopRight","BottomLeft","BottomRight"],ZA=t1.length,C0=e=>typeof e=="string"?parseFloat(e):e,k0=e=>typeof e=="number"||Me.test(e);function eD(e,t,n,r,o,l){o?(e.opacity=gt(0,n.opacity!==void 0?n.opacity:1,tD(r)),e.opacityExit=gt(t.opacity!==void 0?t.opacity:1,0,nD(r))):l&&(e.opacity=gt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<ZA;c++){const u=`border${t1[c]}Radius`;let f=P0(t,u),h=P0(n,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||k0(f)===k0(h)?(e[u]=Math.max(gt(C0(f),C0(h),r),0),(Pr.test(h)||Pr.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||n.rotate)&&(e.rotate=gt(t.rotate||0,n.rotate||0,r))}function P0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tD=n1(0,.5,Sj),nD=n1(.5,.95,bt);function n1(e,t,n){return r=>r<e?0:r>t?1:n(Ml(e,t,r))}function E0(e,t){e.min=t.min,e.max=t.max}function zn(e,t){E0(e.x,t.x),E0(e.y,t.y)}function T0(e,t,n,r,o){return e-=t,e=ad(e,1/n,r),o!==void 0&&(e=ad(e,1/o,r)),e}function rD(e,t=0,n=1,r=.5,o,l=e,c=e){if(Pr.test(t)&&(t=parseFloat(t),t=gt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=gt(l.min,l.max,r);e===l&&(u-=t),e.min=T0(e.min,t,n,u,o),e.max=T0(e.max,t,n,u,o)}function A0(e,t,[n,r,o],l,c){rD(e,t[n],t[r],t[o],t.scale,l,c)}const sD=["x","scaleX","originX"],iD=["y","scaleY","originY"];function D0(e,t,n,r){A0(e.x,t,sD,n?n.x:void 0,r?r.x:void 0),A0(e.y,t,iD,n?n.y:void 0,r?r.y:void 0)}function O0(e){return e.translate===0&&e.scale===1}function r1(e){return O0(e.x)&&O0(e.y)}function oD(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function s1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function R0(e){return Dn(e.x)/Dn(e.y)}class aD{constructor(){this.members=[]}add(t){nv(this.members,t),t.scheduleRender()}remove(t){if(rv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $0(e,t,n){let r="";const o=e.x.translate/t.x,l=e.y.translate/t.y;if((o||l)&&(r=`translate3d(${o}px, ${l}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:f,rotateX:h,rotateY:m}=n;f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const lD=(e,t)=>e.depth-t.depth;class cD{constructor(){this.children=[],this.isDirty=!1}add(t){nv(this.children,t),this.isDirty=!0}remove(t){rv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lD),this.isDirty=!1,this.children.forEach(t)}}function uD(e,t){const n=performance.now(),r=({timestamp:o})=>{const l=o-n;l>=t&&(es(r),e(l-t))};return ot.read(r,!0),()=>es(r)}function dD(e){window.MotionDebug&&window.MotionDebug.record(e)}function fD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function hD(e,t,n){const r=bn(e)?e:Qo(e);return r.start(tv("",r,t,n)),r.animation}const M0=["","X","Y","Z"],mD={visibility:"hidden"},I0=1e3;let pD=0;const Si={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function i1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},u=t==null?void 0:t()){this.id=pD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Si.totalNodes=Si.resolvedTargetDeltas=Si.recalculatedProjection=0,this.nodes.forEach(xD),this.nodes.forEach(_D),this.nodes.forEach(SD),this.nodes.forEach(yD),dD(Si)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new cD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fD(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),e){let p;const x=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=uD(x,250),Ku.hasAnimatedSinceResize&&(Ku.hasAnimatedSinceResize=!1,this.nodes.forEach(F0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:y,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||ED,{onLayoutAnimationStart:_,onLayoutAnimationComplete:N}=m.getProps(),C=!this.targetLayout||!s1(this.targetLayout,j)||y,k=!x&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const P={...ev(w,"layout"),onPlay:_,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else x||F0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ND),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L0);return}this.isUpdating||this.nodes.forEach(bD),this.isUpdating=!1,this.nodes.forEach(jD),this.nodes.forEach(vD),this.nodes.forEach(gD),this.clearAllSnapshots();const u=performance.now();en.delta=qs(0,1e3/60,u-en.timestamp),en.timestamp=u,en.isProcessing=!0,Kh.update.process(en),Kh.preRender.process(en),Kh.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(wD),this.sharedNodes.forEach(CD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!r1(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&(u||_i(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),TD(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return St();const u=c.measureViewportBox(),{scroll:f}=this.root;return f&&(Ls(u.x,f.offset.x),Ls(u.y,f.offset.y)),u}removeElementScroll(c){const u=St();zn(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:p}=h;if(h!==this.root&&m&&p.layoutScroll){if(m.isRoot){zn(u,c);const{scroll:x}=this.root;x&&(Ls(u.x,-x.offset.x),Ls(u.y,-x.offset.y))}Ls(u.x,m.offset.x),Ls(u.y,m.offset.y)}}return u}applyTransform(c,u=!1){const f=St();zn(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&qo(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),_i(m.latestValues)&&qo(f,m.latestValues)}return _i(this.latestValues)&&qo(f,this.latestValues),f}removeTransform(c){const u=St();zn(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!_i(h.latestValues))continue;ep(h.latestValues)&&h.updateSnapshot();const m=St(),p=h.measurePageBox();zn(m,p),D0(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return _i(this.latestValues)&&D0(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Cl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),Jj(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Cl(this.relativeTargetOrigin,this.target,y.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Si.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ep(this.parent.latestValues)||Xj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===en.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;zn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;UA(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:j}=u;if(!j){this.projectionTransform&&(this.projectionDelta=Ho(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho());const w=this.projectionTransform;Nl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=$0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==x||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Si.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},p=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=St(),y=f?f.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,_=this.getStack(),N=!_||_.members.length<=1,C=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(PD));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const E=P/1e3;U0(p.x,c.x,E),U0(p.y,c.y,E),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kD(this.relativeTarget,this.relativeTargetOrigin,x,E),k&&oD(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=St()),zn(k,this.relativeTarget)),w&&(this.animationValues=m,eD(m,h,this.latestValues,E,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Ku.hasAnimatedSinceResize=!0,this.currentAnimation=hD(0,I0,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&o1(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||St();const p=Dn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+p;const x=Dn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}zn(u,f),qo(u,m),Nl(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new aD),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<M0.length;m++){const p="rotate"+M0[m];f[p]&&(h[p]=f[p],c.setStaticValue(p,0))}c.render();for(const m in h)c.setStaticValue(m,h[m]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mD;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Gu(c==null?void 0:c.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Gu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_i(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=$0(this.projectionDeltaWithTransform,this.treeScale,x),m&&(h.transform=m(x,h.transform));const{x:y,y:j}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${j.origin*100}% 0`,p.animationValues?h.opacity=p===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in ed){if(x[w]===void 0)continue;const{correct:_,applyTo:N}=ed[w],C=h.transform==="none"?x[w]:_(x[w],p);if(N){const k=N.length;for(let P=0;P<k;P++)h[N[P]]=C}else h[w]=C}return this.options.layoutId&&(h.pointerEvents=p===this?Gu(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(L0),this.root.sharedNodes.clear()}}}function vD(e){e.updateLayout()}function gD(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:l}=e.options,c=n.source!==e.layout.source;l==="size"?Wn(p=>{const x=c?n.measuredBox[p]:n.layoutBox[p],y=Dn(x);x.min=r[p].min,x.max=x.min+y}):o1(l,n.layoutBox,r)&&Wn(p=>{const x=c?n.measuredBox[p]:n.layoutBox[p],y=Dn(r[p]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const u=Ho();Nl(u,r,n.layoutBox);const f=Ho();c?Nl(f,e.applyTransform(o,!0),n.measuredBox):Nl(f,r,n.layoutBox);const h=!r1(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const j=St();Cl(j,n.layoutBox,x.layoutBox);const w=St();Cl(w,r,y.layoutBox),s1(j,w)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xD(e){Si.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wD(e){e.clearSnapshot()}function L0(e){e.clearMeasurements()}function bD(e){e.isLayoutDirty=!1}function jD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function F0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _D(e){e.resolveTargetDelta()}function SD(e){e.calcProjection()}function ND(e){e.resetRotation()}function CD(e){e.removeLeadSnapshot()}function U0(e,t,n){e.translate=gt(t.translate,0,n),e.scale=gt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function B0(e,t,n,r){e.min=gt(t.min,n.min,r),e.max=gt(t.max,n.max,r)}function kD(e,t,n,r){B0(e.x,t.x,n.x,r),B0(e.y,t.y,n.y,r)}function PD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ED={duration:.45,ease:[.4,0,.1,1]},V0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),z0=V0("applewebkit/")&&!V0("chrome/")?Math.round:bt;function W0(e){e.min=z0(e.min),e.max=z0(e.max)}function TD(e){W0(e.x),W0(e.y)}function o1(e,t,n){return e==="position"||e==="preserve-aspect"&&!Qm(R0(t),R0(n),.2)}const AD=i1({attachResizeListener:(e,t)=>Kr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),om={current:void 0},a1=i1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!om.current){const e=new AD({});e.mount(window),e.setOptions({layoutScroll:!0}),om.current=e}return om.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),DD={pan:{Feature:GA},drag:{Feature:YA,ProjectionNode:a1,MeasureLayout:e1}},OD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function RD(e){const t=OD.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function np(e,t,n=1){const[r,o]=RD(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return zj(c)?parseFloat(c):c}else return Hm(o)?np(o,t,n+1):o}function $D(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const l=o.get();if(!Hm(l))return;const c=np(l,r);c&&o.set(c)});for(const o in t){const l=t[o];if(!Hm(l))continue;const c=np(l,r);c&&(t[o]=c,n||(n={}),n[o]===void 0&&(n[o]=l))}return{target:t,transitionEnd:n}}const MD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),l1=e=>MD.has(e),ID=e=>Object.keys(e).some(l1),H0=e=>e===Bi||e===Me,q0=(e,t)=>parseFloat(e.split(", ")[t]),Y0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return q0(o[1],t);{const l=r.match(/^matrix\((.+)\)$/);return l?q0(l[1],e):0}},LD=new Set(["x","y","z"]),FD=Jl.filter(e=>!LD.has(e));function UD(e){const t=[];return FD.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Zo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Y0(4,13),y:Y0(5,14)};Zo.translateX=Zo.x;Zo.translateY=Zo.y;const BD=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,l=getComputedStyle(o),{display:c}=l,u={};c==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(h=>{u[h]=Zo[h](r,l)}),t.render();const f=t.measureViewportBox();return n.forEach(h=>{const m=t.getValue(h);m&&m.jump(u[h]),e[h]=Zo[h](f,l)}),e},VD=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(l1);let l=[],c=!1;const u=[];if(o.forEach(f=>{const h=e.getValue(f);if(!e.hasValue(f))return;let m=n[f],p=dl(m);const x=t[f];let y;if(nd(x)){const j=x.length,w=x[0]===null?1:0;m=x[w],p=dl(m);for(let _=w;_<j&&x[_]!==null;_++)y?Kp(dl(x[_])===y):y=dl(x[_])}else y=dl(x);if(p!==y)if(H0(p)&&H0(y)){const j=h.get();typeof j=="string"&&h.set(parseFloat(j)),typeof x=="string"?t[f]=parseFloat(x):Array.isArray(x)&&y===Me&&(t[f]=x.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(m===0||x===0)?m===0?h.set(y.transform(m)):t[f]=p.transform(x):(c||(l=UD(e),c=!0),u.push(f),r[f]=r[f]!==void 0?r[f]:t[f],h.jump(x))}),u.length){const f=u.indexOf("height")>=0?window.pageYOffset:null,h=BD(t,e,u);return l.length&&l.forEach(([m,p])=>{e.getValue(m).set(p)}),e.render(),_d&&f!==null&&window.scrollTo({top:f}),{target:h,transitionEnd:r}}else return{target:t,transitionEnd:r}};function zD(e,t,n,r){return ID(t)?VD(e,t,n,r):{target:t,transitionEnd:r}}const WD=(e,t,n,r)=>{const o=$D(e,t,r);return t=o.target,r=o.transitionEnd,zD(e,t,n,r)},rp={current:null},c1={current:!1};function HD(){if(c1.current=!0,!!_d)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rp.current=e.matches;e.addListener(t),t()}else rp.current=!1}function qD(e,t,n){const{willChange:r}=t;for(const o in t){const l=t[o],c=n[o];if(bn(l))e.addValue(o,l),od(r)&&r.add(o);else if(bn(c))e.addValue(o,Qo(l,{owner:e})),od(r)&&r.remove(o);else if(c!==l)if(e.hasValue(o)){const u=e.getValue(o);!u.hasAnimated&&u.set(l)}else{const u=e.getStaticValue(o);e.addValue(o,Qo(u!==void 0?u:l,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const G0=new WeakMap,u1=Object.keys($l),YD=u1.length,K0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GD=Up.length;class KD{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:u,renderState:f}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=Nd(n),this.isVariantNode=Gb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{});for(const p in m){const x=m[p];u[p]!==void 0&&bn(x)&&(x.set(u[p],!1),od(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,G0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),c1.current||HD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G0.delete(this.current),this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ui.has(t),o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),l()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,l){let c,u;for(let f=0;f<YD;f++){const h=u1[f],{isEnabled:m,Feature:p,ProjectionNode:x,MeasureLayout:y}=$l[h];x&&(c=x),m(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(u=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:h,drag:m,dragConstraints:p,layoutScroll:x,layoutRoot:y}=n;this.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:!!m||p&&zo(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:l,layoutScroll:x,layoutRoot:y})}return u}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<K0.length;r++){const o=K0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=t["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=qD(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<GD;r++){const o=Up[r],l=this.props[o];(Rl(l)||l===!1)&&(n[o]=l)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Qo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Gp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!bn(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class d1 extends KD{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},l){let c=fA(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),c&&(c=o(c))),l){uA(this,r,c);const u=WD(this,r,c,n);n=u.transitionEnd,r=u.target}return{transition:t,transitionEnd:n,...r}}}function XD(e){return window.getComputedStyle(e)}class JD extends d1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ui.has(n)){const r=Zp(n);return r&&r.default||0}else{const r=XD(t),o=(Qb(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Qj(t,n)}build(t,n,r,o){zp(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Yp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){sj(t,n,r,o)}}class QD extends d1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ui.has(n)){const r=Zp(n);return r&&r.default||0}return n=ij.has(n)?n:Lp(n),t.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(t,n){return aj(t,n)}build(t,n,r,o){Hp(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){oj(t,n,r,o)}mount(t){this.isSVGTag=qp(t.tagName),super.mount(t)}}const ZD=(e,t)=>Vp(e)?new QD(t,{enableHardwareAcceleration:!1}):new JD(t,{enableHardwareAcceleration:!0}),e4={layout:{ProjectionNode:a1,MeasureLayout:e1}},t4={...kA,...YE,...DD,...e4},be=nE((e,t)=>RE(e,t,t4,ZD));function f1(){const e=g.useRef(!1);return Ip(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function n4(){const e=f1(),[t,n]=g.useState(0),r=g.useCallback(()=>{e.current&&n(t+1)},[t]);return[g.useCallback(()=>ot.postRender(r),[r]),t]}class r4 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function s4({children:e,isPresent:t}){const n=g.useId(),r=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f}=o.current;if(t||!r.current||!l||!c)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),g.createElement(r4,{isPresent:t,childRef:r,sizeRef:o},g.cloneElement(e,{ref:r}))}const am=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:l,mode:c})=>{const u=lj(i4),f=g.useId(),h=g.useMemo(()=>({id:f,initial:t,isPresent:n,custom:o,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),l?void 0:[n]);return g.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[n]),g.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),c==="popLayout"&&(e=g.createElement(s4,{isPresent:n},e)),g.createElement(jd.Provider,{value:h},e)};function i4(){return new Map}function o4(e){return g.useEffect(()=>()=>e(),[])}const Ni=e=>e.key||"";function a4(e,t){e.forEach(n=>{const r=Ni(n);t.set(r,n)})}function l4(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const Il=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:c="sync"})=>{const u=g.useContext(Bp).forceRender||n4()[0],f=f1(),h=l4(e);let m=h;const p=g.useRef(new Map).current,x=g.useRef(m),y=g.useRef(new Map).current,j=g.useRef(!0);if(Ip(()=>{j.current=!1,a4(h,y),x.current=m}),o4(()=>{j.current=!0,y.clear(),p.clear()}),j.current)return g.createElement(g.Fragment,null,m.map(C=>g.createElement(am,{key:Ni(C),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:l,mode:c},C)));m=[...m];const w=x.current.map(Ni),_=h.map(Ni),N=w.length;for(let C=0;C<N;C++){const k=w[C];_.indexOf(k)===-1&&!p.has(k)&&p.set(k,void 0)}return c==="wait"&&p.size&&(m=[]),p.forEach((C,k)=>{if(_.indexOf(k)!==-1)return;const P=y.get(k);if(!P)return;const E=w.indexOf(k);let D=C;if(!D){const O=()=>{p.delete(k);const A=Array.from(y.keys()).filter(R=>!_.includes(R));if(A.forEach(R=>y.delete(R)),x.current=h.filter(R=>{const z=Ni(R);return z===k||A.includes(z)}),!p.size){if(f.current===!1)return;u(),r&&r()}};D=g.createElement(am,{key:Ni(P),isPresent:!1,onExitComplete:O,custom:t,presenceAffectsLayout:l,mode:c},P),p.set(k,D)}m.splice(E,0,D)}),m=m.map(C=>{const k=C.key;return p.has(k)?C:g.createElement(am,{key:Ni(C),isPresent:!0,presenceAffectsLayout:l,mode:c},C)}),g.createElement(g.Fragment,null,p.size?m:m.map(C=>g.cloneElement(C)))},c4=e=>{localStorage.setItem("groceroo-cart",JSON.stringify(e))},u4=()=>{const e=localStorage.getItem("groceroo-cart");return e?JSON.parse(e):[]},d4=1;let lm=0;function f4(){return lm=(lm+1)%Number.MAX_VALUE,lm.toString()}const ln={state:{toasts:[]},listeners:[],getState:()=>ln.state,setState:e=>{typeof e=="function"?ln.state=e(ln.state):ln.state={...ln.state,...e},ln.listeners.forEach(t=>t(ln.state))},subscribe:e=>(ln.listeners.push(e),()=>{ln.listeners=ln.listeners.filter(t=>t!==e)})},te=({...e})=>{const t=f4(),n=o=>ln.setState(l=>({...l,toasts:l.toasts.map(c=>c.id===t?{...c,...o}:c)})),r=()=>ln.setState(o=>({...o,toasts:o.toasts.filter(l=>l.id!==t)}));return ln.setState(o=>({...o,toasts:[{...e,id:t,dismiss:r},...o.toasts].slice(0,d4)})),{id:t,dismiss:r,update:n}};function h4(){const[e,t]=g.useState(ln.getState());return g.useEffect(()=>ln.subscribe(r=>{t(r)}),[]),g.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const o=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(o)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:te,toasts:e.toasts}}const h1=g.createContext(),is=()=>{const e=g.useContext(h1);if(!e)throw new Error("useCart must be used within a CartProvider");return e},m4=({children:e})=>{const[t,n]=g.useState([]),[r,o]=g.useState(!1);g.useEffect(()=>{const j=u4();j&&j.length>0&&n(j)},[]),g.useEffect(()=>{c4(t)},[t]);const l=()=>o(!0),c=()=>o(!1),u=()=>o(!r),f=(j,w=1)=>{n(_=>{if(_.find(C=>C.id===j.id)){const C=_.map(k=>k.id===j.id?{...k,quantity:k.quantity+w}:k);return te({title:"Item updated",description:`${j.name} quantity updated in your cart.`,duration:2e3,action:"view-cart"}),C}else return te({title:"Item added",description:`${j.name} added to your cart.`,duration:2e3,action:"view-cart"}),[..._,{...j,quantity:w}]})},h=j=>{n(w=>{const _=w.find(N=>N.id===j);return _&&te({title:"Item removed",description:`${_.name} removed from your cart.`,duration:2e3,action:"view-cart"}),w.filter(N=>N.id!==j)})},m=(j,w)=>{if(w<=0){h(j);return}n(_=>_.map(N=>N.id===j?{...N,quantity:w}:N))},p=()=>{n([]),te({title:"Cart cleared",description:"All items have been removed from your cart.",duration:2e3,action:"view-cart"})},x=()=>t.reduce((j,w)=>j+w.price*w.quantity,0),y=()=>t.reduce((j,w)=>j+w.quantity,0);return s.jsx(h1.Provider,{value:{cart:t,isCartOpen:r,openCart:l,closeCart:c,toggleCart:u,addToCart:f,removeFromCart:h,updateQuantity:m,clearCart:p,getCartTotal:x,getCartCount:y},children:e})},p4="modulepreload",v4=function(e){return"/"+e},X0={},ea=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(n.map(h=>{if(h=v4(h),h in X0)return;X0[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":p4,m||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),m)return new Promise((y,j)=>{x.addEventListener("load",y),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})},g4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ea(async()=>{const{default:r}=await Promise.resolve().then(()=>ha);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class iv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class x4 extends iv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class y4 extends iv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w4 extends iv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sp||(sp={}));var b4=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};class j4{constructor(t,{headers:n={},customFetch:r,region:o=sp.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=g4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return b4(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:c}=n;let u={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(u["x-region"]=f);let h;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(u["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(u["Content-Type"]="application/json",h=JSON.stringify(c)));const m=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h}).catch(j=>{throw new x4(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new y4(m);if(!m.ok)throw new w4(m);let x=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null}}catch(o){return{data:null,error:o}}})}}var It={},Po={},Eo={},To={},Ao={},Do={},_4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ta=_4();const S4=ta.fetch,m1=ta.fetch.bind(ta),p1=ta.Headers,N4=ta.Request,C4=ta.Response,ha=Object.freeze(Object.defineProperty({__proto__:null,Headers:p1,Request:N4,Response:C4,default:m1,fetch:S4},Symbol.toStringTag,{value:"Module"})),k4=Mk(ha);var Tu={},J0;function v1(){if(J0)return Tu;J0=1,Object.defineProperty(Tu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Tu.default=e,Tu}var Q0;function g1(){if(Q0)return Do;Q0=1;var e=Do&&Do.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Do,"__esModule",{value:!0});const t=e(k4),n=e(v1());class r{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,p,x;let y=null,j=null,w=null,_=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const E=await h.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=E:j=JSON.parse(E))}const k=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(y={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,_=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const k=await h.text();try{y=JSON.parse(k),Array.isArray(y)&&h.status===404&&(j=[],y=null,_=200,N="OK")}catch{h.status===404&&k===""?(_=204,N="No Content"):y={message:k}}if(y&&this.isMaybeSingle&&(!((x=y==null?void 0:y.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,_=200,N="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:j,count:w,status:_,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,p,x;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=h==null?void 0:h.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return Do.default=r,Do}var Z0;function x1(){if(Z0)return Ao;Z0=1;var e=Ao&&Ao.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ao,"__esModule",{value:!0});const t=e(g1());class n extends t.default{select(o){let l=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const p=[o?"analyze":null,l?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${p};`,h==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ao.default=n,Ao}var ew;function ov(){if(ew)return To;ew=1;var e=To&&To.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(To,"__esModule",{value:!0});const t=e(x1());class n extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return To.default=n,To}var tw;function y1(){if(tw)return Eo;tw=1;var e=Eo&&Eo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Eo,"__esModule",{value:!0});const t=e(ov());class n{constructor(o,{headers:l={},schema:c,fetch:u}){this.url=o,this.headers=l,this.schema=c,this.fetch=u}select(o,{head:l=!1,count:c}={}){const u=l?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:l,defaultToNull:c=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const h=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){const h="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(p.length>0){const x=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:l}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const l="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Eo.default=n,Eo}var hl={},ml={},nw;function P4(){return nw||(nw=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.version=void 0,ml.version="0.0.0-automated"),ml}var rw;function E4(){if(rw)return hl;rw=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.DEFAULT_HEADERS=void 0;const e=P4();return hl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},hl}var sw;function T4(){if(sw)return Po;sw=1;var e=Po&&Po.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Po,"__esModule",{value:!0});const t=e(y1()),n=e(ov()),r=E4();class o{constructor(c,{headers:u={},schema:f,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:h=!1,count:m}={}){let p;const x=new URL(`${this.url}/rpc/${c}`);let y;f||h?(p=f?"HEAD":"GET",Object.entries(u).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{x.searchParams.append(w,_)})):(p="POST",y=u);const j=Object.assign({},this.headers);return m&&(j.Prefer=`count=${m}`),new n.default({method:p,url:x,headers:j,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Po.default=o,Po}var iw;function A4(){if(iw)return It;iw=1;var e=It&&It.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const t=e(T4());It.PostgrestClient=t.default;const n=e(y1());It.PostgrestQueryBuilder=n.default;const r=e(ov());It.PostgrestFilterBuilder=r.default;const o=e(x1());It.PostgrestTransformBuilder=o.default;const l=e(g1());It.PostgrestBuilder=l.default;const c=e(v1());return It.PostgrestError=c.default,It.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},It}var D4=A4();const O4=Kl(D4),{PostgrestClient:R4,PostgrestQueryBuilder:c9,PostgrestFilterBuilder:u9,PostgrestTransformBuilder:d9,PostgrestBuilder:f9,PostgrestError:h9}=O4,$4="2.11.2",M4={"X-Client-Info":`realtime-js/${$4}`},I4="1.0.0",w1=1e4,L4=1e3;var Go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Go||(Go={}));var En;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(En||(En={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var ip;(function(e){e.websocket="websocket"})(ip||(ip={}));var Pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pi||(Pi={}));class F4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const u=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+l));c=c+l;const h=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class b1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const ow=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((l,c)=>(l[c]=U4(c,e,t,o),l),{})},U4=(e,t,n,r)=>{const o=t.find(u=>u.name===e),l=o==null?void 0:o.type,c=n[e];return l&&!r.includes(l)?j1(l,c):op(c)},j1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return W4(t,n)}switch(e){case st.bool:return B4(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return V4(t);case st.json:case st.jsonb:return z4(t);case st.timestamp:return H4(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return op(t);default:return op(t)}},op=e=>e,B4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},V4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},W4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let l;const c=e.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>j1(t,u))}return e},H4=e=>typeof e=="string"?e.replace(" ","T"):e,_1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class cm{constructor(t,n,r={},o=w1){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aw||(aw={}));class kl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=kl.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=kl.syncDiff(this.state,o,l,c),u())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const l=this.cloneDeep(t),c=this.transformState(n),u={},f={};return this.map(l,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const p=l[h];if(p){const x=m.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),j=m.filter(_=>y.indexOf(_.presence_ref)<0),w=p.filter(_=>x.indexOf(_.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(l,{joins:u,leaves:f},r,o)}static syncDiff(t,n,r,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const p=t[u].map(y=>y.presence_ref),x=m.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...x)}r(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[u]=h,o(u,h,f),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lw||(lw={}));var cw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cw||(cw={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class av{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,or.join,this.params,this.timeout),this.rejoinTimer=new b1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new kl(this),this.broadcastEndpointURL=_1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(m=>t==null?void 0:t(Yr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED));const f={},h={broadcast:l,presence:c,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,j=[];for(let w=0;w<y;w++){const _=x[w],{filter:{event:N,schema:C,table:k,filter:P}}=_,E=m&&m[w];if(E&&E.event===N&&E.schema===C&&E.table===k&&E.filter===P)j.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Yr.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=En.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new cm(this,or.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cm(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,l;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=or;if(r&&[u,f,h,m].indexOf(c)>=0&&r!==this._joinRef())return;let x=this._onMessage(c,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var j,w,_;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(y=>y.callback(x,r)):(l=this.bindings[c])===null||l===void 0||l.filter(y=>{var j,w,_,N,C,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const P=y.id,E=(j=y.filter)===null||j===void 0?void 0:j.event;return P&&((w=n.ids)===null||w===void 0?void 0:w.includes(P))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:w,table:_,commit_timestamp:N,type:C,errors:k}=j;x=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(j))}y.callback(x,r)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),l={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&av.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ow(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ow(t.columns,t.old_record)),n}}const q4=()=>{},Y4=typeof WebSocket<"u",G4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K4{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=M4,this.params={},this.timeout=w1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=q4,this.conn=null,this.sendBuffer=[],this.serializer=new F4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>ea(async()=>{const{default:f}=await Promise.resolve().then(()=>ha);return{default:f}},void 0).then(({default:f})=>f(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${t}/${ip.websocket}`,this.httpEndpoint=_1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,c)=>c(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new b1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Y4){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new X4(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ea(async()=>{const{default:t}=await import("./browser-CJIO6SNT.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:I4}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Go.connecting:return Pi.Connecting;case Go.open:return Pi.Open;case Go.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}channel(t,n={config:{}}){const r=new av(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:o,ref:l}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(or.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(L4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:l,ref:c}=n;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${r} ${o} ${c&&"("+c+")"||""}`,l),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([G4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class X4{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Go.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class lv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class J4 extends lv{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ap extends lv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Q4=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};const S1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ea(async()=>{const{default:r}=await Promise.resolve().then(()=>ha);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Z4=()=>Q4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ea(()=>Promise.resolve().then(()=>ha),void 0)).Response:Response}),lp=e=>{if(Array.isArray(e))return e.map(n=>lp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=lp(r)}),t};var Vi=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};const um=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eO=(e,t,n)=>Vi(void 0,void 0,void 0,function*(){const r=yield Z4();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new J4(um(o),e.status||500))}).catch(o=>{t(new ap(um(o),o))}):t(new ap(um(e),e))}),tO=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function tc(e,t,n,r,o,l){return Vi(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(n,tO(t,r,o,l)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>eO(f,u,r))})})}function ld(e,t,n,r){return Vi(this,void 0,void 0,function*(){return tc(e,"GET",t,n,r)})}function Fs(e,t,n,r,o){return Vi(this,void 0,void 0,function*(){return tc(e,"POST",t,r,o,n)})}function nO(e,t,n,r,o){return Vi(this,void 0,void 0,function*(){return tc(e,"PUT",t,r,o,n)})}function rO(e,t,n,r){return Vi(this,void 0,void 0,function*(){return tc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function N1(e,t,n,r,o){return Vi(this,void 0,void 0,function*(){return tc(e,"DELETE",t,r,o,n)})}var xn=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};const sO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iO{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=S1(o)}uploadOrUpdate(t,n,r,o){return xn(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},uw),o);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield p.json();return p.ok?{data:{path:h,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(l){if(Lt(l))return{data:null,error:l};throw l}})}upload(t,n,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return xn(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:uw.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:m}),x=yield p.json();return p.ok?{data:{path:l,fullPath:x.Key},error:null}:{data:null,error:x}}catch(f){if(Lt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return xn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const l=yield Fs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new lv("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return xn(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}copy(t,n,r){return xn(this,void 0,void 0,function*(){try{return{data:{path:(yield Fs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return xn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),l=yield Fs(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return xn(this,void 0,void 0,function*(){try{const o=yield Fs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}download(t,n){return xn(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield ld(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Lt(u))return{data:null,error:u};throw u}})}info(t){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ld(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:lp(r),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}exists(t){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield rO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Lt(r)&&r instanceof ap){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(t){return xn(this,void 0,void 0,function*(){try{return{data:yield N1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return xn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},sO),n),{prefix:t||""});return{data:yield Fs(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const oO="2.7.1",aO={"X-Client-Info":`storage-js/${oO}`};var Oo=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};class lO{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},aO),n),this.fetch=S1(r)}listBuckets(){return Oo(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Oo(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Oo(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Oo(this,void 0,void 0,function*(){try{return{data:yield nO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Oo(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Oo(this,void 0,void 0,function*(){try{return{data:yield N1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}}class cO extends lO{constructor(t,n={},r){super(t,n,r)}from(t){return new iO(this.url,this.headers,t,this.fetch)}}const uO="2.49.4";let jl="";typeof Deno<"u"?jl="deno":typeof document<"u"?jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jl="react-native":jl="node";const dO={"X-Client-Info":`supabase-js-${jl}/${uO}`},fO={headers:dO},hO={schema:"public"},mO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pO={};var vO=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};const gO=e=>{let t;return e?t=e:typeof fetch>"u"?t=m1:t=fetch,(...n)=>t(...n)},xO=()=>typeof Headers>"u"?p1:Headers,yO=(e,t,n)=>{const r=gO(n),o=xO();return(l,c)=>vO(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(l,Object.assign(Object.assign({},c),{headers:h}))})};var wO=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};function bO(e){return e.replace(/\/$/,"")}function jO(e,t){const{db:n,auth:r,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},h),l),accessToken:()=>wO(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const C1="2.69.1",Vo=30*1e3,cp=3,dm=cp*Vo,_O="http://localhost:9999",SO="supabase.auth.token",NO={"X-Client-Info":`gotrue-js/${C1}`},up="X-Supabase-Api-Version",k1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kO=6e5;class cv extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PO extends cv{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function EO(e){return Ve(e)&&e.name==="AuthApiError"}class P1 extends cv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Zs extends cv{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class Rs extends Zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TO(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class fm extends Zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends Zs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Du extends Zs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AO(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class dw extends Zs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dp extends Zs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hm(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class fw extends Zs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Pl extends Zs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mw=` 	
\r=`.split(""),DO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mw.length;t+=1)e[mw[t].charCodeAt(0)]=-2;for(let t=0;t<hw.length;t+=1)e[hw[t].charCodeAt(0)]=t;return e})();function E1(e,t,n){const r=DO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pw(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{$O(c,r,n)};for(let c=0;c<e.length;c+=1)E1(e.charCodeAt(c),o,l);return t.join("")}function OO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}OO(r,t)}}function $O(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function MO(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)E1(e.charCodeAt(o),n,r);return new Uint8Array(t)}function IO(e){const t=[];return RO(e,n=>t.push(n)),new Uint8Array(t)}function LO(e){return Math.round(Date.now()/1e3)+e}function FO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sr=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},El=()=>{if(!Sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function UO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const T1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ea(async()=>{const{default:r}=await Promise.resolve().then(()=>ha);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},BO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",A1=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ou=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ru=async(e,t)=>{await e.removeItem(t)};class Ed{constructor(){this.promise=new Ed.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ed.promiseConstructor=Promise;function mm(e){const t=e.split(".");if(t.length!==3)throw new Pl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!CO.test(t[r]))throw new Pl("JWT not in base64url format");return{header:JSON.parse(pw(t[0])),payload:JSON.parse(pw(t[1])),signature:MO(t[2]),raw:{header:t[0],payload:t[1]}}}async function VO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zO(e,t){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){r(c);return}}catch(c){if(!t(l,c)){o(c);return}}})()})}function WO(e){return("0"+e.toString(16)).substr(-2)}function HO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,WO).join("")}async function qO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function YO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await qO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ro(e,t,n=!1){const r=HO();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await A1(e,`${t}-code-verifier`,o);const l=await YO(r);return[l,r===l?"plain":"s256"]}const GO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KO(e){const t=e.headers.get(up);if(!t||!t.match(GO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var QO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ci=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZO=[502,503,504];async function vw(e){var t;if(!BO(e))throw new dp(Ci(e),0);if(ZO.includes(e.status))throw new dp(Ci(e),e.status);let n;try{n=await e.json()}catch(l){throw new P1(Ci(l),l)}let r;const o=KO(e);if(o&&o.getTime()>=k1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new fw(Ci(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new fw(Ci(n),e.status,n.weak_password.reasons);throw new PO(Ci(n),e.status||500,r)}const eR=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Ge(e,t,n,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[up]||(l[up]=k1["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await tR(e,t,n+u,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function tR(e,t,n,r,o,l){const c=eR(t,r,o,l);let u;try{u=await e(n,Object.assign({},c))}catch(f){throw console.error(f),new dp(Ci(f),0)}if(u.ok||await vw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await vw(f)}}function $s(e){var t;let n=null;iR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=LO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function gw(e){const t=$s(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nR(e){return{data:e,error:null}}function rR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l}=e,c=QO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function sR(e){return e}function iR(e){return e.access_token&&e.refresh_token&&e.expires_in}var oR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class aR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=T1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Us})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=oR(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:rR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Us})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,l,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:sR});if(m.error)throw m.error;const p=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ve(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Us})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Us})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Us})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}const lR={getItem:e=>El()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{El()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{El()&&globalThis.localStorage.removeItem(e)}};function xw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function cR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $o={debug:!!(globalThis&&El()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uR extends D1{}async function dR(e,t,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($o.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}cR();const fR={url:_O,storageKey:SO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yw(e,t,n){return await n()}class Ll{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ll.nextInstanceID,Ll.nextInstanceID+=1,this.instanceID>0&&Sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},fR),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new aR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=T1(o.fetch),this.lock=o.lock||yw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Sr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dR:this.lock=yw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:El()?this.storage=lR:(this.memoryStorage={},this.storage=xw(this.memoryStorage)):(this.memoryStorage={},this.storage=xw(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${C1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=UO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Sr()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),AO(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?{error:n}:{error:new P1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const l=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:$s}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Ve(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,r,o;try{let l;if("email"in t){const{email:m,password:p,options:x}=t;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await Ro(this.storage,this.storageKey)),l=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:j},xform:$s})}else if("phone"in t){const{phone:m,password:p,options:x}=t;l=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:$s})}else throw new Au("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Ve(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:c,options:u}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:gw})}else if("phone"in t){const{phone:l,password:c,options:u}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:gw})}else throw new Au("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ou(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:l,error:c}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$s});if(await Ru(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new fm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Ve(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:l,nonce:c}=t,u=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$s}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new fm}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,l,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Ro(this.storage,this.storageKey));const{error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Au("You must provide either an email or phone number.")}catch(u){if(Ve(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let o,l;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:$s});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Ro(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:nR})}catch(l){if(Ve(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Rs;const{error:o}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:l}=t,{error:c}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:r,type:o,options:l}=t,{data:c,error:u}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Au("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ou(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<dm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:t},error:null}}const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Us}):await this._useSession(async n=>{var r,o,l;const{data:c,error:u}=n;if(u)throw u;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rs}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Us})})}catch(n){if(Ve(n))return TO(n)&&(await this._removeSession(),await Ru(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new Rs;const c=o.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Ro(this.storage,this.storageKey));const{data:h,error:m}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:Us});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rs;const n=Date.now()/1e3;let r=n,o=!0,l=null;const{payload:c}=mm(t.access_token);if(c.exp&&(r=c.exp,o=r<=n),o){const{session:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:u}=n;if(u)throw u;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Rs;const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Sr())throw new Du("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Du(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Du("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dw("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!l||!u||!c||!h)throw new Du("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let x=m+p;f&&(x=parseInt(f));const y=x-m;y*1e3<=Vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const j=x-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,m);const{data:w,error:_}=await this._getUser(l);if(_)throw _;const N={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:p,expires_at:x,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(Ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ou(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return{error:l};const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(EO(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Ru(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=FO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ro(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Ve(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async l=>{var c,u,f,h,m;const{data:p,error:x}=l;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Sr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:l,error:c}=n;if(c)throw c;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zO(async o=>(o>0&&await VO(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$s})),(o,l)=>{const c=200*Math.pow(2,o);return l&&hm(l)&&Date.now()+c-r<Vo})}catch(r){if(this._debug(n,"error",r),Ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Sr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ou(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dm;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${dm}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),hm(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ed;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Rs;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(o,"error",l),Ve(l)){const c={session:null,error:l};return hm(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await A1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ru(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vo}ms, refresh threshold is ${cp} ticks`),o<=cp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ro(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;return l?{data:null,error:l}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:l,error:c}=n;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;return l?{data:null,error:l}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:l}=t;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=mm(o.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r||(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+kO>Date.now()))return r;const{data:o,error:l}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new Pl("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(c=>c.kid===t),!r)throw new Pl("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:y,error:j}=await this.getSession();if(j||!y.session)return{data:null,error:j};r=y.session.access_token}const{header:o,payload:l,signature:c,raw:{header:u,payload:f}}=mm(r);if(XO(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:l,header:o,signature:c},error:null}}const h=JO(o.alg),m=await this.fetchJwk(o.kid,n),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,c,IO(`${u}.${f}`)))throw new Pl("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}Ll.nextInstanceID=0;const hR=Ll;class mR extends hR{constructor(t){super(t)}}var pR=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(m){try{h(r.next(m))}catch(p){c(p)}}function f(m){try{h(r.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})};class vR{constructor(t,n,r){var o,l,c;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=bO(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:hO,realtime:pO,auth:Object.assign(Object.assign({},mO),{storageKey:f}),global:fO},m=jO(r??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=yO(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new R4(`${u}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new j4(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return pR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:l,flowType:c,lock:u,debug:f},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mR({url:this.authUrl,headers:Object.assign(Object.assign({},p),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:c,lock:u,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new K4(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gR=(e,t,n)=>new vR(e,t,n),xR="https://bcbxcnxutotjzmdjeyde.supabase.co",yR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY",ae=gR(xR,yR),O1=g.createContext(),uv=()=>{const e=g.useContext(O1);if(!e)throw new Error("useOrders must be used within an OrderProvider");return e},wR=({children:e})=>{const[t,n]=g.useState([]),r=async u=>{try{const{data:f,error:h}=await ae.from("orders").insert({user_id:u.user_id||null,customer_name:u.customer_name,customer_email:u.customer_email,customer_phone:u.customer_phone,customer_address:u.customer_address,customer_postcode:u.customer_postcode,delivery_notes:u.delivery_notes,total:u.total,status:"processing",delivery_type:u.delivery_type,scheduled_delivery_time:u.scheduled_delivery_time,delivery_fee:u.delivery_fee,items:u.items,payment_data:u.payment_data,fees_data:u.fees_data||null}).select().single();if(h)throw h;return te({title:"Order Created",description:"Your order has been successfully placed."}),f}catch(f){throw console.error("Error creating order:",f),te({variant:"destructive",title:"Error",description:"Failed to create order. Please try again."}),f}},o=async(u,f)=>{try{const{error:h}=await ae.from("orders").update({status:f}).eq("id",u);if(h)throw h;te({title:"Order Updated",description:`Order status changed to ${f}.`})}catch(h){console.error("Error updating order status:",h),te({variant:"destructive",title:"Error",description:"Failed to update order status."})}},l=async u=>{try{const{data:f,error:h}=await ae.from("orders").select("*").eq("id",u).single();if(h)throw h;return f}catch(f){return console.error("Error fetching order:",f),null}},c=async u=>{try{let f=ae.from("orders").select("*");u&&(f=f.eq("status",u));const{data:h,error:m}=await f;if(m)throw m;return h}catch(f){return console.error("Error fetching orders:",f),[]}};return s.jsx(O1.Provider,{value:{orders:t,addOrder:r,updateOrderStatus:o,getOrderById:l,getOrdersByStatus:c},children:e})},R1=g.createContext(),un=()=>{const e=g.useContext(R1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},bR=({children:e})=>{const[t,n]=g.useState(null),[r,o]=g.useState(null),[l,c]=g.useState(!1),[u,f]=g.useState(!0),h=g.useCallback(async w=>{if(!w)return o(null),c(!1),null;try{const{data:_,error:N,status:C}=await ae.from("profiles").select("name, phone, address, is_admin, addresses").eq("id",w).single();if(N&&C!==406)throw console.error("Error fetching user profile (status not 406):",N.message),N;if(N&&C===406)return console.warn("Profile not found or no permission (406), this might be expected for new users before profile creation or RLS issues."),o(null),c(!1),null;if(_){console.log(_);const k=_.phone;return _.phone=k.startsWith("61")?`0${k.replace(/^61/,"")}`:k,o(_),c(_.is_admin===!0),_}else return o(null),c(!1),null}catch(_){return console.error("Error fetching user profile (catch block):",_.message),_.message!=="JSON object requested, multiple (or no) rows returned"&&te({variant:"destructive",title:"Profile Error",description:"Could not load user profile. "+_.message}),o(null),c(!1),null}},[]);g.useEffect(()=>{let w=!0;const _=async k=>{if(w){if(console.log("Handling auth state change:",k),k!=null&&k.user){n(k.user);const P=await h(k.user.id);c((P==null?void 0:P.is_admin)===!0)}else n(null),o(null),c(!1);f(!1)}},{data:{subscription:N}}=ae.auth.onAuthStateChange((k,P)=>{_(P)});return(async()=>{const{data:{session:k},error:P}=await ae.auth.getSession();w&&(P?(console.error("Error fetching initial session:",P),te({variant:"destructive",title:"Auth Error",description:"Could not fetch initial session."}),n(null),o(null),c(!1),f(!1)):_(k))})(),()=>{w=!1,N==null||N.unsubscribe()}},[h]);const m=async(w,_)=>{f(!0);const{data:N,error:C}=await ae.auth.signInWithPassword({email:w,password:_});if(C)return console.error("Login error:",C),te({variant:"destructive",title:"Login Failed",description:C.message}),f(!1),{success:!1,isAdminUser:!1,error:C.message};const k=await h(N.user.id);return{success:!0,isAdminUser:(k==null?void 0:k.is_admin)===!0}},p=async(w,_,N,C)=>{f(!0);const{data:k,error:P}=await ae.auth.signUp({email:w,password:_,options:{data:{name:N}}});if(P)return console.error("Registration error:",P),te({variant:"destructive",title:"Registration Failed",description:P.message}),f(!1),!1;if(k.user&&C){await new Promise(D=>setTimeout(D,1e3));const{error:E}=await ae.from("profiles").update({phone:C,updated_at:new Date}).eq("id",k.user.id);E&&(console.error("Error updating phone during registration:",E),te({variant:"destructive",title:"Profile Update Issue",description:"Could not save phone number: "+E.message}))}return te({title:"Registration Successful",description:"Please check your email to confirm your account."}),!0},x=async()=>{f(!0);const{error:w}=await ae.auth.signOut();w?(console.error("Logout error:",w),te({variant:"destructive",title:"Logout Failed",description:w.message}),f(!1)):te({title:"Logged Out",description:"You have been successfully logged out."})},y=async w=>{if(!t)return;f(!0);const{data:_,error:N}=await ae.from("profiles").update({name:w.name,phone:w.phone,address:w.address,addresses:w.addresses,updated_at:new Date}).eq("id",t.id).select().single();N?(console.error("Profile update error:",N),te({variant:"destructive",title:"Update Failed",description:N.message})):_&&(o(_),c(_.is_admin===!0),te({title:"Profile Updated",description:"Your information has been updated."})),f(!1)},j=t&&r?{...t,...r,email:t.email}:t;return s.jsx(R1.Provider,{value:{user:j,session:ae.auth.getSession(),isAdmin:l,loading:u,login:m,register:p,logout:x,updateUserInfo:y},children:e})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_R=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ww=e=>{const t=_R(e);return t.charAt(0).toUpperCase()+t.slice(1)},$1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),SR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...u},f)=>g.createElement("svg",{ref:f,...NR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$1("lucide",o),...!l&&!SR(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>g.createElement(h,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=g.forwardRef(({className:r,...o},l)=>g.createElement(CR,{ref:l,iconNode:t,className:$1(`lucide-${jR(ww(e))}`,`lucide-${e}`,r),...o}));return n.displayName=ww(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],PR=Se("apple",kR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],na=Se("arrow-left",ER);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fp=Se("arrow-right",TR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]],DR=Se("beef",AR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],RR=Se("bot",OR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tr=Se("calendar",$R);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],IR=Se("camera",MR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M10 7v10.9",key:"1gynux"}],["path",{d:"M14 6.1V17",key:"116kdf"}],["path",{d:"M16 7V3a1 1 0 0 1 1.707-.707 2.5 2.5 0 0 0 2.152.717 1 1 0 0 1 1.131 1.131 2.5 2.5 0 0 0 .717 2.152A1 1 0 0 1 21 8h-4",key:"gpb6xx"}],["path",{d:"M16.536 7.465a5 5 0 0 0-7.072 0l-2 2a5 5 0 0 0 0 7.07 5 5 0 0 0 7.072 0l2-2a5 5 0 0 0 0-7.07",key:"1tsln4"}],["path",{d:"M8 17v4a1 1 0 0 1-1.707.707 2.5 2.5 0 0 0-2.152-.717 1 1 0 0 1-1.131-1.131 2.5 2.5 0 0 0-.717-2.152A1 1 0 0 1 3 16h4",key:"qexcha"}]],FR=Se("candy",LR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],M1=Se("check",UR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I1=Se("chevron-down",BR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zR=Se("chevron-left",VR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HR=Se("chevron-right",WR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],YR=Se("chevron-up",qR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fl=Se("circle-check-big",GR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],nc=Se("circle-plus",KR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JR=Se("circle-x",XR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZR=Se("circle",QR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ur=Se("clock",e$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],L1=Se("cloud-upload",t$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],r$=Se("cookie",n$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ma=Se("credit-card",s$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z",key:"1ozxlb"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83",key:"ffuyb5"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4",key:"osnpzi"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2",key:"1vubaw"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5",key:"wxr772"}]],o$=Se("croissant",i$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]],l$=Se("cup-soda",a$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"11.5",cy:"12.5",r:"3.5",key:"1cl1mi"}],["path",{d:"M3 8c0-3.5 2.5-6 6.5-6 5 0 4.83 3 7.5 5s5 2 5 6c0 4.5-2.5 6.5-7 6.5-2.5 0-2.5 2.5-6 2.5s-7-2-7-5.5c0-3 1.5-3 1.5-5C3.5 10 3 9 3 8Z",key:"165ef9"}]],u$=Se("egg-fried",c$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F1=Se("eye",d$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],h$=Se("facebook",f$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],p$=Se("fish",m$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zi=Se("funnel",v$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M12 16H4a2 2 0 1 1 0-4h16a2 2 0 1 1 0 4h-4.25",key:"5dloqd"}],["path",{d:"M5 12a2 2 0 0 1-2-2 9 7 0 0 1 18 0 2 2 0 0 1-2 2",key:"1vl3my"}],["path",{d:"M5 16a2 2 0 0 0-2 2 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 2 2 0 0 0-2-2q0 0 0 0",key:"1us75o"}],["path",{d:"m6.67 12 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"qqzweh"}]],x$=Se("hamburger",g$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],w$=Se("house",y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Td=Se("image",b$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_$=Se("info",j$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],N$=Se("instagram",S$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],k$=Se("list",C$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U1=Se("log-out",P$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],B1=Se("mail",E$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],A$=Se("map-pin-check-inside",T$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ul=Se("map-pin",D$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rc=Se("message-circle",O$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$$=Se("message-square",R$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M5 12h14",key:"1ays0h"}]],sc=Se("minus",M$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cr=Se("package",I$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],F$=Se("pen",L$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ad=Se("phone",U$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pa=Se("plus",B$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dv=Se("search",V$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],va=Se("send",z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H$=Se("settings",W$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Y$=Se("shield-alert",q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],V1=Se("shopping-bag",G$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ri=Se("shopping-cart",K$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ic=Se("square-pen",X$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Wi=Se("store",J$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],fv=Se("tag",Q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hi=Se("trash-2",Z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hv=Se("truck",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],nM=Se("twitter",tM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sM=Se("upload",rM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],bw=Se("user-round",iM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],z1=Se("user",oM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mv=Se("users",aM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],cM=Se("utensils",lM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ei=Se("x",uM);function W1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=W1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function H1(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=W1(e))&&(r&&(r+=" "),r+=t);return r}function dM(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=q1(t))&&(r&&(r+=" "),r+=n);return r}function q1(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=q1(e[r]))&&(n&&(n+=" "),n+=t);return n}var pv="-";function fM(e){var t=mM(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=r===void 0?{}:r;function l(u){var f=u.split(pv);return f[0]===""&&f.length!==1&&f.shift(),Y1(f,t)||hM(u)}function c(u,f){var h=n[u]||[];return f&&o[u]?[].concat(h,o[u]):h}return{getClassGroupId:l,getConflictingClassGroupIds:c}}function Y1(e,t){var c;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?Y1(e.slice(1),r):void 0;if(o)return o;if(t.validators.length!==0){var l=e.join(pv);return(c=t.validators.find(function(u){var f=u.validator;return f(l)}))==null?void 0:c.classGroupId}}var jw=/^\[(.+)\]$/;function hM(e){if(jw.test(e)){var t=jw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function mM(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=vM(Object.entries(e.classGroups),n);return o.forEach(function(l){var c=l[0],u=l[1];hp(u,r,c,t)}),r}function hp(e,t,n,r){e.forEach(function(o){if(typeof o=="string"){var l=o===""?t:_w(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(pM(o)){hp(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(c){var u=c[0],f=c[1];hp(f,_w(t,u),n,r)})})}function _w(e,t){var n=e;return t.split(pv).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function pM(e){return e.isThemeGetter}function vM(e,t){return t?e.map(function(n){var r=n[0],o=n[1],l=o.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(u){var f=u[0],h=u[1];return[t+f,h]})):c});return[r,l]}):e}function gM(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(l,c){n.set(l,c),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(c){var u=n.get(c);if(u!==void 0)return u;if((u=r.get(c))!==void 0)return o(c,u),u},set:function(c,u){n.has(c)?n.set(c,u):o(c,u)}}}var G1="!";function xM(e){var t=e.separator||":",n=t.length===1,r=t[0],o=t.length;return function(c){for(var u=[],f=0,h=0,m,p=0;p<c.length;p++){var x=c[p];if(f===0){if(x===r&&(n||c.slice(p,p+o)===t)){u.push(c.slice(h,p)),h=p+o;continue}if(x==="/"){m=p;continue}}x==="["?f++:x==="]"&&f--}var y=u.length===0?c:c.substring(h),j=y.startsWith(G1),w=j?y.substring(1):y,_=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:_}}}function yM(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var o=r[0]==="[";o?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function wM(e){return{cache:gM(e.cacheSize),splitModifiers:xM(e),...fM(e)}}var bM=/\s+/;function jM(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,l=new Set;return e.trim().split(bM).map(function(c){var u=n(c),f=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,p=u.maybePostfixModifierPosition,x=r(p?m.substring(0,p):m),y=!!p;if(!x){if(!p)return{isTailwindClass:!1,originalClassName:c};if(x=r(m),!x)return{isTailwindClass:!1,originalClassName:c};y=!1}var j=yM(f).join(":"),w=h?j+G1:j;return{isTailwindClass:!0,modifierId:w,classGroupId:x,originalClassName:c,hasPostfixModifier:y}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var u=c.modifierId,f=c.classGroupId,h=c.hasPostfixModifier,m=u+f;return l.has(m)?!1:(l.add(m),o(f,h).forEach(function(p){return l.add(u+p)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function _M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,l,c=u;function u(h){var m=t[0],p=t.slice(1),x=p.reduce(function(y,j){return j(y)},m());return r=wM(x),o=r.cache.get,l=r.cache.set,c=f,f(h)}function f(h){var m=o(h);if(m)return m;var p=jM(h,r);return l(h,p),p}return function(){return c(dM.apply(null,arguments))}}function ut(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var K1=/^\[(?:([a-z-]+):)?(.+)\]$/i,SM=/^\d+\/\d+$/,NM=new Set(["px","full","screen"]),CM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ir(e){return Ti(e)||NM.has(e)||SM.test(e)||mp(e)}function mp(e){return qi(e,"length",RM)}function EM(e){return qi(e,"size",X1)}function TM(e){return qi(e,"position",X1)}function AM(e){return qi(e,"url",$M)}function $u(e){return qi(e,"number",Ti)}function Ti(e){return!Number.isNaN(Number(e))}function DM(e){return e.endsWith("%")&&Ti(e.slice(0,-1))}function pl(e){return Sw(e)||qi(e,"number",Sw)}function Ye(e){return K1.test(e)}function vl(){return!0}function As(e){return CM.test(e)}function OM(e){return qi(e,"",MM)}function qi(e,t,n){var r=K1.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function RM(e){return kM.test(e)}function X1(){return!1}function $M(e){return e.startsWith("url(")}function Sw(e){return Number.isInteger(Number(e))}function MM(e){return PM.test(e)}function IM(){var e=ut("colors"),t=ut("spacing"),n=ut("blur"),r=ut("brightness"),o=ut("borderColor"),l=ut("borderRadius"),c=ut("borderSpacing"),u=ut("borderWidth"),f=ut("contrast"),h=ut("grayscale"),m=ut("hueRotate"),p=ut("invert"),x=ut("gap"),y=ut("gradientColorStops"),j=ut("gradientColorStopPositions"),w=ut("inset"),_=ut("margin"),N=ut("opacity"),C=ut("padding"),k=ut("saturate"),P=ut("scale"),E=ut("sepia"),D=ut("skew"),O=ut("space"),A=ut("translate"),R=function(){return["auto","contain","none"]},z=function(){return["auto","hidden","clip","visible","scroll"]},Q=function(){return["auto",Ye,t]},G=function(){return[Ye,t]},W=function(){return["",ir]},U=function(){return["auto",Ti,Ye]},q=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},I=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Ye]},Z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[Ti,$u]},J=function(){return[Ti,Ye]};return{cacheSize:500,theme:{colors:[vl],spacing:[ir],blur:["none","",As,Ye],brightness:$(),borderColor:[e],borderRadius:["none","","full",As,Ye],borderSpacing:G(),borderWidth:W(),contrast:$(),grayscale:B(),hueRotate:J(),invert:B(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[DM,mp],inset:Q(),margin:Q(),opacity:$(),padding:G(),saturate:$(),scale:$(),sepia:B(),skew:J(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(q(),[Ye])}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pl]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",pl]}],"grid-cols":[{"grid-cols":[vl]}],"col-start-end":[{col:["auto",{span:["full",pl]},Ye]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[vl]}],"row-start-end":[{row:["auto",{span:[pl]},Ye]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ye,t]}],"min-w":[{"min-w":["min","max","fit",Ye,ir]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[As]},As,Ye]}],h:[{h:[Ye,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ye,ir]}],"max-h":[{"max-h":[Ye,t,"min","max","fit"]}],"font-size":[{text:["base",As,mp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$u]}],"font-family":[{font:[vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Ti,$u]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ye,ir]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ir]}],"underline-offset":[{"underline-offset":["auto",Ye,ir]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(q(),[TM])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:K()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[Ye,ir]}],"outline-w":[{outline:[ir]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[ir]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",As,OM]}],"shadow-color":[{shadow:[vl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":I()}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",As,Ye]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[pl,Ye]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ir,$u]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var LM=_M(IM);function Ae(...e){return LM(H1(e))}function je(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD",minimumFractionDigits:2}).format(e)}function Nw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function J1(...e){return t=>{let n=!1;const r=e.map(o=>{const l=Nw(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():Nw(e[o],null)}}}}function jt(...e){return g.useCallback(J1(...e),e)}function ra(e){const t=UM(e),n=g.forwardRef((r,o)=>{const{children:l,...c}=r,u=g.Children.toArray(l),f=u.find(VM);if(f){const h=f.props.children,m=u.map(p=>p===f?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...c,ref:o,children:g.isValidElement(h)?g.cloneElement(h,void 0,m):null})}return s.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var FM=ra("Slot");function UM(e){const t=g.forwardRef((n,r)=>{const{children:o,...l}=n;if(g.isValidElement(o)){const c=WM(o),u=zM(l,o.props);return o.type!==g.Fragment&&(u.ref=r?J1(r,c):c),g.cloneElement(o,u)}return g.Children.count(o)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BM=Symbol("radix.slottable");function VM(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BM}function zM(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...u)=>{l(...u),o(...u)}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function WM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Cw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kw=H1,Dd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(h=>{const m=n==null?void 0:n[h],p=l==null?void 0:l[h];if(m===null)return null;const x=Cw(m)||Cw(p);return o[h][x]}),u=n&&Object.entries(n).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:p,className:x,...y}=m;return Object.entries(y).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...l,...u}[w]):{...l,...u}[w]===_})?[...h,p,x]:h},[]);return kw(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},pp=Dd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=fe.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},l)=>{const c=r?FM:"button";return s.jsx(c,{className:Ae(pp({variant:t,size:n,className:e})),ref:l,...o})});ee.displayName="Button";const HM=Dd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function it({className:e,variant:t,...n}){return s.jsx("div",{className:Ae(HM({variant:t}),e),...n})}function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function qM(e,t){const n=g.createContext(t),r=l=>{const{children:c,...u}=l,f=g.useMemo(()=>u,Object.values(u));return s.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function o(l){const c=g.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,o]}function Rr(e,t=[]){let n=[];function r(l,c){const u=g.createContext(c),f=n.length;n=[...n,c];const h=p=>{var N;const{scope:x,children:y,...j}=p,w=((N=x==null?void 0:x[e])==null?void 0:N[f])||u,_=g.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:_,children:y})};h.displayName=l+"Provider";function m(p,x){var w;const y=((w=x==null?void 0:x[e])==null?void 0:w[f])||u,j=g.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[h,m]}const o=()=>{const l=n.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[r,YM(o,...t)]}function YM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=r.reduce((u,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var ts=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},GM=xd[" useId ".trim().toString()]||(()=>{}),KM=0;function Ko(e){const[t,n]=g.useState(GM());return ts(()=>{n(r=>r??String(KM++))},[e]),t?`radix-${t}`:""}var XM=xd[" useInsertionEffect ".trim().toString()]||ts;function Yi({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,l,c]=JM({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:o;{const m=g.useRef(e!==void 0);g.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const h=g.useCallback(m=>{var p;if(u){const x=QM(m)?m(e):m;x!==e&&((p=c.current)==null||p.call(c,x))}else l(m)},[u,e,l,c]);return[f,h]}function JM({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),o=g.useRef(n),l=g.useRef(t);return XM(()=>{l.current=t},[t]),g.useEffect(()=>{var c;o.current!==n&&((c=l.current)==null||c.call(l,n),o.current=n)},[n,o]),[n,r,l]}function QM(e){return typeof e=="function"}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=ZM.reduce((e,t)=>{const n=ra(`Primitive.${t}`),r=g.forwardRef((o,l)=>{const{asChild:c,...u}=o,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...u,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Q1(e,t){e&&Li.flushSync(()=>e.dispatchEvent(t))}function dr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function eI(e,t=globalThis==null?void 0:globalThis.document){const n=dr(e);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var tI="DismissableLayer",vp="dismissableLayer.update",nI="dismissableLayer.pointerDownOutside",rI="dismissableLayer.focusOutside",Pw,Z1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Od=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=e,h=g.useContext(Z1),[m,p]=g.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),j=jt(t,O=>p(O)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(_),C=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,P=C>=N,E=iI(O=>{const A=O.target,R=[...h.branches].some(z=>z.contains(A));!P||R||(o==null||o(O),c==null||c(O),O.defaultPrevented||u==null||u())},x),D=oI(O=>{const A=O.target;[...h.branches].some(z=>z.contains(A))||(l==null||l(O),c==null||c(O),O.defaultPrevented||u==null||u())},x);return eI(O=>{C===h.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},x),g.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Pw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Ew(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Pw)}},[m,x,n,h]),g.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Ew())},[m,h]),g.useEffect(()=>{const O=()=>y({});return document.addEventListener(vp,O),()=>document.removeEventListener(vp,O)},[]),s.jsx(Ke.div,{...f,ref:j,style:{pointerEvents:k?P?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,D.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,E.onPointerDownCapture)})});Od.displayName=tI;var sI="DismissableLayerBranch",e_=g.forwardRef((e,t)=>{const n=g.useContext(Z1),r=g.useRef(null),o=jt(t,r);return g.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),s.jsx(Ke.div,{...e,ref:o})});e_.displayName=sI;function iI(e,t=globalThis==null?void 0:globalThis.document){const n=dr(e),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!r.current){let f=function(){t_(nI,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oI(e,t=globalThis==null?void 0:globalThis.document){const n=dr(e),r=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!r.current&&t_(rI,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ew(){const e=new CustomEvent(vp);document.dispatchEvent(e)}function t_(e,t,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Q1(o,l):o.dispatchEvent(l)}var aI=Od,lI=e_,pm="focusScope.autoFocusOnMount",vm="focusScope.autoFocusOnUnmount",Tw={bubbles:!1,cancelable:!0},cI="FocusScope",vv=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),h=dr(o),m=dr(l),p=g.useRef(null),x=jt(t,w=>f(w)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(k){if(y.paused||!u)return;const P=k.target;u.contains(P)?p.current=P:Ms(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const P=k.relatedTarget;P!==null&&(u.contains(P)||Ms(p.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const E of k)E.removedNodes.length>0&&Ms(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[r,u,y.paused]),g.useEffect(()=>{if(u){Dw.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(pm,Tw);u.addEventListener(pm,h),u.dispatchEvent(N),N.defaultPrevented||(uI(pI(n_(u)),{select:!0}),document.activeElement===w&&Ms(u))}return()=>{u.removeEventListener(pm,h),setTimeout(()=>{const N=new CustomEvent(vm,Tw);u.addEventListener(vm,m),u.dispatchEvent(N),N.defaultPrevented||Ms(w??document.body,{select:!0}),u.removeEventListener(vm,m),Dw.remove(y)},0)}}},[u,h,m,y]);const j=g.useCallback(w=>{if(!n&&!r||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,P]=dI(C);k&&P?!w.shiftKey&&N===P?(w.preventDefault(),n&&Ms(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),n&&Ms(P,{select:!0})):N===C&&w.preventDefault()}},[n,r,y.paused]);return s.jsx(Ke.div,{tabIndex:-1,...c,ref:x,onKeyDown:j})});vv.displayName=cI;function uI(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function dI(e){const t=n_(e),n=Aw(t,e),r=Aw(t.reverse(),e);return[n,r]}function n_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Aw(e,t){for(const n of e)if(!fI(n,{upTo:t}))return n}function fI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hI(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&hI(e)&&t&&e.select()}}var Dw=mI();function mI(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ow(e,t),e.unshift(t)},remove(t){var n;e=Ow(e,t),(n=e[0])==null||n.resume()}}}function Ow(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function pI(e){return e.filter(t=>t.tagName!=="A")}var vI="Portal",Rd=g.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[o,l]=g.useState(!1);ts(()=>l(!0),[]);const c=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Db.createPortal(s.jsx(Ke.div,{...r,ref:t}),c):null});Rd.displayName=vI;function gI(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var $r=e=>{const{present:t,children:n}=e,r=xI(t),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),l=jt(r.ref,yI(o));return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:l}):null};$r.displayName="Presence";function xI(e){const[t,n]=g.useState(),r=g.useRef(null),o=g.useRef(e),l=g.useRef("none"),c=e?"mounted":"unmounted",[u,f]=gI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const h=Mu(r.current);l.current=u==="mounted"?h:"none"},[u]),ts(()=>{const h=r.current,m=o.current;if(m!==e){const x=l.current,y=Mu(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),ts(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=y=>{const w=Mu(r.current).includes(y.animationName);if(y.target===t&&w&&(f("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=y=>{y.target===t&&(l.current=Mu(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:g.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Mu(e){return(e==null?void 0:e.animationName)||"none"}function yI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gm=0;function r_(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Rw()),document.body.insertAdjacentElement("beforeend",e[1]??Rw()),gm++,()=>{gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gm--}},[])}function Rw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tn=function(){return tn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},tn.apply(this,arguments)};function gv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function s_(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,l;r<o;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Tl="right-scroll-bar-position",Al="width-before-scroll-bar",wI="with-scroll-bars-hidden",bI="--removed-body-scroll-bar-size";function xm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jI(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var _I=typeof window<"u"?g.useLayoutEffect:g.useEffect,$w=new WeakMap;function i_(e,t){var n=jI(null,function(r){return e.forEach(function(o){return xm(o,r)})});return _I(function(){var r=$w.get(n);if(r){var o=new Set(r),l=new Set(e),c=n.current;o.forEach(function(u){l.has(u)||xm(u,null)}),l.forEach(function(u){o.has(u)||xm(u,c)})}$w.set(n,e)},[e]),n}function SI(e){return e}function NI(e,t){t===void 0&&(t=SI);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var f=function(){var m=c;c=[],m.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),n}}}};return o}function o_(e){e===void 0&&(e={});var t=NI(null);return t.options=tn({async:!0,ssr:!1},e),t}var a_=function(e){var t=e.sideCar,n=gv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,tn({},n))};a_.isSideCarExport=!0;function l_(e,t){return e.useMedium(t),a_}var c_=o_(),ym=function(){},$d=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),o=r[0],l=r[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=e.gapMode,k=gv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,E=i_([n,t]),D=tn(tn({},k),o);return g.createElement(g.Fragment,null,m&&g.createElement(P,{sideCar:c_,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:n,gapMode:C}),c?g.cloneElement(g.Children.only(u),tn(tn({},D),{ref:E})):g.createElement(N,tn({},D,{className:f,ref:E}),u))});$d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$d.classNames={fullWidth:Al,zeroRight:Tl};var CI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CI();return t&&e.setAttribute("nonce",t),e}function PI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=kI())&&(PI(t,n),EI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AI=function(){var e=TI();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xv=function(){var e=AI(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},DI={left:0,top:0,right:0,gap:0},wm=function(e){return parseInt(e||"",10)||0},OI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[wm(n),wm(r),wm(o)]},RI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DI;var t=OI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$I=xv(),Xo="data-scroll-locked",MI=function(e,t,n,r){var o=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Xo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tl,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Al,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xo,`] {
    `).concat(bI,": ").concat(u,`px;
  }
`)},Mw=function(){var e=parseInt(document.body.getAttribute(Xo)||"0",10);return isFinite(e)?e:0},II=function(){g.useEffect(function(){return document.body.setAttribute(Xo,(Mw()+1).toString()),function(){var e=Mw()-1;e<=0?document.body.removeAttribute(Xo):document.body.setAttribute(Xo,e.toString())}},[])},u_=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;II();var l=g.useMemo(function(){return RI(o)},[o]);return g.createElement($I,{styles:MI(l,!t,o,n?"":"!important")})},gp=!1;if(typeof window<"u")try{var Iu=Object.defineProperty({},"passive",{get:function(){return gp=!0,!0}});window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{gp=!1}var Mo=gp?{passive:!1}:!1,LI=function(e){return e.tagName==="TEXTAREA"},d_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!LI(e)&&n[t]==="visible")},FI=function(e){return d_(e,"overflowY")},UI=function(e){return d_(e,"overflowX")},Iw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=f_(e,r);if(o){var l=h_(e,r),c=l[1],u=l[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BI=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VI=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},f_=function(e,t){return e==="v"?FI(t):UI(t)},h_=function(e,t){return e==="v"?BI(t):VI(t)},zI=function(e,t){return e==="h"&&t==="rtl"?-1:1},WI=function(e,t,n,r,o){var l=zI(e,window.getComputedStyle(t).direction),c=l*r,u=n.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=h_(e,u),j=y[0],w=y[1],_=y[2],N=w-_-l*j;(j||N)&&f_(e,u)&&(p+=N,x+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(h=!0),h},Lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lw=function(e){return[e.deltaX,e.deltaY]},Fw=function(e){return e&&"current"in e?e.current:e},HI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},YI=0,Io=[];function GI(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(YI++)[0],l=g.useState(xv)[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=s_([e.lockRef.current],(e.shards||[]).map(Fw),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var N=Lu(w),C=n.current,k="deltaX"in w?w.deltaX:C[0]-N[0],P="deltaY"in w?w.deltaY:C[1]-N[1],E,D=w.target,O=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in w&&O==="h"&&D.type==="range")return!1;var A=Iw(O,D);if(!A)return!0;if(A?E=O:(E=O==="v"?"h":"v",A=Iw(O,D)),!A)return!1;if(!r.current&&"changedTouches"in w&&(k||P)&&(r.current=E),!E)return!0;var R=r.current||E;return WI(R,_,w,R==="h"?k:P)},[]),f=g.useCallback(function(w){var _=w;if(!(!Io.length||Io[Io.length-1]!==l)){var N="deltaY"in _?Lw(_):Lu(_),C=t.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&HI(E.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(Fw).filter(Boolean).filter(function(E){return E.contains(_.target)}),P=k.length>0?u(_,k[0]):!c.current.noIsolation;P&&_.cancelable&&_.preventDefault()}}},[]),h=g.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C,shadowParent:KI(N)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(P){return P!==k})},1)},[]),m=g.useCallback(function(w){n.current=Lu(w),r.current=void 0},[]),p=g.useCallback(function(w){h(w.type,Lw(w),w.target,u(w,e.lockRef.current))},[]),x=g.useCallback(function(w){h(w.type,Lu(w),w.target,u(w,e.lockRef.current))},[]);g.useEffect(function(){return Io.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Mo),document.addEventListener("touchmove",f,Mo),document.addEventListener("touchstart",m,Mo),function(){Io=Io.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,Mo),document.removeEventListener("touchmove",f,Mo),document.removeEventListener("touchstart",m,Mo)}},[]);var y=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(l,{styles:qI(o)}):null,y?g.createElement(u_,{gapMode:e.gapMode}):null)}function KI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XI=l_(c_,GI);var yv=g.forwardRef(function(e,t){return g.createElement($d,tn({},e,{ref:t,sideCar:XI}))});yv.classNames=$d.classNames;var JI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lo=new WeakMap,Fu=new WeakMap,Uu={},bm=0,m_=function(e){return e&&(e.host||m_(e.parentNode))},QI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=m_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ZI=function(e,t,n,r){var o=QI(t,Array.isArray(e)?e:[e]);Uu[n]||(Uu[n]=new WeakMap);var l=Uu[n],c=[],u=new Set,f=new Set(o),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};o.forEach(h);var m=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(x){if(u.has(x))m(x);else try{var y=x.getAttribute(r),j=y!==null&&y!=="false",w=(Lo.get(x)||0)+1,_=(l.get(x)||0)+1;Lo.set(x,w),l.set(x,_),c.push(x),w===1&&j&&Fu.set(x,!0),_===1&&x.setAttribute(n,"true"),j||x.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return m(t),u.clear(),bm++,function(){c.forEach(function(p){var x=Lo.get(p)-1,y=l.get(p)-1;Lo.set(p,x),l.set(p,y),x||(Fu.has(p)||p.removeAttribute(r),Fu.delete(p)),y||p.removeAttribute(n)}),bm--,bm||(Lo=new WeakMap,Lo=new WeakMap,Fu=new WeakMap,Uu={})}},wv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=JI(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),ZI(r,o,n,"aria-hidden")):function(){return null}},Md="Dialog",[p_,m9]=Rr(Md),[e3,gr]=p_(Md),v_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=g.useRef(null),f=g.useRef(null),[h,m]=Yi({prop:r,defaultProp:o??!1,onChange:l,caller:Md});return s.jsx(e3,{scope:t,triggerRef:u,contentRef:f,contentId:Ko(),titleId:Ko(),descriptionId:Ko(),open:h,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),modal:c,children:n})};v_.displayName=Md;var g_="DialogTrigger",x_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=gr(g_,n),l=jt(t,o.triggerRef);return s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":_v(o.open),...r,ref:l,onClick:qe(e.onClick,o.onOpenToggle)})});x_.displayName=g_;var bv="DialogPortal",[t3,y_]=p_(bv,{forceMount:void 0}),w_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,l=gr(bv,t);return s.jsx(t3,{scope:t,forceMount:n,children:g.Children.map(r,c=>s.jsx($r,{present:n||l.open,children:s.jsx(Rd,{asChild:!0,container:o,children:c})}))})};w_.displayName=bv;var cd="DialogOverlay",b_=g.forwardRef((e,t)=>{const n=y_(cd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=gr(cd,e.__scopeDialog);return l.modal?s.jsx($r,{present:r||l.open,children:s.jsx(r3,{...o,ref:t})}):null});b_.displayName=cd;var n3=ra("DialogOverlay.RemoveScroll"),r3=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=gr(cd,n);return s.jsx(yv,{as:n3,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(Ke.div,{"data-state":_v(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),$i="DialogContent",j_=g.forwardRef((e,t)=>{const n=y_($i,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=gr($i,e.__scopeDialog);return s.jsx($r,{present:r||l.open,children:l.modal?s.jsx(s3,{...o,ref:t}):s.jsx(i3,{...o,ref:t})})});j_.displayName=$i;var s3=g.forwardRef((e,t)=>{const n=gr($i,e.__scopeDialog),r=g.useRef(null),o=jt(t,n.contentRef,r);return g.useEffect(()=>{const l=r.current;if(l)return wv(l)},[]),s.jsx(__,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,l=>l.preventDefault())})}),i3=g.forwardRef((e,t)=>{const n=gr($i,e.__scopeDialog),r=g.useRef(!1),o=g.useRef(!1);return s.jsx(__,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),__=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,u=gr($i,n),f=g.useRef(null),h=jt(t,f);return r_(),s.jsxs(s.Fragment,{children:[s.jsx(vv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Od,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":_v(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(o3,{titleId:u.titleId}),s.jsx(l3,{contentRef:f,descriptionId:u.descriptionId})]})]})}),jv="DialogTitle",S_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=gr(jv,n);return s.jsx(Ke.h2,{id:o.titleId,...r,ref:t})});S_.displayName=jv;var N_="DialogDescription",C_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=gr(N_,n);return s.jsx(Ke.p,{id:o.descriptionId,...r,ref:t})});C_.displayName=N_;var k_="DialogClose",P_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=gr(k_,n);return s.jsx(Ke.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>o.onOpenChange(!1))})});P_.displayName=k_;function _v(e){return e?"open":"closed"}var E_="DialogTitleWarning",[p9,T_]=qM(E_,{contentName:$i,titleName:jv,docsSlug:"dialog"}),o3=({titleId:e})=>{const t=T_(E_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},a3="DialogDescriptionWarning",l3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T_(a3).contentName}}.`;return g.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},c3=v_,u3=x_,d3=w_,A_=b_,D_=j_,O_=S_,R_=C_,f3=P_;const fr=c3,ti=u3,h3=d3,$_=fe.forwardRef(({className:e,...t},n)=>s.jsx(A_,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$_.displayName=A_.displayName;const Yn=fe.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(h3,{children:[s.jsx($_,{}),s.jsxs(D_,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(f3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ei,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yn.displayName=D_.displayName;const Gn=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gn.displayName="DialogHeader";const Gi=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gi.displayName="DialogFooter";const Kn=fe.forwardRef(({className:e,...t},n)=>s.jsx(O_,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Kn.displayName=O_.displayName;const M_=fe.forwardRef(({className:e,...t},n)=>s.jsx(R_,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));M_.displayName=R_.displayName;const ge=fe.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));ge.displayName="Input";var m3="Label",I_=g.forwardRef((e,t)=>s.jsx(Ke.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));I_.displayName=m3;var L_=I_;const p3=Dd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=fe.forwardRef(({className:e,...t},n)=>s.jsx(L_,{ref:n,className:Ae(p3(),e),...t}));ne.displayName=L_.displayName;const Id=({onSuccess:e})=>{const[t,n]=g.useState(""),[r,o]=g.useState(""),[l,c]=g.useState(!1),[u,f]=g.useState(0),[h,m]=g.useState(!1);g.useEffect(()=>{if(u>0){const y=setTimeout(()=>f(u-1),1e3);return()=>clearTimeout(y)}},[u]);const p=async y=>{if(y.preventDefault(),!t.trim()){te({variant:"destructive",title:"Error",description:"Please enter a phone number"});return}const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`;c(!0);try{const{error:w}=await ae.auth.signInWithOtp({phone:j});if(w)throw w;m(!0),f(30),te({title:"Code Sent",description:"Please check your phone for the verification code."})}catch(w){console.error("Error sending OTP:",w),te({variant:"destructive",title:"Error",description:w.message})}finally{c(!1)}},x=async y=>{if(y.preventDefault(),!r.trim()||r.length!==6){te({variant:"destructive",title:"Error",description:"Please enter a valid 6-digit code"});return}c(!0);try{const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`,{error:w}=await ae.auth.verifyOtp({phone:j,token:r,type:"sms"});if(w)throw w;te({title:"Success",description:"You have been successfully logged in."}),e&&e()}catch(j){console.error("Error verifying OTP:",j),te({variant:"destructive",title:"Error",description:j.message})}finally{c(!1)}};return s.jsx("div",{className:"w-full max-w-lg mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 border border-primary/20 shadow-lg",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome "}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please verify your phone number to continue."})]}),s.jsxs("form",{onSubmit:h?x:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",className:"text-sm font-semibold text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"+61"})}),s.jsx(ge,{id:"phone",type:"tel",placeholder:"04XXXXXXXX",value:t.replace(/^\+61/,""),onChange:y=>n(y.target.value),disabled:l||h,className:"pl-10 h-10 text-base border-2 focus:border-primary transition-colors"})]})]}),h&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"otp",className:"text-sm font-semibold text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"relative",children:[s.jsx(ge,{id:"otp",type:"text",maxLength:6,placeholder:"Enter 6-digit code",value:r,onChange:y=>o(y.target.value.replace(/\D/g,"").slice(0,6)),disabled:l,className:"h-10 text-base text-center tracking-widest border-2 focus:border-primary transition-colors"}),r.length===6&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(Fl,{className:"w-4 h-4 text-green-500"})})]})]}),s.jsx("div",{className:"space-y-2",children:h?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ee,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:l||r.length!==6,children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verifying..."]}):"Verify & Sign In"}),s.jsx(ee,{type:"button",variant:"outline",className:"w-full h-8 text-sm",onClick:p,disabled:l||u>0,children:u>0?`Resend in ${u}s`:"Resend Code"})]}):s.jsx(ee,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:l||!t.trim(),children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending Code..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx($$,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-center text-gray-500 leading-relaxed",children:["By continuing, you agree to our"," ",s.jsx(Te,{to:"/terms",className:"text-primary hover:underline font-medium",target:"_blank",children:"Terms of Service"})," ","and"," ",s.jsx(Te,{to:"/privacy",className:"text-primary hover:underline font-medium",target:"_blank",children:"Privacy Policy"})]})})]})})},Sv=({open:e,onOpenChange:t})=>s.jsx(fr,{open:e,onOpenChange:t,children:s.jsxs(Yn,{className:"sm:max-w-[425px]",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:s.jsx("h1",{})})}),s.jsx(Id,{onSuccess:()=>t(!1)})]})}),v3=()=>{var k;const[e,t]=g.useState(!1),[n,r]=g.useState(!1),{getCartCount:o,toggleCart:l}=is(),{user:c,isAdmin:u,logout:f,loading:h}=un(),m=On(),p=o(),x=()=>t(!1),y=async()=>{await f(),x(),m("/")},w=Js().pathname==="/",_={closed:{opacity:0,x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}}},[N,C]=g.useState(()=>{const P=localStorage.getItem("userLocation");return P?JSON.parse(P):null});return g.useEffect(()=>{N||navigator.geolocation&&navigator.geolocation.getCurrentPosition(P=>{const E={lat:P.coords.latitude,lng:P.coords.longitude};C(E),localStorage.setItem("userLocation",JSON.stringify(E))},P=>{})},[N]),s.jsxs("header",{className:"sticky top-0 z-40 w-full bg-gradient-to-r from-[#2E8B57] via-[#3CB371] to-[#98D598] border-b shadow-sm",children:[s.jsxs("div",{className:"container flex items-center justify-between h-16 px-4 mx-auto md:px-6",children:[s.jsxs(Te,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{style:{backgroundImage:"url(/logo-plain.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"180px",height:"60px"},"aria-label":"Groceroo Logo"}),w?s.jsx(s.Fragment,{}):s.jsx(w$,{style:{color:"white"},className:"p-1 w-6 h-6","aria-label":"Home"})]}),s.jsxs("nav",{className:"hidden md:flex md:items-center md:space-x-6",children:[s.jsx(Te,{to:"/grocery-run",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Grocery Run"}),s.jsx(Te,{to:"/shop",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Shop"}),s.jsx(Te,{to:"/categories",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Categories"}),u&&s.jsx(Te,{to:"/admin",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Admin Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ee,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:l,children:[s.jsx(Ri,{className:"w-5 h-5 text-white"}),p>0&&s.jsx(it,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:p})]}),!h&&(c?s.jsx("div",{className:"md:flex md:items-center md:space-x-2",children:s.jsx(Te,{to:"/account",children:s.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 hover:bg-white/20 text-white",children:[s.jsx(bw,{className:"w-4 h-4"}),s.jsx("span",{children:((k=c.name)==null?void 0:k.split(" ")[0])||"My Account"})]})})}):s.jsx(ee,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",size:"sm",onClick:()=>r(!0),children:s.jsx(bw,{})}))]})]}),s.jsx(Il,{children:e&&s.jsx(be.div,{className:"fixed inset-0 z-50 bg-black/50 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:x,children:s.jsxs(be.div,{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-xl",variants:_,initial:"closed",animate:"open",exit:"closed",onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Menu"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:x,children:s.jsx(ei,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[s.jsx(Te,{to:"/",className:"flex items-center space-x-2 text-sm",onClick:x,children:"Home"}),s.jsx(Te,{to:"/shop",className:"flex items-center space-x-2 text-sm",onClick:x,children:"Shop"}),s.jsx(Te,{to:"/categories",className:"flex items-center space-x-2 text-sm",onClick:x,children:"Categories"}),u&&s.jsxs(Te,{to:"/admin",className:"flex items-center space-x-2 text-sm",onClick:x,children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsx("span",{children:"Admin Dashboard"})]}),!h&&(c?s.jsxs(s.Fragment,{children:[s.jsxs(Te,{to:"/account",className:"flex items-center space-x-2 text-sm",onClick:x,children:[s.jsx(z1,{className:"w-4 h-4"}),s.jsx("span",{children:"My Account"})]}),s.jsxs(ee,{variant:"ghost",className:"flex items-center justify-start space-x-2 text-sm",onClick:y,children:[s.jsx(U1,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]}):s.jsx(ee,{onClick:()=>{x(),r(!0)},children:"Sign In"}))]})]})})}),s.jsx(Sv,{open:n,onOpenChange:r})]})},g3=()=>{const e=new Date().getFullYear(),t=()=>{window.confirm("Are you sure you want to clear local storage, session storage, and cookies?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(n=>{document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())};return s.jsx("footer",{className:"bg-white border-t",children:s.jsxs("div",{className:"container px-4 py-12 mx-auto md:px-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{style:{backgroundImage:"url(/logo.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"100px",height:"40px"},"aria-label":"Groceroo Logo"}),s.jsx("div",{className:"text-xs text-gray-500",children:"ABN 257 558 402 06"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Express grocery shopping and delivery service in Adelaide. Groceries and more delivered to your door."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:s.jsx(h$,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:s.jsx(N$,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:s.jsx(nM,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Te,{to:"/categories",className:"text-gray-600 hover:text-primary",children:"Categories"})}),s.jsx("li",{children:s.jsx(Te,{to:"/shop",className:"text-gray-600 hover:text-primary",children:"All Products"})}),s.jsx("li",{children:s.jsx(Te,{to:"/shop?featured=true",className:"text-gray-600 hover:text-primary",children:"Featured Items"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Get in Touch"}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(B1,{className:"w-4 h-4 mr-2"}),s.jsx("a",{href:"mailto:contact@groceroo.com.au",className:"hover:text-primary underline",children:"contact@groceroo.com.au"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ad,{className:"w-4 h-4 mr-2"}),s.jsx("a",{href:"tel:+61478477036",className:"hover:text-primary underline",children:"+61 478 477 036"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(rc,{className:"w-4 h-4 mr-2"}),s.jsx("a",{href:"https://wa.me/61478477036",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary underline",children:"Chat on WhatsApp"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"More"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Te,{to:"/",className:"text-gray-600 hover:text-primary",children:"Home"})}),s.jsx("li",{children:s.jsx(Te,{to:"/privacy",className:"text-gray-600 hover:text-primary",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Te,{to:"/terms",className:"text-gray-600 hover:text-primary",children:"Terms and conditions"})})]})]})]}),s.jsx("div",{className:"pt-8 mt-8 border-t",children:s.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 md:flex-row md:space-y-0",children:[s.jsxs("p",{className:"text-xs text-gray-600",children:[" ",e," Groceroo. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsx("button",{onClick:t,className:"hover:text-red-500 text-xs",children:"Clear Data"}),s.jsx(Te,{to:"/privacy",className:"hover:text-primary",children:"Privacy Policy"}),s.jsx(Te,{to:"/terms",className:"hover:text-primary",children:"Terms of Service"})]})]})})]})})},x3=()=>{const{cart:e,isCartOpen:t,closeCart:n,removeFromCart:r,updateQuantity:o,getCartTotal:l,clearCart:c}=is(),u=On(),f=()=>{n(),u("/checkout")},h={closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},m={closed:{opacity:0},open:{opacity:1}};return s.jsx(Il,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(be.div,{className:"fixed inset-0 z-50 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:m,onClick:n}),s.jsxs(be.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:"closed",animate:"open",exit:"closed",variants:h,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ri,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Your Cart"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.reduce((p,x)=>p+x.quantity,0)," items)"]})]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(ei,{className:"w-5 h-5"})})]}),e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 space-y-4 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Ri,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-medium",children:"Your cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added any products to your cart yet."}),s.jsx(ee,{onClick:()=>{n(),u("/shop")},children:"Continue Shopping"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("ul",{className:"space-y-4",children:s.jsx(Il,{children:e.map(p=>s.jsxs(be.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center space-x-4 p-3 rounded-lg border bg-card",children:[s.jsx("div",{className:"w-16 h-16 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:s.jsx("img",{alt:p.name,className:"w-full h-full object-cover",src:p.image_url||"/product-placeholder.webp"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[je(p.price)," / ",p.unit]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx(ee,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity-1),children:s.jsx(sc,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm w-8 text-center",children:p.quantity}),s.jsx(ee,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity+1),children:s.jsx(pa,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:je(p.price*p.quantity)}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>r(p.id),children:s.jsx(Hi,{className:"h-4 w-4"})})]})]},p.id))})})}),e.length>0&&s.jsx("div",{className:"flex justify-center my-2",children:s.jsxs(Te,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1",onClick:()=>n(),children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsx("div",{className:"p-4 border-t bg-muted/30",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),s.jsx("span",{className:"text-sm font-medium",children:je(l())})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Charges & Fees"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated at checkout"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total"}),s.jsx("span",{className:"text-base font-semibold",children:je(l())})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(ee,{variant:"outline",className:"w-full",onClick:c,children:"Clear Cart"}),s.jsx(ee,{className:"w-full",onClick:f,disabled:e.length===0,children:"Checkout"})]})]})})]})]})]})})};function F_(e){const t=e+"CollectionProvider",[n,r]=Rr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:N}=w,C=fe.useRef(null),k=fe.useRef(new Map).current;return s.jsx(o,{scope:_,itemMap:k,collectionRef:C,children:N})};c.displayName=t;const u=e+"CollectionSlot",f=ra(u),h=fe.forwardRef((w,_)=>{const{scope:N,children:C}=w,k=l(u,N),P=jt(_,k.collectionRef);return s.jsx(f,{ref:P,children:C})});h.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=ra(m),y=fe.forwardRef((w,_)=>{const{scope:N,children:C,...k}=w,P=fe.useRef(null),E=jt(_,P),D=l(m,N);return fe.useEffect(()=>(D.itemMap.set(P,{ref:P,...k}),()=>void D.itemMap.delete(P))),s.jsx(x,{[p]:"",ref:E,children:C})});y.displayName=m;function j(w){const _=l(e+"CollectionConsumer",w);return fe.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((D,O)=>k.indexOf(D.ref.current)-k.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},j,r]}var y3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),w3="VisuallyHidden",Nv=g.forwardRef((e,t)=>s.jsx(Ke.span,{...e,ref:t,style:{...y3,...e.style}}));Nv.displayName=w3;var Cv="ToastProvider",[kv,b3,j3]=F_("Toast"),[U_,v9]=Rr("Toast",[j3]),[_3,Ld]=U_(Cv),B_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=e,[u,f]=g.useState(null),[h,m]=g.useState(0),p=g.useRef(!1),x=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cv}\`. Expected non-empty \`string\`.`),s.jsx(kv.Provider,{scope:t,children:s.jsx(_3,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:l,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:g.useCallback(()=>m(y=>y+1),[]),onToastRemove:g.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};B_.displayName=Cv;var V_="ToastViewport",S3=["F8"],xp="toast.viewportPause",yp="toast.viewportResume",z_=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=S3,label:o="Notifications ({hotkey})",...l}=e,c=Ld(V_,n),u=b3(n),f=g.useRef(null),h=g.useRef(null),m=g.useRef(null),p=g.useRef(null),x=jt(t,p,c.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;g.useEffect(()=>{const _=N=>{var k;r.length!==0&&r.every(P=>N[P]||N.code===P)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),g.useEffect(()=>{const _=f.current,N=p.current;if(j&&_&&N){const C=()=>{if(!c.isClosePausedRef.current){const D=new CustomEvent(xp);N.dispatchEvent(D),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const D=new CustomEvent(yp);N.dispatchEvent(D),c.isClosePausedRef.current=!1}},P=D=>{!_.contains(D.relatedTarget)&&k()},E=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",C),_.addEventListener("focusout",P),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",E),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",C),_.removeEventListener("focusout",P),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",E),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[j,c.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:_})=>{const C=u().map(k=>{const P=k.ref.current,E=[P,...I3(P)];return _==="forwards"?E:E.reverse()});return(_==="forwards"?C.reverse():C).flat()},[u]);return g.useEffect(()=>{const _=p.current;if(_){const N=C=>{var E,D,O;const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const A=document.activeElement,R=C.shiftKey;if(C.target===_&&R){(E=h.current)==null||E.focus();return}const G=w({tabbingDirection:R?"backwards":"forwards"}),W=G.findIndex(U=>U===A);jm(G.slice(W+1))?C.preventDefault():R?(D=h.current)==null||D.focus():(O=m.current)==null||O.focus()}};return _.addEventListener("keydown",N),()=>_.removeEventListener("keydown",N)}},[u,w]),s.jsxs(lI,{ref:f,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&s.jsx(wp,{ref:h,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});jm(_)}}),s.jsx(kv.Slot,{scope:n,children:s.jsx(Ke.ol,{tabIndex:-1,...l,ref:x})}),j&&s.jsx(wp,{ref:m,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});jm(_)}})]})});z_.displayName=V_;var W_="ToastFocusProxy",wp=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,l=Ld(W_,n);return s.jsx(Nv,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=l.viewport)!=null&&h.contains(u))&&r()}})});wp.displayName=W_;var oc="Toast",N3="toast.swipeStart",C3="toast.swipeMove",k3="toast.swipeCancel",P3="toast.swipeEnd",H_=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:l,...c}=e,[u,f]=Yi({prop:r,defaultProp:o??!0,onChange:l,caller:oc});return s.jsx($r,{present:n||u,children:s.jsx(A3,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:dr(e.onPause),onResume:dr(e.onResume),onSwipeStart:qe(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:qe(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});H_.displayName=oc;var[E3,T3]=U_(oc,{onClose(){}}),A3=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...j}=e,w=Ld(oc,n),[_,N]=g.useState(null),C=jt(t,U=>N(U)),k=g.useRef(null),P=g.useRef(null),E=o||w.duration,D=g.useRef(0),O=g.useRef(E),A=g.useRef(0),{onToastAdd:R,onToastRemove:z}=w,Q=dr(()=>{var q;(_==null?void 0:_.contains(document.activeElement))&&((q=w.viewport)==null||q.focus()),c()}),G=g.useCallback(U=>{!U||U===1/0||(window.clearTimeout(A.current),D.current=new Date().getTime(),A.current=window.setTimeout(Q,U))},[Q]);g.useEffect(()=>{const U=w.viewport;if(U){const q=()=>{G(O.current),h==null||h()},K=()=>{const I=new Date().getTime()-D.current;O.current=O.current-I,window.clearTimeout(A.current),f==null||f()};return U.addEventListener(xp,K),U.addEventListener(yp,q),()=>{U.removeEventListener(xp,K),U.removeEventListener(yp,q)}}},[w.viewport,E,f,h,G]),g.useEffect(()=>{l&&!w.isClosePausedRef.current&&G(E)},[l,E,w.isClosePausedRef,G]),g.useEffect(()=>(R(),()=>z()),[R,z]);const W=g.useMemo(()=>_?Q_(_):null,[_]);return w.viewport?s.jsxs(s.Fragment,{children:[W&&s.jsx(D3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),s.jsx(E3,{scope:n,onClose:Q,children:Li.createPortal(s.jsx(kv.ItemSlot,{scope:n,children:s.jsx(aI,{asChild:!0,onEscapeKeyDown:qe(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||Q(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,U=>{U.key==="Escape"&&(u==null||u(U.nativeEvent),U.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:qe(e.onPointerDown,U=>{U.button===0&&(k.current={x:U.clientX,y:U.clientY})}),onPointerMove:qe(e.onPointerMove,U=>{if(!k.current)return;const q=U.clientX-k.current.x,K=U.clientY-k.current.y,I=!!P.current,L=["left","right"].includes(w.swipeDirection),B=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Z=L?B(0,q):0,$=L?0:B(0,K),J=U.pointerType==="touch"?10:2,le={x:Z,y:$},ue={originalEvent:U,delta:le};I?(P.current=le,Bu(C3,p,ue,{discrete:!1})):Uw(le,w.swipeDirection,J)?(P.current=le,Bu(N3,m,ue,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(q)>J||Math.abs(K)>J)&&(k.current=null)}),onPointerUp:qe(e.onPointerUp,U=>{const q=P.current,K=U.target;if(K.hasPointerCapture(U.pointerId)&&K.releasePointerCapture(U.pointerId),P.current=null,k.current=null,q){const I=U.currentTarget,L={originalEvent:U,delta:q};Uw(q,w.swipeDirection,w.swipeThreshold)?Bu(P3,y,L,{discrete:!0}):Bu(k3,x,L,{discrete:!0}),I.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),D3=e=>{const{__scopeToast:t,children:n,...r}=e,o=Ld(oc,t),[l,c]=g.useState(!1),[u,f]=g.useState(!1);return $3(()=>c(!0)),g.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:s.jsx(Rd,{asChild:!0,children:s.jsx(Nv,{...r,children:l&&s.jsxs(s.Fragment,{children:[o.label," ",n]})})})},O3="ToastTitle",q_=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ke.div,{...r,ref:t})});q_.displayName=O3;var R3="ToastDescription",Y_=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ke.div,{...r,ref:t})});Y_.displayName=R3;var G_="ToastAction",K_=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(J_,{altText:n,asChild:!0,children:s.jsx(Pv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${G_}\`. Expected non-empty \`string\`.`),null)});K_.displayName=G_;var X_="ToastClose",Pv=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=T3(X_,n);return s.jsx(J_,{asChild:!0,children:s.jsx(Ke.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,o.onClose)})})});Pv.displayName=X_;var J_=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return s.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Q_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),M3(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...Q_(r))}}),t}function Bu(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Q1(o,l):o.dispatchEvent(l)}var Uw=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),l=r>o;return t==="left"||t==="right"?l&&r>n:!l&&o>n};function $3(e=()=>{}){const t=dr(e);ts(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function M3(e){return e.nodeType===e.ELEMENT_NODE}function I3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var L3=B_,Z_=z_,eS=H_,tS=q_,nS=Y_,rS=K_,sS=Pv;const F3=L3,iS=fe.forwardRef(({className:e,...t},n)=>s.jsx(Z_,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));iS.displayName=Z_.displayName;const U3=Dd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oS=fe.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(eS,{ref:r,className:Ae(U3({variant:t}),e),...n}));oS.displayName=eS.displayName;const B3=fe.forwardRef(({className:e,...t},n)=>s.jsx(rS,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));B3.displayName=rS.displayName;const aS=fe.forwardRef(({className:e,...t},n)=>s.jsx(sS,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ei,{className:"h-4 w-4"})}));aS.displayName=sS.displayName;const lS=fe.forwardRef(({className:e,...t},n)=>s.jsx(tS,{ref:n,className:Ae("text-sm font-semibold",e),...t}));lS.displayName=tS.displayName;const cS=fe.forwardRef(({className:e,...t},n)=>s.jsx(nS,{ref:n,className:Ae("text-sm opacity-90",e),...t}));cS.displayName=nS.displayName;function V3(){const{openCart:e}=is();return s.jsx("a",{size:"md",className:"text-primary font-medium hover:underline text-lg flex items-center gap-1",onClick:e,tabIndex:0,children:s.jsx("span",{style:{fontSize:"12px",padding:"4px",wordSpacing:"0.5px",cursor:"pointer"},children:"View Cart"})})}function z3(){const{toasts:e}=h4();return s.jsxs(F3,{children:[e.map(({id:t,title:n,description:r,action:o,...l})=>{let c=null;return o==="view-cart"?c=s.jsx(V3,{}):o&&(c=o),s.jsxs(oS,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(lS,{children:n}),r&&s.jsx(cS,{children:r})]}),c,s.jsx(aS,{})]},t)}),s.jsx(iS,{})]})}var uS="https://js.stripe.com/v3",W3=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var H3=function(){for(var t=document.querySelectorAll('script[src^="'.concat(uS,'"]')),n=0;n<t.length;n++){var r=t[n];if(W3.test(r.src))return r}return null},Bw=function(t){var n="",r=document.createElement("script");r.src="".concat(uS).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},q3=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:n})},gl=null,Vu=null,zu=null,Y3=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},G3=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},K3=function(t){return gl!==null?gl:(gl=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=H3();if(!(o&&t)){if(!o)o=Bw(t);else if(o&&zu!==null&&Vu!==null){var l;o.removeEventListener("load",zu),o.removeEventListener("error",Vu),(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=Bw(t)}}zu=G3(n,r),Vu=Y3(r),o.addEventListener("load",zu),o.addEventListener("error",Vu)}catch(c){r(c);return}}),gl.catch(function(n){return gl=null,Promise.reject(n)}))},X3=function(t,n,r){if(t===null)return null;var o=t.apply(void 0,n);return q3(o,r),o},xl,dS=!1,fS=function(){return xl||(xl=K3(null).catch(function(t){return xl=null,Promise.reject(t)}),xl)};Promise.resolve().then(function(){return fS()}).catch(function(e){dS||console.warn(e)});var J3=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];dS=!0;var o=Date.now();return fS().then(function(l){return X3(l,n,o)})},_m={exports:{}},Sm,Vw;function Q3(){if(Vw)return Sm;Vw=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sm=e,Sm}var Nm,zw;function Z3(){if(zw)return Nm;zw=1;var e=Q3();function t(){}function n(){}return n.resetWarningCache=t,Nm=function(){function r(c,u,f,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Nm}var Ww;function e5(){return Ww||(Ww=1,_m.exports=Z3()()),_m.exports}var t5=e5();const vt=Kl(t5);function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){hS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function hS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mS(e,t){return n5(e)||r5(e,t)||s5(e,t)||i5()}function n5(e){if(Array.isArray(e))return e}function r5(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],o=!0,l=!1,c,u;try{for(n=n.call(e);!(o=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));o=!0);}catch(f){l=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(l)throw u}}return r}}function s5(e,t){if(e){if(typeof e=="string")return Yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yw(e,t)}}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pn=function(t,n,r){var o=!!r,l=fe.useRef(r);fe.useEffect(function(){l.current=r},[r]),fe.useEffect(function(){if(!o||!t)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return t.on(n,c),function(){t.off(n,c)}},[o,n,t,l])},bp=function(t){var n=fe.useRef(t);return fe.useEffect(function(){n.current=t},[t]),n.current},sa=function(t){return t!==null&&Xu(t)==="object"},o5=function(t){return sa(t)&&typeof t.then=="function"},a5=function(t){return sa(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Gw="[object Object]",l5=function e(t,n){if(!sa(t)||!sa(n))return t===n;var r=Array.isArray(t),o=Array.isArray(n);if(r!==o)return!1;var l=Object.prototype.toString.call(t)===Gw,c=Object.prototype.toString.call(n)===Gw;if(l!==c)return!1;if(!l&&!r)return t===n;var u=Object.keys(t),f=Object.keys(n);if(u.length!==f.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var p=0;p<f.length;p+=1)h[f[p]]=!0;var x=Object.keys(h);if(x.length!==u.length)return!1;var y=t,j=n,w=function(N){return e(y[N],j[N])};return x.every(w)},pS=function(t,n,r){return sa(t)?Object.keys(t).reduce(function(o,l){var c=!sa(n)||!l5(t[l],n[l]);return r.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),o):c?qw(qw({},o||{}),{},hS({},l,t[l])):o},null):null},vS="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Kw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vS;if(t===null||a5(t))return t;throw new Error(n)},c5=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vS;if(o5(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return Kw(o,n)})};var r=Kw(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},u5=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Fd=fe.createContext(null);Fd.displayName="ElementsContext";var gS=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},xS=function(t){var n=t.stripe,r=t.options,o=t.children,l=fe.useMemo(function(){return c5(n)},[n]),c=fe.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),u=mS(c,2),f=u[0],h=u[1];fe.useEffect(function(){var x=!0,y=function(w){h(function(_){return _.stripe?_:{stripe:w,elements:w.elements(r)}})};return l.tag==="async"&&!f.stripe?l.stripePromise.then(function(j){j&&x&&y(j)}):l.tag==="sync"&&!f.stripe&&y(l.stripe),function(){x=!1}},[l,f,r]);var m=bp(n);fe.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var p=bp(r);return fe.useEffect(function(){if(f.elements){var x=pS(r,p,["clientSecret","fonts"]);x&&f.elements.update(x)}},[r,p,f.elements]),fe.useEffect(function(){u5(f.stripe)},[f.stripe]),fe.createElement(Fd.Provider,{value:f},o)};xS.propTypes={stripe:vt.any,options:vt.object};var d5=function(t){var n=fe.useContext(Fd);return gS(n,t)},f5=function(){var t=d5("calls useElements()"),n=t.elements;return n};vt.func.isRequired;var yS=fe.createContext(null);yS.displayName="CustomCheckoutSdkContext";var h5=function(t,n){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return t},m5=fe.createContext(null);m5.displayName="CustomCheckoutContext";vt.any,vt.shape({clientSecret:vt.string.isRequired,elementsOptions:vt.object}).isRequired;var jp=function(t){var n=fe.useContext(yS),r=fe.useContext(Fd);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return n?h5(n,t):gS(r,t)},p5=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},kt=function(t,n){var r="".concat(p5(t),"Element"),o=function(f){var h=f.id,m=f.className,p=f.options,x=p===void 0?{}:p,y=f.onBlur,j=f.onFocus,w=f.onReady,_=f.onChange,N=f.onEscape,C=f.onClick,k=f.onLoadError,P=f.onLoaderStart,E=f.onNetworksChange,D=f.onConfirm,O=f.onCancel,A=f.onShippingAddressChange,R=f.onShippingRateChange,z=jp("mounts <".concat(r,">")),Q="elements"in z?z.elements:null,G="customCheckoutSdk"in z?z.customCheckoutSdk:null,W=fe.useState(null),U=mS(W,2),q=U[0],K=U[1],I=fe.useRef(null),L=fe.useRef(null);Pn(q,"blur",y),Pn(q,"focus",j),Pn(q,"escape",N),Pn(q,"click",C),Pn(q,"loaderror",k),Pn(q,"loaderstart",P),Pn(q,"networkschange",E),Pn(q,"confirm",D),Pn(q,"cancel",O),Pn(q,"shippingaddresschange",A),Pn(q,"shippingratechange",R),Pn(q,"change",_);var B;w&&(t==="expressCheckout"?B=w:B=function(){w(q)}),Pn(q,"ready",B),fe.useLayoutEffect(function(){if(I.current===null&&L.current!==null&&(Q||G)){var $=null;G?$=G.createElement(t,x):Q&&($=Q.create(t,x)),I.current=$,K($),$&&$.mount(L.current)}},[Q,G,x]);var Z=bp(x);return fe.useEffect(function(){if(I.current){var $=pS(x,Z,["paymentRequest"]);$&&"update"in I.current&&I.current.update($)}},[x,Z]),fe.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),fe.createElement("div",{id:h,className:m,ref:L})},l=function(f){jp("mounts <".concat(r,">"));var h=f.id,m=f.className;return fe.createElement("div",{id:h,className:m})},c=n?l:o;return c.propTypes={id:vt.string,className:vt.string,onChange:vt.func,onBlur:vt.func,onFocus:vt.func,onReady:vt.func,onEscape:vt.func,onClick:vt.func,onLoadError:vt.func,onLoaderStart:vt.func,onNetworksChange:vt.func,onConfirm:vt.func,onCancel:vt.func,onShippingAddressChange:vt.func,onShippingRateChange:vt.func,options:vt.object},c.displayName=r,c.__elementType=t,c},Pt=typeof window>"u",v5=fe.createContext(null);v5.displayName="EmbeddedCheckoutProviderContext";var g5=function(){var t=jp("calls useStripe()"),n=t.stripe;return n};kt("auBankAccount",Pt);kt("card",Pt);kt("cardNumber",Pt);kt("cardExpiry",Pt);kt("cardCvc",Pt);kt("fpxBank",Pt);kt("iban",Pt);kt("idealBank",Pt);kt("p24Bank",Pt);kt("epsBank",Pt);var x5=kt("payment",Pt);kt("expressCheckout",Pt);kt("currencySelector",Pt);kt("paymentRequestButton",Pt);kt("linkAuthentication",Pt);kt("address",Pt);kt("shippingAddress",Pt);kt("paymentMethodMessaging",Pt);kt("affirmMessage",Pt);kt("afterpayClearpayMessage",Pt);const y5=J3("pk_test_51RU0DpAcyZwL9ZCroHLDNCalx80u736eoFCb3mNARKz2BpDuDhl2VgtPJWp8t0jkaitH7zXOFDiE7B3q95rNColr00V7gqABTc",{stripeAccount:"acct_1RU0DpAcyZwL9ZCr"}),w5=({onPaymentSuccess:e})=>{const t=g5(),n=f5(),[r,o]=g.useState(!1),l=async c=>{if(c.preventDefault(),!(!t||!n)){o(!0);try{const{error:u,paymentIntent:f}=await t.confirmPayment({elements:n,redirect:"if_required"});if(u)throw new Error(u.message);const m=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/verify-stripe-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({paymentIntentId:f.id})})).json();if(m.success)await e(m.orderData),te({title:"Payment Successful",description:"Your order has been placed successfully."});else throw new Error(m.error||"Payment verification failed")}catch(u){console.error("Payment error:",u),te({variant:"destructive",title:"Payment Failed",description:u.message})}finally{o(!1)}}};return s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsx(x5,{}),s.jsx(ee,{type:"submit",className:"w-full",disabled:r,children:r?"Processing...":"Pay Now"})]})},wS=({clientSecret:e,onPaymentSuccess:t})=>e?s.jsx(xS,{stripe:y5,options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"#2E8B57"}}},children:s.jsx(w5,{onPaymentSuccess:t})}):null,ud=({product:e})=>{const{addToCart:t,updateQuantity:n,cart:r}=is(),o=r.find(f=>f.id===e.id),l=o?o.quantity:0,c=(f,h)=>{f.preventDefault(),f.stopPropagation(),n(e.id,h)},u=f=>{f.preventDefault(),f.stopPropagation(),t(e,1)};return s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`product-card overflow-hidden rounded-lg border bg-card ${e.in_stock?"":"opacity-60"}`,children:s.jsxs(Te,{to:`/product/${e.id}`,className:"block",children:[s.jsxs("div",{className:"relative aspect-square w-full max-h-48 bg-muted",children:[s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.image_url||"/product-placeholder.webp"}),e.featured&&s.jsx(it,{variant:"default",className:"absolute top-2 left-2 text-xs",children:"Featured"}),!e.in_stock&&s.jsx(it,{variant:"destructive",className:"absolute top-2 right-2 text-xs",children:"Out of Stock"})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-sm font-medium truncate",children:e.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-base font-semibold",children:je(e.price)}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["per ",e.unit]})]}),e.in_stock?l>0?s.jsxs("div",{className:"flex items-center space-x-1",onClick:f=>f.preventDefault(),children:[s.jsx(ee,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:f=>c(f,l-1),children:s.jsx(sc,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-xs font-medium w-4 text-center",children:l}),s.jsx(ee,{size:"icon",className:"h-6 w-6",onClick:f=>c(f,l+1),children:s.jsx(pa,{className:"h-3 w-3"})})]}):s.jsx(ee,{size:"icon",className:"h-7 w-7 rounded-full",onClick:u,children:s.jsx(Ri,{className:"h-3 w-3"})}):s.jsx(ee,{size:"icon",className:"h-7 w-7 rounded-full",disabled:!0,children:s.jsx(Ri,{className:"h-3 w-3"})})]})]})]})})},b5=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(!1),f=g.useRef(null),h=g.useRef(null),{addToCart:m}=is(),{user:p}=un(),x=()=>{var C;(C=f.current)==null||C.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{x()},[n]);const y=async C=>{var P;if(C.preventDefault(),!o.trim()||c||!p)return;const k=o.trim();l(""),r(E=>[...E,{role:"user",content:k}]),u(!0);try{const E=await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/googlegenai-api",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({message:k,user_id:p.id})});if(!E.ok)throw new Error("Failed to get AI response");const D=await E.json();let O=[];Array.isArray(D.products)&&(typeof D.products[0]=="string"?O=D.products:typeof D.products[0]=="object"&&((P=D.products[0])!=null&&P.name)&&(O=D.products.map(R=>R.name)));let A=[];if(O.length>0){const R=O.map(G=>`'${G.replace(/'/g,"''")}'`).join(" | "),{data:z,error:Q}=await ae.from("products").select("*").textSearch("name",R);!Q&&z&&(A=z)}r(R=>[...R,{role:"assistant",content:D.message||"Here are some suggestions:",products:A}]),u(!1)}catch(E){console.error("Error:",E),r(D=>[...D,{role:"assistant",content:"Sorry, something went wrong. Please try again later.",products:[]}]),u(!1)}},j=()=>{window.open("https://wa.me/1234567890","_blank")},w=()=>s.jsx("div",{className:"p-4",children:s.jsx(Id,{onSuccess:()=>{}})}),_={closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},N={closed:{opacity:0},open:{opacity:1}};return s.jsxs(s.Fragment,{children:[s.jsx(ee,{onClick:()=>t(!e),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-[#3cb371] hover:bg-[#3cb371]/90 z-50",size:"icon",children:s.jsx("img",{src:"/icon-plain.webp",alt:"Groceroo AI",className:"h-10 w-10"})}),s.jsx(Il,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(be.div,{className:"fixed inset-0 z-40 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:N,onClick:()=>t(!1)}),s.jsxs(be.div,{ref:h,initial:"closed",animate:"open",exit:"closed",variants:_,className:"fixed top-0 right-0 z-50 w-full max-w-md h-full bg-background border-l rounded-l-lg shadow-xl flex flex-col overflow-hidden",style:{maxHeight:"100vh"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Chat with a human on WhatsApp!"}),s.jsx(ee,{onClick:j,className:"h-12 w-[30%] rounded-lg bg-[#25D366] hover:bg-[#128C7E] flex items-center justify-center",size:"icon","aria-label":"Open WhatsApp Chat",children:s.jsx(rc,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[s.jsxs("span",{className:"text-lg font-semibold text-muted-foreground",children:[s.jsx(RR,{className:"inline-block mr-2"}),"AI Chat (beta)"]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:s.jsx(ei,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex-1 flex flex-col h-0",children:p?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map((C,k)=>s.jsx("div",{className:`flex ${C.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-full rounded-lg p-3 ${C.role==="user"?"bg-[#2E8B57] text-white":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm",children:C.content}),C.products&&C.products.length>0&&s.jsx("div",{className:"mt-2 space-y-2",children:C.products.map(P=>s.jsxs("div",{className:"flex items-center justify-between bg-background rounded p-2",children:[s.jsx("span",{className:"text-sm",children:P.name}),s.jsx(ee,{size:"sm",onClick:()=>m(P,1),children:s.jsx(Ri,{className:"h-4 w-4"})})]},P.id))})]})},k)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg p-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),s.jsx("div",{ref:f})]}),s.jsx("form",{onSubmit:y,className:"p-4 border-t bg-background",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ge,{value:o,onChange:C=>l(C.target.value),placeholder:"I want to cook some Pasta for dinner",disabled:c}),s.jsx(ee,{type:"submit",size:"icon",disabled:c,children:s.jsx(va,{className:"h-4 w-4"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto",children:s.jsx(w,{})})})]})]})})]})};function Cr(e,t,n=30){const r=Date.now()+n*60*1e3,o={data:t,expires:r};localStorage.setItem(e,JSON.stringify(o))}function kr(e){const t=localStorage.getItem(e);if(!t)return null;try{const n=JSON.parse(t);return n.expires&&n.expires>Date.now()?n.data:(localStorage.removeItem(e),null)}catch{return localStorage.removeItem(e),null}}function j5(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}function _5(){return/android/.test(window.navigator.userAgent.toLowerCase())}function S5(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const N5=({onClose:e,platform:t})=>s.jsxs("div",{className:"fixed bottom-4 left-1/2 z-50 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in-up max-w-xs w-full",children:[s.jsx("button",{onClick:e,className:"ml-1 mr-2 text-lg font-bold",children:""}),s.jsx("span",{children:t==="ios"?'Install the app on your iOS device: tap Share, then "Add to Home Screen".':'Install the app: tap the menu and "Add to Home screen".'})]}),C5=()=>{const{user:e}=un(),[t,n]=g.useState([]),[r,o]=g.useState([]),[l,c]=g.useState([]),[u,f]=g.useState(!0),[h,m]=g.useState(""),[p,x]=g.useState(45),[y,j]=g.useState(!1),[w,_]=g.useState(null),[N,C]=g.useState(!1),k=On();g.useEffect(()=>{(async()=>{try{let R=kr("featuredProducts"),z=kr("categories_home"),Q=kr("deliverySettings");if(!R){const{data:G,error:W}=await ae.from("products").select("*, categories ( id, name )").eq("featured",!0).limit(20);if(W)throw W;R=G||[],Cr("featuredProducts",R)}if(!z){const{data:G,error:W}=await ae.from("categories").select("*").order("priority",{ascending:!1}).limit(7);if(W)throw W;z=G||[],Cr("categories_home",z)}if(!Q){const{data:G,error:W}=await ae.from("delivery_settings").select("estimated_delivery_minutes").eq("id",1).single();!W&&G&&(Q=G,Cr("deliverySettings",Q))}n(R),c(z),Q&&x(Q.estimated_delivery_minutes),e&&await P()}catch(R){console.error("Error fetching data:",R)}finally{f(!1)}})()},[e]);const P=async()=>{try{let A=kr(`previouslyOrderedProducts_${e==null?void 0:e.id}`);if(!A){const{data:R,error:z}=await ae.from("orders").select("items").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(z)throw z;if(R&&R.length>0){const Q=new Set;if(R.forEach(G=>{G.items&&Array.isArray(G.items)&&G.items.forEach(W=>{W.id&&Q.add(W.id)})}),Q.size>0){const{data:G,error:W}=await ae.from("products").select("*, categories ( id, name )").in("id",Array.from(Q)).limit(12);!W&&G&&(A=G,Cr(`previouslyOrderedProducts_${e.id}`,A))}}}A&&o(A)}catch(A){console.error("Error fetching previously ordered products:",A)}};g.useEffect(()=>{if(!h)return;const A=setTimeout(()=>{if(!e){const R=parseInt(localStorage.getItem("search_count")||"0",10);if(R>=10){C(!0);return}localStorage.setItem("search_count",(R+1).toString())}k(`/shop?search=${encodeURIComponent(h.trim())}`)},500);return()=>clearTimeout(A)},[h,e,k]);const E="w-5 h-5 text-primary",D=A=>{switch(A.toLowerCase()){case"beverages":case"soda":case"drinks":return s.jsx(l$,{className:E});case"dairy & eggs":return s.jsx(u$,{className:E});case"cookies":case"biscuits":return s.jsx(r$,{className:E});case"burgers":case"fast food":return s.jsx(x$,{className:E});case"bakery":return s.jsx(o$,{className:E});case"fruits":return s.jsx(PR,{className:E});case"meat":return s.jsx(DR,{className:E});case"confectionary":case"candy":return s.jsx(FR,{className:E});case"seafood":return s.jsx(p$,{className:E});case"kitchen":return s.jsx(cM,{className:E});default:return s.jsx(ur,{className:E})}};g.useEffect(()=>{window.innerWidth>768||S5()||localStorage.getItem("a2hs-dismissed")||(j5()?(_("ios"),j(!0)):_5()&&(_("android"),j(!0)))},[]);const O=()=>{j(!1),localStorage.setItem("a2hs-dismissed","1")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[y&&s.jsx(N5,{onClose:O,platform:w}),s.jsxs("section",{className:"relative min-h-[350px] h-[40vh] max-h-[500px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"/outbanner.webp",alt:"Grocery delivery",className:"w-full h-full object-cover opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-4xl mx-auto py-4 md:py-6",children:s.jsxs(be.div,{className:"space-y-3 md:space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx(be.div,{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.4},children:s.jsxs("div",{className:"inline-flex items-center bg-white/95 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg w-fit",children:[s.jsx(A$,{className:"w-3 h-3 text-[#fd7507] mr-1.5"}),s.jsx("span",{className:"text-[#2E8B57] font-semibold text-xs",children:"Adelaide  "}),"  ",s.jsx(ur,{className:"w-3 h-3 text-[#2E8B57] mr-1.5"}),s.jsxs("span",{className:"text-[#2E8B57] font-small text-xs",children:[p,"m"]})]})}),s.jsx(be.form,{onSubmit:A=>A.preventDefault(),className:"flex gap-1 w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:s.jsx("div",{className:"flex-1 relative",children:s.jsx(ge,{type:"text",placeholder:"Search for groceries and more...",value:h,onChange:A=>m(A.target.value),className:"h-10 md:h-12 pl-3 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500 text-sm"})})}),s.jsx(be.div,{className:"pt-2 flex justify-center gap-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.5}}),s.jsx(be.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},className:"relative",children:s.jsxs("div",{className:"flex overflow-x-auto pb-1 space-x-6 scrollbar-hide px-4 md:px-0 md:justify-center",children:[l.map(A=>s.jsxs(Te,{to:`/category/${A.id}`,className:"flex-none group text-center",children:[s.jsxs("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:[s.jsx("img",{src:A.icon_url,alt:A.name,className:"w-12 h-12 md:w-14 md:h-14 object-cover rounded-full",onError:R=>{R.target.style.display="none",R.target.nextSibling.style.display="flex"}}),s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 hidden items-center justify-center",children:D(A.name)})]}),s.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:A.name})]},A.id)),s.jsxs(Te,{to:"/categories",className:"flex-none group text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(fp,{className:"h-6 w-6 md:h-8 md:w-8 text-white"})})}),s.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:"View All"})]})]})}),s.jsxs(be.div,{className:"pt-2 flex justify-center md:max-w-[400px] lg:max-w-[400px] mx-auto gap-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.5},children:[s.jsx(Te,{to:"/shop",className:"block w-full max-w-[160px]",children:s.jsxs(ee,{size:"lg",style:{background:"#fd7507",color:"white"},className:"w-full h-10 md:h-12 font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"})," Shop"]})}),s.jsx(Te,{to:"/grocery-run",className:"block w-full",children:s.jsxs(ee,{size:"lg",variant:"outline",className:"w-full h-10 md:h-12 bg-white/95 hover:bg-white border-2 border-white/50 shadow-lg text-[#2E8B57] hover:text-[#2E8B57] font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:["..",s.jsx(hv,{className:"w-4 h-4 mr-2"}),"Grocery Run"]})})]})]})})})]}),e&&r.length>0&&s.jsx("section",{className:"py-8 bg-gray-50",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsx(be.h2,{className:"text-xl font-bold mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Previously Ordered"}),s.jsx(be.div,{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:r.slice(0,12).map(A=>s.jsx("div",{className:"flex-none w-48",children:s.jsx(ud,{product:A})},A.id))})]})}),s.jsx("section",{className:"py-8 bg-white",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(be.h2,{className:"text-xl font-bold",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Featured Products"}),s.jsx(Te,{to:"/shop",className:"flex-none group text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx(fp,{className:"h-5 w-5 text-primary"})}),s.jsx("span",{className:"text-xs font-medium text-primary transition-colors block truncate",children:"View All"})]})})]}),s.jsx(be.div,{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:t.map(A=>s.jsx(ud,{product:A},A.id))})]})}),s.jsx(b5,{}),N&&s.jsx(Sv,{open:N,onOpenChange:C})]})};function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(null,arguments)}function Xw(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ut(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ev(e,t=[]){let n=[];function r(l,c){const u=g.createContext(c),f=n.length;n=[...n,c];function h(p){const{scope:x,children:y,...j}=p,w=(x==null?void 0:x[e][f])||u,_=g.useMemo(()=>j,Object.values(j));return g.createElement(w.Provider,{value:_},y)}function m(p,x){const y=(x==null?void 0:x[e][f])||u,j=g.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return h.displayName=l+"Provider",[h,m]}const o=()=>{const l=n.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[r,k5(o,...t)]}function k5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=r.reduce((u,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function P5(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bS(...e){return t=>e.forEach(n=>P5(n,t))}function nn(...e){return g.useCallback(bS(...e),e)}const Bl=g.forwardRef((e,t)=>{const{children:n,...r}=e,o=g.Children.toArray(n),l=o.find(T5);if(l){const c=l.props.children,u=o.map(f=>f===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:f);return g.createElement(_p,et({},r,{ref:t}),g.isValidElement(c)?g.cloneElement(c,void 0,u):null)}return g.createElement(_p,et({},r,{ref:t}),n)});Bl.displayName="Slot";const _p=g.forwardRef((e,t)=>{const{children:n,...r}=e;return g.isValidElement(n)?g.cloneElement(n,{...A5(r,n.props),ref:t?bS(t,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});_p.displayName="SlotClone";const E5=({children:e})=>g.createElement(g.Fragment,null,e);function T5(e){return g.isValidElement(e)&&e.type===E5}function A5(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...u)=>{l(...u),o(...u)}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function D5(e){const t=e+"CollectionProvider",[n,r]=Ev(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:j,children:w}=y,_=fe.useRef(null),N=fe.useRef(new Map).current;return fe.createElement(o,{scope:j,itemMap:N,collectionRef:_},w)},u=e+"CollectionSlot",f=fe.forwardRef((y,j)=>{const{scope:w,children:_}=y,N=l(u,w),C=nn(j,N.collectionRef);return fe.createElement(Bl,{ref:C},_)}),h=e+"CollectionItemSlot",m="data-radix-collection-item",p=fe.forwardRef((y,j)=>{const{scope:w,children:_,...N}=y,C=fe.useRef(null),k=nn(j,C),P=l(h,w);return fe.useEffect(()=>(P.itemMap.set(C,{ref:C,...N}),()=>void P.itemMap.delete(C))),fe.createElement(Bl,{[m]:"",ref:k},_)});function x(y){const j=l(e+"CollectionConsumer",y);return fe.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((P,E)=>N.indexOf(P.ref.current)-N.indexOf(E.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:f,ItemSlot:p},x,r]}const O5=g.createContext(void 0);function R5(e){const t=g.useContext(O5);return e||t||"ltr"}const $5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=$5.reduce((e,t)=>{const n=g.forwardRef((r,o)=>{const{asChild:l,...c}=r,u=l?Bl:t;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(u,et({},c,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function M5(e,t){e&&Li.flushSync(()=>e.dispatchEvent(t))}function ns(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function I5(e,t=globalThis==null?void 0:globalThis.document){const n=ns(e);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Sp="dismissableLayer.update",L5="dismissableLayer.pointerDownOutside",F5="dismissableLayer.focusOutside";let Jw;const U5=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B5=g.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,m=g.useContext(U5),[p,x]=g.useState(null),y=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,j]=g.useState({}),w=nn(t,A=>x(A)),_=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(N),k=p?_.indexOf(p):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,E=k>=C,D=V5(A=>{const R=A.target,z=[...m.branches].some(Q=>Q.contains(R));!E||z||(l==null||l(A),u==null||u(A),A.defaultPrevented||f==null||f())},y),O=z5(A=>{const R=A.target;[...m.branches].some(Q=>Q.contains(R))||(c==null||c(A),u==null||u(A),A.defaultPrevented||f==null||f())},y);return I5(A=>{k===m.layers.size-1&&(o==null||o(A),!A.defaultPrevented&&f&&(A.preventDefault(),f()))},y),g.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Qw(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Jw)}},[p,y,r,m]),g.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Qw())},[p,m]),g.useEffect(()=>{const A=()=>j({});return document.addEventListener(Sp,A),()=>document.removeEventListener(Sp,A)},[]),g.createElement(Yt.div,et({},h,{ref:w,style:{pointerEvents:P?E?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,D.onPointerDownCapture)}))});function V5(e,t=globalThis==null?void 0:globalThis.document){const n=ns(e),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!r.current){let h=function(){jS(L5,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function z5(e,t=globalThis==null?void 0:globalThis.document){const n=ns(e),r=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!r.current&&jS(F5,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qw(){const e=new CustomEvent(Sp);document.dispatchEvent(e)}function jS(e,t,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?M5(o,l):o.dispatchEvent(l)}let Cm=0;function W5(){g.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Zw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Zw()),Cm++,()=>{Cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Cm--}},[])}function Zw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const km="focusScope.autoFocusOnMount",Pm="focusScope.autoFocusOnUnmount",eb={bubbles:!1,cancelable:!0},H5=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),h=ns(o),m=ns(l),p=g.useRef(null),x=nn(t,w=>f(w)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(k){if(y.paused||!u)return;const P=k.target;u.contains(P)?p.current=P:Is(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const P=k.relatedTarget;P!==null&&(u.contains(P)||Is(p.current,{select:!0}))},N=function(k){const P=document.activeElement;for(const E of k)E.removedNodes.length>0&&(u!=null&&u.contains(P)||Is(u))};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[r,u,y.paused]),g.useEffect(()=>{if(u){nb.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(km,eb);u.addEventListener(km,h),u.dispatchEvent(N),N.defaultPrevented||(q5(J5(_S(u)),{select:!0}),document.activeElement===w&&Is(u))}return()=>{u.removeEventListener(km,h),setTimeout(()=>{const N=new CustomEvent(Pm,eb);u.addEventListener(Pm,m),u.dispatchEvent(N),N.defaultPrevented||Is(w??document.body,{select:!0}),u.removeEventListener(Pm,m),nb.remove(y)},0)}}},[u,h,m,y]);const j=g.useCallback(w=>{if(!n&&!r||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,P]=Y5(C);k&&P?!w.shiftKey&&N===P?(w.preventDefault(),n&&Is(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),n&&Is(P,{select:!0})):N===C&&w.preventDefault()}},[n,r,y.paused]);return g.createElement(Yt.div,et({tabIndex:-1},c,{ref:x,onKeyDown:j}))});function q5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Is(r,{select:t}),document.activeElement!==n)return}function Y5(e){const t=_S(e),n=tb(t,e),r=tb(t.reverse(),e);return[n,r]}function _S(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tb(e,t){for(const n of e)if(!G5(n,{upTo:t}))return n}function G5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function K5(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&K5(e)&&t&&e.select()}}const nb=X5();function X5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rb(e,t),e.unshift(t)},remove(t){var n;e=rb(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function rb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function J5(e){return e.filter(t=>t.tagName!=="A")}const Xn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Q5=xd.useId||(()=>{});let Z5=0;function SS(e){const[t,n]=g.useState(Q5());return Xn(()=>{n(r=>r??String(Z5++))},[e]),t?`radix-${t}`:""}const eL=["top","right","bottom","left"],Gs=Math.min,Tn=Math.max,dd=Math.round,Wu=Math.floor,Er=e=>({x:e,y:e}),tL={left:"right",right:"left",bottom:"top",top:"bottom"},nL={start:"end",end:"start"};function Np(e,t,n){return Tn(e,Gs(t,n))}function rs(e,t){return typeof e=="function"?e(t):e}function ss(e){return e.split("-")[0]}function ga(e){return e.split("-")[1]}function Tv(e){return e==="x"?"y":"x"}function Av(e){return e==="y"?"height":"width"}function Zr(e){return["top","bottom"].includes(ss(e))?"y":"x"}function Dv(e){return Tv(Zr(e))}function rL(e,t,n){n===void 0&&(n=!1);const r=ga(e),o=Dv(e),l=Av(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=fd(c)),[c,fd(c)]}function sL(e){const t=fd(e);return[Cp(e),t,Cp(t)]}function Cp(e){return e.replace(/start|end/g,t=>nL[t])}function iL(e,t,n){const r=["left","right"],o=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?l:c;default:return[]}}function oL(e,t,n,r){const o=ga(e);let l=iL(ss(e),n==="start",r);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Cp)))),l}function fd(e){return e.replace(/left|right|bottom|top/g,t=>tL[t])}function aL(e){return{top:0,right:0,bottom:0,left:0,...e}}function NS(e){return typeof e!="number"?aL(e):{top:e,right:e,bottom:e,left:e}}function hd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function sb(e,t,n){let{reference:r,floating:o}=e;const l=Zr(t),c=Dv(t),u=Av(c),f=ss(t),h=l==="y",m=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,x=r[u]/2-o[u]/2;let y;switch(f){case"top":y={x:m,y:r.y-o.height};break;case"bottom":y={x:m,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-o.width,y:p};break;default:y={x:r.x,y:r.y}}switch(ga(t)){case"start":y[c]-=x*(n&&h?-1:1);break;case"end":y[c]+=x*(n&&h?-1:1);break}return y}const lL=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=sb(h,r,f),x=r,y={},j=0;for(let w=0;w<u.length;w++){const{name:_,fn:N}=u[w],{x:C,y:k,data:P,reset:E}=await N({x:m,y:p,initialPlacement:r,placement:x,strategy:o,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});m=C??m,p=k??p,y={...y,[_]:{...y[_],...P}},E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(x=E.placement),E.rects&&(h=E.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:m,y:p}=sb(h,x,f)),w=-1)}return{x:m,y:p,placement:x,strategy:o,middlewareData:y}};async function Vl(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=rs(t,e),j=NS(y),_=u[x?p==="floating"?"reference":"floating":p],N=hd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(_)))==null||n?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),C=p==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),P=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},E=hd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:k,strategy:f}):C);return{top:(N.top-E.top+j.top)/P.y,bottom:(E.bottom-N.bottom+j.bottom)/P.y,left:(N.left-E.left+j.left)/P.x,right:(E.right-N.right+j.right)/P.x}}const cL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=rs(e,t)||{};if(h==null)return{};const p=NS(m),x={x:n,y:r},y=Dv(o),j=Av(y),w=await c.getDimensions(h),_=y==="y",N=_?"top":"left",C=_?"bottom":"right",k=_?"clientHeight":"clientWidth",P=l.reference[j]+l.reference[y]-x[y]-l.floating[j],E=x[y]-l.reference[y],D=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let O=D?D[k]:0;(!O||!await(c.isElement==null?void 0:c.isElement(D)))&&(O=u.floating[k]||l.floating[j]);const A=P/2-E/2,R=O/2-w[j]/2-1,z=Gs(p[N],R),Q=Gs(p[C],R),G=z,W=O-w[j]-Q,U=O/2-w[j]/2+A,q=Np(G,U,W),K=!f.arrow&&ga(o)!=null&&U!==q&&l.reference[j]/2-(U<G?z:Q)-w[j]/2<0,I=K?U<G?U-G:U-W:0;return{[y]:x[y]+I,data:{[y]:q,centerOffset:U-q-I,...K&&{alignmentOffset:I}},reset:K}}}),uL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=rs(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const N=ss(o),C=Zr(u),k=ss(u)===u,P=await(f.isRTL==null?void 0:f.isRTL(h.floating)),E=x||(k||!w?[fd(u)]:sL(u)),D=j!=="none";!x&&D&&E.push(...oL(u,w,j,P));const O=[u,...E],A=await Vl(t,_),R=[];let z=((r=l.flip)==null?void 0:r.overflows)||[];if(m&&R.push(A[N]),p){const q=rL(o,c,P);R.push(A[q[0]],A[q[1]])}if(z=[...z,{placement:o,overflows:R}],!R.every(q=>q<=0)){var Q,G;const q=(((Q=l.flip)==null?void 0:Q.index)||0)+1,K=O[q];if(K){var W;const L=p==="alignment"?C!==Zr(K):!1,B=((W=z[0])==null?void 0:W.overflows[0])>0;if(!L||B)return{data:{index:q,overflows:z},reset:{placement:K}}}let I=(G=z.filter(L=>L.overflows[0]<=0).sort((L,B)=>L.overflows[1]-B.overflows[1])[0])==null?void 0:G.placement;if(!I)switch(y){case"bestFit":{var U;const L=(U=z.filter(B=>{if(D){const Z=Zr(B.placement);return Z===C||Z==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Z=>Z>0).reduce((Z,$)=>Z+$,0)]).sort((B,Z)=>B[1]-Z[1])[0])==null?void 0:U[0];L&&(I=L);break}case"initialPlacement":I=u;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function ib(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ob(e){return eL.some(t=>e[t]>=0)}const dL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=rs(e,t);switch(r){case"referenceHidden":{const l=await Vl(t,{...o,elementContext:"reference"}),c=ib(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ob(c)}}}case"escaped":{const l=await Vl(t,{...o,altBoundary:!0}),c=ib(l,n.floating);return{data:{escapedOffsets:c,escaped:ob(c)}}}default:return{}}}}};async function fL(e,t){const{placement:n,platform:r,elements:o}=e,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=ss(n),u=ga(n),f=Zr(n)==="y",h=["left","top"].includes(c)?-1:1,m=l&&f?-1:1,p=rs(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(y=u==="end"?j*-1:j),f?{x:y*m,y:x*h}:{x:x*h,y:y*m}}const hL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:l,placement:c,middlewareData:u}=t,f=await fL(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},mL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:N,y:C}=_;return{x:N,y:C}}},...f}=rs(e,t),h={x:n,y:r},m=await Vl(t,f),p=Zr(ss(o)),x=Tv(p);let y=h[x],j=h[p];if(l){const _=x==="y"?"top":"left",N=x==="y"?"bottom":"right",C=y+m[_],k=y-m[N];y=Np(C,y,k)}if(c){const _=p==="y"?"top":"left",N=p==="y"?"bottom":"right",C=j+m[_],k=j-m[N];j=Np(C,j,k)}const w=u.fn({...t,[x]:y,[p]:j});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[x]:l,[p]:c}}}}}},pL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=rs(e,t),m={x:n,y:r},p=Zr(o),x=Tv(p);let y=m[x],j=m[p];const w=rs(u,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const k=x==="y"?"height":"width",P=l.reference[x]-l.floating[k]+_.mainAxis,E=l.reference[x]+l.reference[k]-_.mainAxis;y<P?y=P:y>E&&(y=E)}if(h){var N,C;const k=x==="y"?"width":"height",P=["top","left"].includes(ss(o)),E=l.reference[p]-l.floating[k]+(P&&((N=c.offset)==null?void 0:N[p])||0)+(P?0:_.crossAxis),D=l.reference[p]+l.reference[k]+(P?0:((C=c.offset)==null?void 0:C[p])||0)-(P?_.crossAxis:0);j<E?j=E:j>D&&(j=D)}return{[x]:y,[p]:j}}}},vL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:l,platform:c,elements:u}=t,{apply:f=()=>{},...h}=rs(e,t),m=await Vl(t,h),p=ss(o),x=ga(o),y=Zr(o)==="y",{width:j,height:w}=l.floating;let _,N;p==="top"||p==="bottom"?(_=p,N=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=p,_=x==="end"?"top":"bottom");const C=w-m.top-m.bottom,k=j-m.left-m.right,P=Gs(w-m[_],C),E=Gs(j-m[N],k),D=!t.middlewareData.shift;let O=P,A=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=C),D&&!x){const z=Tn(m.left,0),Q=Tn(m.right,0),G=Tn(m.top,0),W=Tn(m.bottom,0);y?A=j-2*(z!==0||Q!==0?z+Q:Tn(m.left,m.right)):O=w-2*(G!==0||W!==0?G+W:Tn(m.top,m.bottom))}await f({...t,availableWidth:A,availableHeight:O});const R=await c.getDimensions(u.floating);return j!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function Ud(){return typeof window<"u"}function xa(e){return CS(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mr(e){var t;return(t=(CS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CS(e){return Ud()?e instanceof Node||e instanceof An(e).Node:!1}function hr(e){return Ud()?e instanceof Element||e instanceof An(e).Element:!1}function Ar(e){return Ud()?e instanceof HTMLElement||e instanceof An(e).HTMLElement:!1}function ab(e){return!Ud()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}function ac(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function gL(e){return["table","td","th"].includes(xa(e))}function Bd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ov(e){const t=Rv(),n=hr(e)?mr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xL(e){let t=Ks(e);for(;Ar(t)&&!ia(t);){if(Ov(t))return t;if(Bd(t))return null;t=Ks(t)}return null}function Rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ia(e){return["html","body","#document"].includes(xa(e))}function mr(e){return An(e).getComputedStyle(e)}function Vd(e){return hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ks(e){if(xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ab(e)&&e.host||Mr(e);return ab(t)?t.host:t}function kS(e){const t=Ks(e);return ia(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ar(t)&&ac(t)?t:kS(t)}function zl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=kS(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),c=An(o);if(l){const u=kp(c);return t.concat(c,c.visualViewport||[],ac(o)?o:[],u&&n?zl(u):[])}return t.concat(o,zl(o,[],n))}function kp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PS(e){const t=mr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ar(e),l=o?e.offsetWidth:n,c=o?e.offsetHeight:r,u=dd(n)!==l||dd(r)!==c;return u&&(n=l,r=c),{width:n,height:r,$:u}}function $v(e){return hr(e)?e:e.contextElement}function Jo(e){const t=$v(e);if(!Ar(t))return Er(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:l}=PS(t);let c=(l?dd(n.width):n.width)/r,u=(l?dd(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const yL=Er(0);function ES(e){const t=An(e);return!Rv()||!t.visualViewport?yL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function Mi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=$v(e);let c=Er(1);t&&(r?hr(r)&&(c=Jo(r)):c=Jo(e));const u=wL(l,n,r)?ES(l):Er(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,p=o.height/c.y;if(l){const x=An(l),y=r&&hr(r)?An(r):r;let j=x,w=kp(j);for(;w&&r&&y!==j;){const _=Jo(w),N=w.getBoundingClientRect(),C=mr(w),k=N.left+(w.clientLeft+parseFloat(C.paddingLeft))*_.x,P=N.top+(w.clientTop+parseFloat(C.paddingTop))*_.y;f*=_.x,h*=_.y,m*=_.x,p*=_.y,f+=k,h+=P,j=An(w),w=kp(j)}}return hd({width:m,height:p,x:f,y:h})}function Mv(e,t){const n=Vd(e).scrollLeft;return t?t.left+n:Mi(Mr(e)).left+n}function TS(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Mv(e,r)),l=r.top+t.scrollTop;return{x:o,y:l}}function bL(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const l=o==="fixed",c=Mr(r),u=t?Bd(t.floating):!1;if(r===c||u&&l)return n;let f={scrollLeft:0,scrollTop:0},h=Er(1);const m=Er(0),p=Ar(r);if((p||!p&&!l)&&((xa(r)!=="body"||ac(c))&&(f=Vd(r)),Ar(r))){const y=Mi(r);h=Jo(r),m.x=y.x+r.clientLeft,m.y=y.y+r.clientTop}const x=c&&!p&&!l?TS(c,f,!0):Er(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+m.x+x.x,y:n.y*h.y-f.scrollTop*h.y+m.y+x.y}}function jL(e){return Array.from(e.getClientRects())}function _L(e){const t=Mr(e),n=Vd(e),r=e.ownerDocument.body,o=Tn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Tn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Mv(e);const u=-n.scrollTop;return mr(r).direction==="rtl"&&(c+=Tn(t.clientWidth,r.clientWidth)-o),{width:o,height:l,x:c,y:u}}function SL(e,t){const n=An(e),r=Mr(e),o=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,u=0,f=0;if(o){l=o.width,c=o.height;const h=Rv();(!h||h&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:c,x:u,y:f}}function NL(e,t){const n=Mi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,l=Ar(e)?Jo(e):Er(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=o*l.x,h=r*l.y;return{width:c,height:u,x:f,y:h}}function lb(e,t,n){let r;if(t==="viewport")r=SL(e,n);else if(t==="document")r=_L(Mr(e));else if(hr(t))r=NL(t,n);else{const o=ES(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return hd(r)}function AS(e,t){const n=Ks(e);return n===t||!hr(n)||ia(n)?!1:mr(n).position==="fixed"||AS(n,t)}function CL(e,t){const n=t.get(e);if(n)return n;let r=zl(e,[],!1).filter(u=>hr(u)&&xa(u)!=="body"),o=null;const l=mr(e).position==="fixed";let c=l?Ks(e):e;for(;hr(c)&&!ia(c);){const u=mr(c),f=Ov(c);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ac(c)&&!f&&AS(e,c))?r=r.filter(m=>m!==c):o=u,c=Ks(c)}return t.set(e,r),r}function kL(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?Bd(t)?[]:CL(t,this._c):[].concat(n),r],u=c[0],f=c.reduce((h,m)=>{const p=lb(t,m,o);return h.top=Tn(p.top,h.top),h.right=Gs(p.right,h.right),h.bottom=Gs(p.bottom,h.bottom),h.left=Tn(p.left,h.left),h},lb(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function PL(e){const{width:t,height:n}=PS(e);return{width:t,height:n}}function EL(e,t,n){const r=Ar(t),o=Mr(t),l=n==="fixed",c=Mi(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=Er(0);function h(){f.x=Mv(o)}if(r||!r&&!l)if((xa(t)!=="body"||ac(o))&&(u=Vd(t)),r){const y=Mi(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else o&&h();l&&!r&&o&&h();const m=o&&!r&&!l?TS(o,u):Er(0),p=c.left+u.scrollLeft-f.x-m.x,x=c.top+u.scrollTop-f.y-m.y;return{x:p,y:x,width:c.width,height:c.height}}function Em(e){return mr(e).position==="static"}function cb(e,t){if(!Ar(e)||mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Mr(e)===n&&(n=n.ownerDocument.body),n}function DS(e,t){const n=An(e);if(Bd(e))return n;if(!Ar(e)){let o=Ks(e);for(;o&&!ia(o);){if(hr(o)&&!Em(o))return o;o=Ks(o)}return n}let r=cb(e,t);for(;r&&gL(r)&&Em(r);)r=cb(r,t);return r&&ia(r)&&Em(r)&&!Ov(r)?n:r||xL(e)||n}const TL=async function(e){const t=this.getOffsetParent||DS,n=this.getDimensions,r=await n(e.floating);return{reference:EL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AL(e){return mr(e).direction==="rtl"}const DL={convertOffsetParentRelativeRectToViewportRelativeRect:bL,getDocumentElement:Mr,getClippingRect:kL,getOffsetParent:DS,getElementRects:TL,getClientRects:jL,getDimensions:PL,getScale:Jo,isElement:hr,isRTL:AL};function OS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OL(e,t){let n=null,r;const o=Mr(e);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:y}=h;if(u||t(),!x||!y)return;const j=Wu(p),w=Wu(o.clientWidth-(m+x)),_=Wu(o.clientHeight-(p+y)),N=Wu(m),k={rootMargin:-j+"px "+-w+"px "+-_+"px "+-N+"px",threshold:Tn(0,Gs(1,f))||1};let P=!0;function E(D){const O=D[0].intersectionRatio;if(O!==f){if(!P)return c();O?c(!1,O):r=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!OS(h,e.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(E,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,k)}n.observe(e)}return c(!0),l}function RS(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=$v(e),m=o||l?[...h?zl(h):[],...zl(t)]:[];m.forEach(N=>{o&&N.addEventListener("scroll",n,{passive:!0}),l&&N.addEventListener("resize",n)});const p=h&&u?OL(h,n):null;let x=-1,y=null;c&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let j,w=f?Mi(e):null;f&&_();function _(){const N=Mi(e);w&&!OS(w,N)&&n(),w=N,j=requestAnimationFrame(_)}return n(),()=>{var N;m.forEach(C=>{o&&C.removeEventListener("scroll",n),l&&C.removeEventListener("resize",n)}),p==null||p(),(N=y)==null||N.disconnect(),y=null,f&&cancelAnimationFrame(j)}}const RL=hL,$L=mL,ML=uL,IL=vL,LL=dL,ub=cL,FL=pL,UL=(e,t,n)=>{const r=new Map,o={platform:DL,...n},l={...o.platform,_c:r};return lL(e,t,{...o,platform:l})};var Ju=typeof document<"u"?g.useLayoutEffect:g.useEffect;function md(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!md(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&e.$$typeof)&&!md(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function $S(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function db(e,t){const n=$S(e);return Math.round(t*n)/n}function Tm(e){const t=g.useRef(e);return Ju(()=>{t.current=e}),t}function MS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,p]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=g.useState(r);md(x,r)||y(r);const[j,w]=g.useState(null),[_,N]=g.useState(null),C=g.useCallback(L=>{L!==D.current&&(D.current=L,w(L))},[]),k=g.useCallback(L=>{L!==O.current&&(O.current=L,N(L))},[]),P=l||j,E=c||_,D=g.useRef(null),O=g.useRef(null),A=g.useRef(m),R=f!=null,z=Tm(f),Q=Tm(o),G=Tm(h),W=g.useCallback(()=>{if(!D.current||!O.current)return;const L={placement:t,strategy:n,middleware:x};Q.current&&(L.platform=Q.current),UL(D.current,O.current,L).then(B=>{const Z={...B,isPositioned:G.current!==!1};U.current&&!md(A.current,Z)&&(A.current=Z,Li.flushSync(()=>{p(Z)}))})},[x,t,n,Q,G]);Ju(()=>{h===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[h]);const U=g.useRef(!1);Ju(()=>(U.current=!0,()=>{U.current=!1}),[]),Ju(()=>{if(P&&(D.current=P),E&&(O.current=E),P&&E){if(z.current)return z.current(P,E,W);W()}},[P,E,W,z,R]);const q=g.useMemo(()=>({reference:D,floating:O,setReference:C,setFloating:k}),[C,k]),K=g.useMemo(()=>({reference:P,floating:E}),[P,E]),I=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!K.floating)return L;const B=db(K.floating,m.x),Z=db(K.floating,m.y);return u?{...L,transform:"translate("+B+"px, "+Z+"px)",...$S(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,u,K.floating,m.x,m.y]);return g.useMemo(()=>({...m,update:W,refs:q,elements:K,floatingStyles:I}),[m,W,q,K,I])}const BL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ub({element:r.current,padding:o}).fn(n):{}:r?ub({element:r,padding:o}).fn(n):{}}}},IS=(e,t)=>({...RL(e),options:[e,t]}),LS=(e,t)=>({...$L(e),options:[e,t]}),FS=(e,t)=>({...FL(e),options:[e,t]}),US=(e,t)=>({...ML(e),options:[e,t]}),BS=(e,t)=>({...IL(e),options:[e,t]}),VS=(e,t)=>({...LL(e),options:[e,t]}),zS=(e,t)=>({...BL(e),options:[e,t]});function VL(e){const[t,n]=g.useState(void 0);return Xn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const WS="Popper",[HS,qS]=Ev(WS),[zL,YS]=HS(WS),WL=e=>{const{__scopePopper:t,children:n}=e,[r,o]=g.useState(null);return g.createElement(zL,{scope:t,anchor:r,onAnchorChange:o},n)},HL="PopperAnchor",qL=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,l=YS(HL,n),c=g.useRef(null),u=nn(t,c);return g.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:g.createElement(Yt.div,et({},o,{ref:u}))}),GS="PopperContent",[YL,g9]=HS(GS),GL=g.forwardRef((e,t)=>{var n,r,o,l,c,u,f,h;const{__scopePopper:m,side:p="bottom",sideOffset:x=0,align:y="center",alignOffset:j=0,arrowPadding:w=0,collisionBoundary:_=[],collisionPadding:N=0,sticky:C="partial",hideWhenDetached:k=!1,avoidCollisions:P=!0,onPlaced:E,...D}=e,O=YS(GS,m),[A,R]=g.useState(null),z=nn(t,Be=>R(Be)),[Q,G]=g.useState(null),W=VL(Q),U=(n=W==null?void 0:W.width)!==null&&n!==void 0?n:0,q=(r=W==null?void 0:W.height)!==null&&r!==void 0?r:0,K=p+(y!=="center"?"-"+y:""),I=typeof N=="number"?N:{top:0,right:0,bottom:0,left:0,...N},L=Array.isArray(_)?_:[_],B=L.length>0,Z={padding:I,boundary:L.filter(KL),altBoundary:B},{refs:$,floatingStyles:J,placement:le,isPositioned:ue,middlewareData:ye}=MS({strategy:"fixed",placement:K,whileElementsMounted:RS,elements:{reference:O.anchor},middleware:[IS({mainAxis:x+q,alignmentAxis:j}),P&&LS({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?FS():void 0,...Z}),P&&US({...Z}),BS({...Z,apply:({elements:Be,rects:Qe,availableWidth:dn,availableHeight:Rn})=>{const{width:os,height:jn}=Qe.reference,$n=Be.floating.style;$n.setProperty("--radix-popper-available-width",`${dn}px`),$n.setProperty("--radix-popper-available-height",`${Rn}px`),$n.setProperty("--radix-popper-anchor-width",`${os}px`),$n.setProperty("--radix-popper-anchor-height",`${jn}px`)}}),Q&&zS({element:Q,padding:w}),XL({arrowWidth:U,arrowHeight:q}),k&&VS({strategy:"referenceHidden"})]}),[me,ie]=KS(le),pe=ns(E);Xn(()=>{ue&&(pe==null||pe())},[ue,pe]);const Ne=(o=ye.arrow)===null||o===void 0?void 0:o.x,ve=(l=ye.arrow)===null||l===void 0?void 0:l.y,de=((c=ye.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[Ce,Ue]=g.useState();return Xn(()=>{A&&Ue(window.getComputedStyle(A).zIndex)},[A]),g.createElement("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ue?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(u=ye.transformOrigin)===null||u===void 0?void 0:u.x,(f=ye.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},g.createElement(YL,{scope:m,placedSide:me,onArrowChange:G,arrowX:Ne,arrowY:ve,shouldHideArrow:de},g.createElement(Yt.div,et({"data-side":me,"data-align":ie},D,{ref:z,style:{...D.style,animation:ue?void 0:"none",opacity:(h=ye.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function KL(e){return e!==null}const XL=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,l,c;const{placement:u,rects:f,middlewareData:h}=t,p=((n=h.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,x=p?0:e.arrowWidth,y=p?0:e.arrowHeight,[j,w]=KS(u),_={start:"0%",center:"50%",end:"100%"}[w],N=((r=(o=h.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+x/2,C=((l=(c=h.arrow)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0)+y/2;let k="",P="";return j==="bottom"?(k=p?_:`${N}px`,P=`${-y}px`):j==="top"?(k=p?_:`${N}px`,P=`${f.floating.height+y}px`):j==="right"?(k=`${-y}px`,P=p?_:`${C}px`):j==="left"&&(k=`${f.floating.width+y}px`,P=p?_:`${C}px`),{data:{x:k,y:P}}}});function KS(e){const[t,n="center"]=e.split("-");return[t,n]}const JL=WL,QL=qL,ZL=GL,eF=g.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?Db.createPortal(g.createElement(Yt.div,et({},o,{ref:t})),r):null});function fb({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=tF({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r,u=ns(n),f=g.useCallback(h=>{if(l){const p=typeof h=="function"?h(e):h;p!==e&&u(p)}else o(h)},[l,e,o,u]);return[c,f]}function tF({defaultProp:e,onChange:t}){const n=g.useState(e),[r]=n,o=g.useRef(r),l=ns(t);return g.useEffect(()=>{o.current!==r&&(l(r),o.current=r)},[r,o,l]),n}function nF(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const rF=g.forwardRef((e,t)=>g.createElement(Yt.span,et({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var XS=o_(),Am=function(){},zd=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:Am,onWheelCapture:Am,onTouchMoveCapture:Am}),o=r[0],l=r[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=gv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=x,P=i_([n,t]),E=tn(tn({},C),o);return g.createElement(g.Fragment,null,m&&g.createElement(k,{sideCar:XS,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:n}),c?g.cloneElement(g.Children.only(u),tn(tn({},E),{ref:P})):g.createElement(N,tn({},E,{className:f,ref:P}),u))});zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zd.classNames={fullWidth:Al,zeroRight:Tl};var Pp=!1;if(typeof window<"u")try{var Hu=Object.defineProperty({},"passive",{get:function(){return Pp=!0,!0}});window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{Pp=!1}var Fo=Pp?{passive:!1}:!1,sF=function(e){return e.tagName==="TEXTAREA"},JS=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!sF(e)&&n[t]==="visible")},iF=function(e){return JS(e,"overflowY")},oF=function(e){return JS(e,"overflowX")},hb=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=QS(e,n);if(r){var o=ZS(e,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},aF=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},lF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},QS=function(e,t){return e==="v"?iF(t):oF(t)},ZS=function(e,t){return e==="v"?aF(t):lF(t)},cF=function(e,t){return e==="h"&&t==="rtl"?-1:1},uF=function(e,t,n,r,o){var l=cF(e,window.getComputedStyle(t).direction),c=l*r,u=n.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=ZS(e,u),j=y[0],w=y[1],_=y[2],N=w-_-l*j;(j||N)&&QS(e,u)&&(p+=N,x+=j),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&p===0||!m&&x===0)&&(h=!0),h},qu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mb=function(e){return[e.deltaX,e.deltaY]},pb=function(e){return e&&"current"in e?e.current:e},dF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hF=0,Uo=[];function mF(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(hF++)[0],l=g.useState(function(){return xv()})[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=s_([e.lockRef.current],(e.shards||[]).map(pb),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(w,_){if("touches"in w&&w.touches.length===2)return!c.current.allowPinchZoom;var N=qu(w),C=n.current,k="deltaX"in w?w.deltaX:C[0]-N[0],P="deltaY"in w?w.deltaY:C[1]-N[1],E,D=w.target,O=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in w&&O==="h"&&D.type==="range")return!1;var A=hb(O,D);if(!A)return!0;if(A?E=O:(E=O==="v"?"h":"v",A=hb(O,D)),!A)return!1;if(!r.current&&"changedTouches"in w&&(k||P)&&(r.current=E),!E)return!0;var R=r.current||E;return uF(R,_,w,R==="h"?k:P)},[]),f=g.useCallback(function(w){var _=w;if(!(!Uo.length||Uo[Uo.length-1]!==l)){var N="deltaY"in _?mb(_):qu(_),C=t.current.filter(function(E){return E.name===_.type&&E.target===_.target&&dF(E.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(pb).filter(Boolean).filter(function(E){return E.contains(_.target)}),P=k.length>0?u(_,k[0]):!c.current.noIsolation;P&&_.cancelable&&_.preventDefault()}}},[]),h=g.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(P){return P!==k})},1)},[]),m=g.useCallback(function(w){n.current=qu(w),r.current=void 0},[]),p=g.useCallback(function(w){h(w.type,mb(w),w.target,u(w,e.lockRef.current))},[]),x=g.useCallback(function(w){h(w.type,qu(w),w.target,u(w,e.lockRef.current))},[]);g.useEffect(function(){return Uo.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Fo),document.addEventListener("touchmove",f,Fo),document.addEventListener("touchstart",m,Fo),function(){Uo=Uo.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,Fo),document.removeEventListener("touchmove",f,Fo),document.removeEventListener("touchstart",m,Fo)}},[]);var y=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(l,{styles:fF(o)}):null,y?g.createElement(u_,{gapMode:"margin"}):null)}const pF=l_(XS,mF);var eN=g.forwardRef(function(e,t){return g.createElement(zd,tn({},e,{ref:t,sideCar:pF}))});eN.classNames=zd.classNames;const vF=[" ","Enter","ArrowUp","ArrowDown"],gF=[" ","Enter"],Wd="Select",[Hd,qd,xF]=D5(Wd),[ya,x9]=Ev(Wd,[xF,qS]),Iv=qS(),[yF,Ki]=ya(Wd),[wF,bF]=ya(Wd),jF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:l,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:p,disabled:x,required:y}=e,j=Iv(t),[w,_]=g.useState(null),[N,C]=g.useState(null),[k,P]=g.useState(!1),E=R5(h),[D=!1,O]=fb({prop:r,defaultProp:o,onChange:l}),[A,R]=fb({prop:c,defaultProp:u,onChange:f}),z=g.useRef(null),Q=w?!!w.closest("form"):!0,[G,W]=g.useState(new Set),U=Array.from(G).map(q=>q.props.value).join(";");return g.createElement(JL,j,g.createElement(yF,{required:y,scope:t,trigger:w,onTriggerChange:_,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:P,contentId:SS(),value:A,onValueChange:R,open:D,onOpenChange:O,dir:E,triggerPointerDownPosRef:z,disabled:x},g.createElement(Hd.Provider,{scope:t},g.createElement(wF,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{W(K=>new Set(K).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{W(K=>{const I=new Set(K);return I.delete(q),I})},[])},n)),Q?g.createElement(sN,{key:U,"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:A,onChange:q=>R(q.target.value),disabled:x},A===void 0?g.createElement("option",{value:""}):null,Array.from(G)):null))},_F="SelectTrigger",SF=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,l=Iv(n),c=Ki(_F,n),u=c.disabled||r,f=nn(t,c.onTriggerChange),h=qd(n),[m,p,x]=iN(j=>{const w=h().filter(C=>!C.disabled),_=w.find(C=>C.value===c.value),N=oN(w,j,_);N!==void 0&&c.onValueChange(N.value)}),y=()=>{u||(c.onOpenChange(!0),x())};return g.createElement(QL,et({asChild:!0},l),g.createElement(Yt.button,et({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":c.value===void 0?"":void 0},o,{ref:f,onClick:Ut(o.onClick,j=>{j.currentTarget.focus()}),onPointerDown:Ut(o.onPointerDown,j=>{const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&(y(),c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)},j.preventDefault())}),onKeyDown:Ut(o.onKeyDown,j=>{const w=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&p(j.key),!(w&&j.key===" ")&&vF.includes(j.key)&&(y(),j.preventDefault())})})))}),NF="SelectValue",CF=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:c,...u}=e,f=Ki(NF,n),{onValueNodeHasChildrenChange:h}=f,m=l!==void 0,p=nn(t,f.onValueNodeChange);return Xn(()=>{h(m)},[h,m]),g.createElement(Yt.span,et({},u,{ref:p,style:{pointerEvents:"none"}}),f.value===void 0&&c!==void 0?c:l)}),kF=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return g.createElement(Yt.span,et({"aria-hidden":!0},o,{ref:t}),r||"")}),PF=e=>g.createElement(eF,et({asChild:!0},e)),oa="SelectContent",EF=g.forwardRef((e,t)=>{const n=Ki(oa,e.__scopeSelect),[r,o]=g.useState();if(Xn(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?Li.createPortal(g.createElement(tN,{scope:e.__scopeSelect},g.createElement(Hd.Slot,{scope:e.__scopeSelect},g.createElement("div",null,e.children))),l):null}return g.createElement(TF,et({},e,{ref:t}))}),Gr=10,[tN,Xi]=ya(oa),TF=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_,...N}=e,C=Ki(oa,n),[k,P]=g.useState(null),[E,D]=g.useState(null),O=nn(t,ie=>P(ie)),[A,R]=g.useState(null),[z,Q]=g.useState(null),G=qd(n),[W,U]=g.useState(!1),q=g.useRef(!1);g.useEffect(()=>{if(k)return wv(k)},[k]),W5();const K=g.useCallback(ie=>{const[pe,...Ne]=G().map(Ce=>Ce.ref.current),[ve]=Ne.slice(-1),de=document.activeElement;for(const Ce of ie)if(Ce===de||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===pe&&E&&(E.scrollTop=0),Ce===ve&&E&&(E.scrollTop=E.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==de))return},[G,E]),I=g.useCallback(()=>K([A,k]),[K,A,k]);g.useEffect(()=>{W&&I()},[W,I]);const{onOpenChange:L,triggerPointerDownPosRef:B}=C;g.useEffect(()=>{if(k){let ie={x:0,y:0};const pe=ve=>{var de,Ce,Ue,Be;ie={x:Math.abs(Math.round(ve.pageX)-((de=(Ce=B.current)===null||Ce===void 0?void 0:Ce.x)!==null&&de!==void 0?de:0)),y:Math.abs(Math.round(ve.pageY)-((Ue=(Be=B.current)===null||Be===void 0?void 0:Be.y)!==null&&Ue!==void 0?Ue:0))}},Ne=ve=>{ie.x<=10&&ie.y<=10?ve.preventDefault():k.contains(ve.target)||L(!1),document.removeEventListener("pointermove",pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[k,L,B]),g.useEffect(()=>{const ie=()=>L(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[L]);const[Z,$]=iN(ie=>{const pe=G().filter(de=>!de.disabled),Ne=pe.find(de=>de.ref.current===document.activeElement),ve=oN(pe,ie,Ne);ve&&setTimeout(()=>ve.ref.current.focus())}),J=g.useCallback((ie,pe,Ne)=>{const ve=!q.current&&!Ne;(C.value!==void 0&&C.value===pe||ve)&&(R(ie),ve&&(q.current=!0))},[C.value]),le=g.useCallback(()=>k==null?void 0:k.focus(),[k]),ue=g.useCallback((ie,pe,Ne)=>{const ve=!q.current&&!Ne;(C.value!==void 0&&C.value===pe||ve)&&Q(ie)},[C.value]),ye=r==="popper"?vb:AF,me=ye===vb?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return g.createElement(tN,{scope:n,content:k,viewport:E,onViewportChange:D,itemRefCallback:J,selectedItem:A,onItemLeave:le,itemTextRefCallback:ue,focusSelectedItem:I,selectedItemText:z,position:r,isPositioned:W,searchRef:Z},g.createElement(eN,{as:Bl,allowPinchZoom:!0},g.createElement(H5,{asChild:!0,trapped:C.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ut(o,ie=>{var pe;(pe=C.trigger)===null||pe===void 0||pe.focus({preventScroll:!0}),ie.preventDefault()})},g.createElement(B5,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>C.onOpenChange(!1)},g.createElement(ye,et({role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ie=>ie.preventDefault()},N,me,{onPlaced:()=>U(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ut(N.onKeyDown,ie=>{const pe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!pe&&ie.key.length===1&&$(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let ve=G().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const de=ie.target,Ce=ve.indexOf(de);ve=ve.slice(Ce+1)}setTimeout(()=>K(ve)),ie.preventDefault()}})}))))))}),AF=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,l=Ki(oa,n),c=Xi(oa,n),[u,f]=g.useState(null),[h,m]=g.useState(null),p=nn(t,O=>m(O)),x=qd(n),y=g.useRef(!1),j=g.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:N,focusSelectedItem:C}=c,k=g.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&w&&_&&N){const O=l.trigger.getBoundingClientRect(),A=h.getBoundingClientRect(),R=l.valueNode.getBoundingClientRect(),z=N.getBoundingClientRect();if(l.dir!=="rtl"){const de=z.left-A.left,Ce=R.left-de,Ue=O.left-Ce,Be=O.width+Ue,Qe=Math.max(Be,A.width),dn=window.innerWidth-Gr,Rn=Xw(Ce,[Gr,dn-Qe]);u.style.minWidth=Be+"px",u.style.left=Rn+"px"}else{const de=A.right-z.right,Ce=window.innerWidth-R.right-de,Ue=window.innerWidth-O.right-Ce,Be=O.width+Ue,Qe=Math.max(Be,A.width),dn=window.innerWidth-Gr,Rn=Xw(Ce,[Gr,dn-Qe]);u.style.minWidth=Be+"px",u.style.right=Rn+"px"}const Q=x(),G=window.innerHeight-Gr*2,W=w.scrollHeight,U=window.getComputedStyle(h),q=parseInt(U.borderTopWidth,10),K=parseInt(U.paddingTop,10),I=parseInt(U.borderBottomWidth,10),L=parseInt(U.paddingBottom,10),B=q+K+W+L+I,Z=Math.min(_.offsetHeight*5,B),$=window.getComputedStyle(w),J=parseInt($.paddingTop,10),le=parseInt($.paddingBottom,10),ue=O.top+O.height/2-Gr,ye=G-ue,me=_.offsetHeight/2,ie=_.offsetTop+me,pe=q+K+ie,Ne=B-pe;if(pe<=ue){const de=_===Q[Q.length-1].ref.current;u.style.bottom="0px";const Ce=h.clientHeight-w.offsetTop-w.offsetHeight,Ue=Math.max(ye,me+(de?le:0)+Ce+I),Be=pe+Ue;u.style.height=Be+"px"}else{const de=_===Q[0].ref.current;u.style.top="0px";const Ue=Math.max(ue,q+w.offsetTop+(de?J:0)+me)+Ne;u.style.height=Ue+"px",w.scrollTop=pe-ue+w.offsetTop}u.style.margin=`${Gr}px 0`,u.style.minHeight=Z+"px",u.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[x,l.trigger,l.valueNode,u,h,w,_,N,l.dir,r]);Xn(()=>k(),[k]);const[P,E]=g.useState();Xn(()=>{h&&E(window.getComputedStyle(h).zIndex)},[h]);const D=g.useCallback(O=>{O&&j.current===!0&&(k(),C==null||C(),j.current=!1)},[k,C]);return g.createElement(DF,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:D},g.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},g.createElement(Yt.div,et({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),vb=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Gr,...l}=e,c=Iv(n);return g.createElement(ZL,et({},c,l,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[DF,Lv]=ya(oa,{}),gb="SelectViewport",OF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Xi(gb,n),l=Lv(gb,n),c=nn(t,o.onViewportChange),u=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(Hd.Slot,{scope:n},g.createElement(Yt.div,et({"data-radix-select-viewport":"",role:"presentation"},r,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ut(r.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&m){const x=Math.abs(u.current-h.scrollTop);if(x>0){const y=window.innerHeight-Gr*2,j=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),_=Math.max(j,w);if(_<y){const N=_+x,C=Math.min(y,N),k=N-C;m.style.height=C+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})}))))}),RF="SelectGroup",[y9,$F]=ya(RF),MF="SelectLabel",IF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=$F(MF,n);return g.createElement(Yt.div,et({id:o.id},r,{ref:t}))}),Ep="SelectItem",[LF,nN]=ya(Ep),FF=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...c}=e,u=Ki(Ep,n),f=Xi(Ep,n),h=u.value===r,[m,p]=g.useState(l??""),[x,y]=g.useState(!1),j=nn(t,N=>{var C;return(C=f.itemRefCallback)===null||C===void 0?void 0:C.call(f,N,r,o)}),w=SS(),_=()=>{o||(u.onValueChange(r),u.onOpenChange(!1))};return g.createElement(LF,{scope:n,value:r,disabled:o,textId:w,isSelected:h,onItemTextChange:g.useCallback(N=>{p(C=>{var k;return C||((k=N==null?void 0:N.textContent)!==null&&k!==void 0?k:"").trim()})},[])},g.createElement(Hd.ItemSlot,{scope:n,value:r,disabled:o,textValue:m},g.createElement(Yt.div,et({role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},c,{ref:j,onFocus:Ut(c.onFocus,()=>y(!0)),onBlur:Ut(c.onBlur,()=>y(!1)),onPointerUp:Ut(c.onPointerUp,_),onPointerMove:Ut(c.onPointerMove,N=>{if(o){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}else N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(c.onPointerLeave,N=>{if(N.currentTarget===document.activeElement){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}}),onKeyDown:Ut(c.onKeyDown,N=>{var C;((C=f.searchRef)===null||C===void 0?void 0:C.current)!==""&&N.key===" "||(gF.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})}))))}),Yu="SelectItemText",UF=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...l}=e,c=Ki(Yu,n),u=Xi(Yu,n),f=nN(Yu,n),h=bF(Yu,n),[m,p]=g.useState(null),x=nn(t,N=>p(N),f.onItemTextChange,N=>{var C;return(C=u.itemTextRefCallback)===null||C===void 0?void 0:C.call(u,N,f.value,f.disabled)}),y=m==null?void 0:m.textContent,j=g.useMemo(()=>g.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},y),[f.disabled,f.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Xn(()=>(w(j),()=>_(j)),[w,_,j]),g.createElement(g.Fragment,null,g.createElement(Yt.span,et({id:f.textId},l,{ref:x})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Li.createPortal(l.children,c.valueNode):null)}),BF="SelectItemIndicator",VF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nN(BF,n).isSelected?g.createElement(Yt.span,et({"aria-hidden":!0},r,{ref:t})):null}),xb="SelectScrollUpButton",zF=g.forwardRef((e,t)=>{const n=Xi(xb,e.__scopeSelect),r=Lv(xb,e.__scopeSelect),[o,l]=g.useState(!1),c=nn(t,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const h=u.scrollTop>0;l(h)};const u=n.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),o?g.createElement(rN,et({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=n;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}})):null}),yb="SelectScrollDownButton",WF=g.forwardRef((e,t)=>{const n=Xi(yb,e.__scopeSelect),r=Lv(yb,e.__scopeSelect),[o,l]=g.useState(!1),c=nn(t,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;l(m)};const u=n.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),o?g.createElement(rN,et({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=n;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}})):null}),rN=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,l=Xi("SelectScrollButton",n),c=g.useRef(null),u=qd(n),f=g.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return g.useEffect(()=>()=>f(),[f]),Xn(()=>{var h;const m=u().find(p=>p.ref.current===document.activeElement);m==null||(h=m.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[u]),g.createElement(Yt.div,et({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ut(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ut(o.onPointerMove,()=>{var h;(h=l.onItemLeave)===null||h===void 0||h.call(l),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ut(o.onPointerLeave,()=>{f()})}))}),HF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g.createElement(Yt.div,et({"aria-hidden":!0},r,{ref:t}))}),sN=g.forwardRef((e,t)=>{const{value:n,...r}=e,o=g.useRef(null),l=nn(t,o),c=nF(n);return g.useEffect(()=>{const u=o.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==n&&m){const p=new Event("change",{bubbles:!0});m.call(u,n),u.dispatchEvent(p)}},[c,n]),g.createElement(rF,{asChild:!0},g.createElement("select",et({},r,{ref:l,defaultValue:n})))});sN.displayName="BubbleSelect";function iN(e){const t=ns(e),n=g.useRef(""),r=g.useRef(0),o=g.useCallback(c=>{const u=n.current+c;t(u),function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),l=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function oN(e,t,n){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=qF(e,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==n));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function qF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const YF=jF,aN=SF,GF=CF,KF=kF,XF=PF,lN=EF,JF=OF,cN=IF,uN=FF,QF=UF,ZF=VF,dN=zF,fN=WF,hN=HF,Bt=YF,Vt=GF,At=fe.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(aN,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(KF,{asChild:!0,children:s.jsx(I1,{className:"h-4 w-4 opacity-50"})})]}));At.displayName=aN.displayName;const mN=fe.forwardRef(({className:e,...t},n)=>s.jsx(dN,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(YR,{className:"h-4 w-4"})}));mN.displayName=dN.displayName;const pN=fe.forwardRef(({className:e,...t},n)=>s.jsx(fN,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(I1,{className:"h-4 w-4"})}));pN.displayName=fN.displayName;const Dt=fe.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>s.jsx(XF,{children:s.jsxs(lN,{ref:o,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(mN,{}),s.jsx(JF,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(pN,{})]})}));Dt.displayName=lN.displayName;const e6=fe.forwardRef(({className:e,...t},n)=>s.jsx(cN,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));e6.displayName=cN.displayName;const De=fe.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(uN,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ZF,{children:s.jsx(M1,{className:"h-4 w-4"})})}),s.jsx(QF,{children:t})]}));De.displayName=uN.displayName;const t6=fe.forwardRef(({className:e,...t},n)=>s.jsx(hN,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));t6.displayName=hN.displayName;const Dm=25,n6=()=>{var L;const e=Js(),t=new URLSearchParams(e.search),n=t.get("featured"),r=t.get("search"),[o,l]=g.useState(r||""),[c,u]=g.useState(r||""),[f,h]=g.useState("all"),[m,p]=g.useState("name-asc"),[x,y]=g.useState([]),[j,w]=g.useState([]),[_,N]=g.useState(!0),[C,k]=g.useState(!1),[P,E]=g.useState(!0),[D,O]=g.useState(0),[A,R]=g.useState(!1);g.useEffect(()=>{const B=setTimeout(()=>{if(o.length>=2||o.length===0){if(!localStorage.getItem("user")){const $=parseInt(localStorage.getItem("search_count")||"0",10);if($>=10){R(!0);return}localStorage.setItem("search_count",($+1).toString())}u(o)}},300);return()=>clearTimeout(B)},[o]),g.useEffect(()=>{z()},[]),g.useEffect(()=>{O(0),y([]),E(!0),Q(!0)},[c,f,m,n]);const z=async()=>{try{let B=kr("categories_all");if(!B){const{data:Z,error:$}=await ae.from("categories").select("*").order("name");if($)throw $;B=Z||[],Cr("categories_all",B)}w(B)}catch(B){console.error("Error fetching categories:",B)}},Q=async(B=!1)=>{const Z=B?0:D,$=`products_${n||"all"}_${c||"all"}_${f}_${m}_${Z}`;B?N(!0):k(!0);try{let J=kr($),le=[];if(J)le=J;else{let ue=ae.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `);if(n==="true"&&(ue=ue.eq("featured",!0)),c&&c.length>=2&&(ue=ue.textSearch("fts",`${c}:*`)),f!=="all"){const Ne=parseInt(f);ue=ue.or(`category_id.eq.${Ne},categories_ids.cs.[${Ne}]`)}switch(m){case"name-asc":ue=ue.order("name",{ascending:!0});break;case"name-desc":ue=ue.order("name",{ascending:!1});break;case"price-asc":ue=ue.order("price",{ascending:!0});break;case"price-desc":ue=ue.order("price",{ascending:!1});break;default:ue=ue.order("name",{ascending:!0});break}const ye=Z*Dm,me=ye+Dm-1;ue=ue.range(ye,me);const{data:ie,error:pe}=await ue;if(pe)throw pe;le=ie||[],Cr($,le)}B?(y(le),O(1)):(y(ue=>[...ue,...le]),O(ue=>ue+1)),E(le.length===Dm)}catch(J){console.error("Error fetching products:",J)}finally{N(!1),k(!1)}},G=()=>{!C&&P&&Q(!1)},W=B=>{l(B)},U=B=>{h(B)},q=B=>{p(B)},K=()=>{l(""),u(""),h("all"),p("name-asc")},I=o||f!=="all"||m!=="name-asc";return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative min-h-[280px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-5",children:s.jsxs(be.div,{className:"space-y-3 max-w-4xl mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:n==="true"?"Featured Products":"Shop"}),s.jsx("p",{className:"text-white/90 text-sm",children:"Browse from our selection of groceries, household essentials and more."})]}),s.jsx(be.div,{className:"relative max-w-xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:s.jsxs("div",{className:"relative",children:[s.jsx(dv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx(ge,{type:"search",placeholder:"Search for products...",className:"h-9 pl-2 pr-4 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500",value:o,onChange:B=>W(B.target.value)}),o.length>0&&o.length<2&&s.jsx("p",{className:"absolute -bottom-4 left-0 text-xs text-white/80",children:"Enter at least 2 characters to search"})]})}),s.jsxs(be.div,{className:"flex flex-col sm:flex-row gap-2 items-center justify-center max-w-3xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:[s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center",children:[s.jsx("div",{className:"min-w-[120px] w-full",children:s.jsxs(Bt,{value:f,onValueChange:U,children:[s.jsx(At,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:s.jsx(Vt,{placeholder:"All Categories"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"all",children:"All Categories"}),j.map(B=>s.jsx(De,{value:B.id.toString(),children:B.name},B.id))]})]})}),s.jsx("div",{className:"min-w-[140px] w-[140px]",children:s.jsxs(Bt,{value:m,onValueChange:q,children:[s.jsx(At,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:s.jsx(Vt,{placeholder:"Sort by"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(De,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(De,{value:"price-asc",children:"Price (Low to High)"}),s.jsx(De,{value:"price-desc",children:"Price (High to Low)"})]})]})})]}),I&&s.jsxs(ee,{variant:"outline",size:"sm",className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg hover:bg-white text-gray-800 h-8 text-xs",onClick:K,children:[s.jsx(ei,{className:"w-3 h-3 mr-1"}),"Reset"]})]}),I&&s.jsxs(be.div,{className:"flex flex-wrap gap-1 justify-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:[o&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:['Search: "',o,'"']}),f!=="all"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Category: ",(L=j.find(B=>B.id.toString()===f))==null?void 0:L.name]}),m!=="name-asc"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Sort: ",m.replace("-"," ").replace(/\b\w/g,B=>B.toUpperCase())]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:_?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):x.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter criteria."}),I&&s.jsx(ee,{onClick:K,className:"mt-4",variant:"outline",children:"Clear all filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",x.length," product",x.length!==1?"s":"",I&&" matching your criteria"]})}),s.jsx("div",{className:"product-grid",children:x.map(B=>s.jsx(ud,{product:B},B.id))}),P&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx(ee,{onClick:G,disabled:C,variant:"outline",size:"lg",children:C?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More Products"})})]})}),A&&s.jsx(Sv,{open:A,onOpenChange:R})]})},r6=({category:e})=>s.jsx(Te,{to:`/category/${e.id}`,children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.03},className:"category-card overflow-hidden rounded-lg border bg-card",children:[s.jsx("div",{className:"aspect-square mx-auto bg-muted",children:s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.icon_url||"https://images.unsplash.com/photo-1491696888587-6a2c0225c9fb"})}),s.jsxs("div",{className:"p-3 text-center",children:[s.jsx("h3",{className:"text-sm font-medium",children:e.name}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-center mt-2 text-primary",children:[s.jsx("span",{className:"text-xs font-medium",children:"Shop now"}),s.jsx(fp,{className:"ml-1 h-3 w-3"})]})]})]})}),s6=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{let l=kr("categories_all");if(l)t(l);else{const{data:c,error:u}=await ae.from("categories").select("*").order("name");if(u)throw u;t(c||[]),Cr("categories_all",c||[])}}catch(l){console.error("Error fetching categories:",l)}finally{r(!1)}})()},[]),n?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[200px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"/outbanner.webp",alt:"Fresh groceries",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-2xl",children:s.jsxs(be.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Categories"}),s.jsx("p",{className:"text-white/90",children:"Browse our selection of grocery categories to find exactly what you need."})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map((o,l)=>s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.05},children:s.jsx(r6,{category:o})},o.id))})})]})},i6=()=>{const{id:e}=wd(),[t,n]=g.useState(null),[r,o]=g.useState([]),[l,c]=g.useState(!0),[u,f]=g.useState("");g.useEffect(()=>{(async()=>{if(e){c(!0);try{let p=kr(`category_${e}`),x=kr(`category_products_${e}`);if(!p){const{data:y,error:j}=await ae.from("categories").select("*").eq("id",e).single();if(j)throw j;p=y,Cr(`category_${e}`,y)}if(n(p),!x){const{data:y,error:j}=await ae.from("products").select("*, categories ( id, name )").or(`category_id.eq.${e},categories_ids.cs.[${e}]`).order("name");if(j)throw j;x=y||[],Cr(`category_products_${e}`,x)}o(x)}catch(p){console.error("Error fetching category or products:",p)}finally{c(!1)}}})()},[e]);const h=r.filter(m=>m.name.toLowerCase().includes(u.toLowerCase())||m.description&&m.description.toLowerCase().includes(u.toLowerCase()));return l?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Te,{to:"/categories",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[s.jsx(na,{className:"w-4 h-4 mr-1"}),"Back to Categories"]})}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:s.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg bg-muted mb-4",style:t!=null&&t.icon_url?{backgroundImage:`url(${t.icon_url})`,backgroundRepeat:"repeat",backgroundSize:"60px",backgroundPosition:"center"}:{},children:[s.jsx("div",{className:"absolute inset-0 bg-[#3CB371] opacity-90"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:t.name}),s.jsx("p",{className:"mt-2 text-white/90",children:t.description})]})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(dv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(ge,{type:"text",placeholder:`Search products in ${t.name}...`,value:u,onChange:m=>f(m.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),h.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:u?`No products found matching "${u}"`:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:u?"Try a different search term.":"There are currently no products in this category."}),!u&&s.jsx(Te,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Browse All Products"})})]}):s.jsxs("div",{className:"product-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[" ",h.map(m=>s.jsx(ud,{product:m},m.id))]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Category Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The category you're looking for doesn't exist."}),s.jsx(Te,{to:"/categories",children:s.jsx(ee,{className:"mt-4",children:"Browse All Categories"})})]})})},o6=()=>{const{id:e}=wd(),[t,n]=g.useState(null),[r,o]=g.useState(!0),{addToCart:l,updateQuantity:c,cart:u}=is();g.useEffect(()=>{(async()=>{if(e)try{const{data:y,error:j}=await ae.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `).eq("id",e).single();if(j)throw j;n(y)}catch(y){console.error("Error fetching product:",y)}finally{o(!1)}})()},[e]);const f=u.find(x=>(x==null?void 0:x.id)===(t==null?void 0:t.id)),h=f?f.quantity:0,m=x=>{t&&c(t.id,x)},p=()=>{t&&l(t,1)};return r?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Te,{to:"/shop",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[s.jsx(na,{className:"w-4 h-4 mr-1"}),"Back to Shop"]})}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"overflow-hidden rounded-lg bg-muted aspect-square",children:s.jsx("img",{alt:t.name,className:"w-full h-full object-cover",src:t.image_url||"/product-placeholder.webp"})}),s.jsxs(be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[t.categories&&s.jsx(Te,{to:`/category/${t.categories.id}`,className:"inline-block px-3 py-1 text-xs font-medium rounded-full bg-primary/10 text-primary",children:t.categories.name}),s.jsx("h1",{className:"text-3xl font-bold",children:t.name}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:je(t.price)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["per ",t.unit]})]}),s.jsx("p",{className:"text-muted-foreground",children:t.description}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("div",{className:"flex items-center space-x-4",children:h>0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(h-1),children:s.jsx(sc,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium w-6 text-center",children:h}),s.jsx(ee,{size:"icon",className:"h-8 w-8",onClick:()=>m(h+1),children:s.jsx(pa,{className:"h-4 w-4"})})]}):s.jsxs(ee,{className:"flex-1",onClick:p,disabled:!t.in_stock,children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),t.in_stock?"Add to Cart":"Out of Stock"]})}),h>0&&s.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Total:"})," ",je(t.price*h)]})})]})]})]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Product Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The product you're looking for doesn't exist."}),s.jsx(Te,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Browse All Products"})})]})})};function vN(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Fv(e){const[t,n]=g.useState(void 0);return ts(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yd="Checkbox",[a6,w9]=Rr(Yd),[l6,c6]=a6(Yd),gN=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...p}=e,[x,y]=g.useState(null),j=jt(t,P=>y(P)),w=g.useRef(!1),_=x?m||!!x.closest("form"):!0,[N,C]=Yi({prop:o,defaultProp:l??!1,onChange:h,caller:Yd}),k=g.useRef(N);return g.useEffect(()=>{const P=x==null?void 0:x.form;if(P){const E=()=>C(k.current);return P.addEventListener("reset",E),()=>P.removeEventListener("reset",E)}},[x,C]),s.jsxs(l6,{scope:n,state:N,disabled:u,children:[s.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":Ws(N)?"mixed":N,"aria-required":c,"data-state":bN(N),"data-disabled":u?"":void 0,disabled:u,value:f,...p,ref:j,onKeyDown:qe(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:qe(e.onClick,P=>{C(E=>Ws(E)?!0:!E),_&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),_&&s.jsx(wN,{control:x,bubbles:!w.current,name:r,value:f,checked:N,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Ws(l)?!1:l})]})});gN.displayName=Yd;var xN="CheckboxIndicator",yN=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,l=c6(xN,n);return s.jsx($r,{present:r||Ws(l.state)||l.state===!0,children:s.jsx(Ke.span,{"data-state":bN(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});yN.displayName=xN;var u6="CheckboxBubbleInput",wN=g.forwardRef(({__scopeCheckbox:e,control:t,checked:n,bubbles:r=!0,defaultChecked:o,...l},c)=>{const u=g.useRef(null),f=jt(u,c),h=vN(n),m=Fv(t);g.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&w){const _=new Event("click",{bubbles:r});x.indeterminate=Ws(n),w.call(x,Ws(n)?!1:n),x.dispatchEvent(_)}},[h,n,r]);const p=g.useRef(Ws(n)?!1:n);return s.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,...l,tabIndex:-1,ref:f,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wN.displayName=u6;function Ws(e){return e==="indeterminate"}function bN(e){return Ws(e)?"indeterminate":e?"checked":"unchecked"}var jN=gN,d6=yN;const Dr=fe.forwardRef(({className:e,...t},n)=>s.jsx(jN,{ref:n,className:Ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(d6,{className:Ae("flex items-center justify-center text-current"),children:s.jsx(M1,{className:"h-4 w-4"})})}));Dr.displayName=jN.displayName;const cn=fe.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));cn.displayName="Textarea";const _N=({onSelect:e})=>{const{user:t}=un(),n=(t==null?void 0:t.addresses)||[];return s.jsx("div",{className:"space-y-2",children:n.map(r=>s.jsxs(ee,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>e(r.address),children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:r.label}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:r.address})]})]},r.id))})},Gd=({value:e,onChange:t,onAddressSelect:n,placeholder:r="Enter your address",className:o,disabled:l,...c})=>{const[u,f]=g.useState([]),[h,m]=g.useState(!1),[p,x]=g.useState(!1),y=g.useRef(null),j=g.useRef(null),w=g.useRef(!1),_=g.useRef(),N=async D=>{x(!0);try{if(D.length>=3){const O=`address_suggestions_${D.toLowerCase()}`,A=kr(O);if(A){f(A),m(A.length>0),x(!1);return}let R=D.replace(/\s+/g,"+");const z=await ae.from("adelaide_address_data").select("ADDRESS_LA, LOCALITY_N, POSTCODE").textSearch("fts",`${R}:*`).limit(18446744);if(z.error)throw z.error;const Q=C(z.data);f(Q),m(Q.length>0),Cr(O,Q,525600);return}f([]),m(!1)}catch(O){console.error("Error searching addresses:",O),f([]),m(!1)}finally{x(!1)}};g.useEffect(()=>{if(w.current){w.current=!1;return}if(!e||e.length<3){f([]),m(!1);return}return clearTimeout(_.current),_.current=setTimeout(()=>{N(e)},400),()=>clearTimeout(_.current)},[e]);const C=D=>{const O={ADDRESS_LA:"address",LOCALITY_N:"suburb",POSTCODE:"postcode"};return D.map(A=>{const R={};for(const z in A)R[O[z]||z]=A[z];return R})},k=D=>{t(D.target.value)},P=D=>{w.current=!0,t(D.address),m(!1),n&&n({address:D.address,suburb:D.suburb.toUpperCase(),postcode:D.postcode})},E=D=>{D.key==="Escape"&&m(!1)};return g.useEffect(()=>{const D=O=>{y.current&&!y.current.contains(O.target)&&j.current&&!j.current.contains(O.target)&&m(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),s.jsxs("div",{className:"relative",children:[s.jsx(ge,{ref:y,value:e,onChange:k,onKeyDown:E,placeholder:r,className:o,disabled:l,...c}),h&&u.length>0&&s.jsx("div",{ref:j,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:u.map((D,O)=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>P(D),children:[s.jsx("div",{className:"text-sm font-medium",children:D.address}),s.jsxs("div",{className:"text-xs text-gray-500",children:[D.suburb,", ",D.postcode]})]},O))}),p&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]})},f6=({onDetailsChange:e,errors:t})=>{var k;const{user:n}=un(),[r,o]=g.useState({name:"",email:"",phone:"",address:"",postcode:"",deliveryNotes:""}),[l,c]=g.useState(!1),[u,f]=g.useState([]),[h,m]=g.useState([]),[p,x]=g.useState(""),[y,j]=g.useState(!1);g.useEffect(()=>{n&&o({name:n.name||"",email:n.email||"",phone:n.phone||"",address:"",postcode:"",deliveryNotes:""})},[n]),g.useEffect(()=>{(async()=>{const{data:E,error:D}=await ae.from("postcodes").select("*").order("suburb");if(D){console.error("Error fetching postcodes:",D);return}f(E),m(E)})()},[]),g.useEffect(()=>{if(p.length===0)m(u);else{const P=u.filter(E=>E.suburb.toLowerCase().includes(p.toLowerCase())||E.postcode.includes(p));m(P)}},[p,u]),g.useEffect(()=>{e({...r})},[r,e]);const w=P=>{const{name:E,value:D}=P.target;o(O=>({...O,[E]:D}))},_=P=>{const E=n.addresses.find(D=>D.address===P);if(E){o(O=>({...O,address:E.address,postcode:E.postcode.toString()}));const D=u.find(O=>O.postcode===E.postcode);D&&x(`${D.suburb}, ${D.postcode}`)}c(!1)},N=P=>{o(E=>({...E,address:P.address,postcode:P.postcode})),x(`${P.suburb.toUpperCase()}, ${P.postcode}`)},C=P=>{o(E=>({...E,postcode:P.postcode})),x(`${P.suburb}, ${P.postcode}`),j(!1)};return s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx(hv,{className:"mr-2 h-5 w-5 text-primary"}),"Delivery Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(ge,{id:"name",name:"name",value:r.name,onChange:w,className:t!=null&&t.name?"border-destructive":""}),(t==null?void 0:t.name)&&s.jsx("p",{className:"text-xs text-destructive",children:t.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email (Optional)"}),s.jsx(ge,{id:"email",name:"email",type:"email",value:r.email,onChange:w,className:t!=null&&t.email?"border-destructive":""}),(t==null?void 0:t.email)&&s.jsx("p",{className:"text-xs text-destructive",children:t.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ge,{id:"phone",name:"phone",value:r.phone,onChange:w,className:t!=null&&t.phone?"border-destructive":""}),(t==null?void 0:t.phone)&&s.jsx("p",{className:"text-xs text-destructive",children:t.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{htmlFor:"address",children:"Delivery Address"}),n&&((k=n.addresses)==null?void 0:k.length)>0&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"flex items-center text-primary",children:[s.jsx(Ul,{className:"w-4 h-4 mr-1"}),l?"Hide saved addresses":"Use saved address"]})]}),l&&s.jsx(_N,{onSelect:_}),s.jsx(Gd,{value:r.address,onChange:P=>o(E=>({...E,address:P})),onAddressSelect:N,placeholder:"Start typing your address...",className:t!=null&&t.address?"border-destructive":""}),(t==null?void 0:t.address)&&s.jsx("p",{className:"text-xs text-destructive",children:t.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ge,{id:"postcode",placeholder:"Search suburb or postcode...",value:p,onChange:P=>{x(P.target.value),j(!0)},onFocus:()=>j(!0),className:t!=null&&t.postcode?"border-destructive":""}),y&&h.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.slice(0,10).map(P=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>C(P),children:[s.jsx("div",{className:"text-sm font-medium",children:P.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:P.postcode})]},`${P.suburb}-${P.postcode}`))})]}),(t==null?void 0:t.postcode)&&s.jsx("p",{className:"text-xs text-destructive",children:t.postcode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"deliveryNotes",children:"Delivery Notes (Optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["Don't ring the doorbell","Leave at door","Call on arrival","Hand to me only","Knock softly","Text when here"].map(P=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>o(E=>({...E,deliveryNotes:r.deliveryNotes+P+`
`})),children:P},P))}),s.jsx(cn,{id:"deliveryNotes",name:"deliveryNotes",value:r.deliveryNotes,onChange:w,placeholder:"E.g., Leave at the door, call upon arrival, etc.",rows:3})]})]})]})};var h6="Separator",wb="horizontal",m6=["horizontal","vertical"],SN=g.forwardRef((e,t)=>{const{decorative:n,orientation:r=wb,...o}=e,l=p6(r)?r:wb,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(Ke.div,{"data-orientation":l,...u,...o,ref:t})});SN.displayName=h6;function p6(e){return m6.includes(e)}var NN=SN;const Wl=fe.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>s.jsx(NN,{ref:o,decorative:n,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Wl.displayName=NN.displayName;const v6=({deliveryFee:e=0,appliedPromo:t=null,discountAmount:n=0,serviceFeePercent:r=0,serviceFee:o=0})=>{const{cart:l,getCartTotal:c}=is(),u=c(),f=u-n+e+o;return s.jsxs("div",{className:"sticky top-20 p-6 border rounded-lg bg-muted/20",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4 custom-scrollbar",children:l.length>0?l.map(h=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 mr-2",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:h.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[je(h.price)," x ",h.quantity]})]}),s.jsx("p",{className:"font-medium text-sm whitespace-nowrap",children:je(h.price*h.quantity)})]},h.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Your cart is empty."})}),s.jsx(Wl,{className:"my-4"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cart Total"}),s.jsx("span",{children:je(u)})]}),t&&n>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",t.code,")"]}),s.jsxs("span",{children:["-",je(n)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:je(e)})]}),o>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",r," %)"]}),s.jsx("span",{children:je(o)})]}),s.jsx(Wl,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-base pt-1",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:je(f)})]})]})]})};function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function zt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function We(e){$e(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||aa(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function qt(e,t){$e(2,arguments);var n=We(e),r=zt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function pr(e,t){$e(2,arguments);var n=We(e),r=zt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+r+1,0);var c=l.getDate();return o>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),o),n)}function g6(e,t){$e(2,arguments);var n=We(e).getTime(),r=zt(t);return new Date(n+r)}var x6={};function ni(){return x6}function Or(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=ni(),p=zt((n=(r=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&r!==void 0?r:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getDay(),j=(y<p?7:0)+y-p;return x.setDate(x.getDate()-j),x.setHours(0,0,0,0),x}function Ii(e){return $e(1,arguments),Or(e,{weekStartsOn:1})}function y6(e){$e(1,arguments);var t=We(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var o=Ii(r),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var c=Ii(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function w6(e){$e(1,arguments);var t=y6(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=Ii(n);return r}function Hl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function la(e){$e(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var b6=864e5;function Xr(e,t){$e(2,arguments);var n=la(e),r=la(t),o=n.getTime()-Hl(n),l=r.getTime()-Hl(r);return Math.round((o-l)/b6)}function Tp(e,t){$e(2,arguments);var n=zt(t),r=n*7;return qt(e,r)}function j6(e,t){$e(2,arguments);var n=zt(t);return pr(e,n*12)}function _6(e){$e(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(aa(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var o=We(r);(n===void 0||n<o||isNaN(Number(o)))&&(n=o)}),n||new Date(NaN)}function S6(e){$e(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(aa(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var o=We(r);(n===void 0||n>o||isNaN(o.getDate()))&&(n=o)}),n||new Date(NaN)}function yn(e,t){$e(2,arguments);var n=la(e),r=la(t);return n.getTime()===r.getTime()}function Uv(e){return $e(1,arguments),e instanceof Date||aa(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function N6(e){if($e(1,arguments),!Uv(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function ql(e,t){$e(2,arguments);var n=We(e),r=We(t),o=n.getFullYear()-r.getFullYear(),l=n.getMonth()-r.getMonth();return o*12+l}var C6=6048e5;function k6(e,t,n){$e(2,arguments);var r=Or(e,n),o=Or(t,n),l=r.getTime()-Hl(r),c=o.getTime()-Hl(o);return Math.round((l-c)/C6)}function Bv(e){$e(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wn(e){$e(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function P6(e){$e(1,arguments);var t=We(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Vv(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=ni(),p=zt((n=(r=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&r!==void 0?r:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getDay(),j=(y<p?-7:0)+6-(y-p);return x.setDate(x.getDate()+j),x.setHours(23,59,59,999),x}function CN(e){return $e(1,arguments),Vv(e,{weekStartsOn:1})}function E6(e,t){$e(2,arguments);var n=zt(t);return g6(e,-n)}var T6=864e5;function A6(e){$e(1,arguments);var t=We(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/T6)+1}function pd(e){$e(1,arguments);var t=1,n=We(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function kN(e){$e(1,arguments);var t=We(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=pd(r),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=pd(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function D6(e){$e(1,arguments);var t=kN(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=pd(n);return r}var O6=6048e5;function R6(e){$e(1,arguments);var t=We(e),n=pd(t).getTime()-D6(t).getTime();return Math.round(n/O6)+1}function vd(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=ni(),p=zt((n=(r=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&r!==void 0?r:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getUTCDay(),j=(y<p?7:0)+y-p;return x.setUTCDate(x.getUTCDate()-j),x.setUTCHours(0,0,0,0),x}function PN(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=We(e),p=m.getUTCFullYear(),x=ni(),y=zt((n=(r=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&r!==void 0?r:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(p+1,0,y),j.setUTCHours(0,0,0,0);var w=vd(j,t),_=new Date(0);_.setUTCFullYear(p,0,y),_.setUTCHours(0,0,0,0);var N=vd(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function $6(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=ni(),p=zt((n=(r=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&r!==void 0?r:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1),x=PN(e,t),y=new Date(0);y.setUTCFullYear(x,0,p),y.setUTCHours(0,0,0,0);var j=vd(y,t);return j}var M6=6048e5;function I6(e,t){$e(1,arguments);var n=We(e),r=vd(n,t).getTime()-$6(n,t).getTime();return Math.round(r/M6)+1}function nt(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ds={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return nt(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):nt(r+1,2)},d:function(t,n){return nt(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return nt(t.getUTCHours()%12||12,n.length)},H:function(t,n){return nt(t.getUTCHours(),n.length)},m:function(t,n){return nt(t.getUTCMinutes(),n.length)},s:function(t,n){return nt(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,r-3));return nt(l,n.length)}},Bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L6={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),l=o>0?o:1-o;return r.ordinalNumber(l,{unit:"year"})}return Ds.y(t,n)},Y:function(t,n,r,o){var l=PN(t,o),c=l>0?l:1-l;if(n==="YY"){var u=c%100;return nt(u,2)}return n==="Yo"?r.ordinalNumber(c,{unit:"year"}):nt(c,n.length)},R:function(t,n){var r=kN(t);return nt(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return nt(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return nt(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return nt(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Ds.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return nt(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var l=I6(t,o);return n==="wo"?r.ordinalNumber(l,{unit:"week"}):nt(l,n.length)},I:function(t,n,r){var o=R6(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):nt(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ds.d(t,n)},D:function(t,n,r){var o=A6(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):nt(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var l=t.getUTCDay(),c=(l-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(c);case"ee":return nt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var l=t.getUTCDay(),c=(l-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(c);case"cc":return nt(c,n.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),l=o===0?7:o;switch(n){case"i":return String(l);case"ii":return nt(l,n.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),l=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),l;switch(o===12?l=Bo.noon:o===0?l=Bo.midnight:l=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),l;switch(o>=17?l=Bo.evening:o>=12?l=Bo.afternoon:o>=4?l=Bo.morning:l=Bo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Ds.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ds.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):nt(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):nt(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ds.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ds.s(t,n)},S:function(t,n){return Ds.S(t,n)},X:function(t,n,r,o){var l=o._originalDate||t,c=l.getTimezoneOffset();if(c===0)return"Z";switch(n){case"X":return jb(c);case"XXXX":case"XX":return ki(c);case"XXXXX":case"XXX":default:return ki(c,":")}},x:function(t,n,r,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(n){case"x":return jb(c);case"xxxx":case"xx":return ki(c);case"xxxxx":case"xxx":default:return ki(c,":")}},O:function(t,n,r,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+bb(c,":");case"OOOO":default:return"GMT"+ki(c,":")}},z:function(t,n,r,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+bb(c,":");case"zzzz":default:return"GMT"+ki(c,":")}},t:function(t,n,r,o){var l=o._originalDate||t,c=Math.floor(l.getTime()/1e3);return nt(c,n.length)},T:function(t,n,r,o){var l=o._originalDate||t,c=l.getTime();return nt(c,n.length)}};function bb(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),l=r%60;if(l===0)return n+String(o);var c=t;return n+String(o)+c+nt(l,2)}function jb(e,t){if(e%60===0){var n=e>0?"-":"+";return n+nt(Math.abs(e)/60,2)}return ki(e,t)}function ki(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),l=nt(Math.floor(o/60),2),c=nt(o%60,2);return r+l+n+c}var _b=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},EN=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},F6=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],l=r[2];if(!l)return _b(t,n);var c;switch(o){case"P":c=n.dateTime({width:"short"});break;case"PP":c=n.dateTime({width:"medium"});break;case"PPP":c=n.dateTime({width:"long"});break;case"PPPP":default:c=n.dateTime({width:"full"});break}return c.replace("{{date}}",_b(o,n)).replace("{{time}}",EN(l,n))},U6={p:EN,P:F6},B6=["D","DD"],V6=["YY","YYYY"];function z6(e){return B6.indexOf(e)!==-1}function W6(e){return V6.indexOf(e)!==-1}function Sb(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var H6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},q6=function(t,n,r){var o,l=H6[t];return typeof l=="string"?o=l:n===1?o=l.one:o=l.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Om(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Y6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},K6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X6={date:Om({formats:Y6,defaultWidth:"full"}),time:Om({formats:G6,defaultWidth:"full"}),dateTime:Om({formats:K6,defaultWidth:"full"})},J6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q6=function(t,n,r,o){return J6[t]};function yl(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;o=e.formattingValues[c]||e.formattingValues[l]}else{var u=e.defaultWidth,f=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[f]||e.values[u]}var h=e.argumentCallback?e.argumentCallback(t):t;return o[h]}}var Z6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},e8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},t8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i8=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o8={ordinalNumber:i8,era:yl({values:Z6,defaultWidth:"wide"}),quarter:yl({values:e8,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:yl({values:t8,defaultWidth:"wide"}),day:yl({values:n8,defaultWidth:"wide"}),dayPeriod:yl({values:r8,defaultWidth:"wide",formattingValues:s8,defaultFormattingWidth:"wide"})};function wl(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;var c=l[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?l8(u,function(p){return p.test(c)}):a8(u,function(p){return p.test(c)}),h;h=e.valueCallback?e.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;var m=t.slice(c.length);return{value:h,rest:m}}}function a8(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function l8(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function c8(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],l=t.match(e.parsePattern);if(!l)return null;var c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}var u8=/^(\d+)(th|st|nd|rd)?/i,d8=/\d+/i,f8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},h8={any:[/^b/i,/^(a|c)/i]},m8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},p8={any:[/1/i,/2/i,/3/i,/4/i]},v8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},x8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j8={ordinalNumber:c8({matchPattern:u8,parsePattern:d8,valueCallback:function(t){return parseInt(t,10)}}),era:wl({matchPatterns:f8,defaultMatchWidth:"wide",parsePatterns:h8,defaultParseWidth:"any"}),quarter:wl({matchPatterns:m8,defaultMatchWidth:"wide",parsePatterns:p8,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:wl({matchPatterns:v8,defaultMatchWidth:"wide",parsePatterns:g8,defaultParseWidth:"any"}),day:wl({matchPatterns:x8,defaultMatchWidth:"wide",parsePatterns:y8,defaultParseWidth:"any"}),dayPeriod:wl({matchPatterns:w8,defaultMatchWidth:"any",parsePatterns:b8,defaultParseWidth:"any"})},TN={code:"en-US",formatDistance:q6,formatLong:X6,formatRelative:Q6,localize:o8,match:j8,options:{weekStartsOn:0,firstWeekContainsDate:1}},_8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N8=/^'([^]*?)'?$/,C8=/''/g,k8=/[a-zA-Z]/;function Ct(e,t,n){var r,o,l,c,u,f,h,m,p,x,y,j,w,_,N,C,k,P;$e(2,arguments);var E=String(t),D=ni(),O=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:D.locale)!==null&&r!==void 0?r:TN,A=zt((l=(c=(u=(f=n==null?void 0:n.firstWeekContainsDate)!==null&&f!==void 0?f:n==null||(h=n.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:D.firstWeekContainsDate)!==null&&c!==void 0?c:(p=D.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=zt((y=(j=(w=(_=n==null?void 0:n.weekStartsOn)!==null&&_!==void 0?_:n==null||(N=n.locale)===null||N===void 0||(C=N.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&w!==void 0?w:D.weekStartsOn)!==null&&j!==void 0?j:(k=D.locale)===null||k===void 0||(P=k.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&y!==void 0?y:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var z=We(e);if(!N6(z))throw new RangeError("Invalid time value");var Q=Hl(z),G=E6(z,Q),W={firstWeekContainsDate:A,weekStartsOn:R,locale:O,_originalDate:z},U=E.match(S8).map(function(q){var K=q[0];if(K==="p"||K==="P"){var I=U6[K];return I(q,O.formatLong)}return q}).join("").match(_8).map(function(q){if(q==="''")return"'";var K=q[0];if(K==="'")return P8(q);var I=L6[K];if(I)return!(n!=null&&n.useAdditionalWeekYearTokens)&&W6(q)&&Sb(q,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&z6(q)&&Sb(q,t,String(e)),I(G,q,O.localize,W);if(K.match(k8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return q}).join("");return U}function P8(e){var t=e.match(N8);return t?t[1].replace(C8,"'"):e}function E8(e){$e(1,arguments);var t=We(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}var T8=6048e5;function A8(e){$e(1,arguments);var t=We(e),n=Ii(t).getTime()-w6(t).getTime();return Math.round(n/T8)+1}function D8(e){$e(1,arguments);var t=We(e),n=t.getTime();return n}function O8(e){return $e(1,arguments),Math.floor(D8(e)/1e3)}function R8(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=We(e),p=m.getFullYear(),x=ni(),y=zt((n=(r=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&r!==void 0?r:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setFullYear(p+1,0,y),j.setHours(0,0,0,0);var w=Or(j,t),_=new Date(0);_.setFullYear(p,0,y),_.setHours(0,0,0,0);var N=Or(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function $8(e,t){var n,r,o,l,c,u,f,h;$e(1,arguments);var m=ni(),p=zt((n=(r=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&r!==void 0?r:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1),x=R8(e,t),y=new Date(0);y.setFullYear(x,0,p),y.setHours(0,0,0,0);var j=Or(y,t);return j}var M8=6048e5;function I8(e,t){$e(1,arguments);var n=We(e),r=Or(n,t).getTime()-$8(n,t).getTime();return Math.round(r/M8)+1}function L8(e){$e(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function F8(e,t){return $e(1,arguments),k6(L8(e),wn(e),t)+1}function Ap(e,t){$e(2,arguments);var n=We(e),r=We(t);return n.getTime()>r.getTime()}function AN(e,t){$e(2,arguments);var n=We(e),r=We(t);return n.getTime()<r.getTime()}function zv(e,t){$e(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function U8(e,t){$e(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()}function Rm(e,t){$e(2,arguments);var n=zt(t);return qt(e,-n)}function $m(e,t){$e(2,arguments);var n=We(e),r=zt(t),o=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(o,r,15),c.setHours(0,0,0,0);var u=E8(c);return n.setMonth(r,Math.min(l,u)),n}function Nb(e,t){$e(2,arguments);var n=We(e),r=zt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var Ie=function(){return Ie=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Ie.apply(this,arguments)};function B8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function DN(e,t,n){for(var r=0,o=t.length,l;r<o;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}function lc(e){return e.mode==="multiple"}function cc(e){return e.mode==="range"}function Kd(e){return e.mode==="single"}var V8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function z8(e,t){return Ct(e,"LLLL y",t)}function W8(e,t){return Ct(e,"d",t)}function H8(e,t){return Ct(e,"LLLL",t)}function q8(e){return"".concat(e)}function Y8(e,t){return Ct(e,"cccccc",t)}function G8(e,t){return Ct(e,"yyyy",t)}var K8=Object.freeze({__proto__:null,formatCaption:z8,formatDay:W8,formatMonthCaption:H8,formatWeekNumber:q8,formatWeekdayName:Y8,formatYearCaption:G8}),X8=function(e,t,n){return Ct(e,"do MMMM (EEEE)",n)},J8=function(){return"Month: "},Q8=function(){return"Go to next month"},Z8=function(){return"Go to previous month"},e7=function(e,t){return Ct(e,"cccc",t)},t7=function(e){return"Week n. ".concat(e)},n7=function(){return"Year: "},r7=Object.freeze({__proto__:null,labelDay:X8,labelMonthDropdown:J8,labelNext:Q8,labelPrevious:Z8,labelWeekNumber:t7,labelWeekday:e7,labelYearDropdown:n7});function s7(){var e="buttons",t=V8,n=TN,r={},o={},l=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:K8,labels:r7,locale:n,modifiersClassNames:r,modifiers:o,numberOfMonths:l,styles:c,today:u,mode:"default"}}function i7(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,o=e.toMonth,l=e.fromDate,c=e.toDate;return r?l=wn(r):t&&(l=new Date(t,0,1)),o?c=Bv(o):n&&(c=new Date(n,11,31)),{fromDate:l?la(l):void 0,toDate:c?la(c):void 0}}var ON=g.createContext(void 0);function o7(e){var t,n=e.initialProps,r=s7(),o=i7(n),l=o.fromDate,c=o.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;u!=="buttons"&&(!l||!c)&&(u="buttons");var f;(Kd(n)||lc(n)||cc(n))&&(f=n.onSelect);var h=Ie(Ie(Ie({},r),n),{captionLayout:u,classNames:Ie(Ie({},r.classNames),n.classNames),components:Ie({},n.components),formatters:Ie(Ie({},r.formatters),n.formatters),fromDate:l,labels:Ie(Ie({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ie(Ie({},r.modifiers),n.modifiers),modifiersClassNames:Ie(Ie({},r.modifiersClassNames),n.modifiersClassNames),onSelect:f,styles:Ie(Ie({},r.styles),n.styles),toDate:c});return s.jsx(ON.Provider,{value:h,children:e.children})}function at(){var e=g.useContext(ON);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RN(e){var t=at(),n=t.locale,r=t.classNames,o=t.styles,l=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:n})})}function a7(e){return s.jsx("svg",Ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $N(e){var t,n,r=e.onChange,o=e.value,l=e.children,c=e.caption,u=e.className,f=e.style,h=at(),m=(n=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:a7;return s.jsxs("div",{className:u,style:f,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:o,onChange:r,children:l}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,s.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function l7(e){var t,n=at(),r=n.fromDate,o=n.toDate,l=n.styles,c=n.locale,u=n.formatters.formatMonthCaption,f=n.classNames,h=n.components,m=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var p=[];if(U8(r,o))for(var x=wn(r),y=r.getMonth();y<=o.getMonth();y++)p.push($m(x,y));else for(var x=wn(new Date),y=0;y<=11;y++)p.push($m(x,y));var j=function(_){var N=Number(_.target.value),C=$m(wn(e.displayMonth),N);e.onChange(C)},w=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:$N;return s.jsx(w,{name:"months","aria-label":m(),className:f.dropdown_month,style:l.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:p.map(function(_){return s.jsx("option",{value:_.getMonth(),children:u(_,{locale:c})},_.getMonth())})})}function c7(e){var t,n=e.displayMonth,r=at(),o=r.fromDate,l=r.toDate,c=r.locale,u=r.styles,f=r.classNames,h=r.components,m=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,x=[];if(!o)return s.jsx(s.Fragment,{});if(!l)return s.jsx(s.Fragment,{});for(var y=o.getFullYear(),j=l.getFullYear(),w=y;w<=j;w++)x.push(Nb(P6(new Date),w));var _=function(C){var k=Nb(wn(n),Number(C.target.value));e.onChange(k)},N=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:$N;return s.jsx(N,{name:"years","aria-label":p(),className:f.dropdown_year,style:u.dropdown_year,onChange:_,value:n.getFullYear(),caption:m(n,{locale:c}),children:x.map(function(C){return s.jsx("option",{value:C.getFullYear(),children:m(C,{locale:c})},C.getFullYear())})})}function u7(e,t){var n=g.useState(e),r=n[0],o=n[1],l=t===void 0?r:t;return[l,o]}function d7(e){var t=e.month,n=e.defaultMonth,r=e.today,o=t||n||r||new Date,l=e.toDate,c=e.fromDate,u=e.numberOfMonths,f=u===void 0?1:u;if(l&&ql(l,o)<0){var h=-1*(f-1);o=pr(l,h)}return c&&ql(o,c)<0&&(o=c),wn(o)}function f7(){var e=at(),t=d7(e),n=u7(t,e.month),r=n[0],o=n[1],l=function(c){var u;if(!e.disableNavigation){var f=wn(c);o(f),(u=e.onMonthChange)===null||u===void 0||u.call(e,f)}};return[r,l]}function h7(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,o=wn(e),l=wn(pr(o,r)),c=ql(l,o),u=[],f=0;f<c;f++){var h=pr(o,f);u.push(h)}return n&&(u=u.reverse()),u}function m7(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=r?l:1,u=wn(e);if(!n)return pr(u,c);var f=ql(n,e);if(!(f<l))return pr(u,c)}}function p7(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=r?l:1,u=wn(e);if(!n)return pr(u,-c);var f=ql(u,n);if(!(f<=0))return pr(u,-c)}}var MN=g.createContext(void 0);function v7(e){var t=at(),n=f7(),r=n[0],o=n[1],l=h7(r,t),c=m7(r,t),u=p7(r,t),f=function(p){return l.some(function(x){return zv(p,x)})},h=function(p,x){f(p)||(x&&AN(p,x)?o(pr(p,1+t.numberOfMonths*-1)):o(p))},m={currentMonth:r,displayMonths:l,goToMonth:o,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:f};return s.jsx(MN.Provider,{value:m,children:e.children})}function uc(){var e=g.useContext(MN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Cb(e){var t,n=at(),r=n.classNames,o=n.styles,l=n.components,c=uc().goToMonth,u=function(m){c(pr(m,e.displayIndex?-e.displayIndex:0))},f=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:RN,h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:h}),s.jsx(l7,{onChange:u,displayMonth:e.displayMonth}),s.jsx(c7,{onChange:u,displayMonth:e.displayMonth})]})}function g7(e){return s.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function x7(e){return s.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var gd=g.forwardRef(function(e,t){var n=at(),r=n.classNames,o=n.styles,l=[r.button_reset,r.button];e.className&&l.push(e.className);var c=l.join(" "),u=Ie(Ie({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),s.jsx("button",Ie({},e,{ref:t,type:"button",className:c,style:u}))});function y7(e){var t,n,r=at(),o=r.dir,l=r.locale,c=r.classNames,u=r.styles,f=r.labels,h=f.labelPrevious,m=f.labelNext,p=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=h(e.previousMonth,{locale:l}),y=[c.nav_button,c.nav_button_previous].join(" "),j=m(e.nextMonth,{locale:l}),w=[c.nav_button,c.nav_button_next].join(" "),_=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:x7,N=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:g7;return s.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&s.jsx(gd,{name:"previous-month","aria-label":x,className:y,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(_,{className:c.nav_icon,style:u.nav_icon}):s.jsx(N,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&s.jsx(gd,{name:"next-month","aria-label":j,className:w,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(N,{className:c.nav_icon,style:u.nav_icon}):s.jsx(_,{className:c.nav_icon,style:u.nav_icon})})]})}function kb(e){var t=at().numberOfMonths,n=uc(),r=n.previousMonth,o=n.nextMonth,l=n.goToMonth,c=n.displayMonths,u=c.findIndex(function(j){return zv(e.displayMonth,j)}),f=u===0,h=u===c.length-1,m=t>1&&(f||!h),p=t>1&&(h||!f),x=function(){r&&l(r)},y=function(){o&&l(o)};return s.jsx(y7,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:o,previousMonth:r,onPreviousClick:x,onNextClick:y})}function w7(e){var t,n=at(),r=n.classNames,o=n.disableNavigation,l=n.styles,c=n.captionLayout,u=n.components,f=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:RN,h;return o?h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=s.jsx(Cb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(Cb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(kb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(kb,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:l.caption,children:h})}function b7(e){var t=at(),n=t.footer,r=t.styles,o=t.classNames.tfoot;return n?s.jsx("tfoot",{className:o,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function j7(e,t,n){for(var r=n?Ii(new Date):Or(new Date,{locale:e,weekStartsOn:t}),o=[],l=0;l<7;l++){var c=qt(r,l);o.push(c)}return o}function _7(){var e=at(),t=e.classNames,n=e.styles,r=e.showWeekNumber,o=e.locale,l=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,h=j7(o,l,c);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),h.map(function(m,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":f(m,{locale:o}),children:u(m,{locale:o})},p)})]})}function S7(){var e,t=at(),n=t.classNames,r=t.styles,o=t.components,l=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:_7;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(l,{})})}function N7(e){var t=at(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var Wv=g.createContext(void 0);function C7(e){if(!lc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Wv.Provider,{value:t,children:e.children})}return s.jsx(k7,{initialProps:e.initialProps,children:e.children})}function k7(e){var t=e.initialProps,n=e.children,r=t.selected,o=t.min,l=t.max,c=function(h,m,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,h,m,p);var j=!!(m.selected&&o&&(r==null?void 0:r.length)===o);if(!j){var w=!!(!m.selected&&l&&(r==null?void 0:r.length)===l);if(!w){var _=r?DN([],r):[];if(m.selected){var N=_.findIndex(function(C){return yn(h,C)});_.splice(N,1)}else _.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,_,h,m,p)}}},u={disabled:[]};r&&u.disabled.push(function(h){var m=l&&r.length>l-1,p=r.some(function(x){return yn(x,h)});return!!(m&&!p)});var f={selected:r,onDayClick:c,modifiers:u};return s.jsx(Wv.Provider,{value:f,children:n})}function Hv(){var e=g.useContext(Wv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function P7(e,t){var n=t||{},r=n.from,o=n.to;return r&&o?yn(o,e)&&yn(r,e)?void 0:yn(o,e)?{from:o,to:void 0}:yn(r,e)?void 0:Ap(r,e)?{from:e,to:o}:{from:r,to:e}:o?Ap(e,o)?{from:o,to:e}:{from:e,to:o}:r?AN(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var qv=g.createContext(void 0);function E7(e){if(!cc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(qv.Provider,{value:t,children:e.children})}return s.jsx(T7,{initialProps:e.initialProps,children:e.children})}function T7(e){var t=e.initialProps,n=e.children,r=t.selected,o=r||{},l=o.from,c=o.to,u=t.min,f=t.max,h=function(y,j,w){var _,N;(_=t.onDayClick)===null||_===void 0||_.call(t,y,j,w);var C=P7(y,r);(N=t.onSelect)===null||N===void 0||N.call(t,C,y,j,w)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],c?(m.range_end=[c],yn(l,c)||(m.range_middle=[{after:l,before:c}])):m.range_end=[l]):c&&(m.range_start=[c],m.range_end=[c]),u&&(l&&!c&&m.disabled.push({after:Rm(l,u-1),before:qt(l,u-1)}),l&&c&&m.disabled.push({after:l,before:qt(l,u-1)}),!l&&c&&m.disabled.push({after:Rm(c,u-1),before:qt(c,u-1)})),f){if(l&&!c&&(m.disabled.push({before:qt(l,-f+1)}),m.disabled.push({after:qt(l,f-1)})),l&&c){var p=Xr(c,l)+1,x=f-p;m.disabled.push({before:Rm(l,x)}),m.disabled.push({after:qt(c,x)})}!l&&c&&(m.disabled.push({before:qt(c,-f+1)}),m.disabled.push({after:qt(c,f-1)}))}return s.jsx(qv.Provider,{value:{selected:r,onDayClick:h,modifiers:m},children:n})}function Yv(){var e=g.useContext(qv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Qu(e){return Array.isArray(e)?DN([],e):e!==void 0?[e]:[]}function A7(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],o=n[1];t[r]=Qu(o)}),t}var vr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vr||(vr={}));var D7=vr.Selected,qr=vr.Disabled,O7=vr.Hidden,R7=vr.Today,Mm=vr.RangeEnd,Im=vr.RangeMiddle,Lm=vr.RangeStart,$7=vr.Outside;function M7(e,t,n){var r,o=(r={},r[D7]=Qu(e.selected),r[qr]=Qu(e.disabled),r[O7]=Qu(e.hidden),r[R7]=[e.today],r[Mm]=[],r[Im]=[],r[Lm]=[],r[$7]=[],r);return e.fromDate&&o[qr].push({before:e.fromDate}),e.toDate&&o[qr].push({after:e.toDate}),lc(e)?o[qr]=o[qr].concat(t.modifiers[qr]):cc(e)&&(o[qr]=o[qr].concat(n.modifiers[qr]),o[Lm]=n.modifiers[Lm],o[Im]=n.modifiers[Im],o[Mm]=n.modifiers[Mm]),o}var IN=g.createContext(void 0);function I7(e){var t=at(),n=Hv(),r=Yv(),o=M7(t,n,r),l=A7(t.modifiers),c=Ie(Ie({},o),l);return s.jsx(IN.Provider,{value:c,children:e.children})}function LN(){var e=g.useContext(IN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function L7(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function F7(e){return!!(e&&typeof e=="object"&&"from"in e)}function U7(e){return!!(e&&typeof e=="object"&&"after"in e)}function B7(e){return!!(e&&typeof e=="object"&&"before"in e)}function V7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function z7(e,t){var n,r=t.from,o=t.to;if(r&&o){var l=Xr(o,r)<0;l&&(n=[o,r],r=n[0],o=n[1]);var c=Xr(e,r)>=0&&Xr(o,e)>=0;return c}return o?yn(o,e):r?yn(r,e):!1}function W7(e){return Uv(e)}function H7(e){return Array.isArray(e)&&e.every(Uv)}function q7(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(W7(n))return yn(e,n);if(H7(n))return n.includes(e);if(F7(n))return z7(e,n);if(V7(n))return n.dayOfWeek.includes(e.getDay());if(L7(n)){var r=Xr(n.before,e),o=Xr(n.after,e),l=r>0,c=o<0,u=Ap(n.before,n.after);return u?c&&l:l||c}return U7(n)?Xr(e,n.after)>0:B7(n)?Xr(n.before,e)>0:typeof n=="function"?n(e):!1})}function Gv(e,t,n){var r=Object.keys(t).reduce(function(l,c){var u=t[c];return q7(e,u)&&l.push(c),l},[]),o={};return r.forEach(function(l){return o[l]=!0}),n&&!zv(e,n)&&(o.outside=!0),o}function Y7(e,t){for(var n=wn(e[0]),r=Bv(e[e.length-1]),o,l,c=n;c<=r;){var u=Gv(c,t),f=!u.disabled&&!u.hidden;if(!f){c=qt(c,1);continue}if(u.selected)return c;u.today&&!l&&(l=c),o||(o=c),c=qt(c,1)}return l||o}var G7=365;function FN(e,t){var n=t.moveBy,r=t.direction,o=t.context,l=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,f=o.weekStartsOn,h=o.fromDate,m=o.toDate,p=o.locale,x={day:qt,week:Tp,month:pr,year:j6,startOfWeek:function(_){return o.ISOWeek?Ii(_):Or(_,{locale:p,weekStartsOn:f})},endOfWeek:function(_){return o.ISOWeek?CN(_):Vv(_,{locale:p,weekStartsOn:f})}},y=x[n](e,r==="after"?1:-1);r==="before"&&h?y=_6([h,y]):r==="after"&&m&&(y=S6([m,y]));var j=!0;if(l){var w=Gv(y,l);j=!w.disabled&&!w.hidden}return j?y:u.count>G7?u.lastFocused:FN(y,{moveBy:n,direction:r,context:o,modifiers:l,retry:Ie(Ie({},u),{count:u.count+1})})}var UN=g.createContext(void 0);function K7(e){var t=uc(),n=LN(),r=g.useState(),o=r[0],l=r[1],c=g.useState(),u=c[0],f=c[1],h=Y7(t.displayMonths,n),m=o??(u&&t.isDateDisplayed(u))?u:h,p=function(){f(o),l(void 0)},x=function(_){l(_)},y=at(),j=function(_,N){if(o){var C=FN(o,{moveBy:_,direction:N,context:y,modifiers:n});yn(o,C)||(t.goToDate(C,o),x(C))}},w={focusedDay:o,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return s.jsx(UN.Provider,{value:w,children:e.children})}function Kv(){var e=g.useContext(UN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function X7(e,t){var n=LN(),r=Gv(e,n,t);return r}var Xv=g.createContext(void 0);function J7(e){if(!Kd(e.initialProps)){var t={selected:void 0};return s.jsx(Xv.Provider,{value:t,children:e.children})}return s.jsx(Q7,{initialProps:e.initialProps,children:e.children})}function Q7(e){var t=e.initialProps,n=e.children,r=function(l,c,u){var f,h,m;if((f=t.onDayClick)===null||f===void 0||f.call(t,l,c,u),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,l,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,l,l,c,u)},o={selected:t.selected,onDayClick:r};return s.jsx(Xv.Provider,{value:o,children:n})}function BN(){var e=g.useContext(Xv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Z7(e,t){var n=at(),r=BN(),o=Hv(),l=Yv(),c=Kv(),u=c.focusDayAfter,f=c.focusDayBefore,h=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,x=c.focus,y=c.focusMonthBefore,j=c.focusMonthAfter,w=c.focusYearBefore,_=c.focusYearAfter,N=c.focusStartOfWeek,C=c.focusEndOfWeek,k=function(I){var L,B,Z,$;Kd(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,e,t,I):lc(n)?(B=o.onDayClick)===null||B===void 0||B.call(o,e,t,I):cc(n)?(Z=l.onDayClick)===null||Z===void 0||Z.call(l,e,t,I):($=n.onDayClick)===null||$===void 0||$.call(n,e,t,I)},P=function(I){var L;x(e),(L=n.onDayFocus)===null||L===void 0||L.call(n,e,t,I)},E=function(I){var L;p(),(L=n.onDayBlur)===null||L===void 0||L.call(n,e,t,I)},D=function(I){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,e,t,I)},O=function(I){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,e,t,I)},A=function(I){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,e,t,I)},R=function(I){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,e,t,I)},z=function(I){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,e,t,I)},Q=function(I){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,e,t,I)},G=function(I){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,e,t,I)},W=function(I){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,e,t,I)},U=function(I){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,e,t,I)},q=function(I){var L;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),n.dir==="rtl"?u():f();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),n.dir==="rtl"?f():u();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),h();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),m();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?w():y();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?_():j();break;case"Home":I.preventDefault(),I.stopPropagation(),N();break;case"End":I.preventDefault(),I.stopPropagation(),C();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,e,t,I)},K={onClick:k,onFocus:P,onBlur:E,onKeyDown:q,onKeyUp:U,onMouseEnter:D,onMouseLeave:O,onPointerEnter:A,onPointerLeave:R,onTouchCancel:z,onTouchEnd:Q,onTouchMove:G,onTouchStart:W};return K}function eU(){var e=at(),t=BN(),n=Hv(),r=Yv(),o=Kd(e)?t.selected:lc(e)?n.selected:cc(e)?r.selected:void 0;return o}function tU(e){return Object.values(vr).includes(e)}function nU(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var o=e.modifiersClassNames[r];if(o)n.push(o);else if(tU(r)){var l=e.classNames["day_".concat(r)];l&&n.push(l)}}),n}function rU(e,t){var n=Ie({},e.styles.day);return Object.keys(t).forEach(function(r){var o;n=Ie(Ie({},n),(o=e.modifiersStyles)===null||o===void 0?void 0:o[r])}),n}function sU(e,t,n){var r,o,l,c=at(),u=Kv(),f=X7(e,t),h=Z7(e,f),m=eU(),p=!!(c.onDayClick||c.mode!=="default");g.useEffect(function(){var D;f.outside||u.focusedDay&&p&&yn(u.focusedDay,e)&&((D=n.current)===null||D===void 0||D.focus())},[u.focusedDay,e,n,p,f.outside]);var x=nU(c,f).join(" "),y=rU(c,f),j=!!(f.outside&&!c.showOutsideDays||f.hidden),w=(l=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&l!==void 0?l:N7,_=s.jsx(w,{date:e,displayMonth:t,activeModifiers:f}),N={style:y,className:x,children:_,role:"gridcell"},C=u.focusTarget&&yn(u.focusTarget,e)&&!f.outside,k=u.focusedDay&&yn(u.focusedDay,e),P=Ie(Ie(Ie({},N),(r={disabled:f.disabled,role:"gridcell"},r["aria-selected"]=f.selected,r.tabIndex=k||C?0:-1,r)),h),E={isButton:p,isHidden:j,activeModifiers:f,selectedDays:m,buttonProps:P,divProps:N};return E}function iU(e){var t=g.useRef(null),n=sU(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(gd,Ie({name:"day",ref:t},n.buttonProps)):s.jsx("div",Ie({},n.divProps))}function oU(e){var t=e.number,n=e.dates,r=at(),o=r.onWeekNumberClick,l=r.styles,c=r.classNames,u=r.locale,f=r.labels.labelWeekNumber,h=r.formatters.formatWeekNumber,m=h(Number(t),{locale:u});if(!o)return s.jsx("span",{className:c.weeknumber,style:l.weeknumber,children:m});var p=f(Number(t),{locale:u}),x=function(y){o(t,n,y)};return s.jsx(gd,{name:"week-number","aria-label":p,className:c.weeknumber,style:l.weeknumber,onClick:x,children:m})}function aU(e){var t,n,r=at(),o=r.styles,l=r.classNames,c=r.showWeekNumber,u=r.components,f=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:iU,h=(n=u==null?void 0:u.WeekNumber)!==null&&n!==void 0?n:oU,m;return c&&(m=s.jsx("td",{className:l.cell,style:o.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:l.row,style:o.row,children:[m,e.dates.map(function(p){return s.jsx("td",{className:l.cell,style:o.cell,role:"presentation",children:s.jsx(f,{displayMonth:e.displayMonth,date:p})},O8(p))})]})}function Pb(e,t,n){for(var r=n!=null&&n.ISOWeek?CN(t):Vv(t,n),o=n!=null&&n.ISOWeek?Ii(e):Or(e,n),l=Xr(r,o),c=[],u=0;u<=l;u++)c.push(qt(o,u));var f=c.reduce(function(h,m){var p=n!=null&&n.ISOWeek?A8(m):I8(m,n),x=h.find(function(y){return y.weekNumber===p});return x?(x.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return f}function lU(e,t){var n=Pb(wn(e),Bv(e),t);if(t!=null&&t.useFixedWeeks){var r=F8(e,t);if(r<6){var o=n[n.length-1],l=o.dates[o.dates.length-1],c=Tp(l,6-r),u=Pb(Tp(l,1),c,t);n.push.apply(n,u)}}return n}function cU(e){var t,n,r,o=at(),l=o.locale,c=o.classNames,u=o.styles,f=o.hideHead,h=o.fixedWeeks,m=o.components,p=o.weekStartsOn,x=o.firstWeekContainsDate,y=o.ISOWeek,j=lU(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:l,weekStartsOn:p,firstWeekContainsDate:x}),w=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:S7,_=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:aU,N=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:b7;return s.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&s.jsx(w,{}),s.jsx("tbody",{className:c.tbody,style:u.tbody,children:j.map(function(C){return s.jsx(_,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function uU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var dU=uU()?g.useLayoutEffect:g.useEffect,Fm=!1,fU=0;function Eb(){return"react-day-picker-".concat(++fU)}function hU(e){var t,n=e??(Fm?Eb():null),r=g.useState(n),o=r[0],l=r[1];return dU(function(){o===null&&l(Eb())},[]),g.useEffect(function(){Fm===!1&&(Fm=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function mU(e){var t,n,r=at(),o=r.dir,l=r.classNames,c=r.styles,u=r.components,f=uc().displayMonths,h=hU(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,p=[l.month],x=c.month,y=e.displayIndex===0,j=e.displayIndex===f.length-1,w=!y&&!j;o==="rtl"&&(t=[y,j],j=t[0],y=t[1]),y&&(p.push(l.caption_start),x=Ie(Ie({},x),c.caption_start)),j&&(p.push(l.caption_end),x=Ie(Ie({},x),c.caption_end)),w&&(p.push(l.caption_between),x=Ie(Ie({},x),c.caption_between));var _=(n=u==null?void 0:u.Caption)!==null&&n!==void 0?n:w7;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(_,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(cU,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function pU(e){var t=at(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function vU(e){var t,n,r=e.initialProps,o=at(),l=Kv(),c=uc(),u=g.useState(!1),f=u[0],h=u[1];g.useEffect(function(){o.initialFocus&&l.focusTarget&&(f||(l.focus(l.focusTarget),h(!0)))},[o.initialFocus,f,l.focus,l.focusTarget,l]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var p=Ie(Ie({},o.styles.root),o.style),x=Object.keys(r).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var _;return Ie(Ie({},j),(_={},_[w]=r[w],_))},{}),y=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:pU;return s.jsx("div",Ie({className:m.join(" "),style:p,dir:o.dir,id:o.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:s.jsx(y,{children:c.displayMonths.map(function(j,w){return s.jsx(mU,{displayIndex:w,displayMonth:j},w)})})}))}function gU(e){var t=e.children,n=B8(e,["children"]);return s.jsx(o7,{initialProps:n,children:s.jsx(v7,{children:s.jsx(J7,{initialProps:n,children:s.jsx(C7,{initialProps:n,children:s.jsx(E7,{initialProps:n,children:s.jsx(I7,{children:s.jsx(K7,{children:t})})})})})})})}function xU(e){return s.jsx(gU,Ie({},e,{children:s.jsx(vU,{initialProps:e})}))}function ca({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(xU,{showOutsideDays:n,className:Ae("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ae(pp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ae(pp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(zR,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(HR,{className:"h-4 w-4"})},...r})}ca.displayName="Calendar";var yU="Arrow",VN=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...l}=e;return s.jsx(Ke.svg,{...l,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});VN.displayName=yU;var wU=VN,Jv="Popper",[zN,WN]=Rr(Jv),[bU,HN]=zN(Jv),qN=e=>{const{__scopePopper:t,children:n}=e,[r,o]=g.useState(null);return s.jsx(bU,{scope:t,anchor:r,onAnchorChange:o,children:n})};qN.displayName=Jv;var YN="PopperAnchor",GN=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,l=HN(YN,n),c=g.useRef(null),u=jt(t,c);return g.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:s.jsx(Ke.div,{...o,ref:u})});GN.displayName=YN;var Qv="PopperContent",[jU,_U]=zN(Qv),KN=g.forwardRef((e,t)=>{var ie,pe,Ne,ve,de,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:j,...w}=e,_=HN(Qv,n),[N,C]=g.useState(null),k=jt(t,Ue=>C(Ue)),[P,E]=g.useState(null),D=Fv(P),O=(D==null?void 0:D.width)??0,A=(D==null?void 0:D.height)??0,R=r+(l!=="center"?"-"+l:""),z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Q=Array.isArray(h)?h:[h],G=Q.length>0,W={padding:z,boundary:Q.filter(NU),altBoundary:G},{refs:U,floatingStyles:q,placement:K,isPositioned:I,middlewareData:L}=MS({strategy:"fixed",placement:R,whileElementsMounted:(...Ue)=>RS(...Ue,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[IS({mainAxis:o+A,alignmentAxis:c}),f&&LS({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?FS():void 0,...W}),f&&US({...W}),BS({...W,apply:({elements:Ue,rects:Be,availableWidth:Qe,availableHeight:dn})=>{const{width:Rn,height:os}=Be.reference,jn=Ue.floating.style;jn.setProperty("--radix-popper-available-width",`${Qe}px`),jn.setProperty("--radix-popper-available-height",`${dn}px`),jn.setProperty("--radix-popper-anchor-width",`${Rn}px`),jn.setProperty("--radix-popper-anchor-height",`${os}px`)}}),P&&zS({element:P,padding:u}),CU({arrowWidth:O,arrowHeight:A}),x&&VS({strategy:"referenceHidden",...W})]}),[B,Z]=QN(K),$=dr(j);ts(()=>{I&&($==null||$())},[I,$]);const J=(ie=L.arrow)==null?void 0:ie.x,le=(pe=L.arrow)==null?void 0:pe.y,ue=((Ne=L.arrow)==null?void 0:Ne.centerOffset)!==0,[ye,me]=g.useState();return ts(()=>{N&&me(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:I?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ve=L.transformOrigin)==null?void 0:ve.x,(de=L.transformOrigin)==null?void 0:de.y].join(" "),...((Ce=L.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(jU,{scope:n,placedSide:B,onArrowChange:E,arrowX:J,arrowY:le,shouldHideArrow:ue,children:s.jsx(Ke.div,{"data-side":B,"data-align":Z,...w,ref:k,style:{...w.style,animation:I?void 0:"none"}})})})});KN.displayName=Qv;var XN="PopperArrow",SU={top:"bottom",right:"left",bottom:"top",left:"right"},JN=g.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,l=_U(XN,r),c=SU[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(wU,{...o,ref:n,style:{...o.style,display:"block"}})})});JN.displayName=XN;function NU(e){return e!==null}var CU=e=>({name:"transformOrigin",options:e,fn(t){var _,N,C;const{placement:n,rects:r,middlewareData:o}=t,c=((_=o.arrow)==null?void 0:_.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=QN(n),p={start:"0%",center:"50%",end:"100%"}[m],x=(((N=o.arrow)==null?void 0:N.x)??0)+u/2,y=(((C=o.arrow)==null?void 0:C.y)??0)+f/2;let j="",w="";return h==="bottom"?(j=c?p:`${x}px`,w=`${-f}px`):h==="top"?(j=c?p:`${x}px`,w=`${r.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?p:`${y}px`):h==="left"&&(j=`${r.floating.width+f}px`,w=c?p:`${y}px`),{data:{x:j,y:w}}}});function QN(e){const[t,n="center"]=e.split("-");return[t,n]}var kU=qN,ZN=GN,PU=KN,EU=JN,Xd="Popover",[eC,b9]=Rr(Xd,[WN]),dc=WN(),[TU,ri]=eC(Xd),tC=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,u=dc(t),f=g.useRef(null),[h,m]=g.useState(!1),[p,x]=Yi({prop:r,defaultProp:o??!1,onChange:l,caller:Xd});return s.jsx(kU,{...u,children:s.jsx(TU,{scope:t,contentId:Ko(),triggerRef:f,open:p,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:h,onCustomAnchorAdd:g.useCallback(()=>m(!0),[]),onCustomAnchorRemove:g.useCallback(()=>m(!1),[]),modal:c,children:n})})};tC.displayName=Xd;var nC="PopoverAnchor",AU=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ri(nC,n),l=dc(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return g.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(ZN,{...l,...r,ref:t})});AU.displayName=nC;var rC="PopoverTrigger",sC=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ri(rC,n),l=dc(n),c=jt(t,o.triggerRef),u=s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":cC(o.open),...r,ref:c,onClick:qe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:s.jsx(ZN,{asChild:!0,...l,children:u})});sC.displayName=rC;var Zv="PopoverPortal",[DU,OU]=eC(Zv,{forceMount:void 0}),iC=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,l=ri(Zv,t);return s.jsx(DU,{scope:t,forceMount:n,children:s.jsx($r,{present:n||l.open,children:s.jsx(Rd,{asChild:!0,container:o,children:r})})})};iC.displayName=Zv;var ua="PopoverContent",oC=g.forwardRef((e,t)=>{const n=OU(ua,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,l=ri(ua,e.__scopePopover);return s.jsx($r,{present:r||l.open,children:l.modal?s.jsx($U,{...o,ref:t}):s.jsx(MU,{...o,ref:t})})});oC.displayName=ua;var RU=ra("PopoverContent.RemoveScroll"),$U=g.forwardRef((e,t)=>{const n=ri(ua,e.__scopePopover),r=g.useRef(null),o=jt(t,r),l=g.useRef(!1);return g.useEffect(()=>{const c=r.current;if(c)return wv(c)},[]),s.jsx(yv,{as:RU,allowPinchZoom:!0,children:s.jsx(aC,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),MU=g.forwardRef((e,t)=>{const n=ri(ua,e.__scopePopover),r=g.useRef(!1),o=g.useRef(!1);return s.jsx(aC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),aC=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...p}=e,x=ri(ua,n),y=dc(n);return r_(),s.jsx(vv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Od,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(PU,{"data-state":cC(x.open),role:"dialog",id:x.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lC="PopoverClose",IU=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ri(lC,n);return s.jsx(Ke.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>o.onOpenChange(!1))})});IU.displayName=lC;var LU="PopoverArrow",FU=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=dc(n);return s.jsx(EU,{...o,...r,ref:t})});FU.displayName=LU;function cC(e){return e?"open":"closed"}var UU=tC,BU=sC,VU=iC,uC=oC;const Yl=UU,Gl=BU,da=fe.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>s.jsx(VU,{children:s.jsx(uC,{ref:o,align:t,sideOffset:n,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));da.displayName=uC.displayName;var zU=g.createContext(void 0);function eg(e){const t=g.useContext(zU);return e||t||"ltr"}var Um="rovingFocusGroup.onEntryFocus",WU={bubbles:!1,cancelable:!0},fc="RovingFocusGroup",[Dp,dC,HU]=F_(fc),[qU,Jd]=Rr(fc,[HU]),[YU,GU]=qU(fc),fC=g.forwardRef((e,t)=>s.jsx(Dp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Dp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(KU,{...e,ref:t})})}));fC.displayName=fc;var KU=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=g.useRef(null),y=jt(t,x),j=eg(l),[w,_]=Yi({prop:c,defaultProp:u??null,onChange:f,caller:fc}),[N,C]=g.useState(!1),k=dr(h),P=dC(n),E=g.useRef(!1),[D,O]=g.useState(0);return g.useEffect(()=>{const A=x.current;if(A)return A.addEventListener(Um,k),()=>A.removeEventListener(Um,k)},[k]),s.jsx(YU,{scope:n,orientation:r,dir:j,loop:o,currentTabStopId:w,onItemFocus:g.useCallback(A=>_(A),[_]),onItemShiftTab:g.useCallback(()=>C(!0),[]),onFocusableItemAdd:g.useCallback(()=>O(A=>A+1),[]),onFocusableItemRemove:g.useCallback(()=>O(A=>A-1),[]),children:s.jsx(Ke.div,{tabIndex:N||D===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{E.current=!0}),onFocus:qe(e.onFocus,A=>{const R=!E.current;if(A.target===A.currentTarget&&R&&!N){const z=new CustomEvent(Um,WU);if(A.currentTarget.dispatchEvent(z),!z.defaultPrevented){const Q=P().filter(K=>K.focusable),G=Q.find(K=>K.active),W=Q.find(K=>K.id===w),q=[G,W,...Q].filter(Boolean).map(K=>K.ref.current);pC(q,m)}}E.current=!1}),onBlur:qe(e.onBlur,()=>C(!1))})})}),hC="RovingFocusGroupItem",mC=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,children:c,...u}=e,f=Ko(),h=l||f,m=GU(hC,n),p=m.currentTabStopId===h,x=dC(n),{onFocusableItemAdd:y,onFocusableItemRemove:j,currentTabStopId:w}=m;return g.useEffect(()=>{if(r)return y(),()=>j()},[r,y,j]),s.jsx(Dp.ItemSlot,{scope:n,id:h,focusable:r,active:o,children:s.jsx(Ke.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:qe(e.onMouseDown,_=>{r?m.onItemFocus(h):_.preventDefault()}),onFocus:qe(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:qe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=QU(_,m.orientation,m.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=x().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const P=k.indexOf(_.currentTarget);k=m.loop?ZU(k,P+1):k.slice(P+1)}setTimeout(()=>pC(k))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:w!=null}):c})})});mC.displayName=hC;var XU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function QU(e,t,n){const r=JU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return XU[r]}function pC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ZU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vC=fC,gC=mC,tg="Radio",[eB,xC]=Rr(tg),[tB,nB]=eB(tg),yC=g.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:l,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[p,x]=g.useState(null),y=jt(t,_=>x(_)),j=g.useRef(!1),w=p?h||!!p.closest("form"):!0;return s.jsxs(tB,{scope:n,checked:o,disabled:c,children:[s.jsx(Ke.button,{type:"button",role:"radio","aria-checked":o,"data-state":_C(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:y,onClick:qe(e.onClick,_=>{o||f==null||f(),w&&(j.current=_.isPropagationStopped(),j.current||_.stopPropagation())})}),w&&s.jsx(jC,{control:p,bubbles:!j.current,name:r,value:u,checked:o,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});yC.displayName=tg;var wC="RadioIndicator",bC=g.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,l=nB(wC,n);return s.jsx($r,{present:r||l.checked,children:s.jsx(Ke.span,{"data-state":_C(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t})})});bC.displayName=wC;var rB="RadioBubbleInput",jC=g.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},l)=>{const c=g.useRef(null),u=jt(c,l),f=vN(n),h=Fv(t);return g.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==n&&y){const j=new Event("click",{bubbles:r});y.call(m,n),m.dispatchEvent(j)}},[f,n,r]),s.jsx(Ke.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jC.displayName=rB;function _C(e){return e?"checked":"unchecked"}var sB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qd="RadioGroup",[iB,j9]=Rr(Qd,[Jd,xC]),SC=Jd(),NC=xC(),[oB,aB]=iB(Qd),CC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:l,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:p,...x}=e,y=SC(n),j=eg(h),[w,_]=Yi({prop:l,defaultProp:o??"",onChange:p,caller:Qd});return s.jsx(oB,{scope:n,name:r,required:c,disabled:u,value:w,onValueChange:_,children:s.jsx(vC,{asChild:!0,...y,orientation:f,dir:j,loop:m,children:s.jsx(Ke.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:j,...x,ref:t})})})});CC.displayName=Qd;var kC="RadioGroupItem",PC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,l=aB(kC,n),c=l.disabled||r,u=SC(n),f=NC(n),h=g.useRef(null),m=jt(t,h),p=l.value===o.value,x=g.useRef(!1);return g.useEffect(()=>{const y=w=>{sB.includes(w.key)&&(x.current=!0)},j=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",j)}},[]),s.jsx(gC,{asChild:!0,...u,focusable:!c,active:p,children:s.jsx(yC,{disabled:c,required:l.required,checked:p,...f,...o,name:l.name,ref:m,onCheck:()=>l.onValueChange(o.value),onKeyDown:qe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:qe(o.onFocus,()=>{var y;x.current&&((y=h.current)==null||y.click())})})})});PC.displayName=kC;var lB="RadioGroupIndicator",EC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=NC(n);return s.jsx(bC,{...o,...r,ref:t})});EC.displayName=lB;var TC=CC,AC=PC,cB=EC;const Zd=fe.forwardRef(({className:e,...t},n)=>s.jsx(TC,{className:Ae("grid gap-2",e),...t,ref:n}));Zd.displayName=TC.displayName;const Hs=fe.forwardRef(({className:e,...t},n)=>s.jsx(AC,{ref:n,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(cB,{className:"flex items-center justify-center",children:s.jsx(ZR,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Hs.displayName=AC.displayName;const wa="Australia/Adelaide",Nr=(e=wa)=>{const t=new Date,n=t.getTime()+t.getTimezoneOffset()*6e4;return new Date(n+uB(e)*6e4)},uB=e=>{const t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-n.getTime())/(1e3*60)},Ft=(e,t=wa)=>{const n={timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",n).format(e)},Yo=e=>{const[t,n]=e.split(":").map(Number),r=t>=12?"PM":"AM";return`${t%12||12}:${n.toString().padStart(2,"0")} ${r}`},dB=(e,t)=>{const n=e>=12?"PM":"AM";return`${e%12||12}:${t.toString().padStart(2,"0")} ${n}`},fB=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`,o=dB(t,n);e.push({value:r,label:o})}return e},hB=(e,t)=>{const[n,r]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),c=n*60+r;return o*60+l>c},mB=({onDeliveryChange:e})=>{const[t,n]=g.useState("express"),[r,o]=g.useState(null),[l,c]=g.useState(""),[u,f]=g.useState([]),[h,m]=g.useState({express:0,scheduled:0}),[p,x]=g.useState(!0),[y,j]=g.useState(!1),[w,_]=g.useState(wa);g.useEffect(()=>{(async()=>{x(!0);try{const{data:E,error:D}=await ae.from("delivery_settings").select("express_fee, scheduled_fee, timezone").eq("id",1).single();if(D&&D.code!=="PGRST116")throw D;m({express:(E==null?void 0:E.express_fee)||9.99,scheduled:(E==null?void 0:E.scheduled_fee)||5.99}),E!=null&&E.timezone&&_(E.timezone)}catch(E){console.error("Error fetching delivery settings:",E),m({express:9.99,scheduled:5.99})}finally{x(!1)}})()},[]),g.useEffect(()=>{r&&t==="scheduled"&&N(r)},[r,t,w]),g.useEffect(()=>{let P=0,E=null,D=null;if(t==="express")P=h.express;else if(t==="scheduled"&&l){P=h.scheduled;const O=u.find(A=>A.id===l);O&&(E=new Date(O.date+"T"+O.start_time).toISOString(),D=O.id)}e({type:t,fee:P,scheduledTime:E,timeslot_id:D})},[t,l,h,u,e]);const N=async P=>{j(!0);try{const E=Ft(P,w),{data:D,error:O}=await ae.from("time_slots").select("*").eq("date",E).eq("is_active",!0).order("start_time");if(O)throw O;f(D||[]),c("")}catch(E){console.error("Error fetching time slots:",E),f([])}finally{j(!1)}},C=P=>{o(P),c("")},k=P=>{const E=Nr(w),D=Ft(E,w);return Ft(P,w)<D};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Delivery Options"}),s.jsxs(Zd,{value:t,onValueChange:n,children:[s.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsx(Hs,{value:"express",id:"express"}),s.jsxs(ne,{htmlFor:"express",className:"flex-1 cursor-pointer",children:["Express Delivery (ASAP)",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${je(h.express)}`})]})]}),s.jsxs("div",{className:"flex flex-col space-y-4 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{value:"scheduled",id:"scheduled"}),s.jsxs(ne,{htmlFor:"scheduled",className:"flex-1 cursor-pointer",children:["Schedule Delivery",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${je(h.scheduled)}`})]})]}),t==="scheduled"&&s.jsxs(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"pl-6 space-y-4",children:[s.jsxs(Yl,{children:[s.jsx(Gl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:Ae("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"}),r?Ct(r,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(da,{className:"w-auto p-0",children:s.jsx(ca,{mode:"single",selected:r,onSelect:C,initialFocus:!0,disabled:k})})]}),r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Available Time Slots"}),y?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(Bt,{value:l,onValueChange:c,children:[s.jsxs(At,{children:[s.jsx(ur,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx(Vt,{placeholder:"Select a time slot"})]}),s.jsx(Dt,{children:u.map(P=>s.jsxs(De,{value:P.id,children:[Yo(P.start_time)," - ",Yo(P.end_time)]},P.id))})]})]})]})]})]})]})},DC=({subtotal:e,onPromoApplied:t,appliedPromo:n,onPromoRemoved:r})=>{const[o,l]=g.useState(""),[c,u]=g.useState(!1),f=async()=>{if(!o.trim()){te({variant:"destructive",title:"Error",description:"Please enter a promo code"});return}u(!0);try{const{data:m,error:p}=await ae.from("promo_codes").select("*").eq("code",o.toUpperCase()).eq("is_active",!0).single();if(p||!m){te({variant:"destructive",title:"Invalid Code",description:"Promo code not found or expired"});return}const x=new Date,y=new Date(m.valid_from),j=m.valid_until?new Date(m.valid_until):null;if(x<y){te({variant:"destructive",title:"Invalid Code",description:"This promo code is not yet active"});return}if(j&&x>j){te({variant:"destructive",title:"Expired Code",description:"This promo code has expired"});return}if(m.max_uses&&m.current_uses>=m.max_uses){te({variant:"destructive",title:"Code Limit Reached",description:"This promo code has reached its usage limit"});return}if(m.minimum_order_amount&&e<m.minimum_order_amount){te({variant:"destructive",title:"Minimum Order Required",description:`Minimum order of ${je(m.minimum_order_amount)} required for this promo code`});return}let w=0;m.discount_type==="percentage"?w=e*m.discount_value/100:w=m.discount_value,w=Math.min(w,e),t({code:m.code,description:m.description,discountType:m.discount_type,discountValue:m.discount_value,discountAmount:w}),te({title:"Promo Code Applied",description:`You saved ${je(w)}!`}),l("")}catch(m){console.error("Error validating promo code:",m),te({variant:"destructive",title:"Error",description:"Failed to validate promo code"})}finally{u(!1)}},h=()=>{r(),te({title:"Promo Code Removed",description:"Promo code has been removed from your order"})};return n?s.jsx("div",{className:"p-4 border rounded-lg bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fv,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:n.code}),s.jsx("p",{className:"text-sm text-green-600",children:n.description}),s.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",je(n.discountAmount)]})]})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:h,className:"text-green-600 hover:text-green-800",children:s.jsx(ei,{className:"w-4 h-4"})})]})}):s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ge,{id:"promo-code",value:o,onChange:m=>l(m.target.value.toUpperCase()),placeholder:"Enter promo code",disabled:c}),s.jsx(ee,{onClick:f,disabled:c||!o.trim(),variant:"outline",children:c?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Apply"})]})})},pB=()=>{const{cart:e,getCartTotal:t,clearCart:n}=is(),{addOrder:r}=uv(),{user:o,updateUserInfo:l}=un(),c=On(),[u,f]=g.useState(!1),[h,m]=g.useState({type:"express",fee:0,scheduledTime:null,timeslot_id:null}),[p,x]=g.useState({name:"",email:"",phone:"",address:"",deliveryNotes:""}),[y,j]=g.useState({}),[w,_]=g.useState(!1),[N,C]=g.useState(!1),[k,P]=g.useState({name:"",address:"",postcode:""}),[E,D]=g.useState([]),[O,A]=g.useState([]),[R,z]=g.useState(""),[Q,G]=g.useState(!1),[W,U]=g.useState(null),[q,K]=g.useState(3),[I,L]=g.useState("");g.useEffect(()=>{const de=async()=>{try{const{data:Be,error:Qe}=await ae.from("delivery_settings").select("express_fee,service_fee_percent").eq("id",1).single();if(Qe&&Qe.code!=="PGRST116")throw Qe;m(dn=>({...dn,fee:(Be==null?void 0:Be.express_fee)||9.99})),K((Be==null?void 0:Be.service_fee_percent)||3)}catch(Be){console.error("Error fetching initial delivery fee:",Be),m(Qe=>({...Qe,fee:9.99})),K(3)}},Ce=async()=>{const{data:Be,error:Qe}=await ae.from("postcodes").select("*").order("suburb");if(Qe){console.error("Error fetching postcodes:",Qe);return}D(Be),A(Be)},Ue=()=>{if(o){const Be=!o.name||!o.addresses||o.addresses.length===0;C(Be),Be||(document.cookie="accountSetup=true; max-age=86400")}};de(),Ce(),Ue()},[o]),g.useEffect(()=>{if(R.length===0)A(E);else{const de=E.filter(Ce=>Ce.suburb.toLowerCase().includes(R.toLowerCase())||Ce.postcode.includes(R));A(de)}},[R,E]);const B=async de=>{de.preventDefault();try{await l({name:k.name,addresses:[{id:Date.now().toString(),label:"Default",address:k.address,postcode:k.postcode}]}),C(!1),document.cookie="accountSetup=true; max-age=86400",te({title:"Success",description:"Account details updated successfully"})}catch(Ce){console.error("Error updating account:",Ce),te({variant:"destructive",title:"Error",description:"Failed to update account details"})}},Z=de=>{P(Ce=>({...Ce,address:de.address,postcode:de.postcode.toString()})),z(`${de.suburb.toUpperCase()}, ${de.postcode}`)},$=de=>{P(Ce=>({...Ce,postcode:de.postcode})),z(`${de.suburb}, ${de.postcode}`),G(!1)},J=g.useCallback(de=>{m(de)},[]),le=g.useCallback(de=>{x(de)},[]),ue=de=>{U(de)},ye=()=>{U(null)},me=()=>{const de=Number(t()||0),Ce=Number(h.fee||0);return parseFloat((de+Ce).toFixed(2))},ie=()=>Number(W?W.discountAmount:0),pe=()=>{const de=me();return parseFloat((de*(q/100)).toFixed(2))},Ne=()=>{const de=me(),Ce=ie(),Ue=pe(),Be=de-Ce+Ue;return parseFloat(Be.toFixed(2))};if(e.length===0&&!u)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Your cart is empty"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Add products to checkout."}),s.jsx(ee,{className:"mt-4",onClick:()=>c("/shop"),children:"Continue Shopping"})]})});const ve={customer_name:p.name,customer_email:p.email,customer_phone:p.phone,customer_address:p.address,customer_postcode:p.postcode,customer_city:p.city,delivery_notes:I,delivery_type:h.type,scheduled_delivery_time:h.scheduledTime,timeslot_id:h.timeslot_id,promo_code:(W==null?void 0:W.code)||null,discount_amount:ie(),fees_data:{delivery_fee:h.fee,service_fee:pe(),total:Ne(),serviceFeePercent:q}};return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_350px]",children:[s.jsx("div",{className:"space-y-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o?N?s.jsxs("div",{className:"p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Complete Your Account Details"}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(ge,{id:"name",value:k.name,onChange:de=>P(Ce=>({...Ce,name:de.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"address",children:"Delivery Address"}),s.jsx(Gd,{value:k.address,onChange:de=>P(Ce=>({...Ce,address:de})),onAddressSelect:Z,placeholder:"Start typing your address...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ge,{id:"postcode",placeholder:"Search suburb or postcode...",value:R,onChange:de=>{z(de.target.value),G(!0)},onFocus:()=>G(!0),required:!0}),Q&&O.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:O.slice(0,10).map(de=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>$(de),children:[s.jsx("div",{className:"text-sm font-medium",children:de.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:de.postcode})]},`${de.suburb}-${de.postcode}`))})]})]}),s.jsx(ee,{type:"submit",children:"Save Details"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(f6,{onDetailsChange:le,errors:y}),s.jsx(mB,{onDeliveryChange:J}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Promo Code"}),s.jsx(DC,{subtotal:me(),onPromoApplied:ue,appliedPromo:W,onPromoRemoved:ye})]})]}):s.jsxs("div",{className:"mt-6 p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sign in to Continue"}),s.jsx(Id,{onSuccess:()=>{}})]})})}),s.jsx("div",{children:s.jsxs(Te,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1 mb-4",style:{textDecoration:"none"},children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"lg:sticky lg:top-20",children:s.jsx(v6,{deliveryFee:h.fee,appliedPromo:W,discountAmount:ie(),serviceFeePercent:q,serviceFee:pe()})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"terms",checked:w,onCheckedChange:_}),s.jsxs(ne,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Te,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Te,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]})]})]}),s.jsx("div",{className:"flex justify-center w-full mt-8 mb-4",children:s.jsxs(ee,{className:"w-full max-w-xl text-base h-12 md:h-12 md:text-lg shadow-lg",onClick:()=>c("/stripe-payment",{state:{orderData:ve,deliveryFee:h.fee,finalTotal:Ne(),serviceFee:pe(),discountAmount:ie()}}),disabled:!o||!w||N||p.address.length===0||me()<=0||u,children:["Proceed to Payment  ",s.jsx(ma,{})]})})]})},vB=["Changed my mind","Found a better price","Ordered by mistake","Need to change address/time","Other"],OC=({open:e,onClose:t,onConfirm:n,loading:r})=>{const[o,l]=g.useState(""),[c,u]=g.useState(""),f=()=>{const h=o==="Other"?c:o;h&&n(h)};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Cancel Order"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cancelling your order may incur a cancellation fee. Please select a reason:"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[vB.map(h=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"cancel-reason",value:h,checked:o===h,onChange:()=>l(h)}),s.jsx("span",{children:h})]},h)),o==="Other"&&s.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1 mt-1",placeholder:"Enter reason",value:c,onChange:h=>u(h.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:t,disabled:r,children:"Close"}),s.jsx(ee,{variant:"destructive",onClick:f,disabled:r||!o||o==="Other"&&!c,children:r?"Cancelling...":"Confirm Cancellation"})]})]})}):null},gB=()=>{const{id:e}=wd(),[t,n]=g.useState(null),[r,o]=g.useState(!0),[l,c]=g.useState(null),[u,f]=g.useState(!1),[h,m]=g.useState(null),[p,x]=g.useState(""),[y,j]=g.useState(!1),[w,_]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e)try{const{data:R,error:z}=await ae.from("orders").select("*").eq("id",e).single();if(z)throw z;if(R)if(n(R),R.expected_delivery_at===null){let Q=new Date().getTime(),G=new Date(Q+45*60*1e3);c(G)}else c(new Date(R.expected_delivery_at))}catch(R){console.error("Error fetching order:",R)}finally{o(!1)}})()},[e]);const N=A=>{if(!A)return"N/A";const R=new Date(A);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(R)},C=()=>{if(!t)return null;const A={pending:{color:"text-yellow-500",bgColor:"bg-yellow-100",icon:ur,title:"Order Pending",description:l?`Estimated delivery by ${N(l)}`:"Processing your order"},processing:{color:"text-blue-500",bgColor:"bg-blue-100",icon:cr,title:"Order Processing",description:"Your order is being prepared"},delivered:{color:"text-green-500",bgColor:"bg-green-100",icon:Fl,title:"Order Delivered",description:"Your order has been delivered"},cancelled:{color:"text-red-500",bgColor:"bg-red-100",icon:JR,title:"Order Cancelled",description:"This order has been cancelled"}};return A[t.status]||A.pending},k=t&&["pending","processing"].includes(t.status),P=async A=>{f(!0),m(null);try{const{error:R}=await ae.from("orders").update({status:"cancelled",cancel_reason:A}).eq("id",t.id);if(R)throw R;n({...t,status:"cancelled",cancel_reason:A}),_(!1)}catch{m("Failed to cancel order. Please try again.")}finally{f(!1)}},E=async()=>{if(!(!p.trim()||y)){j(!0);try{const A=t.admin_messages||[],R={from:"customer",message:p.trim(),timestamp:new Date().toISOString()},{error:z}=await ae.from("orders").update({admin_messages:[...A,R]}).eq("id",t.id);if(z)throw z;n(Q=>({...Q,admin_messages:[...A,R]})),x("")}catch{m("Could not send message.")}finally{j(!1)}}};if(r)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})});if(!t)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The order you're looking for doesn't exist."}),s.jsx(Te,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Continue Shopping"})})]})});const D=C(),O=D.icon;return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{children:s.jsx(Te,{to:"/account",children:s.jsxs(ee,{variant:"ghost",className:"mb-4",children:[s.jsx(na,{className:"w-4 h-4 mr-2"}),"Return to Account"]})})}),s.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(be.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`mx-auto w-24 h-24 rounded-full ${D.bgColor} flex items-center justify-center mb-4`,children:s.jsx(O,{className:`w-12 h-12 ${D.color}`})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:D.title}),s.jsx("p",{className:"text-muted-foreground",children:D.description})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-0 top-1/2 w-full h-1 bg-muted transform -translate-y-1/2",children:s.jsx("div",{className:`h-full bg-primary transition-all duration-500 ${t.status==="pending"?"w-1/3":t.status==="processing"?"w-2/3":t.status==="delivered"?"w-full":"w-0"}`})}),s.jsxs("div",{className:"relative flex justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending","processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Fl,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Confirmed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(cr,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Processing"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.status==="delivered"?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(hv,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Delivered"})]})]})]})}),s.jsxs("div",{className:"mt-8 p-6 border rounded-lg text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Order #",t.id.slice(0,6).toUpperCase()]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${D.bgColor} ${D.color}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:N(t.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Address"}),s.jsx("p",{className:"font-medium",children:t.customer_address})]}),t.delivery_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Notes"}),s.jsx("p",{className:"font-medium",children:t.delivery_notes})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:t.items.map((A,R)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:A.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[je(A.price)," x ",A.quantity]})]}),s.jsx("p",{className:"font-medium",children:je(A.price*A.quantity)})]},R))}),s.jsxs("div",{className:"space-y-3",children:[t.fees_data&&t.fees_data.delivery_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:je(t.fees_data.delivery_fee)})]}),t.fees_data&&t.fees_data.service_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",t.fees_data.serviceFeePercent,"%)"]}),s.jsx("span",{children:je(t.fees_data.service_fee)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-bold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:je(t.total)})]})]})]}),s.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(Te,{to:"/shop",children:s.jsx(ee,{variant:"outline",children:"Continue Shopping"})}),s.jsx(Te,{to:"/account/orders",children:s.jsxs(ee,{children:[s.jsx(cr,{className:"mr-2 h-4 w-4"}),"View All Orders"]})})]}),k&&s.jsxs("div",{className:"mt-4 flex justify-center",children:[s.jsx(ee,{variant:"destructive",className:"w-full max-w-xs",onClick:()=>_(!0),disabled:u,children:"Cancel Order"}),s.jsx(OC,{open:w,onClose:()=>_(!1),onConfirm:P,loading:u})]}),h&&s.jsx("div",{className:"mt-4 text-red-500 text-center",children:h}),t.payment_status==="paid"&&t.payment_data&&s.jsxs("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded",children:[s.jsx("div",{className:"font-medium mb-1 text-green-800",children:"Payment Details:"}),s.jsx("pre",{className:"text-xs text-green-900 whitespace-pre-wrap break-all",children:JSON.stringify(t.payment_data,null,2)})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Conversation"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.admin_messages&&t.admin_messages.length>0?t.admin_messages.map((A,R)=>s.jsxs("div",{className:`p-3 rounded text-sm ${A.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:A.from==="admin"?"Support Team":"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(A.timestamp).toLocaleString()})]}),s.jsx("p",{children:A.message})]},R)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("label",{className:"block font-medium",children:"Send a message:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("textarea",{value:p,onChange:A=>x(A.target.value),placeholder:"Type your message...",rows:2,className:"flex-1 border rounded p-2"}),s.jsx(ee,{onClick:E,disabled:!p.trim()||y,size:"sm",children:y?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(va,{className:"w-4 h-4"})})]})]})]})]})]})},xB=()=>{const[e,t]=g.useState({email:"",password:""}),[n,r]=g.useState({}),[o,l]=g.useState(!1),{login:c,loading:u,logout:f}=un(),h=On(),m=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),n[j]&&r(_=>({..._,[j]:""}))},p=()=>{const y={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(y.email="Email is invalid"):y.email="Email is required",e.password.trim()||(y.password="Password is required"),r(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!p()||o||u)return;l(!0);const{success:j,isAdminUser:w,error:_}=await c(e.email,e.password);j?w?(h("/admin"),te({title:"Admin Access Granted",description:"Welcome to the Admin Dashboard."})):(te({variant:"destructive",title:"Access Denied",description:"You do not have admin privileges. Logging out."}),await f()):_&&_!=="Invalid login credentials"&&te({variant:"destructive",title:"Login Failed",description:_}),l(!1)};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"admin-email",children:"Admin Email"}),s.jsx(ge,{id:"admin-email",name:"email",type:"email",value:e.email,onChange:m,placeholder:"admin_master@groceroo.com.au",className:`${n.email?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),n.email&&s.jsx("p",{className:"text-xs text-destructive",children:n.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"admin-password",children:"Admin Password"}),s.jsx(ge,{id:"admin-password",name:"password",type:"password",value:e.password,onChange:m,placeholder:"",className:`${n.password?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),n.password&&s.jsx("p",{className:"text-xs text-destructive",children:n.password})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx(Te,{to:"/forgot-password",className:`text-muted-foreground hover:text-destructive ${o||u?"pointer-events-none opacity-50":""}`,children:"Forgot password?"})}),s.jsx(ee,{type:"submit",variant:"destructive",className:"w-full",disabled:o||u,children:o||u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-destructive-foreground border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):"Sign In to Admin Portal"})]})},yB=()=>s.jsx("div",{className:"container flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col items-center mb-8 text-center",children:[s.jsx(Y$,{className:"w-12 h-12 mb-4 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold text-destructive",children:"Admin Portal"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Authorized personnel access only."})]}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"p-6 border-2 border-destructive/30 rounded-lg shadow-xl bg-card",children:s.jsx(xB,{})}),s.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Not an admin? Return to"," ",s.jsx(Te,{to:"/",className:"text-primary hover:underline",children:"Homepage"})," ","or"," ",s.jsx(Te,{to:"/login",className:"text-primary hover:underline",children:"Customer Login"}),"."]})})]})}),wB=()=>{const[e,t]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[n,r]=g.useState({}),[o,l]=g.useState(!1),{register:c}=un(),u=On(),f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),n[x]&&r(j=>({...j,[x]:""}))},h=()=>{const p={};return e.name.trim()||(p.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(p.email="Email is invalid"):p.email="Email is required",e.phone.trim()||(p.phone="Phone number is required"),e.password.trim()?e.password.length<6&&(p.password="Password must be at least 6 characters"):p.password="Password is required",e.password!==e.confirmPassword&&(p.confirmPassword="Passwords do not match"),r(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h()||o)return;l(!0);const x=await c(e.email,e.password,e.name,e.phone);l(!1),x&&u("/login")};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Create an Account"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Sign up to start shopping with Groceroo"})]}),s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(ge,{id:"name",name:"name",value:e.name,onChange:f,className:n.name?"border-destructive":"",disabled:o}),n.name&&s.jsx("p",{className:"text-xs text-destructive",children:n.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(ge,{id:"email",name:"email",type:"email",value:e.email,onChange:f,className:n.email?"border-destructive":"",disabled:o}),n.email&&s.jsx("p",{className:"text-xs text-destructive",children:n.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ge,{id:"phone",name:"phone",value:e.phone,onChange:f,className:n.phone?"border-destructive":"",disabled:o}),n.phone&&s.jsx("p",{className:"text-xs text-destructive",children:n.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"password",children:"Password"}),s.jsx(ge,{id:"password",name:"password",type:"password",value:e.password,onChange:f,className:n.password?"border-destructive":"",disabled:o}),n.password&&s.jsx("p",{className:"text-xs text-destructive",children:n.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(ge,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,className:n.confirmPassword?"border-destructive":"",disabled:o}),n.confirmPassword&&s.jsx("p",{className:"text-xs text-destructive",children:n.confirmPassword})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",s.jsx(Te,{to:"/login",className:`text-primary hover:underline ${o?"pointer-events-none opacity-50":""}`,children:"Sign in"})]})})]})]})})};var ef="Tabs",[bB,_9]=Rr(ef,[Jd]),RC=Jd(),[jB,ng]=bB(ef),$C=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=eg(u),[p,x]=Yi({prop:r,onChange:o,defaultProp:l??"",caller:ef});return s.jsx(jB,{scope:n,baseId:Ko(),value:p,onValueChange:x,orientation:c,dir:m,activationMode:f,children:s.jsx(Ke.div,{dir:m,"data-orientation":c,...h,ref:t})})});$C.displayName=ef;var MC="TabsList",IC=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,l=ng(MC,n),c=RC(n);return s.jsx(vC,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:r,children:s.jsx(Ke.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});IC.displayName=MC;var LC="TabsTrigger",FC=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...l}=e,c=ng(LC,n),u=RC(n),f=VC(c.baseId,r),h=zC(c.baseId,r),m=r===c.value;return s.jsx(gC,{asChild:!0,...u,focusable:!o,active:m,children:s.jsx(Ke.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:qe(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(r):p.preventDefault()}),onKeyDown:qe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(r)}),onFocus:qe(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!o&&p&&c.onValueChange(r)})})})});FC.displayName=LC;var UC="TabsContent",BC=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:l,...c}=e,u=ng(UC,n),f=VC(u.baseId,r),h=zC(u.baseId,r),m=r===u.value,p=g.useRef(m);return g.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx($r,{present:o||m,children:({present:x})=>s.jsx(Ke.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&l})})});BC.displayName=UC;function VC(e,t){return`${e}-trigger-${t}`}function zC(e,t){return`${e}-content-${t}`}var _B=$C,WC=IC,HC=FC,qC=BC;const rg=_B,tf=fe.forwardRef(({className:e,...t},n)=>s.jsx(WC,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tf.displayName=WC.displayName;const Di=fe.forwardRef(({className:e,...t},n)=>s.jsx(HC,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Di.displayName=HC.displayName;const Oi=fe.forwardRef(({className:e,...t},n)=>s.jsx(qC,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Oi.displayName=qC.displayName;const SB=()=>{const{user:e,updateUserInfo:t}=un(),[n,r]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState({label:"",address:"",postcode:""}),[f,h]=g.useState(!1),[m,p]=g.useState([]),[x,y]=g.useState([]),[j,w]=g.useState(""),[_,N]=g.useState(!1),C=(e==null?void 0:e.addresses)||[];g.useEffect(()=>{(async()=>{const{data:R,error:z}=await ae.from("postcodes").select("*").order("suburb");if(z){console.error("Error fetching postcodes:",z);return}p(R),y(R)})()},[]),g.useEffect(()=>{if(j.length===0)y(m);else{const A=m.filter(R=>R.suburb.toLowerCase().includes(j.toLowerCase())||R.postcode.includes(j));y(A)}},[j,m]);const k=async A=>{if(A.preventDefault(),!c.label.trim()||!c.address.trim()||!c.postcode){te({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}h(!0);try{let R;if(o)R=C.map(z=>z.id===o.id?{...z,label:c.label,address:c.address,postcode:c.postcode}:z);else{const z=Math.random().toString(36).substr(2,9);R=[...C,{id:z,label:c.label,address:c.address,postcode:c.postcode}]}await t({addresses:R}),r(!1),l(null),u({label:"",address:"",postcode:""}),w(""),te({title:"Success",description:o?"Address updated":"Address added"})}catch(R){console.error("Error saving address:",R),te({variant:"destructive",title:"Error",description:"Could not save address"})}finally{h(!1)}},P=async A=>{try{const R=C.filter(z=>z.id!==A);await t({addresses:R}),te({title:"Success",description:"Address deleted"})}catch(R){console.error("Error deleting address:",R),te({variant:"destructive",title:"Error",description:"Could not delete address"})}},E=A=>{u(R=>({...R,address:A.address,postcode:A.postcode})),w(`${A.suburb.toUpperCase()}, ${A.postcode}`)},D=A=>{u(R=>({...R,postcode:A.postcode})),w(`${A.suburb}, ${A.postcode}`),N(!1)},O=(A=null)=>{if(l(A),A){u({label:A.label,address:A.address,postcode:A.postcode});const R=m.find(z=>z.postcode===A.postcode);R&&w(`${R.suburb}, ${R.postcode}`)}else u({label:"",address:"",postcode:""}),w("");r(!0)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Saved Addresses"}),s.jsxs(fr,{open:n,onOpenChange:r,children:[s.jsx(ti,{asChild:!0,children:s.jsxs(ee,{onClick:()=>O(),children:[s.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Address"]})}),s.jsxs(Yn,{children:[s.jsx(Gn,{children:s.jsx(Kn,{children:o?"Edit Address":"Add New Address"})}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"label",children:"Label"}),s.jsx(ge,{id:"label",placeholder:"e.g., Home, Work",value:c.label,onChange:A=>u(R=>({...R,label:A.target.value})),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"address",children:"Address"}),s.jsx(Gd,{value:c.address,onChange:A=>u(R=>({...R,address:A})),onAddressSelect:E,placeholder:"Start typing your address...",disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ge,{id:"postcode",placeholder:"Search suburb or postcode...",value:j,onChange:A=>{w(A.target.value),N(!0)},onFocus:()=>N(!0),disabled:f}),_&&x.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:x.slice(0,10).map(A=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>D(A),children:[s.jsx("div",{className:"text-sm font-medium",children:A.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:A.postcode})]},`${A.suburb}-${A.postcode}`))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{r(!1),N(!1)},disabled:f,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Add"})]})]})]})]})]}),s.jsx("div",{className:"space-y-2",children:C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No addresses saved yet."}):C.map(A=>{const R=m.find(z=>z.postcode===A.postcode);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:A.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.address}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R?`${R.suburb}, ${R.postcode}`:A.postcode})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>O(A),children:s.jsx(F$,{className:"w-4 h-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>P(A.id),children:s.jsx(Hi,{className:"w-4 h-4"})})]})]},A.id)})})]})},Hn=fe.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Hn.displayName="Card";const ar=fe.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));ar.displayName="CardHeader";const lr=fe.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));lr.displayName="CardTitle";const Op=fe.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));Op.displayName="CardDescription";const qn=fe.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ae("p-6 pt-0",e),...t}));qn.displayName="CardContent";const NB=fe.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",e),...t}));NB.displayName="CardFooter";const YC=({orders:e})=>{const t=r=>{switch(r){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},n=r=>r?Ct(new Date(r),"PPP"):"N/A";return e.length===0?s.jsx(Hn,{children:s.jsxs(qn,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(cr,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No upcoming orders"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your scheduled pickup orders will appear here."})]})}):s.jsx("div",{className:"space-y-2",children:e.map(r=>{var o,l;return s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Hn,{className:"py-2",children:[s.jsx(ar,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(lr,{className:"text-base",children:["Order #",r.id.slice(0,6).toUpperCase()]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(it,{className:t(r.status),children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),s.jsx(Te,{to:`/pickup-order/${r.id}`,children:s.jsx(ee,{variant:"ghost",size:"sm",children:s.jsx(F1,{className:"w-4 h-4"})})})]})]})}),s.jsxs(qn,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tr,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n(r.pickup_date)]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ur,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r.time_slot]})]}),s.jsxs("div",{className:"flex items-center text-xs",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:(o=r.pickup_order_stores)==null?void 0:o.map((c,u)=>{var f;return s.jsx(it,{variant:"outline",className:"text-xs",children:(f=c.stores)==null?void 0:f.name},u)})})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{className:"font-medium",children:je(r.estimated_total)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Store Details:"}),s.jsx("div",{className:"space-y-1",children:(l=r.pickup_order_stores)==null?void 0:l.map((c,u)=>{var f;return s.jsxs("div",{className:"flex justify-between items-center text-xs bg-muted/30 p-1 rounded",children:[s.jsx("span",{children:(f=c.stores)==null?void 0:f.name}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:je(c.estimated_total||0)}),s.jsx(it,{variant:"outline",className:"text-xs",children:c.status})]})]},u)})})]}),r.photos&&r.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Photos:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[r.photos.slice(0,4).map((c,u)=>s.jsx("img",{src:c.data,alt:`Photo ${u+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(c.data,"_blank")},u)),r.photos.length>4&&s.jsxs("div",{className:"aspect-square rounded bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",r.photos.length-4," more"]})]})]}),s.jsx("div",{className:"flex justify-center pt-1",children:s.jsx(Te,{to:`/pickup-order/${r.id}`,children:s.jsx(ee,{size:"sm",children:"View Full Details"})})})]})]})},r.id)})})},CB=()=>{const{user:e,updateUserInfo:t,logout:n,loading:r}=un(),[o,l]=g.useState([]),[c,u]=g.useState([]),[f,h]=g.useState(!0),m=On(),[p,x]=g.useState({name:"",email:"",phone:""}),[y,j]=g.useState({}),[w,_]=g.useState(!1);g.useEffect(()=>{!r&&!e?m("/login"):e&&(x({name:e.name||"",email:e.email||"",phone:e.phone||""}),N(e.id),C(e.id))},[e,r,m]);const N=async z=>{h(!0);try{const{data:Q,error:G}=await ae.from("orders").select("*").eq("user_id",z).order("created_at",{ascending:!1});if(G)throw G;l(Q||[])}catch(Q){console.error("Error fetching orders:",Q)}},C=async z=>{try{const{data:Q,error:G}=await ae.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("user_id",z).order("created_at",{ascending:!1});if(G)throw G;u(Q||[])}catch(Q){console.error("Error fetching pickup orders:",Q)}finally{h(!1)}},k=async(z,Q)=>{try{const{data:G,error:W}=await ae.from("pickup_orders").select("admin_messages").eq("id",z).single();if(W)throw W;const U=G.admin_messages||[],q={from:"customer",message:Q,timestamp:new Date().toISOString()},{error:K}=await ae.from("pickup_orders").update({admin_messages:[...U,q]}).eq("id",z);if(K)throw K;C(e.id)}catch(G){console.error("Error sending message:",G)}},P=z=>{const{name:Q,value:G}=z.target;x(W=>({...W,[Q]:G})),y[Q]&&j(W=>({...W,[Q]:""}))},E=()=>{const z={};return p.name.trim()||(z.name="Name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(z.email="Email is invalid"):z.email="Email is required",j(z),Object.keys(z).length===0},D=async z=>{if(z.preventDefault(),!(!E()||w)){_(!0);try{await t({name:p.name,email:p.email}),toast({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(Q){console.error("Error updating profile:",Q),toast({variant:"destructive",title:"Update Failed",description:Q.message})}finally{_(!1)}}},O=async()=>{await n(),m("/")},A=z=>{if(!z)return"N/A";const Q=new Date(z);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(Q)},R=z=>{switch(z){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100"}};return r?s.jsx("div",{className:"container flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx(be.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-3xl font-bold tracking-tight mb-6",children:"My Account"}),s.jsxs(rg,{defaultValue:"profile",className:"space-y-6",children:[s.jsxs(tf,{className:"grid w-full grid-cols-3 md:w-auto md:inline-flex",children:[s.jsxs(Di,{value:"profile",className:"flex items-center",children:[s.jsx(z1,{className:"w-4 h-4 mr-2"}),"Profile"]}),s.jsxs(Di,{value:"orders",className:"flex items-center",children:[s.jsx(cr,{className:"w-4 h-4 mr-2"}),"Orders"]}),s.jsxs(Di,{value:"grocery-runs",className:"flex items-center",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Grocery Runs"]})]}),s.jsxs(Oi,{value:"profile",className:"space-y-6",children:[s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(ge,{id:"name",name:"name",value:p.name,onChange:P,className:y.name?"border-destructive":"",disabled:w}),y.name&&s.jsx("p",{className:"text-xs text-destructive",children:y.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(ge,{id:"email",name:"email",type:"email",value:p.email,onChange:P,className:y.email?"border-destructive":"",disabled:w}),y.email&&s.jsx("p",{className:"text-xs text-destructive",children:y.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ge,{id:"phone",name:"phone",value:p.phone,className:"bg-muted/50",disabled:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone number cannot be changed."})]}),s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsx(ee,{type:"submit",disabled:w,children:w?"Saving...":"Save Changes"})})]})]}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:s.jsx(SB,{})}),s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Actions"}),s.jsxs(ee,{variant:"destructive",className:"flex items-center",onClick:O,disabled:w,children:[s.jsx(U1,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),s.jsx(Oi,{value:"orders",className:"space-y-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Orders"}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(cr,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No delivery orders yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start shopping to place your first order."}),s.jsx(Te,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Start Shopping"})})]}):s.jsx("div",{className:"space-y-4",children:o.map(z=>s.jsx(Te,{to:`/order-confirmation/${z.id}`,className:"block p-4 border rounded-lg hover:bg-muted/30 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("h3",{className:"font-medium",children:["Order #",z.id.substring(0,6).toUpperCase(),"..."]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R(z.status)}`,children:z.status.charAt(0).toUpperCase()+z.status.slice(1)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[A(z.created_at),"  ",je(z.total)]})]}),s.jsx("div",{className:"mt-2 sm:mt-0 text-right",children:s.jsx("p",{className:"font-medium",children:je(z.total)})})]})},z.id))})]})})}),s.jsx(Oi,{value:"grocery-runs",className:"space-y-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Grocery Runs"}),s.jsx(Te,{to:"/grocery-run",children:s.jsx(ee,{children:"Schedule New"})})]}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx(YC,{orders:c,onSendMessage:k})]})})})]})]})},kB=({pendingCount:e,processingCount:t,deliveredCount:n})=>{const r=[{title:"Pending Orders",count:e,icon:cr,color:"yellow"},{title:"Processing Orders",count:t,icon:V1,color:"blue"},{title:"Delivered Orders",count:n,icon:mv,color:"green"}],o={yellow:{bg:"bg-yellow-100/50",text:"text-yellow-600"},blue:{bg:"bg-blue-100/50",text:"text-blue-600"},green:{bg:"bg-green-100/50",text:"text-green-600"}};return s.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:r.map((l,c)=>s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*(c+1)},className:"p-6 border rounded-lg bg-card",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-full ${o[l.color].bg}`,children:s.jsx(l.icon,{className:`h-6 w-6 ${o[l.color].text}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:l.title}),s.jsx("h3",{className:"text-2xl font-bold",children:l.count})]})]})},l.title))})},PB=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[o,l]=g.useState("processing"),[c,u]=g.useState(""),[f,h]=g.useState(null),[m,p]=g.useState(!1),[x,y]=g.useState(""),[j,w]=g.useState(""),[_,N]=g.useState(!1),[C,k]=g.useState(wa);g.useEffect(()=>{P(),D();const W=setInterval(()=>{D(!0)},6e4);return()=>clearInterval(W)},[o]);const P=async()=>{try{const{data:W,error:U}=await ae.from("delivery_settings").select("timezone").eq("id",1).single();!U&&(W!=null&&W.timezone)&&k(W.timezone)}catch(W){console.error("Error fetching timezone:",W)}},E=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},D=async(W=!1)=>{try{const{data:U,error:q}=await ae.from("orders").select("*").eq("status",o).order("created_at",{ascending:!1});if(q)throw q;W&&e.length>0&&U.length>e.length&&(E(),te({title:"New Order",description:"A new order has been received!"})),t(U||[])}catch(U){console.error("Error fetching orders:",U),te({variant:"destructive",title:"Error",description:"Could not load orders."})}finally{r(!1)}},O=async(W,U)=>{try{const{error:q}=await ae.from("orders").update({status:U}).eq("id",W);if(q)throw q;te({title:"Status Updated",description:`Order status changed to ${U}`}),D()}catch(q){console.error("Error updating order status:",q),te({variant:"destructive",title:"Error",description:"Could not update order status."})}},A=async(W,U)=>{const q=Nr(C);if(new Date(U)<=q){te({variant:"destructive",title:"Invalid Time",description:"Delivery time cannot be in the past."});return}try{const{error:I}=await ae.from("orders").update({expected_delivery_at:U}).eq("id",W);if(I)throw I;te({title:"Delivery Time Updated",description:"Expected delivery time has been updated"}),D()}catch(I){console.error("Error updating delivery time:",I),te({variant:"destructive",title:"Error",description:"Could not update delivery time."})}},R=async()=>{if(!(!j||!f)){N(!0);try{const{error:W}=await ae.from("orders").update({payment_status:"confirmed",status:"processing",fees_data:{actual_amount:parseFloat(j),confirmed_at:new Date().toISOString()}}).eq("id",f.id);if(W)throw W;te({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${je(parseFloat(j))}`}),w(""),D(),p(!1)}catch(W){console.error("Error confirming payment:",W),te({variant:"destructive",title:"Error",description:"Could not confirm payment: "+W.message})}finally{N(!1)}}},z=async()=>{if(!(!x.trim()||!f))try{const W=f.admin_messages||[],U={from:"admin",message:x,timestamp:new Date().toISOString()},{error:q}=await ae.from("orders").update({admin_messages:[...W,U]}).eq("id",f.id);if(q)throw q;te({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),D(),h({...f,admin_messages:[...W,U]})}catch(W){console.error("Error sending message:",W),te({variant:"destructive",title:"Error",description:"Could not send message."})}},Q=e.filter(W=>{var q,K;return((q=W.customer_name)==null?void 0:q.toLowerCase().includes(c.toLowerCase()))||((K=W.customer_email)==null?void 0:K.toLowerCase().includes(c.toLowerCase()))||W.id.toLowerCase().includes(c.toLowerCase())}),G=W=>{if(!W)return"N/A";const U=new Date(W);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(U)};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Orders Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:c,onChange:W=>u(W.target.value)})]}),s.jsxs(Bt,{value:o,onValueChange:l,children:[s.jsx(At,{className:"w-full md:w-[180px]",children:s.jsx(Vt,{placeholder:"Filter by status"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"space-y-4",children:Q.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx(cr,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No orders found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your filters."})]}):Q.map(W=>{var U,q,K,I,L;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["Order #",W.id.slice(0,6).toUpperCase()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:G(W.created_at)}),s.jsxs("p",{className:"text-sm",children:[W.customer_name," - ",W.customer_email]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:je(W.total)}),s.jsxs(fr,{open:m&&(f==null?void 0:f.id)===W.id,onOpenChange:p,children:[s.jsx(ti,{asChild:!0,children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>h(W),children:"View Details"})}),s.jsxs(Yn,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Gn,{children:s.jsxs(Kn,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6).toUpperCase()]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",f.customer_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",f.customer_email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.customer_phone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.customer_address]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",f.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",f.payment_status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total:"})," ",je(f.total)]}),((U=f.fees_data)==null?void 0:U.delivery_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee:"})," ",je((q=f.fees_data)==null?void 0:q.delivery_fee)]}),((K=f.fees_data)==null?void 0:K.service_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Service Fee:"})," ",je(f.fees_data.service_fee)]}),f.discount_amount>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Discount:"})," -",je(f.discount_amount)]}),f.promo_code&&s.jsxs("p",{children:[s.jsx("strong",{children:"Promo Code:"})," ",f.promo_code]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Update Status"}),s.jsxs(Bt,{value:f.status,onValueChange:B=>O(f.id,B),children:[s.jsx(At,{children:s.jsx(Vt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Expected Delivery Time"}),s.jsx(ge,{type:"datetime-local",value:f.expected_delivery_at?new Date(f.expected_delivery_at).toISOString().slice(0,16):"",onChange:B=>A(f.id,B.target.value)})]}),f.payment_status==="paid"&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(ma,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(ge,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:B=>w(B.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(ee,{onClick:R,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Fl,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),s.jsx("div",{className:"space-y-2",children:(I=f.items)==null?void 0:I.map((B,Z)=>s.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[s.jsxs("span",{children:[B.name," x",B.quantity]}),s.jsx("span",{children:je(B.price*B.quantity)})]},Z))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(L=f.admin_messages)==null?void 0:L.map((B,Z)=>s.jsxs("div",{className:`p-3 rounded text-sm ${B.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:B.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(B.timestamp).toLocaleString()})]}),s.jsx("p",{children:B.message})]},Z))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(cn,{value:x,onChange:B=>y(B.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(ee,{onClick:z,disabled:!x.trim(),children:s.jsx(va,{className:"w-4 h-4"})})]})]})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Bt,{value:W.status,onValueChange:B=>O(W.id,B),children:[s.jsx(At,{className:"w-[130px]",children:s.jsx(Vt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.delivery_type,"  ",W.customer_address]})]})]},W.id)})})]})},Ji=fe.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Ae("w-full caption-bottom text-sm",e),...t})}));Ji.displayName="Table";const Qi=fe.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Ae("[&_tr]:border-b",e),...t}));Qi.displayName="TableHeader";const Zi=fe.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Ae("[&_tr:last-child]:border-0",e),...t}));Zi.displayName="TableBody";const EB=fe.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));EB.displayName="TableFooter";const Ot=fe.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ot.displayName="TableRow";const ze=fe.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ze.displayName="TableHead";const Fe=fe.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableCell";const TB=fe.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Ae("mt-4 text-sm text-muted-foreground",e),...t}));TB.displayName="TableCaption";const sg=(e="groceroo_images")=>{const[t,n]=g.useState(!1),[r,o]=g.useState(null);return{isUploading:t,uploadError:r,uploadFile:async(u,f="")=>{if(!u)return{url:null,error:null};n(!0),o(null);const h=u.name.split(".").pop(),m=`${Date.now()}.${h}`,p=f?`${f}/${m}`:m;try{const{data:x,error:y}=await ae.storage.from(e).upload(p,u);if(y)throw y;const{data:j}=ae.storage.from(e).getPublicUrl(p);return n(!1),{url:j.publicUrl,error:null}}catch(x){return console.error(`Error uploading file to ${e}:`,x),o(x.message),te({variant:"destructive",title:"Upload Failed",description:x.message}),n(!1),{url:null,error:x.message}}},deleteFile:async u=>{if(!u)return{success:!0,error:null};const f=u.split("/"),h=f.findIndex(p=>p===e);if(h===-1||h===f.length-1)return console.warn("Could not parse file path from URL:",u),{success:!1,error:"Could not parse file path"};const m=f.slice(h+1).join("/");if(!m)return console.warn("Empty file path extracted from URL:",u),{success:!1,error:"Empty file path"};try{const{error:p}=await ae.storage.from(e).remove([m]);if(p)throw p;return console.log(`Successfully deleted file ${m} from ${e}.`),{success:!0,error:null}}catch(p){return console.error(`Error deleting file ${m}:`,p),te({variant:"destructive",title:"Deletion Error",description:`Could not delete file: ${p.message}`}),{success:!1,error:p.message}}}}},AB=({product:e,categories:t,onSubmit:n,onCancel:r})=>{const[o,l]=g.useState({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),[c,u]=g.useState({}),[f,h]=g.useState(null),[m,p]=g.useState(""),x=g.useRef(null),{isUploading:y,uploadFile:j,deleteFile:w}=sg();g.useEffect(()=>{e?(l({name:e.name||"",price:e.price||"",unit:e.unit||"",category_id:e.category_id?String(e.category_id):"",description:e.description||"",image_url:e.image_url||"",in_stock:e.in_stock!==void 0?e.in_stock:!0,featured:e.featured!==void 0?e.featured:!1,categories_ids:e.categories_ids||[]}),p(e.image_url||"")):(l({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),p(""),h(null))},[e]);const _=O=>{const{name:A,value:R,type:z,checked:Q}=O.target;l(G=>({...G,[A]:z==="checkbox"?Q:R})),c[A]&&u(G=>({...G,[A]:""}))},N=(O,A)=>{l(R=>({...R,[O]:A})),c[O]&&u(R=>({...R,[O]:""}))},C=O=>{const A=O.target.files[0];if(A){h(A);const R=new FileReader;R.onloadend=()=>p(R.result),R.readAsDataURL(A),u(z=>({...z,image_url:""}))}},k=async()=>{let O=o.image_url||null;if(f){e&&e.image_url&&await w(e.image_url);const{url:A,error:R}=await j(f,"products");if(R)return u(z=>({...z,image_url:"Image upload failed. Please try again."})),null;O=A}return O},P=()=>{const O={};return o.name.trim()||(O.name="Name is required"),(!o.price||isNaN(o.price)||parseFloat(o.price)<=0)&&(O.price="Valid price is required"),o.unit.trim()||(O.unit="Unit is required"),o.category_id||(O.category_id="Category is required"),o.description.trim()||(O.description="Description is required"),u(O),Object.keys(O).length===0},E=async O=>{if(O.preventDefault(),!P()||y)return;const A=await k();if(f&&A===null){te({variant:"destructive",title:"Submission Failed",description:"Product could not be saved due to image upload error."});return}const R={name:o.name,price:parseFloat(o.price),unit:o.unit,category_id:parseInt(o.category_id),description:o.description,image_url:A,in_stock:o.in_stock,featured:o.featured,updated_at:new Date,categories_ids:o.categories_ids};e!=null&&e.id&&(R.id=e.id),n(R)},D=O=>{const A=Array.from(O.target.selectedOptions);l(R=>({...R,categories_ids:A.map(z=>parseInt(z.value))})),c.categories_ids&&u(R=>({...R,categories_ids:""}))};return s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"product-image",children:"Product Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:m?s.jsx("img",{src:m,alt:"Product Preview",className:"object-cover w-full h-full"}):s.jsx(Td,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(ge,{id:"product-image",type:"file",accept:"image/*",onChange:C,ref:x,className:"hidden",disabled:y}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var O;return(O=x.current)==null?void 0:O.click()},disabled:y,children:[s.jsx(L1,{className:"w-4 h-4 mr-2"}),y?"Uploading...":f?"Change Image":"Upload Image"]})]}),c.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:c.image_url})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Product Name"}),s.jsx(ge,{id:"name",name:"name",value:o.name,onChange:_,className:c.name?"border-destructive":"",disabled:y}),c.name&&s.jsx("p",{className:"text-xs text-destructive",children:c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"price",children:"Price"}),s.jsx(ge,{id:"price",name:"price",type:"number",step:"0.01",value:o.price,onChange:_,className:c.price?"border-destructive":"",disabled:y}),c.price&&s.jsx("p",{className:"text-xs text-destructive",children:c.price})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"unit",children:"Unit (e.g., lb, bunch, each)"}),s.jsx(ge,{id:"unit",name:"unit",value:o.unit,onChange:_,className:c.unit?"border-destructive":"",disabled:y}),c.unit&&s.jsx("p",{className:"text-xs text-destructive",children:c.unit})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"category_id",children:"Category"}),s.jsxs(Bt,{value:o.category_id,onValueChange:O=>N("category_id",O),disabled:y,children:[s.jsx(At,{className:c.category_id?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Select category"})}),s.jsx(Dt,{children:t.map(O=>s.jsx(De,{value:String(O.id),children:O.name},O.id))})]}),c.category_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.category_id})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"categories_ids",children:"Other Categories"}),s.jsx("select",{id:"categories_ids",name:"categories_ids",multiple:!0,value:o.categories_ids.map(String),onChange:D,className:"w-full border rounded p-2 min-h-[40px]",disabled:y,children:t.filter(O=>String(O.id)!==o.category_id).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple categories."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(cn,{id:"description",name:"description",value:o.description,onChange:_,className:c.description?"border-destructive":"",disabled:y}),c.description&&s.jsx("p",{className:"text-xs text-destructive",children:c.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"in_stock",name:"in_stock",checked:o.in_stock,onCheckedChange:O=>N("in_stock",O),disabled:y}),s.jsx(ne,{htmlFor:"in_stock",children:"In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"featured",name:"featured",checked:o.featured,onCheckedChange:O=>N("featured",O),disabled:y}),s.jsx(ne,{htmlFor:"featured",children:"Featured Product"})]})]}),s.jsxs(Gi,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:y,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:y,children:y?"Saving...":e?"Save Changes":"Add Product"})]})]})},DB=({openDeleteDialog:e})=>{const[t,n]=g.useState([]),[r,o]=g.useState([]),[l,c]=g.useState(!0),[u,f]=g.useState(""),[h,m]=g.useState(!1),[p,x]=g.useState(null),[y,j]=g.useState(!1),w=g.useCallback(async()=>{c(!0);try{const{data:D,error:O}=await ae.from("products").select("*, categories(id, name)").order("name",{ascending:!0});if(O)throw O;n(D||[]);const{data:A,error:R}=await ae.from("categories").select("*").order("name",{ascending:!0});if(R)throw R;o(A||[])}catch(D){console.error("Error fetching products or categories:",D),te({variant:"destructive",title:"Fetch Error",description:"Could not load products or categories."})}finally{c(!1)}},[]);g.useEffect(()=>{w()},[w]);const _=g.useMemo(()=>{let D=[...t];if(u){const O=u.toLowerCase();D=D.filter(A=>{var R,z;return A.name.toLowerCase().includes(O)||((R=A.description)==null?void 0:R.toLowerCase().includes(O))||((z=A.categories)==null?void 0:z.name.toLowerCase().includes(O))})}return D},[t,u]),N=async D=>{c(!0);try{let O;if(p){const{data:A,error:R}=await ae.from("products").update({...D,category_id:D.category_id,categories_ids:D.categories_ids||[],updated_at:new Date}).eq("id",p.id).select("*, categories(id, name)").single();if(R)throw R;O=A,te({title:"Product Updated",description:`${O.name} has been updated.`})}else{const{data:A,error:R}=await ae.from("products").insert({...D,category_id:D.category_id,categories_ids:D.categories_ids||[]}).select("*, categories(id, name)").single();if(R)throw R;O=A,te({title:"Product Added",description:`${O.name} has been added.`})}w(),m(!1),x(null)}catch(O){console.error("Error saving product:",O),te({variant:"destructive",title:"Save Error",description:O.message})}finally{c(!1)}},C=D=>{const O=t.find(A=>A.id===D);O&&e("product",D,O.image_url)},k=g.useRef(null),P=async D=>{j(!0),k.current.click()},E=async D=>{const O=D.target.files[0];if(!O)return;if(O.type!=="text/csv"){console.error("Please upload a CSV file.");return}const A=new FileReader;A.onload=async R=>{const Q=R.target.result.split(`
`).filter(W=>W.trim()!=="");if(Q.length===0){console.warn("CSV file is empty.");return}const G=Q.slice(1).map(W=>{const[U,q,K,I]=W.split(",");return{name:U?U.trim():"",price:q?parseFloat(q.trim()):0,description:K?K.trim():"",stock:I?parseInt(I.trim(),10):0}}).filter(W=>W.name);if(console.log("Parsed Products:",G),G.length===0){console.warn("No valid product data found in CSV.");return}try{const{data:W,error:U}=await ae.from("products").insert(G);U?console.error("Error inserting data into Supabase:",U):console.log("Bulk upload successful to Supabase:",W)}catch(W){console.error("Unexpected error during Supabase insert:",W)}},A.onerror=R=>{console.error("Error reading file:",R)},A.readAsText(O)};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Products Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search products...",className:"pl-8 w-full md:w-[200px]",value:u,onChange:D=>f(D.target.value)})]}),s.jsxs(fr,{open:h,onOpenChange:D=>{m(D),D||x(null)},children:[s.jsx(ti,{asChild:!0,children:s.jsxs(ee,{onClick:()=>x(null),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"})," Add Product"]})}),s.jsxs(Yn,{className:"sm:max-w-[600px]",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:p?"Edit Product":"Add New Product"})}),s.jsx(AB,{product:p,categories:r,onSubmit:N,onCancel:()=>m(!1)},p?p.id:"new")]})]}),s.jsx(ee,{onClick:P,disabled:y,children:y?"Uploading...":"Upload CSV"}),s.jsx("input",{type:"file",ref:k,accept:".csv",onChange:E,style:{display:"none"}})]})]}),l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ji,{children:[s.jsx(Qi,{children:s.jsxs(Ot,{children:[s.jsx(ze,{className:"w-[80px]",children:"Image"}),s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Category"}),s.jsx(ze,{children:"Price"}),s.jsx(ze,{children:"Stock"}),s.jsx(ze,{children:"Featured"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(Zi,{children:_.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:7,className:"h-24 text-center",children:"No products found."})}):_.map(D=>{var O;return s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:D.image_url?s.jsx("img",{src:D.image_url,alt:D.name,className:"object-cover w-full h-full"}):s.jsx(Td,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Fe,{className:"font-medium",children:D.name}),s.jsx(Fe,{children:((O=D.categories)==null?void 0:O.name)||"N/A"}),s.jsx(Fe,{children:je(D.price)}),s.jsx(Fe,{children:s.jsx(it,{variant:D.in_stock?"default":"destructive",className:`whitespace-nowrap ${D.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.in_stock?"In Stock":"Out"})}),s.jsx(Fe,{children:s.jsx(Dr,{checked:D.featured,disabled:!0,className:"cursor-default"})}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{x(D),m(!0)},children:s.jsx(ic,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>C(D.id),children:s.jsx(Hi,{className:"h-4 w-4"})})]})]},D.id)})})]})})]})},OB=({category:e,onSubmit:t,onCancel:n})=>{const[r,o]=g.useState({name:"",description:"",image_url:""}),[l,c]=g.useState({}),[u,f]=g.useState(null),[h,m]=g.useState(""),p=g.useRef(null),{isUploading:x,uploadFile:y,deleteFile:j}=sg();g.useEffect(()=>{e?(o({name:e.name||"",description:e.description||"",image_url:e.image_url||""}),m(e.image_url||"")):(o({name:"",description:"",image_url:""}),m(""),f(null))},[e]);const w=P=>{const{name:E,value:D}=P.target;o(O=>({...O,[E]:D})),l[E]&&c(O=>({...O,[E]:""}))},_=P=>{const E=P.target.files[0];if(E){f(E);const D=new FileReader;D.onloadend=()=>m(D.result),D.readAsDataURL(E),c(O=>({...O,image_url:""}))}},N=async()=>{let P=r.image_url||null;if(u){e&&e.image_url&&await j(e.image_url);const{url:E,error:D}=await y(u,"categories");if(D)return c(O=>({...O,image_url:"Image upload failed."})),null;P=E}return P},C=()=>{const P={};return r.name.trim()||(P.name="Name is required"),r.description.trim()||(P.description="Description is required"),c(P),Object.keys(P).length===0},k=async P=>{if(P.preventDefault(),!C()||x)return;const E=await N();if(u&&E===null){te({variant:"destructive",title:"Submission Failed",description:"Category could not be saved due to image upload error."});return}const D={name:r.name,description:r.description,image_url:E,updated_at:new Date};e!=null&&e.id&&(D.id=e.id),t(D)};return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"category-image",children:"Category Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:h?s.jsx("img",{src:h,alt:"Category Preview",className:"object-cover w-full h-full"}):s.jsx(Td,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(ge,{id:"category-image",type:"file",accept:"image/*",onChange:_,ref:p,className:"hidden",disabled:x}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var P;return(P=p.current)==null?void 0:P.click()},disabled:x,children:[s.jsx(L1,{className:"w-4 h-4 mr-2"}),x?"Uploading...":u?"Change Image":"Upload Image"]})]}),l.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:l.image_url})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Category Name"}),s.jsx(ge,{id:"name",name:"name",value:r.name,onChange:w,className:l.name?"border-destructive":"",disabled:x}),l.name&&s.jsx("p",{className:"text-xs text-destructive",children:l.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(cn,{id:"description",name:"description",value:r.description,onChange:w,className:l.description?"border-destructive":"",disabled:x}),l.description&&s.jsx("p",{className:"text-xs text-destructive",children:l.description})]}),s.jsxs(Gi,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:x,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:x,children:x?"Saving...":e?"Save Changes":"Add Category"})]})]})},RB=({openDeleteDialog:e})=>{const[t,n]=g.useState([]),[r,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState(!1),[h,m]=g.useState(null),p=g.useCallback(async()=>{o(!0);try{const{data:w,error:_}=await ae.from("categories").select("*").order("name",{ascending:!0});if(_)throw _;n(w||[])}catch(w){console.error("Error fetching categories:",w),te({variant:"destructive",title:"Fetch Error",description:"Could not load categories."})}finally{o(!1)}},[]);g.useEffect(()=>{p()},[p]);const x=g.useMemo(()=>{let w=[...t];if(l){const _=l.toLowerCase();w=w.filter(N=>{var C;return N.name.toLowerCase().includes(_)||((C=N.description)==null?void 0:C.toLowerCase().includes(_))})}return w},[t,l]),y=async w=>{o(!0);try{let _;if(h){const{data:N,error:C}=await ae.from("categories").update(w).eq("id",h.id).select().single();if(C)throw C;_=N,te({title:"Category Updated",description:`${_.name} has been updated.`})}else{const{data:N,error:C}=await ae.from("categories").insert(w).select().single();if(C)throw C;_=N,te({title:"Category Added",description:`${_.name} has been added.`})}p(),f(!1),m(null)}catch(_){console.error("Error saving category:",_),te({variant:"destructive",title:"Save Error",description:_.message})}finally{o(!1)}},j=w=>{const _=t.find(N=>N.id===w);_&&e("category",w,_.image_url)};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Categories Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search categories...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:w=>c(w.target.value)})]}),s.jsxs(fr,{open:u,onOpenChange:w=>{f(w),w||m(null)},children:[s.jsx(ti,{asChild:!0,children:s.jsxs(ee,{onClick:()=>m(null),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"})," Add Category"]})}),s.jsxs(Yn,{className:"sm:max-w-[425px]",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:h?"Edit Category":"Add New Category"})}),s.jsx(OB,{category:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ji,{children:[s.jsx(Qi,{children:s.jsxs(Ot,{children:[s.jsx(ze,{className:"w-[80px]",children:"Image"}),s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Description"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(Zi,{children:x.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:4,className:"h-24 text-center",children:"No categories found."})}):x.map(w=>s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:w.image_url?s.jsx("img",{src:w.image_url,alt:w.name,className:"object-cover w-full h-full"}):s.jsx(Td,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Fe,{className:"font-medium",children:w.name}),s.jsx(Fe,{className:"text-sm text-muted-foreground truncate max-w-xs",children:w.description}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{m(w),f(!0)},children:s.jsx(ic,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(w.id),children:s.jsx(Hi,{className:"h-4 w-4"})})]})]},w.id))})]})})]})},$B=()=>{const[e,t]=g.useState({express_fee:"",scheduled_fee:"",late_fee:"",timezone:"Australia/Adelaide",estimated_delivery_minutes:45}),[n,r]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState({}),f=[{value:"Australia/Adelaide",label:"Adelaide (ACST/ACDT)"},{value:"Australia/Sydney",label:"Sydney (AEST/AEDT)"},{value:"Australia/Melbourne",label:"Melbourne (AEST/AEDT)"},{value:"Australia/Brisbane",label:"Brisbane (AEST)"},{value:"Australia/Perth",label:"Perth (AWST)"},{value:"Australia/Darwin",label:"Darwin (ACST)"}];g.useEffect(()=>{(async()=>{r(!0);try{const{data:j,error:w}=await ae.from("delivery_settings").select("*").eq("id",1).single();if(w&&w.code!=="PGRST116")throw w;t(j?{express_fee:j.express_fee||"",scheduled_fee:j.scheduled_fee||"",late_fee:j.late_fee||"",timezone:j.timezone||"Australia/Adelaide",estimated_delivery_minutes:j.estimated_delivery_minutes||45}:{express_fee:"9.99",scheduled_fee:"5.99",late_fee:"7.99",timezone:"Australia/Adelaide",estimated_delivery_minutes:45})}catch(j){console.error("Error fetching delivery settings:",j),te({variant:"destructive",title:"Fetch Error",description:"Could not load delivery settings."})}finally{r(!1)}})()},[]);const h=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),c[j]&&u(_=>({..._,[j]:""}))},m=(y,j)=>{t(w=>({...w,[y]:j})),c[y]&&u(w=>({...w,[y]:""}))},p=()=>{const y={},j=(w,_)=>{(!w||isNaN(w)||parseFloat(w)<0)&&(y[_]="Valid non-negative fee is required")};return j(e.express_fee,"express_fee"),j(e.scheduled_fee,"scheduled_fee"),j(e.late_fee,"late_fee"),(!e.estimated_delivery_minutes||isNaN(e.estimated_delivery_minutes)||parseInt(e.estimated_delivery_minutes)<=0)&&(y.estimated_delivery_minutes="Valid delivery time is required"),u(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!(!p()||o)){l(!0);try{const j={id:1,express_fee:parseFloat(e.express_fee),scheduled_fee:parseFloat(e.scheduled_fee),late_fee:parseFloat(e.late_fee),timezone:e.timezone,estimated_delivery_minutes:parseInt(e.estimated_delivery_minutes),updated_at:new Date},{error:w}=await ae.from("delivery_settings").upsert(j,{onConflict:"id"});if(w)throw w;te({title:"Settings Updated",description:"Delivery settings have been saved."})}catch(j){console.error("Error saving delivery settings:",j),te({variant:"destructive",title:"Save Error",description:j.message})}finally{l(!1)}}};return n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"express_fee",children:"Express Delivery Fee ($)"}),s.jsx(ge,{id:"express_fee",name:"express_fee",type:"number",step:"0.01",value:e.express_fee,onChange:h,className:c.express_fee?"border-destructive":"",disabled:o}),c.express_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.express_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"scheduled_fee",children:"Scheduled Delivery Fee ($)"}),s.jsx(ge,{id:"scheduled_fee",name:"scheduled_fee",type:"number",step:"0.01",value:e.scheduled_fee,onChange:h,className:c.scheduled_fee?"border-destructive":"",disabled:o}),c.scheduled_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.scheduled_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"late_fee",children:"Late Delivery Fee ($)"}),s.jsx(ge,{id:"late_fee",name:"late_fee",type:"number",step:"0.01",value:e.late_fee,onChange:h,className:c.late_fee?"border-destructive":"",disabled:o}),c.late_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.late_fee}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee applied for orders scheduled outside standard hours."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(Bt,{value:e.timezone,onValueChange:y=>m("timezone",y),disabled:o,children:[s.jsx(At,{className:c.timezone?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Select timezone"})}),s.jsx(Dt,{children:f.map(y=>s.jsx(De,{value:y.value,children:y.label},y.value))})]}),c.timezone&&s.jsx("p",{className:"text-xs text-destructive",children:c.timezone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"estimated_delivery_minutes",children:"Estimated Delivery Time (minutes)"}),s.jsx(ge,{id:"estimated_delivery_minutes",name:"estimated_delivery_minutes",type:"number",min:"1",value:e.estimated_delivery_minutes,onChange:h,className:c.estimated_delivery_minutes?"border-destructive":"",disabled:o}),c.estimated_delivery_minutes&&s.jsx("p",{className:"text-xs text-destructive",children:c.estimated_delivery_minutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'This will be displayed on the homepage as "Delivering in: X minutes (approx.)"'})]}),s.jsx(ee,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},MB=()=>{const[e,t]=g.useState({publishable_key:"",price_id:"",openai_key:""}),[n,r]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState({});g.useEffect(()=>{(async()=>{r(!0);try{const[{data:x},{data:y}]=await Promise.all([ae.from("stripe_settings").select("publishable_key, price_id").eq("id",1).single(),ae.from("openai_settings").select("api_key").eq("id",1).single()]);t({publishable_key:(x==null?void 0:x.publishable_key)||"",price_id:(x==null?void 0:x.price_id)||"",openai_key:(y==null?void 0:y.api_key)||""})}catch(x){console.error("Error fetching settings:",x),te({variant:"destructive",title:"Fetch Error",description:"Could not load settings."})}finally{r(!1)}})()},[]);const f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),c[x]&&u(j=>({...j,[x]:""}))},h=()=>{const p={};return e.publishable_key.trim()?e.publishable_key.startsWith("pk_")||(p.publishable_key='Invalid Publishable Key format. Should start with "pk_".'):p.publishable_key="Stripe Publishable Key is required.",e.price_id.trim()?e.price_id.startsWith("price_")||(p.price_id='Invalid Price ID format. Should start with "price_".'):p.price_id="Stripe Price ID is required.",e.openai_key.trim()?e.openai_key.startsWith("sk-")||(p.openai_key='Invalid OpenAI API Key format. Should start with "sk-".'):p.openai_key="OpenAI API Key is required.",u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!(!h()||o)){l(!0);try{const[x,y]=await Promise.all([ae.from("stripe_settings").upsert({id:1,publishable_key:e.publishable_key.trim(),price_id:e.price_id.trim(),updated_at:new Date},{onConflict:"id"}),ae.from("openai_settings").upsert({id:1,api_key:e.openai_key.trim(),updated_at:new Date},{onConflict:"id"})]);if(x.error)throw x.error;if(y.error)throw y.error;te({title:"Settings Updated",description:"Your payment and AI settings have been saved."})}catch(x){console.error("Error saving settings:",x),te({variant:"destructive",title:"Save Error",description:x.message})}finally{l(!1)}}};return n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:m,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"publishable_key",children:"Stripe Publishable Key"}),s.jsx(ge,{id:"publishable_key",name:"publishable_key",type:"text",value:e.publishable_key,onChange:f,placeholder:"pk_live_...",className:c.publishable_key?"border-destructive":"",disabled:o}),c.publishable_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.publishable_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in your Stripe Dashboard under Developers > API Keys."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"price_id",children:"Stripe Default Price ID"}),s.jsx(ge,{id:"price_id",name:"price_id",type:"text",value:e.price_id,onChange:f,placeholder:"price_...",className:c.price_id?"border-destructive":"",disabled:o}),c.price_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.price_id}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The Price ID for your primary product/service in Stripe."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"openai_key",children:"OpenAI API Key"}),s.jsx(ge,{id:"openai_key",name:"openai_key",type:"password",value:e.openai_key,onChange:f,placeholder:"sk-...",className:c.openai_key?"border-destructive":"",disabled:o}),c.openai_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.openai_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your OpenAI API key for the AI shopping assistant. Find this in your OpenAI dashboard."})]}),s.jsx(ee,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},IB=()=>s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Settings"}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx($B,{})})]}),s.jsx(Wl,{}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Stripe Payment Gateway"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure your Stripe account to enable online payments."}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(MB,{})})]})]}),LB=({store:e,onSubmit:t,onCancel:n})=>{const[r,o]=g.useState({name:"",address:"",phone:"",opening_time:"09:00",closing_time:"21:00"}),[l,c]=g.useState({}),[u,f]=g.useState(!1);g.useEffect(()=>{var x,y;e&&o({name:e.name||"",address:e.address||"",phone:e.phone||"",opening_time:((x=e.opening_time)==null?void 0:x.slice(0,5))||"09:00",closing_time:((y=e.closing_time)==null?void 0:y.slice(0,5))||"21:00"})},[e]);const h=x=>{const{name:y,value:j}=x.target;o(w=>({...w,[y]:j})),l[y]&&c(w=>({...w,[y]:""}))},m=()=>{const x={};return r.name.trim()||(x.name="Name is required"),r.address.trim()||(x.address="Address is required"),r.phone.trim()||(x.phone="Phone number is required"),r.opening_time||(x.opening_time="Opening time is required"),r.closing_time||(x.closing_time="Closing time is required"),c(x),Object.keys(x).length===0},p=async x=>{x.preventDefault(),!(!m()||u)&&(f(!0),await t(r),f(!1))};return s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Store Name"}),s.jsx(ge,{id:"name",name:"name",value:r.name,onChange:h,className:l.name?"border-destructive":"",disabled:u}),l.name&&s.jsx("p",{className:"text-xs text-destructive",children:l.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"address",children:"Address"}),s.jsx(ge,{id:"address",name:"address",value:r.address,onChange:h,className:l.address?"border-destructive":"",disabled:u}),l.address&&s.jsx("p",{className:"text-xs text-destructive",children:l.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ge,{id:"phone",name:"phone",value:r.phone,onChange:h,className:l.phone?"border-destructive":"",disabled:u}),l.phone&&s.jsx("p",{className:"text-xs text-destructive",children:l.phone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"opening_time",children:"Opening Time"}),s.jsx(ge,{id:"opening_time",name:"opening_time",type:"time",value:r.opening_time,onChange:h,className:l.opening_time?"border-destructive":"",disabled:u}),l.opening_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.opening_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"closing_time",children:"Closing Time"}),s.jsx(ge,{id:"closing_time",name:"closing_time",type:"time",value:r.closing_time,onChange:h,className:l.closing_time?"border-destructive":"",disabled:u}),l.closing_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.closing_time})]})]}),s.jsxs(Gi,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:u,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Store":"Add Store"})]})]})},FB=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState(!1),[f,h]=g.useState(null),[m,p]=g.useState([]),[x,y]=g.useState(null),[j,w]=g.useState(!1),[_,N]=g.useState(""),C=async()=>{try{const{data:A,error:R}=await ae.from("stores").select("*").order("name");if(R)throw R;t(A||[])}catch(A){console.error("Error fetching stores:",A),te({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{r(!1)}};g.useEffect(()=>{C()},[]);const k=async A=>{try{if(f){const{error:R}=await ae.from("stores").update(A).eq("id",f.id);if(R)throw R;te({title:"Store Updated",description:`${A.name} has been updated.`})}else{const{error:R}=await ae.from("stores").insert(A);if(R)throw R;te({title:"Store Added",description:`${A.name} has been added.`})}u(!1),h(null),C()}catch(R){console.error("Error saving store:",R),te({variant:"destructive",title:"Error",description:"Could not save store."})}},P=async A=>{if(window.confirm("Are you sure you want to delete this store?"))try{const{error:R}=await ae.from("stores").delete().eq("id",A);if(R)throw R;te({title:"Store Deleted",description:"Store has been removed."}),C()}catch(R){console.error("Error deleting store:",R),te({variant:"destructive",title:"Error",description:"Could not delete store."})}},E=e.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.address.toLowerCase().includes(o.toLowerCase())),D=A=>{y(A),p(Array.isArray(A.store_suggested_items)?A.store_suggested_items:[]),N((Array.isArray(A.store_suggested_items)?A.store_suggested_items:[]).map(R=>R.name+(R.qty?`:${R.qty}`:"")).join(`
`)),w(!0)},O=async()=>{const A=_.split(`
`).map(R=>{const[z,Q]=R.split(":");return z?{name:z.trim(),qty:Q?parseInt(Q,10):1}:null}).filter(Boolean);try{const{error:R}=await ae.from("stores").update({store_suggested_items:A}).eq("id",x.id);if(R)throw R;te({title:"Suggested Items Updated",description:`Suggested items updated for ${x.name}.`}),w(!1),y(null),C()}catch{te({variant:"destructive",title:"Error",description:"Could not update suggested items."})}};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Store Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search stores...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:A=>l(A.target.value)})]}),s.jsxs(fr,{open:c,onOpenChange:u,children:[s.jsx(ti,{asChild:!0,children:s.jsxs(ee,{onClick:()=>h(null),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"})," Add Store"]})}),s.jsxs(Yn,{className:"sm:max-w-[425px]",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:f?"Edit Store":"Add New Store"})}),s.jsx(LB,{store:f,onSubmit:k,onCancel:()=>u(!1)})]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ji,{children:[s.jsx(Qi,{children:s.jsxs(Ot,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Address"}),s.jsx(ze,{children:"Phone"}),s.jsx(ze,{children:"Hours"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(Zi,{children:E.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:5,className:"h-24 text-center",children:"No stores found."})}):E.map(A=>s.jsxs(Ot,{children:[s.jsx(Fe,{className:"font-medium",children:A.name}),s.jsx(Fe,{children:A.address}),s.jsx(Fe,{children:A.phone}),s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ur,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[A.opening_time.slice(0,5)," - ",A.closing_time.slice(0,5)]})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("ul",{className:"list-disc ml-5 text-xs text-muted-foreground",children:Array.isArray(A.store_suggested_items)&&A.store_suggested_items.length>0?A.store_suggested_items.map((R,z)=>s.jsxs("li",{children:[R.name,R.qty?` (Qty: ${R.qty})`:""]},z)):s.jsx("li",{className:"italic text-muted-foreground",children:"None"})}),s.jsx(ee,{size:"xs",variant:"outline",className:"mt-1",onClick:()=>D(A),children:"Edit Suggested Items"})]})]}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{h(A),u(!0)},children:s.jsx(ic,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>P(A.id),children:s.jsx(Hi,{className:"h-4 w-4"})})]})]},A.id))})]})}),s.jsx(fr,{open:j,onOpenChange:w,children:s.jsxs(Yn,{className:"max-w-md",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:"Edit Suggested Items"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Enter one item per line. Use ",s.jsx("code",{children:"Item Name:Qty"})," for quantity (default 1)."]}),s.jsx(cn,{value:_,onChange:A=>N(A.target.value),rows:6,placeholder:`Milk:2
Bread
Eggs:12`}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(ee,{onClick:O,children:"Save"})]})]})]})})]})},UB=({promoCode:e,onSubmit:t,onCancel:n})=>{const[r,o]=g.useState({code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0}),[l,c]=g.useState({}),[u,f]=g.useState(!1);g.useEffect(()=>{var j,w,_;o(e?{code:e.code||"",description:e.description||"",discount_type:e.discount_type||"percentage",discount_value:((j=e.discount_value)==null?void 0:j.toString())||"",minimum_order_amount:((w=e.minimum_order_amount)==null?void 0:w.toString())||"",max_uses:((_=e.max_uses)==null?void 0:_.toString())||"",valid_from:e.valid_from?new Date(e.valid_from):new Date,valid_until:e.valid_until?new Date(e.valid_until):null,is_active:e.is_active!==void 0?e.is_active:!0}:{code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0})},[e]);const h=j=>{const{name:w,value:_}=j.target;o(N=>({...N,[w]:_})),l[w]&&c(N=>({...N,[w]:""}))},m=(j,w)=>{o(_=>({..._,[j]:w})),l[j]&&c(_=>({..._,[j]:""}))},p=(j,w)=>{o(_=>({..._,[j]:w})),l[j]&&c(_=>({..._,[j]:""}))},x=()=>{const j={};if(r.code.trim()?r.code.length<3&&(j.code="Promo code must be at least 3 characters"):j.code="Promo code is required",r.description.trim()||(j.description="Description is required"),!r.discount_value||isNaN(r.discount_value)||parseFloat(r.discount_value)<=0)j.discount_value="Valid discount value is required";else{const w=parseFloat(r.discount_value);r.discount_type==="percentage"&&w>100&&(j.discount_value="Percentage discount cannot exceed 100%")}return r.minimum_order_amount&&(isNaN(r.minimum_order_amount)||parseFloat(r.minimum_order_amount)<0)&&(j.minimum_order_amount="Minimum order amount must be a valid number"),r.max_uses&&(isNaN(r.max_uses)||parseInt(r.max_uses)<=0)&&(j.max_uses="Maximum uses must be a positive number"),r.valid_until&&r.valid_until<=r.valid_from&&(j.valid_until="End date must be after start date"),c(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!x()||u)return;f(!0);const w={code:r.code.toUpperCase().trim(),description:r.description.trim(),discount_type:r.discount_type,discount_value:parseFloat(r.discount_value),minimum_order_amount:r.minimum_order_amount?parseFloat(r.minimum_order_amount):0,max_uses:r.max_uses?parseInt(r.max_uses):null,valid_from:r.valid_from.toISOString(),valid_until:r.valid_until?r.valid_until.toISOString():null,is_active:r.is_active};await t(w),f(!1)};return s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"code",children:"Promo Code"}),s.jsx(ge,{id:"code",name:"code",value:r.code,onChange:h,placeholder:"e.g., SAVE10",className:l.code?"border-destructive":"",disabled:u}),l.code&&s.jsx("p",{className:"text-xs text-destructive",children:l.code})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"discount_type",children:"Discount Type"}),s.jsxs(Bt,{value:r.discount_type,onValueChange:j=>m("discount_type",j),disabled:u,children:[s.jsx(At,{className:l.discount_type?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Select discount type"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"percentage",children:"Percentage (%)"}),s.jsx(De,{value:"fixed",children:"Fixed Amount ($)"})]})]}),l.discount_type&&s.jsx("p",{className:"text-xs text-destructive",children:l.discount_type})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(cn,{id:"description",name:"description",value:r.description,onChange:h,placeholder:"Brief description of the promo code",className:l.description?"border-destructive":"",disabled:u,rows:2}),l.description&&s.jsx("p",{className:"text-xs text-destructive",children:l.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"discount_value",children:["Discount Value ",r.discount_type==="percentage"?"(%)":"($)"]}),s.jsx(ge,{id:"discount_value",name:"discount_value",type:"number",step:r.discount_type==="percentage"?"0.1":"0.01",min:"0",max:r.discount_type==="percentage"?"100":void 0,value:r.discount_value,onChange:h,placeholder:r.discount_type==="percentage"?"10":"5.00",className:l.discount_value?"border-destructive":"",disabled:u}),l.discount_value&&s.jsx("p",{className:"text-xs text-destructive",children:l.discount_value})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"minimum_order_amount",children:"Minimum Order Amount ($)"}),s.jsx(ge,{id:"minimum_order_amount",name:"minimum_order_amount",type:"number",step:"0.01",min:"0",value:r.minimum_order_amount,onChange:h,placeholder:"0.00",className:l.minimum_order_amount?"border-destructive":"",disabled:u}),l.minimum_order_amount&&s.jsx("p",{className:"text-xs text-destructive",children:l.minimum_order_amount})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_uses",children:"Maximum Uses (Optional)"}),s.jsx(ge,{id:"max_uses",name:"max_uses",type:"number",min:"1",value:r.max_uses,onChange:h,placeholder:"Leave empty for unlimited uses",className:l.max_uses?"border-destructive":"",disabled:u}),l.max_uses&&s.jsx("p",{className:"text-xs text-destructive",children:l.max_uses})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Valid From"}),s.jsxs(Yl,{children:[s.jsx(Gl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:Ae("w-full justify-start text-left font-normal",!r.valid_from&&"text-muted-foreground",l.valid_from&&"border-destructive"),disabled:u,children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"}),r.valid_from?Ct(r.valid_from,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(da,{className:"w-auto p-0",children:s.jsx(ca,{mode:"single",selected:r.valid_from,onSelect:j=>p("valid_from",j),initialFocus:!0})})]}),l.valid_from&&s.jsx("p",{className:"text-xs text-destructive",children:l.valid_from})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Valid Until (Optional)"}),s.jsxs(Yl,{children:[s.jsx(Gl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:Ae("w-full justify-start text-left font-normal",!r.valid_until&&"text-muted-foreground",l.valid_until&&"border-destructive"),disabled:u,children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"}),r.valid_until?Ct(r.valid_until,"PPP"):s.jsx("span",{children:"No expiry"})]})}),s.jsx(da,{className:"w-auto p-0",children:s.jsx(ca,{mode:"single",selected:r.valid_until,onSelect:j=>p("valid_until",j),disabled:j=>j<r.valid_from,initialFocus:!0})})]}),l.valid_until&&s.jsx("p",{className:"text-xs text-destructive",children:l.valid_until})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"is_active",checked:r.is_active,onCheckedChange:j=>m("is_active",j),disabled:u}),s.jsx(ne,{htmlFor:"is_active",children:"Active"})]}),s.jsxs(Gi,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:u,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Promo Code":"Create Promo Code"})]})]})},BB=({openDeleteDialog:e})=>{const[t,n]=g.useState([]),[r,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState(!1),[h,m]=g.useState(null),p=g.useCallback(async()=>{o(!0);try{const{data:N,error:C}=await ae.from("promo_codes").select("*").order("created_at",{ascending:!1});if(C)throw C;n(N||[])}catch(N){console.error("Error fetching promo codes:",N),te({variant:"destructive",title:"Fetch Error",description:"Could not load promo codes."})}finally{o(!1)}},[]);g.useEffect(()=>{p()},[p]);const x=t.filter(N=>{var C;return N.code.toLowerCase().includes(l.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))}),y=async N=>{o(!0);try{let C;if(h){const{data:k,error:P}=await ae.from("promo_codes").update({...N,updated_at:new Date}).eq("id",h.id).select().single();if(P)throw P;C=k,te({title:"Promo Code Updated",description:`${C.code} has been updated.`})}else{const{data:k,error:P}=await ae.from("promo_codes").insert(N).select().single();if(P)throw P;C=k,te({title:"Promo Code Created",description:`${C.code} has been created.`})}p(),f(!1),m(null)}catch(C){console.error("Error saving promo code:",C),te({variant:"destructive",title:"Save Error",description:C.message})}finally{o(!1)}},j=N=>{t.find(k=>k.id===N)&&e("promo_code",N)},w=N=>{const C=new Date,k=new Date(N.valid_from),P=N.valid_until?new Date(N.valid_until):null;return N.is_active?C<k?s.jsx(it,{variant:"secondary",children:"Scheduled"}):P&&C>P?s.jsx(it,{variant:"destructive",children:"Expired"}):N.max_uses&&N.current_uses>=N.max_uses?s.jsx(it,{variant:"destructive",children:"Limit Reached"}):s.jsx(it,{variant:"default",children:"Active"}):s.jsx(it,{variant:"destructive",children:"Inactive"})},_=N=>N.discount_type==="percentage"?`${N.discount_value}%`:je(N.discount_value);return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Promo Codes Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search promo codes...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:N=>c(N.target.value)})]}),s.jsxs(fr,{open:u,onOpenChange:N=>{f(N),N||m(null)},children:[s.jsx(ti,{asChild:!0,children:s.jsxs(ee,{onClick:()=>m(null),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"})," Add Promo Code"]})}),s.jsxs(Yn,{className:"sm:max-w-[500px]",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:h?"Edit Promo Code":"Add New Promo Code"})}),s.jsx(UB,{promoCode:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ji,{children:[s.jsx(Qi,{children:s.jsxs(Ot,{children:[s.jsx(ze,{children:"Code"}),s.jsx(ze,{children:"Description"}),s.jsx(ze,{children:"Discount"}),s.jsx(ze,{children:"Min. Order"}),s.jsx(ze,{children:"Usage"}),s.jsx(ze,{children:"Valid Until"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(Zi,{children:x.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:8,className:"h-24 text-center",children:"No promo codes found."})}):x.map(N=>s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fv,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-mono font-medium",children:N.code})]})}),s.jsx(Fe,{className:"max-w-xs truncate",children:N.description}),s.jsxs(Fe,{children:[s.jsx("span",{className:"font-medium",children:_(N)}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:N.discount_type==="percentage"?"off":"discount"})]}),s.jsx(Fe,{children:N.minimum_order_amount>0?je(N.minimum_order_amount):"None"}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(mv,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[N.current_uses||0,N.max_uses?` / ${N.max_uses}`:""]})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Tr,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:N.valid_until?Ct(new Date(N.valid_until),"MMM d, yyyy"):"No expiry"})]})}),s.jsx(Fe,{children:w(N)}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{m(N),f(!0)},children:s.jsx(ic,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(N.id),children:s.jsx(Hi,{className:"h-4 w-4"})})]})]},N.id))})]})})]})},VB=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("processing"),[f,h]=g.useState(null),[m,p]=g.useState(!1),[x,y]=g.useState(""),[j,w]=g.useState(""),[_,N]=g.useState(!1),[C,k]=g.useState(0),P=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},E=async()=>{try{const{data:U,error:q}=await ae.from("pickup_orders").select(`
          *,
          profiles:user_id (name, phone),
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("status",c).order("created_at",{ascending:!1});if(q)throw q;const K=(U==null?void 0:U.length)||0;c==="pending"&&K>C&&C>0&&(P(),te({title:"New pickup order!",description:"A new pickup order has been received."})),k(K),t(U||[])}catch(U){console.error("Error fetching pickup orders:",U),te({variant:"destructive",title:"Error",description:"Could not load pickup orders."})}finally{r(!1)}};g.useEffect(()=>{E();const U=setInterval(E,6e4);return()=>clearInterval(U)},[c]);const D=async(U,q)=>{try{const{error:K}=await ae.from("pickup_orders").update({status:q}).eq("id",U);if(K)throw K;te({title:"Status Updated",description:`Order status changed to ${q}`}),E()}catch(K){console.error("Error updating order status:",K),te({variant:"destructive",title:"Error",description:"Could not update order status."})}},O=async(U,q)=>{try{const{error:K}=await ae.from("pickup_order_stores").update({status:q}).eq("id",U);if(K)throw K;if(te({title:"Store Status Updated",description:`Store order status changed to ${q}`}),E(),f){const I=e.find(L=>L.id===f.id);h(I)}}catch(K){console.error("Error updating store order status:",K),te({variant:"destructive",title:"Error",description:"Could not update store order status."})}},A=async()=>{if(!(!j||!f)){N(!0);try{const q=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/confirm-pickup-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({orderId:f.id,actualAmount:parseFloat(j)})})).json();if(q.error)throw new Error(q.error);const{error:K}=await ae.from("pickup_orders").update({actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"}).eq("id",f.id);if(K)throw K;te({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${je(parseFloat(j))}`}),w(""),E(),h({...f,actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"})}catch(U){console.error("Error confirming payment:",U),te({variant:"destructive",title:"Error",description:"Could not confirm payment: "+U.message})}finally{N(!1)}}},R=async()=>{if(!(!x.trim()||!f))try{const U=f.admin_messages||[],q={from:"admin",message:x,timestamp:new Date().toISOString()},{error:K}=await ae.from("pickup_orders").update({admin_messages:[...U,q]}).eq("id",f.id);if(K)throw K;te({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),E(),h({...f,admin_messages:[...U,q]})}catch(U){console.error("Error sending message:",U),te({variant:"destructive",title:"Error",description:"Could not send message."})}},z=U=>{const q=U.replace(/\D/g,"");window.open(`https://wa.me/${q}`,"_blank")},Q=e.filter(U=>{var K,I,L,B;return((I=(K=U.profiles)==null?void 0:K.name)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||((L=U.whatsapp_number)==null?void 0:L.includes(o))||((B=U.phone_number)==null?void 0:B.includes(o))||U.id.toLowerCase().includes(o.toLowerCase())}),G=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},W=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Multi-Store Pickup Orders"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:U=>l(U.target.value)})]}),s.jsxs(Bt,{value:c,onValueChange:u,children:[s.jsx(At,{className:"w-full md:w-[180px]",children:s.jsx(Vt,{placeholder:"Filter by status"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ji,{children:[s.jsx(Qi,{children:s.jsxs(Ot,{children:[s.jsx(ze,{children:"Order ID"}),s.jsx(ze,{children:"Customer"}),s.jsx(ze,{children:"Stores"}),s.jsx(ze,{children:"Date & Time"}),s.jsx(ze,{children:"Contact"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Payment"}),s.jsx(ze,{children:"Total"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(Zi,{children:Q.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:9,className:"h-24 text-center",children:"No orders found."})}):Q.map(U=>{var q,K,I,L,B,Z,$,J,le,ue,ye;return s.jsxs(Ot,{children:[s.jsxs(Fe,{className:"font-medium",children:[U.id.slice(0,6),"..."]}),s.jsx(Fe,{children:((q=U.profiles)==null?void 0:q.name)||"N/A"}),s.jsx(Fe,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(K=U.pickup_order_stores)==null?void 0:K.map((me,ie)=>{var pe;return s.jsx(it,{variant:"outline",className:"text-xs",children:(pe=me.stores)==null?void 0:pe.name},ie)})})}),s.jsx(Fe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),U.pickup_date?Ct(new Date(U.pickup_date),"MMM d"):"N/A"]}),s.jsx("div",{className:"text-muted-foreground",children:U.time_slot})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-1",children:[U.whatsapp_number&&s.jsxs(ee,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>z(U.whatsapp_number),children:[s.jsx(rc,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),U.phone_number&&s.jsxs(ee,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>window.open(`tel:${U.phone_number}`),children:[s.jsx(Ad,{className:"w-3 h-3 mr-1"}),"Call"]})]})}),s.jsx(Fe,{children:s.jsxs(Bt,{value:U.status,onValueChange:me=>D(U.id,me),children:[s.jsx(At,{className:"w-[130px]",children:s.jsx(Vt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})}),s.jsx(Fe,{children:s.jsx(it,{className:W(U.payment_status),children:U.payment_status})}),s.jsx(Fe,{children:U.actual_total?je(U.actual_total):je(U.estimated_total||0)}),s.jsx(Fe,{className:"text-right",children:s.jsxs(fr,{open:m,onOpenChange:p,children:[s.jsx(ti,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>h(U),children:s.jsx(F1,{className:"w-4 h-4"})})}),s.jsxs(Yn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Gn,{children:s.jsxs(Kn,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6),"..."]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",(I=f.profiles)==null?void 0:I.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"WhatsApp:"})," ",f.whatsapp_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.phone_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.delivery_address]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Postcode:"})," ",f.postcode]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",f.pickup_date?Ct(new Date(f.pickup_date),"PPP"):"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Time Slot:"})," ",f.time_slot]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Status:"}),s.jsx(it,{className:`ml-2 ${G(f.status)}`,children:f.status})]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Payment:"}),s.jsx(it,{className:`ml-2 ${W(f.payment_status)}`,children:f.payment_status})]}),((L=f.fees_data)==null?void 0:L.deliveryFee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee: "})," ",je((B=f.fees_data)==null?void 0:B.deliveryFee)]}),((Z=f.fees_data)==null?void 0:Z.serviceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Service Fee (",($=f.fees_data)==null?void 0:$.service_fee_percent,"):"]})," ",je(f.fees_data.serviceFee)]}),((J=f.fees_data)==null?void 0:J.convenienceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Convenience Fee (",(le=f.fees_data)==null?void 0:le.convenience_fee_percent,") :"]})," ",je(f.fees_data.convenienceFee)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Total:"})," ",je(f.estimated_total||0)]}),f.actual_total&&s.jsxs("p",{children:[s.jsx("strong",{children:"Actual Total:"})," ",je(f.actual_total)]})]})]})]}),f.payment_status==="paid"&&!f.actual_total&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(ma,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(ge,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:me=>w(me.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(ee,{onClick:A,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Fl,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Store Orders"}),s.jsx("div",{className:"space-y-4",children:(ue=f.pickup_order_stores)==null?void 0:ue.map((me,ie)=>{var pe,Ne;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:(pe=me.stores)==null?void 0:pe.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(Ne=me.stores)==null?void 0:Ne.address})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:je(me.estimated_total||0)}),s.jsxs(Bt,{value:me.status,onValueChange:ve=>O(me.id,ve),children:[s.jsx(At,{className:"w-[120px] mt-1",children:s.jsx(Vt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),me.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Shopping List:"}),s.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded mt-1",children:me.notes})]})]},ie)})})]}),f.photos&&f.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Photos"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.photos.map((me,ie)=>s.jsx("img",{src:me.data,alt:`Photo ${ie+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(me.data,"_blank")},ie))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(ye=f.admin_messages)==null?void 0:ye.map((me,ie)=>s.jsxs("div",{className:`p-3 rounded text-sm ${me.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:me.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ct(new Date(me.timestamp),"MMM d, HH:mm")})]}),s.jsx("p",{children:me.message})]},ie))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(cn,{value:x,onChange:me=>y(me.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(ee,{onClick:R,disabled:!x.trim(),children:"Send"})]})]})]})]})]})]})})]},U.id)})})]})})]})},zB=({timeSlot:e,onSubmit:t,onCancel:n})=>{const[r,o]=g.useState({dates:[Nr()],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),[l,c]=g.useState({}),[u,f]=g.useState(!1),[h,m]=g.useState(!1),[p,x]=g.useState(wa);g.useEffect(()=>{(async()=>{try{const{data:D,error:O}=await ae.from("delivery_settings").select("timezone").eq("id",1).single();!O&&(D!=null&&D.timezone)&&x(D.timezone)}catch(D){console.error("Error fetching timezone:",D)}})()},[]),g.useEffect(()=>{if(e){const E=new Date(e.date+"T12:00:00");o({dates:[E],start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),max_orders:e.max_orders,slot_type:e.slot_type,is_active:e.is_active}),m(!1)}else o({dates:[Nr(p)],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),m(!1)},[e,p]);const y=(E,D)=>{o(O=>({...O,[E]:D})),l[E]&&c(O=>({...O,[E]:""}))},j=(E,D)=>{const O=[...r.dates];O[D]=E,o(A=>({...A,dates:O})),l.dates&&c(A=>({...A,dates:""}))},w=()=>{const E=r.dates[r.dates.length-1],D=qt(E,1);o(O=>({...O,dates:[...O.dates,D]}))},_=E=>{if(r.dates.length>1){const D=r.dates.filter((O,A)=>A!==E);o(O=>({...O,dates:D}))}},N=()=>{const E=Nr(p),D=[];for(let O=0;O<7;O++)D.push(qt(E,O));o(O=>({...O,dates:D}))},C=()=>{const E={};if(!r.dates||r.dates.length===0)E.dates="At least one date is required";else{const D=Nr(p),O=Ft(D,p);for(const A of r.dates)if(Ft(A,p)<O){E.dates="Dates cannot be in the past";break}}return r.start_time||(E.start_time="Start time is required"),r.end_time||(E.end_time="End time is required"),r.start_time&&r.end_time&&(hB(r.start_time,r.end_time)||(E.end_time="End time must be after start time")),(!r.max_orders||r.max_orders<1)&&(E.max_orders="Maximum orders must be at least 1"),r.slot_type||(E.slot_type="Slot type is required"),c(E),Object.keys(E).length===0},k=async E=>{if(E.preventDefault(),!(!C()||u)){f(!0);try{if(e){const D={date:Ft(r.dates[0],p),start_time:r.start_time,end_time:r.end_time,max_orders:parseInt(r.max_orders),slot_type:r.slot_type,is_active:r.is_active};await t(D)}else for(const D of r.dates){const O={date:Ft(D,p),start_time:r.start_time,end_time:r.end_time,max_orders:parseInt(r.max_orders),slot_type:r.slot_type,is_active:r.is_active};await t(O)}}catch(D){console.error("Error submitting time slots:",D)}finally{f(!1)}}},P=fB();return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[!e&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted/30 rounded-lg",children:[s.jsx(Dr,{id:"bulk_mode",checked:h,onCheckedChange:m}),s.jsx(ne,{htmlFor:"bulk_mode",className:"text-sm",children:"Create slots for multiple dates"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Date",r.dates.length>1?"s":""]}),r.dates.map((E,D)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Yl,{children:[s.jsx(Gl,{asChild:!0,children:s.jsxs(ee,{type:"button",variant:"outline",className:Ae("flex-1 justify-start text-left font-normal",!E&&"text-muted-foreground",l.dates&&"border-destructive"),disabled:u,children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"}),E?Ft(E,p):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(da,{className:"w-auto p-0",children:s.jsx(ca,{mode:"single",selected:E,onSelect:O=>j(O,D),disabled:O=>{const A=Nr(p),R=Ft(A,p);return Ft(O,p)<R},initialFocus:!0})})]}),!e&&r.dates.length>1&&s.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:()=>_(D),disabled:u,children:s.jsx(sc,{className:"h-4 w-4"})})]},D)),!e&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:u,children:[s.jsx(pa,{className:"h-4 w-4 mr-1"}),"Add Date"]}),s.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:u,children:"Add Next 7 Days"})]}),l.dates&&s.jsx("p",{className:"text-xs text-destructive",children:l.dates}),r.dates.length>1&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dates.map((E,D)=>s.jsx(it,{variant:"secondary",className:"text-xs",children:Ft(E,p)},D))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"start_time",children:"Start Time"}),s.jsxs(Bt,{value:r.start_time,onValueChange:E=>y("start_time",E),disabled:u,children:[s.jsx(At,{className:l.start_time?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Select start time"})}),s.jsx(Dt,{children:P.map(E=>s.jsx(De,{value:E.value,children:E.label},E.value))})]}),l.start_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.start_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_time",children:"End Time"}),s.jsxs(Bt,{value:r.end_time,onValueChange:E=>y("end_time",E),disabled:u,children:[s.jsx(At,{className:l.end_time?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Select end time"})}),s.jsx(Dt,{children:P.map(E=>s.jsx(De,{value:E.value,children:E.label},E.value))})]}),l.end_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.end_time})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"slot_type",children:"Slot Type"}),s.jsxs(Bt,{value:r.slot_type,onValueChange:E=>y("slot_type",E),disabled:u,children:[s.jsx(At,{className:l.slot_type?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Select slot type"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"delivery",children:"Delivery"}),s.jsx(De,{value:"pickup",children:"Pickup"})]})]}),l.slot_type&&s.jsx("p",{className:"text-xs text-destructive",children:l.slot_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_orders",children:"Maximum Orders"}),s.jsx(ge,{id:"max_orders",type:"number",min:"1",value:r.max_orders,onChange:E=>y("max_orders",E.target.value),className:l.max_orders?"border-destructive":"",disabled:u}),l.max_orders&&s.jsx("p",{className:"text-xs text-destructive",children:l.max_orders})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"is_active",checked:r.is_active,onCheckedChange:E=>y("is_active",E),disabled:u}),s.jsx(ne,{htmlFor:"is_active",children:"Active (available for booking)"})]}),s.jsxs(Gi,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:u,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u,children:u?"Creating...":e?"Update Time Slot":`Create ${r.dates.length} Time Slot${r.dates.length>1?"s":""}`})]})]})},WB=({openDeleteDialog:e})=>{const[t,n]=g.useState([]),[r,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState("all"),[h,m]=g.useState("all"),[p,x]=g.useState(!1),[y,j]=g.useState(null),w=g.useCallback(async()=>{o(!0);try{let D=ae.from("time_slots").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});u!=="all"&&(D=D.eq("slot_type",u)),h==="today"?D=D.eq("date",new Date().toISOString().split("T")[0]):h==="upcoming"&&(D=D.gte("date",new Date().toISOString().split("T")[0]));const{data:O,error:A}=await D;if(A)throw A;n(O||[])}catch(D){console.error("Error fetching time slots:",D),te({variant:"destructive",title:"Fetch Error",description:"Could not load time slots."})}finally{o(!1)}},[u,h]);g.useEffect(()=>{w()},[w]);const _=t.filter(D=>{if(!l)return!0;const O=l.toLowerCase();return D.slot_type.toLowerCase().includes(O)||Ct(new Date(D.date),"PPP").toLowerCase().includes(O)||N(D.start_time).toLowerCase().includes(O)||N(D.end_time).toLowerCase().includes(O)}),N=D=>{const[O,A]=D.split(":"),R=parseInt(O,10),z=R>=12?"PM":"AM";return`${R%12||12}:${A} ${z}`},C=async D=>{o(!0);try{let O;if(y){const{data:A,error:R}=await ae.from("time_slots").update({...D,updated_at:new Date}).eq("id",y.id).select().single();if(R)throw R;O=A,te({title:"Time Slot Updated",description:"Time slot has been updated successfully."})}else{const{data:A,error:R}=await ae.from("time_slots").insert(D).select().single();if(R)throw R;O=A,te({title:"Time Slot Created",description:"Time slot has been created successfully."})}w(),x(!1),j(null)}catch(O){console.error("Error saving time slot:",O),te({variant:"destructive",title:"Save Error",description:O.message})}finally{o(!1)}},k=D=>{t.find(A=>A.id===D)&&e("time_slot",D)},P=D=>{const O=new Date,A=new Date(D.date),R=A.toDateString()===O.toDateString(),z=A<O&&!R,Q=D.current_orders>=D.max_orders;return z?s.jsx(it,{variant:"secondary",children:"Past"}):D.is_active?Q?s.jsx(it,{variant:"destructive",children:"Full"}):R?s.jsx(it,{variant:"default",children:"Today"}):s.jsx(it,{variant:"outline",children:"Available"}):s.jsx(it,{variant:"destructive",children:"Inactive"})},E=D=>{const O=D.current_orders/D.max_orders*100;return O>=100?"text-red-600":O>=80?"text-orange-600":O>=60?"text-yellow-600":"text-green-600"};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Time Slots Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search slots...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:D=>c(D.target.value)})]}),s.jsxs(Bt,{value:u,onValueChange:f,children:[s.jsx(At,{className:"w-full md:w-[140px]",children:s.jsx(Vt,{placeholder:"Filter by type"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"all",children:"All Types"}),s.jsx(De,{value:"delivery",children:"Delivery"}),s.jsx(De,{value:"pickup",children:"Pickup"})]})]}),s.jsxs(Bt,{value:h,onValueChange:m,children:[s.jsx(At,{className:"w-full md:w-[140px]",children:s.jsx(Vt,{placeholder:"Filter by date"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"all",children:"All Dates"}),s.jsx(De,{value:"today",children:"Today"}),s.jsx(De,{value:"upcoming",children:"Upcoming"})]})]}),s.jsxs(fr,{open:p,onOpenChange:D=>{x(D),D||j(null)},children:[s.jsx(ti,{asChild:!0,children:s.jsxs(ee,{onClick:()=>j(null),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"})," Add Time Slot"]})}),s.jsxs(Yn,{className:"sm:max-w-[500px]",children:[s.jsx(Gn,{children:s.jsx(Kn,{children:y?"Edit Time Slot":"Add New Time Slot"})}),s.jsx(zB,{timeSlot:y,onSubmit:C,onCancel:()=>x(!1)},y?y.id:"new")]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ji,{children:[s.jsx(Qi,{children:s.jsxs(Ot,{children:[s.jsx(ze,{children:"Date"}),s.jsx(ze,{children:"Time"}),s.jsx(ze,{children:"Type"}),s.jsx(ze,{children:"Capacity"}),s.jsx(ze,{children:"Availability"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(Zi,{children:_.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:7,className:"h-24 text-center",children:"No time slots found."})}):_.map(D=>s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Ct(new Date(D.date),"MMM d, yyyy")})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ur,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[N(D.start_time)," - ",N(D.end_time)]})]})}),s.jsx(Fe,{children:s.jsx(it,{variant:D.slot_type==="delivery"?"default":"secondary",children:D.slot_type.charAt(0).toUpperCase()+D.slot_type.slice(1)})}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mv,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[D.max_orders," orders"]})]})}),s.jsx(Fe,{children:s.jsxs("span",{className:E(D),children:[D.current_orders," / ",D.max_orders]})}),s.jsx(Fe,{children:P(D)}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{j(D),x(!0)},children:s.jsx(ic,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>k(D.id),children:s.jsx(Hi,{className:"h-4 w-4"})})]})]},D.id))})]})})]})},HB=({isOpen:e,onOpenChange:t,itemType:n,onConfirm:r,isDeleting:o})=>s.jsx(fr,{open:e,onOpenChange:t,children:s.jsxs(Yn,{children:[s.jsxs(Gn,{children:[s.jsx(Kn,{children:"Confirm Deletion"}),s.jsxs(M_,{children:["Are you sure you want to delete this ",n,"? This action cannot be undone. Associated images will also be removed."]})]}),s.jsxs(Gi,{children:[s.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),s.jsx(ee,{variant:"destructive",onClick:r,disabled:o,children:o?"Deleting...":"Delete"})]})]})}),qB=()=>{const{isAdmin:e,loading:t,user:n}=un(),r=On();return g.useEffect(()=>{t||(n?e||(te({variant:"destructive",title:"Access Denied",description:"You must be an admin to view this page."}),r("/admin-login")):(te({variant:"destructive",title:"Authentication Required",description:"Please log in to access this page."}),r("/admin-login")))},[e,t,n,r]),{authLoading:t,isAdmin:e}},YB=e=>{const[t,n]=g.useState(!1),[r,o]=g.useState(null),[l,c]=g.useState(!1),{deleteFile:u}=sg(),f=g.useCallback((m,p,x=null)=>{o({type:m,id:p,imageUrl:x}),n(!0)},[]);return{isDeleteDialogOpen:t,itemToDelete:r,isDeleting:l,openDeleteDialog:f,confirmDelete:async()=>{if(r){c(!0);try{let m="",p=r.type;if(r.type==="product")m="products";else if(r.type==="category"){m="categories";const{data:j,error:w}=await ae.from("products").select("id").eq("category_id",r.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete category as it is assigned to products.")}else if(r.type==="time_slot"){m="time_slots";const{data:j,error:w}=await ae.from("orders").select("id").eq("timeslot_id",r.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete time slot as it has associated orders.");const{data:_,error:N}=await ae.from("pickup_orders").select("id").eq("timeslot_id",r.id).limit(1);if(N)throw N;if(_&&_.length>0)throw new Error("Cannot delete time slot as it has associated pickup orders.")}else throw new Error("Invalid item type for deletion");const{error:x}=await ae.from(m).delete().eq("id",r.id);if(x)throw x;if(r.imageUrl){const{error:j}=await u(r.imageUrl);j&&console.warn("Failed to delete associated image:",j)}te({title:`${p.charAt(0).toUpperCase()+p.slice(1)} Deleted`});const y=e(j=>j);e(""),setTimeout(()=>e(y),0)}catch(m){console.error(`Error deleting ${r.type}:`,m),te({variant:"destructive",title:"Deletion Failed",description:m.message})}finally{c(!1),n(!1),o(null)}}},setIsDeleteDialogOpen:n}},GB=()=>s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage orders, products, categories, and settings for Groceroo."})]}),KB=()=>{const{authLoading:e,isAdmin:t}=qB(),{getOrdersByStatus:n}=uv(),[r,o]=g.useState("orders"),{isDeleteDialogOpen:l,itemToDelete:c,isDeleting:u,openDeleteDialog:f,confirmDelete:h,setIsDeleteDialogOpen:m}=YB(o),p=n("pending").length,x=n("processing").length,y=n("delivered").length;if(e)return s.jsx("div",{className:"container flex items-center justify-center h-screen",children:s.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return null;const j=[{value:"orders",label:"Orders",icon:cr,component:s.jsx(PB,{})},{value:"pickup-orders",label:"Store Pickups",icon:V1,component:s.jsx(VB,{})},{value:"products",label:"Products",icon:k$,component:s.jsx(DB,{openDeleteDialog:f},"products")},{value:"categories",label:"Categories",icon:fv,component:s.jsx(RB,{openDeleteDialog:f},"categories")},{value:"stores",label:"Stores",icon:Wi,component:s.jsx(FB,{})},{value:"time-slots",label:"Time Slots",icon:ur,component:s.jsx(WB,{openDeleteDialog:f},"time-slots")},{value:"promo-codes",label:"Promo Codes",icon:ur,component:s.jsx(BB,{openDeleteDialog:f},"promo-codes")},{value:"settings",label:"Settings",icon:H$,component:s.jsx(IB,{})}];return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx(GB,{}),s.jsx(kB,{pendingCount:p,processingCount:x,deliveredCount:y}),s.jsxs(rg,{value:r,onValueChange:o,className:"mt-8 space-y-6",children:[s.jsx(tf,{className:"grid w-full grid-cols-7 md:w-auto md:inline-flex",children:j.map(w=>s.jsxs(Di,{value:w.value,className:"flex items-center",children:[s.jsx(w.icon,{className:"w-4 h-4 mr-2"}),w.label]},w.value))}),j.map(w=>s.jsx(Oi,{value:w.value,children:w.component},w.value))]}),s.jsx(HB,{isOpen:l,onOpenChange:m,itemType:c==null?void 0:c.type,onConfirm:h,isDeleting:u})]})};function Bm(e,t,n,r){if(typeof e!="number"||typeof t!="number"||typeof n!="number"||typeof r!="number")return null;const o=6371,l=(n-e)*Math.PI/180,c=(r-t)*Math.PI/180,u=Math.sin(l/2)*Math.sin(l/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return o*f}function Tb(e){if(!e)return"";let[t,n]=e.split(":");t=parseInt(t,10);const r=t>=12?"PM":"AM";return t=t%12||12,`${t}:${n} ${r}`}const XB=({stores:e,selectedStores:t,onStoreToggle:n,onNotesChange:r,onEstimatedTotalChange:o,userLocation:l})=>{const c=g.useMemo(()=>l?[...e].sort((x,y)=>{const j=Bm(l.lat,l.lng,x.lat,x.lng)??1/0,w=Bm(l.lat,l.lng,y.lat,y.lng)??1/0;return j-w}):e,[e,l]),u=x=>30,f=x=>{if(t.some(j=>j.id===x.id))n(t.filter(j=>j.id!==x.id));else{const j=[...t,{id:x.id,name:x.name,estimatedTotal:u(t.length+1),notes:""}];n(j)}},h=(x,y)=>{const j=t.map(w=>w.id===x?{...w,notes:y}:w);n(j),r(x,y)},m=(x,y)=>{const j=t.map(w=>w.id===x?{...w,estimatedTotal:parseFloat(y)||0}:w);n(j),o(x,y)},p=(x,y,j,w)=>{const _=t.find(P=>P.id===x);let N=(_==null?void 0:_.notes)||"";const C=`${y.name} x${w}`,k=new RegExp(`${y.name} x\\d+`,"g");j?k.test(N)?N=N.replace(k,C):N=N?`${N}
${C}`:C:N=N.replace(k,"").replace(/^\s*[\r\n]/gm,"").trim(),h(x,N)};return s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:c.map(x=>{const y=t.some(C=>C.id===x.id),j=t.find(C=>C.id===x.id),w=x.minimum_order_amount||30,_=l&&x.lat&&x.lng?Bm(l.lat,l.lng,x.lat,x.lng):null,N=Array.isArray(x.store_suggested_items)?x.store_suggested_items:[];return s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Hn,{className:`transition-all ${y?"ring-2 ring-primary shadow-lg":"hover:shadow-md"}`,children:[s.jsxs(ar,{className:"pb-3 flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:x.image?s.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"}):s.jsx(Wi,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx(lr,{className:"text-base",children:x.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:x.address}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xs",children:[Tb(x.opening_time)," - ",Tb(x.closing_time)]}),_&&s.jsxs("span",{className:"text-xs text-primary font-semibold",children:[" ",_.toFixed(1)," km"]})]})]})]}),s.jsx(ee,{type:"button",variant:y?"default":"outline",size:"sm",onClick:()=>f(x),children:y?s.jsx(sc,{className:"w-4 h-4"}):s.jsx(pa,{className:"w-4 h-4"})})]}),y&&s.jsxs(qn,{className:"space-y-4 border-t pt-4",children:[N.length>0&&s.jsxs("div",{children:[s.jsx(ne,{className:"block mb-1",children:"Suggested Items"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((C,k)=>{var A;const P=new RegExp(`${C.name} x(\\d+)`,"g"),E=(A=j==null?void 0:j.notes)==null?void 0:A.match(P),D=E?parseInt(E[0].split("x")[1],10):1,O=!!E;return s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded px-2 py-1",children:[s.jsx("input",{type:"checkbox",checked:O,onChange:R=>p(x.id,C,R.target.checked,D)}),s.jsxs("span",{className:"text-xs",children:[C.name," : Qty "]}),s.jsx("input",{type:"number",min:1,value:D,onChange:R=>p(x.id,C,!0,Math.max(1,parseInt(R.target.value)||1)),className:"w-10 text-xs ml-1 border rounded px-1 py-0.5",disabled:!O})]},C.name)})})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`estimated-${x.id}`,children:"Estimated Total ($)"}),s.jsx(ge,{id:`estimated-${x.id}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:w,step:"5",value:j==null?void 0:j.estimatedTotal,onChange:C=>{const k=C.target.value.replace(/[^0-9.]/g,"");m(x.id,k)},onBlur:C=>{let k=parseFloat(C.target.value);(isNaN(k)||k<w)&&(k=w),m(x.id,k)},placeholder:`Minimum $${w}`,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`notes-${x.id}`,children:"Shopping List / Notes"}),s.jsx(cn,{id:`notes-${x.id}`,value:(j==null?void 0:j.notes)||"",onChange:C=>h(x.id,C.target.value),placeholder:"Add your shopping list or special instructions...",rows:2,className:"mt-1"})]})]})]})},x.id)})})})},JB=({photos:e,onPhotosChange:t,maxPhotos:n=5})=>{const[r,o]=g.useState(!1),l=g.useRef(null),c=(m,p=800,x=.8)=>new Promise(y=>{const j=document.createElement("canvas"),w=j.getContext("2d"),_=new Image;_.onload=()=>{const N=Math.min(p/_.width,p/_.height);j.width=_.width*N,j.height=_.height*N,w.drawImage(_,0,0,j.width,j.height),j.toBlob(y,"image/jpeg",x)},_.src=URL.createObjectURL(m)}),u=async m=>{const p=Array.from(m.target.files);if(e.length+p.length>n){te({variant:"destructive",title:"Too many photos",description:`You can only upload up to ${n} photos.`});return}o(!0);try{const x=await Promise.all(p.map(async y=>{const j=await c(y),w=new FileReader;return new Promise(_=>{w.onload=()=>{_({id:Date.now()+Math.random(),name:y.name,data:w.result,size:j.size})},w.readAsDataURL(j)})}));t([...e,...x]),te({title:"Photos uploaded",description:`${x.length} photo(s) added successfully.`})}catch(x){console.error("Error compressing photos:",x),te({variant:"destructive",title:"Upload failed",description:"Failed to process photos. Please try again."})}finally{o(!1),l.current&&(l.current.value="")}},f=m=>{t(e.filter(p=>p.id!==m))},h=m=>{if(m===0)return"0 Bytes";const p=1024,x=["Bytes","KB","MB"],y=Math.floor(Math.log(m)/Math.log(p));return parseFloat((m/Math.pow(p,y)).toFixed(2))+" "+x[y]};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Photos (Optional)"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Upload photos of your shopping list or special items. Max ",n," photos."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},disabled:r||e.length>=n,className:"flex items-center",children:[r?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(sM,{className:"w-4 h-4 mr-2"}),r?"Processing...":"Upload Photos"]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]}),e.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(m=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted border",children:s.jsx("img",{src:m.data,alt:m.name,className:"w-full h-full object-cover"})}),s.jsx(ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>f(m.id),children:s.jsx(ei,{className:"h-3 w-3"})}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:[m.name," (",h(m.size),")"]})]},m.id))})]})},QB=[`Don't ring doorbell, leave at door
`,`Call on arrival
`,`Leave with reception
`,`Knock softly, baby sleeping
`,`Text me before delivery
`],ZB=()=>{var vc;const{user:e}=un(),[t,n]=g.useState([]),[r,o]=g.useState([]),[l,c]=g.useState(""),[u,f]=g.useState([]),[h,m]=g.useState(!0),[p,x]=g.useState([]),[y,j]=g.useState(Nr()),[w,_]=g.useState(""),[N,C]=g.useState([]),[k,P]=g.useState(!1),[E,D]=g.useState(""),[O,A]=g.useState(""),[R,z]=g.useState(""),[Q,G]=g.useState([]),[W,U]=g.useState(!1),[q,K]=g.useState(!1),[I,L]=g.useState({}),[B,Z]=g.useState("whatsapp"),[$,J]=g.useState(""),[le,ue]=g.useState([]),[ye,me]=g.useState([]),[ie,pe]=g.useState(""),[Ne,ve]=g.useState(!1),[de,Ce]=g.useState("new-order"),[Ue,Be]=g.useState(null),[Qe,dn]=g.useState(wa),[Rn,os]=g.useState(!1),[jn,$n]=g.useState(!1),[rn,ba]=g.useState({convenience_fee_percent:7,service_fee_percent:3}),[hc,nf]=g.useState(()=>{const re=localStorage.getItem("userLocation");return re?JSON.parse(re):null}),[eo,ja]=g.useState(""),_a=On();g.useEffect(()=>{Promise.all([si(),ii(),mc()]),e&&(Sa(),e.phone&&(J(e.phone),D(e.phone)))},[e]),g.useEffect(()=>{if(ie.length===0)me(le);else{const re=le.filter(Ee=>Ee.suburb.toLowerCase().includes(ie.toLowerCase())||Ee.postcode.includes(ie));me(re)}},[ie,le]),g.useEffect(()=>{if(l.length===0)o(t);else{const re=t.filter(Ee=>Ee.name.toLowerCase().includes(l.toLowerCase())||Ee.address.toLowerCase().includes(l.toLowerCase()));o(re)}},[l,t]),g.useEffect(()=>{y&&rf(y)},[y,Qe]),g.useEffect(()=>{(async()=>{const{data:Ee,error:Ze}=await ae.from("delivery_settings").select("convenience_fee_percent, service_fee_percent").eq("id",1).single();!Ze&&Ee&&ba({convenience_fee_percent:Ee.convenience_fee_percent||7,service_fee_percent:Ee.service_fee_percent||3})})()},[]);const to=!e&&p.length>0&&y&&w,mc=async()=>{try{const{data:re,error:Ee}=await ae.from("delivery_settings").select("timezone").eq("id",1).single();!Ee&&(re!=null&&re.timezone)&&dn(re.timezone)}catch(re){console.error("Error fetching timezone:",re)}},si=async()=>{try{const{data:re,error:Ee}=await ae.from("stores").select("*").order("name");if(Ee)throw Ee;n(re||[]),o(re||[])}catch(re){console.error("Error fetching stores:",re),te({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{m(!1)}},ii=async()=>{try{const{data:re,error:Ee}=await ae.from("postcodes").select("*").order("suburb");if(Ee)throw Ee;ue(re||[]),me(re||[])}catch(re){console.error("Error fetching postcodes:",re),te({variant:"destructive",title:"Error",description:"Could not load postcodes."})}},rf=async re=>{P(!0);try{const Ee=Ft(re,Qe),{data:Ze,error:ft}=await ae.from("time_slots").select("*").eq("date",Ee).eq("is_active",!0).order("start_time");if(ft)throw ft;C(Ze||[]),_("")}catch(Ee){console.error("Error fetching time slots:",Ee),C([])}finally{P(!1)}},Sa=async()=>{try{const{data:re,error:Ee}=await ae.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name)
          )
        `).eq("user_id",e.id).in("status",["pending","processing","ready"]).gte("pickup_date",Ft(Nr(Qe),Qe)).order("pickup_date",{ascending:!0});if(Ee)throw Ee;f(re||[])}catch(re){console.error("Error fetching upcoming orders:",re),te({variant:"destructive",title:"Error",description:"Could not load upcoming orders."})}},pc=re=>{const Ee=e.addresses.find(Ze=>Ze.address===re);if(Ee){A(Ee.address),z(Ee.postcode);const Ze=le.find(ft=>ft.postcode===Ee.postcode);Ze&&pe(`${Ze.suburb}, ${Ze.postcode}`)}U(!1)},sf=re=>{A(re.address),z(re.postcode),pe(`${re.suburb.toUpperCase()}, ${re.postcode}`)},Na=re=>{z(re.postcode),pe(`${re.suburb}, ${re.postcode}`),ve(!1)},Ca=re=>{Be(re)},ka=()=>{Be(null)},Pa=()=>{os(!1)},Ea=()=>{const re={};return p.length===0&&(re.stores="Please select at least one store"),w||(re.timeSlot="Please select a time slot"),B==="whatsapp"&&!E&&(re.whatsapp="WhatsApp number is required for WhatsApp communication"),B==="phone"&&!$&&(re.phone="Phone number is required for SMS/Call communication"),O||(re.address="Delivery address is required"),R||(re.postcode="Please select a postcode"),p.forEach((Ee,Ze)=>{(!Ee.estimatedTotal||Ee.estimatedTotal<30)&&(re[`store_${Ee.id}`]=`Minimum order for this store is ${je(30)}`)}),q||(re.terms="You must accept the terms and conditions"),L(re),Object.keys(re).length===0},as=async re=>{if(re.preventDefault(),!Ea()){te({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields and accept the terms."});return}try{const Ee=p.reduce((Jn,so)=>Jn+(so.estimatedTotal||0),0),Ze=Ue?Ue.discountAmount:0,ft=ro(),Gt=N.find(Jn=>Jn.id===w),Mn=Gt?`${Yo(Gt.start_time)} - ${Yo(Gt.end_time)}`:"",{data:_n,error:Kt}=await ae.from("pickup_orders").insert({user_id:e.id,pickup_date:Ft(y,Qe),time_slot:Mn,timeslot_id:w,whatsapp_number:B==="whatsapp"?E:null,phone_number:B==="phone"?$:null,delivery_address:O,postcode:R,photos:Q,status:"pending",payment_status:"pending",estimated_total:Ee,promo_code:(Ue==null?void 0:Ue.code)||null,discount_amount:Ze,fees_data:{convenience_fee_percent:rn.convenience_fee_percent,service_fee_percent:rn.service_fee_percent,serviceFee:ai(),convenienceFee:us(),deliveryFee:cs()},admin_messages:jn?[{from:"customer",message:"Please reorder my previous items along with this order.",timestamp:new Date().toISOString()}]:[],notes:eo}).select().single();if(Kt)throw Kt;const ds=p.map(Jn=>({pickup_order_id:_n.id,store_id:Jn.id,estimated_total:Jn.estimatedTotal,notes:Jn.notes,status:"pending"})),{error:Ir}=await ae.from("pickup_order_stores").insert(ds);if(Ir)throw Ir;_a("/pickup-payment",{state:{orderId:_n.id,orderData:{pickup_date:Ft(y,Qe),time_slot:Mn,contact_preference:B,whatsapp_number:B==="whatsapp"?E:null,phone_number:B==="phone"?$:null,delivery_address:O,postcode:R,estimated_total:ft,promo_code:(Ue==null?void 0:Ue.code)||null,discount_amount:Ze,stores:p,fees_data:{convenience_fee_percent:rn.convenience_fee_percent,service_fee_percent:rn.service_fee_percent,serviceFee:ai(),convenienceFee:us(),deliveryFee:cs()},notes:eo},finalTotal:ft}})}catch(Ee){console.error("Error creating pickup order:",Ee),te({variant:"destructive",title:"Error",description:"Could not create pickup order."})}},ls=async(re,Ee)=>{try{const{data:Ze,error:ft}=await ae.from("pickup_orders").select("admin_messages").eq("id",re).single();if(ft)throw ft;const Gt=Ze.admin_messages||[],Mn={from:"customer",message:Ee,timestamp:new Date().toISOString()},{error:_n}=await ae.from("pickup_orders").update({admin_messages:[...Gt,Mn]}).eq("id",re);if(_n)throw _n;te({title:"Message sent",description:"Your message has been sent to the admin."}),Sa()}catch(Ze){console.error("Error sending message:",Ze),te({variant:"destructive",title:"Error",description:"Could not send message."})}},oi=()=>Number(xr.subtotal||0),cs=()=>Number(xr.deliveryFee||0),no=()=>Number(xr.discountAmount||0),us=()=>parseFloat((oi()*(rn.convenience_fee_percent/100)).toFixed(2)),ai=()=>{const re=oi()+cs()+us();return parseFloat((re*(rn.service_fee_percent/100)).toFixed(2))},ro=()=>{const re=oi()+cs()+us()+ai()-no();return parseFloat(re.toFixed(2))},xr=(()=>{const re=p.reduce((Mn,_n)=>Mn+(_n.estimatedTotal||0),0),Ee=re*.1,Ze=p.reduce((Mn,_n)=>{const Kt=t.find(Ir=>Ir.id===_n.id),ds=(Kt==null?void 0:Kt.store_delivery_fee)||0;return Math.max(Mn,ds)},0),ft=Ue?Ue.discountAmount:0,Gt=re+Ee+Ze-ft;return{subtotal:re,serviceCharge:Ee,deliveryFee:Ze,discountAmount:ft,total:Gt}})(),Ta=re=>{const Ee=Nr(Qe),Ze=Ft(Ee,Qe);return Ft(re,Qe)<Ze},li=re=>{const Ee=N.find(ft=>ft.id===re);if(!Ee)return _(re);const Ze=p.map(ft=>{const Gt=t.find(ht=>ht.id===ft.id);if(!Gt||!Gt.opening_time||!Gt.closing_time)return null;const[Mn,_n]=Ee.start_time.split(":").map(Number),[Kt,ds]=Ee.end_time.split(":").map(Number),[Ir,Jn]=Gt.opening_time.split(":").map(Number),[so,gc]=Gt.closing_time.split(":").map(Number),xc=Mn*60+_n,yc=Kt*60+ds,af=Ir*60+Jn,lf=so*60+gc;return xc<af||yc>lf?Gt.name:null}).filter(Boolean);if(Ze.length>0){te({variant:"destructive",title:"Store Hours Conflict",description:`The selected time slot is outside operating hours for: ${Ze.join(", ")}. Please choose another slot.`});return}_(re)};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[240px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-2",children:s.jsxs(be.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsx("h1",{className:"text-lg md:text-xl font-bold text-white mb-1",children:"Grocery Run"}),s.jsx("p",{className:"text-white/90 text-xs",children:"Let us do the shopping for you at multiple stores!"})]}),s.jsxs("div",{className:"grid gap-1 grid-cols-2 md:grid-cols-4 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Wi,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"1. Add Stores"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Select stores and set budget"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(rc,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"2. Share Lists"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Add shopping lists"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(ur,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"3. We Shop"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"We shop at all stores"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Ul,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"4. Delivery"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"All items in one trip"})]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-6 mx-auto md:px-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-6xl mx-auto",children:s.jsxs(rg,{value:de,onValueChange:Ce,className:"space-y-6",children:[s.jsxs(tf,{className:"grid w-full grid-cols-2",children:[s.jsx(Di,{value:"new-order",children:"Schedule"}),s.jsxs(Di,{value:"upcoming-orders",children:["Upcoming (",u.length,")"]})]}),s.jsx(Oi,{value:"new-order",className:"space-y-6",children:s.jsxs(Hn,{children:[s.jsxs(ar,{children:[s.jsx(lr,{children:"Schedule a new Grocery Run"}),s.jsx(Op,{children:"Add one or more stores and provide your lists/notes anytime before your slot. We will shop for you and deliver everything in one trip."})]}),s.jsx(qn,{children:s.jsxs("form",{onSubmit:as,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Select Stores"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(dv,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ge,{type:"search",placeholder:"Search stores...",className:"pl-8",value:l,onChange:re=>c(re.target.value)})]})]}),s.jsx(XB,{stores:r,selectedStores:p,onStoreToggle:x,onNotesChange:()=>{},onEstimatedTotalChange:()=>{},userLocation:hc})]}),I.stores&&s.jsx("p",{className:"text-xs text-destructive",children:I.stores}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Select Date"}),s.jsxs(Yl,{children:[s.jsx(Gl,{asChild:!0,children:s.jsxs(ee,{type:"button",variant:"outline",className:Ae("w-full justify-start text-left font-normal",!y&&"text-muted-foreground"),children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"}),y?Ft(y,Qe):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(da,{className:"w-auto p-0",align:"start",children:s.jsx(ca,{mode:"single",selected:y,onSelect:j,disabled:Ta,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Time Slot"}),k?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):N.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(Bt,{value:w,onValueChange:li,children:[s.jsx(At,{className:I.timeSlot?"border-destructive":"",children:s.jsx(Vt,{placeholder:"Choose a time slot"})}),s.jsx(Dt,{children:N.map(re=>s.jsxs(De,{value:re.id,children:[Yo(re.start_time)," - ",Yo(re.end_time)]},re.id))})]}),I.timeSlot&&s.jsx("p",{className:"text-xs text-destructive",children:I.timeSlot})]})]}),to&&s.jsxs(Hn,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(ar,{children:[s.jsx(lr,{children:"Sign in to Continue"}),s.jsx(Op,{children:"Please sign in to complete your grocery run order"})]}),s.jsx(qn,{children:s.jsx("div",{className:"max-w-lg mx-auto",children:s.jsx(Id,{onSuccess:Pa})})})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Contact Preference"}),s.jsxs(Zd,{value:B,onValueChange:Z,className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{value:"whatsapp",id:"whatsapp"}),s.jsx(ne,{htmlFor:"whatsapp",children:"WhatsApp"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{value:"phone",id:"phone"}),s.jsx(ne,{htmlFor:"phone",children:"SMS/Call"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{value:"inapp",id:"inapp"}),s.jsx(ne,{htmlFor:"inapp",children:"In-App"})]})]})]}),B==="whatsapp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"whatsapp",children:"WhatsApp Number"}),s.jsx(ge,{id:"whatsapp",value:E,onChange:re=>D(re.target.value),placeholder:"Enter your WhatsApp number",className:I.whatsapp?"border-destructive":""}),I.whatsapp&&s.jsx("p",{className:"text-xs text-destructive",children:I.whatsapp})]}),B==="phone"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ge,{id:"phone",value:$,onChange:re=>J(re.target.value),placeholder:"Enter your phone number",className:I.phone?"border-destructive":""}),I.phone&&s.jsx("p",{className:"text-xs text-destructive",children:I.phone})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"reorder",checked:jn,onCheckedChange:$n}),s.jsx(ne,{htmlFor:"reorder",className:"text-sm",children:"Reorder my previous items (we'll add them to this order)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{htmlFor:"address",children:"Delivery Address"}),e&&((vc=e.addresses)==null?void 0:vc.length)>0&&s.jsxs(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(!W),className:"flex items-center text-primary",children:[s.jsx(Ul,{className:"w-4 h-4 mr-1"}),W?"Hide saved addresses":"Use saved address"]})]}),W&&s.jsx(_N,{onSelect:pc}),s.jsx(Gd,{value:O,onChange:A,onAddressSelect:sf,placeholder:"Start typing your address...",className:I.address?"border-destructive":""}),I.address&&s.jsx("p",{className:"text-xs text-destructive",children:I.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ge,{id:"postcode",placeholder:"Search suburb or postcode...",value:ie,onChange:re=>{pe(re.target.value),ve(!0)},onFocus:()=>ve(!0),className:I.postcode?"border-destructive":""}),Ne&&ye.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:ye.slice(0,10).map(re=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>Na(re),children:[s.jsx("div",{className:"text-sm font-medium",children:re.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:re.postcode})]},`${re.suburb}-${re.postcode}`))})]}),I.postcode&&s.jsx("p",{className:"text-xs text-destructive",children:I.postcode})]}),p.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Promo Code"}),s.jsx(DC,{subtotal:xr.subtotal,onPromoApplied:Ca,appliedPromo:Ue,onPromoRemoved:ka})]}),s.jsx("hr",{}),p.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.map(re=>s.jsx("span",{className:"bg-seagreen text-white-800 border border-gray-200 rounded-full px-6 py-1 text-xs font-medium shadow-sm",children:re.name},re.id))}),p.length>0&&s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Subtotal:"}),s.jsx("span",{children:je(oi())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Convenience Fee (",rn.convenience_fee_percent,"%):"]}),s.jsx("span",{children:je(us())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Fee :"}),s.jsx("span",{children:je(cs())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Service Fee (",rn.service_fee_percent,"%):"]}),s.jsx("span",{children:je(ai())})]}),Ue&&no()>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",Ue.code,"):"]}),s.jsxs("span",{children:["-",je(no())]})]}),s.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{children:je(ro())})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"delivery-notes",children:"Delivery Notes"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:QB.map(re=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>ja(Ee=>Ee?Ee+(Ee.endsWith(`
`)?"":" ")+re:re),children:re},re))}),s.jsx(cn,{id:"delivery-notes",value:eo,onChange:re=>ja(re.target.value),placeholder:"Add any delivery instructions (optional)",className:I.deliveryNotes?"border-destructive":"",rows:2}),I.deliveryNotes&&s.jsx("p",{className:"text-xs text-destructive",children:I.deliveryNotes}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"font-medium text-orange-600",children:"Note:"})," The final amount may change after shopping. If it is higher, you will need to pay the difference before delivery."]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"terms",checked:q,onCheckedChange:K}),s.jsxs(ne,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Te,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Te,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]}),I.terms&&s.jsx("p",{className:"text-xs text-destructive",children:I.terms}),s.jsxs(ee,{type:"submit",className:"w-full",disabled:p.length===0,children:["Proceed to Payment ",s.jsx(ma,{})]})]})]})})]})}),s.jsx(Oi,{value:"upcoming-orders",children:s.jsx(YC,{orders:u,onSendMessage:ls})})]})})})]})},e9=()=>{var y;const{user:e}=un(),t=On(),n=Js(),[r,o]=g.useState(null),[l,c]=g.useState(!0),[u,f]=g.useState(null),{orderId:h,orderData:m,finalTotal:p}=n.state||{};g.useEffect(()=>{if(!h||!m||!p){t("/grocery-run");return}(async()=>{try{const _=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"pickup",orderId:h,orderData:m,amount:Math.round(p*100),user_id:e.id,productList:null})})).json();if(_.error)throw new Error(_.error);o(_.clientSecret)}catch(w){f(w.message)}finally{c(!1)}})()},[h,m,p,t,e.id]);const x=async j=>{try{const{error:w}=await ae.from("pickup_orders").update({payment_status:"paid",payment_data:j.payment_data,status:"processing"}).eq("id",h);if(w)throw w;te({title:"Payment Successful",description:"Your grocery run has been scheduled and payment confirmed."}),t("/grocery-run",{state:{tab:"upcoming-orders",message:"Your grocery run has been scheduled successfully!"}})}catch(w){console.error("Error updating order:",w),f("Payment successful but failed to update order. Please contact support.")}};return l?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):u?s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:u}),s.jsxs(ee,{onClick:()=>t("/grocery-run"),variant:"outline",children:[s.jsx(na,{className:"w-4 h-4 mr-2"}),"Return to Grocery Run"]})]})}):s.jsx("div",{className:"container py-8",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl md:max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs(Hn,{className:"bg-muted/30 border",children:[s.jsx(ar,{children:s.jsxs(lr,{className:"flex items-center",children:[s.jsx(ma,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),s.jsxs(qn,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pickup Date:"}),s.jsx("span",{children:new Date(m.pickup_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Time Slot:"}),s.jsx("span",{children:m.time_slot})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Stores:"}),s.jsxs("span",{children:[((y=m.stores)==null?void 0:y.length)||0," stores"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Contact:"}),s.jsx("span",{children:m.contact_preference==="whatsapp"?`WhatsApp: ${m.whatsapp_number}`:`Phone: ${m.phone_number}`})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"text-lg",children:je(p)})]})})]})]}),s.jsxs(Hn,{children:[s.jsx(ar,{children:s.jsx(lr,{children:"Payment Details"})}),s.jsx(qn,{children:s.jsx(wS,{clientSecret:r,onPaymentSuccess:x})})]})]})})})},t9=()=>{var Q,G,W,U,q,K;const{id:e}=wd(),{user:t}=un(),n=On(),[r,o]=g.useState(null),[l,c]=g.useState(!0),[u,f]=g.useState(""),[h,m]=g.useState(!1),[p,x]=g.useState({}),[y,j]=g.useState({}),[w,_]=g.useState({}),[N,C]=g.useState(!1),[k,P]=g.useState(!1);g.useEffect(()=>{if(!t){n("/grocery-run");return}E()},[e,t,n]);const E=async()=>{var I;try{const{data:L,error:B}=await ae.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address, store_suggested_items)
          )
        `).eq("id",e).eq("user_id",t.id).single();if(B)throw B;if(!L){te({variant:"destructive",title:"Order not found",description:"This order doesn't exist or you don't have access to it."}),n("/grocery-run");return}o(L);const Z={},$={};(I=L.pickup_order_stores)==null||I.forEach(J=>{Z[J.store_id]=J.notes||"",$[J.store_id]=[]}),x(Z),j($)}catch(L){console.error("Error fetching order details:",L),te({variant:"destructive",title:"Error",description:"Could not load order details."}),n("/grocery-run")}finally{c(!1)}},D=async()=>{if(!(!u.trim()||h)){m(!0);try{const I=r.admin_messages||[],L={from:"customer",message:u.trim(),timestamp:new Date().toISOString()},{error:B}=await ae.from("pickup_orders").update({admin_messages:[...I,L]}).eq("id",e);if(B)throw B;o(Z=>({...Z,admin_messages:[...I,L]})),f(""),te({title:"Message sent",description:"Your message has been sent to our team."})}catch(I){console.error("Error sending message:",I),te({variant:"destructive",title:"Error",description:"Could not send message."})}finally{m(!1)}}},O=async(I,L)=>{_(B=>({...B,[I]:!0}));try{const{error:B}=await ae.from("pickup_order_stores").update({notes:p[I]}).eq("id",L);if(B)throw B;te({title:"Notes saved",description:"Your shopping notes have been updated."}),o(Z=>({...Z,pickup_order_stores:Z.pickup_order_stores.map($=>$.id===L?{...$,notes:p[I]}:$)}))}catch(B){console.error("Error saving notes:",B),te({variant:"destructive",title:"Error",description:"Could not save notes."})}finally{_(B=>({...B,[I]:!1}))}},A=async I=>{P(!0);try{const{error:L}=await ae.from("pickup_orders").update({status:"cancelled",cancel_reason:I}).eq("id",r.id);if(L)throw L;o(B=>({...B,status:"cancelled",cancel_reason:I})),te({title:"Order Cancelled",description:"Your order has been cancelled."}),C(!1)}catch{te({variant:"destructive",title:"Error",description:"Could not cancel order."})}finally{P(!1)}},R=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r?s.jsx("div",{className:"container py-8",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Te,{to:"/account",children:s.jsxs(ee,{variant:"ghost",className:"mb-4",children:[s.jsx(na,{className:"w-4 h-4 mr-2"}),"Return to Account"]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Grocery Run #",r.id.slice(0,6).toUpperCase()]}),s.jsxs("p",{className:"text-muted-foreground",children:[r.pickup_date?Ct(new Date(r.pickup_date),"PPP"):"N/A","  ",r.time_slot]})]}),s.jsxs("div",{className:"flex items-center space-x-4 ",children:[s.jsxs(it,{className:z(r.payment_status),children:[s.jsx(ma,{})," ",r.payment_status.charAt(0).toUpperCase()+r.payment_status.slice(1)]}),s.jsxs(it,{className:R(r.status),children:[s.jsx(_$,{})," ",r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Hn,{className:"bg-gray-50",children:[s.jsx(ar,{children:s.jsxs(lr,{className:"flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),s.jsxs(qn,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tr,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r.pickup_date?Ct(new Date(r.pickup_date),"PPP"):"N/A"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ur,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r.time_slot]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r.delivery_address]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ad,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r.whatsapp_number||r.phone_number]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsx("span",{className:"text-lg font-bold",children:r.actual_total?je(r.actual_total):"(Est.)"+je(r.estimated_total)})]}),r.actual_total&&s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"font-medium",children:"Actual Total:"}),s.jsx("span",{className:"text-base font-semibold",children:je(r.actual_total)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Convenience Fee (",(Q=r.fees_data)==null?void 0:Q.convenience_fee_percent,") :"]}),s.jsx("span",{className:"text-sm",children:je(((G=r.fees_data)==null?void 0:G.convenienceFee)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Service Fee (",(W=r.fees_data)==null?void 0:W.service_fee_percent,") :"]}),s.jsx("span",{className:"text-sm",children:je(((U=r.fees_data)==null?void 0:U.serviceFee)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Delivery Fee:"}),s.jsx("span",{className:"text-sm",children:je(((q=r.fees_data)==null?void 0:q.deliveryFee)||0)})]})]})]}),s.jsxs(Hn,{children:[s.jsx(ar,{children:s.jsxs(lr,{className:"flex items-center",children:[s.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Store Orders"]})}),s.jsx(qn,{className:"space-y-6",children:(K=r.pickup_order_stores)==null?void 0:K.map((I,L)=>{var B,Z,$,J;return s.jsxs("div",{className:"space-y-4",children:[L>0&&s.jsx(Wl,{}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium mb-0",children:(B=I.stores)==null?void 0:B.name}),s.jsx(it,{className:R(I.status),variant:"outline",children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(Z=I.stores)==null?void 0:Z.address}),Array.isArray(($=I.stores)==null?void 0:$.store_suggested_items)&&I.stores.store_suggested_items.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:I.stores.store_suggested_items.map((le,ue)=>{const ye=new RegExp(`${le.name} x(\\d+)`,"g"),me=(p[I.store_id]||"").match(ye),ie=me?parseInt(me[0].split("x")[1],10):1,pe=!!me;return s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded px-2 py-1",children:[s.jsx("input",{type:"checkbox",checked:pe,onChange:Ne=>{let ve=p[I.store_id]||"";const de=`${le.name} x${ie}`;Ne.target.checked?ye.test(ve)?ve=ve.replace(ye,de):ve=ve?`${ve}
${de}`:de:ve=ve.replace(ye,"").replace(/^\s*[\r\n]/gm,"").trim(),x(Ce=>({...Ce,[I.store_id]:ve}))},disabled:r.status==="completed"||r.status==="cancelled"}),s.jsxs("span",{className:"text-xs",children:[le.name," : Qty"]}),s.jsx("input",{type:"number",min:1,value:ie,onChange:Ne=>{let ve=p[I.store_id]||"";const de=Math.max(1,parseInt(Ne.target.value)||1),Ce=`${le.name} x${de}`;ye.test(ve)?ve=ve.replace(ye,Ce):ve=ve?`${ve}
${Ce}`:Ce,x(Ue=>({...Ue,[I.store_id]:ve}))},className:"w-10 text-xs ml-1 border rounded px-1 py-0.5",disabled:!pe||r.status==="completed"||r.status==="cancelled"})]},le.name)})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:I.actual_total?je(I.actual_total):je(I.estimated_total)}),I.actual_total&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",je(I.estimated_total)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:`notes-${I.store_id}`,children:"Shopping List / Notes"}),s.jsx(cn,{id:`notes-${I.store_id}`,value:p[I.store_id]||"",onChange:le=>x(ue=>({...ue,[I.store_id]:le.target.value})),placeholder:"Add your shopping list or special instructions for this store...",rows:3,disabled:r.status==="completed"||r.status==="cancelled"}),r.status!=="completed"&&r.status!=="cancelled"&&s.jsx(ee,{size:"sm",onClick:()=>O(I.store_id,I.id),disabled:w[I.store_id],children:w[I.store_id]?"Saving...":"Save Notes"})]}),r.status!=="completed"&&r.status!=="cancelled"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Photos for ",(J=I.stores)==null?void 0:J.name]}),s.jsx(JB,{photos:y[I.store_id]||[],onPhotosChange:le=>j(ue=>({...ue,[I.store_id]:le})),maxPhotos:5})]})]},I.id)})})]}),r.photos&&r.photos.length>0&&s.jsxs(Hn,{children:[s.jsx(ar,{children:s.jsxs(lr,{className:"flex items-center",children:[s.jsx(IR,{className:"w-5 h-5 mr-2"}),"Your Photos"]})}),s.jsx(qn,{children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.photos.map((I,L)=>s.jsx("img",{src:I.data,alt:`Photo ${L+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(I.data,"_blank")},L))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Hn,{children:[s.jsx(ar,{children:s.jsxs(lr,{className:"flex items-center",children:[s.jsx(rc,{className:"w-5 h-5 mr-2"}),"Conversation"]})}),s.jsxs(qn,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.admin_messages&&r.admin_messages.length>0?r.admin_messages.map((I,L)=>s.jsxs("div",{className:`p-3 rounded text-sm ${I.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:I.from==="admin"?"Support Team":"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ct(new Date(I.timestamp),"MMM d, HH:mm")})]}),s.jsx("p",{children:I.message})]},L)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Send a message:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(cn,{value:u,onChange:I=>f(I.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(ee,{onClick:D,disabled:!u.trim()||h,size:"sm",children:h?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(va,{className:"w-4 h-4"})})]})]})]})]}),r.status!=="cancelled"&&r.status!=="completed"&&s.jsx(ee,{variant:"destructive",className:"w-full",onClick:()=>C(!0),children:"Cancel Order"})]})]}),s.jsx(OC,{open:N,onClose:()=>C(!1),onConfirm:A,loading:k})]})}):s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order not found"}),s.jsx(Te,{to:"/grocery-run",children:s.jsxs(ee,{variant:"outline",children:[s.jsx(na,{className:"w-4 h-4 mr-2"}),"Back to Grocery Run"]})})]})},n9=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),s.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us, including:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Name and contact information"}),s.jsx("li",{children:"Delivery address"}),s.jsx("li",{children:"Order history and preferences"}),s.jsx("li",{children:"Payment information"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Process and deliver your orders"}),s.jsx("li",{children:"Send order confirmations and updates"}),s.jsx("li",{children:"Improve our services"}),s.jsx("li",{children:"Communicate with you about promotions and updates"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),s.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We share your information only with:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery partners to fulfill your orders"}),s.jsx("li",{children:"Payment processors to handle transactions"}),s.jsx("li",{children:"Service providers who assist our operations"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Your Rights"}),s.jsx("p",{className:"mb-4",children:"You have the right to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information"}),s.jsx("li",{children:"Opt-out of marketing communications"})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Te,{to:"/",children:s.jsx(ee,{variant:"outline",children:"Back to Home"})})})]})}),r9=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms and Conditions"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"mb-4",children:"By accessing and using Groceroo's services, you agree to be bound by these Terms and Conditions. These terms govern your use of our website, mobile application, and delivery services."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Service Description"}),s.jsx("p",{className:"mb-4",children:"Groceroo provides an online grocery shopping and delivery service. We:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Accept orders for grocery items"}),s.jsx("li",{children:"Process payments securely"}),s.jsx("li",{children:"Deliver orders to specified addresses"}),s.jsx("li",{children:"Offer store pickup services"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Ordering and Delivery"}),s.jsx("p",{className:"mb-4",children:"When placing an order:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"You must provide accurate delivery information"}),s.jsx("li",{children:"Orders are subject to product availability"}),s.jsx("li",{children:"Delivery times are estimates and not guaranteed"}),s.jsx("li",{children:"Minimum order values may apply"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Pricing and Payment"}),s.jsx("p",{className:"mb-4",children:"All prices are in AUD and include applicable taxes. Additional fees may apply:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery fees"}),s.jsx("li",{children:"Service fees"}),s.jsx("li",{children:"Special handling fees"})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Te,{to:"/",children:s.jsx(ee,{variant:"outline",children:"Back to Home"})})})]})}),s9=()=>{var _;const{user:e}=un(),{cart:t,getCartTotal:n,clearCart:r}=is(),{addOrder:o}=uv(),l=On(),c=Js(),[u,f]=g.useState(null),[h,m]=g.useState(null),[p,x]=g.useState(!0),[y,j]=g.useState(null);g.useEffect(()=>{if(!t.length){l("/checkout");return}(async()=>{var C;try{const k=t.map(O=>({id:O.id,quantity:O.quantity})),P=(C=c.state)==null?void 0:C.orderData,D=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"delivery",productList:k,user_id:e.id,orderData:P,orderId:null})})).json();if(D.error)throw new Error(D.error);f(D.clientSecret),m(D.orderData)}catch(k){j(k.message)}finally{x(!1)}})()},[t,l,c.state,e.id]);const w=async N=>{try{const C=N.payment_data,k={...h,payment_data:C};console.log(k);const P=await o(k);r(),l(`/order-confirmation/${P.id}`)}catch(C){console.error("Error creating order:",C),j("Failed to create order. Please contact support.")}};return p?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y?s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:y}),s.jsx("button",{onClick:()=>l("/checkout"),className:"text-primary hover:underline",children:"Return to checkout"})]}):s.jsxs("div",{className:"container py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Complete Payment"}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Order Total"}),s.jsx("p",{className:"text-2xl font-bold",children:je(((_=c.state)==null?void 0:_.finalTotal)||0)})]}),s.jsx(wS,{clientSecret:u,onPaymentSuccess:w})]})]})},i9=()=>{const[e,t]=g.useState({name:"",email:"",subject:"",message:""}),[n,r]=g.useState(!1),o=async l=>{l.preventDefault(),r(!0),await new Promise(c=>setTimeout(c,1e3)),te({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),t({name:"",email:"",subject:"",message:""}),r(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions or feedback? We'd love to hear from you."}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(B1,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"contact@groceroo.com.au"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Ad,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"+61 478 477 036"})]})]})]}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send us a message"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Name"}),s.jsx(ge,{id:"name",value:e.name,onChange:l=>t(c=>({...c,name:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(ge,{id:"email",type:"email",value:e.email,onChange:l=>t(c=>({...c,email:l.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"subject",children:"Subject"}),s.jsx(ge,{id:"subject",value:e.subject,onChange:l=>t(c=>({...c,subject:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"message",children:"Message"}),s.jsx(cn,{id:"message",rows:5,value:e.message,onChange:l=>t(c=>({...c,message:l.target.value})),required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})})},o9=()=>{const[e,t]=g.useState({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),[n,r]=g.useState(!1),o=async l=>{l.preventDefault(),r(!0),await new Promise(c=>setTimeout(c,1e3)),te({title:"Application Received",description:"Thank you for your interest! We'll review your application and get back to you soon."}),t({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),r(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Work With Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Join our team and be part of Adelaide's growing grocery delivery service."}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expression of Interest"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(ge,{id:"name",value:e.name,onChange:l=>t(c=>({...c,name:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(ge,{id:"email",type:"email",value:e.email,onChange:l=>t(c=>({...c,email:l.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ge,{id:"phone",type:"tel",value:e.phone,onChange:l=>t(c=>({...c,phone:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Position of Interest"}),s.jsxs(Zd,{value:e.position,onValueChange:l=>t(c=>({...c,position:l})),className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{value:"driver",id:"driver"}),s.jsx(ne,{htmlFor:"driver",children:"Delivery Driver"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{value:"assistant",id:"assistant"}),s.jsx(ne,{htmlFor:"assistant",children:"In-Store Assistant"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"experience",children:"Relevant Experience"}),s.jsx(cn,{id:"experience",rows:3,value:e.experience,onChange:l=>t(c=>({...c,experience:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"availability",children:"Availability"}),s.jsx(cn,{id:"availability",rows:2,value:e.availability,onChange:l=>t(c=>({...c,availability:l.target.value})),placeholder:"Please specify your available days and hours",required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})]})})},a9=()=>s.jsx(bR,{children:s.jsx(wR,{children:s.jsx(m4,{children:s.jsx(zP,{children:s.jsxs("div",{className:"flex flex-col min-h-screen bg-background font-sans antialiased",children:[s.jsx(v3,{}),s.jsx("main",{className:"flex-1",children:s.jsx(Il,{mode:"wait",children:s.jsxs(MP,{children:[s.jsx(wt,{path:"/",element:s.jsx(C5,{})}),s.jsx(wt,{path:"/shop",element:s.jsx(n6,{})}),s.jsx(wt,{path:"/categories",element:s.jsx(s6,{})}),s.jsx(wt,{path:"/category/:id",element:s.jsx(i6,{})}),s.jsx(wt,{path:"/product/:id",element:s.jsx(o6,{})}),s.jsx(wt,{path:"/checkout",element:s.jsx(pB,{})}),s.jsx(wt,{path:"/grocery-run",element:s.jsx(ZB,{})}),s.jsx(wt,{path:"/pickup-payment",element:s.jsx(e9,{})}),s.jsx(wt,{path:"/pickup-order/:id",element:s.jsx(t9,{})}),s.jsx(wt,{path:"/order-confirmation/:id",element:s.jsx(gB,{})}),s.jsx(wt,{path:"/admin-login",element:s.jsx(yB,{})}),s.jsx(wt,{path:"/register",element:s.jsx(wB,{})}),s.jsx(wt,{path:"/account/*",element:s.jsx(CB,{})}),s.jsx(wt,{path:"/admin",element:s.jsx(KB,{})}),s.jsx(wt,{path:"/privacy",element:s.jsx(n9,{})}),s.jsx(wt,{path:"/terms",element:s.jsx(r9,{})}),s.jsx(wt,{path:"/stripe-payment",element:s.jsx(s9,{})}),s.jsx(wt,{path:"/contact",element:s.jsx(i9,{})}),s.jsx(wt,{path:"/work",element:s.jsx(o9,{})}),s.jsx(wt,{path:"*",element:s.jsxs("div",{children:[s.jsx("h1",{children:"404 - Page not Found"}),s.jsx("p",{children:"Click the top-left icon to return to home"})]})})]})})}),s.jsx(g3,{}),s.jsx(x3,{}),s.jsx(z3,{})]})})})})});Hk.createRoot(document.getElementById("root")).render(s.jsx(a9,{}));export{Kl as g};
