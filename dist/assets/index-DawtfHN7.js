function U2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Gh={exports:{}},hl={},Kh={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function V2(){if(My)return He;My=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _(O,q,ee){this.props=O,this.context=q,this.refs=w,this.updater=ee||y}_.prototype.isReactComponent={},_.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},_.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=_.prototype;function C(O,q,ee){this.props=O,this.context=q,this.refs=w,this.updater=ee||y}var k=C.prototype=new N;k.constructor=C,j(k,_.prototype),k.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(O,q,ee){var de,pe={},he=null,re=null;if(q!=null)for(de in q.ref!==void 0&&(re=q.ref),q.key!==void 0&&(he=""+q.key),q)D.call(q,de)&&!E.hasOwnProperty(de)&&(pe[de]=q[de]);var se=arguments.length-2;if(se===1)pe.children=ee;else if(1<se){for(var ge=Array(se),xe=0;xe<se;xe++)ge[xe]=arguments[xe+2];pe.children=ge}if(O&&O.defaultProps)for(de in se=O.defaultProps,se)pe[de]===void 0&&(pe[de]=se[de]);return{$$typeof:e,type:O,key:he,ref:re,props:pe,_owner:P.current}}function $(O,q){return{$$typeof:e,type:O.type,key:q,ref:O.ref,props:O.props,_owner:O._owner}}function H(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function te(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ee){return q[ee]})}var Z=/\/+/g;function Y(O,q){return typeof O=="object"&&O!==null&&O.key!=null?te(""+O.key):q.toString(36)}function L(O,q,ee,de,pe){var he=typeof O;(he==="undefined"||he==="boolean")&&(O=null);var re=!1;if(O===null)re=!0;else switch(he){case"string":case"number":re=!0;break;case"object":switch(O.$$typeof){case e:case t:re=!0}}if(re)return re=O,pe=pe(re),O=de===""?"."+Y(re,0):de,T(pe)?(ee="",O!=null&&(ee=O.replace(Z,"$&/")+"/"),L(pe,q,ee,"",function(xe){return xe})):pe!=null&&(H(pe)&&(pe=$(pe,ee+(!pe.key||re&&re.key===pe.key?"":(""+pe.key).replace(Z,"$&/")+"/")+O)),q.push(pe)),1;if(re=0,de=de===""?".":de+":",T(O))for(var se=0;se<O.length;se++){he=O[se];var ge=de+Y(he,se);re+=L(he,q,ee,ge,pe)}else if(ge=x(O),typeof ge=="function")for(O=ge.call(O),se=0;!(he=O.next()).done;)he=he.value,ge=de+Y(he,se++),re+=L(he,q,ee,ge,pe);else if(he==="object")throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return re}function B(O,q,ee){if(O==null)return O;var de=[],pe=0;return L(O,de,"","",function(he){return q.call(ee,he,pe++)}),de}function F(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=ee)},function(ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=ee)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var W={current:null},M={transition:null},z={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:M,ReactCurrentOwner:P};function X(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:B,forEach:function(O,q,ee){B(O,function(){q.apply(this,arguments)},ee)},count:function(O){var q=0;return B(O,function(){q++}),q},toArray:function(O){return B(O,function(q){return q})||[]},only:function(O){if(!H(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=_,He.Fragment=r,He.Profiler=o,He.PureComponent=C,He.StrictMode=n,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,He.act=X,He.cloneElement=function(O,q,ee){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var de=j({},O.props),pe=O.key,he=O.ref,re=O._owner;if(q!=null){if(q.ref!==void 0&&(he=q.ref,re=P.current),q.key!==void 0&&(pe=""+q.key),O.type&&O.type.defaultProps)var se=O.type.defaultProps;for(ge in q)D.call(q,ge)&&!E.hasOwnProperty(ge)&&(de[ge]=q[ge]===void 0&&se!==void 0?se[ge]:q[ge])}var ge=arguments.length-2;if(ge===1)de.children=ee;else if(1<ge){se=Array(ge);for(var xe=0;xe<ge;xe++)se[xe]=arguments[xe+2];de.children=se}return{$$typeof:e,type:O.type,key:pe,ref:he,props:de,_owner:re}},He.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},He.createElement=R,He.createFactory=function(O){var q=R.bind(null,O);return q.type=O,q},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:u,render:O}},He.isValidElement=H,He.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:F}},He.memo=function(O,q){return{$$typeof:h,type:O,compare:q===void 0?null:q}},He.startTransition=function(O){var q=M.transition;M.transition={};try{O()}finally{M.transition=q}},He.unstable_act=X,He.useCallback=function(O,q){return W.current.useCallback(O,q)},He.useContext=function(O){return W.current.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O){return W.current.useDeferredValue(O)},He.useEffect=function(O,q){return W.current.useEffect(O,q)},He.useId=function(){return W.current.useId()},He.useImperativeHandle=function(O,q,ee){return W.current.useImperativeHandle(O,q,ee)},He.useInsertionEffect=function(O,q){return W.current.useInsertionEffect(O,q)},He.useLayoutEffect=function(O,q){return W.current.useLayoutEffect(O,q)},He.useMemo=function(O,q){return W.current.useMemo(O,q)},He.useReducer=function(O,q,ee){return W.current.useReducer(O,q,ee)},He.useRef=function(O){return W.current.useRef(O)},He.useState=function(O){return W.current.useState(O)},He.useSyncExternalStore=function(O,q,ee){return W.current.useSyncExternalStore(O,q,ee)},He.useTransition=function(){return W.current.useTransition()},He.version="18.3.1",He}var Iy;function Bp(){return Iy||(Iy=1,Kh.exports=V2()),Kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function z2(){if(Ly)return hl;Ly=1;var e=Bp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,p={},x=null,y=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(y=f.ref);for(m in f)n.call(f,m)&&!a.hasOwnProperty(m)&&(p[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:t,type:u,key:x,ref:y,props:p,_owner:o.current}}return hl.Fragment=r,hl.jsx=c,hl.jsxs=c,hl}var Fy;function W2(){return Fy||(Fy=1,Gh.exports=z2()),Gh.exports}var s=W2(),v=Bp();const me=Jl(v),_d=U2({__proto__:null,default:me},[v]);var Tu={},Xh={exports:{}},xr={},Jh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function H2(){return Uy||(Uy=1,function(e){function t(M,z){var X=M.length;M.push(z);e:for(;0<X;){var O=X-1>>>1,q=M[O];if(0<o(q,z))M[O]=z,M[X]=q,X=O;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var z=M[0],X=M.pop();if(X!==z){M[0]=X;e:for(var O=0,q=M.length,ee=q>>>1;O<ee;){var de=2*(O+1)-1,pe=M[de],he=de+1,re=M[he];if(0>o(pe,X))he<q&&0>o(re,pe)?(M[O]=re,M[he]=X,O=he):(M[O]=pe,M[de]=X,O=de);else if(he<q&&0>o(re,X))M[O]=re,M[he]=X,O=he;else break e}}return z}function o(M,z){var X=M.sortIndex-z.sortIndex;return X!==0?X:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,p=null,x=3,y=!1,j=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var z=r(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=M)n(h),z.sortIndex=z.expirationTime,t(f,z);else break;z=r(h)}}function T(M){if(w=!1,k(M),!j)if(r(f)!==null)j=!0,F(D);else{var z=r(h);z!==null&&W(T,z.startTime-M)}}function D(M,z){j=!1,w&&(w=!1,N(R),R=-1),y=!0;var X=x;try{for(k(z),p=r(f);p!==null&&(!(p.expirationTime>z)||M&&!te());){var O=p.callback;if(typeof O=="function"){p.callback=null,x=p.priorityLevel;var q=O(p.expirationTime<=z);z=e.unstable_now(),typeof q=="function"?p.callback=q:p===r(f)&&n(f),k(z)}else n(f);p=r(f)}if(p!==null)var ee=!0;else{var de=r(h);de!==null&&W(T,de.startTime-z),ee=!1}return ee}finally{p=null,x=X,y=!1}}var P=!1,E=null,R=-1,$=5,H=-1;function te(){return!(e.unstable_now()-H<$)}function Z(){if(E!==null){var M=e.unstable_now();H=M;var z=!0;try{z=E(!0,M)}finally{z?Y():(P=!1,E=null)}}else P=!1}var Y;if(typeof C=="function")Y=function(){C(Z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=Z,Y=function(){B.postMessage(null)}}else Y=function(){_(Z,0)};function F(M){E=M,P||(P=!0,Y())}function W(M,z){R=_(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,F(D))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(M){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var X=x;x=z;try{return M()}finally{x=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=x;x=M;try{return z()}finally{x=X}},e.unstable_scheduleCallback=function(M,z,X){var O=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?O+X:O):X=O,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=X+q,M={id:m++,callback:z,priorityLevel:M,startTime:X,expirationTime:q,sortIndex:-1},X>O?(M.sortIndex=X,t(h,M),r(f)===null&&M===r(h)&&(w?(N(R),R=-1):w=!0,W(T,X-O))):(M.sortIndex=q,t(f,M),j||y||(j=!0,F(D))),M},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(M){var z=x;return function(){var X=x;x=z;try{return M.apply(this,arguments)}finally{x=X}}}}(Qh)),Qh}var By;function q2(){return By||(By=1,Jh.exports=H2()),Jh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function Y2(){if(Vy)return xr;Vy=1;var e=Bp(),t=q2();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(o[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(i){return f.call(p,i)?!0:f.call(m,i)?!1:h.test(i)?p[i]=!0:(m[i]=!0,!1)}function y(i,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,l,d,g){if(l===null||typeof l>"u"||y(i,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,d,g,b,S,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=S,this.removeEmptyString=A}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];_[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,C);_[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,C);_[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,C);_[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,d,g){var b=_.hasOwnProperty(l)?_[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,d,b,g)&&(d=null),g||b===null?x(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):b.mustUseProperty?i[b.propertyName]=d===null?b.type===3?!1:"":d:(l=b.attributeName,g=b.attributeNamespace,d===null?i.removeAttribute(l):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,g?i.setAttributeNS(g,l,d):i.setAttribute(l,d))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),te=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),M=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var X=Object.assign,O;function q(i){if(O===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+i}var ee=!1;function de(i,l){if(!i||ee)return"";ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(J){var g=J}Reflect.construct(i,[],l)}else{try{l.call()}catch(J){g=J}i.call(l.prototype)}else{try{throw Error()}catch(J){g=J}i()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var b=J.stack.split(`
`),S=g.stack.split(`
`),A=b.length-1,I=S.length-1;1<=A&&0<=I&&b[A]!==S[I];)I--;for(;1<=A&&0<=I;A--,I--)if(b[A]!==S[I]){if(A!==1||I!==1)do if(A--,I--,0>I||b[A]!==S[I]){var U=`
`+b[A].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=A&&0<=I);break}}}finally{ee=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?q(i):""}function pe(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=de(i.type,!1),i;case 11:return i=de(i.type.render,!1),i;case 1:return i=de(i.type,!0),i;default:return""}}function he(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case P:return"Portal";case $:return"Profiler";case R:return"StrictMode";case Y:return"Suspense";case L:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case te:return(i.displayName||"Context")+".Consumer";case H:return(i._context.displayName||"Context")+".Provider";case Z:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return l=i.displayName||null,l!==null?l:he(i.type)||"Memo";case F:l=i._payload,i=i._init;try{return he(i(l))}catch{}}return null}function re(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function se(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ge(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xe(i){var l=ge(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,S=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(A){g=""+A,S.call(this,A)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ie(i){i._valueTracker||(i._valueTracker=xe(i))}function be(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return i&&(g=ge(i)?i.checked?"true":"false":i.value),i=g,i!==d?(l.setValue(i),!0):!1}function ze(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ue(i,l){var d=l.checked;return X({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Ze(i,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=se(l.value!=null?l.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function or(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function gt(i,l){or(i,l);var d=se(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Kr(i,l.type,d):l.hasOwnProperty("defaultValue")&&Kr(i,l.type,se(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ds(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Kr(i,l,d){(l!=="number"||ze(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Or=Array.isArray;function fs(i,l,d,g){if(i=i.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=l.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&g&&(i[d].defaultSelected=!0)}else{for(d=""+se(d),l=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,g&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function mc(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xr(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(Or(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:se(d)}}function pc(i,l){var d=se(l.value),g=se(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function no(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Ca(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fi(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Ca(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var so,io=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,b){MSApp.execUnsafeLocalFunction(function(){return i(l,d,g,b)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=so.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function hs(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},df=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(i){df.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),hi[l]=hi[i]})});function vc(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||hi.hasOwnProperty(i)&&hi[i]?(""+l).trim():l+"px"}function gc(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,b=vc(d,l[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,b):i[d]=b}}var ff=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(i,l){if(l){if(ff[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Pa(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=null;function Ea(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ta=null,ms=null,ps=null;function xc(i){if(i=Qa(i)){if(typeof Ta!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Hc(l),Ta(i.stateNode,i.type,l))}}function yc(i){ms?ps?ps.push(i):ps=[i]:ms=i}function wc(){if(ms){var i=ms,l=ps;if(ps=ms=null,xc(i),l)for(i=0;i<l.length;i++)xc(l[i])}}function bc(i,l){return i(l)}function jc(){}var vs=!1;function gs(i,l,d){if(vs)return i(l,d);vs=!0;try{return bc(i,l,d)}finally{vs=!1,(ms!==null||ps!==null)&&(jc(),wc())}}function Mn(i,l){var d=i.stateNode;if(d===null)return null;var g=Hc(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var In=!1;if(u)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){In=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{In=!1}function _c(i,l,d,g,b,S,A,I,U){var J=Array.prototype.slice.call(arguments,3);try{l.apply(d,J)}catch(ue){this.onError(ue)}}var ao=!1,Ln=null,lo=!1,Aa=null,Sc={onError:function(i){ao=!0,Ln=i}};function ae(i,l,d,g,b,S,A,I,U){ao=!1,Ln=null,_c.apply(Sc,arguments)}function Ee(i,l,d,g,b,S,A,I,U){if(ae.apply(this,arguments),ao){if(ao){var J=Ln;ao=!1,Ln=null}else throw Error(r(198));lo||(lo=!0,Aa=J)}}function Xe(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function xt(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function qt(i){if(Xe(i)!==i)throw Error(r(188))}function $r(i){var l=i.alternate;if(!l){if(l=Xe(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,g=l;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return qt(b),i;if(S===g)return qt(b),l;S=S.sibling}throw Error(r(188))}if(d.return!==g.return)d=b,g=S;else{for(var A=!1,I=b.child;I;){if(I===d){A=!0,d=b,g=S;break}if(I===g){A=!0,g=b,d=S;break}I=I.sibling}if(!A){for(I=S.child;I;){if(I===d){A=!0,d=S,g=b;break}if(I===g){A=!0,g=S,d=b;break}I=I.sibling}if(!A)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function fr(i){return i=$r(i),i!==null?Jr(i):null}function Jr(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Jr(i);if(l!==null)return l;i=i.sibling}return null}var xs=t.unstable_scheduleCallback,Fn=t.unstable_cancelCallback,Sr=t.unstable_shouldYield,Da=t.unstable_requestPaint,ft=t.unstable_now,hf=t.unstable_getCurrentPriorityLevel,Ra=t.unstable_ImmediatePriority,Nc=t.unstable_UserBlockingPriority,co=t.unstable_NormalPriority,mf=t.unstable_LowPriority,fg=t.unstable_IdlePriority,Cc=null,wn=null;function tk(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Cc,i,void 0,(i.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:sk,rk=Math.log,nk=Math.LN2;function sk(i){return i>>>=0,i===0?32:31-(rk(i)/nk|0)|0}var kc=64,Pc=4194304;function Oa(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ec(i,l){var d=i.pendingLanes;if(d===0)return 0;var g=0,b=i.suspendedLanes,S=i.pingedLanes,A=d&268435455;if(A!==0){var I=A&~b;I!==0?g=Oa(I):(S&=A,S!==0&&(g=Oa(S)))}else A=d&~b,A!==0?g=Oa(A):S!==0&&(g=Oa(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,S=l&-l,b>=S||b===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)d=31-Qr(l),b=1<<d,g|=i[d],l&=~b;return g}function ik(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ok(i,l){for(var d=i.suspendedLanes,g=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes;0<S;){var A=31-Qr(S),I=1<<A,U=b[A];U===-1?((I&d)===0||(I&g)!==0)&&(b[A]=ik(I,l)):U<=l&&(i.expiredLanes|=I),S&=~I}}function pf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function hg(){var i=kc;return kc<<=1,(kc&4194240)===0&&(kc=64),i}function vf(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function $a(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Qr(l),i[l]=d}function ak(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var b=31-Qr(d),S=1<<b;l[b]=0,g[b]=-1,i[b]=-1,d&=~S}}function gf(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var g=31-Qr(d),b=1<<g;b&l|i[g]&l&&(i[g]|=l),d&=~b}}var tt=0;function mg(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var pg,xf,vg,gg,xg,yf=!1,Tc=[],ys=null,ws=null,bs=null,Ma=new Map,Ia=new Map,js=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yg(i,l){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Ma.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(l.pointerId)}}function La(i,l,d,g,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},l!==null&&(l=Qa(l),l!==null&&xf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function ck(i,l,d,g,b){switch(l){case"focusin":return ys=La(ys,i,l,d,g,b),!0;case"dragenter":return ws=La(ws,i,l,d,g,b),!0;case"mouseover":return bs=La(bs,i,l,d,g,b),!0;case"pointerover":var S=b.pointerId;return Ma.set(S,La(Ma.get(S)||null,i,l,d,g,b)),!0;case"gotpointercapture":return S=b.pointerId,Ia.set(S,La(Ia.get(S)||null,i,l,d,g,b)),!0}return!1}function wg(i){var l=mi(i.target);if(l!==null){var d=Xe(l);if(d!==null){if(l=d.tag,l===13){if(l=xt(d),l!==null){i.blockedOn=l,xg(i.priority,function(){vg(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ac(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=bf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);oo=g,d.target.dispatchEvent(g),oo=null}else return l=Qa(d),l!==null&&xf(l),i.blockedOn=d,!1;l.shift()}return!0}function bg(i,l,d){Ac(i)&&d.delete(l)}function uk(){yf=!1,ys!==null&&Ac(ys)&&(ys=null),ws!==null&&Ac(ws)&&(ws=null),bs!==null&&Ac(bs)&&(bs=null),Ma.forEach(bg),Ia.forEach(bg)}function Fa(i,l){i.blockedOn===l&&(i.blockedOn=null,yf||(yf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uk)))}function Ua(i){function l(b){return Fa(b,i)}if(0<Tc.length){Fa(Tc[0],i);for(var d=1;d<Tc.length;d++){var g=Tc[d];g.blockedOn===i&&(g.blockedOn=null)}}for(ys!==null&&Fa(ys,i),ws!==null&&Fa(ws,i),bs!==null&&Fa(bs,i),Ma.forEach(l),Ia.forEach(l),d=0;d<js.length;d++)g=js[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<js.length&&(d=js[0],d.blockedOn===null);)wg(d),d.blockedOn===null&&js.shift()}var uo=T.ReactCurrentBatchConfig,Dc=!0;function dk(i,l,d,g){var b=tt,S=uo.transition;uo.transition=null;try{tt=1,wf(i,l,d,g)}finally{tt=b,uo.transition=S}}function fk(i,l,d,g){var b=tt,S=uo.transition;uo.transition=null;try{tt=4,wf(i,l,d,g)}finally{tt=b,uo.transition=S}}function wf(i,l,d,g){if(Dc){var b=bf(i,l,d,g);if(b===null)Lf(i,l,g,Rc,d),yg(i,g);else if(ck(b,i,l,d,g))g.stopPropagation();else if(yg(i,g),l&4&&-1<lk.indexOf(i)){for(;b!==null;){var S=Qa(b);if(S!==null&&pg(S),S=bf(i,l,d,g),S===null&&Lf(i,l,g,Rc,d),S===b)break;b=S}b!==null&&g.stopPropagation()}else Lf(i,l,g,null,d)}}var Rc=null;function bf(i,l,d,g){if(Rc=null,i=Ea(g),i=mi(i),i!==null)if(l=Xe(i),l===null)i=null;else if(d=l.tag,d===13){if(i=xt(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Rc=i,null}function jg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hf()){case Ra:return 1;case Nc:return 4;case co:case mf:return 16;case fg:return 536870912;default:return 16}default:return 16}}var _s=null,jf=null,Oc=null;function _g(){if(Oc)return Oc;var i,l=jf,d=l.length,g,b="value"in _s?_s.value:_s.textContent,S=b.length;for(i=0;i<d&&l[i]===b[i];i++);var A=d-i;for(g=1;g<=A&&l[d-g]===b[S-g];g++);return Oc=b.slice(i,1<g?1-g:void 0)}function $c(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Mc(){return!0}function Sg(){return!1}function Nr(i){function l(d,g,b,S,A){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Mc:Sg,this.isPropagationStopped=Sg,this}return X(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),l}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Nr(fo),Ba=X({},fo,{view:0,detail:0}),hk=Nr(Ba),Sf,Nf,Va,Ic=X({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Va&&(Va&&i.type==="mousemove"?(Sf=i.screenX-Va.screenX,Nf=i.screenY-Va.screenY):Nf=Sf=0,Va=i),Sf)},movementY:function(i){return"movementY"in i?i.movementY:Nf}}),Ng=Nr(Ic),mk=X({},Ic,{dataTransfer:0}),pk=Nr(mk),vk=X({},Ba,{relatedTarget:0}),Cf=Nr(vk),gk=X({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=Nr(gk),yk=X({},fo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wk=Nr(yk),bk=X({},fo,{data:0}),Cg=Nr(bk),jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Sk[i])?!!l[i]:!1}function kf(){return Nk}var Ck=X({},Ba,{key:function(i){if(i.key){var l=jk[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=$c(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_k[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(i){return i.type==="keypress"?$c(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$c(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kk=Nr(Ck),Pk=X({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kg=Nr(Pk),Ek=X({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),Tk=Nr(Ek),Ak=X({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=Nr(Ak),Rk=X({},Ic,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ok=Nr(Rk),$k=[9,13,27,32],Pf=u&&"CompositionEvent"in window,za=null;u&&"documentMode"in document&&(za=document.documentMode);var Mk=u&&"TextEvent"in window&&!za,Pg=u&&(!Pf||za&&8<za&&11>=za),Eg=" ",Tg=!1;function Ag(i,l){switch(i){case"keyup":return $k.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ho=!1;function Ik(i,l){switch(i){case"compositionend":return Dg(l);case"keypress":return l.which!==32?null:(Tg=!0,Eg);case"textInput":return i=l.data,i===Eg&&Tg?null:i;default:return null}}function Lk(i,l){if(ho)return i==="compositionend"||!Pf&&Ag(i,l)?(i=_g(),Oc=jf=_s=null,ho=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Pg&&l.locale!=="ko"?null:l.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Fk[i.type]:l==="textarea"}function Og(i,l,d,g){yc(g),l=Vc(l,"onChange"),0<l.length&&(d=new _f("onChange","change",null,d,g),i.push({event:d,listeners:l}))}var Wa=null,Ha=null;function Uk(i){Qg(i,0)}function Lc(i){var l=xo(i);if(be(l))return i}function Bk(i,l){if(i==="change")return l}var $g=!1;if(u){var Ef;if(u){var Tf="oninput"in document;if(!Tf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Tf=typeof Mg.oninput=="function"}Ef=Tf}else Ef=!1;$g=Ef&&(!document.documentMode||9<document.documentMode)}function Ig(){Wa&&(Wa.detachEvent("onpropertychange",Lg),Ha=Wa=null)}function Lg(i){if(i.propertyName==="value"&&Lc(Ha)){var l=[];Og(l,Ha,i,Ea(i)),gs(Uk,l)}}function Vk(i,l,d){i==="focusin"?(Ig(),Wa=l,Ha=d,Wa.attachEvent("onpropertychange",Lg)):i==="focusout"&&Ig()}function zk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(Ha)}function Wk(i,l){if(i==="click")return Lc(l)}function Hk(i,l){if(i==="input"||i==="change")return Lc(l)}function qk(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Zr=typeof Object.is=="function"?Object.is:qk;function qa(i,l){if(Zr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!f.call(l,b)||!Zr(i[b],l[b]))return!1}return!0}function Fg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ug(i,l){var d=Fg(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=l&&g>=l)return{node:d,offset:l-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Fg(d)}}function Bg(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Bg(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Vg(){for(var i=window,l=ze();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=ze(i.document)}return l}function Af(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Yk(i){var l=Vg(),d=i.focusedElem,g=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&Bg(d.ownerDocument.documentElement,d)){if(g!==null&&Af(d)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var b=d.textContent.length,S=Math.min(g.start,b);g=g.end===void 0?S:Math.min(g.end,b),!i.extend&&S>g&&(b=g,g=S,S=b),b=Ug(d,S);var A=Ug(d,g);b&&A&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),i.removeAllRanges(),S>g?(i.addRange(l),i.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Gk=u&&"documentMode"in document&&11>=document.documentMode,mo=null,Df=null,Ya=null,Rf=!1;function zg(i,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Rf||mo==null||mo!==ze(g)||(g=mo,"selectionStart"in g&&Af(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ya&&qa(Ya,g)||(Ya=g,g=Vc(Df,"onSelect"),0<g.length&&(l=new _f("onSelect","select",null,l,d),i.push({event:l,listeners:g}),l.target=mo)))}function Fc(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var po={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},Of={},Wg={};u&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Uc(i){if(Of[i])return Of[i];if(!po[i])return i;var l=po[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Wg)return Of[i]=l[d];return i}var Hg=Uc("animationend"),qg=Uc("animationiteration"),Yg=Uc("animationstart"),Gg=Uc("transitionend"),Kg=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(i,l){Kg.set(i,l),a(l,[i])}for(var $f=0;$f<Xg.length;$f++){var Mf=Xg[$f],Kk=Mf.toLowerCase(),Xk=Mf[0].toUpperCase()+Mf.slice(1);Ss(Kk,"on"+Xk)}Ss(Hg,"onAnimationEnd"),Ss(qg,"onAnimationIteration"),Ss(Yg,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(Gg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Jg(i,l,d){var g=i.type||"unknown-event";i.currentTarget=d,Ee(g,l,void 0,i),i.currentTarget=null}function Qg(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],b=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var A=g.length-1;0<=A;A--){var I=g[A],U=I.instance,J=I.currentTarget;if(I=I.listener,U!==S&&b.isPropagationStopped())break e;Jg(b,I,J),S=U}else for(A=0;A<g.length;A++){if(I=g[A],U=I.instance,J=I.currentTarget,I=I.listener,U!==S&&b.isPropagationStopped())break e;Jg(b,I,J),S=U}}}if(lo)throw i=Aa,lo=!1,Aa=null,i}function lt(i,l){var d=l[Wf];d===void 0&&(d=l[Wf]=new Set);var g=i+"__bubble";d.has(g)||(Zg(l,i,2,!1),d.add(g))}function If(i,l,d){var g=0;l&&(g|=4),Zg(d,i,g,l)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Ka(i){if(!i[Bc]){i[Bc]=!0,n.forEach(function(d){d!=="selectionchange"&&(Jk.has(d)||If(d,!1,i),If(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Bc]||(l[Bc]=!0,If("selectionchange",!1,l))}}function Zg(i,l,d,g){switch(jg(l)){case 1:var b=dk;break;case 4:b=fk;break;default:b=wf}d=b.bind(null,l,d,i),b=void 0,!In||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?i.addEventListener(l,d,{capture:!0,passive:b}):i.addEventListener(l,d,!0):b!==void 0?i.addEventListener(l,d,{passive:b}):i.addEventListener(l,d,!1)}function Lf(i,l,d,g,b){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var I=g.stateNode.containerInfo;if(I===b||I.nodeType===8&&I.parentNode===b)break;if(A===4)for(A=g.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===b||U.nodeType===8&&U.parentNode===b))return;A=A.return}for(;I!==null;){if(A=mi(I),A===null)return;if(U=A.tag,U===5||U===6){g=S=A;continue e}I=I.parentNode}}g=g.return}gs(function(){var J=S,ue=Ea(d),fe=[];e:{var le=Kg.get(i);if(le!==void 0){var we=_f,Ne=i;switch(i){case"keypress":if($c(d)===0)break e;case"keydown":case"keyup":we=kk;break;case"focusin":Ne="focus",we=Cf;break;case"focusout":Ne="blur",we=Cf;break;case"beforeblur":case"afterblur":we=Cf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=pk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Tk;break;case Hg:case qg:case Yg:we=xk;break;case Gg:we=Dk;break;case"scroll":we=hk;break;case"wheel":we=Ok;break;case"copy":case"cut":case"paste":we=wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=kg}var Ce=(l&4)!==0,wt=!Ce&&i==="scroll",G=Ce?le!==null?le+"Capture":null:le;Ce=[];for(var V=J,K;V!==null;){K=V;var ve=K.stateNode;if(K.tag===5&&ve!==null&&(K=ve,G!==null&&(ve=Mn(V,G),ve!=null&&Ce.push(Xa(V,ve,K)))),wt)break;V=V.return}0<Ce.length&&(le=new we(le,Ne,null,d,ue),fe.push({event:le,listeners:Ce}))}}if((l&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",le&&d!==oo&&(Ne=d.relatedTarget||d.fromElement)&&(mi(Ne)||Ne[Un]))break e;if((we||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Ne=d.relatedTarget||d.toElement,we=J,Ne=Ne?mi(Ne):null,Ne!==null&&(wt=Xe(Ne),Ne!==wt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(we=null,Ne=J),we!==Ne)){if(Ce=Ng,ve="onMouseLeave",G="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=kg,ve="onPointerLeave",G="onPointerEnter",V="pointer"),wt=we==null?le:xo(we),K=Ne==null?le:xo(Ne),le=new Ce(ve,V+"leave",we,d,ue),le.target=wt,le.relatedTarget=K,ve=null,mi(ue)===J&&(Ce=new Ce(G,V+"enter",Ne,d,ue),Ce.target=K,Ce.relatedTarget=wt,ve=Ce),wt=ve,we&&Ne)t:{for(Ce=we,G=Ne,V=0,K=Ce;K;K=vo(K))V++;for(K=0,ve=G;ve;ve=vo(ve))K++;for(;0<V-K;)Ce=vo(Ce),V--;for(;0<K-V;)G=vo(G),K--;for(;V--;){if(Ce===G||G!==null&&Ce===G.alternate)break t;Ce=vo(Ce),G=vo(G)}Ce=null}else Ce=null;we!==null&&ex(fe,le,we,Ce,!1),Ne!==null&&wt!==null&&ex(fe,wt,Ne,Ce,!0)}}e:{if(le=J?xo(J):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var ke=Bk;else if(Rg(le))if($g)ke=Hk;else{ke=zk;var Re=Vk}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(ke=Wk);if(ke&&(ke=ke(i,J))){Og(fe,ke,d,ue);break e}Re&&Re(i,le,J),i==="focusout"&&(Re=le._wrapperState)&&Re.controlled&&le.type==="number"&&Kr(le,"number",le.value)}switch(Re=J?xo(J):window,i){case"focusin":(Rg(Re)||Re.contentEditable==="true")&&(mo=Re,Df=J,Ya=null);break;case"focusout":Ya=Df=mo=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,zg(fe,d,ue);break;case"selectionchange":if(Gk)break;case"keydown":case"keyup":zg(fe,d,ue)}var Oe;if(Pf)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ho?Ag(i,d)&&(Le="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(Pg&&d.locale!=="ko"&&(ho||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ho&&(Oe=_g()):(_s=ue,jf="value"in _s?_s.value:_s.textContent,ho=!0)),Re=Vc(J,Le),0<Re.length&&(Le=new Cg(Le,i,null,d,ue),fe.push({event:Le,listeners:Re}),Oe?Le.data=Oe:(Oe=Dg(d),Oe!==null&&(Le.data=Oe)))),(Oe=Mk?Ik(i,d):Lk(i,d))&&(J=Vc(J,"onBeforeInput"),0<J.length&&(ue=new Cg("onBeforeInput","beforeinput",null,d,ue),fe.push({event:ue,listeners:J}),ue.data=Oe))}Qg(fe,l)})}function Xa(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Vc(i,l){for(var d=l+"Capture",g=[];i!==null;){var b=i,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=Mn(i,d),S!=null&&g.unshift(Xa(i,S,b)),S=Mn(i,l),S!=null&&g.push(Xa(i,S,b))),i=i.return}return g}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ex(i,l,d,g,b){for(var S=l._reactName,A=[];d!==null&&d!==g;){var I=d,U=I.alternate,J=I.stateNode;if(U!==null&&U===g)break;I.tag===5&&J!==null&&(I=J,b?(U=Mn(d,S),U!=null&&A.unshift(Xa(d,U,I))):b||(U=Mn(d,S),U!=null&&A.push(Xa(d,U,I)))),d=d.return}A.length!==0&&i.push({event:l,listeners:A})}var Qk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function tx(i){return(typeof i=="string"?i:""+i).replace(Qk,`
`).replace(Zk,"")}function zc(i,l,d){if(l=tx(l),tx(i)!==l&&d)throw Error(r(425))}function Wc(){}var Ff=null,Uf=null;function Bf(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,rx=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof rx<"u"?function(i){return rx.resolve(null).then(i).catch(r2)}:Vf;function r2(i){setTimeout(function(){throw i})}function zf(i,l){var d=l,g=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(g===0){i.removeChild(b),Ua(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=b}while(d);Ua(l)}function Ns(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function nx(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var go=Math.random().toString(36).slice(2),bn="__reactFiber$"+go,Ja="__reactProps$"+go,Un="__reactContainer$"+go,Wf="__reactEvents$"+go,n2="__reactListeners$"+go,s2="__reactHandles$"+go;function mi(i){var l=i[bn];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Un]||d[bn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=nx(i);i!==null;){if(d=i[bn])return d;i=nx(i)}return l}i=d,d=i.parentNode}return null}function Qa(i){return i=i[bn]||i[Un],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Hc(i){return i[Ja]||null}var Hf=[],yo=-1;function Cs(i){return{current:i}}function ct(i){0>yo||(i.current=Hf[yo],Hf[yo]=null,yo--)}function st(i,l){yo++,Hf[yo]=i.current,i.current=l}var ks={},Qt=Cs(ks),hr=Cs(!1),pi=ks;function wo(i,l){var d=i.type.contextTypes;if(!d)return ks;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in d)b[S]=l[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=b),b}function mr(i){return i=i.childContextTypes,i!=null}function qc(){ct(hr),ct(Qt)}function sx(i,l,d){if(Qt.current!==ks)throw Error(r(168));st(Qt,l),st(hr,d)}function ix(i,l,d){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(r(108,re(i)||"Unknown",b));return X({},d,g)}function Yc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ks,pi=Qt.current,st(Qt,i),st(hr,hr.current),!0}function ox(i,l,d){var g=i.stateNode;if(!g)throw Error(r(169));d?(i=ix(i,l,pi),g.__reactInternalMemoizedMergedChildContext=i,ct(hr),ct(Qt),st(Qt,i)):ct(hr),st(hr,d)}var Bn=null,Gc=!1,qf=!1;function ax(i){Bn===null?Bn=[i]:Bn.push(i)}function i2(i){Gc=!0,ax(i)}function Ps(){if(!qf&&Bn!==null){qf=!0;var i=0,l=tt;try{var d=Bn;for(tt=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}Bn=null,Gc=!1}catch(b){throw Bn!==null&&(Bn=Bn.slice(i+1)),xs(Ra,Ps),b}finally{tt=l,qf=!1}}return null}var bo=[],jo=0,Kc=null,Xc=0,Mr=[],Ir=0,vi=null,Vn=1,zn="";function gi(i,l){bo[jo++]=Xc,bo[jo++]=Kc,Kc=i,Xc=l}function lx(i,l,d){Mr[Ir++]=Vn,Mr[Ir++]=zn,Mr[Ir++]=vi,vi=i;var g=Vn;i=zn;var b=32-Qr(g)-1;g&=~(1<<b),d+=1;var S=32-Qr(l)+b;if(30<S){var A=b-b%5;S=(g&(1<<A)-1).toString(32),g>>=A,b-=A,Vn=1<<32-Qr(l)+b|d<<b|g,zn=S+i}else Vn=1<<S|d<<b|g,zn=i}function Yf(i){i.return!==null&&(gi(i,1),lx(i,1,0))}function Gf(i){for(;i===Kc;)Kc=bo[--jo],bo[jo]=null,Xc=bo[--jo],bo[jo]=null;for(;i===vi;)vi=Mr[--Ir],Mr[Ir]=null,zn=Mr[--Ir],Mr[Ir]=null,Vn=Mr[--Ir],Mr[Ir]=null}var Cr=null,kr=null,dt=!1,en=null;function cx(i,l){var d=Br(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function ux(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Cr=i,kr=Ns(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Cr=i,kr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=vi!==null?{id:Vn,overflow:zn}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Br(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,Cr=i,kr=null,!0):!1;default:return!1}}function Kf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Xf(i){if(dt){var l=kr;if(l){var d=l;if(!ux(i,l)){if(Kf(i))throw Error(r(418));l=Ns(d.nextSibling);var g=Cr;l&&ux(i,l)?cx(g,d):(i.flags=i.flags&-4097|2,dt=!1,Cr=i)}}else{if(Kf(i))throw Error(r(418));i.flags=i.flags&-4097|2,dt=!1,Cr=i}}}function dx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cr=i}function Jc(i){if(i!==Cr)return!1;if(!dt)return dx(i),dt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Bf(i.type,i.memoizedProps)),l&&(l=kr)){if(Kf(i))throw fx(),Error(r(418));for(;l;)cx(i,l),l=Ns(l.nextSibling)}if(dx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){kr=Ns(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}kr=null}}else kr=Cr?Ns(i.stateNode.nextSibling):null;return!0}function fx(){for(var i=kr;i;)i=Ns(i.nextSibling)}function _o(){kr=Cr=null,dt=!1}function Jf(i){en===null?en=[i]:en.push(i)}var o2=T.ReactCurrentBatchConfig;function Za(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,i));var b=g,S=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(A){var I=b.refs;A===null?delete I[S]:I[S]=A},l._stringRef=S,l)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function Qc(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function hx(i){var l=i._init;return l(i._payload)}function mx(i){function l(G,V){if(i){var K=G.deletions;K===null?(G.deletions=[V],G.flags|=16):K.push(V)}}function d(G,V){if(!i)return null;for(;V!==null;)l(G,V),V=V.sibling;return null}function g(G,V){for(G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function b(G,V){return G=Ms(G,V),G.index=0,G.sibling=null,G}function S(G,V,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<V?(G.flags|=2,V):K):(G.flags|=2,V)):(G.flags|=1048576,V)}function A(G){return i&&G.alternate===null&&(G.flags|=2),G}function I(G,V,K,ve){return V===null||V.tag!==6?(V=Vh(K,G.mode,ve),V.return=G,V):(V=b(V,K),V.return=G,V)}function U(G,V,K,ve){var ke=K.type;return ke===E?ue(G,V,K.props.children,ve,K.key):V!==null&&(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===F&&hx(ke)===V.type)?(ve=b(V,K.props),ve.ref=Za(G,V,K),ve.return=G,ve):(ve=ju(K.type,K.key,K.props,null,G.mode,ve),ve.ref=Za(G,V,K),ve.return=G,ve)}function J(G,V,K,ve){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=zh(K,G.mode,ve),V.return=G,V):(V=b(V,K.children||[]),V.return=G,V)}function ue(G,V,K,ve,ke){return V===null||V.tag!==7?(V=Ni(K,G.mode,ve,ke),V.return=G,V):(V=b(V,K),V.return=G,V)}function fe(G,V,K){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Vh(""+V,G.mode,K),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return K=ju(V.type,V.key,V.props,null,G.mode,K),K.ref=Za(G,null,V),K.return=G,K;case P:return V=zh(V,G.mode,K),V.return=G,V;case F:var ve=V._init;return fe(G,ve(V._payload),K)}if(Or(V)||z(V))return V=Ni(V,G.mode,K,null),V.return=G,V;Qc(G,V)}return null}function le(G,V,K,ve){var ke=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ke!==null?null:I(G,V,""+K,ve);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return K.key===ke?U(G,V,K,ve):null;case P:return K.key===ke?J(G,V,K,ve):null;case F:return ke=K._init,le(G,V,ke(K._payload),ve)}if(Or(K)||z(K))return ke!==null?null:ue(G,V,K,ve,null);Qc(G,K)}return null}function we(G,V,K,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return G=G.get(K)||null,I(V,G,""+ve,ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:return G=G.get(ve.key===null?K:ve.key)||null,U(V,G,ve,ke);case P:return G=G.get(ve.key===null?K:ve.key)||null,J(V,G,ve,ke);case F:var Re=ve._init;return we(G,V,K,Re(ve._payload),ke)}if(Or(ve)||z(ve))return G=G.get(K)||null,ue(V,G,ve,ke,null);Qc(V,ve)}return null}function Ne(G,V,K,ve){for(var ke=null,Re=null,Oe=V,Le=V=0,It=null;Oe!==null&&Le<K.length;Le++){Oe.index>Le?(It=Oe,Oe=null):It=Oe.sibling;var Qe=le(G,Oe,K[Le],ve);if(Qe===null){Oe===null&&(Oe=It);break}i&&Oe&&Qe.alternate===null&&l(G,Oe),V=S(Qe,V,Le),Re===null?ke=Qe:Re.sibling=Qe,Re=Qe,Oe=It}if(Le===K.length)return d(G,Oe),dt&&gi(G,Le),ke;if(Oe===null){for(;Le<K.length;Le++)Oe=fe(G,K[Le],ve),Oe!==null&&(V=S(Oe,V,Le),Re===null?ke=Oe:Re.sibling=Oe,Re=Oe);return dt&&gi(G,Le),ke}for(Oe=g(G,Oe);Le<K.length;Le++)It=we(Oe,G,Le,K[Le],ve),It!==null&&(i&&It.alternate!==null&&Oe.delete(It.key===null?Le:It.key),V=S(It,V,Le),Re===null?ke=It:Re.sibling=It,Re=It);return i&&Oe.forEach(function(Is){return l(G,Is)}),dt&&gi(G,Le),ke}function Ce(G,V,K,ve){var ke=z(K);if(typeof ke!="function")throw Error(r(150));if(K=ke.call(K),K==null)throw Error(r(151));for(var Re=ke=null,Oe=V,Le=V=0,It=null,Qe=K.next();Oe!==null&&!Qe.done;Le++,Qe=K.next()){Oe.index>Le?(It=Oe,Oe=null):It=Oe.sibling;var Is=le(G,Oe,Qe.value,ve);if(Is===null){Oe===null&&(Oe=It);break}i&&Oe&&Is.alternate===null&&l(G,Oe),V=S(Is,V,Le),Re===null?ke=Is:Re.sibling=Is,Re=Is,Oe=It}if(Qe.done)return d(G,Oe),dt&&gi(G,Le),ke;if(Oe===null){for(;!Qe.done;Le++,Qe=K.next())Qe=fe(G,Qe.value,ve),Qe!==null&&(V=S(Qe,V,Le),Re===null?ke=Qe:Re.sibling=Qe,Re=Qe);return dt&&gi(G,Le),ke}for(Oe=g(G,Oe);!Qe.done;Le++,Qe=K.next())Qe=we(Oe,G,Le,Qe.value,ve),Qe!==null&&(i&&Qe.alternate!==null&&Oe.delete(Qe.key===null?Le:Qe.key),V=S(Qe,V,Le),Re===null?ke=Qe:Re.sibling=Qe,Re=Qe);return i&&Oe.forEach(function(F2){return l(G,F2)}),dt&&gi(G,Le),ke}function wt(G,V,K,ve){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case D:e:{for(var ke=K.key,Re=V;Re!==null;){if(Re.key===ke){if(ke=K.type,ke===E){if(Re.tag===7){d(G,Re.sibling),V=b(Re,K.props.children),V.return=G,G=V;break e}}else if(Re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===F&&hx(ke)===Re.type){d(G,Re.sibling),V=b(Re,K.props),V.ref=Za(G,Re,K),V.return=G,G=V;break e}d(G,Re);break}else l(G,Re);Re=Re.sibling}K.type===E?(V=Ni(K.props.children,G.mode,ve,K.key),V.return=G,G=V):(ve=ju(K.type,K.key,K.props,null,G.mode,ve),ve.ref=Za(G,V,K),ve.return=G,G=ve)}return A(G);case P:e:{for(Re=K.key;V!==null;){if(V.key===Re)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){d(G,V.sibling),V=b(V,K.children||[]),V.return=G,G=V;break e}else{d(G,V);break}else l(G,V);V=V.sibling}V=zh(K,G.mode,ve),V.return=G,G=V}return A(G);case F:return Re=K._init,wt(G,V,Re(K._payload),ve)}if(Or(K))return Ne(G,V,K,ve);if(z(K))return Ce(G,V,K,ve);Qc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,V!==null&&V.tag===6?(d(G,V.sibling),V=b(V,K),V.return=G,G=V):(d(G,V),V=Vh(K,G.mode,ve),V.return=G,G=V),A(G)):d(G,V)}return wt}var So=mx(!0),px=mx(!1),Zc=Cs(null),eu=null,No=null,Qf=null;function Zf(){Qf=No=eu=null}function eh(i){var l=Zc.current;ct(Zc),i._currentValue=l}function th(i,l,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===d)break;i=i.return}}function Co(i,l){eu=i,Qf=No=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(pr=!0),i.firstContext=null)}function Lr(i){var l=i._currentValue;if(Qf!==i)if(i={context:i,memoizedValue:l,next:null},No===null){if(eu===null)throw Error(r(308));No=i,eu.dependencies={lanes:0,firstContext:i}}else No=No.next=i;return l}var xi=null;function rh(i){xi===null?xi=[i]:xi.push(i)}function vx(i,l,d,g){var b=l.interleaved;return b===null?(d.next=d,rh(l)):(d.next=b.next,b.next=d),l.interleaved=d,Wn(i,g)}function Wn(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var Es=!1;function nh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gx(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Ts(i,l,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Je&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Wn(i,d)}return b=g.interleaved,b===null?(l.next=l,rh(g)):(l.next=b.next,b.next=l),g.interleaved=l,Wn(i,d)}function tu(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,gf(i,d)}}function xx(i,l){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?b=S=A:S=S.next=A,d=d.next}while(d!==null);S===null?b=S=l:S=S.next=l}else b=S=l;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function ru(i,l,d,g){var b=i.updateQueue;Es=!1;var S=b.firstBaseUpdate,A=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var U=I,J=U.next;U.next=null,A===null?S=J:A.next=J,A=U;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==A&&(I===null?ue.firstBaseUpdate=J:I.next=J,ue.lastBaseUpdate=U))}if(S!==null){var fe=b.baseState;A=0,ue=J=U=null,I=S;do{var le=I.lane,we=I.eventTime;if((g&le)===le){ue!==null&&(ue=ue.next={eventTime:we,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Ne=i,Ce=I;switch(le=l,we=d,Ce.tag){case 1:if(Ne=Ce.payload,typeof Ne=="function"){fe=Ne.call(we,fe,le);break e}fe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ce.payload,le=typeof Ne=="function"?Ne.call(we,fe,le):Ne,le==null)break e;fe=X({},fe,le);break e;case 2:Es=!0}}I.callback!==null&&I.lane!==0&&(i.flags|=64,le=b.effects,le===null?b.effects=[I]:le.push(I))}else we={eventTime:we,lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(J=ue=we,U=fe):ue=ue.next=we,A|=le;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;le=I,I=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);if(ue===null&&(U=fe),b.baseState=U,b.firstBaseUpdate=J,b.lastBaseUpdate=ue,l=b.shared.interleaved,l!==null){b=l;do A|=b.lane,b=b.next;while(b!==l)}else S===null&&(b.shared.lanes=0);bi|=A,i.lanes=A,i.memoizedState=fe}}function yx(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],b=g.callback;if(b!==null){if(g.callback=null,g=d,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var el={},jn=Cs(el),tl=Cs(el),rl=Cs(el);function yi(i){if(i===el)throw Error(r(174));return i}function sh(i,l){switch(st(rl,l),st(tl,i),st(jn,el),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:fi(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=fi(l,i)}ct(jn),st(jn,l)}function ko(){ct(jn),ct(tl),ct(rl)}function wx(i){yi(rl.current);var l=yi(jn.current),d=fi(l,i.type);l!==d&&(st(tl,i),st(jn,d))}function ih(i){tl.current===i&&(ct(jn),ct(tl))}var ht=Cs(0);function nu(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var oh=[];function ah(){for(var i=0;i<oh.length;i++)oh[i]._workInProgressVersionPrimary=null;oh.length=0}var su=T.ReactCurrentDispatcher,lh=T.ReactCurrentBatchConfig,wi=0,mt=null,Et=null,$t=null,iu=!1,nl=!1,sl=0,a2=0;function Zt(){throw Error(r(321))}function ch(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!Zr(i[d],l[d]))return!1;return!0}function uh(i,l,d,g,b,S){if(wi=S,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,su.current=i===null||i.memoizedState===null?d2:f2,i=d(g,b),nl){S=0;do{if(nl=!1,sl=0,25<=S)throw Error(r(301));S+=1,$t=Et=null,l.updateQueue=null,su.current=h2,i=d(g,b)}while(nl)}if(su.current=lu,l=Et!==null&&Et.next!==null,wi=0,$t=Et=mt=null,iu=!1,l)throw Error(r(300));return i}function dh(){var i=sl!==0;return sl=0,i}function _n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?mt.memoizedState=$t=i:$t=$t.next=i,$t}function Fr(){if(Et===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var l=$t===null?mt.memoizedState:$t.next;if(l!==null)$t=l,Et=i;else{if(i===null)throw Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},$t===null?mt.memoizedState=$t=i:$t=$t.next=i}return $t}function il(i,l){return typeof l=="function"?l(i):l}function fh(i){var l=Fr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var g=Et,b=g.baseQueue,S=d.pending;if(S!==null){if(b!==null){var A=b.next;b.next=S.next,S.next=A}g.baseQueue=b=S,d.pending=null}if(b!==null){S=b.next,g=g.baseState;var I=A=null,U=null,J=S;do{var ue=J.lane;if((wi&ue)===ue)U!==null&&(U=U.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:i(g,J.action);else{var fe={lane:ue,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};U===null?(I=U=fe,A=g):U=U.next=fe,mt.lanes|=ue,bi|=ue}J=J.next}while(J!==null&&J!==S);U===null?A=g:U.next=I,Zr(g,l.memoizedState)||(pr=!0),l.memoizedState=g,l.baseState=A,l.baseQueue=U,d.lastRenderedState=g}if(i=d.interleaved,i!==null){b=i;do S=b.lane,mt.lanes|=S,bi|=S,b=b.next;while(b!==i)}else b===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function hh(i){var l=Fr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var g=d.dispatch,b=d.pending,S=l.memoizedState;if(b!==null){d.pending=null;var A=b=b.next;do S=i(S,A.action),A=A.next;while(A!==b);Zr(S,l.memoizedState)||(pr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,g]}function bx(){}function jx(i,l){var d=mt,g=Fr(),b=l(),S=!Zr(g.memoizedState,b);if(S&&(g.memoizedState=b,pr=!0),g=g.queue,mh(Nx.bind(null,d,g,i),[i]),g.getSnapshot!==l||S||$t!==null&&$t.memoizedState.tag&1){if(d.flags|=2048,ol(9,Sx.bind(null,d,g,b,l),void 0,null),Mt===null)throw Error(r(349));(wi&30)!==0||_x(d,l,b)}return b}function _x(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function Sx(i,l,d,g){l.value=d,l.getSnapshot=g,Cx(l)&&kx(i)}function Nx(i,l,d){return d(function(){Cx(l)&&kx(i)})}function Cx(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!Zr(i,d)}catch{return!0}}function kx(i){var l=Wn(i,1);l!==null&&sn(l,i,1,-1)}function Px(i){var l=_n();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:i},l.queue=i,i=i.dispatch=u2.bind(null,mt,i),[l.memoizedState,i]}function ol(i,l,d,g){return i={tag:i,create:l,destroy:d,deps:g,next:null},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,l.lastEffect=i)),i}function Ex(){return Fr().memoizedState}function ou(i,l,d,g){var b=_n();mt.flags|=i,b.memoizedState=ol(1|l,d,void 0,g===void 0?null:g)}function au(i,l,d,g){var b=Fr();g=g===void 0?null:g;var S=void 0;if(Et!==null){var A=Et.memoizedState;if(S=A.destroy,g!==null&&ch(g,A.deps)){b.memoizedState=ol(l,d,S,g);return}}mt.flags|=i,b.memoizedState=ol(1|l,d,S,g)}function Tx(i,l){return ou(8390656,8,i,l)}function mh(i,l){return au(2048,8,i,l)}function Ax(i,l){return au(4,2,i,l)}function Dx(i,l){return au(4,4,i,l)}function Rx(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Ox(i,l,d){return d=d!=null?d.concat([i]):null,au(4,4,Rx.bind(null,l,i),d)}function ph(){}function $x(i,l){var d=Fr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&ch(l,g[1])?g[0]:(d.memoizedState=[i,l],i)}function Mx(i,l){var d=Fr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&ch(l,g[1])?g[0]:(i=i(),d.memoizedState=[i,l],i)}function Ix(i,l,d){return(wi&21)===0?(i.baseState&&(i.baseState=!1,pr=!0),i.memoizedState=d):(Zr(d,l)||(d=hg(),mt.lanes|=d,bi|=d,i.baseState=!0),l)}function l2(i,l){var d=tt;tt=d!==0&&4>d?d:4,i(!0);var g=lh.transition;lh.transition={};try{i(!1),l()}finally{tt=d,lh.transition=g}}function Lx(){return Fr().memoizedState}function c2(i,l,d){var g=Os(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Fx(i))Ux(l,d);else if(d=vx(i,l,d,g),d!==null){var b=lr();sn(d,i,g,b),Bx(d,l,g)}}function u2(i,l,d){var g=Os(i),b={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fx(i))Ux(l,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var A=l.lastRenderedState,I=S(A,d);if(b.hasEagerState=!0,b.eagerState=I,Zr(I,A)){var U=l.interleaved;U===null?(b.next=b,rh(l)):(b.next=U.next,U.next=b),l.interleaved=b;return}}catch{}finally{}d=vx(i,l,b,g),d!==null&&(b=lr(),sn(d,i,g,b),Bx(d,l,g))}}function Fx(i){var l=i.alternate;return i===mt||l!==null&&l===mt}function Ux(i,l){nl=iu=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Bx(i,l,d){if((d&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,gf(i,d)}}var lu={readContext:Lr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},d2={readContext:Lr,useCallback:function(i,l){return _n().memoizedState=[i,l===void 0?null:l],i},useContext:Lr,useEffect:Tx,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,ou(4194308,4,Rx.bind(null,l,i),d)},useLayoutEffect:function(i,l){return ou(4194308,4,i,l)},useInsertionEffect:function(i,l){return ou(4,2,i,l)},useMemo:function(i,l){var d=_n();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var g=_n();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=c2.bind(null,mt,i),[g.memoizedState,i]},useRef:function(i){var l=_n();return i={current:i},l.memoizedState=i},useState:Px,useDebugValue:ph,useDeferredValue:function(i){return _n().memoizedState=i},useTransition:function(){var i=Px(!1),l=i[0];return i=l2.bind(null,i[1]),_n().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var g=mt,b=_n();if(dt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Mt===null)throw Error(r(349));(wi&30)!==0||_x(g,l,d)}b.memoizedState=d;var S={value:d,getSnapshot:l};return b.queue=S,Tx(Nx.bind(null,g,S,i),[i]),g.flags|=2048,ol(9,Sx.bind(null,g,S,d,l),void 0,null),d},useId:function(){var i=_n(),l=Mt.identifierPrefix;if(dt){var d=zn,g=Vn;d=(g&~(1<<32-Qr(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=sl++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=a2++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},f2={readContext:Lr,useCallback:$x,useContext:Lr,useEffect:mh,useImperativeHandle:Ox,useInsertionEffect:Ax,useLayoutEffect:Dx,useMemo:Mx,useReducer:fh,useRef:Ex,useState:function(){return fh(il)},useDebugValue:ph,useDeferredValue:function(i){var l=Fr();return Ix(l,Et.memoizedState,i)},useTransition:function(){var i=fh(il)[0],l=Fr().memoizedState;return[i,l]},useMutableSource:bx,useSyncExternalStore:jx,useId:Lx,unstable_isNewReconciler:!1},h2={readContext:Lr,useCallback:$x,useContext:Lr,useEffect:mh,useImperativeHandle:Ox,useInsertionEffect:Ax,useLayoutEffect:Dx,useMemo:Mx,useReducer:hh,useRef:Ex,useState:function(){return hh(il)},useDebugValue:ph,useDeferredValue:function(i){var l=Fr();return Et===null?l.memoizedState=i:Ix(l,Et.memoizedState,i)},useTransition:function(){var i=hh(il)[0],l=Fr().memoizedState;return[i,l]},useMutableSource:bx,useSyncExternalStore:jx,useId:Lx,unstable_isNewReconciler:!1};function tn(i,l){if(i&&i.defaultProps){l=X({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function vh(i,l,d,g){l=i.memoizedState,d=d(g,l),d=d==null?l:X({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var cu={isMounted:function(i){return(i=i._reactInternals)?Xe(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var g=lr(),b=Os(i),S=Hn(g,b);S.payload=l,d!=null&&(S.callback=d),l=Ts(i,S,b),l!==null&&(sn(l,i,b,g),tu(l,i,b))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var g=lr(),b=Os(i),S=Hn(g,b);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=Ts(i,S,b),l!==null&&(sn(l,i,b,g),tu(l,i,b))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=lr(),g=Os(i),b=Hn(d,g);b.tag=2,l!=null&&(b.callback=l),l=Ts(i,b,g),l!==null&&(sn(l,i,g,d),tu(l,i,g))}};function Vx(i,l,d,g,b,S,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,A):l.prototype&&l.prototype.isPureReactComponent?!qa(d,g)||!qa(b,S):!0}function zx(i,l,d){var g=!1,b=ks,S=l.contextType;return typeof S=="object"&&S!==null?S=Lr(S):(b=mr(l)?pi:Qt.current,g=l.contextTypes,S=(g=g!=null)?wo(i,b):ks),l=new l(d,S),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=cu,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=S),l}function Wx(i,l,d,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==i&&cu.enqueueReplaceState(l,l.state,null)}function gh(i,l,d,g){var b=i.stateNode;b.props=d,b.state=i.memoizedState,b.refs={},nh(i);var S=l.contextType;typeof S=="object"&&S!==null?b.context=Lr(S):(S=mr(l)?pi:Qt.current,b.context=wo(i,S)),b.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(vh(i,l,S,d),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&cu.enqueueReplaceState(b,b.state,null),ru(i,d,b,g),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function Po(i,l){try{var d="",g=l;do d+=pe(g),g=g.return;while(g);var b=d}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:l,stack:b,digest:null}}function xh(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function yh(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var m2=typeof WeakMap=="function"?WeakMap:Map;function Hx(i,l,d){d=Hn(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){vu||(vu=!0,Oh=g),yh(i,l)},d}function qx(i,l,d){d=Hn(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;d.payload=function(){return g(b)},d.callback=function(){yh(i,l)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){yh(i,l),typeof g!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function Yx(i,l,d){var g=i.pingCache;if(g===null){g=i.pingCache=new m2;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(d)||(b.add(d),i=P2.bind(null,i,l,d),l.then(i,i))}function Gx(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Kx(i,l,d,g,b){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Hn(-1,1),l.tag=2,Ts(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var p2=T.ReactCurrentOwner,pr=!1;function ar(i,l,d,g){l.child=i===null?px(l,null,d,g):So(l,i.child,d,g)}function Xx(i,l,d,g,b){d=d.render;var S=l.ref;return Co(l,b),g=uh(i,l,d,g,S,b),d=dh(),i!==null&&!pr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~b,qn(i,l,b)):(dt&&d&&Yf(l),l.flags|=1,ar(i,l,g,b),l.child)}function Jx(i,l,d,g,b){if(i===null){var S=d.type;return typeof S=="function"&&!Bh(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=S,Qx(i,l,S,g,b)):(i=ju(d.type,null,g,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,(i.lanes&b)===0){var A=S.memoizedProps;if(d=d.compare,d=d!==null?d:qa,d(A,g)&&i.ref===l.ref)return qn(i,l,b)}return l.flags|=1,i=Ms(S,g),i.ref=l.ref,i.return=l,l.child=i}function Qx(i,l,d,g,b){if(i!==null){var S=i.memoizedProps;if(qa(S,g)&&i.ref===l.ref)if(pr=!1,l.pendingProps=g=S,(i.lanes&b)!==0)(i.flags&131072)!==0&&(pr=!0);else return l.lanes=i.lanes,qn(i,l,b)}return wh(i,l,d,g,b)}function Zx(i,l,d){var g=l.pendingProps,b=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(To,Pr),Pr|=d;else{if((d&1073741824)===0)return i=S!==null?S.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,st(To,Pr),Pr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,st(To,Pr),Pr|=g}else S!==null?(g=S.baseLanes|d,l.memoizedState=null):g=d,st(To,Pr),Pr|=g;return ar(i,l,b,d),l.child}function ey(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function wh(i,l,d,g,b){var S=mr(d)?pi:Qt.current;return S=wo(l,S),Co(l,b),d=uh(i,l,d,g,S,b),g=dh(),i!==null&&!pr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~b,qn(i,l,b)):(dt&&g&&Yf(l),l.flags|=1,ar(i,l,d,b),l.child)}function ty(i,l,d,g,b){if(mr(d)){var S=!0;Yc(l)}else S=!1;if(Co(l,b),l.stateNode===null)du(i,l),zx(l,d,g),gh(l,d,g,b),g=!0;else if(i===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var U=A.context,J=d.contextType;typeof J=="object"&&J!==null?J=Lr(J):(J=mr(d)?pi:Qt.current,J=wo(l,J));var ue=d.getDerivedStateFromProps,fe=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==g||U!==J)&&Wx(l,A,g,J),Es=!1;var le=l.memoizedState;A.state=le,ru(l,g,A,b),U=l.memoizedState,I!==g||le!==U||hr.current||Es?(typeof ue=="function"&&(vh(l,d,ue,g),U=l.memoizedState),(I=Es||Vx(l,d,I,g,le,U,J))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=U),A.props=g,A.state=U,A.context=J,g=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{A=l.stateNode,gx(i,l),I=l.memoizedProps,J=l.type===l.elementType?I:tn(l.type,I),A.props=J,fe=l.pendingProps,le=A.context,U=d.contextType,typeof U=="object"&&U!==null?U=Lr(U):(U=mr(d)?pi:Qt.current,U=wo(l,U));var we=d.getDerivedStateFromProps;(ue=typeof we=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==fe||le!==U)&&Wx(l,A,g,U),Es=!1,le=l.memoizedState,A.state=le,ru(l,g,A,b);var Ne=l.memoizedState;I!==fe||le!==Ne||hr.current||Es?(typeof we=="function"&&(vh(l,d,we,g),Ne=l.memoizedState),(J=Es||Vx(l,d,J,g,le,Ne,U)||!1)?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ne,U),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ne,U)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ne),A.props=g,A.state=Ne,A.context=U,g=J):(typeof A.componentDidUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),g=!1)}return bh(i,l,d,g,S,b)}function bh(i,l,d,g,b,S){ey(i,l);var A=(l.flags&128)!==0;if(!g&&!A)return b&&ox(l,d,!1),qn(i,l,S);g=l.stateNode,p2.current=l;var I=A&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&A?(l.child=So(l,i.child,null,S),l.child=So(l,null,I,S)):ar(i,l,I,S),l.memoizedState=g.state,b&&ox(l,d,!0),l.child}function ry(i){var l=i.stateNode;l.pendingContext?sx(i,l.pendingContext,l.pendingContext!==l.context):l.context&&sx(i,l.context,!1),sh(i,l.containerInfo)}function ny(i,l,d,g,b){return _o(),Jf(b),l.flags|=256,ar(i,l,d,g),l.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function _h(i){return{baseLanes:i,cachePool:null,transitions:null}}function sy(i,l,d){var g=l.pendingProps,b=ht.current,S=!1,A=(l.flags&128)!==0,I;if((I=A)||(I=i!==null&&i.memoizedState===null?!1:(b&2)!==0),I?(S=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),st(ht,b&1),i===null)return Xf(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=g.children,i=g.fallback,S?(g=l.mode,S=l.child,A={mode:"hidden",children:A},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=A):S=_u(A,g,0,null),i=Ni(i,g,d,null),S.return=l,i.return=l,S.sibling=i,l.child=S,l.child.memoizedState=_h(d),l.memoizedState=jh,i):Sh(l,A));if(b=i.memoizedState,b!==null&&(I=b.dehydrated,I!==null))return v2(i,l,A,g,I,b,d);if(S){S=g.fallback,A=l.mode,b=i.child,I=b.sibling;var U={mode:"hidden",children:g.children};return(A&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=U,l.deletions=null):(g=Ms(b,U),g.subtreeFlags=b.subtreeFlags&14680064),I!==null?S=Ms(I,S):(S=Ni(S,A,d,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,A=i.child.memoizedState,A=A===null?_h(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},S.memoizedState=A,S.childLanes=i.childLanes&~d,l.memoizedState=jh,g}return S=i.child,i=S.sibling,g=Ms(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=g,l.memoizedState=null,g}function Sh(i,l){return l=_u({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function uu(i,l,d,g){return g!==null&&Jf(g),So(l,i.child,null,d),i=Sh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function v2(i,l,d,g,b,S,A){if(d)return l.flags&256?(l.flags&=-257,g=xh(Error(r(422))),uu(i,l,A,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(S=g.fallback,b=l.mode,g=_u({mode:"visible",children:g.children},b,0,null),S=Ni(S,b,A,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&So(l,i.child,null,A),l.child.memoizedState=_h(A),l.memoizedState=jh,S);if((l.mode&1)===0)return uu(i,l,A,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var I=g.dgst;return g=I,S=Error(r(419)),g=xh(S,g,void 0),uu(i,l,A,g)}if(I=(A&i.childLanes)!==0,pr||I){if(g=Mt,g!==null){switch(A&-A){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|A))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Wn(i,b),sn(g,i,b,-1))}return Uh(),g=xh(Error(r(421))),uu(i,l,A,g)}return b.data==="$?"?(l.flags|=128,l.child=i.child,l=E2.bind(null,i),b._reactRetry=l,null):(i=S.treeContext,kr=Ns(b.nextSibling),Cr=l,dt=!0,en=null,i!==null&&(Mr[Ir++]=Vn,Mr[Ir++]=zn,Mr[Ir++]=vi,Vn=i.id,zn=i.overflow,vi=l),l=Sh(l,g.children),l.flags|=4096,l)}function iy(i,l,d){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),th(i.return,l,d)}function Nh(i,l,d,g,b){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=b)}function oy(i,l,d){var g=l.pendingProps,b=g.revealOrder,S=g.tail;if(ar(i,l,g.children,d),g=ht.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&iy(i,d,l);else if(i.tag===19)iy(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(st(ht,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(d=l.child,b=null;d!==null;)i=d.alternate,i!==null&&nu(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),Nh(l,!1,b,d,S);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&nu(i)===null){l.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}Nh(l,!0,d,null,S);break;case"together":Nh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function du(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function qn(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),bi|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=Ms(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Ms(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function g2(i,l,d){switch(l.tag){case 3:ry(l),_o();break;case 5:wx(l);break;case 1:mr(l.type)&&Yc(l);break;case 4:sh(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;st(Zc,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(st(ht,ht.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?sy(i,l,d):(st(ht,ht.current&1),i=qn(i,l,d),i!==null?i.sibling:null);st(ht,ht.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(i.flags&128)!==0){if(g)return oy(i,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),st(ht,ht.current),g)break;return null;case 22:case 23:return l.lanes=0,Zx(i,l,d)}return qn(i,l,d)}var ay,Ch,ly,cy;ay=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ch=function(){},ly=function(i,l,d,g){var b=i.memoizedProps;if(b!==g){i=l.stateNode,yi(jn.current);var S=null;switch(d){case"input":b=Ue(i,b),g=Ue(i,g),S=[];break;case"select":b=X({},b,{value:void 0}),g=X({},g,{value:void 0}),S=[];break;case"textarea":b=mc(i,b),g=mc(i,g),S=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Wc)}ka(d,g);var A;d=null;for(J in b)if(!g.hasOwnProperty(J)&&b.hasOwnProperty(J)&&b[J]!=null)if(J==="style"){var I=b[J];for(A in I)I.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?S||(S=[]):(S=S||[]).push(J,null));for(J in g){var U=g[J];if(I=b!=null?b[J]:void 0,g.hasOwnProperty(J)&&U!==I&&(U!=null||I!=null))if(J==="style")if(I){for(A in I)!I.hasOwnProperty(A)||U&&U.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in U)U.hasOwnProperty(A)&&I[A]!==U[A]&&(d||(d={}),d[A]=U[A])}else d||(S||(S=[]),S.push(J,d)),d=U;else J==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,I=I?I.__html:void 0,U!=null&&I!==U&&(S=S||[]).push(J,U)):J==="children"?typeof U!="string"&&typeof U!="number"||(S=S||[]).push(J,""+U):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(U!=null&&J==="onScroll"&&lt("scroll",i),S||I===U||(S=[])):(S=S||[]).push(J,U))}d&&(S=S||[]).push("style",d);var J=S;(l.updateQueue=J)&&(l.flags|=4)}},cy=function(i,l,d,g){d!==g&&(l.flags|=4)};function al(i,l){if(!dt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function er(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(l)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=g,i.childLanes=d,l}function x2(i,l,d){var g=l.pendingProps;switch(Gf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(l),null;case 1:return mr(l.type)&&qc(),er(l),null;case 3:return g=l.stateNode,ko(),ct(hr),ct(Qt),ah(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Jc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,en!==null&&(Ih(en),en=null))),Ch(i,l),er(l),null;case 5:ih(l);var b=yi(rl.current);if(d=l.type,i!==null&&l.stateNode!=null)ly(i,l,d,g,b),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return er(l),null}if(i=yi(jn.current),Jc(l)){g=l.stateNode,d=l.type;var S=l.memoizedProps;switch(g[bn]=l,g[Ja]=S,i=(l.mode&1)!==0,d){case"dialog":lt("cancel",g),lt("close",g);break;case"iframe":case"object":case"embed":lt("load",g);break;case"video":case"audio":for(b=0;b<Ga.length;b++)lt(Ga[b],g);break;case"source":lt("error",g);break;case"img":case"image":case"link":lt("error",g),lt("load",g);break;case"details":lt("toggle",g);break;case"input":Ze(g,S),lt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},lt("invalid",g);break;case"textarea":Xr(g,S),lt("invalid",g)}ka(d,S),b=null;for(var A in S)if(S.hasOwnProperty(A)){var I=S[A];A==="children"?typeof I=="string"?g.textContent!==I&&(S.suppressHydrationWarning!==!0&&zc(g.textContent,I,i),b=["children",I]):typeof I=="number"&&g.textContent!==""+I&&(S.suppressHydrationWarning!==!0&&zc(g.textContent,I,i),b=["children",""+I]):o.hasOwnProperty(A)&&I!=null&&A==="onScroll"&&lt("scroll",g)}switch(d){case"input":ie(g),ds(g,S,!0);break;case"textarea":ie(g),no(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Wc)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{A=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ca(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=A.createElement(d,{is:g.is}):(i=A.createElement(d),d==="select"&&(A=i,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):i=A.createElementNS(i,d),i[bn]=l,i[Ja]=g,ay(i,l,!1,!1),l.stateNode=i;e:{switch(A=Pa(d,g),d){case"dialog":lt("cancel",i),lt("close",i),b=g;break;case"iframe":case"object":case"embed":lt("load",i),b=g;break;case"video":case"audio":for(b=0;b<Ga.length;b++)lt(Ga[b],i);b=g;break;case"source":lt("error",i),b=g;break;case"img":case"image":case"link":lt("error",i),lt("load",i),b=g;break;case"details":lt("toggle",i),b=g;break;case"input":Ze(i,g),b=Ue(i,g),lt("invalid",i);break;case"option":b=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},b=X({},g,{value:void 0}),lt("invalid",i);break;case"textarea":Xr(i,g),b=mc(i,g),lt("invalid",i);break;default:b=g}ka(d,b),I=b;for(S in I)if(I.hasOwnProperty(S)){var U=I[S];S==="style"?gc(i,U):S==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&io(i,U)):S==="children"?typeof U=="string"?(d!=="textarea"||U!=="")&&hs(i,U):typeof U=="number"&&hs(i,""+U):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?U!=null&&S==="onScroll"&&lt("scroll",i):U!=null&&k(i,S,U,A))}switch(d){case"input":ie(i),ds(i,g,!1);break;case"textarea":ie(i),no(i);break;case"option":g.value!=null&&i.setAttribute("value",""+se(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?fs(i,!!g.multiple,S,!1):g.defaultValue!=null&&fs(i,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Wc)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return er(l),null;case 6:if(i&&l.stateNode!=null)cy(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=yi(rl.current),yi(jn.current),Jc(l)){if(g=l.stateNode,d=l.memoizedProps,g[bn]=l,(S=g.nodeValue!==d)&&(i=Cr,i!==null))switch(i.tag){case 3:zc(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&zc(g.nodeValue,d,(i.mode&1)!==0)}S&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[bn]=l,l.stateNode=g}return er(l),null;case 13:if(ct(ht),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&kr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)fx(),_o(),l.flags|=98560,S=!1;else if(S=Jc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[bn]=l}else _o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;er(l),S=!1}else en!==null&&(Ih(en),en=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ht.current&1)!==0?Tt===0&&(Tt=3):Uh())),l.updateQueue!==null&&(l.flags|=4),er(l),null);case 4:return ko(),Ch(i,l),i===null&&Ka(l.stateNode.containerInfo),er(l),null;case 10:return eh(l.type._context),er(l),null;case 17:return mr(l.type)&&qc(),er(l),null;case 19:if(ct(ht),S=l.memoizedState,S===null)return er(l),null;if(g=(l.flags&128)!==0,A=S.rendering,A===null)if(g)al(S,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(A=nu(i),A!==null){for(l.flags|=128,al(S,!1),g=A.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)S=d,i=g,S.flags&=14680066,A=S.alternate,A===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=A.childLanes,S.lanes=A.lanes,S.child=A.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=A.memoizedProps,S.memoizedState=A.memoizedState,S.updateQueue=A.updateQueue,S.type=A.type,i=A.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return st(ht,ht.current&1|2),l.child}i=i.sibling}S.tail!==null&&ft()>Ao&&(l.flags|=128,g=!0,al(S,!1),l.lanes=4194304)}else{if(!g)if(i=nu(A),i!==null){if(l.flags|=128,g=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),al(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!dt)return er(l),null}else 2*ft()-S.renderingStartTime>Ao&&d!==1073741824&&(l.flags|=128,g=!0,al(S,!1),l.lanes=4194304);S.isBackwards?(A.sibling=l.child,l.child=A):(d=S.last,d!==null?d.sibling=A:l.child=A,S.last=A)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=ft(),l.sibling=null,d=ht.current,st(ht,g?d&1|2:d&1),l):(er(l),null);case 22:case 23:return Fh(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Pr&1073741824)!==0&&(er(l),l.subtreeFlags&6&&(l.flags|=8192)):er(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function y2(i,l){switch(Gf(l),l.tag){case 1:return mr(l.type)&&qc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ko(),ct(hr),ct(Qt),ah(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return ih(l),null;case 13:if(ct(ht),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));_o()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ct(ht),null;case 4:return ko(),null;case 10:return eh(l.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var fu=!1,tr=!1,w2=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Eo(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){yt(i,l,g)}else d.current=null}function kh(i,l,d){try{d()}catch(g){yt(i,l,g)}}var uy=!1;function b2(i,l){if(Ff=Dc,i=Vg(),Af(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var A=0,I=-1,U=-1,J=0,ue=0,fe=i,le=null;t:for(;;){for(var we;fe!==d||b!==0&&fe.nodeType!==3||(I=A+b),fe!==S||g!==0&&fe.nodeType!==3||(U=A+g),fe.nodeType===3&&(A+=fe.nodeValue.length),(we=fe.firstChild)!==null;)le=fe,fe=we;for(;;){if(fe===i)break t;if(le===d&&++J===b&&(I=A),le===S&&++ue===g&&(U=A),(we=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=we}d=I===-1||U===-1?null:{start:I,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(Uf={focusedElem:i,selectionRange:d},Dc=!1,_e=l;_e!==null;)if(l=_e,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,_e=i;else for(;_e!==null;){l=_e;try{var Ne=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Ce=Ne.memoizedProps,wt=Ne.memoizedState,G=l.stateNode,V=G.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:tn(l.type,Ce),wt);G.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var K=l.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){yt(l,l.return,ve)}if(i=l.sibling,i!==null){i.return=l.return,_e=i;break}_e=l.return}return Ne=uy,uy=!1,Ne}function ll(i,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&i)===i){var S=b.destroy;b.destroy=void 0,S!==void 0&&kh(l,d,S)}b=b.next}while(b!==g)}}function hu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function Ph(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function dy(i){var l=i.alternate;l!==null&&(i.alternate=null,dy(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[bn],delete l[Ja],delete l[Wf],delete l[n2],delete l[s2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function fy(i){return i.tag===5||i.tag===3||i.tag===4}function hy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Eh(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Wc));else if(g!==4&&(i=i.child,i!==null))for(Eh(i,l,d),i=i.sibling;i!==null;)Eh(i,l,d),i=i.sibling}function Th(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Th(i,l,d),i=i.sibling;i!==null;)Th(i,l,d),i=i.sibling}var Yt=null,rn=!1;function As(i,l,d){for(d=d.child;d!==null;)my(i,l,d),d=d.sibling}function my(i,l,d){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Cc,d)}catch{}switch(d.tag){case 5:tr||Eo(d,l);case 6:var g=Yt,b=rn;Yt=null,As(i,l,d),Yt=g,rn=b,Yt!==null&&(rn?(i=Yt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Yt.removeChild(d.stateNode));break;case 18:Yt!==null&&(rn?(i=Yt,d=d.stateNode,i.nodeType===8?zf(i.parentNode,d):i.nodeType===1&&zf(i,d),Ua(i)):zf(Yt,d.stateNode));break;case 4:g=Yt,b=rn,Yt=d.stateNode.containerInfo,rn=!0,As(i,l,d),Yt=g,rn=b;break;case 0:case 11:case 14:case 15:if(!tr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var S=b,A=S.destroy;S=S.tag,A!==void 0&&((S&2)!==0||(S&4)!==0)&&kh(d,l,A),b=b.next}while(b!==g)}As(i,l,d);break;case 1:if(!tr&&(Eo(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(I){yt(d,l,I)}As(i,l,d);break;case 21:As(i,l,d);break;case 22:d.mode&1?(tr=(g=tr)||d.memoizedState!==null,As(i,l,d),tr=g):As(i,l,d);break;default:As(i,l,d)}}function py(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new w2),l.forEach(function(g){var b=T2.bind(null,i,g);d.has(g)||(d.add(g),g.then(b,b))})}}function nn(i,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];try{var S=i,A=l,I=A;e:for(;I!==null;){switch(I.tag){case 5:Yt=I.stateNode,rn=!1;break e;case 3:Yt=I.stateNode.containerInfo,rn=!0;break e;case 4:Yt=I.stateNode.containerInfo,rn=!0;break e}I=I.return}if(Yt===null)throw Error(r(160));my(S,A,b),Yt=null,rn=!1;var U=b.alternate;U!==null&&(U.return=null),b.return=null}catch(J){yt(b,l,J)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)vy(l,i),l=l.sibling}function vy(i,l){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nn(l,i),Sn(i),g&4){try{ll(3,i,i.return),hu(3,i)}catch(Ce){yt(i,i.return,Ce)}try{ll(5,i,i.return)}catch(Ce){yt(i,i.return,Ce)}}break;case 1:nn(l,i),Sn(i),g&512&&d!==null&&Eo(d,d.return);break;case 5:if(nn(l,i),Sn(i),g&512&&d!==null&&Eo(d,d.return),i.flags&32){var b=i.stateNode;try{hs(b,"")}catch(Ce){yt(i,i.return,Ce)}}if(g&4&&(b=i.stateNode,b!=null)){var S=i.memoizedProps,A=d!==null?d.memoizedProps:S,I=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{I==="input"&&S.type==="radio"&&S.name!=null&&or(b,S),Pa(I,A);var J=Pa(I,S);for(A=0;A<U.length;A+=2){var ue=U[A],fe=U[A+1];ue==="style"?gc(b,fe):ue==="dangerouslySetInnerHTML"?io(b,fe):ue==="children"?hs(b,fe):k(b,ue,fe,J)}switch(I){case"input":gt(b,S);break;case"textarea":pc(b,S);break;case"select":var le=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var we=S.value;we!=null?fs(b,!!S.multiple,we,!1):le!==!!S.multiple&&(S.defaultValue!=null?fs(b,!!S.multiple,S.defaultValue,!0):fs(b,!!S.multiple,S.multiple?[]:"",!1))}b[Ja]=S}catch(Ce){yt(i,i.return,Ce)}}break;case 6:if(nn(l,i),Sn(i),g&4){if(i.stateNode===null)throw Error(r(162));b=i.stateNode,S=i.memoizedProps;try{b.nodeValue=S}catch(Ce){yt(i,i.return,Ce)}}break;case 3:if(nn(l,i),Sn(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ua(l.containerInfo)}catch(Ce){yt(i,i.return,Ce)}break;case 4:nn(l,i),Sn(i);break;case 13:nn(l,i),Sn(i),b=i.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(Rh=ft())),g&4&&py(i);break;case 22:if(ue=d!==null&&d.memoizedState!==null,i.mode&1?(tr=(J=tr)||ue,nn(l,i),tr=J):nn(l,i),Sn(i),g&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!ue&&(i.mode&1)!==0)for(_e=i,ue=i.child;ue!==null;){for(fe=_e=ue;_e!==null;){switch(le=_e,we=le.child,le.tag){case 0:case 11:case 14:case 15:ll(4,le,le.return);break;case 1:Eo(le,le.return);var Ne=le.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=le,d=le.return;try{l=g,Ne.props=l.memoizedProps,Ne.state=l.memoizedState,Ne.componentWillUnmount()}catch(Ce){yt(g,d,Ce)}}break;case 5:Eo(le,le.return);break;case 22:if(le.memoizedState!==null){yy(fe);continue}}we!==null?(we.return=le,_e=we):yy(fe)}ue=ue.sibling}e:for(ue=null,fe=i;;){if(fe.tag===5){if(ue===null){ue=fe;try{b=fe.stateNode,J?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(I=fe.stateNode,U=fe.memoizedProps.style,A=U!=null&&U.hasOwnProperty("display")?U.display:null,I.style.display=vc("display",A))}catch(Ce){yt(i,i.return,Ce)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=J?"":fe.memoizedProps}catch(Ce){yt(i,i.return,Ce)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===i)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===i)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===i)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:nn(l,i),Sn(i),g&4&&py(i);break;case 21:break;default:nn(l,i),Sn(i)}}function Sn(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(fy(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(hs(b,""),g.flags&=-33);var S=hy(i);Th(i,S,b);break;case 3:case 4:var A=g.stateNode.containerInfo,I=hy(i);Eh(i,I,A);break;default:throw Error(r(161))}}catch(U){yt(i,i.return,U)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function j2(i,l,d){_e=i,gy(i)}function gy(i,l,d){for(var g=(i.mode&1)!==0;_e!==null;){var b=_e,S=b.child;if(b.tag===22&&g){var A=b.memoizedState!==null||fu;if(!A){var I=b.alternate,U=I!==null&&I.memoizedState!==null||tr;I=fu;var J=tr;if(fu=A,(tr=U)&&!J)for(_e=b;_e!==null;)A=_e,U=A.child,A.tag===22&&A.memoizedState!==null?wy(b):U!==null?(U.return=A,_e=U):wy(b);for(;S!==null;)_e=S,gy(S),S=S.sibling;_e=b,fu=I,tr=J}xy(i)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,_e=S):xy(i)}}function xy(i){for(;_e!==null;){var l=_e;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:tr||hu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!tr)if(d===null)g.componentDidMount();else{var b=l.elementType===l.type?d.memoizedProps:tn(l.type,d.memoizedProps);g.componentDidUpdate(b,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&yx(l,S,g);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}yx(l,A,d)}break;case 5:var I=l.stateNode;if(d===null&&l.flags&4){d=I;var U=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&d.focus();break;case"img":U.src&&(d.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var J=l.alternate;if(J!==null){var ue=J.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&Ua(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tr||l.flags&512&&Ph(l)}catch(le){yt(l,l.return,le)}}if(l===i){_e=null;break}if(d=l.sibling,d!==null){d.return=l.return,_e=d;break}_e=l.return}}function yy(i){for(;_e!==null;){var l=_e;if(l===i){_e=null;break}var d=l.sibling;if(d!==null){d.return=l.return,_e=d;break}_e=l.return}}function wy(i){for(;_e!==null;){var l=_e;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{hu(4,l)}catch(U){yt(l,d,U)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(U){yt(l,b,U)}}var S=l.return;try{Ph(l)}catch(U){yt(l,S,U)}break;case 5:var A=l.return;try{Ph(l)}catch(U){yt(l,A,U)}}}catch(U){yt(l,l.return,U)}if(l===i){_e=null;break}var I=l.sibling;if(I!==null){I.return=l.return,_e=I;break}_e=l.return}}var _2=Math.ceil,mu=T.ReactCurrentDispatcher,Ah=T.ReactCurrentOwner,Ur=T.ReactCurrentBatchConfig,Je=0,Mt=null,St=null,Gt=0,Pr=0,To=Cs(0),Tt=0,cl=null,bi=0,pu=0,Dh=0,ul=null,vr=null,Rh=0,Ao=1/0,Yn=null,vu=!1,Oh=null,Ds=null,gu=!1,Rs=null,xu=0,dl=0,$h=null,yu=-1,wu=0;function lr(){return(Je&6)!==0?ft():yu!==-1?yu:yu=ft()}function Os(i){return(i.mode&1)===0?1:(Je&2)!==0&&Gt!==0?Gt&-Gt:o2.transition!==null?(wu===0&&(wu=hg()),wu):(i=tt,i!==0||(i=window.event,i=i===void 0?16:jg(i.type)),i)}function sn(i,l,d,g){if(50<dl)throw dl=0,$h=null,Error(r(185));$a(i,d,g),((Je&2)===0||i!==Mt)&&(i===Mt&&((Je&2)===0&&(pu|=d),Tt===4&&$s(i,Gt)),gr(i,g),d===1&&Je===0&&(l.mode&1)===0&&(Ao=ft()+500,Gc&&Ps()))}function gr(i,l){var d=i.callbackNode;ok(i,l);var g=Ec(i,i===Mt?Gt:0);if(g===0)d!==null&&Fn(d),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(d!=null&&Fn(d),l===1)i.tag===0?i2(jy.bind(null,i)):ax(jy.bind(null,i)),t2(function(){(Je&6)===0&&Ps()}),d=null;else{switch(mg(g)){case 1:d=Ra;break;case 4:d=Nc;break;case 16:d=co;break;case 536870912:d=fg;break;default:d=co}d=Ty(d,by.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function by(i,l){if(yu=-1,wu=0,(Je&6)!==0)throw Error(r(327));var d=i.callbackNode;if(Do()&&i.callbackNode!==d)return null;var g=Ec(i,i===Mt?Gt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=bu(i,g);else{l=g;var b=Je;Je|=2;var S=Sy();(Mt!==i||Gt!==l)&&(Yn=null,Ao=ft()+500,_i(i,l));do try{C2();break}catch(I){_y(i,I)}while(!0);Zf(),mu.current=S,Je=b,St!==null?l=0:(Mt=null,Gt=0,l=Tt)}if(l!==0){if(l===2&&(b=pf(i),b!==0&&(g=b,l=Mh(i,b))),l===1)throw d=cl,_i(i,0),$s(i,g),gr(i,ft()),d;if(l===6)$s(i,g);else{if(b=i.current.alternate,(g&30)===0&&!S2(b)&&(l=bu(i,g),l===2&&(S=pf(i),S!==0&&(g=S,l=Mh(i,S))),l===1))throw d=cl,_i(i,0),$s(i,g),gr(i,ft()),d;switch(i.finishedWork=b,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Si(i,vr,Yn);break;case 3:if($s(i,g),(g&130023424)===g&&(l=Rh+500-ft(),10<l)){if(Ec(i,0)!==0)break;if(b=i.suspendedLanes,(b&g)!==g){lr(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=Vf(Si.bind(null,i,vr,Yn),l);break}Si(i,vr,Yn);break;case 4:if($s(i,g),(g&4194240)===g)break;for(l=i.eventTimes,b=-1;0<g;){var A=31-Qr(g);S=1<<A,A=l[A],A>b&&(b=A),g&=~S}if(g=b,g=ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*_2(g/1960))-g,10<g){i.timeoutHandle=Vf(Si.bind(null,i,vr,Yn),g);break}Si(i,vr,Yn);break;case 5:Si(i,vr,Yn);break;default:throw Error(r(329))}}}return gr(i,ft()),i.callbackNode===d?by.bind(null,i):null}function Mh(i,l){var d=ul;return i.current.memoizedState.isDehydrated&&(_i(i,l).flags|=256),i=bu(i,l),i!==2&&(l=vr,vr=d,l!==null&&Ih(l)),i}function Ih(i){vr===null?vr=i:vr.push.apply(vr,i)}function S2(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var b=d[g],S=b.getSnapshot;b=b.value;try{if(!Zr(S(),b))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $s(i,l){for(l&=~Dh,l&=~pu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-Qr(l),g=1<<d;i[d]=-1,l&=~g}}function jy(i){if((Je&6)!==0)throw Error(r(327));Do();var l=Ec(i,0);if((l&1)===0)return gr(i,ft()),null;var d=bu(i,l);if(i.tag!==0&&d===2){var g=pf(i);g!==0&&(l=g,d=Mh(i,g))}if(d===1)throw d=cl,_i(i,0),$s(i,l),gr(i,ft()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Si(i,vr,Yn),gr(i,ft()),null}function Lh(i,l){var d=Je;Je|=1;try{return i(l)}finally{Je=d,Je===0&&(Ao=ft()+500,Gc&&Ps())}}function ji(i){Rs!==null&&Rs.tag===0&&(Je&6)===0&&Do();var l=Je;Je|=1;var d=Ur.transition,g=tt;try{if(Ur.transition=null,tt=1,i)return i()}finally{tt=g,Ur.transition=d,Je=l,(Je&6)===0&&Ps()}}function Fh(){Pr=To.current,ct(To)}function _i(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,e2(d)),St!==null)for(d=St.return;d!==null;){var g=d;switch(Gf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&qc();break;case 3:ko(),ct(hr),ct(Qt),ah();break;case 5:ih(g);break;case 4:ko();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:eh(g.type._context);break;case 22:case 23:Fh()}d=d.return}if(Mt=i,St=i=Ms(i.current,null),Gt=Pr=l,Tt=0,cl=null,Dh=pu=bi=0,vr=ul=null,xi!==null){for(l=0;l<xi.length;l++)if(d=xi[l],g=d.interleaved,g!==null){d.interleaved=null;var b=g.next,S=d.pending;if(S!==null){var A=S.next;S.next=b,g.next=A}d.pending=g}xi=null}return i}function _y(i,l){do{var d=St;try{if(Zf(),su.current=lu,iu){for(var g=mt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}iu=!1}if(wi=0,$t=Et=mt=null,nl=!1,sl=0,Ah.current=null,d===null||d.return===null){Tt=1,cl=l,St=null;break}e:{var S=i,A=d.return,I=d,U=l;if(l=Gt,I.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var J=U,ue=I,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var we=Gx(A);if(we!==null){we.flags&=-257,Kx(we,A,I,S,l),we.mode&1&&Yx(S,J,l),l=we,U=J;var Ne=l.updateQueue;if(Ne===null){var Ce=new Set;Ce.add(U),l.updateQueue=Ce}else Ne.add(U);break e}else{if((l&1)===0){Yx(S,J,l),Uh();break e}U=Error(r(426))}}else if(dt&&I.mode&1){var wt=Gx(A);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Kx(wt,A,I,S,l),Jf(Po(U,I));break e}}S=U=Po(U,I),Tt!==4&&(Tt=2),ul===null?ul=[S]:ul.push(S),S=A;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var G=Hx(S,U,l);xx(S,G);break e;case 1:I=U;var V=S.type,K=S.stateNode;if((S.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ds===null||!Ds.has(K)))){S.flags|=65536,l&=-l,S.lanes|=l;var ve=qx(S,I,l);xx(S,ve);break e}}S=S.return}while(S!==null)}Cy(d)}catch(ke){l=ke,St===d&&d!==null&&(St=d=d.return);continue}break}while(!0)}function Sy(){var i=mu.current;return mu.current=lu,i===null?lu:i}function Uh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Mt===null||(bi&268435455)===0&&(pu&268435455)===0||$s(Mt,Gt)}function bu(i,l){var d=Je;Je|=2;var g=Sy();(Mt!==i||Gt!==l)&&(Yn=null,_i(i,l));do try{N2();break}catch(b){_y(i,b)}while(!0);if(Zf(),Je=d,mu.current=g,St!==null)throw Error(r(261));return Mt=null,Gt=0,Tt}function N2(){for(;St!==null;)Ny(St)}function C2(){for(;St!==null&&!Sr();)Ny(St)}function Ny(i){var l=Ey(i.alternate,i,Pr);i.memoizedProps=i.pendingProps,l===null?Cy(i):St=l,Ah.current=null}function Cy(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=x2(d,l,Pr),d!==null){St=d;return}}else{if(d=y2(d,l),d!==null){d.flags&=32767,St=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,St=null;return}}if(l=l.sibling,l!==null){St=l;return}St=l=i}while(l!==null);Tt===0&&(Tt=5)}function Si(i,l,d){var g=tt,b=Ur.transition;try{Ur.transition=null,tt=1,k2(i,l,d,g)}finally{Ur.transition=b,tt=g}return null}function k2(i,l,d,g){do Do();while(Rs!==null);if((Je&6)!==0)throw Error(r(327));d=i.finishedWork;var b=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=d.lanes|d.childLanes;if(ak(i,S),i===Mt&&(St=Mt=null,Gt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||gu||(gu=!0,Ty(co,function(){return Do(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Ur.transition,Ur.transition=null;var A=tt;tt=1;var I=Je;Je|=4,Ah.current=null,b2(i,d),vy(d,i),Yk(Uf),Dc=!!Ff,Uf=Ff=null,i.current=d,j2(d),Da(),Je=I,tt=A,Ur.transition=S}else i.current=d;if(gu&&(gu=!1,Rs=i,xu=b),S=i.pendingLanes,S===0&&(Ds=null),tk(d.stateNode),gr(i,ft()),l!==null)for(g=i.onRecoverableError,d=0;d<l.length;d++)b=l[d],g(b.value,{componentStack:b.stack,digest:b.digest});if(vu)throw vu=!1,i=Oh,Oh=null,i;return(xu&1)!==0&&i.tag!==0&&Do(),S=i.pendingLanes,(S&1)!==0?i===$h?dl++:(dl=0,$h=i):dl=0,Ps(),null}function Do(){if(Rs!==null){var i=mg(xu),l=Ur.transition,d=tt;try{if(Ur.transition=null,tt=16>i?16:i,Rs===null)var g=!1;else{if(i=Rs,Rs=null,xu=0,(Je&6)!==0)throw Error(r(331));var b=Je;for(Je|=4,_e=i.current;_e!==null;){var S=_e,A=S.child;if((_e.flags&16)!==0){var I=S.deletions;if(I!==null){for(var U=0;U<I.length;U++){var J=I[U];for(_e=J;_e!==null;){var ue=_e;switch(ue.tag){case 0:case 11:case 15:ll(8,ue,S)}var fe=ue.child;if(fe!==null)fe.return=ue,_e=fe;else for(;_e!==null;){ue=_e;var le=ue.sibling,we=ue.return;if(dy(ue),ue===J){_e=null;break}if(le!==null){le.return=we,_e=le;break}_e=we}}}var Ne=S.alternate;if(Ne!==null){var Ce=Ne.child;if(Ce!==null){Ne.child=null;do{var wt=Ce.sibling;Ce.sibling=null,Ce=wt}while(Ce!==null)}}_e=S}}if((S.subtreeFlags&2064)!==0&&A!==null)A.return=S,_e=A;else e:for(;_e!==null;){if(S=_e,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ll(9,S,S.return)}var G=S.sibling;if(G!==null){G.return=S.return,_e=G;break e}_e=S.return}}var V=i.current;for(_e=V;_e!==null;){A=_e;var K=A.child;if((A.subtreeFlags&2064)!==0&&K!==null)K.return=A,_e=K;else e:for(A=V;_e!==null;){if(I=_e,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:hu(9,I)}}catch(ke){yt(I,I.return,ke)}if(I===A){_e=null;break e}var ve=I.sibling;if(ve!==null){ve.return=I.return,_e=ve;break e}_e=I.return}}if(Je=b,Ps(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Cc,i)}catch{}g=!0}return g}finally{tt=d,Ur.transition=l}}return!1}function ky(i,l,d){l=Po(d,l),l=Hx(i,l,1),i=Ts(i,l,1),l=lr(),i!==null&&($a(i,1,l),gr(i,l))}function yt(i,l,d){if(i.tag===3)ky(i,i,d);else for(;l!==null;){if(l.tag===3){ky(l,i,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ds===null||!Ds.has(g))){i=Po(d,i),i=qx(l,i,1),l=Ts(l,i,1),i=lr(),l!==null&&($a(l,1,i),gr(l,i));break}}l=l.return}}function P2(i,l,d){var g=i.pingCache;g!==null&&g.delete(l),l=lr(),i.pingedLanes|=i.suspendedLanes&d,Mt===i&&(Gt&d)===d&&(Tt===4||Tt===3&&(Gt&130023424)===Gt&&500>ft()-Rh?_i(i,0):Dh|=d),gr(i,l)}function Py(i,l){l===0&&((i.mode&1)===0?l=1:(l=Pc,Pc<<=1,(Pc&130023424)===0&&(Pc=4194304)));var d=lr();i=Wn(i,l),i!==null&&($a(i,l,d),gr(i,d))}function E2(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),Py(i,d)}function T2(i,l){var d=0;switch(i.tag){case 13:var g=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),Py(i,d)}var Ey;Ey=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||hr.current)pr=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return pr=!1,g2(i,l,d);pr=(i.flags&131072)!==0}else pr=!1,dt&&(l.flags&1048576)!==0&&lx(l,Xc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;du(i,l),i=l.pendingProps;var b=wo(l,Qt.current);Co(l,d),b=uh(null,l,g,i,b,d);var S=dh();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,mr(g)?(S=!0,Yc(l)):S=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,nh(l),b.updater=cu,l.stateNode=b,b._reactInternals=l,gh(l,g,i,d),l=bh(null,l,g,!0,S,d)):(l.tag=0,dt&&S&&Yf(l),ar(null,l,b,d),l=l.child),l;case 16:g=l.elementType;e:{switch(du(i,l),i=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=D2(g),i=tn(g,i),b){case 0:l=wh(null,l,g,i,d);break e;case 1:l=ty(null,l,g,i,d);break e;case 11:l=Xx(null,l,g,i,d);break e;case 14:l=Jx(null,l,g,tn(g.type,i),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:tn(g,b),wh(i,l,g,b,d);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:tn(g,b),ty(i,l,g,b,d);case 3:e:{if(ry(l),i===null)throw Error(r(387));g=l.pendingProps,S=l.memoizedState,b=S.element,gx(i,l),ru(l,g,null,d);var A=l.memoizedState;if(g=A.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){b=Po(Error(r(423)),l),l=ny(i,l,g,d,b);break e}else if(g!==b){b=Po(Error(r(424)),l),l=ny(i,l,g,d,b);break e}else for(kr=Ns(l.stateNode.containerInfo.firstChild),Cr=l,dt=!0,en=null,d=px(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(_o(),g===b){l=qn(i,l,d);break e}ar(i,l,g,d)}l=l.child}return l;case 5:return wx(l),i===null&&Xf(l),g=l.type,b=l.pendingProps,S=i!==null?i.memoizedProps:null,A=b.children,Bf(g,b)?A=null:S!==null&&Bf(g,S)&&(l.flags|=32),ey(i,l),ar(i,l,A,d),l.child;case 6:return i===null&&Xf(l),null;case 13:return sy(i,l,d);case 4:return sh(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=So(l,null,g,d):ar(i,l,g,d),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:tn(g,b),Xx(i,l,g,b,d);case 7:return ar(i,l,l.pendingProps,d),l.child;case 8:return ar(i,l,l.pendingProps.children,d),l.child;case 12:return ar(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,S=l.memoizedProps,A=b.value,st(Zc,g._currentValue),g._currentValue=A,S!==null)if(Zr(S.value,A)){if(S.children===b.children&&!hr.current){l=qn(i,l,d);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var I=S.dependencies;if(I!==null){A=S.child;for(var U=I.firstContext;U!==null;){if(U.context===g){if(S.tag===1){U=Hn(-1,d&-d),U.tag=2;var J=S.updateQueue;if(J!==null){J=J.shared;var ue=J.pending;ue===null?U.next=U:(U.next=ue.next,ue.next=U),J.pending=U}}S.lanes|=d,U=S.alternate,U!==null&&(U.lanes|=d),th(S.return,d,l),I.lanes|=d;break}U=U.next}}else if(S.tag===10)A=S.type===l.type?null:S.child;else if(S.tag===18){if(A=S.return,A===null)throw Error(r(341));A.lanes|=d,I=A.alternate,I!==null&&(I.lanes|=d),th(A,d,l),A=S.sibling}else A=S.child;if(A!==null)A.return=S;else for(A=S;A!==null;){if(A===l){A=null;break}if(S=A.sibling,S!==null){S.return=A.return,A=S;break}A=A.return}S=A}ar(i,l,b.children,d),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Co(l,d),b=Lr(b),g=g(b),l.flags|=1,ar(i,l,g,d),l.child;case 14:return g=l.type,b=tn(g,l.pendingProps),b=tn(g.type,b),Jx(i,l,g,b,d);case 15:return Qx(i,l,l.type,l.pendingProps,d);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:tn(g,b),du(i,l),l.tag=1,mr(g)?(i=!0,Yc(l)):i=!1,Co(l,d),zx(l,g,b),gh(l,g,b,d),bh(null,l,g,!0,i,d);case 19:return oy(i,l,d);case 22:return Zx(i,l,d)}throw Error(r(156,l.tag))};function Ty(i,l){return xs(i,l)}function A2(i,l,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,l,d,g){return new A2(i,l,d,g)}function Bh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function D2(i){if(typeof i=="function")return Bh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Z)return 11;if(i===B)return 14}return 2}function Ms(i,l){var d=i.alternate;return d===null?(d=Br(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function ju(i,l,d,g,b,S){var A=2;if(g=i,typeof i=="function")Bh(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case E:return Ni(d.children,b,S,l);case R:A=8,b|=8;break;case $:return i=Br(12,d,l,b|2),i.elementType=$,i.lanes=S,i;case Y:return i=Br(13,d,l,b),i.elementType=Y,i.lanes=S,i;case L:return i=Br(19,d,l,b),i.elementType=L,i.lanes=S,i;case W:return _u(d,b,S,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:A=10;break e;case te:A=9;break e;case Z:A=11;break e;case B:A=14;break e;case F:A=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Br(A,d,l,b),l.elementType=i,l.type=g,l.lanes=S,l}function Ni(i,l,d,g){return i=Br(7,i,g,l),i.lanes=d,i}function _u(i,l,d,g){return i=Br(22,i,g,l),i.elementType=W,i.lanes=d,i.stateNode={isHidden:!1},i}function Vh(i,l,d){return i=Br(6,i,null,l),i.lanes=d,i}function zh(i,l,d){return l=Br(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function R2(i,l,d,g,b){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vf(0),this.expirationTimes=vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vf(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Wh(i,l,d,g,b,S,A,I,U){return i=new R2(i,l,d,I,U),l===1?(l=1,S===!0&&(l|=8)):l=0,S=Br(3,null,null,l),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(S),i}function O2(i,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:i,containerInfo:l,implementation:d}}function Ay(i){if(!i)return ks;i=i._reactInternals;e:{if(Xe(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(mr(d))return ix(i,d,l)}return l}function Dy(i,l,d,g,b,S,A,I,U){return i=Wh(d,g,!0,i,b,S,A,I,U),i.context=Ay(null),d=i.current,g=lr(),b=Os(d),S=Hn(g,b),S.callback=l??null,Ts(d,S,b),i.current.lanes=b,$a(i,b,g),gr(i,g),i}function Su(i,l,d,g){var b=l.current,S=lr(),A=Os(b);return d=Ay(d),l.context===null?l.context=d:l.pendingContext=d,l=Hn(S,A),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Ts(b,l,A),i!==null&&(sn(i,b,A,S),tu(i,b,A)),A}function Nu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ry(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function Hh(i,l){Ry(i,l),(i=i.alternate)&&Ry(i,l)}function $2(){return null}var Oy=typeof reportError=="function"?reportError:function(i){console.error(i)};function qh(i){this._internalRoot=i}Cu.prototype.render=qh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));Su(i,l,null,null)},Cu.prototype.unmount=qh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ji(function(){Su(null,i,null,null)}),l[Un]=null}};function Cu(i){this._internalRoot=i}Cu.prototype.unstable_scheduleHydration=function(i){if(i){var l=gg();i={blockedOn:null,target:i,priority:l};for(var d=0;d<js.length&&l!==0&&l<js[d].priority;d++);js.splice(d,0,i),d===0&&wg(i)}};function Yh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ku(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function $y(){}function M2(i,l,d,g,b){if(b){if(typeof g=="function"){var S=g;g=function(){var J=Nu(A);S.call(J)}}var A=Dy(l,g,i,0,null,!1,!1,"",$y);return i._reactRootContainer=A,i[Un]=A.current,Ka(i.nodeType===8?i.parentNode:i),ji(),A}for(;b=i.lastChild;)i.removeChild(b);if(typeof g=="function"){var I=g;g=function(){var J=Nu(U);I.call(J)}}var U=Wh(i,0,!1,null,null,!1,!1,"",$y);return i._reactRootContainer=U,i[Un]=U.current,Ka(i.nodeType===8?i.parentNode:i),ji(function(){Su(l,U,d,g)}),U}function Pu(i,l,d,g,b){var S=d._reactRootContainer;if(S){var A=S;if(typeof b=="function"){var I=b;b=function(){var U=Nu(A);I.call(U)}}Su(l,A,i,b)}else A=M2(d,l,i,b,g);return Nu(A)}pg=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=Oa(l.pendingLanes);d!==0&&(gf(l,d|1),gr(l,ft()),(Je&6)===0&&(Ao=ft()+500,Ps()))}break;case 13:ji(function(){var g=Wn(i,1);if(g!==null){var b=lr();sn(g,i,1,b)}}),Hh(i,1)}},xf=function(i){if(i.tag===13){var l=Wn(i,134217728);if(l!==null){var d=lr();sn(l,i,134217728,d)}Hh(i,134217728)}},vg=function(i){if(i.tag===13){var l=Os(i),d=Wn(i,l);if(d!==null){var g=lr();sn(d,i,l,g)}Hh(i,l)}},gg=function(){return tt},xg=function(i,l){var d=tt;try{return tt=i,l()}finally{tt=d}},Ta=function(i,l,d){switch(l){case"input":if(gt(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==i&&g.form===i.form){var b=Hc(g);if(!b)throw Error(r(90));be(g),gt(g,b)}}}break;case"textarea":pc(i,d);break;case"select":l=d.value,l!=null&&fs(i,!!d.multiple,l,!1)}},bc=Lh,jc=ji;var I2={usingClientEntryPoint:!1,Events:[Qa,xo,Hc,yc,wc,Lh]},fl={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L2={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=fr(i),i===null?null:i.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||$2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Cc=Eu.inject(L2),wn=Eu}catch{}}return xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2,xr.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(l))throw Error(r(200));return O2(i,l,null,d)},xr.createRoot=function(i,l){if(!Yh(i))throw Error(r(299));var d=!1,g="",b=Oy;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Wh(i,1,!1,null,null,d,!1,g,b),i[Un]=l.current,Ka(i.nodeType===8?i.parentNode:i),new qh(l)},xr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=fr(l),i=i===null?null:i.stateNode,i},xr.flushSync=function(i){return ji(i)},xr.hydrate=function(i,l,d){if(!ku(l))throw Error(r(200));return Pu(null,i,l,!0,d)},xr.hydrateRoot=function(i,l,d){if(!Yh(i))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,b=!1,S="",A=Oy;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),l=Dy(l,null,i,1,d??null,b,!1,S,A),i[Un]=l.current,Ka(i),g)for(i=0;i<g.length;i++)d=g[i],b=d._getVersion,b=b(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,b]:l.mutableSourceEagerHydrationData.push(d,b);return new Cu(l)},xr.render=function(i,l,d){if(!ku(l))throw Error(r(200));return Pu(null,i,l,!1,d)},xr.unmountComponentAtNode=function(i){if(!ku(i))throw Error(r(40));return i._reactRootContainer?(ji(function(){Pu(null,null,i,!1,function(){i._reactRootContainer=null,i[Un]=null})}),!0):!1},xr.unstable_batchedUpdates=Lh,xr.unstable_renderSubtreeIntoContainer=function(i,l,d,g){if(!ku(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Pu(i,l,d,!1,g)},xr.version="18.3.1-next-f1338f8080-20240426",xr}var zy;function Lb(){if(zy)return Xh.exports;zy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xh.exports=Y2(),Xh.exports}var Wy;function G2(){if(Wy)return Tu;Wy=1;var e=Lb();return Tu.createRoot=e.createRoot,Tu.hydrateRoot=e.hydrateRoot,Tu}var K2=G2();const X2=Jl(K2);var Vi=Lb();const Fb=Jl(Vi);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const Hy="popstate";function J2(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:c,hash:u}=n.location;return Ym("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:sd(o)}return Z2(t,r,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ub(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q2(){return Math.random().toString(36).substr(2,8)}function qy(e,t){return{usr:e.state,key:e.key,idx:t}}function Ym(e,t,r,n){return r===void 0&&(r=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xa(t):t,{state:r,key:t&&t.key||n||Q2()})}function sd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Z2(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,c=o.history,u=Gs.Pop,f=null,h=m();h==null&&(h=0,c.replaceState($l({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function p(){u=Gs.Pop;let _=m(),N=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:N})}function x(_,N){u=Gs.Push;let C=Ym(w.location,_,N);h=m()+1;let k=qy(C,h),T=w.createHref(C);try{c.pushState(k,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(T)}a&&f&&f({action:u,location:w.location,delta:1})}function y(_,N){u=Gs.Replace;let C=Ym(w.location,_,N);h=m();let k=qy(C,h),T=w.createHref(C);c.replaceState(k,"",T),a&&f&&f({action:u,location:w.location,delta:0})}function j(_){let N=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof _=="string"?_:sd(_);return C=C.replace(/ $/,"%20"),Ct(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let w={get action(){return u},get location(){return e(o,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Hy,p),f=_,()=>{o.removeEventListener(Hy,p),f=null}},createHref(_){return t(o,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:y,go(_){return c.go(_)}};return w}var Yy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yy||(Yy={}));function eP(e,t,r){return r===void 0&&(r="/"),tP(e,t,r)}function tP(e,t,r,n){let o=typeof t=="string"?xa(t):t,a=Vp(o.pathname||"/",r);if(a==null)return null;let c=Bb(e);rP(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=mP(a);u=dP(c[f],h)}return u}function Bb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,c,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Ct(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Ks([n,f.relativePath]),m=r.concat(f);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Bb(a.children,t,m,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:cP(h,a.index),routesMeta:m})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,c);else for(let f of Vb(a.path))o(a,c,f)}),t}function Vb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let c=Vb(n.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function rP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nP=/^:[\w-]+$/,sP=3,iP=2,oP=1,aP=10,lP=-2,Gy=e=>e==="*";function cP(e,t){let r=e.split("/"),n=r.length;return r.some(Gy)&&(n+=lP),t&&(n+=iP),r.filter(o=>!Gy(o)).reduce((o,a)=>o+(nP.test(a)?sP:a===""?oP:aP),n)}function uP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function dP(e,t,r){let{routesMeta:n}=e,o={},a="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=fP({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:Ks([a,p.pathname]),pathnameBase:xP(Ks([a,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(a=Ks([a,p.pathnameBase]))}return c}function fP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hP(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let w=u[p]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[p];return y&&!j?h[x]=void 0:h[x]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function hP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ub(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function mP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ub(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function pP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?xa(e):e;return{pathname:r?r.startsWith("/")?r:vP(r,t):t,search:yP(n),hash:wP(o)}}function vP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Zh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zb(e,t){let r=gP(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wb(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=xa(e):(o=$l({},e),Ct(!o.pathname||!o.pathname.includes("?"),Zh("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),Zh("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),Zh("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),p-=1;o.pathname=x.join("/")}u=p>=0?t[p]:"/"}let f=pP(o,u),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const Ks=e=>e.join("/").replace(/\/\/+/g,"/"),xP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hb=["post","put","patch","delete"];new Set(Hb);const jP=["get",...Hb];new Set(jP);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}const zp=v.createContext(null),_P=v.createContext(null),zi=v.createContext(null),Sd=v.createContext(null),si=v.createContext({outlet:null,matches:[],isDataRoute:!1}),qb=v.createContext(null);function SP(e,t){let{relative:r}=t===void 0?{}:t;Ql()||Ct(!1);let{basename:n,navigator:o}=v.useContext(zi),{hash:a,pathname:c,search:u}=Gb(e,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:Ks([n,c])),o.createHref({pathname:f,search:u,hash:a})}function Ql(){return v.useContext(Sd)!=null}function ls(){return Ql()||Ct(!1),v.useContext(Sd).location}function Yb(e){v.useContext(zi).static||v.useLayoutEffect(e)}function Ht(){let{isDataRoute:e}=v.useContext(si);return e?IP():NP()}function NP(){Ql()||Ct(!1);let e=v.useContext(zp),{basename:t,future:r,navigator:n}=v.useContext(zi),{matches:o}=v.useContext(si),{pathname:a}=ls(),c=JSON.stringify(zb(o,r.v7_relativeSplatPath)),u=v.useRef(!1);return Yb(()=>{u.current=!0}),v.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Wb(h,JSON.parse(c),a,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ks([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,a,e])}function Nd(){let{matches:e}=v.useContext(si),t=e[e.length-1];return t?t.params:{}}function Gb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(zi),{matches:o}=v.useContext(si),{pathname:a}=ls(),c=JSON.stringify(zb(o,n.v7_relativeSplatPath));return v.useMemo(()=>Wb(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function CP(e,t){return kP(e,t)}function kP(e,t,r,n){Ql()||Ct(!1);let{navigator:o,static:a}=v.useContext(zi),{matches:c}=v.useContext(si),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=ls(),p;if(t){var x;let N=typeof t=="string"?xa(t):t;h==="/"||(x=N.pathname)!=null&&x.startsWith(h)||Ct(!1),p=N}else p=m;let y=p.pathname||"/",j=y;if(h!=="/"){let N=h.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=eP(e,{pathname:j}),_=DP(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Ks([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Ks([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,n);return t&&_?v.createElement(Sd.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Gs.Pop}},_):_}function PP(){let e=MP(),t=bP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:o},r):null,null)}const EP=v.createElement(PP,null);class TP extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(si.Provider,{value:this.props.routeContext},v.createElement(qb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AP(e){let{routeContext:t,match:r,children:n}=e,o=v.useContext(zp);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(si.Provider,{value:t},n)}function DP(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Ct(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:y}=r,j=p.route.loader&&x[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,x)=>{let y,j=!1,w=null,_=null;r&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||EP,f&&(h<0&&x===0?(LP("route-fallback"),j=!0,_=null):h===x&&(j=!0,_=p.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,x+1)),C=()=>{let k;return y?k=w:j?k=_:p.route.Component?k=v.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,v.createElement(AP,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?v.createElement(TP,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var Kb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kb||{}),Xb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xb||{});function RP(e){let t=v.useContext(zp);return t||Ct(!1),t}function OP(e){let t=v.useContext(_P);return t||Ct(!1),t}function $P(e){let t=v.useContext(si);return t||Ct(!1),t}function Jb(e){let t=$P(),r=t.matches[t.matches.length-1];return r.route.id||Ct(!1),r.route.id}function MP(){var e;let t=v.useContext(qb),r=OP(),n=Jb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function IP(){let{router:e}=RP(Kb.UseNavigateStable),t=Jb(Xb.UseNavigateStable),r=v.useRef(!1);return Yb(()=>{r.current=!0}),v.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ml({fromRouteId:t},a)))},[e,t])}const Ky={};function LP(e,t,r){Ky[e]||(Ky[e]=!0)}function FP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bt(e){Ct(!1)}function UP(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Gs.Pop,navigator:a,static:c=!1,future:u}=e;Ql()&&Ct(!1);let f=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:f,navigator:a,static:c,future:Ml({v7_relativeSplatPath:!1},u)}),[f,u,a,c]);typeof n=="string"&&(n=xa(n));let{pathname:m="/",search:p="",hash:x="",state:y=null,key:j="default"}=n,w=v.useMemo(()=>{let _=Vp(m,f);return _==null?null:{location:{pathname:_,search:p,hash:x,state:y,key:j},navigationType:o}},[f,m,p,x,y,j,o]);return w==null?null:v.createElement(zi.Provider,{value:h},v.createElement(Sd.Provider,{children:r,value:w}))}function BP(e){let{children:t,location:r}=e;return CP(Gm(t),r)}new Promise(()=>{});function Gm(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,o)=>{if(!v.isValidElement(n))return;let a=[...t,o];if(n.type===v.Fragment){r.push.apply(r,Gm(n.props.children,a));return}n.type!==bt&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Gm(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function VP(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function zP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WP(e,t){return e.button===0&&(!t||t==="_self")&&!zP(e)}function Xm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function HP(e,t){let r=Xm(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(a=>{r.append(o,a)})}),r}const qP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YP="6";try{window.__reactRouterVersion=YP}catch{}const GP="startTransition",Xy=_d[GP];function KP(e){let{basename:t,children:r,future:n,window:o}=e,a=v.useRef();a.current==null&&(a.current=J2({window:o,v5Compat:!0}));let c=a.current,[u,f]=v.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=v.useCallback(p=>{h&&Xy?Xy(()=>f(p)):f(p)},[f,h]);return v.useLayoutEffect(()=>c.listen(m),[c,m]),v.useEffect(()=>FP(n),[n]),v.createElement(UP,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const XP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=v.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:p}=t,x=VP(t,qP),{basename:y}=v.useContext(zi),j,w=!1;if(typeof h=="string"&&JP.test(h)&&(j=h,XP))try{let k=new URL(window.location.href),T=h.startsWith("//")?new URL(k.protocol+h):new URL(h),D=Vp(T.pathname,y);T.origin===k.origin&&D!=null?h=D+T.search+T.hash:w=!0}catch{}let _=SP(h,{relative:o}),N=QP(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:p});function C(k){n&&n(k),k.defaultPrevented||N(k)}return v.createElement("a",Km({},x,{href:j||_,onClick:w||a?n:C,ref:r,target:f}))});var Jy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jy||(Jy={}));var Qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qy||(Qy={}));function QP(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:c,viewTransition:u}=t===void 0?{}:t,f=Ht(),h=ls(),m=Gb(e,{relative:c});return v.useCallback(p=>{if(WP(p,r)){p.preventDefault();let x=n!==void 0?n:sd(h)===sd(m);f(e,{replace:x,state:o,preventScrollReset:a,relative:c,viewTransition:u})}},[h,f,m,n,o,r,e,a,c,u])}function ZP(e){let t=v.useRef(Xm(e)),r=v.useRef(!1),n=ls(),o=v.useMemo(()=>HP(n.search,r.current?null:t.current),[n.search]),a=Ht(),c=v.useCallback((u,f)=>{const h=Xm(typeof u=="function"?u(o):u);r.current=!0,a("?"+h,f)},[a,o]);return[o,c]}const Qb=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Cd=v.createContext({}),kd=v.createContext(null),Pd=typeof document<"u",Wp=Pd?v.useLayoutEffect:v.useEffect,Zb=v.createContext({strict:!1}),Hp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),eE="framerAppearId",ej="data-"+Hp(eE);function tE(e,t,r,n){const{visualElement:o}=v.useContext(Cd),a=v.useContext(Zb),c=v.useContext(kd),u=v.useContext(Qb).reducedMotion,f=v.useRef();n=n||a.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current;v.useInsertionEffect(()=>{h&&h.update(r,c)});const m=v.useRef(!!(r[ej]&&!window.HandoffComplete));return Wp(()=>{h&&(h.render(),m.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(h.updateFeatures(),!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),h}function Go(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rE(e,t,r){return v.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Go(r)&&(r.current=n))},[t])}function Il(e){return typeof e=="string"||Array.isArray(e)}function Ed(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yp=["initial",...qp];function Td(e){return Ed(e.animate)||Yp.some(t=>Il(e[t]))}function tj(e){return!!(Td(e)||e.variants)}function nE(e,t){if(Td(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Il(r)?r:void 0,animate:Il(n)?n:void 0}}return e.inherit!==!1?t:{}}function sE(e){const{initial:t,animate:r}=nE(e,v.useContext(Cd));return v.useMemo(()=>({initial:t,animate:r}),[Zy(t),Zy(r)])}function Zy(e){return Array.isArray(e)?e.join(" "):e}const e0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const e in e0)Ll[e]={isEnabled:t=>e0[e].some(r=>!!t[r])};function iE(e){for(const t in e)Ll[t]={...Ll[t],...e[t]}}const Gp=v.createContext({}),rj=v.createContext({}),oE=Symbol.for("motionComponentSymbol");function aE({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:o}){e&&iE(e);function a(u,f){let h;const m={...v.useContext(Qb),...u,layoutId:lE(u)},{isStatic:p}=m,x=sE(u),y=n(u,p);if(!p&&Pd){x.visualElement=tE(o,y,m,t);const j=v.useContext(rj),w=v.useContext(Zb).strict;x.visualElement&&(h=x.visualElement.loadFeatures(m,w,e,j))}return v.createElement(Cd.Provider,{value:x},h&&x.visualElement?v.createElement(h,{visualElement:x.visualElement,...m}):null,r(o,u,rE(y,x.visualElement,f),y,p,x.visualElement))}const c=v.forwardRef(a);return c[oE]=o,c}function lE({layoutId:e}){const t=v.useContext(Gp).id;return t&&e!==void 0?t+"-"+e:e}function cE(e){function t(n,o={}){return aE(e(n,o))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,o)=>(r.has(o)||r.set(o,t(o)),r.get(o))})}const uE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kp(e){return typeof e!="string"||e.includes("-")?!1:!!(uE.indexOf(e)>-1||/[A-Z]/.test(e))}const id={};function dE(e){Object.assign(id,e)}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wi=new Set(Zl);function nj(e,{layout:t,layoutId:r}){return Wi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!id[e]||e==="opacity")}const _r=e=>!!(e&&e.getVelocity),fE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hE=Zl.length;function mE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,o){let a="";for(let c=0;c<hE;c++){const u=Zl[c];if(e[u]!==void 0){const f=fE[u]||u;a+=`${f}(${e[u]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(e,n?"":a):r&&n&&(a="none"),a}const sj=e=>t=>typeof t=="string"&&t.startsWith(e),ij=sj("--"),Jm=sj("var(--"),pE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zs=(e,t,r)=>Math.min(Math.max(r,e),t),Hi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cl={...Hi,transform:e=>Zs(0,1,e)},Au={...Hi,default:1},kl=e=>Math.round(e*1e5)/1e5,Ad=/(-)?([\d]*\.?[\d])+/g,oj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ec(e){return typeof e=="string"}const tc=e=>({test:t=>ec(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Us=tc("deg"),kn=tc("%"),Me=tc("px"),xE=tc("vh"),yE=tc("vw"),t0={...kn,parse:e=>kn.parse(e)/100,transform:e=>kn.transform(e*100)},r0={...Hi,transform:Math.round},aj={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:Au,scaleX:Au,scaleY:Au,scaleZ:Au,skew:Us,skewX:Us,skewY:Us,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Cl,originX:t0,originY:t0,originZ:Me,zIndex:r0,fillOpacity:Cl,strokeOpacity:Cl,numOctaves:r0};function Xp(e,t,r,n){const{style:o,vars:a,transform:c,transformOrigin:u}=e;let f=!1,h=!1,m=!0;for(const p in t){const x=t[p];if(ij(p)){a[p]=x;continue}const y=aj[p],j=vE(x,y);if(Wi.has(p)){if(f=!0,c[p]=j,!m)continue;x!==(y.default||0)&&(m=!1)}else p.startsWith("origin")?(h=!0,u[p]=j):o[p]=j}if(t.transform||(f||n?o.transform=mE(e.transform,r,m,n):o.transform&&(o.transform="none")),h){const{originX:p="50%",originY:x="50%",originZ:y=0}=u;o.transformOrigin=`${p} ${x} ${y}`}}const Jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lj(e,t,r){for(const n in t)!_r(t[n])&&!nj(n,r)&&(e[n]=t[n])}function wE({transformTemplate:e},t,r){return v.useMemo(()=>{const n=Jp();return Xp(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function bE(e,t,r){const n=e.style||{},o={};return lj(o,n,e),Object.assign(o,wE(e,t,r)),e.transformValues?e.transformValues(o):o}function jE(e,t,r){const n={},o=bE(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const _E=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_E.has(e)}let cj=e=>!od(e);function SE(e){e&&(cj=t=>t.startsWith("on")?!od(t):e(t))}try{SE(require("@emotion/is-prop-valid").default)}catch{}function NE(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(cj(o)||r===!0&&od(o)||!t&&!od(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function n0(e,t,r){return typeof e=="string"?e:Me.transform(t+r*e)}function CE(e,t,r){const n=n0(t,e.x,e.width),o=n0(r,e.y,e.height);return`${n} ${o}`}const kE={offset:"stroke-dashoffset",array:"stroke-dasharray"},PE={offset:"strokeDashoffset",array:"strokeDasharray"};function EE(e,t,r=1,n=0,o=!0){e.pathLength=1;const a=o?kE:PE;e[a.offset]=Me.transform(-n);const c=Me.transform(t),u=Me.transform(r);e[a.array]=`${c} ${u}`}function Qp(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:a,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...h},m,p,x){if(Xp(e,h,m,x),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:j,dimensions:w}=e;y.transform&&(w&&(j.transform=y.transform),delete y.transform),w&&(o!==void 0||a!==void 0||j.transform)&&(j.transformOrigin=CE(w,o!==void 0?o:.5,a!==void 0?a:.5)),t!==void 0&&(y.x=t),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),c!==void 0&&EE(y,c,u,f,!1)}const uj=()=>({...Jp(),attrs:{}}),Zp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function TE(e,t,r,n){const o=v.useMemo(()=>{const a=uj();return Qp(a,t,{enableHardwareAcceleration:!1},Zp(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};lj(a,e.style,e),o.style={...a,...o.style}}return o}function AE(e=!1){return(r,n,o,{latestValues:a},c)=>{const f=(Kp(r)?TE:jE)(n,a,c,r),m={...NE(n,typeof r=="string",e),...f,ref:o},{children:p}=n,x=v.useMemo(()=>_r(p)?p.get():p,[p]);return v.createElement(r,{...m,children:x})}}function dj(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const fj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hj(e,t,r,n){dj(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(fj.has(o)?o:Hp(o),t.attrs[o])}function ev(e,t){const{style:r}=e,n={};for(const o in r)(_r(r[o])||t.style&&_r(t.style[o])||nj(o,e))&&(n[o]=r[o]);return n}function mj(e,t){const r=ev(e,t);for(const n in e)if(_r(e[n])||_r(t[n])){const o=Zl.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=e[n]}return r}function tv(e,t,r,n={},o={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),t}function pj(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const ad=e=>Array.isArray(e),DE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RE=e=>ad(e)?e[e.length-1]||0:e;function Zu(e){const t=_r(e)?e.get():e;return DE(t)?t.toValue():t}function OE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,o,a){const c={latestValues:$E(n,o,a,e),renderState:t()};return r&&(c.mount=u=>r(n,u,c)),c}const vj=e=>(t,r)=>{const n=v.useContext(Cd),o=v.useContext(kd),a=()=>OE(e,t,n,o);return r?a():pj(a)};function $E(e,t,r,n){const o={},a=n(e,{});for(const x in a)o[x]=Zu(a[x]);let{initial:c,animate:u}=e;const f=Td(e),h=tj(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=r?r.initial===!1:!1;m=m||c===!1;const p=m?u:c;return p&&typeof p!="boolean"&&!Ed(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const j=tv(e,y);if(!j)return;const{transitionEnd:w,transition:_,...N}=j;for(const C in N){let k=N[C];if(Array.isArray(k)){const T=m?k.length-1:0;k=k[T]}k!==null&&(o[C]=k)}for(const C in w)o[C]=w[C]}),o}const jt=e=>e;class s0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ME(e){let t=new s0,r=new s0,n=0,o=!1,a=!1;const c=new WeakSet,u={schedule:(f,h=!1,m=!1)=>{const p=m&&o,x=p?t:r;return h&&c.add(f),x.add(f)&&p&&o&&(n=t.order.length),f},cancel:f=>{r.remove(f),c.delete(f)},process:f=>{if(o){a=!0;return}if(o=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let h=0;h<n;h++){const m=t.order[h];m(f),c.has(m)&&(u.schedule(m),e())}o=!1,a&&(a=!1,u.process(f))}};return u}const Du=["prepare","read","update","preRender","render","postRender"],IE=40;function LE(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=Du.reduce((p,x)=>(p[x]=ME(()=>r=!0),p),{}),c=p=>a[p].process(o),u=()=>{const p=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(p-o.timestamp,IE),1),o.timestamp=p,o.isProcessing=!0,Du.forEach(c),o.isProcessing=!1,r&&t&&(n=!1,e(u))},f=()=>{r=!0,n=!0,o.isProcessing||e(u)};return{schedule:Du.reduce((p,x)=>{const y=a[x];return p[x]=(j,w=!1,_=!1)=>(r||f(),y.schedule(j,w,_)),p},{}),cancel:p=>Du.forEach(x=>a[x].cancel(p)),state:o,steps:a}}const{schedule:ot,cancel:rs,state:rr,steps:em}=LE(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0),FE={useVisualState:vj({scrapeMotionValuesFromProps:mj,createRenderState:uj,onMount:(e,t,{renderState:r,latestValues:n})=>{ot.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{Qp(r,n,{enableHardwareAcceleration:!1},Zp(t.tagName),e.transformTemplate),hj(t,r)})}})},UE={useVisualState:vj({scrapeMotionValuesFromProps:ev,createRenderState:Jp})};function BE(e,{forwardMotionProps:t=!1},r,n){return{...Kp(e)?FE:UE,preloadedFeatures:r,useRender:AE(t),createVisualElement:n,Component:e}}function Jn(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const gj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Dd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const VE=e=>t=>gj(t)&&e(t,Dd(t));function Zn(e,t,r,n){return Jn(e,t,VE(r),n)}const zE=(e,t)=>r=>t(e(r)),Xs=(...e)=>e.reduce(zE);function xj(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const i0=xj("dragHorizontal"),o0=xj("dragVertical");function yj(e){let t=!1;if(e==="y")t=o0();else if(e==="x")t=i0();else{const r=i0(),n=o0();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function wj(){const e=yj(!0);return e?(e(),!1):!0}class ii{constructor(t){this.isMounted=!1,this.node=t}update(){}}function a0(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),o=(a,c)=>{if(a.pointerType==="touch"||wj())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[n]&&ot.update(()=>u[n](a,c))};return Zn(e.current,r,o,{passive:!e.getProps()[n]})}class WE extends ii{mount(){this.unmount=Xs(a0(this.node,!0),a0(this.node,!1))}unmount(){}}class HE extends ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xs(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const bj=(e,t)=>t?e===t?!0:bj(e,t.parentElement):!1;function tm(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Dd(r))}class qE extends ii{constructor(){super(...arguments),this.removeStartListeners=jt,this.removeEndListeners=jt,this.removeAccessibleListeners=jt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Zn(window,"pointerup",(u,f)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:p}=this.node.getProps();ot.update(()=>{!p&&!bj(this.node.current,u.target)?m&&m(u,f):h&&h(u,f)})},{passive:!(n.onTap||n.onPointerUp)}),c=Zn(window,"pointercancel",(u,f)=>this.cancelPress(u,f),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Xs(a,c),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const c=u=>{u.key!=="Enter"||!this.checkPressEnd()||tm("up",(f,h)=>{const{onTap:m}=this.node.getProps();m&&ot.update(()=>m(f,h))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",c),tm("down",(u,f)=>{this.startPress(u,f)})},r=Jn(this.node.current,"keydown",t),n=()=>{this.isPressing&&tm("cancel",(a,c)=>this.cancelPress(a,c))},o=Jn(this.node.current,"blur",n);this.removeAccessibleListeners=Xs(r,o)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ot.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wj()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ot.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Zn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xs(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qm=new WeakMap,rm=new WeakMap,YE=e=>{const t=Qm.get(e.target);t&&t(e)},GE=e=>{e.forEach(YE)};function KE({root:e,...t}){const r=e||document;rm.has(r)||rm.set(r,{});const n=rm.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(GE,{root:e,...t})),n[o]}function XE(e,t,r){const n=KE(t);return Qm.set(e,r),n.observe(e),()=>{Qm.delete(e),n.unobserve(e)}}const JE={some:0,all:1};class QE extends ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:a}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:JE[o]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),x=h?m:p;x&&x(f)};return XE(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(ZE(t,r))&&this.startObserver()}unmount(){}}function ZE({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const eT={inView:{Feature:QE},tap:{Feature:qE},focus:{Feature:HE},hover:{Feature:WE}};function jj(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function tT(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function rT(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Rd(e,t,r){const n=e.getProps();return tv(n,t,r!==void 0?r:n.custom,tT(e),rT(e))}let rv=jt;const Mi=e=>e*1e3,es=e=>e/1e3,nT={current:!1},_j=e=>Array.isArray(e)&&typeof e[0]=="number";function Sj(e){return!!(!e||typeof e=="string"&&Nj[e]||_j(e)||Array.isArray(e)&&e.every(Sj))}const Sl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Nj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sl([0,.65,.55,1]),circOut:Sl([.55,0,1,.45]),backIn:Sl([.31,.01,.66,-.59]),backOut:Sl([.33,1.53,.69,.99])};function Cj(e){if(e)return _j(e)?Sl(e):Array.isArray(e)?e.map(Cj):Nj[e]}function sT(e,t,r,{delay:n=0,duration:o,repeat:a=0,repeatType:c="loop",ease:u,times:f}={}){const h={[t]:r};f&&(h.offset=f);const m=Cj(u);return Array.isArray(m)&&(h.easing=m),e.animate(h,{delay:n,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}function iT(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const kj=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,oT=1e-7,aT=12;function lT(e,t,r,n,o){let a,c,u=0;do c=t+(r-t)/2,a=kj(c,n,o)-e,a>0?r=c:t=c;while(Math.abs(a)>oT&&++u<aT);return c}function rc(e,t,r,n){if(e===t&&r===n)return jt;const o=a=>lT(a,0,1,e,r);return a=>a===0||a===1?a:kj(o(a),t,n)}const cT=rc(.42,0,1,1),uT=rc(0,0,.58,1),Pj=rc(.42,0,.58,1),dT=e=>Array.isArray(e)&&typeof e[0]!="number",Ej=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Tj=e=>t=>1-e(1-t),nv=e=>1-Math.sin(Math.acos(e)),Aj=Tj(nv),fT=Ej(nv),Dj=rc(.33,1.53,.69,.99),sv=Tj(Dj),hT=Ej(sv),mT=e=>(e*=2)<1?.5*sv(e):.5*(2-Math.pow(2,-10*(e-1))),pT={linear:jt,easeIn:cT,easeInOut:Pj,easeOut:uT,circIn:nv,circInOut:fT,circOut:Aj,backIn:sv,backInOut:hT,backOut:Dj,anticipate:mT},l0=e=>{if(Array.isArray(e)){rv(e.length===4);const[t,r,n,o]=e;return rc(t,r,n,o)}else if(typeof e=="string")return pT[e];return e},iv=(e,t)=>r=>!!(ec(r)&&gE.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Rj=(e,t,r)=>n=>{if(!ec(n))return n;const[o,a,c,u]=n.match(Ad);return{[e]:parseFloat(o),[t]:parseFloat(a),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},vT=e=>Zs(0,255,e),nm={...Hi,transform:e=>Math.round(vT(e))},Oi={test:iv("rgb","red"),parse:Rj("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+nm.transform(e)+", "+nm.transform(t)+", "+nm.transform(r)+", "+kl(Cl.transform(n))+")"};function gT(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Zm={test:iv("#"),parse:gT,transform:Oi.transform},Ko={test:iv("hsl","hue"),parse:Rj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+kn.transform(kl(t))+", "+kn.transform(kl(r))+", "+kl(Cl.transform(n))+")"},cr={test:e=>Oi.test(e)||Zm.test(e)||Ko.test(e),parse:e=>Oi.test(e)?Oi.parse(e):Ko.test(e)?Ko.parse(e):Zm.parse(e),transform:e=>ec(e)?e:e.hasOwnProperty("red")?Oi.transform(e):Ko.transform(e)},vt=(e,t,r)=>-r*e+r*t+e;function sm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,a=0,c=0;if(!t)o=a=c=r;else{const u=r<.5?r*(1+t):r+t-r*t,f=2*r-u;o=sm(f,u,e+1/3),a=sm(f,u,e),c=sm(f,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:n}}const im=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},yT=[Zm,Oi,Ko],wT=e=>yT.find(t=>t.test(e));function c0(e){const t=wT(e);let r=t.parse(e);return t===Ko&&(r=xT(r)),r}const Oj=(e,t)=>{const r=c0(e),n=c0(t),o={...r};return a=>(o.red=im(r.red,n.red,a),o.green=im(r.green,n.green,a),o.blue=im(r.blue,n.blue,a),o.alpha=vt(r.alpha,n.alpha,a),Oi.transform(o))};function bT(e){var t,r;return isNaN(e)&&ec(e)&&(((t=e.match(Ad))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(oj))===null||r===void 0?void 0:r.length)||0)>0}const $j={regex:pE,countKey:"Vars",token:"${v}",parse:jt},Mj={regex:oj,countKey:"Colors",token:"${c}",parse:cr.parse},Ij={regex:Ad,countKey:"Numbers",token:"${n}",parse:Hi.parse};function om(e,{regex:t,countKey:r,token:n,parse:o}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(o)))}function ld(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&om(r,$j),om(r,Mj),om(r,Ij),r}function Lj(e){return ld(e).values}function Fj(e){const{values:t,numColors:r,numVars:n,tokenised:o}=ld(e),a=t.length;return c=>{let u=o;for(let f=0;f<a;f++)f<n?u=u.replace($j.token,c[f]):f<n+r?u=u.replace(Mj.token,cr.transform(c[f])):u=u.replace(Ij.token,kl(c[f]));return u}}const jT=e=>typeof e=="number"?0:e;function _T(e){const t=Lj(e);return Fj(e)(t.map(jT))}const ei={test:bT,parse:Lj,createTransformer:Fj,getAnimatableNone:_T},Uj=(e,t)=>r=>`${r>0?t:e}`;function Bj(e,t){return typeof e=="number"?r=>vt(e,t,r):cr.test(e)?Oj(e,t):e.startsWith("var(")?Uj(e,t):zj(e,t)}const Vj=(e,t)=>{const r=[...e],n=r.length,o=e.map((a,c)=>Bj(a,t[c]));return a=>{for(let c=0;c<n;c++)r[c]=o[c](a);return r}},ST=(e,t)=>{const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=Bj(e[o],t[o]));return o=>{for(const a in n)r[a]=n[a](o);return r}},zj=(e,t)=>{const r=ei.createTransformer(t),n=ld(e),o=ld(t);return n.numVars===o.numVars&&n.numColors===o.numColors&&n.numNumbers>=o.numNumbers?Xs(Vj(n.values,o.values),r):Uj(e,t)},Fl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},u0=(e,t)=>r=>vt(e,t,r);function NT(e){return typeof e=="number"?u0:typeof e=="string"?cr.test(e)?Oj:zj:Array.isArray(e)?Vj:typeof e=="object"?ST:u0}function CT(e,t,r){const n=[],o=r||NT(e[0]),a=e.length-1;for(let c=0;c<a;c++){let u=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||jt:t;u=Xs(f,u)}n.push(u)}return n}function Wj(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const a=e.length;if(rv(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=CT(t,n,o),u=c.length,f=h=>{let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Fl(e[m],e[m+1],h);return c[m](p)};return r?h=>f(Zs(e[0],e[a-1],h)):f}function kT(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=Fl(0,t,n);e.push(vt(r,1,o))}}function PT(e){const t=[0];return kT(t,e.length-1),t}function ET(e,t){return e.map(r=>r*t)}function TT(e,t){return e.map(()=>t||Pj).splice(0,e.length-1)}function cd({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=dT(n)?n.map(l0):l0(n),a={done:!1,value:t[0]},c=ET(r&&r.length===t.length?r:PT(t),e),u=Wj(c,t,{ease:Array.isArray(o)?o:TT(t,o)});return{calculatedDuration:e,next:f=>(a.value=u(f),a.done=f>=e,a)}}function Hj(e,t){return t?e*(1e3/t):0}const AT=5;function qj(e,t,r){const n=Math.max(t-AT,0);return Hj(r-e(n),t-n)}const am=.001,DT=.01,RT=10,OT=.05,$T=1;function MT({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let o,a,c=1-t;c=Zs(OT,$T,c),e=Zs(DT,RT,es(e)),c<1?(o=h=>{const m=h*c,p=m*e,x=m-r,y=ep(h,c),j=Math.exp(-p);return am-x/y*j},a=h=>{const p=h*c*e,x=p*r+r,y=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-p),w=ep(Math.pow(h,2),c);return(-o(h)+am>0?-1:1)*((x-y)*j)/w}):(o=h=>{const m=Math.exp(-h*e),p=(h-r)*e+1;return-am+m*p},a=h=>{const m=Math.exp(-h*e),p=(r-h)*(e*e);return m*p});const u=5/e,f=LT(o,a,u);if(e=Mi(e),isNaN(f))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const IT=12;function LT(e,t,r){let n=r;for(let o=1;o<IT;o++)n=n-e(n)/t(n);return n}function ep(e,t){return e*Math.sqrt(1-t*t)}const FT=["duration","bounce"],UT=["stiffness","damping","mass"];function d0(e,t){return t.some(r=>e[r]!==void 0)}function BT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!d0(e,UT)&&d0(e,FT)){const r=MT(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Yj({keyframes:e,restDelta:t,restSpeed:r,...n}){const o=e[0],a=e[e.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=BT({...n,velocity:-es(n.velocity||0)}),y=p||0,j=f/(2*Math.sqrt(u*h)),w=a-o,_=es(Math.sqrt(u/h)),N=Math.abs(w)<5;r||(r=N?.01:2),t||(t=N?.005:.5);let C;if(j<1){const k=ep(_,j);C=T=>{const D=Math.exp(-j*_*T);return a-D*((y+j*_*w)/k*Math.sin(k*T)+w*Math.cos(k*T))}}else if(j===1)C=k=>a-Math.exp(-_*k)*(w+(y+_*w)*k);else{const k=_*Math.sqrt(j*j-1);C=T=>{const D=Math.exp(-j*_*T),P=Math.min(k*T,300);return a-D*((y+j*_*w)*Math.sinh(P)+k*w*Math.cosh(P))/k}}return{calculatedDuration:x&&m||null,next:k=>{const T=C(k);if(x)c.done=k>=m;else{let D=y;k!==0&&(j<1?D=qj(C,k,T):D=0);const P=Math.abs(D)<=r,E=Math.abs(a-T)<=t;c.done=P&&E}return c.value=c.done?a:T,c}}}function f0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const p=e[0],x={done:!1,value:p},y=R=>u!==void 0&&R<u||f!==void 0&&R>f,j=R=>u===void 0?f:f===void 0||Math.abs(u-R)<Math.abs(f-R)?u:f;let w=r*t;const _=p+w,N=c===void 0?_:c(_);N!==_&&(w=N-p);const C=R=>-w*Math.exp(-R/n),k=R=>N+C(R),T=R=>{const $=C(R),H=k(R);x.done=Math.abs($)<=h,x.value=x.done?N:H};let D,P;const E=R=>{y(x.value)&&(D=R,P=Yj({keyframes:[x.value,j(x.value)],velocity:qj(k,R,x.value),damping:o,stiffness:a,restDelta:h,restSpeed:m}))};return E(0),{calculatedDuration:null,next:R=>{let $=!1;return!P&&D===void 0&&($=!0,T(R),E(R)),D!==void 0&&R>D?P.next(R-D):(!$&&T(R),x)}}}const VT=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ot.update(t,!0),stop:()=>rs(t),now:()=>rr.isProcessing?rr.timestamp:performance.now()}},h0=2e4;function m0(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<h0;)t+=r,n=e.next(t);return t>=h0?1/0:t}const zT={decay:f0,inertia:f0,tween:cd,keyframes:cd,spring:Yj};function ud({autoplay:e=!0,delay:t=0,driver:r=VT,keyframes:n,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",onPlay:f,onStop:h,onComplete:m,onUpdate:p,...x}){let y=1,j=!1,w,_;const N=()=>{_=new Promise(O=>{w=O})};N();let C;const k=zT[o]||cd;let T;k!==cd&&typeof n[0]!="number"&&(T=Wj([0,100],n,{clamp:!1}),n=[0,100]);const D=k({...x,keyframes:n});let P;u==="mirror"&&(P=k({...x,keyframes:[...n].reverse(),velocity:-(x.velocity||0)}));let E="idle",R=null,$=null,H=null;D.calculatedDuration===null&&a&&(D.calculatedDuration=m0(D));const{calculatedDuration:te}=D;let Z=1/0,Y=1/0;te!==null&&(Z=te+c,Y=Z*(a+1)-c);let L=0;const B=O=>{if($===null)return;y>0&&($=Math.min($,O)),y<0&&($=Math.min(O-Y/y,$)),R!==null?L=R:L=Math.round(O-$)*y;const q=L-t*(y>=0?1:-1),ee=y>=0?q<0:q>Y;L=Math.max(q,0),E==="finished"&&R===null&&(L=Y);let de=L,pe=D;if(a){const ge=Math.min(L,Y)/Z;let xe=Math.floor(ge),ie=ge%1;!ie&&ge>=1&&(ie=1),ie===1&&xe--,xe=Math.min(xe,a+1),!!(xe%2)&&(u==="reverse"?(ie=1-ie,c&&(ie-=c/Z)):u==="mirror"&&(pe=P)),de=Zs(0,1,ie)*Z}const he=ee?{done:!1,value:n[0]}:pe.next(de);T&&(he.value=T(he.value));let{done:re}=he;!ee&&te!==null&&(re=y>=0?L>=Y:L<=0);const se=R===null&&(E==="finished"||E==="running"&&re);return p&&p(he.value),se&&M(),he},F=()=>{C&&C.stop(),C=void 0},W=()=>{E="idle",F(),w(),N(),$=H=null},M=()=>{E="finished",m&&m(),F(),w()},z=()=>{if(j)return;C||(C=r(B));const O=C.now();f&&f(),R!==null?$=O-R:(!$||E==="finished")&&($=O),E==="finished"&&N(),H=$,R=null,E="running",C.start()};e&&z();const X={then(O,q){return _.then(O,q)},get time(){return es(L)},set time(O){O=Mi(O),L=O,R!==null||!C||y===0?R=O:$=C.now()-O/y},get duration(){const O=D.calculatedDuration===null?m0(D):D.calculatedDuration;return es(O)},get speed(){return y},set speed(O){O===y||!C||(y=O,X.time=es(L))},get state(){return E},play:z,pause:()=>{E="paused",R=L},stop:()=>{j=!0,E!=="idle"&&(E="idle",h&&h(),W())},cancel:()=>{H!==null&&B(H),W()},complete:()=>{E="finished"},sample:O=>($=0,B(O))};return X}function WT(e){let t;return()=>(t===void 0&&(t=e()),t)}const HT=WT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ru=10,YT=2e4,GT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Sj(t.ease);function KT(e,t,{onUpdate:r,onComplete:n,...o}){if(!(HT()&&qT.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let c=!1,u,f,h=!1;const m=()=>{f=new Promise(k=>{u=k})};m();let{keyframes:p,duration:x=300,ease:y,times:j}=o;if(GT(t,o)){const k=ud({...o,repeat:0,delay:0});let T={done:!1,value:p[0]};const D=[];let P=0;for(;!T.done&&P<YT;)T=k.sample(P),D.push(T.value),P+=Ru;j=void 0,p=D,x=P-Ru,y="linear"}const w=sT(e.owner.current,t,p,{...o,duration:x,ease:y,times:j}),_=()=>{h=!1,w.cancel()},N=()=>{h=!0,ot.update(_),u(),m()};return w.onfinish=()=>{h||(e.set(iT(p,o)),n&&n(),N())},{then(k,T){return f.then(k,T)},attachTimeline(k){return w.timeline=k,w.onfinish=null,jt},get time(){return es(w.currentTime||0)},set time(k){w.currentTime=Mi(k)},get speed(){return w.playbackRate},set speed(k){w.playbackRate=k},get duration(){return es(x)},play:()=>{c||(w.play(),rs(_))},pause:()=>w.pause(),stop:()=>{if(c=!0,w.playState==="idle")return;const{currentTime:k}=w;if(k){const T=ud({...o,autoplay:!1});e.setWithVelocity(T.sample(k-Ru).value,T.sample(k).value,Ru)}N()},complete:()=>{h||w.finish()},cancel:N}}function XT({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const o=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:jt,pause:jt,stop:jt,then:a=>(a(),Promise.resolve()),cancel:jt,complete:jt});return t?ud({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const JT={type:"spring",stiffness:500,damping:25,restSpeed:10},QT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZT={type:"keyframes",duration:.8},eA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tA=(e,{keyframes:t})=>t.length>2?ZT:Wi.has(e)?e.startsWith("scale")?QT(t[1]):JT:eA,tp=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ei.test(t)||t==="0")&&!t.startsWith("url(")),rA=new Set(["brightness","contrast","saturate","opacity"]);function nA(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ad)||[];if(!n)return e;const o=r.replace(n,"");let a=rA.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+o+")"}const sA=/([a-z-]*)\(.*?\)/g,rp={...ei,getAnimatableNone:e=>{const t=e.match(sA);return t?t.map(nA).join(" "):e}},iA={...aj,color:cr,backgroundColor:cr,outlineColor:cr,fill:cr,stroke:cr,borderColor:cr,borderTopColor:cr,borderRightColor:cr,borderBottomColor:cr,borderLeftColor:cr,filter:rp,WebkitFilter:rp},ov=e=>iA[e];function Gj(e,t){let r=ov(e);return r!==rp&&(r=ei),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Kj=e=>/^0[^.\s]+$/.test(e);function oA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Kj(e)}function aA(e,t,r,n){const o=tp(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const c=n.from!==void 0?n.from:e.get();let u;const f=[];for(let h=0;h<a.length;h++)a[h]===null&&(a[h]=h===0?c:a[h-1]),oA(a[h])&&f.push(h),typeof a[h]=="string"&&a[h]!=="none"&&a[h]!=="0"&&(u=a[h]);if(o&&f.length&&u)for(let h=0;h<f.length;h++){const m=f[h];a[m]=Gj(t,u)}return a}function lA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}function av(e,t){return e[t]||e.default||e}const cA={skipAnimations:!1},lv=(e,t,r,n={})=>o=>{const a=av(n,e)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Mi(c);const f=aA(t,e,r,a),h=f[0],m=f[f.length-1],p=tp(e,h),x=tp(e,m);let y={keyframes:f,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:j=>{t.set(j),a.onUpdate&&a.onUpdate(j)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}};if(lA(a)||(y={...y,...tA(e,y)}),y.duration&&(y.duration=Mi(y.duration)),y.repeatDelay&&(y.repeatDelay=Mi(y.repeatDelay)),!p||!x||nT.current||a.type===!1||cA.skipAnimations)return XT(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=KT(t,e,y);if(j)return j}return ud(y)};function dd(e){return!!(_r(e)&&e.add)}const Xj=e=>/^\-?\d*\.?\d+$/.test(e);function cv(e,t){e.indexOf(t)===-1&&e.push(t)}function uv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class dv{constructor(){this.subscriptions=[]}add(t){return cv(this.subscriptions,t),()=>uv(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uA=e=>!isNaN(parseFloat(e));class dA{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,o=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:c}=rr;this.lastUpdated!==c&&(this.timeDelta=a,this.lastUpdated=c,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=uA(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new dv);const n=this.events[t].add(r);return t==="change"?()=>{n(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Hj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function na(e,t){return new dA(e,t)}const Jj=e=>t=>t.test(e),fA={test:e=>e==="auto",parse:e=>e},Qj=[Hi,Me,kn,Us,yE,xE,fA],ml=e=>Qj.find(Jj(e)),hA=[...Qj,cr,ei],mA=e=>hA.find(Jj(e));function pA(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,na(r))}function vA(e,t){const r=Rd(e,t);let{transitionEnd:n={},transition:o={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const c in a){const u=RE(a[c]);pA(e,c,u)}}function gA(e,t,r){var n,o;const a=Object.keys(t).filter(u=>!e.hasValue(u)),c=a.length;if(c)for(let u=0;u<c;u++){const f=a[u],h=t[f];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(o=(n=r[f])!==null&&n!==void 0?n:e.readValue(f))!==null&&o!==void 0?o:t[f]),m!=null&&(typeof m=="string"&&(Xj(m)||Kj(m))?m=parseFloat(m):!mA(m)&&ei.test(h)&&(m=Gj(f,h)),e.addValue(f,na(m,{owner:e})),r[f]===void 0&&(r[f]=m),m!==null&&e.setBaseTarget(f,m))}}function xA(e,t){return t?(t[e]||t.default||t).from:void 0}function yA(e,t,r){const n={};for(const o in e){const a=xA(o,t);if(a!==void 0)n[o]=a;else{const c=r.getValue(o);c&&(n[o]=c.get())}}return n}function wA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function bA(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Zj(e,t,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...u}=e.makeTargetAnimatable(t);const f=e.getValue("willChange");n&&(a=n);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in u){const x=e.getValue(p),y=u[p];if(!x||y===void 0||m&&wA(m,p))continue;const j={delay:r,elapsed:0,...av(a||{},p)};if(window.HandoffAppearAnimations){const N=e.getProps()[ej];if(N){const C=window.HandoffAppearAnimations(N,p,x,ot);C!==null&&(j.elapsed=C,j.isHandoff=!0)}}let w=!j.isHandoff&&!bA(x,y);if(j.type==="spring"&&(x.getVelocity()||j.velocity)&&(w=!1),x.animation&&(w=!1),w)continue;x.start(lv(p,x,y,e.shouldReduceMotion&&Wi.has(p)?{type:!1}:j));const _=x.animation;dd(f)&&(f.add(p),_.then(()=>f.remove(p))),h.push(_)}return c&&Promise.all(h).then(()=>{c&&vA(e,c)}),h}function np(e,t,r={}){const n=Rd(e,t,r.custom);let{transition:o=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const a=n?()=>Promise.all(Zj(e,n,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=o;return jA(e,t,h+f,m,p,r)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,h]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>h())}else return Promise.all([a(),c(r.delay)])}function jA(e,t,r=0,n=0,o=1,a){const c=[],u=(e.variantChildren.size-1)*n,f=o===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(e.variantChildren).sort(_A).forEach((h,m)=>{h.notify("AnimationStart",t),c.push(np(h,t,{...a,delay:r+f(m)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function _A(e,t){return e.sortNodePosition(t)}function SA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(a=>np(e,a,r));n=Promise.all(o)}else if(typeof t=="string")n=np(e,t,r);else{const o=typeof t=="function"?Rd(e,t,r.custom):t;n=Promise.all(Zj(e,o,r))}return n.then(()=>e.notify("AnimationComplete",t))}const NA=[...qp].reverse(),CA=qp.length;function kA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>SA(e,r,n)))}function PA(e){let t=kA(e);const r=TA();let n=!0;const o=(f,h)=>{const m=Rd(e,h);if(m){const{transition:p,transitionEnd:x,...y}=m;f={...f,...y,...x}}return f};function a(f){t=f(e)}function c(f,h){const m=e.getProps(),p=e.getVariantContext(!0)||{},x=[],y=new Set;let j={},w=1/0;for(let N=0;N<CA;N++){const C=NA[N],k=r[C],T=m[C]!==void 0?m[C]:p[C],D=Il(T),P=C===h?k.isActive:null;P===!1&&(w=N);let E=T===p[C]&&T!==m[C]&&D;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),k.protectedKeys={...j},!k.isActive&&P===null||!T&&!k.prevProp||Ed(T)||typeof T=="boolean")continue;let $=EA(k.prevProp,T)||C===h&&k.isActive&&!E&&D||N>w&&D,H=!1;const te=Array.isArray(T)?T:[T];let Z=te.reduce(o,{});P===!1&&(Z={});const{prevResolvedValues:Y={}}=k,L={...Y,...Z},B=F=>{$=!0,y.has(F)&&(H=!0,y.delete(F)),k.needsAnimating[F]=!0};for(const F in L){const W=Z[F],M=Y[F];if(j.hasOwnProperty(F))continue;let z=!1;ad(W)&&ad(M)?z=!jj(W,M):z=W!==M,z?W!==void 0?B(F):y.add(F):W!==void 0&&y.has(F)?B(F):k.protectedKeys[F]=!0}k.prevProp=T,k.prevResolvedValues=Z,k.isActive&&(j={...j,...Z}),n&&e.blockInitialAnimation&&($=!1),$&&(!E||H)&&x.push(...te.map(F=>({animation:F,options:{type:C,...f}})))}if(y.size){const N={};y.forEach(C=>{const k=e.getBaseTarget(C);k!==void 0&&(N[C]=k)}),x.push({animation:N})}let _=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(x):Promise.resolve()}function u(f,h,m){var p;if(r[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(y=>{var j;return(j=y.animationState)===null||j===void 0?void 0:j.setActive(f,h)}),r[f].isActive=h;const x=c(m,f);for(const y in r)r[y].protectedKeys={};return x}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>r}}function EA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jj(t,e):!1}function Ci(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TA(){return{animate:Ci(!0),whileInView:Ci(),whileHover:Ci(),whileTap:Ci(),whileDrag:Ci(),whileFocus:Ci(),exit:Ci()}}class AA extends ii{constructor(t){super(t),t.animationState||(t.animationState=PA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ed(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let DA=0;class RA extends ii{constructor(){super(...arguments),this.id=DA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const OA={animation:{Feature:AA},exit:{Feature:RA}},p0=(e,t)=>Math.abs(e-t);function $A(e,t){const r=p0(e.x,t.x),n=p0(e.y,t.y);return Math.sqrt(r**2+n**2)}class e_{constructor(t,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=cm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=$A(p.offset,{x:0,y:0})>=3;if(!x&&!y)return;const{point:j}=p,{timestamp:w}=rr;this.history.push({...j,timestamp:w});const{onStart:_,onMove:N}=this.handlers;x||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=lm(x,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=cm(p.type==="pointercancel"?this.lastMoveEventInfo:lm(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,_),j&&j(p,_)},!gj(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=Dd(t),u=lm(c,this.transformPagePoint),{point:f}=u,{timestamp:h}=rr;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=r;m&&m(t,cm(u,this.history)),this.removeListeners=Xs(Zn(this.contextWindow,"pointermove",this.handlePointerMove),Zn(this.contextWindow,"pointerup",this.handlePointerUp),Zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function lm(e,t){return t?{point:t(e.point)}:e}function v0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cm({point:e},t){return{point:e,delta:v0(e,t_(t)),offset:v0(e,MA(t)),velocity:IA(t,.1)}}function MA(e){return e[0]}function t_(e){return e[e.length-1]}function IA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=t_(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>Mi(t)));)r--;if(!n)return{x:0,y:0};const a=es(o.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-n.x)/a,y:(o.y-n.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Rr(e){return e.max-e.min}function sp(e,t=0,r=.01){return Math.abs(e-t)<=r}function g0(e,t,r,n=.5){e.origin=n,e.originPoint=vt(t.min,t.max,e.origin),e.scale=Rr(r)/Rr(t),(sp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=vt(r.min,r.max,e.origin)-e.originPoint,(sp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Pl(e,t,r,n){g0(e.x,t.x,r.x,n?n.originX:void 0),g0(e.y,t.y,r.y,n?n.originY:void 0)}function x0(e,t,r){e.min=r.min+t.min,e.max=e.min+Rr(t)}function LA(e,t,r){x0(e.x,t.x,r.x),x0(e.y,t.y,r.y)}function y0(e,t,r){e.min=t.min-r.min,e.max=e.min+Rr(t)}function El(e,t,r){y0(e.x,t.x,r.x),y0(e.y,t.y,r.y)}function FA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?vt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?vt(r,e,n.max):Math.min(e,r)),e}function w0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function UA(e,{top:t,left:r,bottom:n,right:o}){return{x:w0(e.x,r,o),y:w0(e.y,t,n)}}function b0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function BA(e,t){return{x:b0(e.x,t.x),y:b0(e.y,t.y)}}function VA(e,t){let r=.5;const n=Rr(e),o=Rr(t);return o>n?r=Fl(t.min,t.max-n,e.min):n>o&&(r=Fl(e.min,e.max-o,t.min)),Zs(0,1,r)}function zA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ip=.35;function WA(e=ip){return e===!1?e=0:e===!0&&(e=ip),{x:j0(e,"left","right"),y:j0(e,"top","bottom")}}function j0(e,t,r){return{min:_0(e,t),max:_0(e,r)}}function _0(e,t){return typeof e=="number"?e:e[t]||0}const S0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:S0(),y:S0()}),N0=()=>({min:0,max:0}),Nt=()=>({x:N0(),y:N0()});function zr(e){return[e("x"),e("y")]}function r_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function HA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function um(e){return e===void 0||e===1}function op({scale:e,scaleX:t,scaleY:r}){return!um(e)||!um(t)||!um(r)}function Pi(e){return op(e)||n_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function n_(e){return C0(e.x)||C0(e.y)}function C0(e){return e&&e!=="0%"}function fd(e,t,r){const n=e-r,o=t*n;return r+o}function k0(e,t,r,n,o){return o!==void 0&&(e=fd(e,o,n)),fd(e,r,n)+t}function ap(e,t=0,r=1,n,o){e.min=k0(e.min,t,r,n,o),e.max=k0(e.max,t,r,n,o)}function s_(e,{x:t,y:r}){ap(e.x,t.translate,t.scale,t.originPoint),ap(e.y,r.translate,r.scale,r.originPoint)}function YA(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let a,c;for(let u=0;u<o;u++){a=r[u],c=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Jo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,s_(e,c)),n&&Pi(a.latestValues)&&Jo(e,a.latestValues))}t.x=P0(t.x),t.y=P0(t.y)}function P0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Hs(e,t){e.min=e.min+t,e.max=e.max+t}function E0(e,t,[r,n,o]){const a=t[o]!==void 0?t[o]:.5,c=vt(e.min,e.max,a);ap(e,t[r],t[n],c,t.scale)}const GA=["x","scaleX","originX"],KA=["y","scaleY","originY"];function Jo(e,t){E0(e.x,t,GA),E0(e.y,t,KA)}function i_(e,t){return r_(qA(e.getBoundingClientRect(),t))}function XA(e,t,r){const n=i_(e,r),{scroll:o}=t;return o&&(Hs(n.x,o.offset.x),Hs(n.y,o.offset.y)),n}const o_=({current:e})=>e?e.ownerDocument.defaultView:null,JA=new WeakMap;class QA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Dd(m,"page").point)},a=(m,p)=>{const{drag:x,dragPropagation:y,onDragStart:j}=this.getProps();if(x&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yj(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(_=>{let N=this.getAxisMotionValue(_).get()||0;if(kn.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[_];k&&(N=Rr(k)*(parseFloat(N)/100))}}this.originPoint[_]=N}),j&&ot.update(()=>j(m,p),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,p)=>{const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:j,onDrag:w}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:_}=p;if(y&&this.currentDirection===null){this.currentDirection=ZA(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),w&&w(m,p)},u=(m,p)=>this.stop(m,p),f=()=>zr(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new e_(t,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:o_(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ot.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!Ou(t,o,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=FA(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Go(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=UA(o.layoutBox,r):this.constraints=!1,this.elastic=WA(n),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&zr(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=zA(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Go(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=XA(n,o.root,this.visualElement.getTransformPagePoint());let c=BA(o.layout.layoutBox,a);if(r){const u=r(HA(c));this.hasMutatedConstraints=!!u,u&&(c=r_(u))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=zr(m=>{if(!Ou(m,r,this.currentDirection))return;let p=f&&f[m]||{};c&&(p={min:0,max:0});const x=o?200:1e6,y=o?40:1e7,j={type:"inertia",velocity:n?t[m]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(lv(t,n,0,r))}stopAnimation(){zr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){zr(r=>{const{drag:n}=this.getProps();if(!Ou(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[r];a.set(t[r]-vt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Go(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zr(c=>{const u=this.getAxisMotionValue(c);if(u){const f=u.get();o[c]=VA({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zr(c=>{if(!Ou(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(vt(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;JA.set(this.visualElement,this);const t=this.visualElement.current,r=Zn(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Go(f)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),n();const c=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(zr(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=f[m].translate,p.set(p.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),r(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=ip,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function Ou(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ZA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class eD extends ii{constructor(t){super(t),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new QA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const T0=e=>(t,r)=>{e&&ot.update(()=>e(t,r))};class tD extends ii{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(t){this.session=new e_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:T0(t),onStart:T0(r),onMove:n,onEnd:(a,c)=>{delete this.session,o&&ot.update(()=>o(a,c))}}}mount(){this.removePointerDownListener=Zn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function rD(){const e=v.useContext(kd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,o=v.useId();return v.useEffect(()=>n(o),[]),!t&&r?[!1,()=>r&&r(o)]:[!0]}const ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const r=A0(e,t.target.x),n=A0(e,t.target.y);return`${r}% ${n}%`}},nD={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=ei.parse(e);if(o.length>5)return n;const a=ei.createTransformer(e),c=typeof o[0]!="number"?1:0,u=r.x.scale*t.x,f=r.y.scale*t.y;o[0+c]/=u,o[1+c]/=f;const h=vt(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),a(o)}};class sD extends me.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:a}=t;dE(iD),a&&(r.group&&r.group.add(a),n&&n.register&&o&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:a}=this.props,c=n.projection;return c&&(c.isPresent=a,o||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||ot.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function a_(e){const[t,r]=rD(),n=v.useContext(Gp);return me.createElement(sD,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(rj),isPresent:t,safeToRemove:r})}const iD={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:nD},l_=["TopLeft","TopRight","BottomLeft","BottomRight"],oD=l_.length,D0=e=>typeof e=="string"?parseFloat(e):e,R0=e=>typeof e=="number"||Me.test(e);function aD(e,t,r,n,o,a){o?(e.opacity=vt(0,r.opacity!==void 0?r.opacity:1,lD(n)),e.opacityExit=vt(t.opacity!==void 0?t.opacity:1,0,cD(n))):a&&(e.opacity=vt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<oD;c++){const u=`border${l_[c]}Radius`;let f=O0(t,u),h=O0(r,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||R0(f)===R0(h)?(e[u]=Math.max(vt(D0(f),D0(h),n),0),(kn.test(h)||kn.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||r.rotate)&&(e.rotate=vt(t.rotate||0,r.rotate||0,n))}function O0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lD=c_(0,.5,Aj),cD=c_(.5,.95,jt);function c_(e,t,r){return n=>n<e?0:n>t?1:r(Fl(e,t,n))}function $0(e,t){e.min=t.min,e.max=t.max}function Vr(e,t){$0(e.x,t.x),$0(e.y,t.y)}function M0(e,t,r,n,o){return e-=t,e=fd(e,1/r,n),o!==void 0&&(e=fd(e,1/o,n)),e}function uD(e,t=0,r=1,n=.5,o,a=e,c=e){if(kn.test(t)&&(t=parseFloat(t),t=vt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=vt(a.min,a.max,n);e===a&&(u-=t),e.min=M0(e.min,t,r,u,o),e.max=M0(e.max,t,r,u,o)}function I0(e,t,[r,n,o],a,c){uD(e,t[r],t[n],t[o],t.scale,a,c)}const dD=["x","scaleX","originX"],fD=["y","scaleY","originY"];function L0(e,t,r,n){I0(e.x,t,dD,r?r.x:void 0,n?n.x:void 0),I0(e.y,t,fD,r?r.y:void 0,n?n.y:void 0)}function F0(e){return e.translate===0&&e.scale===1}function u_(e){return F0(e.x)&&F0(e.y)}function hD(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function d_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function U0(e){return Rr(e.x)/Rr(e.y)}class mD{constructor(){this.members=[]}add(t){cv(this.members,t),t.scheduleRender()}remove(t){if(uv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B0(e,t,r){let n="";const o=e.x.translate/t.x,a=e.y.translate/t.y;if((o||a)&&(n=`translate3d(${o}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:f,rotateX:h,rotateY:m}=r;f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const pD=(e,t)=>e.depth-t.depth;class vD{constructor(){this.children=[],this.isDirty=!1}add(t){cv(this.children,t),this.isDirty=!0}remove(t){uv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pD),this.isDirty=!1,this.children.forEach(t)}}function gD(e,t){const r=performance.now(),n=({timestamp:o})=>{const a=o-r;a>=t&&(rs(n),e(a-t))};return ot.read(n,!0),()=>rs(n)}function xD(e){window.MotionDebug&&window.MotionDebug.record(e)}function yD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function wD(e,t,r){const n=_r(e)?e:na(e);return n.start(lv("",n,t,r)),n.animation}const V0=["","X","Y","Z"],bD={visibility:"hidden"},z0=1e3;let jD=0;const Ei={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function f_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},u=t==null?void 0:t()){this.id=jD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ei.totalNodes=Ei.resolvedTargetDeltas=Ei.recalculatedProjection=0,this.nodes.forEach(ND),this.nodes.forEach(TD),this.nodes.forEach(AD),this.nodes.forEach(CD),xD(Ei)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yD(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),e){let p;const x=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=gD(x,250),ed.hasAnimatedSinceResize&&(ed.hasAnimatedSinceResize=!1,this.nodes.forEach(H0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:y,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||MD,{onLayoutAnimationStart:_,onLayoutAnimationComplete:N}=m.getProps(),C=!this.targetLayout||!d_(this.targetLayout,j)||y,k=!x&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const T={...av(w,"layout"),onPlay:_,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else x||H0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W0);return}this.isUpdating||this.nodes.forEach(PD),this.isUpdating=!1,this.nodes.forEach(ED),this.nodes.forEach(_D),this.nodes.forEach(SD),this.clearAllSnapshots();const u=performance.now();rr.delta=Zs(0,1e3/60,u-rr.timestamp),rr.timestamp=u,rr.isProcessing=!0,em.update.process(rr),em.preRender.process(rr),em.render.process(rr),rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kD),this.sharedNodes.forEach(RD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!u_(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&(u||Pi(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),ID(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Nt();const u=c.measureViewportBox(),{scroll:f}=this.root;return f&&(Hs(u.x,f.offset.x),Hs(u.y,f.offset.y)),u}removeElementScroll(c){const u=Nt();Vr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:p}=h;if(h!==this.root&&m&&p.layoutScroll){if(m.isRoot){Vr(u,c);const{scroll:x}=this.root;x&&(Hs(u.x,-x.offset.x),Hs(u.y,-x.offset.y))}Hs(u.x,m.offset.x),Hs(u.y,m.offset.y)}}return u}applyTransform(c,u=!1){const f=Nt();Vr(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Jo(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Pi(m.latestValues)&&Jo(f,m.latestValues)}return Pi(this.latestValues)&&Jo(f,this.latestValues),f}removeTransform(c){const u=Nt();Vr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Pi(h.latestValues))continue;op(h.latestValues)&&h.updateSnapshot();const m=Nt(),p=h.measurePageBox();Vr(m,p),L0(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Pi(this.latestValues)&&L0(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=rr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),El(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),s_(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),El(this.relativeTargetOrigin,this.target,y.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ei.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||op(this.parent.latestValues)||n_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===rr.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Vr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;YA(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:j}=u;if(!j){this.projectionTransform&&(this.projectionDelta=Xo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo());const w=this.projectionTransform;Pl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=B0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==x||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Ei.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},p=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Nt(),y=f?f.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,_=this.getStack(),N=!_||_.members.length<=1,C=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some($D));this.animationProgress=0;let k;this.mixTargetDelta=T=>{const D=T/1e3;q0(p.x,c.x,D),q0(p.y,c.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(El(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OD(this.relativeTarget,this.relativeTargetOrigin,x,D),k&&hD(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Nt()),Vr(k,this.relativeTarget)),w&&(this.animationValues=m,aD(m,h,this.latestValues,D,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{ed.hasAnimatedSinceResize=!0,this.currentAnimation=wD(0,z0,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&h_(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||Nt();const p=Rr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+p;const x=Rr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}Vr(u,f),Jo(u,m),Pl(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new mD),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<V0.length;m++){const p="rotate"+V0[m];f[p]&&(h[p]=f[p],c.setStaticValue(p,0))}c.render();for(const m in h)c.setStaticValue(m,h[m]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bD;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Zu(c==null?void 0:c.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Zu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Pi(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=B0(this.projectionDeltaWithTransform,this.treeScale,x),m&&(h.transform=m(x,h.transform));const{x:y,y:j}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${j.origin*100}% 0`,p.animationValues?h.opacity=p===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in id){if(x[w]===void 0)continue;const{correct:_,applyTo:N}=id[w],C=h.transform==="none"?x[w]:_(x[w],p);if(N){const k=N.length;for(let T=0;T<k;T++)h[N[T]]=C}else h[w]=C}return this.options.layoutId&&(h.pointerEvents=p===this?Zu(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(W0),this.root.sharedNodes.clear()}}}function _D(e){e.updateLayout()}function SD(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:a}=e.options,c=r.source!==e.layout.source;a==="size"?zr(p=>{const x=c?r.measuredBox[p]:r.layoutBox[p],y=Rr(x);x.min=n[p].min,x.max=x.min+y}):h_(a,r.layoutBox,n)&&zr(p=>{const x=c?r.measuredBox[p]:r.layoutBox[p],y=Rr(n[p]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const u=Xo();Pl(u,n,r.layoutBox);const f=Xo();c?Pl(f,e.applyTransform(o,!0),r.measuredBox):Pl(f,n,r.layoutBox);const h=!u_(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const j=Nt();El(j,r.layoutBox,x.layoutBox);const w=Nt();El(w,n,y.layoutBox),d_(j,w)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ND(e){Ei.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function CD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kD(e){e.clearSnapshot()}function W0(e){e.clearMeasurements()}function PD(e){e.isLayoutDirty=!1}function ED(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TD(e){e.resolveTargetDelta()}function AD(e){e.calcProjection()}function DD(e){e.resetRotation()}function RD(e){e.removeLeadSnapshot()}function q0(e,t,r){e.translate=vt(t.translate,0,r),e.scale=vt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Y0(e,t,r,n){e.min=vt(t.min,r.min,n),e.max=vt(t.max,r.max,n)}function OD(e,t,r,n){Y0(e.x,t.x,r.x,n),Y0(e.y,t.y,r.y,n)}function $D(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MD={duration:.45,ease:[.4,0,.1,1]},G0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),K0=G0("applewebkit/")&&!G0("chrome/")?Math.round:jt;function X0(e){e.min=K0(e.min),e.max=K0(e.max)}function ID(e){X0(e.x),X0(e.y)}function h_(e,t,r){return e==="position"||e==="preserve-aspect"&&!sp(U0(t),U0(r),.2)}const LD=f_({attachResizeListener:(e,t)=>Jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dm={current:void 0},m_=f_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dm.current){const e=new LD({});e.mount(window),e.setOptions({layoutScroll:!0}),dm.current=e}return dm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),FD={pan:{Feature:tD},drag:{Feature:eD,ProjectionNode:m_,MeasureLayout:a_}},UD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function BD(e){const t=UD.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function lp(e,t,r=1){const[n,o]=BD(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const c=a.trim();return Xj(c)?parseFloat(c):c}else return Jm(o)?lp(o,t,r+1):o}function VD(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(o=>{const a=o.get();if(!Jm(a))return;const c=lp(a,n);c&&o.set(c)});for(const o in t){const a=t[o];if(!Jm(a))continue;const c=lp(a,n);c&&(t[o]=c,r||(r={}),r[o]===void 0&&(r[o]=a))}return{target:t,transitionEnd:r}}const zD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),p_=e=>zD.has(e),WD=e=>Object.keys(e).some(p_),J0=e=>e===Hi||e===Me,Q0=(e,t)=>parseFloat(e.split(", ")[t]),Z0=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/);if(o)return Q0(o[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?Q0(a[1],e):0}},HD=new Set(["x","y","z"]),qD=Zl.filter(e=>!HD.has(e));function YD(e){const t=[];return qD.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const sa={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Z0(4,13),y:Z0(5,14)};sa.translateX=sa.x;sa.translateY=sa.y;const GD=(e,t,r)=>{const n=t.measureViewportBox(),o=t.current,a=getComputedStyle(o),{display:c}=a,u={};c==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(h=>{u[h]=sa[h](n,a)}),t.render();const f=t.measureViewportBox();return r.forEach(h=>{const m=t.getValue(h);m&&m.jump(u[h]),e[h]=sa[h](f,a)}),e},KD=(e,t,r={},n={})=>{t={...t},n={...n};const o=Object.keys(t).filter(p_);let a=[],c=!1;const u=[];if(o.forEach(f=>{const h=e.getValue(f);if(!e.hasValue(f))return;let m=r[f],p=ml(m);const x=t[f];let y;if(ad(x)){const j=x.length,w=x[0]===null?1:0;m=x[w],p=ml(m);for(let _=w;_<j&&x[_]!==null;_++)y?rv(ml(x[_])===y):y=ml(x[_])}else y=ml(x);if(p!==y)if(J0(p)&&J0(y)){const j=h.get();typeof j=="string"&&h.set(parseFloat(j)),typeof x=="string"?t[f]=parseFloat(x):Array.isArray(x)&&y===Me&&(t[f]=x.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(m===0||x===0)?m===0?h.set(y.transform(m)):t[f]=p.transform(x):(c||(a=YD(e),c=!0),u.push(f),n[f]=n[f]!==void 0?n[f]:t[f],h.jump(x))}),u.length){const f=u.indexOf("height")>=0?window.pageYOffset:null,h=GD(t,e,u);return a.length&&a.forEach(([m,p])=>{e.getValue(m).set(p)}),e.render(),Pd&&f!==null&&window.scrollTo({top:f}),{target:h,transitionEnd:n}}else return{target:t,transitionEnd:n}};function XD(e,t,r,n){return WD(t)?KD(e,t,r,n):{target:t,transitionEnd:n}}const JD=(e,t,r,n)=>{const o=VD(e,t,n);return t=o.target,n=o.transitionEnd,XD(e,t,r,n)},cp={current:null},v_={current:!1};function QD(){if(v_.current=!0,!!Pd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cp.current=e.matches;e.addListener(t),t()}else cp.current=!1}function ZD(e,t,r){const{willChange:n}=t;for(const o in t){const a=t[o],c=r[o];if(_r(a))e.addValue(o,a),dd(n)&&n.add(o);else if(_r(c))e.addValue(o,na(a,{owner:e})),dd(n)&&n.remove(o);else if(c!==a)if(e.hasValue(o)){const u=e.getValue(o);!u.hasAnimated&&u.set(a)}else{const u=e.getStaticValue(o);e.addValue(o,na(u!==void 0?u:a,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const ew=new WeakMap,g_=Object.keys(Ll),eR=g_.length,tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tR=Yp.length;class rR{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=Td(r),this.isVariantNode=tj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{});for(const p in m){const x=m[p];u[p]!==void 0&&_r(x)&&(x.set(u[p],!1),dd(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,ew.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),v_.current||QD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ew.delete(this.current),this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Wi.has(t),o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,o,a){let c,u;for(let f=0;f<eR;f++){const h=g_[f],{isEnabled:m,Feature:p,ProjectionNode:x,MeasureLayout:y}=Ll[h];x&&(c=x),m(r)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(u=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:h,drag:m,dragConstraints:p,layoutScroll:x,layoutRoot:y}=r;this.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:!!m||p&&Go(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:a,layoutScroll:x,layoutRoot:y})}return u}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<tw.length;n++){const o=tw[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a=t["on"+o];a&&(this.propEventSubscriptions[o]=this.on(o,a))}this.prevMotionValues=ZD(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<tR;n++){const o=Yp[n],a=this.props[o];(Il(a)||a===!1)&&(r[o]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=na(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,o=typeof n=="string"||typeof n=="object"?(r=tv(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!_r(a)?a:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new dv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class x_ extends rR{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:o},a){let c=yA(n,t||{},this);if(o&&(r&&(r=o(r)),n&&(n=o(n)),c&&(c=o(c))),a){gA(this,n,c);const u=JD(this,n,c,r);r=u.transitionEnd,n=u.target}return{transition:t,transitionEnd:r,...n}}}function nR(e){return window.getComputedStyle(e)}class sR extends x_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Wi.has(r)){const n=ov(r);return n&&n.default||0}else{const n=nR(t),o=(ij(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return i_(t,r)}build(t,r,n,o){Xp(t,r,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,r){return ev(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_r(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,o){dj(t,r,n,o)}}class iR extends x_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Wi.has(r)){const n=ov(r);return n&&n.default||0}return r=fj.has(r)?r:Hp(r),t.getAttribute(r)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(t,r){return mj(t,r)}build(t,r,n,o){Qp(t,r,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,r,n,o){hj(t,r,n,o)}mount(t){this.isSVGTag=Zp(t.tagName),super.mount(t)}}const oR=(e,t)=>Kp(e)?new iR(t,{enableHardwareAcceleration:!1}):new sR(t,{enableHardwareAcceleration:!0}),aR={layout:{ProjectionNode:m_,MeasureLayout:a_}},lR={...OA,...eT,...FD,...aR},je=cE((e,t)=>BE(e,t,lR,oR));function y_(){const e=v.useRef(!1);return Wp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function cR(){const e=y_(),[t,r]=v.useState(0),n=v.useCallback(()=>{e.current&&r(t+1)},[t]);return[v.useCallback(()=>ot.postRender(n),[n]),t]}class uR extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function dR({children:e,isPresent:t}){const r=v.useId(),n=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:f}=o.current;if(t||!n.current||!a||!c)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),v.createElement(uR,{isPresent:t,childRef:n,sizeRef:o},v.cloneElement(e,{ref:n}))}const fm=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:a,mode:c})=>{const u=pj(fR),f=v.useId(),h=v.useMemo(()=>({id:f,initial:t,isPresent:r,custom:o,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),a?void 0:[r]);return v.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),v.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),c==="popLayout"&&(e=v.createElement(dR,{isPresent:r},e)),v.createElement(kd.Provider,{value:h},e)};function fR(){return new Map}function hR(e){return v.useEffect(()=>()=>e(),[])}const Ti=e=>e.key||"";function mR(e,t){e.forEach(r=>{const n=Ti(r);t.set(n,r)})}function pR(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const ia=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:c="sync"})=>{const u=v.useContext(Gp).forceRender||cR()[0],f=y_(),h=pR(e);let m=h;const p=v.useRef(new Map).current,x=v.useRef(m),y=v.useRef(new Map).current,j=v.useRef(!0);if(Wp(()=>{j.current=!1,mR(h,y),x.current=m}),hR(()=>{j.current=!0,y.clear(),p.clear()}),j.current)return v.createElement(v.Fragment,null,m.map(C=>v.createElement(fm,{key:Ti(C),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:c},C)));m=[...m];const w=x.current.map(Ti),_=h.map(Ti),N=w.length;for(let C=0;C<N;C++){const k=w[C];_.indexOf(k)===-1&&!p.has(k)&&p.set(k,void 0)}return c==="wait"&&p.size&&(m=[]),p.forEach((C,k)=>{if(_.indexOf(k)!==-1)return;const T=y.get(k);if(!T)return;const D=w.indexOf(k);let P=C;if(!P){const E=()=>{p.delete(k);const R=Array.from(y.keys()).filter($=>!_.includes($));if(R.forEach($=>y.delete($)),x.current=h.filter($=>{const H=Ti($);return H===k||R.includes(H)}),!p.size){if(f.current===!1)return;u(),n&&n()}};P=v.createElement(fm,{key:Ti(T),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:a,mode:c},T),p.set(k,P)}m.splice(D,0,P)}),m=m.map(C=>{const k=C.key;return p.has(k)?C:v.createElement(fm,{key:Ti(C),isPresent:!0,presenceAffectsLayout:a,mode:c},C)}),v.createElement(v.Fragment,null,p.size?m:m.map(C=>v.cloneElement(C)))},vR=e=>{localStorage.setItem("groceroo-cart",JSON.stringify(e))},gR=()=>{const e=localStorage.getItem("groceroo-cart");return e?JSON.parse(e):[]},xR=1;let hm=0;function yR(){return hm=(hm+1)%Number.MAX_VALUE,hm.toString()}const ur={state:{toasts:[]},listeners:[],getState:()=>ur.state,setState:e=>{typeof e=="function"?ur.state=e(ur.state):ur.state={...ur.state,...e},ur.listeners.forEach(t=>t(ur.state))},subscribe:e=>(ur.listeners.push(e),()=>{ur.listeners=ur.listeners.filter(t=>t!==e)})},ne=({...e})=>{const t=yR(),r=o=>ur.setState(a=>({...a,toasts:a.toasts.map(c=>c.id===t?{...c,...o}:c)})),n=()=>ur.setState(o=>({...o,toasts:o.toasts.filter(a=>a.id!==t)}));return ur.setState(o=>({...o,toasts:[{...e,id:t,dismiss:n},...o.toasts].slice(0,xR)})),{id:t,dismiss:n,update:r}};function wR(){const[e,t]=v.useState(ur.getState());return v.useEffect(()=>ur.subscribe(n=>{t(n)}),[]),v.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const o=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(o)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:ne,toasts:e.toasts}}const w_=v.createContext(),cs=()=>{const e=v.useContext(w_);if(!e)throw new Error("useCart must be used within a CartProvider");return e},bR=({children:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!1),a=v.useRef([]);v.useEffect(()=>{const w=gR();w&&w.length>0&&r(w)},[]),v.useEffect(()=>{vR(t)},[t]),v.useEffect(()=>{if(a.current.length>0){const w=a.current.pop();a.current=[],ne(w)}},[t]);const c=()=>o(!0),u=()=>o(!1),f=()=>o(!n),h=(w,_=1)=>{r(N=>{if(N.find(k=>k.id===w.id)){const k=N.map(T=>T.id===w.id?{...T,quantity:T.quantity+_}:T);return a.current.push({title:"Item updated",description:`${w.name} quantity updated in your cart.`,duration:2e3,action:"view-cart"}),k}else return a.current.push({title:"Item added",description:`${w.name} added to your cart.`,duration:2e3,action:"view-cart"}),[...N,{...w,quantity:_}]})},m=w=>{r(_=>{const N=_.find(C=>C.id===w);return N&&a.current.push({title:"Item removed",description:`${N.name} removed from your cart.`,duration:2e3,action:"view-cart"}),_.filter(C=>C.id!==w)})},p=(w,_)=>{if(_<=0){m(w);return}r(N=>{const C=N.find(k=>k.id===w);return C&&C.quantity!==_&&a.current.push({title:"Quantity updated",description:`${C.name} quantity set to ${_}.`,duration:2e3,action:"view-cart"}),N.map(k=>k.id===w?{...k,quantity:_}:k)})},x=()=>{r([]),a.current.push({title:"Cart cleared",description:"All items have been removed from your cart.",duration:2e3,action:"view-cart"})},y=()=>t.reduce((w,_)=>w+_.price*_.quantity,0),j=()=>t.reduce((w,_)=>w+_.quantity,0);return s.jsx(w_.Provider,{value:{cart:t,isCartOpen:n,openCart:c,closeCart:u,toggleCart:f,addToCart:h,removeFromCart:m,updateQuantity:p,clearCart:x,getCartTotal:y,getCartCount:j},children:e})},jR="modulepreload",_R=function(e){return"/"+e},rw={},oa=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(r.map(h=>{if(h=_R(h),h in rw)return;rw[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":jR,m||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),m)return new Promise((y,j)=>{x.addEventListener("load",y),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},SR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>ya);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class fv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NR extends fv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CR extends fv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kR extends fv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var up;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(up||(up={}));var PR=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class ER{constructor(t,{headers:r={},customFetch:n,region:o=up.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=SR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return PR(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=r;let u={},{region:f}=r;f||(f=this.region),f&&f!=="any"&&(u["x-region"]=f);let h;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(u["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(u["Content-Type"]="application/json",h=JSON.stringify(c)));const m=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h}).catch(j=>{throw new NR(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new CR(m);if(!m.ok)throw new kR(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null}}catch(o){return{data:null,error:o}}})}}var Lt={},Ro={},Oo={},$o={},Mo={},Io={},TR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},aa=TR();const AR=aa.fetch,b_=aa.fetch.bind(aa),j_=aa.Headers,DR=aa.Request,RR=aa.Response,ya=Object.freeze(Object.defineProperty({__proto__:null,Headers:j_,Request:DR,Response:RR,default:b_,fetch:AR},Symbol.toStringTag,{value:"Module"})),OR=B2(ya);var $u={},nw;function __(){if(nw)return $u;nw=1,Object.defineProperty($u,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $u.default=e,$u}var sw;function S_(){if(sw)return Io;sw=1;var e=Io&&Io.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Io,"__esModule",{value:!0});const t=e(OR),r=e(__());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,p,x;let y=null,j=null,w=null,_=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=D:j=JSON.parse(D))}const k=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),T=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&T&&T.length>1&&(w=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(y={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,_=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const k=await h.text();try{y=JSON.parse(k),Array.isArray(y)&&h.status===404&&(j=[],y=null,_=200,N="OK")}catch{h.status===404&&k===""?(_=204,N="No Content"):y={message:k}}if(y&&this.isMaybeSingle&&(!((x=y==null?void 0:y.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,_=200,N="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:j,count:w,status:_,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,p,x;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=h==null?void 0:h.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,c)}returns(){return this}overrideTypes(){return this}}return Io.default=n,Io}var iw;function N_(){if(iw)return Mo;iw=1;var e=Mo&&Mo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mo,"__esModule",{value:!0});const t=e(S_());class r extends t.default{select(o){let a=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const p=[o?"analyze":null,a?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${p};`,h==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Mo.default=r,Mo}var ow;function hv(){if(ow)return $o;ow=1;var e=$o&&$o.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(N_());class r extends t.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return $o.default=r,$o}var aw;function C_(){if(aw)return Oo;aw=1;var e=Oo&&Oo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oo,"__esModule",{value:!0});const t=e(hv());class r{constructor(o,{headers:a={},schema:c,fetch:u}){this.url=o,this.headers=a,this.schema=c,this.fetch=u}select(o,{head:a=!1,count:c}={}){const u=a?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:a,defaultToNull:c=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const h=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){const h="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(p.length>0){const x=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:a}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const a="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Oo.default=r,Oo}var vl={},gl={},lw;function $R(){return lw||(lw=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.version=void 0,gl.version="0.0.0-automated"),gl}var cw;function MR(){if(cw)return vl;cw=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.DEFAULT_HEADERS=void 0;const e=$R();return vl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},vl}var uw;function IR(){if(uw)return Ro;uw=1;var e=Ro&&Ro.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ro,"__esModule",{value:!0});const t=e(C_()),r=e(hv()),n=MR();class o{constructor(c,{headers:u={},schema:f,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:h=!1,count:m}={}){let p;const x=new URL(`${this.url}/rpc/${c}`);let y;f||h?(p=f?"HEAD":"GET",Object.entries(u).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{x.searchParams.append(w,_)})):(p="POST",y=u);const j=Object.assign({},this.headers);return m&&(j.Prefer=`count=${m}`),new r.default({method:p,url:x,headers:j,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Ro.default=o,Ro}var dw;function LR(){if(dw)return Lt;dw=1;var e=Lt&&Lt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.PostgrestError=Lt.PostgrestBuilder=Lt.PostgrestTransformBuilder=Lt.PostgrestFilterBuilder=Lt.PostgrestQueryBuilder=Lt.PostgrestClient=void 0;const t=e(IR());Lt.PostgrestClient=t.default;const r=e(C_());Lt.PostgrestQueryBuilder=r.default;const n=e(hv());Lt.PostgrestFilterBuilder=n.default;const o=e(N_());Lt.PostgrestTransformBuilder=o.default;const a=e(S_());Lt.PostgrestBuilder=a.default;const c=e(__());return Lt.PostgrestError=c.default,Lt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},Lt}var FR=LR();const UR=Jl(FR),{PostgrestClient:BR,PostgrestQueryBuilder:iV,PostgrestFilterBuilder:oV,PostgrestTransformBuilder:aV,PostgrestBuilder:lV,PostgrestError:cV}=UR,VR="2.11.2",zR={"X-Client-Info":`realtime-js/${VR}`},WR="1.0.0",k_=1e4,HR=1e3;var Zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zo||(Zo={}));var Tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tr||(Tr={}));var an;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(an||(an={}));var dp;(function(e){e.websocket="websocket"})(dp||(dp={}));var Ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ri||(Ri={}));class qR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+a));c=c+a;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class P_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(it||(it={}));const fw=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,c)=>(a[c]=YR(c,e,t,o),a),{})},YR=(e,t,r,n)=>{const o=t.find(u=>u.name===e),a=o==null?void 0:o.type,c=r[e];return a&&!n.includes(a)?E_(a,c):fp(c)},E_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return JR(t,r)}switch(e){case it.bool:return GR(t);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return KR(t);case it.json:case it.jsonb:return XR(t);case it.timestamp:return QR(t);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return fp(t);default:return fp(t)}},fp=e=>e,GR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(u=>E_(t,u))}return e},QR=e=>typeof e=="string"?e.replace(" ","T"):e,T_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mm{constructor(t,r,n={},o=k_){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hw||(hw={}));class Tl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,o,a,c),this.pendingDiffs.forEach(f=>{this.state=Tl.syncDiff(this.state,f,a,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Tl.syncDiff(this.state,o,a,c),u())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const a=this.cloneDeep(t),c=this.transformState(r),u={},f={};return this.map(a,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const p=a[h];if(p){const x=m.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),j=m.filter(_=>y.indexOf(_.presence_ref)<0),w=p.filter(_=>x.indexOf(_.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(a,{joins:u,leaves:f},n,o)}static syncDiff(t,r,n,o){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(a,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const p=t[u].map(y=>y.presence_ref),x=m.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...x)}n(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[u]=h,o(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mw||(mw={}));var pw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pw||(pw={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class mv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mm(this,an.join,this.params,this.timeout),this.rejoinTimer=new P_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Tl(this),this.broadcastEndpointURL=T_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:c,private:u}}=this.params;this._onError(m=>t==null?void 0:t(Kn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Kn.CLOSED));const f={},h={broadcast:a,presence:c,postgres_changes:(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Kn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,j=[];for(let w=0;w<y;w++){const _=x[w],{filter:{event:N,schema:C,table:k,filter:T}}=_,D=m&&m[w];if(D&&D.event===N&&D.schema===C&&D.table===k&&D.filter===T)j.push(Object.assign(Object.assign({},_),{id:D.id}));else{this.unsubscribe(),t==null||t(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Kn.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const o=new mm(this,an.leave,{},t);o.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const o=new AbortController,a=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new mm(this,t,r,n);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,a;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=an;if(n&&[u,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let x=this._onMessage(c,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var j,w,_;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(y=>y.callback(x,n)):(a=this.bindings[c])===null||a===void 0||a.filter(y=>{var j,w,_,N,C,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const T=y.id,D=(j=y.filter)===null||j===void 0?void 0:j.event;return T&&((w=r.ids)===null||w===void 0?void 0:w.includes(T))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return T==="*"||T===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:w,table:_,commit_timestamp:N,type:C,errors:k}=j;x=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(j))}y.callback(x,n)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),a={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&mv.isEqual(o.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fw(t.columns,t.old_record)),r}}const ZR=()=>{},eO=typeof WebSocket<"u",tO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rO{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zR,this.params={},this.timeout=k_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ZR,this.conn=null,this.sendBuffer=[],this.serializer=new qR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...u)=>oa(async()=>{const{default:f}=await Promise.resolve().then(()=>ya);return{default:f}},void 0).then(({default:f})=>f(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${t}/${dp.websocket}`,this.httpEndpoint=T_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,c)=>c(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eO){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new nO(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),oa(async()=>{const{default:t}=await import("./browser-BT1rMhmc.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zo.connecting:return Ri.Connecting;case Zo.open:return Ri.Open;case Zo.closing:return Ri.Closing;default:return Ri.Closed}}isConnected(){return this.connectionState()===Ri.Open}channel(t,r={config:{}}){const n=new mv(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:o,ref:a}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(an.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(HR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:o,payload:a,ref:c}=r;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${o} ${c&&"("+c+")"||""}`,a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class nO{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class pv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sO extends pv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hp extends pv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var iO=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const A_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>ya);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},oO=()=>iO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>ya),void 0)).Response:Response}),mp=e=>{if(Array.isArray(e))return e.map(r=>mp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=mp(n)}),t};var qi=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const pm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aO=(e,t,r)=>qi(void 0,void 0,void 0,function*(){const n=yield oO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{t(new sO(pm(o),e.status||500))}).catch(o=>{t(new hp(pm(o),o))}):t(new hp(pm(e),e))}),lO=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))};function nc(e,t,r,n,o,a){return qi(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,lO(t,n,o,a)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>aO(f,u,n))})})}function hd(e,t,r,n){return qi(this,void 0,void 0,function*(){return nc(e,"GET",t,r,n)})}function qs(e,t,r,n,o){return qi(this,void 0,void 0,function*(){return nc(e,"POST",t,n,o,r)})}function cO(e,t,r,n,o){return qi(this,void 0,void 0,function*(){return nc(e,"PUT",t,n,o,r)})}function uO(e,t,r,n){return qi(this,void 0,void 0,function*(){return nc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function D_(e,t,r,n,o){return qi(this,void 0,void 0,function*(){return nc(e,"DELETE",t,n,o,r)})}var yr=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const dO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fO{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=A_(o)}uploadOrUpdate(t,r,n,o){return yr(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},vw),o);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:a,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield p.json();return p.ok?{data:{path:h,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}upload(t,r,n){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return yr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:vw.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:m}),x=yield p.json();return p.ok?{data:{path:a,fullPath:x.Key},error:null}:{data:null,error:x}}catch(f){if(Ft(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return yr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield qs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+a.url),u=c.searchParams.get("token");if(!u)throw new pv("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}update(t,r,n){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return yr(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}copy(t,r,n){return yr(this,void 0,void 0,function*(){try{return{data:{path:(yield qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return yr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield qs(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return yr(this,void 0,void 0,function*(){try{const o=yield qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}download(t,r){return yr(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield hd(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ft(u))return{data:null,error:u};throw u}})}info(t){return yr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield hd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mp(n),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}exists(t){return yr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ft(n)&&n instanceof hp){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return yr(this,void 0,void 0,function*(){try{return{data:yield D_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}list(t,r,n){return yr(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},dO),r),{prefix:t||""});return{data:yield qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hO="2.7.1",mO={"X-Client-Info":`storage-js/${hO}`};var Lo=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class pO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},mO),r),this.fetch=A_(n)}listBuckets(){return Lo(this,void 0,void 0,function*(){try{return{data:yield hd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Lo(this,void 0,void 0,function*(){try{return{data:yield hd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Lo(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Lo(this,void 0,void 0,function*(){try{return{data:yield cO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Lo(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Lo(this,void 0,void 0,function*(){try{return{data:yield D_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}}class vO extends pO{constructor(t,r={},n){super(t,r,n)}from(t){return new fO(this.url,this.headers,t,this.fetch)}}const gO="2.49.4";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const xO={"X-Client-Info":`supabase-js-${Nl}/${gO}`},yO={headers:xO},wO={schema:"public"},bO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jO={};var _O=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const SO=e=>{let t;return e?t=e:typeof fetch>"u"?t=b_:t=fetch,(...r)=>t(...r)},NO=()=>typeof Headers>"u"?j_:Headers,CO=(e,t,r)=>{const n=SO(r),o=NO();return(a,c)=>_O(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(a,Object.assign(Object.assign({},c),{headers:h}))})};var kO=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};function PO(e){return e.replace(/\/$/,"")}function EO(e,t){const{db:r,auth:n,realtime:o,global:a}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},h),a),accessToken:()=>kO(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const R_="2.69.1",Yo=30*1e3,pp=3,vm=pp*Yo,TO="http://localhost:9999",AO="supabase.auth.token",DO={"X-Client-Info":`gotrue-js/${R_}`},vp="X-Supabase-Api-Version",O_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OO=6e5;class vv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $O extends vv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function MO(e){return Be(e)&&e.name==="AuthApiError"}class $_ extends vv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class oi extends vv{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class Bs extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IO(e){return Be(e)&&e.name==="AuthSessionMissingError"}class gm extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mu extends oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Iu extends oi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LO(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class gw extends oi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gp extends oi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xm(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class xw extends oi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Al extends oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ww=` 	
\r=`.split(""),FO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ww.length;t+=1)e[ww[t].charCodeAt(0)]=-2;for(let t=0;t<yw.length;t+=1)e[yw[t].charCodeAt(0)]=t;return e})();function M_(e,t,r){const n=FO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bw(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{VO(c,n,r)};for(let c=0;c<e.length;c+=1)M_(e.charCodeAt(c),o,a);return t.join("")}function UO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}UO(n,t)}}function VO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zO(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)M_(e.charCodeAt(o),r,n);return new Uint8Array(t)}function WO(e){const t=[];return BO(e,r=>t.push(r)),new Uint8Array(t)}function HO(e){return Math.round(Date.now()/1e3)+e}function qO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nn=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},Dl=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function YO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const I_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>ya);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},GO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",L_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fu=async(e,t)=>{await e.removeItem(t)};class Od{constructor(){this.promise=new Od.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Od.promiseConstructor=Promise;function ym(e){const t=e.split(".");if(t.length!==3)throw new Al("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!RO.test(t[n]))throw new Al("JWT not in base64url format");return{header:JSON.parse(bw(t[0])),payload:JSON.parse(bw(t[1])),signature:zO(t[2]),raw:{header:t[0],payload:t[1]}}}async function KO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XO(e,t){return new Promise((n,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){o(c);return}}})()})}function JO(e){return("0"+e.toString(16)).substr(-2)}function QO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,JO).join("")}async function ZO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function e4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ZO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fo(e,t,r=!1){const n=QO();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await L_(e,`${t}-code-verifier`,o);const a=await e4(n);return[a,n===a?"plain":"s256"]}const t4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r4(e){const t=e.headers.get(vp);if(!t||!t.match(t4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function n4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function s4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var i4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o4=[502,503,504];async function jw(e){var t;if(!GO(e))throw new gp(Ai(e),0);if(o4.includes(e.status))throw new gp(Ai(e),e.status);let r;try{r=await e.json()}catch(a){throw new $_(Ai(a),a)}let n;const o=r4(e);if(o&&o.getTime()>=O_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xw(Ai(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new xw(Ai(r),e.status,r.weak_password.reasons);throw new $O(Ai(r),e.status||500,n)}const a4=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Ge(e,t,r,n){var o;const a=Object.assign({},n==null?void 0:n.headers);a[vp]||(a[vp]=O_["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await l4(e,t,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function l4(e,t,r,n,o,a){const c=a4(t,n,o,a);let u;try{u=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new gp(Ai(f),0)}if(u.ok||await jw(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await jw(f)}}function Vs(e){var t;let r=null;f4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=HO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _w(e){const t=Vs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function c4(e){return{data:e,error:null}}function u4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a}=e,c=i4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function d4(e){return e}function f4(e){return e.access_token&&e.refresh_token&&e.expires_in}var h4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class m4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=I_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ys})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=h4(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:u4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ys})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,a,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:d4});if(m.error)throw m.error;const p=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ys})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ys})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ys})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}const p4={getItem:e=>Dl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Dl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Dl()&&globalThis.localStorage.removeItem(e)}};function Sw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function v4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Uo={debug:!!(globalThis&&Dl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class g4 extends F_{}async function x4(e,t,r){Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new g4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Uo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}v4();const y4={url:TO,storageKey:AO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nw(e,t,r){return await r()}class Ul{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ul.nextInstanceID,Ul.nextInstanceID+=1,this.instanceID>0&&Nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},y4),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new m4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=I_(o.fetch),this.lock=o.lock||Nw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=x4:this.lock=Nw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Dl()?this.storage=p4:(this.memoryStorage={},this.storage=Sw(this.memoryStorage)):(this.memoryStorage={},this.storage=Sw(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=YO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nn()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),LO(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new $_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Vs}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,o;try{let a;if("email"in t){const{email:m,password:p,options:x}=t;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await Fo(this.storage,this.storageKey)),a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:j},xform:Vs})}else if("phone"in t){const{phone:m,password:p,options:x}=t;a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Vs})}else throw new Mu("You must provide either an email or phone number and a password");const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:u}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:_w})}else if("phone"in t){const{phone:a,password:c,options:u}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:_w})}else throw new Mu("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Lu(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:a,error:c}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vs});if(await Fu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new gm}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:a,nonce:c}=t,u=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vs}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new gm}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,a,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Fo(this.storage,this.storageKey));const{error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Mu("You must provide either an email or phone number.")}catch(u){if(Be(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let o,a;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Vs});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Fo(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:c4})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Bs;const{error:o}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:a}=t,{error:c}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:o,options:a}=t,{data:c,error:u}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Mu("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ys}):await this._useSession(async r=>{var n,o,a;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bs}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Ys})})}catch(r){if(Be(r))return IO(r)&&(await this._removeSession(),await Fu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:a}=n;if(a)throw a;if(!o.session)throw new Bs;const c=o.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Fo(this.storage,this.storageKey));const{data:h,error:m}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:Ys});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bs;const r=Date.now()/1e3;let n=r,o=!0,a=null;const{payload:c}=ym(t.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{session:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Bs;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nn())throw new Iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Iu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gw("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!a||!u||!c||!h)throw new Iu("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let x=m+p;f&&(x=parseInt(f));const y=x-m;y*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const j=x-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,m);const{data:w,error:_}=await this._getUser(a);if(_)throw _;const N={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:x,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{error:a};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(MO(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Fu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=qO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Fo(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async a=>{var c,u,f,h,m;const{data:p,error:x}=a;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Nn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Be(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:c}=r;if(c)throw c;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XO(async o=>(o>0&&await KO(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vs})),(o,a)=>{const c=200*Math.pow(2,o);return a&&xm(a)&&Date.now()+c-n<Yo})}catch(n){if(this._debug(r,"error",n),Be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Lu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${vm}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),xm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Od;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Bs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),Be(a)){const c={session:null,error:a};return xm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){a.push(f)}});if(await Promise.all(c),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await L_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Fu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Yo}ms, refresh threshold is ${pp} ticks`),o<=pp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await Fo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ym(o.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n||(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+OO>Date.now()))return n;const{data:o,error:a}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new Al("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),n=o.keys.find(c=>c.kid===t),!n)throw new Al("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:j}=await this.getSession();if(j||!y.session)return{data:null,error:j};n=y.session.access_token}const{header:o,payload:a,signature:c,raw:{header:u,payload:f}}=ym(n);if(n4(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:o,signature:c},error:null}}const h=s4(o.alg),m=await this.fetchJwk(o.kid,r),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,c,WO(`${u}.${f}`)))throw new Al("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}Ul.nextInstanceID=0;const w4=Ul;class b4 extends w4{constructor(t){super(t)}}var j4=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class _4{constructor(t,r,n){var o,a,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=PO(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:wO,realtime:jO,auth:Object.assign(Object.assign({},bO),{storageKey:f}),global:yO},m=EO(n??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=CO(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new BR(`${u}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new ER(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return j4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:a,flowType:c,lock:u,debug:f},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b4({url:this.authUrl,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:c,lock:u,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S4=(e,t,r)=>new _4(e,t,r),N4="https://bcbxcnxutotjzmdjeyde.supabase.co",C4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY",ce=S4(N4,C4),U_=v.createContext(),gv=()=>{const e=v.useContext(U_);if(!e)throw new Error("useOrders must be used within an OrderProvider");return e},k4=({children:e})=>{const[t,r]=v.useState([]),n=async u=>{try{const{data:f,error:h}=await ce.from("orders").insert({user_id:u.user_id||null,customer_name:u.customer_name,customer_email:u.customer_email,customer_phone:u.customer_phone,customer_address:u.customer_address,customer_postcode:u.customer_postcode,delivery_notes:u.delivery_notes,total:u.total,status:"processing",delivery_type:u.delivery_type,scheduled_delivery_time:u.scheduled_delivery_time,delivery_fee:u.delivery_fee,items:u.items,payment_data:u.payment_data,fees_data:u.fees_data||null}).select().single();if(h)throw h;return ne({title:"Order Created",description:"Your order has been successfully placed."}),f}catch(f){throw console.error("Error creating order:",f),ne({variant:"destructive",title:"Error",description:"Failed to create order. Please try again."}),f}},o=async(u,f)=>{try{const{error:h}=await ce.from("orders").update({status:f}).eq("id",u);if(h)throw h;ne({title:"Order Updated",description:`Order status changed to ${f}.`})}catch(h){console.error("Error updating order status:",h),ne({variant:"destructive",title:"Error",description:"Failed to update order status."})}},a=async u=>{try{const{data:f,error:h}=await ce.from("orders").select("*").eq("id",u).single();if(h)throw h;return f}catch(f){return console.error("Error fetching order:",f),null}},c=async u=>{try{let f=ce.from("orders").select("*");u&&(f=f.eq("status",u));const{data:h,error:m}=await f;if(m)throw m;return h}catch(f){return console.error("Error fetching orders:",f),[]}};return s.jsx(U_.Provider,{value:{orders:t,addOrder:n,updateOrderStatus:o,getOrderById:a,getOrdersByStatus:c},children:e})};function sr(e,t,r=30){for(let a=0;a<localStorage.length;a++){const c=localStorage.key(a);c!==e&&c&&e.startsWith(c)&&(localStorage.removeItem(c),a--)}const n=Date.now()+r*60*1e3,o={data:t,expires:n};localStorage.setItem(e,JSON.stringify(o))}function wr(e){const t=localStorage.getItem(e);if(!t)return null;try{const r=JSON.parse(t);return r.expires&&r.expires>Date.now()?r.data:(localStorage.removeItem(e),null)}catch{return localStorage.removeItem(e),null}}function P4(e){localStorage.removeItem(e)}function E4({maxBytes:e=5*1024*1024}={}){var n;for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o);try{const c=localStorage.getItem(a);if(!c)continue;JSON.parse(c).expires<=Date.now()&&(localStorage.removeItem(a),o--)}catch{}}let t=0;const r=[];for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o),c=localStorage.getItem(a);t+=c?c.length:0,r.push(a)}if(t>e){for(const o of r)if(o.startsWith("product_")&&(localStorage.removeItem(o),t-=((n=localStorage.getItem(o))==null?void 0:n.length)||0,t<=e))break}}const B_=v.createContext(),Xt=()=>{const e=v.useContext(B_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},T4=({children:e})=>{const[t,r]=v.useState(null),[n,o]=v.useState(null),[a,c]=v.useState(!1),[u,f]=v.useState(!0),h=v.useCallback(async C=>{if(!C)return o(null),c(!1),null;try{const{data:k,error:T,status:D}=await ce.from("profiles").select("name,email, phone, address, is_admin, addresses, ai_chat").eq("id",C).single();if(T&&D!==406)throw console.error("Error fetching user profile (status not 406):",T.message),T;if(T&&D===406)return console.warn("Profile not found or no permission (406), this might be expected for new users before profile creation or RLS issues."),o(null),c(!1),null;if(k){const P=k.phone;return k.phone=P.startsWith("61")?`0${P.replace(/^61/,"")}`:P,o(k),c(k.is_admin===!0),sr("user_profile",k,1440),k}else return o(null),c(!1),null}catch(k){return console.error("Error fetching user profile (catch block):",k.message),k.message!=="JSON object requested, multiple (or no) rows returned"&&ne({variant:"destructive",title:"Profile Error",description:"Could not load user profile. "+k.message}),o(null),c(!1),null}},[]),[m,p]=v.useState(()=>{const C=localStorage.getItem("userLocation");return C?JSON.parse(C):null});v.useEffect(()=>{let C=!0;const k=wr("user_profile");k&&(o(k),c(k.is_admin===!0));const T=async E=>{if(C){if(E!=null&&E.user){r(E.user);const R=wr("user_profile");if(R)o(R),c(R.is_admin===!0);else{const $=await h(E.user.id);c(($==null?void 0:$.is_admin)===!0)}}else r(null),o(null),c(!1);f(!1)}},{data:{subscription:D}}=ce.auth.onAuthStateChange((E,R)=>{T(R)});return(async()=>{const{data:{session:E},error:R}=await ce.auth.getSession();C&&(R?(console.error("Error fetching initial session:",R),ne({variant:"destructive",title:"Auth Error",description:"Could not fetch initial session."}),r(null),o(null),c(!1),f(!1)):T(E))})(),()=>{C=!1,D==null||D.unsubscribe()}},[h]);const x=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(C=>{const k={lat:C.coords.latitude,lng:C.coords.longitude};p(k),localStorage.setItem("userLocation",JSON.stringify(k))},C=>{})};v.useEffect(()=>{m||x()},[m]);const y=async(C,k)=>{f(!0);const{data:T,error:D}=await ce.auth.signInWithPassword({email:C,password:k});if(D)return console.error("Login error:",D),ne({variant:"destructive",title:"Login Failed",description:D.message}),f(!1),{success:!1,isAdminUser:!1,error:D.message};const P=await h(T.user.id);return{success:!0,isAdminUser:(P==null?void 0:P.is_admin)===!0}},j=async(C,k,T,D)=>{f(!0);const{data:P,error:E}=await ce.auth.signUp({email:C,password:k,options:{data:{name:T}}});if(E)return console.error("Registration error:",E),ne({variant:"destructive",title:"Registration Failed",description:E.message}),f(!1),!1;if(P.user&&D){await new Promise($=>setTimeout($,1e3));const{error:R}=await ce.from("profiles").update({phone:D,updated_at:new Date}).eq("id",P.user.id);R&&(console.error("Error updating phone during registration:",R),ne({variant:"destructive",title:"Profile Update Issue",description:"Could not save phone number: "+R.message}))}return ne({title:"Registration Successful",description:"Please check your email to confirm your account."}),!0},w=async()=>{f(!0);const{error:C}=await ce.auth.signOut();P4("user_profile"),C?(console.error("Logout error:",C),ne({variant:"destructive",title:"Logout Failed",description:C.message}),f(!1)):ne({title:"Logged Out",description:"You have been successfully logged out."})},_=async(C,k=!0)=>{if(!t)return;f(!0);const{data:T,error:D}=await ce.from("profiles").update({name:C.name,email:C.email,address:C.address,addresses:C.addresses,ai_chat:C.ai_chat,updated_at:new Date}).eq("id",t.id).select().single();D?(console.error("Profile update error:",D),ne({variant:"destructive",title:"Update Failed",description:D.message})):T&&(o(T),c(T.is_admin===!0),sr("user_profile",T,1440),k&&ne({title:"Profile Updated",description:"Your information has been updated."})),f(!1)},N=t&&n?{...t,...n}:t;return s.jsx(B_.Provider,{value:{user:N,session:ce.auth.getSession(),isAdmin:a,loading:u,login:y,register:j,logout:w,updateUserInfo:_,userLocation:m,getUserLocation:x},children:e})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Cw=e=>{const t=D4(e);return t.charAt(0).toUpperCase()+t.slice(1)},V_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),R4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:c,...u},f)=>v.createElement("svg",{ref:f,...O4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:V_("lucide",o),...!a&&!R4(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>v.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=v.forwardRef(({className:n,...o},a)=>v.createElement($4,{ref:a,iconNode:t,className:V_(`lucide-${A4(Cw(e))}`,`lucide-${e}`,n),...o}));return r.displayName=Cw(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],la=Ae("arrow-left",M4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xp=Ae("arrow-right",I4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],F4=Ae("arrow-up-down",L4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],B4=Ae("arrow-up",U4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],z4=Ae("bell",V4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],H4=Ae("bot",W4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],un=Ae("calendar",q4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],G4=Ae("camera",Y4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z_=Ae("check",K4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],W_=Ae("chevron-down",X4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Q4=Ae("chevron-left",J4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e$=Ae("chevron-right",Z4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r$=Ae("chevron-up",t$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bl=Ae("circle-check-big",n$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sc=Ae("circle-plus",s$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],o$=Ae("circle-x",i$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l$=Ae("circle",a$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],dn=Ae("clock",c$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],H_=Ae("cloud-upload",u$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],wa=Ae("credit-card",d$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q_=Ae("eye",f$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],m$=Ae("facebook",h$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ai=Ae("funnel",p$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$d=Ae("image",v$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],x$=Ae("info",g$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],w$=Ae("instagram",y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],j$=Ae("list",b$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]],S$=Ae("locate",_$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Y_=Ae("log-out",N$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],G_=Ae("mail",C$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],P$=Ae("map-pin-check-inside",k$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vl=Ae("map-pin",E$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Md=Ae("message-circle",T$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],D$=Ae("message-square",A$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M5 12h14",key:"1ays0h"}]],ba=Ae("minus",R$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wr=Ae("package",O$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],M$=Ae("pen",$$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Id=Ae("phone",I$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yi=Ae("plus",L$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xv=Ae("search",F$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ic=Ae("send",U$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V$=Ae("settings",B$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],W$=Ae("shield-alert",z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],K_=Ae("shopping-bag",H$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ti=Ae("shopping-cart",q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oc=Ae("square-pen",Y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],li=Ae("store",G$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yv=Ae("tag",K$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gi=Ae("trash-2",X$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ld=Ae("truck",J$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z$=Ae("upload",Q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],kw=Ae("user-round",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yp=Ae("user",tM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wv=Ae("users",rM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],us=Ae("x",nM);function X_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=X_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function J_(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=X_(e))&&(n&&(n+=" "),n+=t);return n}function sM(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=Q_(t))&&(n&&(n+=" "),n+=r);return n}function Q_(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=Q_(e[n]))&&(r&&(r+=" "),r+=t);return r}var bv="-";function iM(e){var t=aM(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=n===void 0?{}:n;function a(u){var f=u.split(bv);return f[0]===""&&f.length!==1&&f.shift(),Z_(f,t)||oM(u)}function c(u,f){var h=r[u]||[];return f&&o[u]?[].concat(h,o[u]):h}return{getClassGroupId:a,getConflictingClassGroupIds:c}}function Z_(e,t){var c;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?Z_(e.slice(1),n):void 0;if(o)return o;if(t.validators.length!==0){var a=e.join(bv);return(c=t.validators.find(function(u){var f=u.validator;return f(a)}))==null?void 0:c.classGroupId}}var Pw=/^\[(.+)\]$/;function oM(e){if(Pw.test(e)){var t=Pw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function aM(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=cM(Object.entries(e.classGroups),r);return o.forEach(function(a){var c=a[0],u=a[1];wp(u,n,c,t)}),n}function wp(e,t,r,n){e.forEach(function(o){if(typeof o=="string"){var a=o===""?t:Ew(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(lM(o)){wp(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(c){var u=c[0],f=c[1];wp(f,Ew(t,u),r,n)})})}function Ew(e,t){var r=e;return t.split(bv).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function lM(e){return e.isThemeGetter}function cM(e,t){return t?e.map(function(r){var n=r[0],o=r[1],a=o.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(u){var f=u[0],h=u[1];return[t+f,h]})):c});return[n,a]}):e}function uM(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(a,c){r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(c){var u=r.get(c);if(u!==void 0)return u;if((u=n.get(c))!==void 0)return o(c,u),u},set:function(c,u){r.has(c)?r.set(c,u):o(c,u)}}}var e1="!";function dM(e){var t=e.separator||":",r=t.length===1,n=t[0],o=t.length;return function(c){for(var u=[],f=0,h=0,m,p=0;p<c.length;p++){var x=c[p];if(f===0){if(x===n&&(r||c.slice(p,p+o)===t)){u.push(c.slice(h,p)),h=p+o;continue}if(x==="/"){m=p;continue}}x==="["?f++:x==="]"&&f--}var y=u.length===0?c:c.substring(h),j=y.startsWith(e1),w=j?y.substring(1):y,_=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:_}}}function fM(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var o=n[0]==="[";o?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function hM(e){return{cache:uM(e.cacheSize),splitModifiers:dM(e),...iM(e)}}var mM=/\s+/;function pM(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(mM).map(function(c){var u=r(c),f=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,p=u.maybePostfixModifierPosition,x=n(p?m.substring(0,p):m),y=!!p;if(!x){if(!p)return{isTailwindClass:!1,originalClassName:c};if(x=n(m),!x)return{isTailwindClass:!1,originalClassName:c};y=!1}var j=fM(f).join(":"),w=h?j+e1:j;return{isTailwindClass:!0,modifierId:w,classGroupId:x,originalClassName:c,hasPostfixModifier:y}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var u=c.modifierId,f=c.classGroupId,h=c.hasPostfixModifier,m=u+f;return a.has(m)?!1:(a.add(m),o(f,h).forEach(function(p){return a.add(u+p)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function vM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,a,c=u;function u(h){var m=t[0],p=t.slice(1),x=p.reduce(function(y,j){return j(y)},m());return n=hM(x),o=n.cache.get,a=n.cache.set,c=f,f(h)}function f(h){var m=o(h);if(m)return m;var p=pM(h,n);return a(h,p),p}return function(){return c(sM.apply(null,arguments))}}function ut(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var t1=/^\[(?:([a-z-]+):)?(.+)\]$/i,gM=/^\d+\/\d+$/,xM=new Set(["px","full","screen"]),yM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function on(e){return $i(e)||xM.has(e)||gM.test(e)||bp(e)}function bp(e){return Ki(e,"length",kM)}function jM(e){return Ki(e,"size",r1)}function _M(e){return Ki(e,"position",r1)}function SM(e){return Ki(e,"url",PM)}function Uu(e){return Ki(e,"number",$i)}function $i(e){return!Number.isNaN(Number(e))}function NM(e){return e.endsWith("%")&&$i(e.slice(0,-1))}function xl(e){return Tw(e)||Ki(e,"number",Tw)}function Ye(e){return t1.test(e)}function yl(){return!0}function Ls(e){return yM.test(e)}function CM(e){return Ki(e,"",EM)}function Ki(e,t,r){var n=t1.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function kM(e){return wM.test(e)}function r1(){return!1}function PM(e){return e.startsWith("url(")}function Tw(e){return Number.isInteger(Number(e))}function EM(e){return bM.test(e)}function TM(){var e=ut("colors"),t=ut("spacing"),r=ut("blur"),n=ut("brightness"),o=ut("borderColor"),a=ut("borderRadius"),c=ut("borderSpacing"),u=ut("borderWidth"),f=ut("contrast"),h=ut("grayscale"),m=ut("hueRotate"),p=ut("invert"),x=ut("gap"),y=ut("gradientColorStops"),j=ut("gradientColorStopPositions"),w=ut("inset"),_=ut("margin"),N=ut("opacity"),C=ut("padding"),k=ut("saturate"),T=ut("scale"),D=ut("sepia"),P=ut("skew"),E=ut("space"),R=ut("translate"),$=function(){return["auto","contain","none"]},H=function(){return["auto","hidden","clip","visible","scroll"]},te=function(){return["auto",Ye,t]},Z=function(){return[Ye,t]},Y=function(){return["",on]},L=function(){return["auto",$i,Ye]},B=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",Ye]},X=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},O=function(){return[$i,Uu]},q=function(){return[$i,Ye]};return{cacheSize:500,theme:{colors:[yl],spacing:[on],blur:["none","",Ls,Ye],brightness:O(),borderColor:[e],borderRadius:["none","","full",Ls,Ye],borderSpacing:Z(),borderWidth:Y(),contrast:O(),grayscale:z(),hueRotate:q(),invert:z(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[NM,bp],inset:te(),margin:te(),opacity:O(),padding:Z(),saturate:O(),scale:O(),sepia:z(),skew:q(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Ls]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(B(),[Ye])}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",xl]}],"grid-cols":[{"grid-cols":[yl]}],"col-start-end":[{col:["auto",{span:["full",xl]},Ye]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[yl]}],"row-start-end":[{row:["auto",{span:[xl]},Ye]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ye,t]}],"min-w":[{"min-w":["min","max","fit",Ye,on]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ls]},Ls,Ye]}],h:[{h:[Ye,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ye,on]}],"max-h":[{"max-h":[Ye,t,"min","max","fit"]}],"font-size":[{text:["base",Ls,bp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uu]}],"font-family":[{font:[yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",$i,Uu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ye,on]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",on]}],"underline-offset":[{"underline-offset":["auto",Ye,on]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(B(),[_M])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[Ye,on]}],"outline-w":[{outline:[on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ls,CM]}],"shadow-color":[{shadow:[yl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ls,Ye]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[xl,Ye]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[on,Uu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var AM=vM(TM);function Pe(...e){return AM(J_(e))}function Se(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD",minimumFractionDigits:2}).format(e)}function Aw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function n1(...e){return t=>{let r=!1;const n=e.map(o=>{const a=Aw(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():Aw(e[o],null)}}}}function _t(...e){return v.useCallback(n1(...e),e)}function ca(e){const t=RM(e),r=v.forwardRef((n,o)=>{const{children:a,...c}=n,u=v.Children.toArray(a),f=u.find($M);if(f){const h=f.props.children,m=u.map(p=>p===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...c,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(t,{...c,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var DM=ca("Slot");function RM(e){const t=v.forwardRef((r,n)=>{const{children:o,...a}=r;if(v.isValidElement(o)){const c=IM(o),u=MM(a,o.props);return o.type!==v.Fragment&&(u.ref=n?n1(n,c):c),v.cloneElement(o,u)}return v.Children.count(o)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OM=Symbol("radix.slottable");function $M(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OM}function MM(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...u)=>{a(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function IM(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Dw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rw=J_,Fd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Rw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,c=Object.keys(o).map(h=>{const m=r==null?void 0:r[h],p=a==null?void 0:a[h];if(m===null)return null;const x=Dw(m)||Dw(p);return o[h][x]}),u=r&&Object.entries(r).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:p,className:x,...y}=m;return Object.entries(y).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...a,...u}[w]):{...a,...u}[w]===_})?[...h,p,x]:h},[]);return Rw(e,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},jp=Fd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=me.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const c=n?DM:"button";return s.jsx(c,{className:Pe(jp({variant:t,size:r,className:e})),ref:a,...o})});Q.displayName="Button";const LM=Fd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nt({className:e,variant:t,...r}){return s.jsx("div",{className:Pe(LM({variant:t}),e),...r})}function qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function FM(e,t){const r=v.createContext(t),n=a=>{const{children:c,...u}=a,f=v.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function o(a){const c=v.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function Rn(e,t=[]){let r=[];function n(a,c){const u=v.createContext(c),f=r.length;r=[...r,c];const h=p=>{var N;const{scope:x,children:y,...j}=p,w=((N=x==null?void 0:x[e])==null?void 0:N[f])||u,_=v.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:_,children:y})};h.displayName=a+"Provider";function m(p,x){var w;const y=((w=x==null?void 0:x[e])==null?void 0:w[f])||u,j=v.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[h,m]}const o=()=>{const a=r.map(c=>v.createContext(c));return function(u){const f=(u==null?void 0:u[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,UM(o,...t)]}function UM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(a)[`__scope${h}`];return{...u,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var ns=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},BM=_d[" useId ".trim().toString()]||(()=>{}),VM=0;function ea(e){const[t,r]=v.useState(BM());return ns(()=>{r(n=>n??String(VM++))},[e]),t?`radix-${t}`:""}var zM=_d[" useInsertionEffect ".trim().toString()]||ns;function Xi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,c]=WM({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:o;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=v.useCallback(m=>{var p;if(u){const x=HM(m)?m(e):m;x!==e&&((p=c.current)==null||p.call(c,x))}else a(m)},[u,e,a,c]);return[f,h]}function WM({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),o=v.useRef(r),a=v.useRef(t);return zM(()=>{a.current=t},[t]),v.useEffect(()=>{var c;o.current!==r&&((c=a.current)==null||c.call(a,r),o.current=r)},[r,o]),[r,n,a]}function HM(e){return typeof e=="function"}var qM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=qM.reduce((e,t)=>{const r=ca(`Primitive.${t}`),n=v.forwardRef((o,a)=>{const{asChild:c,...u}=o,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...u,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s1(e,t){e&&Vi.flushSync(()=>e.dispatchEvent(t))}function fn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function YM(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e);v.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var GM="DismissableLayer",_p="dismissableLayer.update",KM="dismissableLayer.pointerDownOutside",XM="dismissableLayer.focusOutside",Ow,i1=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ud=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...f}=e,h=v.useContext(i1),[m,p]=v.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),j=_t(t,E=>p(E)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(_),C=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,T=C>=N,D=QM(E=>{const R=E.target,$=[...h.branches].some(H=>H.contains(R));!T||$||(o==null||o(E),c==null||c(E),E.defaultPrevented||u==null||u())},x),P=ZM(E=>{const R=E.target;[...h.branches].some(H=>H.contains(R))||(a==null||a(E),c==null||c(E),E.defaultPrevented||u==null||u())},x);return YM(E=>{C===h.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&u&&(E.preventDefault(),u()))},x),v.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ow=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),$w(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Ow)}},[m,x,r,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),$w())},[m,h]),v.useEffect(()=>{const E=()=>y({});return document.addEventListener(_p,E),()=>document.removeEventListener(_p,E)},[]),s.jsx(Ke.div,{...f,ref:j,style:{pointerEvents:k?T?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,D.onPointerDownCapture)})});Ud.displayName=GM;var JM="DismissableLayerBranch",o1=v.forwardRef((e,t)=>{const r=v.useContext(i1),n=v.useRef(null),o=_t(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Ke.div,{...e,ref:o})});o1.displayName=JM;function QM(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),n=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const a=u=>{if(u.target&&!n.current){let f=function(){a1(KM,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ZM(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),n=v.useRef(!1);return v.useEffect(()=>{const o=a=>{a.target&&!n.current&&a1(XM,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $w(){const e=new CustomEvent(_p);document.dispatchEvent(e)}function a1(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?s1(o,a):o.dispatchEvent(a)}var eI=Ud,tI=o1,wm="focusScope.autoFocusOnMount",bm="focusScope.autoFocusOnUnmount",Mw={bubbles:!1,cancelable:!0},rI="FocusScope",jv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[u,f]=v.useState(null),h=fn(o),m=fn(a),p=v.useRef(null),x=_t(t,w=>f(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(k){if(y.paused||!u)return;const T=k.target;u.contains(T)?p.current=T:zs(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const T=k.relatedTarget;T!==null&&(u.contains(T)||zs(p.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const D of k)D.removedNodes.length>0&&zs(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[n,u,y.paused]),v.useEffect(()=>{if(u){Lw.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(wm,Mw);u.addEventListener(wm,h),u.dispatchEvent(N),N.defaultPrevented||(nI(lI(l1(u)),{select:!0}),document.activeElement===w&&zs(u))}return()=>{u.removeEventListener(wm,h),setTimeout(()=>{const N=new CustomEvent(bm,Mw);u.addEventListener(bm,m),u.dispatchEvent(N),N.defaultPrevented||zs(w??document.body,{select:!0}),u.removeEventListener(bm,m),Lw.remove(y)},0)}}},[u,h,m,y]);const j=v.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,T]=sI(C);k&&T?!w.shiftKey&&N===T?(w.preventDefault(),r&&zs(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),r&&zs(T,{select:!0})):N===C&&w.preventDefault()}},[r,n,y.paused]);return s.jsx(Ke.div,{tabIndex:-1,...c,ref:x,onKeyDown:j})});jv.displayName=rI;function nI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zs(n,{select:t}),document.activeElement!==r)return}function sI(e){const t=l1(e),r=Iw(t,e),n=Iw(t.reverse(),e);return[r,n]}function l1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Iw(e,t){for(const r of e)if(!iI(r,{upTo:t}))return r}function iI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oI(e){return e instanceof HTMLInputElement&&"select"in e}function zs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&oI(e)&&t&&e.select()}}var Lw=aI();function aI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Fw(e,t),e.unshift(t)},remove(t){var r;e=Fw(e,t),(r=e[0])==null||r.resume()}}}function Fw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lI(e){return e.filter(t=>t.tagName!=="A")}var cI="Portal",Bd=v.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[o,a]=v.useState(!1);ns(()=>a(!0),[]);const c=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Fb.createPortal(s.jsx(Ke.div,{...n,ref:t}),c):null});Bd.displayName=cI;function uI(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var On=e=>{const{present:t,children:r}=e,n=dI(t),o=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=_t(n.ref,fI(o));return typeof r=="function"||n.isPresent?v.cloneElement(o,{ref:a}):null};On.displayName="Presence";function dI(e){const[t,r]=v.useState(),n=v.useRef(null),o=v.useRef(e),a=v.useRef("none"),c=e?"mounted":"unmounted",[u,f]=uI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Bu(n.current);a.current=u==="mounted"?h:"none"},[u]),ns(()=>{const h=n.current,m=o.current;if(m!==e){const x=a.current,y=Bu(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),ns(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=y=>{const w=Bu(n.current).includes(y.animationName);if(y.target===t&&w&&(f("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=y=>{y.target===t&&(a.current=Bu(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Bu(e){return(e==null?void 0:e.animationName)||"none"}function fI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jm=0;function c1(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Uw()),document.body.insertAdjacentElement("beforeend",e[1]??Uw()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jm--}},[])}function Uw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nr=function(){return nr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},nr.apply(this,arguments)};function _v(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function u1(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Rl="right-scroll-bar-position",Ol="width-before-scroll-bar",hI="with-scroll-bars-hidden",mI="--removed-body-scroll-bar-size";function _m(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pI(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var vI=typeof window<"u"?v.useLayoutEffect:v.useEffect,Bw=new WeakMap;function d1(e,t){var r=pI(null,function(n){return e.forEach(function(o){return _m(o,n)})});return vI(function(){var n=Bw.get(r);if(n){var o=new Set(n),a=new Set(e),c=r.current;o.forEach(function(u){a.has(u)||_m(u,null)}),a.forEach(function(u){o.has(u)||_m(u,c)})}Bw.set(r,e)},[e]),r}function gI(e){return e}function xI(e,t){t===void 0&&(t=gI);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(a),c=r}var f=function(){var m=c;c=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return o}function f1(e){e===void 0&&(e={});var t=xI(null);return t.options=nr({async:!0,ssr:!1},e),t}var h1=function(e){var t=e.sideCar,r=_v(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,nr({},r))};h1.isSideCarExport=!0;function m1(e,t){return e.useMedium(t),h1}var p1=f1(),Sm=function(){},Vd=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Sm,onWheelCapture:Sm,onTouchMoveCapture:Sm}),o=n[0],a=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=e.gapMode,k=_v(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=x,D=d1([r,t]),P=nr(nr({},k),o);return v.createElement(v.Fragment,null,m&&v.createElement(T,{sideCar:p1,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:C}),c?v.cloneElement(v.Children.only(u),nr(nr({},P),{ref:D})):v.createElement(N,nr({},P,{className:f,ref:D}),u))});Vd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vd.classNames={fullWidth:Ol,zeroRight:Rl};var yI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yI();return t&&e.setAttribute("nonce",t),e}function bI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _I=function(){var e=0,t=null;return{add:function(r){e==0&&(t=wI())&&(bI(t,r),jI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},SI=function(){var e=_I();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Sv=function(){var e=SI(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},NI={left:0,top:0,right:0,gap:0},Nm=function(e){return parseInt(e||"",10)||0},CI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Nm(r),Nm(n),Nm(o)]},kI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NI;var t=CI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},PI=Sv(),ta="data-scroll-locked",EI=function(e,t,r,n){var o=e.left,a=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rl,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ol,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Rl," .").concat(Rl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(mI,": ").concat(u,`px;
  }
`)},Vw=function(){var e=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(e)?e:0},TI=function(){v.useEffect(function(){return document.body.setAttribute(ta,(Vw()+1).toString()),function(){var e=Vw()-1;e<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,e.toString())}},[])},v1=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;TI();var a=v.useMemo(function(){return kI(o)},[o]);return v.createElement(PI,{styles:EI(a,!t,o,r?"":"!important")})},Sp=!1;if(typeof window<"u")try{var Vu=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{Sp=!1}var Bo=Sp?{passive:!1}:!1,AI=function(e){return e.tagName==="TEXTAREA"},g1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!AI(e)&&r[t]==="visible")},DI=function(e){return g1(e,"overflowY")},RI=function(e){return g1(e,"overflowX")},zw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=x1(e,n);if(o){var a=y1(e,n),c=a[1],u=a[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$I=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},x1=function(e,t){return e==="v"?DI(t):RI(t)},y1=function(e,t){return e==="v"?OI(t):$I(t)},MI=function(e,t){return e==="h"&&t==="rtl"?-1:1},II=function(e,t,r,n,o){var a=MI(e,window.getComputedStyle(t).direction),c=a*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=y1(e,u),j=y[0],w=y[1],_=y[2],N=w-_-a*j;(j||N)&&x1(e,u)&&(p+=N,x+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(h=!0),h},zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ww=function(e){return[e.deltaX,e.deltaY]},Hw=function(e){return e&&"current"in e?e.current:e},LI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},UI=0,Vo=[];function BI(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),o=v.useState(UI++)[0],a=v.useState(Sv)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=u1([e.lockRef.current],(e.shards||[]).map(Hw),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var N=zu(w),C=r.current,k="deltaX"in w?w.deltaX:C[0]-N[0],T="deltaY"in w?w.deltaY:C[1]-N[1],D,P=w.target,E=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in w&&E==="h"&&P.type==="range")return!1;var R=zw(E,P);if(!R)return!0;if(R?D=E:(D=E==="v"?"h":"v",R=zw(E,P)),!R)return!1;if(!n.current&&"changedTouches"in w&&(k||T)&&(n.current=D),!D)return!0;var $=n.current||D;return II($,_,w,$==="h"?k:T)},[]),f=v.useCallback(function(w){var _=w;if(!(!Vo.length||Vo[Vo.length-1]!==a)){var N="deltaY"in _?Ww(_):zu(_),C=t.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&LI(D.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(Hw).filter(Boolean).filter(function(D){return D.contains(_.target)}),T=k.length>0?u(_,k[0]):!c.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C,shadowParent:VI(N)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(T){return T!==k})},1)},[]),m=v.useCallback(function(w){r.current=zu(w),n.current=void 0},[]),p=v.useCallback(function(w){h(w.type,Ww(w),w.target,u(w,e.lockRef.current))},[]),x=v.useCallback(function(w){h(w.type,zu(w),w.target,u(w,e.lockRef.current))},[]);v.useEffect(function(){return Vo.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Bo),document.addEventListener("touchmove",f,Bo),document.addEventListener("touchstart",m,Bo),function(){Vo=Vo.filter(function(w){return w!==a}),document.removeEventListener("wheel",f,Bo),document.removeEventListener("touchmove",f,Bo),document.removeEventListener("touchstart",m,Bo)}},[]);var y=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(a,{styles:FI(o)}):null,y?v.createElement(v1,{gapMode:e.gapMode}):null)}function VI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zI=m1(p1,BI);var Nv=v.forwardRef(function(e,t){return v.createElement(Vd,nr({},e,{ref:t,sideCar:zI}))});Nv.classNames=Vd.classNames;var WI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zo=new WeakMap,Wu=new WeakMap,Hu={},Cm=0,w1=function(e){return e&&(e.host||w1(e.parentNode))},HI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=w1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},qI=function(e,t,r,n){var o=HI(t,Array.isArray(e)?e:[e]);Hu[r]||(Hu[r]=new WeakMap);var a=Hu[r],c=[],u=new Set,f=new Set(o),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};o.forEach(h);var m=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(x){if(u.has(x))m(x);else try{var y=x.getAttribute(n),j=y!==null&&y!=="false",w=(zo.get(x)||0)+1,_=(a.get(x)||0)+1;zo.set(x,w),a.set(x,_),c.push(x),w===1&&j&&Wu.set(x,!0),_===1&&x.setAttribute(r,"true"),j||x.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return m(t),u.clear(),Cm++,function(){c.forEach(function(p){var x=zo.get(p)-1,y=a.get(p)-1;zo.set(p,x),a.set(p,y),x||(Wu.has(p)||p.removeAttribute(n),Wu.delete(p)),y||p.removeAttribute(r)}),Cm--,Cm||(zo=new WeakMap,zo=new WeakMap,Wu=new WeakMap,Hu={})}},Cv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=WI(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),qI(n,o,r,"aria-hidden")):function(){return null}},zd="Dialog",[b1,uV]=Rn(zd),[YI,xn]=b1(zd),j1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:c=!0}=e,u=v.useRef(null),f=v.useRef(null),[h,m]=Xi({prop:n,defaultProp:o??!1,onChange:a,caller:zd});return s.jsx(YI,{scope:t,triggerRef:u,contentRef:f,contentId:ea(),titleId:ea(),descriptionId:ea(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),modal:c,children:r})};j1.displayName=zd;var _1="DialogTrigger",S1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=xn(_1,r),a=_t(t,o.triggerRef);return s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ev(o.open),...n,ref:a,onClick:qe(e.onClick,o.onOpenToggle)})});S1.displayName=_1;var kv="DialogPortal",[GI,N1]=b1(kv,{forceMount:void 0}),C1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=xn(kv,t);return s.jsx(GI,{scope:t,forceMount:r,children:v.Children.map(n,c=>s.jsx(On,{present:r||a.open,children:s.jsx(Bd,{asChild:!0,container:o,children:c})}))})};C1.displayName=kv;var md="DialogOverlay",k1=v.forwardRef((e,t)=>{const r=N1(md,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=xn(md,e.__scopeDialog);return a.modal?s.jsx(On,{present:n||a.open,children:s.jsx(XI,{...o,ref:t})}):null});k1.displayName=md;var KI=ca("DialogOverlay.RemoveScroll"),XI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=xn(md,r);return s.jsx(Nv,{as:KI,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(Ke.div,{"data-state":Ev(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fi="DialogContent",P1=v.forwardRef((e,t)=>{const r=N1(Fi,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=xn(Fi,e.__scopeDialog);return s.jsx(On,{present:n||a.open,children:a.modal?s.jsx(JI,{...o,ref:t}):s.jsx(QI,{...o,ref:t})})});P1.displayName=Fi;var JI=v.forwardRef((e,t)=>{const r=xn(Fi,e.__scopeDialog),n=v.useRef(null),o=_t(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return Cv(a)},[]),s.jsx(E1,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,a=>a.preventDefault())})}),QI=v.forwardRef((e,t)=>{const r=xn(Fi,e.__scopeDialog),n=v.useRef(!1),o=v.useRef(!1);return s.jsx(E1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),E1=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=e,u=xn(Fi,r),f=v.useRef(null),h=_t(t,f);return c1(),s.jsxs(s.Fragment,{children:[s.jsx(jv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Ud,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ev(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ZI,{titleId:u.titleId}),s.jsx(tL,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Pv="DialogTitle",T1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=xn(Pv,r);return s.jsx(Ke.h2,{id:o.titleId,...n,ref:t})});T1.displayName=Pv;var A1="DialogDescription",D1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=xn(A1,r);return s.jsx(Ke.p,{id:o.descriptionId,...n,ref:t})});D1.displayName=A1;var R1="DialogClose",O1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=xn(R1,r);return s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,()=>o.onOpenChange(!1))})});O1.displayName=R1;function Ev(e){return e?"open":"closed"}var $1="DialogTitleWarning",[dV,M1]=FM($1,{contentName:Fi,titleName:Pv,docsSlug:"dialog"}),ZI=({titleId:e})=>{const t=M1($1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eL="DialogDescriptionWarning",tL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M1(eL).contentName}}.`;return v.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rL=j1,nL=S1,sL=C1,I1=k1,L1=P1,F1=T1,U1=D1,iL=O1;const hn=rL,ci=nL,oL=sL,B1=me.forwardRef(({className:e,...t},r)=>s.jsx(I1,{ref:r,className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));B1.displayName=I1.displayName;const Hr=me.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(oL,{children:[s.jsx(B1,{}),s.jsxs(L1,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(iL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(us,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hr.displayName=L1.displayName;const qr=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qr.displayName="DialogHeader";const Ji=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ji.displayName="DialogFooter";const Yr=me.forwardRef(({className:e,...t},r)=>s.jsx(F1,{ref:r,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));Yr.displayName=F1.displayName;const Tv=me.forwardRef(({className:e,...t},r)=>s.jsx(U1,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));Tv.displayName=U1.displayName;const ye=me.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Pe("flex h-11 w-full rounded-md border border-[#3CB371] bg-white/90 px-4 py-2 text-base text-[#2E8B57] placeholder:text-[#3CB371] shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#2E8B57] focus-visible:ring-offset-2 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ye.displayName="Input";var aL="Label",V1=v.forwardRef((e,t)=>s.jsx(Ke.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));V1.displayName=aL;var z1=V1;const lL=Fd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=me.forwardRef(({className:e,...t},r)=>s.jsx(z1,{ref:r,className:Pe(lL(),e),...t}));oe.displayName=z1.displayName;const Wd=({onSuccess:e})=>{const[t,r]=v.useState(""),[n,o]=v.useState(""),[a,c]=v.useState(!1),[u,f]=v.useState(0),[h,m]=v.useState(!1);v.useEffect(()=>{if(u>0){const y=setTimeout(()=>f(u-1),1e3);return()=>clearTimeout(y)}},[u]);const p=async y=>{if(y.preventDefault(),!t.trim()){ne({variant:"destructive",title:"Error",description:"Please enter a phone number"});return}const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`;c(!0);try{const{error:w}=await ce.auth.signInWithOtp({phone:j});if(w)throw w;m(!0),f(30),ne({title:"Code Sent",description:"Please check your phone for the verification code."})}catch(w){console.error("Error sending OTP:",w),ne({variant:"destructive",title:"Error",description:w.message})}finally{c(!1)}},x=async y=>{if(y.preventDefault(),!n.trim()||n.length!==6){ne({variant:"destructive",title:"Error",description:"Please enter a valid 6-digit code"});return}c(!0);try{const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`,{error:w}=await ce.auth.verifyOtp({phone:j,token:n,type:"sms"});if(w)throw w;ne({title:"Success",description:"You have been successfully logged in."}),e&&e()}catch(j){console.error("Error verifying OTP:",j),ne({variant:"destructive",title:"Error",description:j.message})}finally{c(!1)}};return s.jsx("div",{className:"w-full max-w-lg mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 border border-primary/20 shadow-lg",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome "}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please verify your phone number to continue."})]}),s.jsxs("form",{onSubmit:h?x:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",className:"text-sm font-semibold text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"+61"})}),s.jsx(ye,{id:"phone",type:"tel",placeholder:"04XXXXXXXX",value:t.replace(/^\+61/,""),onChange:y=>r(y.target.value),disabled:a||h,className:"pl-10 h-10 text-base border-2 focus:border-primary transition-colors"})]})]}),h&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"otp",className:"text-sm font-semibold text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"otp",type:"text",maxLength:6,placeholder:"Enter 6-digit code",value:n,onChange:y=>o(y.target.value.replace(/\D/g,"").slice(0,6)),disabled:a,className:"h-10 text-base text-center tracking-widest border-2 focus:border-primary transition-colors"}),n.length===6&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(Bl,{className:"w-4 h-4 text-green-500"})})]})]}),s.jsx("div",{className:"space-y-2",children:h?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:a||n.length!==6,children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verifying..."]}):"Verify & Sign In"}),s.jsx(Q,{type:"button",variant:"outline",className:"w-full h-8 text-sm",onClick:p,disabled:a||u>0,children:u>0?`Resend in ${u}s`:"Resend Code"})]}):s.jsx(Q,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:a||!t.trim(),children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending Code..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(D$,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-center text-gray-500 leading-relaxed",children:["By continuing, you agree to our"," ",s.jsx(Te,{to:"/terms",className:"text-primary hover:underline font-medium",target:"_blank",children:"Terms of Service"})," ","and"," ",s.jsx(Te,{to:"/privacy",className:"text-primary hover:underline font-medium",target:"_blank",children:"Privacy Policy"})]})})]})})},Av=({open:e,onOpenChange:t})=>s.jsx(hn,{open:e,onOpenChange:t,children:s.jsxs(Hr,{className:"sm:max-w-[425px]",children:[s.jsxs(qr,{children:[s.jsx(Yr,{children:"Login"}),s.jsx(Tv,{children:"Enter your phone number to create an account or sign-in."})]}),s.jsx(Wd,{onSuccess:()=>t(!1)})]})}),ja="Australia/Adelaide",Cn=(e=ja)=>{const t=new Date,r=t.getTime()+t.getTimezoneOffset()*6e4;return new Date(r+cL(e)*6e4)},cL=e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-r.getTime())/(1e3*60)},Ut=(e,t=ja)=>{const r={timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",r).format(e)},Qo=e=>{const[t,r]=e.split(":").map(Number),n=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${n}`},uL=(e,t)=>{const r=e>=12?"PM":"AM";return`${e%12||12}:${t.toString().padStart(2,"0")} ${r}`},dL=()=>{const e=[];for(let t=0;t<24;t++)for(let r=0;r<60;r+=30){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,o=uL(t,r);e.push({value:n,label:o})}return e},fL=(e,t)=>{const[r,n]=e.split(":").map(Number),[o,a]=t.split(":").map(Number),c=r*60+n;return o*60+a>c},W1=async e=>{if(!e)return[];const t=(()=>{try{return JSON.parse(localStorage.getItem("notifications_read_"+e)).data||[]}catch{return[]}})(),r=wr(`notifications_${e}`)||[],{data:n}=await ce.from("orders").select("*").eq("user_id",e).in("status",["pending","processing"]).order("expected_delivery_at",{ascending:!0}).limit(3),{data:o}=await ce.from("pickup_orders").select("*").eq("user_id",e).in("status",["pending","processing","ready"]).order("pickup_date",{ascending:!0}).limit(3),a=[...(n||[]).map(u=>({type:"order",id:u.id,title:"Upcoming Delivery",time:`${new Date(u.expected_delivery_at)}`,admin_messages:u.admin_messages||[],status:u.status})),...(o||[]).map(u=>({type:"pickup",id:u.id,title:"Upcoming Grocery Run",time:u.time_slot?`${new Date(u.pickup_date)} - ${u.time_slot}`:u.pickup_date,admin_messages:u.admin_messages||[],status:u.status}))],c=a.map(u=>{var m;const f=r.find(p=>p.type===u.type&&p.id===u.id);let h=!1;return t.includes(`${u.type}_${u.id}`)?f&&(((m=f.admin_messages)==null?void 0:m.length)!==u.admin_messages.length||f.status!==u.status||f.time!==u.time)&&(h=!0,sr(`notifications_read_${e}`,t.filter(p=>p!==`${u.type}_${u.id}`),1)):h=!0,{...u,unread:h}});return sr(`notifications_${e}`,a,1),c},qw="notifications_read_",hL=({open:e,onClose:t,onRead:r})=>{const{user:n}=Xt(),[o,a]=v.useState([]),[c,u]=v.useState(!1),f=v.useRef(),h=Ht(),m=()=>{if(!n)return[];try{return JSON.parse(localStorage.getItem(qw+n.id)).data||[]}catch{return[]}},p=j=>{n&&sr(qw+`${n.id}`,j,100)},x=async()=>{if(!n)return;u(!0);let j=m();const w=await W1(n.id);a(w.map(_=>({..._,unread:!j.includes(`${_.type}_${_.id}`)}))),u(!1)};v.useEffect(()=>{if(e&&o.length>0&&n){const j=o.map(w=>`${w.type}_${w.id}`);p(j),a(o.map(w=>({...w,unread:!1}))),r&&r()}},[e]),v.useEffect(()=>{if(!(!e||!n))return x(),f.current=setInterval(x,3e4),()=>clearInterval(f.current)},[e,n]);const y=j=>{j.type==="order"?h(`/order-confirmation/${j.id}`):h(`/pickup-order/${j.id}`),t()};return s.jsx(ia,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t}),s.jsxs(je.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded p-4 space-y-4",children:c?s.jsx("div",{className:"text-center text-muted-foreground",children:"Loading..."}):o.length===0?s.jsx("div",{className:"text-center text-muted-foreground",children:"No notifications"}):o.map((j,w)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted cursor-pointer hover:bg-primary/10 transition relative",onClick:()=>y(j),children:[j.type==="order"?s.jsx(Wr,{className:"w-6 h-6 text-primary"}):s.jsx(li,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[j.title,j.unread&&s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-orange-500",title:"Unread"})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:j.time?j.time:""})]})]},j.id))})]})]})})},mL=()=>{var D;const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[o,a]=v.useState(!1),[c,u]=v.useState(0),{getCartCount:f,toggleCart:h}=cs(),{user:m,isAdmin:p,logout:x,loading:y}=Xt(),j=Ht(),w=f(),_=()=>t(!1),N=async()=>{await x(),_(),j("/")};ls().pathname;const k={closed:{opacity:0,x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}}};v.useEffect(()=>{let P;const E=async()=>{if(!m){u(0);return}const R=await W1(m.id),$=(()=>{try{return JSON.parse(localStorage.getItem("notifications_read_"+m.id)).data||[]}catch{return[]}})(),H=R.filter(te=>!$.includes(`${te.type}_${te.id}`));u(H.length)};return E(),P=setInterval(E,45e3),()=>clearInterval(P)},[m]);const T=()=>{u(0)};return s.jsxs("header",{className:"sticky top-0 z-40 w-full bg-gradient-to-r from-[#2E8B57] via-[#3CB371] to-[#98D598] border-b shadow-sm",children:[s.jsxs("div",{className:"container flex items-center justify-between h-16 px-4 mx-auto md:px-6",children:[s.jsx(Te,{to:"/",className:"flex items-center space-x-2",children:s.jsx("div",{style:{backgroundImage:"url(https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/logo-plain.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"160px",height:"50px"},"aria-label":"Groceroo Logo"})}),s.jsxs("nav",{className:"hidden md:flex md:items-center md:space-x-6",children:[s.jsx(Te,{to:"/grocery-run",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Grocery Run"}),s.jsx(Te,{to:"/shop",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Shop"}),s.jsx(Te,{to:"/categories",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Categories"}),p&&s.jsx(Te,{to:"/admin",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Admin Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs(Q,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:()=>a(!0),children:[s.jsx(z4,{className:"w-5 h-5 text-white"}),c>0&&s.jsx(nt,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:c})]}),s.jsx(hL,{open:o,onClose:()=>a(!1),onRead:T}),s.jsxs(Q,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:h,children:[s.jsx(ti,{className:"w-5 h-5 text-white"}),w>0&&s.jsx(nt,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:w})]}),!y&&(m?s.jsx("div",{className:"md:flex md:items-center md:space-x-2",children:s.jsx(Te,{to:"/account",children:s.jsxs(Q,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 text-white",children:[s.jsx(kw,{className:"w-4 h-4"}),s.jsx("span",{children:(D=m.name)==null?void 0:D.split(" ").map(P=>P[0]).join("").toUpperCase().slice(0,4)})]})})}):s.jsx(Q,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",size:"sm",onClick:()=>n(!0),children:s.jsx(kw,{})}))]})]}),s.jsx(ia,{children:e&&s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_,children:s.jsxs(je.div,{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-xl",variants:k,initial:"closed",animate:"open",exit:"closed",onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Menu"}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:_,children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[s.jsx(Te,{to:"/",className:"flex items-center space-x-2 text-sm",onClick:_,children:"Home"}),s.jsx(Te,{to:"/shop",className:"flex items-center space-x-2 text-sm",onClick:_,children:"Shop"}),s.jsx(Te,{to:"/categories",className:"flex items-center space-x-2 text-sm",onClick:_,children:"Categories"}),p&&s.jsxs(Te,{to:"/admin",className:"flex items-center space-x-2 text-sm",onClick:_,children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsx("span",{children:"Admin Dashboard"})]}),!y&&(m?s.jsxs(s.Fragment,{children:[s.jsxs(Te,{to:"/account",className:"flex items-center space-x-2 text-sm",onClick:_,children:[s.jsx(yp,{className:"w-4 h-4"}),s.jsx("span",{children:"My Account"})]}),s.jsxs(Q,{variant:"ghost",className:"flex items-center justify-start space-x-2 text-sm",onClick:N,children:[s.jsx(Y_,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]}):s.jsx(Q,{onClick:()=>{_(),n(!0)},children:"Sign In"}))]})]})})}),s.jsx(Av,{open:r,onOpenChange:n})]})},pL=()=>{const e=new Date().getFullYear(),t=()=>{window.confirm("Are you sure you want to clear local storage, session storage, and cookies?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())};return s.jsx("footer",{className:"bg-white border-t",children:s.jsxs("div",{className:"container px-4 py-12 mx-auto md:px-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{style:{backgroundImage:"url(https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/logo.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"100px",height:"40px"},"aria-label":"Groceroo Logo"}),s.jsx("div",{className:"text-xs text-gray-500",children:"ABN 257 558 402 06"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Express grocery shopping and delivery service in Adelaide. Groceries and more delivered to your door."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:s.jsx(m$,{className:"w-5 h-5"})}),s.jsx("a",{href:"https://www.instagram.com/groceroo_adl?igsh=bXFmN2J2cHp3cHQ=",className:"text-gray-500 hover:text-primary",children:s.jsx(w$,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Te,{to:"/categories",className:"text-gray-600 hover:text-primary",children:"Categories"})}),s.jsx("li",{children:s.jsx(Te,{to:"/shop",className:"text-gray-600 hover:text-primary",children:"All Products"})}),s.jsx("li",{children:s.jsx(Te,{to:"/shop?featured=true",className:"text-gray-600 hover:text-primary",children:"Featured Items"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Get in Touch"}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(G_,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"mailto:contact@groceroo.com.au",className:"hover:text-primary underline",children:"contact@groceroo.com.au"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Id,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"tel:+61478477036",className:"hover:text-primary underline",children:"+61 478 477 036"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Md,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"https://wa.me/61478477036",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary underline",children:"WhatsApp"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"More"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Te,{to:"/",className:"text-gray-600 hover:text-primary",children:"Home"})}),s.jsx("li",{children:s.jsx(Te,{to:"/privacy",className:"text-gray-600 hover:text-primary",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Te,{to:"/terms",className:"text-gray-600 hover:text-primary",children:"Terms and conditions"})})]})]})]}),s.jsx("div",{className:"pt-8 mt-8 border-t",children:s.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 md:flex-row md:space-y-0",children:[s.jsxs("p",{className:"text-xs text-gray-600",children:[" ",e," Groceroo. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsx("button",{onClick:t,className:"hover:text-red-500 text-xs",children:"Clear Data"}),s.jsx(Te,{to:"/privacy",className:"hover:text-primary",children:"Privacy Policy"}),s.jsx(Te,{to:"/terms",className:"hover:text-primary",children:"Terms of Service"})]}),s.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:s.jsx("p",{className:"text-md text-[#ff9800]",children:"SARITA"})})]})})]})})},vL=()=>{const{cart:e,isCartOpen:t,closeCart:r,removeFromCart:n,updateQuantity:o,getCartTotal:a,clearCart:c}=cs(),u=Ht(),f=()=>{r(),u("/checkout")},h={closed:{x:"100%",transition:{type:"spring",stiffness:180,damping:24,mass:.8}},open:{x:0,transition:{type:"spring",stiffness:180,damping:24,mass:.8}}},m={closed:{opacity:0,transition:{duration:.18}},open:{opacity:1,transition:{duration:.28}}};return s.jsx(ia,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50",style:{willChange:"transform"},initial:"closed",animate:"open",exit:"closed",variants:m,onClick:r}),s.jsxs(je.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:"closed",animate:"open",exit:"closed",variants:h,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ti,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Your Cart"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.reduce((p,x)=>p+x.quantity,0)," items)"]})]}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(us,{className:"w-5 h-5"})})]}),e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 space-y-4 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(ti,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-medium",children:"Your cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added any products to your cart yet."}),s.jsx(Q,{onClick:()=>{r(),u("/shop")},children:"Continue Shopping"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded p-4",children:s.jsx("ul",{className:"space-y-4",children:s.jsx(ia,{children:e.map(p=>s.jsxs(je.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center space-x-4 p-3 rounded-lg border bg-card",children:[s.jsx("div",{className:"w-16 h-16 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:s.jsx("img",{alt:p.name,className:"w-full h-full object-cover",onClick:()=>{r(),u(`/product/${p.id}`)},src:p.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se(p.price)," / ",p.unit]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx(Q,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity-1),children:s.jsx(ba,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm w-8 text-center",children:p.quantity}),s.jsx(Q,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity+1),children:s.jsx(Yi,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:Se(p.price*p.quantity)}),s.jsx(Q,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>n(p.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},p.id))})})}),e.length>0&&s.jsx("div",{className:"flex justify-center my-2",children:s.jsxs(Te,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1",onClick:()=>r(),children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsx("div",{className:"p-4 border-t bg-muted/30",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),s.jsx("span",{className:"text-sm font-medium",children:Se(a())})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Charges & Fees"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated at checkout"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total"}),s.jsx("span",{className:"text-base font-semibold",children:Se(a())})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Q,{variant:"outline",className:"w-full",onClick:c,children:"Clear Cart"}),s.jsx(Q,{className:"w-full",onClick:f,disabled:e.length===0,children:"Checkout"})]})]})})]})]})]})})};function H1(e){const t=e+"CollectionProvider",[r,n]=Rn(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:N}=w,C=me.useRef(null),k=me.useRef(new Map).current;return s.jsx(o,{scope:_,itemMap:k,collectionRef:C,children:N})};c.displayName=t;const u=e+"CollectionSlot",f=ca(u),h=me.forwardRef((w,_)=>{const{scope:N,children:C}=w,k=a(u,N),T=_t(_,k.collectionRef);return s.jsx(f,{ref:T,children:C})});h.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=ca(m),y=me.forwardRef((w,_)=>{const{scope:N,children:C,...k}=w,T=me.useRef(null),D=_t(_,T),P=a(m,N);return me.useEffect(()=>(P.itemMap.set(T,{ref:T,...k}),()=>void P.itemMap.delete(T))),s.jsx(x,{[p]:"",ref:D,children:C})});y.displayName=m;function j(w){const _=a(e+"CollectionConsumer",w);return me.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((P,E)=>k.indexOf(P.ref.current)-k.indexOf(E.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},j,n]}var gL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xL="VisuallyHidden",Dv=v.forwardRef((e,t)=>s.jsx(Ke.span,{...e,ref:t,style:{...gL,...e.style}}));Dv.displayName=xL;var Rv="ToastProvider",[Ov,yL,wL]=H1("Toast"),[q1,fV]=Rn("Toast",[wL]),[bL,Hd]=q1(Rv),Y1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=e,[u,f]=v.useState(null),[h,m]=v.useState(0),p=v.useRef(!1),x=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rv}\`. Expected non-empty \`string\`.`),s.jsx(Ov.Provider,{scope:t,children:s.jsx(bL,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:v.useCallback(()=>m(y=>y+1),[]),onToastRemove:v.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};Y1.displayName=Rv;var G1="ToastViewport",jL=["F8"],Np="toast.viewportPause",Cp="toast.viewportResume",K1=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=jL,label:o="Notifications ({hotkey})",...a}=e,c=Hd(G1,r),u=yL(r),f=v.useRef(null),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),x=_t(t,p,c.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;v.useEffect(()=>{const _=N=>{var k;n.length!==0&&n.every(T=>N[T]||N.code===T)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),v.useEffect(()=>{const _=f.current,N=p.current;if(j&&_&&N){const C=()=>{if(!c.isClosePausedRef.current){const P=new CustomEvent(Np);N.dispatchEvent(P),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const P=new CustomEvent(Cp);N.dispatchEvent(P),c.isClosePausedRef.current=!1}},T=P=>{!_.contains(P.relatedTarget)&&k()},D=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",C),_.addEventListener("focusout",T),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",D),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",C),_.removeEventListener("focusout",T),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[j,c.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:_})=>{const C=u().map(k=>{const T=k.ref.current,D=[T,...$L(T)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?C.reverse():C).flat()},[u]);return v.useEffect(()=>{const _=p.current;if(_){const N=C=>{var D,P,E;const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const R=document.activeElement,$=C.shiftKey;if(C.target===_&&$){(D=h.current)==null||D.focus();return}const Z=w({tabbingDirection:$?"backwards":"forwards"}),Y=Z.findIndex(L=>L===R);km(Z.slice(Y+1))?C.preventDefault():$?(P=h.current)==null||P.focus():(E=m.current)==null||E.focus()}};return _.addEventListener("keydown",N),()=>_.removeEventListener("keydown",N)}},[u,w]),s.jsxs(tI,{ref:f,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&s.jsx(kp,{ref:h,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});km(_)}}),s.jsx(Ov.Slot,{scope:r,children:s.jsx(Ke.ol,{tabIndex:-1,...a,ref:x})}),j&&s.jsx(kp,{ref:m,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});km(_)}})]})});K1.displayName=G1;var X1="ToastFocusProxy",kp=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=Hd(X1,r);return s.jsx(Dv,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=a.viewport)!=null&&h.contains(u))&&n()}})});kp.displayName=X1;var ac="Toast",_L="toast.swipeStart",SL="toast.swipeMove",NL="toast.swipeCancel",CL="toast.swipeEnd",J1=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...c}=e,[u,f]=Xi({prop:n,defaultProp:o??!0,onChange:a,caller:ac});return s.jsx(On,{present:r||u,children:s.jsx(EL,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:fn(e.onPause),onResume:fn(e.onResume),onSwipeStart:qe(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:qe(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});J1.displayName=ac;var[kL,PL]=q1(ac,{onClose(){}}),EL=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...j}=e,w=Hd(ac,r),[_,N]=v.useState(null),C=_t(t,L=>N(L)),k=v.useRef(null),T=v.useRef(null),D=o||w.duration,P=v.useRef(0),E=v.useRef(D),R=v.useRef(0),{onToastAdd:$,onToastRemove:H}=w,te=fn(()=>{var B;(_==null?void 0:_.contains(document.activeElement))&&((B=w.viewport)==null||B.focus()),c()}),Z=v.useCallback(L=>{!L||L===1/0||(window.clearTimeout(R.current),P.current=new Date().getTime(),R.current=window.setTimeout(te,L))},[te]);v.useEffect(()=>{const L=w.viewport;if(L){const B=()=>{Z(E.current),h==null||h()},F=()=>{const W=new Date().getTime()-P.current;E.current=E.current-W,window.clearTimeout(R.current),f==null||f()};return L.addEventListener(Np,F),L.addEventListener(Cp,B),()=>{L.removeEventListener(Np,F),L.removeEventListener(Cp,B)}}},[w.viewport,D,f,h,Z]),v.useEffect(()=>{a&&!w.isClosePausedRef.current&&Z(D)},[a,D,w.isClosePausedRef,Z]),v.useEffect(()=>($(),()=>H()),[$,H]);const Y=v.useMemo(()=>_?sS(_):null,[_]);return w.viewport?s.jsxs(s.Fragment,{children:[Y&&s.jsx(TL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),s.jsx(kL,{scope:r,onClose:te,children:Vi.createPortal(s.jsx(Ov.ItemSlot,{scope:r,children:s.jsx(eI,{asChild:!0,onEscapeKeyDown:qe(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||te(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,L=>{L.key==="Escape"&&(u==null||u(L.nativeEvent),L.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:qe(e.onPointerDown,L=>{L.button===0&&(k.current={x:L.clientX,y:L.clientY})}),onPointerMove:qe(e.onPointerMove,L=>{if(!k.current)return;const B=L.clientX-k.current.x,F=L.clientY-k.current.y,W=!!T.current,M=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,X=M?z(0,B):0,O=M?0:z(0,F),q=L.pointerType==="touch"?10:2,ee={x:X,y:O},de={originalEvent:L,delta:ee};W?(T.current=ee,qu(SL,p,de,{discrete:!1})):Yw(ee,w.swipeDirection,q)?(T.current=ee,qu(_L,m,de,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(B)>q||Math.abs(F)>q)&&(k.current=null)}),onPointerUp:qe(e.onPointerUp,L=>{const B=T.current,F=L.target;if(F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),T.current=null,k.current=null,B){const W=L.currentTarget,M={originalEvent:L,delta:B};Yw(B,w.swipeDirection,w.swipeThreshold)?qu(CL,y,M,{discrete:!0}):qu(NL,x,M,{discrete:!0}),W.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),TL=e=>{const{__scopeToast:t,children:r,...n}=e,o=Hd(ac,t),[a,c]=v.useState(!1),[u,f]=v.useState(!1);return RL(()=>c(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:s.jsx(Bd,{asChild:!0,children:s.jsx(Dv,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},AL="ToastTitle",Q1=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ke.div,{...n,ref:t})});Q1.displayName=AL;var DL="ToastDescription",Z1=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ke.div,{...n,ref:t})});Z1.displayName=DL;var eS="ToastAction",tS=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(nS,{altText:r,asChild:!0,children:s.jsx($v,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${eS}\`. Expected non-empty \`string\`.`),null)});tS.displayName=eS;var rS="ToastClose",$v=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=PL(rS,r);return s.jsx(nS,{asChild:!0,children:s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,o.onClose)})})});$v.displayName=rS;var nS=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function sS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),OL(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...sS(n))}}),t}function qu(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?s1(o,a):o.dispatchEvent(a)}var Yw=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function RL(e=()=>{}){const t=fn(e);ns(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function OL(e){return e.nodeType===e.ELEMENT_NODE}function $L(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function km(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ML=Y1,iS=K1,oS=J1,aS=Q1,lS=Z1,cS=tS,uS=$v;const IL=ML,dS=me.forwardRef(({className:e,...t},r)=>s.jsx(iS,{ref:r,className:Pe("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 md:max-w-[420px]",e),...t}));dS.displayName=iS.displayName;const LL=Fd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fS=me.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(oS,{ref:n,className:Pe(LL({variant:t}),e),...r}));fS.displayName=oS.displayName;const FL=me.forwardRef(({className:e,...t},r)=>s.jsx(cS,{ref:r,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FL.displayName=cS.displayName;const hS=me.forwardRef(({className:e,...t},r)=>s.jsx(uS,{ref:r,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(us,{className:"h-4 w-4"})}));hS.displayName=uS.displayName;const mS=me.forwardRef(({className:e,...t},r)=>s.jsx(aS,{ref:r,className:Pe("text-sm font-semibold",e),...t}));mS.displayName=aS.displayName;const pS=me.forwardRef(({className:e,...t},r)=>s.jsx(lS,{ref:r,className:Pe("text-sm opacity-90",e),...t}));pS.displayName=lS.displayName;function UL(){const{openCart:e}=cs();return s.jsx("button",{size:"lg",className:"text-primary font-large hover:underline text-lg flex items-center gap-1",onClick:e,tabIndex:0,children:s.jsx("span",{style:{fontSize:"12px",padding:"4px",wordSpacing:"0.5px",cursor:"pointer"},children:"View"})})}function BL(){const{toasts:e}=wR();return s.jsxs(IL,{children:[e.map(({id:t,title:r,description:n,action:o,dismiss:a,...c})=>{let u=null;return o==="view-cart"?u=s.jsx(UL,{}):o&&(u=o),s.jsxs(fS,{...c,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(mS,{children:r}),n&&s.jsx(pS,{children:n})]}),u,s.jsx(hS,{})]},t)}),s.jsx(dS,{})]})}const VL=()=>{const[e,t]=v.useState(!1);v.useEffect(()=>{const n=()=>{t(window.scrollY>200)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e?s.jsx("button",{onClick:r,"aria-label":"Scroll to top",className:"fixed left-4 bottom-24 z-40 bg-[#3CB371] hover:bg-[#2E8B57] text-white rounded-full shadow-lg p-3 transition-all duration-200",style:{boxShadow:"0 2px 8px rgba(44, 62, 80, 0.15)"},children:s.jsx(B4,{className:"w-5 h-5"})}):null},pd=({product:e})=>{const{addToCart:t,updateQuantity:r,cart:n}=cs(),o=n.find(f=>f.id===e.id),a=o?o.quantity:0,c=(f,h)=>{f.preventDefault(),f.stopPropagation(),r(e.id,h)},u=f=>{f.preventDefault(),f.stopPropagation(),t(e,1)};return s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`product-card overflow-hidden rounded-lg border bg-card ${e.in_stock?"":"opacity-60"}`,children:s.jsxs(Te,{to:`/product/${e.id}`,className:"block",children:[s.jsxs("div",{className:"relative aspect-square w-full max-h-48 bg-muted",children:[s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"}),e.featured&&s.jsx(nt,{variant:"default",className:"absolute top-2 left-2 text-xs",children:"Featured"}),!e.in_stock&&s.jsx(nt,{variant:"destructive",className:"absolute top-2 right-2 text-xs",children:"Out of Stock"})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-sm font-medium line-clamp-2",children:e.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-base font-semibold",children:Se(e.price)}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["per ",e.unit]})]}),e.in_stock?a>0?s.jsxs("div",{className:"flex items-center space-x-1",onClick:f=>f.preventDefault(),children:[s.jsx(Q,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:f=>c(f,a-1),children:s.jsx(ba,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-xs font-medium w-4 text-center",children:a}),s.jsx(Q,{size:"icon",className:"h-6 w-6",onClick:f=>c(f,a+1),children:s.jsx(Yi,{className:"h-3 w-3"})})]}):s.jsx(Q,{size:"icon",className:"h-7 w-7 rounded-full",onClick:u,children:s.jsx(ti,{className:"h-3 w-3"})}):s.jsx(Q,{size:"icon",className:"h-7 w-7 rounded-full",disabled:!0,children:s.jsx(ti,{className:"h-3 w-3"})})]})]})]})})};function zL(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}function WL(){return/android/.test(window.navigator.userAgent.toLowerCase())}function HL(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const qL=({onClose:e,platform:t})=>s.jsxs("div",{className:"fixed bottom-4 left-1/2 z-50 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in-up max-w-xs w-full",children:[s.jsx("button",{onClick:e,className:"ml-1 mr-2 text-lg font-bold",children:""}),s.jsx("span",{children:t==="ios"?'Install the web-app on your iOS device: tap Share, then "Add to Home Screen".':'Install the web-app: tap the menu and "Add to Home screen".'})]}),YL=()=>{const{user:e,userLocation:t,getUserLocation:r}=Xt(),[n,o]=v.useState([]),[a,c]=v.useState([]),[u,f]=v.useState([]),[h,m]=v.useState(!0),[p,x]=v.useState(""),[y,j]=v.useState(45),[w,_]=v.useState(!1),[N,C]=v.useState(null),[k,T]=v.useState(!1),[D,P]=v.useState(!1),E=Ht();v.useEffect(()=>{(async()=>{try{let te=wr("featuredProducts"),Z=wr("categories_home"),Y=wr("deliverySettings");if(!te){const{data:L,error:B}=await ce.from("products").select("*, categories ( id, name )").eq("featured",!0).limit(20);if(B)throw B;te=L||[],sr("featuredProducts",te)}if(!Z){const{data:L,error:B}=await ce.from("categories").select("*").order("priority",{ascending:!1}).limit(7);if(B)throw B;Z=L||[],sr("categories_home",Z)}if(!Y){const{data:L,error:B}=await ce.from("delivery_settings").select("estimated_delivery_minutes").eq("id",1).single();!B&&L&&(Y=L,sr("deliverySettings",Y))}o(te),f(Z),Y&&j(Y.estimated_delivery_minutes),e&&await R()}catch(te){console.error("Error fetching data:",te)}finally{m(!1)}})()},[e]);const R=async()=>{try{let H=wr(`previouslyOrderedProducts_${e==null?void 0:e.id}`);if(!H){const{data:te,error:Z}=await ce.from("orders").select("items").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(Z)throw Z;if(te&&te.length>0){const Y=new Set;if(te.forEach(L=>{L.items&&Array.isArray(L.items)&&L.items.forEach(B=>{B.id&&Y.add(B.id)})}),Y.size>0){const{data:L,error:B}=await ce.from("products").select("*, categories ( id, name )").in("id",Array.from(Y)).limit(20);!B&&L&&(H=L,sr(`previouslyOrderedProducts_${e.id}`,H))}}}H&&c(H)}catch(H){console.error("Error fetching previously ordered products:",H)}};v.useEffect(()=>{if(!p)return;P(!0);const H=setTimeout(()=>{if(P(!1),!e){const te=parseInt(localStorage.getItem("search_count")||"0",10);if(te>=10){T(!0);return}localStorage.setItem("search_count",(te+1).toString())}E(`/shop?search=${encodeURIComponent(p.trim())}`)},650);return()=>clearTimeout(H)},[p,e,E]),v.useEffect(()=>{window.innerWidth>768||HL()||localStorage.getItem("a2hs-dismissed")||(zL()?(C("ios"),_(!0)):WL()&&(C("android"),_(!0)))},[]);const $=()=>{_(!1),localStorage.setItem("a2hs-dismissed","1")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[w&&s.jsx(qL,{onClose:$,platform:N}),s.jsxs("section",{className:"relative min-h-[350px] h-[40vh] max-h-[500px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery delivery",className:"w-full h-full object-cover opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-4xl mx-auto pb-6 md:pt-8 md:pb-6",children:s.jsxs(je.div,{className:"space-y-3 md:space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsxs(je.div,{className:"flex items-center justify-between mb-2",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.2},children:[s.jsxs("div",{className:"flex items-center gap-2 p-1",children:[s.jsx(P$,{className:"w-7 h-7 text-[#fd7507]"}),s.jsx("span",{className:"text-white font-bold text-base",children:"Adelaide"})]}),s.jsx("div",{children:t?s.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#fd7507] text-white text-sm font-semibold px-2 py-1 rounded-full shadow",children:[s.jsx(dn,{className:"w-3 h-3 text-white font-semibold text-base"}),y," minutes"]}):s.jsx(Q,{size:"sm",className:"bg-[#fd7507] text-white font-semibold px-3 py-1 rounded-full shadow",onClick:r,children:s.jsx(S$,{})})})]}),s.jsx(je.form,{onSubmit:H=>H.preventDefault(),className:"flex gap-1 w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ye,{type:"text",placeholder:"Search for groceries and more...",value:p,onChange:H=>x(H.target.value),className:"h-12 md:h-12 pl-3 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500 text-sm"}),D&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-400",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]})}),s.jsx(je.div,{className:"pt-2 flex justify-center gap-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3}}),s.jsx(je.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},className:"relative",children:s.jsxs("div",{className:"flex overflow-x-auto pb-1 space-x-3 scrollbar-hide px-2 md:px-0 md:justify-center",children:[u.map(H=>s.jsxs(Te,{to:`/category/${H.id}`,className:"flex-none group text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx("img",{src:H.icon_url,alt:H.name,className:"w-12 h-12 md:w-14 md:h-14 object-cover rounded-full",onError:te=>{te.target.style.display="none",te.target.nextSibling.style.display="flex"}})}),s.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:H.name})]},H.id)),s.jsxs(Te,{to:"/categories",className:"flex-none group text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(xp,{className:"h-6 w-6 md:h-8 md:w-8 text-white"})})}),s.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:"View All"})]})]})}),s.jsxs(je.div,{className:"md:pb-2 pt-2 flex justify-center md:max-w-[400px] lg:max-w-[400px] mx-auto gap-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:[s.jsx(Te,{to:"/shop",className:"block w-full max-w-[120px]",children:s.jsxs(Q,{size:"lg",style:{background:"#fd7507",color:"white"},className:"w-full h-10 md:h-12 font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:[s.jsx(li,{className:"w-4 h-4 mr-2"})," Shop"]})}),s.jsx(Te,{to:"/grocery-run",className:"block w-full",children:s.jsxs(Q,{size:"lg",variant:"outline",className:"w-full h-10 md:h-12 bg-white/95 hover:bg-white border-2 border-white/50 shadow-lg text-[#2E8B57] hover:text-[#2E8B57] font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:["...",s.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Grocery Run"]})})]})]})})})]}),e&&a.length>0&&s.jsx("section",{className:"py-8 bg-gray-50",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsx(je.h2,{className:"text-xl font-bold mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Previously Ordered"}),s.jsx(je.div,{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:a.slice(0,12).map(H=>s.jsx("div",{className:"flex-none w-48",children:s.jsx(pd,{product:H})},H.id))})]})}),s.jsx("section",{className:"py-2 bg-white",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(je.h2,{className:"text-xl font-bold",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Featured Products"}),s.jsx(Te,{to:"/shop",className:"flex-none group text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx(xp,{className:"h-5 w-5 text-primary"})}),s.jsx("span",{className:"text-xs font-medium text-primary transition-colors block truncate",children:"View All"})]})})]}),s.jsx(je.div,{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:n.map(H=>s.jsx(pd,{product:H},H.id))})]})}),k&&s.jsx(Av,{open:k,onOpenChange:T})]})};function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},et.apply(null,arguments)}function Gw(e,[t,r]){return Math.min(r,Math.max(t,e))}function Bt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Mv(e,t=[]){let r=[];function n(a,c){const u=v.createContext(c),f=r.length;r=[...r,c];function h(p){const{scope:x,children:y,...j}=p,w=(x==null?void 0:x[e][f])||u,_=v.useMemo(()=>j,Object.values(j));return v.createElement(w.Provider,{value:_},y)}function m(p,x){const y=(x==null?void 0:x[e][f])||u,j=v.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,m]}const o=()=>{const a=r.map(c=>v.createContext(c));return function(u){const f=(u==null?void 0:u[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,GL(o,...t)]}function GL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(a)[`__scope${h}`];return{...u,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function KL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function vS(...e){return t=>e.forEach(r=>KL(r,t))}function ir(...e){return v.useCallback(vS(...e),e)}const zl=v.forwardRef((e,t)=>{const{children:r,...n}=e,o=v.Children.toArray(r),a=o.find(JL);if(a){const c=a.props.children,u=o.map(f=>f===a?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return v.createElement(Pp,et({},n,{ref:t}),v.isValidElement(c)?v.cloneElement(c,void 0,u):null)}return v.createElement(Pp,et({},n,{ref:t}),r)});zl.displayName="Slot";const Pp=v.forwardRef((e,t)=>{const{children:r,...n}=e;return v.isValidElement(r)?v.cloneElement(r,{...QL(n,r.props),ref:t?vS(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});Pp.displayName="SlotClone";const XL=({children:e})=>v.createElement(v.Fragment,null,e);function JL(e){return v.isValidElement(e)&&e.type===XL}function QL(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...u)=>{a(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function ZL(e){const t=e+"CollectionProvider",[r,n]=Mv(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:j,children:w}=y,_=me.useRef(null),N=me.useRef(new Map).current;return me.createElement(o,{scope:j,itemMap:N,collectionRef:_},w)},u=e+"CollectionSlot",f=me.forwardRef((y,j)=>{const{scope:w,children:_}=y,N=a(u,w),C=ir(j,N.collectionRef);return me.createElement(zl,{ref:C},_)}),h=e+"CollectionItemSlot",m="data-radix-collection-item",p=me.forwardRef((y,j)=>{const{scope:w,children:_,...N}=y,C=me.useRef(null),k=ir(j,C),T=a(h,w);return me.useEffect(()=>(T.itemMap.set(C,{ref:C,...N}),()=>void T.itemMap.delete(C))),me.createElement(zl,{[m]:"",ref:k},_)});function x(y){const j=a(e+"CollectionConsumer",y);return me.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((T,D)=>N.indexOf(T.ref.current)-N.indexOf(D.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:f,ItemSlot:p},x,n]}const e3=v.createContext(void 0);function t3(e){const t=v.useContext(e3);return e||t||"ltr"}const r3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Jt=r3.reduce((e,t)=>{const r=v.forwardRef((n,o)=>{const{asChild:a,...c}=n,u=a?zl:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(u,et({},c,{ref:o}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function n3(e,t){e&&Vi.flushSync(()=>e.dispatchEvent(t))}function ss(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function s3(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e);v.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const Ep="dismissableLayer.update",i3="dismissableLayer.pointerDownOutside",o3="dismissableLayer.focusOutside";let Kw;const a3=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),l3=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,m=v.useContext(a3),[p,x]=v.useState(null),y=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,j]=v.useState({}),w=ir(t,R=>x(R)),_=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(N),k=p?_.indexOf(p):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,D=k>=C,P=c3(R=>{const $=R.target,H=[...m.branches].some(te=>te.contains($));!D||H||(a==null||a(R),u==null||u(R),R.defaultPrevented||f==null||f())},y),E=u3(R=>{const $=R.target;[...m.branches].some(te=>te.contains($))||(c==null||c(R),u==null||u(R),R.defaultPrevented||f==null||f())},y);return s3(R=>{k===m.layers.size-1&&(o==null||o(R),!R.defaultPrevented&&f&&(R.preventDefault(),f()))},y),v.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Kw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Xw(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Kw)}},[p,y,n,m]),v.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Xw())},[p,m]),v.useEffect(()=>{const R=()=>j({});return document.addEventListener(Ep,R),()=>document.removeEventListener(Ep,R)},[]),v.createElement(Jt.div,et({},h,{ref:w,style:{pointerEvents:T?D?"auto":"none":void 0,...e.style},onFocusCapture:Bt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Bt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Bt(e.onPointerDownCapture,P.onPointerDownCapture)}))});function c3(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e),n=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const a=u=>{if(u.target&&!n.current){let h=function(){gS(i3,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function u3(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e),n=v.useRef(!1);return v.useEffect(()=>{const o=a=>{a.target&&!n.current&&gS(o3,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Xw(){const e=new CustomEvent(Ep);document.dispatchEvent(e)}function gS(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?n3(o,a):o.dispatchEvent(a)}let Pm=0;function d3(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Jw()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Jw()),Pm++,()=>{Pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Pm--}},[])}function Jw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Em="focusScope.autoFocusOnMount",Tm="focusScope.autoFocusOnUnmount",Qw={bubbles:!1,cancelable:!0},f3=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[u,f]=v.useState(null),h=ss(o),m=ss(a),p=v.useRef(null),x=ir(t,w=>f(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(k){if(y.paused||!u)return;const T=k.target;u.contains(T)?p.current=T:Ws(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const T=k.relatedTarget;T!==null&&(u.contains(T)||Ws(p.current,{select:!0}))},N=function(k){const T=document.activeElement;for(const D of k)D.removedNodes.length>0&&(u!=null&&u.contains(T)||Ws(u))};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[n,u,y.paused]),v.useEffect(()=>{if(u){eb.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(Em,Qw);u.addEventListener(Em,h),u.dispatchEvent(N),N.defaultPrevented||(h3(x3(xS(u)),{select:!0}),document.activeElement===w&&Ws(u))}return()=>{u.removeEventListener(Em,h),setTimeout(()=>{const N=new CustomEvent(Tm,Qw);u.addEventListener(Tm,m),u.dispatchEvent(N),N.defaultPrevented||Ws(w??document.body,{select:!0}),u.removeEventListener(Tm,m),eb.remove(y)},0)}}},[u,h,m,y]);const j=v.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,T]=m3(C);k&&T?!w.shiftKey&&N===T?(w.preventDefault(),r&&Ws(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),r&&Ws(T,{select:!0})):N===C&&w.preventDefault()}},[r,n,y.paused]);return v.createElement(Jt.div,et({tabIndex:-1},c,{ref:x,onKeyDown:j}))});function h3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ws(n,{select:t}),document.activeElement!==r)return}function m3(e){const t=xS(e),r=Zw(t,e),n=Zw(t.reverse(),e);return[r,n]}function xS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zw(e,t){for(const r of e)if(!p3(r,{upTo:t}))return r}function p3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v3(e){return e instanceof HTMLInputElement&&"select"in e}function Ws(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&v3(e)&&t&&e.select()}}const eb=g3();function g3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tb(e,t),e.unshift(t)},remove(t){var r;e=tb(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function tb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function x3(e){return e.filter(t=>t.tagName!=="A")}const Gr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},y3=_d.useId||(()=>{});let w3=0;function yS(e){const[t,r]=v.useState(y3());return Gr(()=>{r(n=>n??String(w3++))},[e]),t?`radix-${t}`:""}const b3=["top","right","bottom","left"],ri=Math.min,Ar=Math.max,vd=Math.round,Yu=Math.floor,Pn=e=>({x:e,y:e}),j3={left:"right",right:"left",bottom:"top",top:"bottom"},_3={start:"end",end:"start"};function Tp(e,t,r){return Ar(e,ri(t,r))}function is(e,t){return typeof e=="function"?e(t):e}function os(e){return e.split("-")[0]}function _a(e){return e.split("-")[1]}function Iv(e){return e==="x"?"y":"x"}function Lv(e){return e==="y"?"height":"width"}function ts(e){return["top","bottom"].includes(os(e))?"y":"x"}function Fv(e){return Iv(ts(e))}function S3(e,t,r){r===void 0&&(r=!1);const n=_a(e),o=Fv(e),a=Lv(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=gd(c)),[c,gd(c)]}function N3(e){const t=gd(e);return[Ap(e),t,Ap(t)]}function Ap(e){return e.replace(/start|end/g,t=>_3[t])}function C3(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:c;default:return[]}}function k3(e,t,r,n){const o=_a(e);let a=C3(os(e),r==="start",n);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(Ap)))),a}function gd(e){return e.replace(/left|right|bottom|top/g,t=>j3[t])}function P3(e){return{top:0,right:0,bottom:0,left:0,...e}}function wS(e){return typeof e!="number"?P3(e):{top:e,right:e,bottom:e,left:e}}function xd(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function rb(e,t,r){let{reference:n,floating:o}=e;const a=ts(t),c=Fv(t),u=Lv(c),f=os(t),h=a==="y",m=n.x+n.width/2-o.width/2,p=n.y+n.height/2-o.height/2,x=n[u]/2-o[u]/2;let y;switch(f){case"top":y={x:m,y:n.y-o.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-o.width,y:p};break;default:y={x:n.x,y:n.y}}switch(_a(t)){case"start":y[c]-=x*(r&&h?-1:1);break;case"end":y[c]+=x*(r&&h?-1:1);break}return y}const E3=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:c}=r,u=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=rb(h,n,f),x=n,y={},j=0;for(let w=0;w<u.length;w++){const{name:_,fn:N}=u[w],{x:C,y:k,data:T,reset:D}=await N({x:m,y:p,initialPlacement:n,placement:x,strategy:o,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});m=C??m,p=k??p,y={...y,[_]:{...y[_],...T}},D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(h=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:m,y:p}=rb(h,x,f)),w=-1)}return{x:m,y:p,placement:x,strategy:o,middlewareData:y}};async function Wl(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=is(t,e),j=wS(y),_=u[x?p==="floating"?"reference":"floating":p],N=xd(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(_)))==null||r?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),C=p==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),T=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},D=xd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:k,strategy:f}):C);return{top:(N.top-D.top+j.top)/T.y,bottom:(D.bottom-N.bottom+j.bottom)/T.y,left:(N.left-D.left+j.left)/T.x,right:(D.right-N.right+j.right)/T.x}}const T3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=is(e,t)||{};if(h==null)return{};const p=wS(m),x={x:r,y:n},y=Fv(o),j=Lv(y),w=await c.getDimensions(h),_=y==="y",N=_?"top":"left",C=_?"bottom":"right",k=_?"clientHeight":"clientWidth",T=a.reference[j]+a.reference[y]-x[y]-a.floating[j],D=x[y]-a.reference[y],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let E=P?P[k]:0;(!E||!await(c.isElement==null?void 0:c.isElement(P)))&&(E=u.floating[k]||a.floating[j]);const R=T/2-D/2,$=E/2-w[j]/2-1,H=ri(p[N],$),te=ri(p[C],$),Z=H,Y=E-w[j]-te,L=E/2-w[j]/2+R,B=Tp(Z,L,Y),F=!f.arrow&&_a(o)!=null&&L!==B&&a.reference[j]/2-(L<Z?H:te)-w[j]/2<0,W=F?L<Z?L-Z:L-Y:0;return{[y]:x[y]+W,data:{[y]:B,centerOffset:L-B-W,...F&&{alignmentOffset:W}},reset:F}}}),A3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=os(o),C=ts(u),k=os(u)===u,T=await(f.isRTL==null?void 0:f.isRTL(h.floating)),D=x||(k||!w?[gd(u)]:N3(u)),P=j!=="none";!x&&P&&D.push(...k3(u,w,j,T));const E=[u,...D],R=await Wl(t,_),$=[];let H=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&$.push(R[N]),p){const B=S3(o,c,T);$.push(R[B[0]],R[B[1]])}if(H=[...H,{placement:o,overflows:$}],!$.every(B=>B<=0)){var te,Z;const B=(((te=a.flip)==null?void 0:te.index)||0)+1,F=E[B];if(F){var Y;const M=p==="alignment"?C!==ts(F):!1,z=((Y=H[0])==null?void 0:Y.overflows[0])>0;if(!M||z)return{data:{index:B,overflows:H},reset:{placement:F}}}let W=(Z=H.filter(M=>M.overflows[0]<=0).sort((M,z)=>M.overflows[1]-z.overflows[1])[0])==null?void 0:Z.placement;if(!W)switch(y){case"bestFit":{var L;const M=(L=H.filter(z=>{if(P){const X=ts(z.placement);return X===C||X==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(X=>X>0).reduce((X,O)=>X+O,0)]).sort((z,X)=>z[1]-X[1])[0])==null?void 0:L[0];M&&(W=M);break}case"initialPlacement":W=u;break}if(o!==W)return{reset:{placement:W}}}return{}}}};function nb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sb(e){return b3.some(t=>e[t]>=0)}const D3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=is(e,t);switch(n){case"referenceHidden":{const a=await Wl(t,{...o,elementContext:"reference"}),c=nb(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:sb(c)}}}case"escaped":{const a=await Wl(t,{...o,altBoundary:!0}),c=nb(a,r.floating);return{data:{escapedOffsets:c,escaped:sb(c)}}}default:return{}}}}};async function R3(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=os(r),u=_a(r),f=ts(r)==="y",h=["left","top"].includes(c)?-1:1,m=a&&f?-1:1,p=is(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(y=u==="end"?j*-1:j),f?{x:y*m,y:x*h}:{x:x*h,y:y*m}}const O3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:c,middlewareData:u}=t,f=await R3(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},$3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:N,y:C}=_;return{x:N,y:C}}},...f}=is(e,t),h={x:r,y:n},m=await Wl(t,f),p=ts(os(o)),x=Iv(p);let y=h[x],j=h[p];if(a){const _=x==="y"?"top":"left",N=x==="y"?"bottom":"right",C=y+m[_],k=y-m[N];y=Tp(C,y,k)}if(c){const _=p==="y"?"top":"left",N=p==="y"?"bottom":"right",C=j+m[_],k=j-m[N];j=Tp(C,j,k)}const w=u.fn({...t,[x]:y,[p]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[x]:a,[p]:c}}}}}},M3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=is(e,t),m={x:r,y:n},p=ts(o),x=Iv(p);let y=m[x],j=m[p];const w=is(u,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const k=x==="y"?"height":"width",T=a.reference[x]-a.floating[k]+_.mainAxis,D=a.reference[x]+a.reference[k]-_.mainAxis;y<T?y=T:y>D&&(y=D)}if(h){var N,C;const k=x==="y"?"width":"height",T=["top","left"].includes(os(o)),D=a.reference[p]-a.floating[k]+(T&&((N=c.offset)==null?void 0:N[p])||0)+(T?0:_.crossAxis),P=a.reference[p]+a.reference[k]+(T?0:((C=c.offset)==null?void 0:C[p])||0)-(T?_.crossAxis:0);j<D?j=D:j>P&&(j=P)}return{[x]:y,[p]:j}}}},I3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:c,elements:u}=t,{apply:f=()=>{},...h}=is(e,t),m=await Wl(t,h),p=os(o),x=_a(o),y=ts(o)==="y",{width:j,height:w}=a.floating;let _,N;p==="top"||p==="bottom"?(_=p,N=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=p,_=x==="end"?"top":"bottom");const C=w-m.top-m.bottom,k=j-m.left-m.right,T=ri(w-m[_],C),D=ri(j-m[N],k),P=!t.middlewareData.shift;let E=T,R=D;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=C),P&&!x){const H=Ar(m.left,0),te=Ar(m.right,0),Z=Ar(m.top,0),Y=Ar(m.bottom,0);y?R=j-2*(H!==0||te!==0?H+te:Ar(m.left,m.right)):E=w-2*(Z!==0||Y!==0?Z+Y:Ar(m.top,m.bottom))}await f({...t,availableWidth:R,availableHeight:E});const $=await c.getDimensions(u.floating);return j!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function qd(){return typeof window<"u"}function Sa(e){return bS(e)?(e.nodeName||"").toLowerCase():"#document"}function Dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $n(e){var t;return(t=(bS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bS(e){return qd()?e instanceof Node||e instanceof Dr(e).Node:!1}function mn(e){return qd()?e instanceof Element||e instanceof Dr(e).Element:!1}function An(e){return qd()?e instanceof HTMLElement||e instanceof Dr(e).HTMLElement:!1}function ib(e){return!qd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dr(e).ShadowRoot}function lc(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function L3(e){return["table","td","th"].includes(Sa(e))}function Yd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uv(e){const t=Bv(),r=mn(e)?pn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function F3(e){let t=ni(e);for(;An(t)&&!ua(t);){if(Uv(t))return t;if(Yd(t))return null;t=ni(t)}return null}function Bv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ua(e){return["html","body","#document"].includes(Sa(e))}function pn(e){return Dr(e).getComputedStyle(e)}function Gd(e){return mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ni(e){if(Sa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ib(e)&&e.host||$n(e);return ib(t)?t.host:t}function jS(e){const t=ni(e);return ua(t)?e.ownerDocument?e.ownerDocument.body:e.body:An(t)&&lc(t)?t:jS(t)}function Hl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=jS(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),c=Dr(o);if(a){const u=Dp(c);return t.concat(c,c.visualViewport||[],lc(o)?o:[],u&&r?Hl(u):[])}return t.concat(o,Hl(o,[],r))}function Dp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _S(e){const t=pn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=An(e),a=o?e.offsetWidth:r,c=o?e.offsetHeight:n,u=vd(r)!==a||vd(n)!==c;return u&&(r=a,n=c),{width:r,height:n,$:u}}function Vv(e){return mn(e)?e:e.contextElement}function ra(e){const t=Vv(e);if(!An(t))return Pn(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=_S(t);let c=(a?vd(r.width):r.width)/n,u=(a?vd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const U3=Pn(0);function SS(e){const t=Dr(e);return!Bv()||!t.visualViewport?U3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Dr(e)?!1:t}function Ui(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=Vv(e);let c=Pn(1);t&&(n?mn(n)&&(c=ra(n)):c=ra(e));const u=B3(a,r,n)?SS(a):Pn(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,p=o.height/c.y;if(a){const x=Dr(a),y=n&&mn(n)?Dr(n):n;let j=x,w=Dp(j);for(;w&&n&&y!==j;){const _=ra(w),N=w.getBoundingClientRect(),C=pn(w),k=N.left+(w.clientLeft+parseFloat(C.paddingLeft))*_.x,T=N.top+(w.clientTop+parseFloat(C.paddingTop))*_.y;f*=_.x,h*=_.y,m*=_.x,p*=_.y,f+=k,h+=T,j=Dr(w),w=Dp(j)}}return xd({width:m,height:p,x:f,y:h})}function zv(e,t){const r=Gd(e).scrollLeft;return t?t.left+r:Ui($n(e)).left+r}function NS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:zv(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function V3(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",c=$n(n),u=t?Yd(t.floating):!1;if(n===c||u&&a)return r;let f={scrollLeft:0,scrollTop:0},h=Pn(1);const m=Pn(0),p=An(n);if((p||!p&&!a)&&((Sa(n)!=="body"||lc(c))&&(f=Gd(n)),An(n))){const y=Ui(n);h=ra(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const x=c&&!p&&!a?NS(c,f,!0):Pn(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+x.x,y:r.y*h.y-f.scrollTop*h.y+m.y+x.y}}function z3(e){return Array.from(e.getClientRects())}function W3(e){const t=$n(e),r=Gd(e),n=e.ownerDocument.body,o=Ar(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ar(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+zv(e);const u=-r.scrollTop;return pn(n).direction==="rtl"&&(c+=Ar(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:c,y:u}}function H3(e,t){const r=Dr(e),n=$n(e),o=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,u=0,f=0;if(o){a=o.width,c=o.height;const h=Bv();(!h||h&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:a,height:c,x:u,y:f}}function q3(e,t){const r=Ui(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=An(e)?ra(e):Pn(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,f=o*a.x,h=n*a.y;return{width:c,height:u,x:f,y:h}}function ob(e,t,r){let n;if(t==="viewport")n=H3(e,r);else if(t==="document")n=W3($n(e));else if(mn(t))n=q3(t,r);else{const o=SS(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return xd(n)}function CS(e,t){const r=ni(e);return r===t||!mn(r)||ua(r)?!1:pn(r).position==="fixed"||CS(r,t)}function Y3(e,t){const r=t.get(e);if(r)return r;let n=Hl(e,[],!1).filter(u=>mn(u)&&Sa(u)!=="body"),o=null;const a=pn(e).position==="fixed";let c=a?ni(e):e;for(;mn(c)&&!ua(c);){const u=pn(c),f=Uv(c);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||lc(c)&&!f&&CS(e,c))?n=n.filter(m=>m!==c):o=u,c=ni(c)}return t.set(e,n),n}function G3(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Yd(t)?[]:Y3(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const p=ob(t,m,o);return h.top=Ar(p.top,h.top),h.right=ri(p.right,h.right),h.bottom=ri(p.bottom,h.bottom),h.left=Ar(p.left,h.left),h},ob(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function K3(e){const{width:t,height:r}=_S(e);return{width:t,height:r}}function X3(e,t,r){const n=An(t),o=$n(t),a=r==="fixed",c=Ui(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const f=Pn(0);function h(){f.x=zv(o)}if(n||!n&&!a)if((Sa(t)!=="body"||lc(o))&&(u=Gd(t)),n){const y=Ui(t,!0,a,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else o&&h();a&&!n&&o&&h();const m=o&&!n&&!a?NS(o,u):Pn(0),p=c.left+u.scrollLeft-f.x-m.x,x=c.top+u.scrollTop-f.y-m.y;return{x:p,y:x,width:c.width,height:c.height}}function Am(e){return pn(e).position==="static"}function ab(e,t){if(!An(e)||pn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return $n(e)===r&&(r=r.ownerDocument.body),r}function kS(e,t){const r=Dr(e);if(Yd(e))return r;if(!An(e)){let o=ni(e);for(;o&&!ua(o);){if(mn(o)&&!Am(o))return o;o=ni(o)}return r}let n=ab(e,t);for(;n&&L3(n)&&Am(n);)n=ab(n,t);return n&&ua(n)&&Am(n)&&!Uv(n)?r:n||F3(e)||r}const J3=async function(e){const t=this.getOffsetParent||kS,r=this.getDimensions,n=await r(e.floating);return{reference:X3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Q3(e){return pn(e).direction==="rtl"}const Z3={convertOffsetParentRelativeRectToViewportRelativeRect:V3,getDocumentElement:$n,getClippingRect:G3,getOffsetParent:kS,getElementRects:J3,getClientRects:z3,getDimensions:K3,getScale:ra,isElement:mn,isRTL:Q3};function PS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eF(e,t){let r=null,n;const o=$n(e);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:y}=h;if(u||t(),!x||!y)return;const j=Yu(p),w=Yu(o.clientWidth-(m+x)),_=Yu(o.clientHeight-(p+y)),N=Yu(m),k={rootMargin:-j+"px "+-w+"px "+-_+"px "+-N+"px",threshold:Ar(0,ri(1,f))||1};let T=!0;function D(P){const E=P[0].intersectionRatio;if(E!==f){if(!T)return c();E?c(!1,E):n=setTimeout(()=>{c(!1,1e-7)},1e3)}E===1&&!PS(h,e.getBoundingClientRect())&&c(),T=!1}try{r=new IntersectionObserver(D,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(D,k)}r.observe(e)}return c(!0),a}function ES(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Vv(e),m=o||a?[...h?Hl(h):[],...Hl(t)]:[];m.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const p=h&&u?eF(h,r):null;let x=-1,y=null;c&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),r()}),h&&!f&&y.observe(h),y.observe(t));let j,w=f?Ui(e):null;f&&_();function _(){const N=Ui(e);w&&!PS(w,N)&&r(),w=N,j=requestAnimationFrame(_)}return r(),()=>{var N;m.forEach(C=>{o&&C.removeEventListener("scroll",r),a&&C.removeEventListener("resize",r)}),p==null||p(),(N=y)==null||N.disconnect(),y=null,f&&cancelAnimationFrame(j)}}const tF=O3,rF=$3,nF=A3,sF=I3,iF=D3,lb=T3,oF=M3,aF=(e,t,r)=>{const n=new Map,o={platform:Z3,...r},a={...o.platform,_c:n};return E3(e,t,{...o,platform:a})};var td=typeof document<"u"?v.useLayoutEffect:v.useEffect;function yd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yd(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!yd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function TS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cb(e,t){const r=TS(e);return Math.round(t*r)/r}function Dm(e){const t=v.useRef(e);return td(()=>{t.current=e}),t}function AS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,p]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=v.useState(n);yd(x,n)||y(n);const[j,w]=v.useState(null),[_,N]=v.useState(null),C=v.useCallback(M=>{M!==P.current&&(P.current=M,w(M))},[]),k=v.useCallback(M=>{M!==E.current&&(E.current=M,N(M))},[]),T=a||j,D=c||_,P=v.useRef(null),E=v.useRef(null),R=v.useRef(m),$=f!=null,H=Dm(f),te=Dm(o),Z=Dm(h),Y=v.useCallback(()=>{if(!P.current||!E.current)return;const M={placement:t,strategy:r,middleware:x};te.current&&(M.platform=te.current),aF(P.current,E.current,M).then(z=>{const X={...z,isPositioned:Z.current!==!1};L.current&&!yd(R.current,X)&&(R.current=X,Vi.flushSync(()=>{p(X)}))})},[x,t,r,te,Z]);td(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[h]);const L=v.useRef(!1);td(()=>(L.current=!0,()=>{L.current=!1}),[]),td(()=>{if(T&&(P.current=T),D&&(E.current=D),T&&D){if(H.current)return H.current(T,D,Y);Y()}},[T,D,Y,H,$]);const B=v.useMemo(()=>({reference:P,floating:E,setReference:C,setFloating:k}),[C,k]),F=v.useMemo(()=>({reference:T,floating:D}),[T,D]),W=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!F.floating)return M;const z=cb(F.floating,m.x),X=cb(F.floating,m.y);return u?{...M,transform:"translate("+z+"px, "+X+"px)",...TS(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:X}},[r,u,F.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:Y,refs:B,elements:F,floatingStyles:W}),[m,Y,B,F,W])}const lF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?lb({element:n.current,padding:o}).fn(r):{}:n?lb({element:n,padding:o}).fn(r):{}}}},DS=(e,t)=>({...tF(e),options:[e,t]}),RS=(e,t)=>({...rF(e),options:[e,t]}),OS=(e,t)=>({...oF(e),options:[e,t]}),$S=(e,t)=>({...nF(e),options:[e,t]}),MS=(e,t)=>({...sF(e),options:[e,t]}),IS=(e,t)=>({...iF(e),options:[e,t]}),LS=(e,t)=>({...lF(e),options:[e,t]});function cF(e){const[t,r]=v.useState(void 0);return Gr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const FS="Popper",[US,BS]=Mv(FS),[uF,VS]=US(FS),dF=e=>{const{__scopePopper:t,children:r}=e,[n,o]=v.useState(null);return v.createElement(uF,{scope:t,anchor:n,onAnchorChange:o},r)},fF="PopperAnchor",hF=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=VS(fF,r),c=v.useRef(null),u=ir(t,c);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:v.createElement(Jt.div,et({},o,{ref:u}))}),zS="PopperContent",[mF,hV]=US(zS),pF=v.forwardRef((e,t)=>{var r,n,o,a,c,u,f,h;const{__scopePopper:m,side:p="bottom",sideOffset:x=0,align:y="center",alignOffset:j=0,arrowPadding:w=0,collisionBoundary:_=[],collisionPadding:N=0,sticky:C="partial",hideWhenDetached:k=!1,avoidCollisions:T=!0,onPlaced:D,...P}=e,E=VS(zS,m),[R,$]=v.useState(null),H=ir(t,Ue=>$(Ue)),[te,Z]=v.useState(null),Y=cF(te),L=(r=Y==null?void 0:Y.width)!==null&&r!==void 0?r:0,B=(n=Y==null?void 0:Y.height)!==null&&n!==void 0?n:0,F=p+(y!=="center"?"-"+y:""),W=typeof N=="number"?N:{top:0,right:0,bottom:0,left:0,...N},M=Array.isArray(_)?_:[_],z=M.length>0,X={padding:W,boundary:M.filter(vF),altBoundary:z},{refs:O,floatingStyles:q,placement:ee,isPositioned:de,middlewareData:pe}=AS({strategy:"fixed",placement:F,whileElementsMounted:ES,elements:{reference:E.anchor},middleware:[DS({mainAxis:x+B,alignmentAxis:j}),T&&RS({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?OS():void 0,...X}),T&&$S({...X}),MS({...X,apply:({elements:Ue,rects:Ze,availableWidth:or,availableHeight:gt})=>{const{width:ds,height:Kr}=Ze.reference,Or=Ue.floating.style;Or.setProperty("--radix-popper-available-width",`${or}px`),Or.setProperty("--radix-popper-available-height",`${gt}px`),Or.setProperty("--radix-popper-anchor-width",`${ds}px`),Or.setProperty("--radix-popper-anchor-height",`${Kr}px`)}}),te&&LS({element:te,padding:w}),gF({arrowWidth:L,arrowHeight:B}),k&&IS({strategy:"referenceHidden"})]}),[he,re]=WS(ee),se=ss(D);Gr(()=>{de&&(se==null||se())},[de,se]);const ge=(o=pe.arrow)===null||o===void 0?void 0:o.x,xe=(a=pe.arrow)===null||a===void 0?void 0:a.y,ie=((c=pe.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[be,ze]=v.useState();return Gr(()=>{R&&ze(window.getComputedStyle(R).zIndex)},[R]),v.createElement("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:de?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(u=pe.transformOrigin)===null||u===void 0?void 0:u.x,(f=pe.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},v.createElement(mF,{scope:m,placedSide:he,onArrowChange:Z,arrowX:ge,arrowY:xe,shouldHideArrow:ie},v.createElement(Jt.div,et({"data-side":he,"data-align":re},P,{ref:H,style:{...P.style,animation:de?void 0:"none",opacity:(h=pe.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function vF(e){return e!==null}const gF=e=>({name:"transformOrigin",options:e,fn(t){var r,n,o,a,c;const{placement:u,rects:f,middlewareData:h}=t,p=((r=h.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,x=p?0:e.arrowWidth,y=p?0:e.arrowHeight,[j,w]=WS(u),_={start:"0%",center:"50%",end:"100%"}[w],N=((n=(o=h.arrow)===null||o===void 0?void 0:o.x)!==null&&n!==void 0?n:0)+x/2,C=((a=(c=h.arrow)===null||c===void 0?void 0:c.y)!==null&&a!==void 0?a:0)+y/2;let k="",T="";return j==="bottom"?(k=p?_:`${N}px`,T=`${-y}px`):j==="top"?(k=p?_:`${N}px`,T=`${f.floating.height+y}px`):j==="right"?(k=`${-y}px`,T=p?_:`${C}px`):j==="left"&&(k=`${f.floating.width+y}px`,T=p?_:`${C}px`),{data:{x:k,y:T}}}});function WS(e){const[t,r="center"]=e.split("-");return[t,r]}const xF=dF,yF=hF,wF=pF,bF=v.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...o}=e;return n?Fb.createPortal(v.createElement(Jt.div,et({},o,{ref:t})),n):null});function ub({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=jF({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:n,u=ss(r),f=v.useCallback(h=>{if(a){const p=typeof h=="function"?h(e):h;p!==e&&u(p)}else o(h)},[a,e,o,u]);return[c,f]}function jF({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,o=v.useRef(n),a=ss(t);return v.useEffect(()=>{o.current!==n&&(a(n),o.current=n)},[n,o,a]),r}function _F(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const SF=v.forwardRef((e,t)=>v.createElement(Jt.span,et({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var HS=f1(),Rm=function(){},Kd=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Rm,onWheelCapture:Rm,onTouchMoveCapture:Rm}),o=n[0],a=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=_v(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=x,T=d1([r,t]),D=nr(nr({},C),o);return v.createElement(v.Fragment,null,m&&v.createElement(k,{sideCar:HS,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:a,allowPinchZoom:!!w,lockRef:r}),c?v.cloneElement(v.Children.only(u),nr(nr({},D),{ref:T})):v.createElement(N,nr({},D,{className:f,ref:T}),u))});Kd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kd.classNames={fullWidth:Ol,zeroRight:Rl};var Rp=!1;if(typeof window<"u")try{var Gu=Object.defineProperty({},"passive",{get:function(){return Rp=!0,!0}});window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{Rp=!1}var Wo=Rp?{passive:!1}:!1,NF=function(e){return e.tagName==="TEXTAREA"},qS=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!NF(e)&&r[t]==="visible")},CF=function(e){return qS(e,"overflowY")},kF=function(e){return qS(e,"overflowX")},db=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=YS(e,r);if(n){var o=GS(e,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},PF=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},EF=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},YS=function(e,t){return e==="v"?CF(t):kF(t)},GS=function(e,t){return e==="v"?PF(t):EF(t)},TF=function(e,t){return e==="h"&&t==="rtl"?-1:1},AF=function(e,t,r,n,o){var a=TF(e,window.getComputedStyle(t).direction),c=a*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=GS(e,u),j=y[0],w=y[1],_=y[2],N=w-_-a*j;(j||N)&&YS(e,u)&&(p+=N,x+=j),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&p===0||!m&&x===0)&&(h=!0),h},Ku=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fb=function(e){return[e.deltaX,e.deltaY]},hb=function(e){return e&&"current"in e?e.current:e},DF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OF=0,Ho=[];function $F(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),o=v.useState(OF++)[0],a=v.useState(function(){return Sv()})[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=u1([e.lockRef.current],(e.shards||[]).map(hb),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2)return!c.current.allowPinchZoom;var N=Ku(w),C=r.current,k="deltaX"in w?w.deltaX:C[0]-N[0],T="deltaY"in w?w.deltaY:C[1]-N[1],D,P=w.target,E=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in w&&E==="h"&&P.type==="range")return!1;var R=db(E,P);if(!R)return!0;if(R?D=E:(D=E==="v"?"h":"v",R=db(E,P)),!R)return!1;if(!n.current&&"changedTouches"in w&&(k||T)&&(n.current=D),!D)return!0;var $=n.current||D;return AF($,_,w,$==="h"?k:T)},[]),f=v.useCallback(function(w){var _=w;if(!(!Ho.length||Ho[Ho.length-1]!==a)){var N="deltaY"in _?fb(_):Ku(_),C=t.current.filter(function(D){return D.name===_.type&&D.target===_.target&&DF(D.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(hb).filter(Boolean).filter(function(D){return D.contains(_.target)}),T=k.length>0?u(_,k[0]):!c.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(T){return T!==k})},1)},[]),m=v.useCallback(function(w){r.current=Ku(w),n.current=void 0},[]),p=v.useCallback(function(w){h(w.type,fb(w),w.target,u(w,e.lockRef.current))},[]),x=v.useCallback(function(w){h(w.type,Ku(w),w.target,u(w,e.lockRef.current))},[]);v.useEffect(function(){return Ho.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Wo),document.addEventListener("touchmove",f,Wo),document.addEventListener("touchstart",m,Wo),function(){Ho=Ho.filter(function(w){return w!==a}),document.removeEventListener("wheel",f,Wo),document.removeEventListener("touchmove",f,Wo),document.removeEventListener("touchstart",m,Wo)}},[]);var y=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(a,{styles:RF(o)}):null,y?v.createElement(v1,{gapMode:"margin"}):null)}const MF=m1(HS,$F);var KS=v.forwardRef(function(e,t){return v.createElement(Kd,nr({},e,{ref:t,sideCar:MF}))});KS.classNames=Kd.classNames;const IF=[" ","Enter","ArrowUp","ArrowDown"],LF=[" ","Enter"],Xd="Select",[Jd,Qd,FF]=ZL(Xd),[Na,mV]=Mv(Xd,[FF,BS]),Wv=BS(),[UF,Qi]=Na(Xd),[BF,VF]=Na(Xd),zF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:p,disabled:x,required:y}=e,j=Wv(t),[w,_]=v.useState(null),[N,C]=v.useState(null),[k,T]=v.useState(!1),D=t3(h),[P=!1,E]=ub({prop:n,defaultProp:o,onChange:a}),[R,$]=ub({prop:c,defaultProp:u,onChange:f}),H=v.useRef(null),te=w?!!w.closest("form"):!0,[Z,Y]=v.useState(new Set),L=Array.from(Z).map(B=>B.props.value).join(";");return v.createElement(xF,j,v.createElement(UF,{required:y,scope:t,trigger:w,onTriggerChange:_,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:yS(),value:R,onValueChange:$,open:P,onOpenChange:E,dir:D,triggerPointerDownPosRef:H,disabled:x},v.createElement(Jd.Provider,{scope:t},v.createElement(BF,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(B=>{Y(F=>new Set(F).add(B))},[]),onNativeOptionRemove:v.useCallback(B=>{Y(F=>{const W=new Set(F);return W.delete(B),W})},[])},r)),te?v.createElement(ZS,{key:L,"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:R,onChange:B=>$(B.target.value),disabled:x},R===void 0?v.createElement("option",{value:""}):null,Array.from(Z)):null))},WF="SelectTrigger",HF=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Wv(r),c=Qi(WF,r),u=c.disabled||n,f=ir(t,c.onTriggerChange),h=Qd(r),[m,p,x]=eN(j=>{const w=h().filter(C=>!C.disabled),_=w.find(C=>C.value===c.value),N=tN(w,j,_);N!==void 0&&c.onValueChange(N.value)}),y=()=>{u||(c.onOpenChange(!0),x())};return v.createElement(yF,et({asChild:!0},a),v.createElement(Jt.button,et({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":c.value===void 0?"":void 0},o,{ref:f,onClick:Bt(o.onClick,j=>{j.currentTarget.focus()}),onPointerDown:Bt(o.onPointerDown,j=>{const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&(y(),c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)},j.preventDefault())}),onKeyDown:Bt(o.onKeyDown,j=>{const w=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&p(j.key),!(w&&j.key===" ")&&IF.includes(j.key)&&(y(),j.preventDefault())})})))}),qF="SelectValue",YF=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:c,...u}=e,f=Qi(qF,r),{onValueNodeHasChildrenChange:h}=f,m=a!==void 0,p=ir(t,f.onValueNodeChange);return Gr(()=>{h(m)},[h,m]),v.createElement(Jt.span,et({},u,{ref:p,style:{pointerEvents:"none"}}),f.value===void 0&&c!==void 0?c:a)}),GF=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return v.createElement(Jt.span,et({"aria-hidden":!0},o,{ref:t}),n||"")}),KF=e=>v.createElement(bF,et({asChild:!0},e)),da="SelectContent",XF=v.forwardRef((e,t)=>{const r=Qi(da,e.__scopeSelect),[n,o]=v.useState();if(Gr(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?Vi.createPortal(v.createElement(XS,{scope:e.__scopeSelect},v.createElement(Jd.Slot,{scope:e.__scopeSelect},v.createElement("div",null,e.children))),a):null}return v.createElement(JF,et({},e,{ref:t}))}),Xn=10,[XS,Zi]=Na(da),JF=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_,...N}=e,C=Qi(da,r),[k,T]=v.useState(null),[D,P]=v.useState(null),E=ir(t,re=>T(re)),[R,$]=v.useState(null),[H,te]=v.useState(null),Z=Qd(r),[Y,L]=v.useState(!1),B=v.useRef(!1);v.useEffect(()=>{if(k)return Cv(k)},[k]),d3();const F=v.useCallback(re=>{const[se,...ge]=Z().map(be=>be.ref.current),[xe]=ge.slice(-1),ie=document.activeElement;for(const be of re)if(be===ie||(be==null||be.scrollIntoView({block:"nearest"}),be===se&&D&&(D.scrollTop=0),be===xe&&D&&(D.scrollTop=D.scrollHeight),be==null||be.focus(),document.activeElement!==ie))return},[Z,D]),W=v.useCallback(()=>F([R,k]),[F,R,k]);v.useEffect(()=>{Y&&W()},[Y,W]);const{onOpenChange:M,triggerPointerDownPosRef:z}=C;v.useEffect(()=>{if(k){let re={x:0,y:0};const se=xe=>{var ie,be,ze,Ue;re={x:Math.abs(Math.round(xe.pageX)-((ie=(be=z.current)===null||be===void 0?void 0:be.x)!==null&&ie!==void 0?ie:0)),y:Math.abs(Math.round(xe.pageY)-((ze=(Ue=z.current)===null||Ue===void 0?void 0:Ue.y)!==null&&ze!==void 0?ze:0))}},ge=xe=>{re.x<=10&&re.y<=10?xe.preventDefault():k.contains(xe.target)||M(!1),document.removeEventListener("pointermove",se),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ge,{capture:!0})}}},[k,M,z]),v.useEffect(()=>{const re=()=>M(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[M]);const[X,O]=eN(re=>{const se=Z().filter(ie=>!ie.disabled),ge=se.find(ie=>ie.ref.current===document.activeElement),xe=tN(se,re,ge);xe&&setTimeout(()=>xe.ref.current.focus())}),q=v.useCallback((re,se,ge)=>{const xe=!B.current&&!ge;(C.value!==void 0&&C.value===se||xe)&&($(re),xe&&(B.current=!0))},[C.value]),ee=v.useCallback(()=>k==null?void 0:k.focus(),[k]),de=v.useCallback((re,se,ge)=>{const xe=!B.current&&!ge;(C.value!==void 0&&C.value===se||xe)&&te(re)},[C.value]),pe=n==="popper"?mb:QF,he=pe===mb?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return v.createElement(XS,{scope:r,content:k,viewport:D,onViewportChange:P,itemRefCallback:q,selectedItem:R,onItemLeave:ee,itemTextRefCallback:de,focusSelectedItem:W,selectedItemText:H,position:n,isPositioned:Y,searchRef:X},v.createElement(KS,{as:zl,allowPinchZoom:!0},v.createElement(f3,{asChild:!0,trapped:C.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Bt(o,re=>{var se;(se=C.trigger)===null||se===void 0||se.focus({preventScroll:!0}),re.preventDefault()})},v.createElement(l3,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>C.onOpenChange(!1)},v.createElement(pe,et({role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:re=>re.preventDefault()},N,he,{onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Bt(N.onKeyDown,re=>{const se=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!se&&re.key.length===1&&O(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let xe=Z().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(re.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ie=re.target,be=xe.indexOf(ie);xe=xe.slice(be+1)}setTimeout(()=>F(xe)),re.preventDefault()}})}))))))}),QF=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Qi(da,r),c=Zi(da,r),[u,f]=v.useState(null),[h,m]=v.useState(null),p=ir(t,E=>m(E)),x=Qd(r),y=v.useRef(!1),j=v.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:N,focusSelectedItem:C}=c,k=v.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&w&&_&&N){const E=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),H=N.getBoundingClientRect();if(a.dir!=="rtl"){const ie=H.left-R.left,be=$.left-ie,ze=E.left-be,Ue=E.width+ze,Ze=Math.max(Ue,R.width),or=window.innerWidth-Xn,gt=Gw(be,[Xn,or-Ze]);u.style.minWidth=Ue+"px",u.style.left=gt+"px"}else{const ie=R.right-H.right,be=window.innerWidth-$.right-ie,ze=window.innerWidth-E.right-be,Ue=E.width+ze,Ze=Math.max(Ue,R.width),or=window.innerWidth-Xn,gt=Gw(be,[Xn,or-Ze]);u.style.minWidth=Ue+"px",u.style.right=gt+"px"}const te=x(),Z=window.innerHeight-Xn*2,Y=w.scrollHeight,L=window.getComputedStyle(h),B=parseInt(L.borderTopWidth,10),F=parseInt(L.paddingTop,10),W=parseInt(L.borderBottomWidth,10),M=parseInt(L.paddingBottom,10),z=B+F+Y+M+W,X=Math.min(_.offsetHeight*5,z),O=window.getComputedStyle(w),q=parseInt(O.paddingTop,10),ee=parseInt(O.paddingBottom,10),de=E.top+E.height/2-Xn,pe=Z-de,he=_.offsetHeight/2,re=_.offsetTop+he,se=B+F+re,ge=z-se;if(se<=de){const ie=_===te[te.length-1].ref.current;u.style.bottom="0px";const be=h.clientHeight-w.offsetTop-w.offsetHeight,ze=Math.max(pe,he+(ie?ee:0)+be+W),Ue=se+ze;u.style.height=Ue+"px"}else{const ie=_===te[0].ref.current;u.style.top="0px";const ze=Math.max(de,B+w.offsetTop+(ie?q:0)+he)+ge;u.style.height=ze+"px",w.scrollTop=se-de+w.offsetTop}u.style.margin=`${Xn}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=Z+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[x,a.trigger,a.valueNode,u,h,w,_,N,a.dir,n]);Gr(()=>k(),[k]);const[T,D]=v.useState();Gr(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const P=v.useCallback(E=>{E&&j.current===!0&&(k(),C==null||C(),j.current=!1)},[k,C]);return v.createElement(ZF,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:P},v.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T}},v.createElement(Jt.div,et({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),mb=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Xn,...a}=e,c=Wv(r);return v.createElement(wF,et({},c,a,{ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[ZF,Hv]=Na(da,{}),pb="SelectViewport",e5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Zi(pb,r),a=Hv(pb,r),c=ir(t,o.onViewportChange),u=v.useRef(0);return v.createElement(v.Fragment,null,v.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),v.createElement(Jd.Slot,{scope:r},v.createElement(Jt.div,et({"data-radix-select-viewport":"",role:"presentation"},n,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:Bt(n.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&m){const x=Math.abs(u.current-h.scrollTop);if(x>0){const y=window.innerHeight-Xn*2,j=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),_=Math.max(j,w);if(_<y){const N=_+x,C=Math.min(y,N),k=N-C;m.style.height=C+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})}))))}),t5="SelectGroup",[pV,r5]=Na(t5),n5="SelectLabel",s5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=r5(n5,r);return v.createElement(Jt.div,et({id:o.id},n,{ref:t}))}),Op="SelectItem",[i5,JS]=Na(Op),o5=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...c}=e,u=Qi(Op,r),f=Zi(Op,r),h=u.value===n,[m,p]=v.useState(a??""),[x,y]=v.useState(!1),j=ir(t,N=>{var C;return(C=f.itemRefCallback)===null||C===void 0?void 0:C.call(f,N,n,o)}),w=yS(),_=()=>{o||(u.onValueChange(n),u.onOpenChange(!1))};return v.createElement(i5,{scope:r,value:n,disabled:o,textId:w,isSelected:h,onItemTextChange:v.useCallback(N=>{p(C=>{var k;return C||((k=N==null?void 0:N.textContent)!==null&&k!==void 0?k:"").trim()})},[])},v.createElement(Jd.ItemSlot,{scope:r,value:n,disabled:o,textValue:m},v.createElement(Jt.div,et({role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},c,{ref:j,onFocus:Bt(c.onFocus,()=>y(!0)),onBlur:Bt(c.onBlur,()=>y(!1)),onPointerUp:Bt(c.onPointerUp,_),onPointerMove:Bt(c.onPointerMove,N=>{if(o){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}else N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Bt(c.onPointerLeave,N=>{if(N.currentTarget===document.activeElement){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}}),onKeyDown:Bt(c.onKeyDown,N=>{var C;((C=f.searchRef)===null||C===void 0?void 0:C.current)!==""&&N.key===" "||(LF.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})}))))}),Xu="SelectItemText",a5=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,c=Qi(Xu,r),u=Zi(Xu,r),f=JS(Xu,r),h=VF(Xu,r),[m,p]=v.useState(null),x=ir(t,N=>p(N),f.onItemTextChange,N=>{var C;return(C=u.itemTextRefCallback)===null||C===void 0?void 0:C.call(u,N,f.value,f.disabled)}),y=m==null?void 0:m.textContent,j=v.useMemo(()=>v.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},y),[f.disabled,f.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Gr(()=>(w(j),()=>_(j)),[w,_,j]),v.createElement(v.Fragment,null,v.createElement(Jt.span,et({id:f.textId},a,{ref:x})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vi.createPortal(a.children,c.valueNode):null)}),l5="SelectItemIndicator",c5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return JS(l5,r).isSelected?v.createElement(Jt.span,et({"aria-hidden":!0},n,{ref:t})):null}),vb="SelectScrollUpButton",u5=v.forwardRef((e,t)=>{const r=Zi(vb,e.__scopeSelect),n=Hv(vb,e.__scopeSelect),[o,a]=v.useState(!1),c=ir(t,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollTop>0;a(h)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?v.createElement(QS,et({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}})):null}),gb="SelectScrollDownButton",d5=v.forwardRef((e,t)=>{const r=Zi(gb,e.__scopeSelect),n=Hv(gb,e.__scopeSelect),[o,a]=v.useState(!1),c=ir(t,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;a(m)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?v.createElement(QS,et({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}})):null}),QS=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=Zi("SelectScrollButton",r),c=v.useRef(null),u=Qd(r),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),Gr(()=>{var h;const m=u().find(p=>p.ref.current===document.activeElement);m==null||(h=m.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[u]),v.createElement(Jt.div,et({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:Bt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Bt(o.onPointerMove,()=>{var h;(h=a.onItemLeave)===null||h===void 0||h.call(a),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Bt(o.onPointerLeave,()=>{f()})}))}),f5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return v.createElement(Jt.div,et({"aria-hidden":!0},n,{ref:t}))}),ZS=v.forwardRef((e,t)=>{const{value:r,...n}=e,o=v.useRef(null),a=ir(t,o),c=_F(r);return v.useEffect(()=>{const u=o.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==r&&m){const p=new Event("change",{bubbles:!0});m.call(u,r),u.dispatchEvent(p)}},[c,r]),v.createElement(SF,{asChild:!0},v.createElement("select",et({},n,{ref:a,defaultValue:r})))});ZS.displayName="BubbleSelect";function eN(e){const t=ss(e),r=v.useRef(""),n=v.useRef(0),o=v.useCallback(c=>{const u=r.current+c;t(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function tN(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=h5(e,Math.max(a,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function h5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const m5=zF,rN=HF,p5=YF,v5=GF,g5=KF,nN=XF,x5=e5,sN=s5,iN=o5,y5=a5,w5=c5,oN=u5,aN=d5,lN=f5,Vt=m5,zt=p5,At=me.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(rN,{ref:n,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(v5,{asChild:!0,children:s.jsx(W_,{className:"h-4 w-4 opacity-50"})})]}));At.displayName=rN.displayName;const cN=me.forwardRef(({className:e,...t},r)=>s.jsx(oN,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(r$,{className:"h-4 w-4"})}));cN.displayName=oN.displayName;const uN=me.forwardRef(({className:e,...t},r)=>s.jsx(aN,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(W_,{className:"h-4 w-4"})}));uN.displayName=aN.displayName;const Dt=me.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(g5,{children:s.jsxs(nN,{ref:o,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(cN,{}),s.jsx(x5,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(uN,{})]})}));Dt.displayName=nN.displayName;const b5=me.forwardRef(({className:e,...t},r)=>s.jsx(sN,{ref:r,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));b5.displayName=sN.displayName;const De=me.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(iN,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(w5,{children:s.jsx(z_,{className:"h-4 w-4"})})}),s.jsx(y5,{children:t})]}));De.displayName=iN.displayName;const j5=me.forwardRef(({className:e,...t},r)=>s.jsx(lN,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));j5.displayName=lN.displayName;const Om=25,_5=()=>{var q;const{user:e}=Xt(),t=ls(),r=new URLSearchParams(t.search),n=r.get("featured"),o=r.get("search"),a=r.get("cat_filter"),c=r.get("sort"),u=Ht(),[f,h]=v.useState(o||""),[m,p]=v.useState(o||""),[x,y]=v.useState(a||"all"),[j,w]=v.useState(c||"name-asc"),[_,N]=v.useState([]),[C,k]=v.useState([]),[T,D]=v.useState(!0),[P,E]=v.useState(!1),[R,$]=v.useState(!0),[H,te]=v.useState(0),[Z,Y]=v.useState(!1);v.useEffect(()=>{const ee=setTimeout(()=>{if(f.length>=2||f.length===0){if(!e){const de=parseInt(localStorage.getItem("search_count")||"0",10);if(de>=10){Y(!0);return}localStorage.setItem("search_count",(de+1).toString())}p(f)}},300);return()=>clearTimeout(ee)},[e,f]),v.useEffect(()=>{L()},[]),v.useEffect(()=>{te(0),N([]),$(!0),B(!0),u({pathname:t.pathname,search:`search=${m}&cat_filter=${x}&sort=${j}`},{replace:!0})},[m,x,j,n]);const L=async()=>{try{let ee=wr("categories_all");if(!ee){const{data:de,error:pe}=await ce.from("categories").select("*").order("name");if(pe)throw pe;ee=de||[],sr("categories_all",ee)}k(ee)}catch(ee){console.error("Error fetching categories:",ee)}},B=async(ee=!1)=>{const de=ee?0:H,pe=`products_${n||"all"}_${x}_${j}_${de}_${m||"all"}`;ee?D(!0):E(!0);try{let he=wr(pe),re=[];if(he)re=he;else{let se=ce.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `);if(n==="true"&&(se=se.eq("featured",!0)),m&&m.length>=2){const ze=m.replace(/\s+/g,"+");se=se.textSearch("fts",`${ze}:*`)}if(x!=="all"){const ze=parseInt(x);se=se.or(`category_id.eq.${ze},categories_ids.cs.[${ze}]`)}switch(j){case"name-asc":se=se.order("name",{ascending:!0});break;case"name-desc":se=se.order("name",{ascending:!1});break;case"price-asc":se=se.order("price",{ascending:!0});break;case"price-desc":se=se.order("price",{ascending:!1});break;default:se=se.order("name",{ascending:!0});break}const ge=de*Om,xe=ge+Om-1;se=se.range(ge,xe);const{data:ie,error:be}=await se;if(be)throw be;re=ie||[],sr(pe,re)}ee?(N(re),te(1)):(N(se=>[...se,...re]),te(se=>se+1)),$(re.length===Om)}catch(he){console.error("Error fetching products:",he)}finally{D(!1),E(!1)}},F=()=>{!P&&R&&B(!1)},W=ee=>{h(ee)},M=ee=>{y(ee)},z=ee=>{w(ee)},X=()=>{h(""),p(""),y("all"),w("name-asc")},O=f||x!=="all"||j!=="name-asc";return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative min-h-[280px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-5",children:s.jsxs(je.div,{className:"space-y-3 max-w-4xl mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:n==="true"?"Featured Products":"Shop"}),s.jsx("p",{className:"text-white/90 text-sm",children:"Browse from a selection of groceries, household essentials and more."})]}),s.jsx(je.div,{className:"relative max-w-xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:s.jsxs("div",{className:"relative",children:[s.jsx(xv,{style:{zIndex:"1"},className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx(ye,{type:"search",placeholder:"Search for products...",className:"h-11 pl-10 pr-4 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500",value:f,onChange:ee=>W(ee.target.value)})]})}),s.jsxs(je.div,{className:"flex flex-col sm:flex-row gap-2 items-center justify-center max-w-3xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:[s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center",children:[s.jsxs("div",{className:"min-w-[120px] w-[200px] flex items-center",children:[s.jsx(ai,{className:"w-5 h-5 text-white mr-2"}),s.jsxs(Vt,{value:x,onValueChange:M,children:[s.jsx(At,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:s.jsx(zt,{placeholder:"All Categories"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"all",children:"All Categories"}),C.map(ee=>s.jsx(De,{value:ee.id.toString(),children:ee.name},ee.id))]})]})]}),s.jsxs("div",{className:"min-w-[140px] w-[160px] flex items-center",children:[s.jsx(F4,{className:"w-5 h-5 text-white mr-2"}),s.jsxs(Vt,{value:j,onValueChange:z,children:[s.jsx(At,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:s.jsx(zt,{placeholder:"Sort by"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(De,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(De,{value:"price-asc",children:"Price (Low to High)"}),s.jsx(De,{value:"price-desc",children:"Price (High to Low)"})]})]})]})]}),O&&s.jsxs(Q,{variant:"outline",size:"lg",className:"bg-[#ff9800]/95 backdrop-blur-sm border-0 shadow-lg hover:bg-white text-gray-800 h-8 text-xs",onClick:X,children:[s.jsx(us,{className:"w-3 h-3 mr-1"}),"Reset"]})]}),O&&s.jsxs(je.div,{className:"flex flex-wrap gap-1 justify-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:[f&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:['Search: "',f,'"']}),x!=="all"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Category: ",(q=C.find(ee=>ee.id.toString()===x))==null?void 0:q.name]}),j!=="name-asc"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Sort: ",j.replace("-"," ").replace(/\b\w/g,ee=>ee.toUpperCase())]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:T?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):_.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter criteria."}),O&&s.jsx(Q,{onClick:X,className:"mt-4",variant:"outline",children:"Clear all filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," product",_.length!==1?"s":"",O&&" matching your criteria"]})}),s.jsx("div",{className:"product-grid",children:_.map(ee=>s.jsx(pd,{product:ee},ee.id))}),R&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx(Q,{onClick:F,disabled:P,variant:"outline",size:"lg",children:P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More Products"})})]})}),Z&&s.jsx(Av,{open:Z,onOpenChange:Y})]})},S5=({category:e})=>s.jsx(Te,{to:`/category/${e.id}`,children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.03},className:"category-card overflow-hidden rounded-lg border bg-card",children:[s.jsx("div",{className:"aspect-square mx-auto bg-muted",children:s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.icon_url||"https://images.unsplash.com/photo-1491696888587-6a2c0225c9fb"})}),s.jsxs("div",{className:"p-3 text-center",children:[s.jsx("h3",{className:"text-sm font-medium",children:e.name}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-center mt-2 text-primary",children:[s.jsx("span",{className:"text-xs font-medium",children:"Shop now"}),s.jsx(xp,{className:"ml-1 h-3 w-3"})]})]})]})}),N5=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{let a=wr("categories_all");if(a)t(a);else{const{data:c,error:u}=await ce.from("categories").select("*").order("name");if(u)throw u;t(c||[]),sr("categories_all",c||[])}}catch(a){console.error("Error fetching categories:",a)}finally{n(!1)}})()},[]),r?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[200px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Fresh groceries",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-2xl",children:s.jsxs(je.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Categories"}),s.jsx("p",{className:"text-white/90",children:"Browse our selection of grocery categories to find exactly what you need."})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map((o,a)=>s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:a*.05},children:s.jsx(S5,{category:o})},o.id))})})]})},C5=()=>{const{id:e}=Nd(),[t,r]=v.useState(null),[n,o]=v.useState([]),[a,c]=v.useState(!0),[u,f]=v.useState(""),h=Ht();v.useEffect(()=>{(async()=>{if(e){c(!0);try{let x=wr(`category_${e}`),y=wr(`category_products_${e}`);if(!x){const{data:j,error:w}=await ce.from("categories").select("*").eq("id",e).single();if(w)throw w;x=j,sr(`category_${e}`,j)}if(r(x),!y){const{data:j,error:w}=await ce.from("products").select("*, categories ( id, name )").or(`category_id.eq.${e},categories_ids.cs.[${e}]`).order("name");if(w)throw w;y=j||[],sr(`category_products_${e}`,y)}o(y)}catch(x){console.error("Error fetching category or products:",x)}finally{c(!1)}}})()},[e]);const m=n.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())||p.description&&p.description.toLowerCase().includes(u.toLowerCase()));return a?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Q,{variant:"ghost",size:"sm",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",onClick:()=>h(-1),children:[s.jsx(la,{className:"w-4 h-4 mr-1"}),"Go Back"]})}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:s.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg bg-muted mb-4",style:t!=null&&t.icon_url?{backgroundImage:`url(${t.icon_url})`,backgroundRepeat:"repeat",backgroundSize:"60px",backgroundPosition:"center"}:{},children:[s.jsx("div",{className:"absolute inset-0 bg-[#3CB371] opacity-90"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:t.name}),s.jsx("p",{className:"mt-2 text-white/90",children:t.description})]})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(xv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(ye,{type:"text",placeholder:`Search products in ${t.name}...`,value:u,onChange:p=>f(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:u?`No products found matching "${u}"`:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:u?"Try a different search term.":"There are currently no products in this category."}),!u&&s.jsx(Te,{to:"/shop",children:s.jsx(Q,{className:"mt-4",children:"Browse All Products"})})]}):s.jsxs("div",{className:"product-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[" ",m.map(p=>s.jsx(pd,{product:p},p.id))]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Category Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The category you're looking for doesn't exist."}),s.jsx(Te,{to:"/categories",children:s.jsx(Q,{className:"mt-4",children:"Browse All Categories"})})]})})},k5=()=>{const{id:e}=Nd(),[t,r]=v.useState(null),[n,o]=v.useState(!0),{addToCart:a,updateQuantity:c,cart:u}=cs(),f=Ht();v.useEffect(()=>{(async()=>{if(e)try{const{data:j,error:w}=await ce.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `).eq("id",e).single();if(w)throw w;r(j)}catch(j){console.error("Error fetching product:",j)}finally{o(!1)}})()},[e]);const h=u.find(y=>(y==null?void 0:y.id)===(t==null?void 0:t.id)),m=h?h.quantity:0,p=y=>{t&&c(t.id,y)},x=()=>{t&&a(t,1)};return n?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Q,{variant:"ghost",size:"sm",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",onClick:()=>f(-1),children:[s.jsx(la,{className:"w-4 h-4 mr-1"}),"Go Back"]})}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsx(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"overflow-hidden rounded-lg bg-muted aspect-square",children:s.jsx("img",{alt:t.name,className:"w-full h-full object-cover",src:t.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"})}),s.jsxs(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[t.categories&&s.jsx(Te,{to:`/category/${t.categories.id}`,className:"inline-block px-3 py-1 text-xs font-medium rounded-full bg-primary/10 text-primary",children:t.categories.name}),s.jsx("h1",{className:"text-3xl font-bold",children:t.name}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:Se(t.price)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["per ",t.unit]})]}),s.jsx("p",{className:"text-muted-foreground",children:t.description}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("div",{className:"flex items-center space-x-4",children:m>0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Q,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>p(m-1),children:s.jsx(ba,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium w-6 text-center",children:m}),s.jsx(Q,{size:"icon",className:"h-8 w-8",onClick:()=>p(m+1),children:s.jsx(Yi,{className:"h-4 w-4"})})]}):s.jsxs(Q,{className:"flex-1",onClick:x,disabled:!t.in_stock,children:[s.jsx(ti,{className:"w-4 h-4 mr-2"}),t.in_stock?"Add to Cart":"Out of Stock"]})}),m>0&&s.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Total:"})," ",Se(t.price*m)]})})]})]})]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Product Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The product you're looking for doesn't exist."}),s.jsx(Te,{to:"/shop",children:s.jsx(Q,{className:"mt-4",children:"Browse All Products"})})]})})};function dN(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function qv(e){const[t,r]=v.useState(void 0);return ns(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Zd="Checkbox",[P5,vV]=Rn(Zd),[E5,T5]=P5(Zd),fN=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:a,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...p}=e,[x,y]=v.useState(null),j=_t(t,T=>y(T)),w=v.useRef(!1),_=x?m||!!x.closest("form"):!0,[N,C]=Xi({prop:o,defaultProp:a??!1,onChange:h,caller:Zd}),k=v.useRef(N);return v.useEffect(()=>{const T=x==null?void 0:x.form;if(T){const D=()=>C(k.current);return T.addEventListener("reset",D),()=>T.removeEventListener("reset",D)}},[x,C]),s.jsxs(E5,{scope:r,state:N,disabled:u,children:[s.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":Js(N)?"mixed":N,"aria-required":c,"data-state":vN(N),"data-disabled":u?"":void 0,disabled:u,value:f,...p,ref:j,onKeyDown:qe(e.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:qe(e.onClick,T=>{C(D=>Js(D)?!0:!D),_&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),_&&s.jsx(pN,{control:x,bubbles:!w.current,name:n,value:f,checked:N,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Js(a)?!1:a})]})});fN.displayName=Zd;var hN="CheckboxIndicator",mN=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,a=T5(hN,r);return s.jsx(On,{present:n||Js(a.state)||a.state===!0,children:s.jsx(Ke.span,{"data-state":vN(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});mN.displayName=hN;var A5="CheckboxBubbleInput",pN=v.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:o,...a},c)=>{const u=v.useRef(null),f=_t(u,c),h=dN(r),m=qv(t);v.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==r&&w){const _=new Event("click",{bubbles:n});x.indeterminate=Js(r),w.call(x,Js(r)?!1:r),x.dispatchEvent(_)}},[h,r,n]);const p=v.useRef(Js(r)?!1:r);return s.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,...a,tabIndex:-1,ref:f,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pN.displayName=A5;function Js(e){return e==="indeterminate"}function vN(e){return Js(e)?"indeterminate":e?"checked":"unchecked"}var gN=fN,D5=mN;const as=me.forwardRef(({className:e,...t},r)=>s.jsx(gN,{ref:r,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(D5,{className:Pe("flex items-center justify-center text-current"),children:s.jsx(z_,{className:"h-4 w-4"})})}));as.displayName=gN.displayName;const dr=me.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));dr.displayName="Textarea";const xN=({onSelect:e})=>{const{user:t}=Xt(),r=(t==null?void 0:t.addresses)||[];return s.jsx("div",{className:"space-y-2",children:r.map(n=>s.jsxs(Q,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>e(n.address),children:[s.jsx(Vl,{className:"w-4 h-4 mr-2"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:n.label}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:n.address})]})]},n.id))})},ef=({value:e,onChange:t,onAddressSelect:r,placeholder:n="Enter your address",className:o,disabled:a,...c})=>{const[u,f]=v.useState([]),[h,m]=v.useState(!1),[p,x]=v.useState(!1),y=v.useRef(null),j=v.useRef(null),w=v.useRef(!1),_=v.useRef(),N=async P=>{x(!0);try{if(P.length>=3){const E=`address_suggestions_${P.toLowerCase()}`,R=wr(E);if(R){f(R),m(R.length>0),x(!1);return}let $=P.replace(/\s+/g,"+");const H=await ce.from("adelaide_address_data").select("ADDRESS_LA, LOCALITY_N, POSTCODE").textSearch("fts",`${$}:*`).limit(18446744);if(H.error)throw H.error;const te=C(H.data);f(te),m(te.length>0),sr(E,te,525600);return}f([]),m(!1)}catch(E){console.error("Error searching addresses:",E),f([]),m(!1)}finally{x(!1)}};v.useEffect(()=>{if(w.current){w.current=!1;return}if(!e||e.length<3){f([]),m(!1);return}return clearTimeout(_.current),_.current=setTimeout(()=>{N(e)},400),()=>clearTimeout(_.current)},[e]);const C=P=>{const E={ADDRESS_LA:"address",LOCALITY_N:"suburb",POSTCODE:"postcode"};return P.map(R=>{const $={};for(const H in R)$[E[H]||H]=R[H];return $})},k=P=>{t(P.target.value)},T=P=>{w.current=!0,t(P.address),m(!1),r&&r({address:P.address,suburb:P.suburb.toUpperCase(),postcode:P.postcode})},D=P=>{P.key==="Escape"&&m(!1)};return v.useEffect(()=>{const P=E=>{y.current&&!y.current.contains(E.target)&&j.current&&!j.current.contains(E.target)&&m(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{ref:y,value:e,onChange:k,onKeyDown:D,placeholder:n,className:o,disabled:a,...c}),h&&u.length>0&&s.jsx("div",{ref:j,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:u.map((P,E)=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>T(P),children:[s.jsx("div",{className:"text-sm font-medium",children:P.address}),s.jsxs("div",{className:"text-xs text-gray-500",children:[P.suburb,", ",P.postcode]})]},E))}),p&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]})};async function tf({cacheKey:e="postcodes",cacheMinutes:t=1440}={}){const r=wr(e);if(r)return r;const{data:n,error:o}=await ce.from("postcodes").select("*").order("suburb");if(o)throw o;return sr(e,n,t),n}const R5=({onDetailsChange:e,errors:t})=>{var D;const{user:r}=Xt(),[n,o]=v.useState({name:"",email:"",phone:"",address:"",postcode:"",deliveryNotes:""}),[a,c]=v.useState(!1),[u,f]=v.useState([]),[h,m]=v.useState([]),[p,x]=v.useState(""),[y,j]=v.useState(!1),w=[`Don't ring doorbell, leave at door,
`,`Call on arrival,
`,`Leave with reception,
`,`Knock softly, baby sleeping,
`,`Text me before delivery,
`,`Hand to me only,
`];v.useEffect(()=>{var P,E;r&&o({name:r.name||"",email:r.email||"",phone:r.phone||"",address:((P=r.addresses[0])==null?void 0:P.address)||"",postcode:((E=r.addresses[0])==null?void 0:E.postcode)||"",deliveryNotes:""})},[r]),v.useEffect(()=>{(async()=>{try{const E=await tf();f(E),m(E)}catch(E){console.error("Error fetching postcodes:",E)}})()},[]),v.useEffect(()=>{if(p.length===0)m(u);else{const P=u.filter(E=>E.suburb.toLowerCase().includes(p.toLowerCase())||E.postcode.includes(p));m(P)}},[p,u]),v.useEffect(()=>{e({...n})},[n,e]);const _=P=>{const{name:E,value:R}=P.target;o($=>({...$,[E]:R}))},N=P=>{const E=r.addresses.find(R=>R.address===P);if(E){o($=>({...$,address:E.address,postcode:E.postcode.toString()}));const R=u.find($=>E.address.toUpperCase().includes($.suburb.toUpperCase()));R&&x(`${R.suburb}, ${R.postcode}`)}c(!1)},C=P=>{o(E=>({...E,address:P.address,postcode:P.postcode})),x(`${P.suburb.toUpperCase()}, ${P.postcode}`)},k=P=>{o(E=>({...E,postcode:P.postcode})),x(`${P.suburb}, ${P.postcode}`),j(!1)},T=async()=>{var P;if(r.addresses&&((P=r.addresses)==null?void 0:P.length)>0&&u&&u.length){const E=u.find(R=>r.addresses[0].address.toUpperCase().includes(R.suburb.toUpperCase()));x(E?`${E.suburb}, ${E.postcode}`:"")}};return v.useEffect(()=>{r&&u&&T()},[r,u]),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx(Ld,{className:"mr-2 h-5 w-5 text-primary"}),"Delivery Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",name:"name",value:n.name,onChange:_,className:t!=null&&t.name?"border-destructive":""}),(t==null?void 0:t.name)&&s.jsx("p",{className:"text-xs text-destructive",children:t.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"email",children:"Email (Optional)"}),s.jsx(ye,{id:"email",name:"email",type:"email",value:n.email,onChange:_,className:t!=null&&t.email?"border-destructive":""}),(t==null?void 0:t.email)&&s.jsx("p",{className:"text-xs text-destructive",children:t.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",name:"phone",value:n.phone,onChange:_,className:t!=null&&t.phone?"border-destructive":""}),(t==null?void 0:t.phone)&&s.jsx("p",{className:"text-xs text-destructive",children:t.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(oe,{htmlFor:"address",children:"Delivery Address"}),r&&((D=r.addresses)==null?void 0:D.length)>0&&s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>c(!a),className:"flex items-center text-primary",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"}),a?"Hide saved addresses":"Use saved address"]})]}),a&&s.jsx(xN,{onSelect:N}),s.jsx(ef,{value:n.address,onChange:P=>o(E=>({...E,address:P})),onAddressSelect:C,placeholder:"Start typing your address...",className:t!=null&&t.address?"border-destructive":""}),(t==null?void 0:t.address)&&s.jsx("p",{className:"text-xs text-destructive",children:t.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"postcode",placeholder:"Search suburb or postcode...",value:p,onChange:P=>{x(P.target.value),j(!0)},onFocus:()=>j(!0),className:t!=null&&t.postcode?"border-destructive":""}),y&&h.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.slice(0,10).map(P=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>k(P),children:[s.jsx("div",{className:"text-sm font-medium",children:P.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:P.postcode})]},`${P.suburb}-${P.postcode}`))})]}),(t==null?void 0:t.postcode)&&s.jsx("p",{className:"text-xs text-destructive",children:t.postcode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"deliveryNotes",children:"Delivery Notes (Optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.map(P=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>o(E=>({...E,deliveryNotes:n.deliveryNotes+P})),children:P},P))}),s.jsx(dr,{id:"deliveryNotes",name:"deliveryNotes",value:n.deliveryNotes,onChange:_,placeholder:"E.g., Leave at the door, call upon arrival, etc.",rows:3})]})]})]})};var O5="Separator",xb="horizontal",$5=["horizontal","vertical"],yN=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=xb,...o}=e,a=M5(n)?n:xb,u=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Ke.div,{"data-orientation":a,...u,...o,ref:t})});yN.displayName=O5;function M5(e){return $5.includes(e)}var wN=yN;const ql=me.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(wN,{ref:o,decorative:r,orientation:t,className:Pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ql.displayName=wN.displayName;const I5=({deliveryFee:e=0,appliedPromo:t=null,discountAmount:r=0,serviceFeePercent:n=0,serviceFee:o=0})=>{const{cart:a,getCartTotal:c}=cs(),u=c(),f=u-r+e+o;return s.jsxs("div",{className:"sticky top-20 p-6 border rounded-lg bg-muted/20",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded pr-2 mb-4 custom-scrollbar",children:a.length>0?a.map(h=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 mr-2",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:h.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Se(h.price)," x ",h.quantity]})]}),s.jsx("p",{className:"font-medium text-sm whitespace-nowrap",children:Se(h.price*h.quantity)})]},h.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Your cart is empty."})}),s.jsx(ql,{className:"my-4"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cart Total"}),s.jsx("span",{children:Se(u)})]}),t&&r>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",t.code,")"]}),s.jsxs("span",{children:["-",Se(r)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:Se(e)})]}),o>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",n," %)"]}),s.jsx("span",{children:Se(o)})]}),s.jsx(ql,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-base pt-1",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Se(f)})]})]})]})};function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}function Wt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function We(e){$e(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||fa(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Kt(e,t){$e(2,arguments);var r=We(e),n=Wt(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function vn(e,t){$e(2,arguments);var r=We(e),n=Wt(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var c=a.getDate();return o>=c?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function L5(e,t){$e(2,arguments);var r=We(e).getTime(),n=Wt(t);return new Date(r+n)}var F5={};function ui(){return F5}function Dn(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=ui(),p=Wt((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getDay(),j=(y<p?7:0)+y-p;return x.setDate(x.getDate()-j),x.setHours(0,0,0,0),x}function Bi(e){return $e(1,arguments),Dn(e,{weekStartsOn:1})}function U5(e){$e(1,arguments);var t=We(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=Bi(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var c=Bi(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function B5(e){$e(1,arguments);var t=U5(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=Bi(r);return n}function Yl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ha(e){$e(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var V5=864e5;function Qn(e,t){$e(2,arguments);var r=ha(e),n=ha(t),o=r.getTime()-Yl(r),a=n.getTime()-Yl(n);return Math.round((o-a)/V5)}function $p(e,t){$e(2,arguments);var r=Wt(t),n=r*7;return Kt(e,n)}function z5(e,t){$e(2,arguments);var r=Wt(t);return vn(e,r*12)}function W5(e){$e(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(fa(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=We(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function H5(e){$e(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(fa(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=We(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function br(e,t){$e(2,arguments);var r=ha(e),n=ha(t);return r.getTime()===n.getTime()}function Yv(e){return $e(1,arguments),e instanceof Date||fa(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function q5(e){if($e(1,arguments),!Yv(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function Gl(e,t){$e(2,arguments);var r=We(e),n=We(t),o=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return o*12+a}var Y5=6048e5;function G5(e,t,r){$e(2,arguments);var n=Dn(e,r),o=Dn(t,r),a=n.getTime()-Yl(n),c=o.getTime()-Yl(o);return Math.round((a-c)/Y5)}function Gv(e){$e(1,arguments);var t=We(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function jr(e){$e(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function K5(e){$e(1,arguments);var t=We(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Kv(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=ui(),p=Wt((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getDay(),j=(y<p?-7:0)+6-(y-p);return x.setDate(x.getDate()+j),x.setHours(23,59,59,999),x}function bN(e){return $e(1,arguments),Kv(e,{weekStartsOn:1})}function X5(e,t){$e(2,arguments);var r=Wt(t);return L5(e,-r)}var J5=864e5;function Q5(e){$e(1,arguments);var t=We(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),o=r-n;return Math.floor(o/J5)+1}function wd(e){$e(1,arguments);var t=1,r=We(e),n=r.getUTCDay(),o=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function jN(e){$e(1,arguments);var t=We(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=wd(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var c=wd(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function Z5(e){$e(1,arguments);var t=jN(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=wd(r);return n}var e6=6048e5;function t6(e){$e(1,arguments);var t=We(e),r=wd(t).getTime()-Z5(t).getTime();return Math.round(r/e6)+1}function bd(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=ui(),p=Wt((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=We(e),y=x.getUTCDay(),j=(y<p?7:0)+y-p;return x.setUTCDate(x.getUTCDate()-j),x.setUTCHours(0,0,0,0),x}function _N(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=We(e),p=m.getUTCFullYear(),x=ui(),y=Wt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&n!==void 0?n:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(p+1,0,y),j.setUTCHours(0,0,0,0);var w=bd(j,t),_=new Date(0);_.setUTCFullYear(p,0,y),_.setUTCHours(0,0,0,0);var N=bd(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function r6(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=ui(),p=Wt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=_N(e,t),y=new Date(0);y.setUTCFullYear(x,0,p),y.setUTCHours(0,0,0,0);var j=bd(y,t);return j}var n6=6048e5;function s6(e,t){$e(1,arguments);var r=We(e),n=bd(r,t).getTime()-r6(r,t).getTime();return Math.round(n/n6)+1}function rt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Fs={y:function(t,r){var n=t.getUTCFullYear(),o=n>0?n:1-n;return rt(r==="yy"?o%100:o,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):rt(n+1,2)},d:function(t,r){return rt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return rt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return rt(t.getUTCHours(),r.length)},m:function(t,r){return rt(t.getUTCMinutes(),r.length)},s:function(t,r){return rt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,o=t.getUTCMilliseconds(),a=Math.floor(o*Math.pow(10,n-3));return rt(a,r.length)}},qo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},i6={G:function(t,r,n){var o=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var o=t.getUTCFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Fs.y(t,r)},Y:function(t,r,n,o){var a=_N(t,o),c=a>0?a:1-a;if(r==="YY"){var u=c%100;return rt(u,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):rt(c,r.length)},R:function(t,r){var n=jN(t);return rt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return rt(n,r.length)},Q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return rt(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return rt(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){var o=t.getUTCMonth();switch(r){case"M":case"MM":return Fs.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){var o=t.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return rt(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){var a=s6(t,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):rt(a,r.length)},I:function(t,r,n){var o=t6(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):rt(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Fs.d(t,r)},D:function(t,r,n){var o=Q5(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):rt(o,r.length)},E:function(t,r,n){var o=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){var a=t.getUTCDay(),c=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return rt(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){var a=t.getUTCDay(),c=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return rt(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var o=t.getUTCDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return rt(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){var o=t.getUTCHours(),a=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var o=t.getUTCHours(),a;switch(o===12?a=qo.noon:o===0?a=qo.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var o=t.getUTCHours(),a;switch(o>=17?a=qo.evening:o>=12?a=qo.afternoon:o>=4?a=qo.morning:a=qo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Fs.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Fs.H(t,r)},K:function(t,r,n){var o=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):rt(o,r.length)},k:function(t,r,n){var o=t.getUTCHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):rt(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Fs.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Fs.s(t,r)},S:function(t,r){return Fs.S(t,r)},X:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();if(c===0)return"Z";switch(r){case"X":return wb(c);case"XXXX":case"XX":return Di(c);case"XXXXX":case"XXX":default:return Di(c,":")}},x:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();switch(r){case"x":return wb(c);case"xxxx":case"xx":return Di(c);case"xxxxx":case"xxx":default:return Di(c,":")}},O:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+yb(c,":");case"OOOO":default:return"GMT"+Di(c,":")}},z:function(t,r,n,o){var a=o._originalDate||t,c=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+yb(c,":");case"zzzz":default:return"GMT"+Di(c,":")}},t:function(t,r,n,o){var a=o._originalDate||t,c=Math.floor(a.getTime()/1e3);return rt(c,r.length)},T:function(t,r,n,o){var a=o._originalDate||t,c=a.getTime();return rt(c,r.length)}};function yb(e,t){var r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),a=n%60;if(a===0)return r+String(o);var c=t;return r+String(o)+c+rt(a,2)}function wb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+rt(Math.abs(e)/60,2)}return Di(e,t)}function Di(e,t){var r=t||"",n=e>0?"-":"+",o=Math.abs(e),a=rt(Math.floor(o/60),2),c=rt(o%60,2);return n+a+r+c}var bb=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},SN=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},o6=function(t,r){var n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return bb(t,r);var c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",bb(o,r)).replace("{{time}}",SN(a,r))},a6={p:SN,P:o6},l6=["D","DD"],c6=["YY","YYYY"];function u6(e){return l6.indexOf(e)!==-1}function d6(e){return c6.indexOf(e)!==-1}function jb(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var f6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h6=function(t,r,n){var o,a=f6[t];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function $m(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var m6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g6={date:$m({formats:m6,defaultWidth:"full"}),time:$m({formats:p6,defaultWidth:"full"}),dateTime:$m({formats:v6,defaultWidth:"full"})},x6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y6=function(t,r,n,o){return x6[t]};function wl(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):a;o=e.formattingValues[c]||e.formattingValues[a]}else{var u=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[f]||e.values[u]}var h=e.argumentCallback?e.argumentCallback(t):t;return o[h]}}var w6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C6=function(t,r){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},k6={ordinalNumber:C6,era:wl({values:w6,defaultWidth:"wide"}),quarter:wl({values:b6,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:wl({values:j6,defaultWidth:"wide"}),day:wl({values:_6,defaultWidth:"wide"}),dayPeriod:wl({values:S6,defaultWidth:"wide",formattingValues:N6,defaultFormattingWidth:"wide"})};function bl(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;var c=a[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?E6(u,function(p){return p.test(c)}):P6(u,function(p){return p.test(c)}),h;h=e.valueCallback?e.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;var m=t.slice(c.length);return{value:h,rest:m}}}function P6(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function E6(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function T6(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],a=t.match(e.parsePattern);if(!a)return null;var c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}var A6=/^(\d+)(th|st|nd|rd)?/i,D6=/\d+/i,R6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O6={any:[/^b/i,/^(a|c)/i]},$6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M6={any:[/1/i,/2/i,/3/i,/4/i]},I6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},L6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z6={ordinalNumber:T6({matchPattern:A6,parsePattern:D6,valueCallback:function(t){return parseInt(t,10)}}),era:bl({matchPatterns:R6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any"}),quarter:bl({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:M6,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:bl({matchPatterns:I6,defaultMatchWidth:"wide",parsePatterns:L6,defaultParseWidth:"any"}),day:bl({matchPatterns:F6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),dayPeriod:bl({matchPatterns:B6,defaultMatchWidth:"any",parsePatterns:V6,defaultParseWidth:"any"})},NN={code:"en-US",formatDistance:h6,formatLong:g6,formatRelative:y6,localize:k6,match:z6,options:{weekStartsOn:0,firstWeekContainsDate:1}},W6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q6=/^'([^]*?)'?$/,Y6=/''/g,G6=/[a-zA-Z]/;function Rt(e,t,r){var n,o,a,c,u,f,h,m,p,x,y,j,w,_,N,C,k,T;$e(2,arguments);var D=String(t),P=ui(),E=(n=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:P.locale)!==null&&n!==void 0?n:NN,R=Wt((a=(c=(u=(f=r==null?void 0:r.firstWeekContainsDate)!==null&&f!==void 0?f:r==null||(h=r.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:P.firstWeekContainsDate)!==null&&c!==void 0?c:(p=P.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=Wt((y=(j=(w=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(N=r.locale)===null||N===void 0||(C=N.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&w!==void 0?w:P.weekStartsOn)!==null&&j!==void 0?j:(k=P.locale)===null||k===void 0||(T=k.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&y!==void 0?y:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var H=We(e);if(!q5(H))throw new RangeError("Invalid time value");var te=Yl(H),Z=X5(H,te),Y={firstWeekContainsDate:R,weekStartsOn:$,locale:E,_originalDate:H},L=D.match(H6).map(function(B){var F=B[0];if(F==="p"||F==="P"){var W=a6[F];return W(B,E.formatLong)}return B}).join("").match(W6).map(function(B){if(B==="''")return"'";var F=B[0];if(F==="'")return K6(B);var W=i6[F];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&d6(B)&&jb(B,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&u6(B)&&jb(B,t,String(e)),W(Z,B,E.localize,Y);if(F.match(G6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return B}).join("");return L}function K6(e){var t=e.match(q6);return t?t[1].replace(Y6,"'"):e}function X6(e){$e(1,arguments);var t=We(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var J6=6048e5;function Q6(e){$e(1,arguments);var t=We(e),r=Bi(t).getTime()-B5(t).getTime();return Math.round(r/J6)+1}function Z6(e){$e(1,arguments);var t=We(e),r=t.getTime();return r}function e8(e){return $e(1,arguments),Math.floor(Z6(e)/1e3)}function t8(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=We(e),p=m.getFullYear(),x=ui(),y=Wt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&n!==void 0?n:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setFullYear(p+1,0,y),j.setHours(0,0,0,0);var w=Dn(j,t),_=new Date(0);_.setFullYear(p,0,y),_.setHours(0,0,0,0);var N=Dn(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function r8(e,t){var r,n,o,a,c,u,f,h;$e(1,arguments);var m=ui(),p=Wt((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=t8(e,t),y=new Date(0);y.setFullYear(x,0,p),y.setHours(0,0,0,0);var j=Dn(y,t);return j}var n8=6048e5;function s8(e,t){$e(1,arguments);var r=We(e),n=Dn(r,t).getTime()-r8(r,t).getTime();return Math.round(n/n8)+1}function i8(e){$e(1,arguments);var t=We(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function o8(e,t){return $e(1,arguments),G5(i8(e),jr(e),t)+1}function Mp(e,t){$e(2,arguments);var r=We(e),n=We(t);return r.getTime()>n.getTime()}function CN(e,t){$e(2,arguments);var r=We(e),n=We(t);return r.getTime()<n.getTime()}function Xv(e,t){$e(2,arguments);var r=We(e),n=We(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function a8(e,t){$e(2,arguments);var r=We(e),n=We(t);return r.getFullYear()===n.getFullYear()}function Mm(e,t){$e(2,arguments);var r=Wt(t);return Kt(e,-r)}function Im(e,t){$e(2,arguments);var r=We(e),n=Wt(t),o=r.getFullYear(),a=r.getDate(),c=new Date(0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);var u=X6(c);return r.setMonth(n,Math.min(a,u)),r}function _b(e,t){$e(2,arguments);var r=We(e),n=Wt(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}var Ie=function(){return Ie=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ie.apply(this,arguments)};function l8(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function kN(e,t,r){for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function cc(e){return e.mode==="multiple"}function uc(e){return e.mode==="range"}function rf(e){return e.mode==="single"}var c8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function u8(e,t){return Rt(e,"LLLL y",t)}function d8(e,t){return Rt(e,"d",t)}function f8(e,t){return Rt(e,"LLLL",t)}function h8(e){return"".concat(e)}function m8(e,t){return Rt(e,"cccccc",t)}function p8(e,t){return Rt(e,"yyyy",t)}var v8=Object.freeze({__proto__:null,formatCaption:u8,formatDay:d8,formatMonthCaption:f8,formatWeekNumber:h8,formatWeekdayName:m8,formatYearCaption:p8}),g8=function(e,t,r){return Rt(e,"do MMMM (EEEE)",r)},x8=function(){return"Month: "},y8=function(){return"Go to next month"},w8=function(){return"Go to previous month"},b8=function(e,t){return Rt(e,"cccc",t)},j8=function(e){return"Week n. ".concat(e)},_8=function(){return"Year: "},S8=Object.freeze({__proto__:null,labelDay:g8,labelMonthDropdown:x8,labelNext:y8,labelPrevious:w8,labelWeekNumber:j8,labelWeekday:b8,labelYearDropdown:_8});function N8(){var e="buttons",t=c8,r=NN,n={},o={},a=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:v8,labels:S8,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:a,styles:c,today:u,mode:"default"}}function C8(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,a=e.fromDate,c=e.toDate;return n?a=jr(n):t&&(a=new Date(t,0,1)),o?c=Gv(o):r&&(c=new Date(r,11,31)),{fromDate:a?ha(a):void 0,toDate:c?ha(c):void 0}}var PN=v.createContext(void 0);function k8(e){var t,r=e.initialProps,n=N8(),o=C8(r),a=o.fromDate,c=o.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!a||!c)&&(u="buttons");var f;(rf(r)||cc(r)||uc(r))&&(f=r.onSelect);var h=Ie(Ie(Ie({},n),r),{captionLayout:u,classNames:Ie(Ie({},n.classNames),r.classNames),components:Ie({},r.components),formatters:Ie(Ie({},n.formatters),r.formatters),fromDate:a,labels:Ie(Ie({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ie(Ie({},n.modifiers),r.modifiers),modifiersClassNames:Ie(Ie({},n.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:Ie(Ie({},n.styles),r.styles),toDate:c});return s.jsx(PN.Provider,{value:h,children:e.children})}function at(){var e=v.useContext(PN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function EN(e){var t=at(),r=t.locale,n=t.classNames,o=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function P8(e){return s.jsx("svg",Ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TN(e){var t,r,n=e.onChange,o=e.value,a=e.children,c=e.caption,u=e.className,f=e.style,h=at(),m=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:P8;return s.jsxs("div",{className:u,style:f,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:o,onChange:n,children:a}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,s.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function E8(e){var t,r=at(),n=r.fromDate,o=r.toDate,a=r.styles,c=r.locale,u=r.formatters.formatMonthCaption,f=r.classNames,h=r.components,m=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var p=[];if(a8(n,o))for(var x=jr(n),y=n.getMonth();y<=o.getMonth();y++)p.push(Im(x,y));else for(var x=jr(new Date),y=0;y<=11;y++)p.push(Im(x,y));var j=function(_){var N=Number(_.target.value),C=Im(jr(e.displayMonth),N);e.onChange(C)},w=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:TN;return s.jsx(w,{name:"months","aria-label":m(),className:f.dropdown_month,style:a.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:p.map(function(_){return s.jsx("option",{value:_.getMonth(),children:u(_,{locale:c})},_.getMonth())})})}function T8(e){var t,r=e.displayMonth,n=at(),o=n.fromDate,a=n.toDate,c=n.locale,u=n.styles,f=n.classNames,h=n.components,m=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,x=[];if(!o)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var y=o.getFullYear(),j=a.getFullYear(),w=y;w<=j;w++)x.push(_b(K5(new Date),w));var _=function(C){var k=_b(jr(r),Number(C.target.value));e.onChange(k)},N=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:TN;return s.jsx(N,{name:"years","aria-label":p(),className:f.dropdown_year,style:u.dropdown_year,onChange:_,value:r.getFullYear(),caption:m(r,{locale:c}),children:x.map(function(C){return s.jsx("option",{value:C.getFullYear(),children:m(C,{locale:c})},C.getFullYear())})})}function A8(e,t){var r=v.useState(e),n=r[0],o=r[1],a=t===void 0?n:t;return[a,o]}function D8(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,a=e.toDate,c=e.fromDate,u=e.numberOfMonths,f=u===void 0?1:u;if(a&&Gl(a,o)<0){var h=-1*(f-1);o=vn(a,h)}return c&&Gl(o,c)<0&&(o=c),jr(o)}function R8(){var e=at(),t=D8(e),r=A8(t,e.month),n=r[0],o=r[1],a=function(c){var u;if(!e.disableNavigation){var f=jr(c);o(f),(u=e.onMonthChange)===null||u===void 0||u.call(e,f)}};return[n,a]}function O8(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=jr(e),a=jr(vn(o,n)),c=Gl(a,o),u=[],f=0;f<c;f++){var h=vn(o,f);u.push(h)}return r&&(u=u.reverse()),u}function $8(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,c=n?a:1,u=jr(e);if(!r)return vn(u,c);var f=Gl(r,e);if(!(f<a))return vn(u,c)}}function M8(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,c=n?a:1,u=jr(e);if(!r)return vn(u,-c);var f=Gl(u,r);if(!(f<=0))return vn(u,-c)}}var AN=v.createContext(void 0);function I8(e){var t=at(),r=R8(),n=r[0],o=r[1],a=O8(n,t),c=$8(n,t),u=M8(n,t),f=function(p){return a.some(function(x){return Xv(p,x)})},h=function(p,x){f(p)||(x&&CN(p,x)?o(vn(p,1+t.numberOfMonths*-1)):o(p))},m={currentMonth:n,displayMonths:a,goToMonth:o,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:f};return s.jsx(AN.Provider,{value:m,children:e.children})}function dc(){var e=v.useContext(AN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Sb(e){var t,r=at(),n=r.classNames,o=r.styles,a=r.components,c=dc().goToMonth,u=function(m){c(vn(m,e.displayIndex?-e.displayIndex:0))},f=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:EN,h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(E8,{onChange:u,displayMonth:e.displayMonth}),s.jsx(T8,{onChange:u,displayMonth:e.displayMonth})]})}function L8(e){return s.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function F8(e){return s.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var jd=v.forwardRef(function(e,t){var r=at(),n=r.classNames,o=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var c=a.join(" "),u=Ie(Ie({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),s.jsx("button",Ie({},e,{ref:t,type:"button",className:c,style:u}))});function U8(e){var t,r,n=at(),o=n.dir,a=n.locale,c=n.classNames,u=n.styles,f=n.labels,h=f.labelPrevious,m=f.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=h(e.previousMonth,{locale:a}),y=[c.nav_button,c.nav_button_previous].join(" "),j=m(e.nextMonth,{locale:a}),w=[c.nav_button,c.nav_button_next].join(" "),_=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:F8,N=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:L8;return s.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&s.jsx(jd,{name:"previous-month","aria-label":x,className:y,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(_,{className:c.nav_icon,style:u.nav_icon}):s.jsx(N,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&s.jsx(jd,{name:"next-month","aria-label":j,className:w,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(N,{className:c.nav_icon,style:u.nav_icon}):s.jsx(_,{className:c.nav_icon,style:u.nav_icon})})]})}function Nb(e){var t=at().numberOfMonths,r=dc(),n=r.previousMonth,o=r.nextMonth,a=r.goToMonth,c=r.displayMonths,u=c.findIndex(function(j){return Xv(e.displayMonth,j)}),f=u===0,h=u===c.length-1,m=t>1&&(f||!h),p=t>1&&(h||!f),x=function(){n&&a(n)},y=function(){o&&a(o)};return s.jsx(U8,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:o,previousMonth:n,onPreviousClick:x,onNextClick:y})}function B8(e){var t,r=at(),n=r.classNames,o=r.disableNavigation,a=r.styles,c=r.captionLayout,u=r.components,f=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:EN,h;return o?h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=s.jsx(Sb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(Sb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Nb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Nb,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:h})}function V8(e){var t=at(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?s.jsx("tfoot",{className:o,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function z8(e,t,r){for(var n=r?Bi(new Date):Dn(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var c=Kt(n,a);o.push(c)}return o}function W8(){var e=at(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,h=z8(o,a,c);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(m,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":f(m,{locale:o}),children:u(m,{locale:o})},p)})]})}function H8(){var e,t=at(),r=t.classNames,n=t.styles,o=t.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:W8;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function q8(e){var t=at(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Jv=v.createContext(void 0);function Y8(e){if(!cc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Jv.Provider,{value:t,children:e.children})}return s.jsx(G8,{initialProps:e.initialProps,children:e.children})}function G8(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,a=t.max,c=function(h,m,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,h,m,p);var j=!!(m.selected&&o&&(n==null?void 0:n.length)===o);if(!j){var w=!!(!m.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var _=n?kN([],n):[];if(m.selected){var N=_.findIndex(function(C){return br(h,C)});_.splice(N,1)}else _.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,_,h,m,p)}}},u={disabled:[]};n&&u.disabled.push(function(h){var m=a&&n.length>a-1,p=n.some(function(x){return br(x,h)});return!!(m&&!p)});var f={selected:n,onDayClick:c,modifiers:u};return s.jsx(Jv.Provider,{value:f,children:r})}function Qv(){var e=v.useContext(Jv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function K8(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?br(o,e)&&br(n,e)?void 0:br(o,e)?{from:o,to:void 0}:br(n,e)?void 0:Mp(n,e)?{from:e,to:o}:{from:n,to:e}:o?Mp(e,o)?{from:o,to:e}:{from:e,to:o}:n?CN(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Zv=v.createContext(void 0);function X8(e){if(!uc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Zv.Provider,{value:t,children:e.children})}return s.jsx(J8,{initialProps:e.initialProps,children:e.children})}function J8(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},a=o.from,c=o.to,u=t.min,f=t.max,h=function(y,j,w){var _,N;(_=t.onDayClick)===null||_===void 0||_.call(t,y,j,w);var C=K8(y,n);(N=t.onSelect)===null||N===void 0||N.call(t,C,y,j,w)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(m.range_start=[a],c?(m.range_end=[c],br(a,c)||(m.range_middle=[{after:a,before:c}])):m.range_end=[a]):c&&(m.range_start=[c],m.range_end=[c]),u&&(a&&!c&&m.disabled.push({after:Mm(a,u-1),before:Kt(a,u-1)}),a&&c&&m.disabled.push({after:a,before:Kt(a,u-1)}),!a&&c&&m.disabled.push({after:Mm(c,u-1),before:Kt(c,u-1)})),f){if(a&&!c&&(m.disabled.push({before:Kt(a,-f+1)}),m.disabled.push({after:Kt(a,f-1)})),a&&c){var p=Qn(c,a)+1,x=f-p;m.disabled.push({before:Mm(a,x)}),m.disabled.push({after:Kt(c,x)})}!a&&c&&(m.disabled.push({before:Kt(c,-f+1)}),m.disabled.push({after:Kt(c,f-1)}))}return s.jsx(Zv.Provider,{value:{selected:n,onDayClick:h,modifiers:m},children:r})}function eg(){var e=v.useContext(Zv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function rd(e){return Array.isArray(e)?kN([],e):e!==void 0?[e]:[]}function Q8(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=rd(o)}),t}var gn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(gn||(gn={}));var Z8=gn.Selected,Gn=gn.Disabled,e7=gn.Hidden,t7=gn.Today,Lm=gn.RangeEnd,Fm=gn.RangeMiddle,Um=gn.RangeStart,r7=gn.Outside;function n7(e,t,r){var n,o=(n={},n[Z8]=rd(e.selected),n[Gn]=rd(e.disabled),n[e7]=rd(e.hidden),n[t7]=[e.today],n[Lm]=[],n[Fm]=[],n[Um]=[],n[r7]=[],n);return e.fromDate&&o[Gn].push({before:e.fromDate}),e.toDate&&o[Gn].push({after:e.toDate}),cc(e)?o[Gn]=o[Gn].concat(t.modifiers[Gn]):uc(e)&&(o[Gn]=o[Gn].concat(r.modifiers[Gn]),o[Um]=r.modifiers[Um],o[Fm]=r.modifiers[Fm],o[Lm]=r.modifiers[Lm]),o}var DN=v.createContext(void 0);function s7(e){var t=at(),r=Qv(),n=eg(),o=n7(t,r,n),a=Q8(t.modifiers),c=Ie(Ie({},o),a);return s.jsx(DN.Provider,{value:c,children:e.children})}function RN(){var e=v.useContext(DN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function i7(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function o7(e){return!!(e&&typeof e=="object"&&"from"in e)}function a7(e){return!!(e&&typeof e=="object"&&"after"in e)}function l7(e){return!!(e&&typeof e=="object"&&"before"in e)}function c7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function u7(e,t){var r,n=t.from,o=t.to;if(n&&o){var a=Qn(o,n)<0;a&&(r=[o,n],n=r[0],o=r[1]);var c=Qn(e,n)>=0&&Qn(o,e)>=0;return c}return o?br(o,e):n?br(n,e):!1}function d7(e){return Yv(e)}function f7(e){return Array.isArray(e)&&e.every(Yv)}function h7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(d7(r))return br(e,r);if(f7(r))return r.includes(e);if(o7(r))return u7(e,r);if(c7(r))return r.dayOfWeek.includes(e.getDay());if(i7(r)){var n=Qn(r.before,e),o=Qn(r.after,e),a=n>0,c=o<0,u=Mp(r.before,r.after);return u?c&&a:a||c}return a7(r)?Qn(e,r.after)>0:l7(r)?Qn(r.before,e)>0:typeof r=="function"?r(e):!1})}function tg(e,t,r){var n=Object.keys(t).reduce(function(a,c){var u=t[c];return h7(e,u)&&a.push(c),a},[]),o={};return n.forEach(function(a){return o[a]=!0}),r&&!Xv(e,r)&&(o.outside=!0),o}function m7(e,t){for(var r=jr(e[0]),n=Gv(e[e.length-1]),o,a,c=r;c<=n;){var u=tg(c,t),f=!u.disabled&&!u.hidden;if(!f){c=Kt(c,1);continue}if(u.selected)return c;u.today&&!a&&(a=c),o||(o=c),c=Kt(c,1)}return a||o}var p7=365;function ON(e,t){var r=t.moveBy,n=t.direction,o=t.context,a=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,f=o.weekStartsOn,h=o.fromDate,m=o.toDate,p=o.locale,x={day:Kt,week:$p,month:vn,year:z5,startOfWeek:function(_){return o.ISOWeek?Bi(_):Dn(_,{locale:p,weekStartsOn:f})},endOfWeek:function(_){return o.ISOWeek?bN(_):Kv(_,{locale:p,weekStartsOn:f})}},y=x[r](e,n==="after"?1:-1);n==="before"&&h?y=W5([h,y]):n==="after"&&m&&(y=H5([m,y]));var j=!0;if(a){var w=tg(y,a);j=!w.disabled&&!w.hidden}return j?y:u.count>p7?u.lastFocused:ON(y,{moveBy:r,direction:n,context:o,modifiers:a,retry:Ie(Ie({},u),{count:u.count+1})})}var $N=v.createContext(void 0);function v7(e){var t=dc(),r=RN(),n=v.useState(),o=n[0],a=n[1],c=v.useState(),u=c[0],f=c[1],h=m7(t.displayMonths,r),m=o??(u&&t.isDateDisplayed(u))?u:h,p=function(){f(o),a(void 0)},x=function(_){a(_)},y=at(),j=function(_,N){if(o){var C=ON(o,{moveBy:_,direction:N,context:y,modifiers:r});br(o,C)||(t.goToDate(C,o),x(C))}},w={focusedDay:o,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return s.jsx($N.Provider,{value:w,children:e.children})}function rg(){var e=v.useContext($N);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function g7(e,t){var r=RN(),n=tg(e,r,t);return n}var ng=v.createContext(void 0);function x7(e){if(!rf(e.initialProps)){var t={selected:void 0};return s.jsx(ng.Provider,{value:t,children:e.children})}return s.jsx(y7,{initialProps:e.initialProps,children:e.children})}function y7(e){var t=e.initialProps,r=e.children,n=function(a,c,u){var f,h,m;if((f=t.onDayClick)===null||f===void 0||f.call(t,a,c,u),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,a,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,a,a,c,u)},o={selected:t.selected,onDayClick:n};return s.jsx(ng.Provider,{value:o,children:r})}function MN(){var e=v.useContext(ng);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function w7(e,t){var r=at(),n=MN(),o=Qv(),a=eg(),c=rg(),u=c.focusDayAfter,f=c.focusDayBefore,h=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,x=c.focus,y=c.focusMonthBefore,j=c.focusMonthAfter,w=c.focusYearBefore,_=c.focusYearAfter,N=c.focusStartOfWeek,C=c.focusEndOfWeek,k=function(W){var M,z,X,O;rf(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,W):cc(r)?(z=o.onDayClick)===null||z===void 0||z.call(o,e,t,W):uc(r)?(X=a.onDayClick)===null||X===void 0||X.call(a,e,t,W):(O=r.onDayClick)===null||O===void 0||O.call(r,e,t,W)},T=function(W){var M;x(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,W)},D=function(W){var M;p(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,W)},P=function(W){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,W)},E=function(W){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,W)},R=function(W){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,W)},$=function(W){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,W)},H=function(W){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,W)},te=function(W){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,W)},Z=function(W){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,W)},Y=function(W){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,W)},L=function(W){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,W)},B=function(W){var M;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?u():f();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?f():u();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),h();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),m();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?w():y();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?_():j();break;case"Home":W.preventDefault(),W.stopPropagation(),N();break;case"End":W.preventDefault(),W.stopPropagation(),C();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,W)},F={onClick:k,onFocus:T,onBlur:D,onKeyDown:B,onKeyUp:L,onMouseEnter:P,onMouseLeave:E,onPointerEnter:R,onPointerLeave:$,onTouchCancel:H,onTouchEnd:te,onTouchMove:Z,onTouchStart:Y};return F}function b7(){var e=at(),t=MN(),r=Qv(),n=eg(),o=rf(e)?t.selected:cc(e)?r.selected:uc(e)?n.selected:void 0;return o}function j7(e){return Object.values(gn).includes(e)}function _7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(j7(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function S7(e,t){var r=Ie({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=Ie(Ie({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function N7(e,t,r){var n,o,a,c=at(),u=rg(),f=g7(e,t),h=w7(e,f),m=b7(),p=!!(c.onDayClick||c.mode!=="default");v.useEffect(function(){var P;f.outside||u.focusedDay&&p&&br(u.focusedDay,e)&&((P=r.current)===null||P===void 0||P.focus())},[u.focusedDay,e,r,p,f.outside]);var x=_7(c,f).join(" "),y=S7(c,f),j=!!(f.outside&&!c.showOutsideDays||f.hidden),w=(a=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:q8,_=s.jsx(w,{date:e,displayMonth:t,activeModifiers:f}),N={style:y,className:x,children:_,role:"gridcell"},C=u.focusTarget&&br(u.focusTarget,e)&&!f.outside,k=u.focusedDay&&br(u.focusedDay,e),T=Ie(Ie(Ie({},N),(n={disabled:f.disabled,role:"gridcell"},n["aria-selected"]=f.selected,n.tabIndex=k||C?0:-1,n)),h),D={isButton:p,isHidden:j,activeModifiers:f,selectedDays:m,buttonProps:T,divProps:N};return D}function C7(e){var t=v.useRef(null),r=N7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(jd,Ie({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ie({},r.divProps))}function k7(e){var t=e.number,r=e.dates,n=at(),o=n.onWeekNumberClick,a=n.styles,c=n.classNames,u=n.locale,f=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,m=h(Number(t),{locale:u});if(!o)return s.jsx("span",{className:c.weeknumber,style:a.weeknumber,children:m});var p=f(Number(t),{locale:u}),x=function(y){o(t,r,y)};return s.jsx(jd,{name:"week-number","aria-label":p,className:c.weeknumber,style:a.weeknumber,onClick:x,children:m})}function P7(e){var t,r,n=at(),o=n.styles,a=n.classNames,c=n.showWeekNumber,u=n.components,f=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:C7,h=(r=u==null?void 0:u.WeekNumber)!==null&&r!==void 0?r:k7,m;return c&&(m=s.jsx("td",{className:a.cell,style:o.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:o.row,children:[m,e.dates.map(function(p){return s.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:s.jsx(f,{displayMonth:e.displayMonth,date:p})},e8(p))})]})}function Cb(e,t,r){for(var n=r!=null&&r.ISOWeek?bN(t):Kv(t,r),o=r!=null&&r.ISOWeek?Bi(e):Dn(e,r),a=Qn(n,o),c=[],u=0;u<=a;u++)c.push(Kt(o,u));var f=c.reduce(function(h,m){var p=r!=null&&r.ISOWeek?Q6(m):s8(m,r),x=h.find(function(y){return y.weekNumber===p});return x?(x.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return f}function E7(e,t){var r=Cb(jr(e),Gv(e),t);if(t!=null&&t.useFixedWeeks){var n=o8(e,t);if(n<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],c=$p(a,6-n),u=Cb($p(a,1),c,t);r.push.apply(r,u)}}return r}function T7(e){var t,r,n,o=at(),a=o.locale,c=o.classNames,u=o.styles,f=o.hideHead,h=o.fixedWeeks,m=o.components,p=o.weekStartsOn,x=o.firstWeekContainsDate,y=o.ISOWeek,j=E7(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:a,weekStartsOn:p,firstWeekContainsDate:x}),w=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:H8,_=(r=m==null?void 0:m.Row)!==null&&r!==void 0?r:P7,N=(n=m==null?void 0:m.Footer)!==null&&n!==void 0?n:V8;return s.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&s.jsx(w,{}),s.jsx("tbody",{className:c.tbody,style:u.tbody,children:j.map(function(C){return s.jsx(_,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function A7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var D7=A7()?v.useLayoutEffect:v.useEffect,Bm=!1,R7=0;function kb(){return"react-day-picker-".concat(++R7)}function O7(e){var t,r=e??(Bm?kb():null),n=v.useState(r),o=n[0],a=n[1];return D7(function(){o===null&&a(kb())},[]),v.useEffect(function(){Bm===!1&&(Bm=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function $7(e){var t,r,n=at(),o=n.dir,a=n.classNames,c=n.styles,u=n.components,f=dc().displayMonths,h=O7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),m=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[a.month],x=c.month,y=e.displayIndex===0,j=e.displayIndex===f.length-1,w=!y&&!j;o==="rtl"&&(t=[y,j],j=t[0],y=t[1]),y&&(p.push(a.caption_start),x=Ie(Ie({},x),c.caption_start)),j&&(p.push(a.caption_end),x=Ie(Ie({},x),c.caption_end)),w&&(p.push(a.caption_between),x=Ie(Ie({},x),c.caption_between));var _=(r=u==null?void 0:u.Caption)!==null&&r!==void 0?r:B8;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(_,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(T7,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function M7(e){var t=at(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function I7(e){var t,r,n=e.initialProps,o=at(),a=rg(),c=dc(),u=v.useState(!1),f=u[0],h=u[1];v.useEffect(function(){o.initialFocus&&a.focusTarget&&(f||(a.focus(a.focusTarget),h(!0)))},[o.initialFocus,f,a.focus,a.focusTarget,a]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var p=Ie(Ie({},o.styles.root),o.style),x=Object.keys(n).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var _;return Ie(Ie({},j),(_={},_[w]=n[w],_))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:M7;return s.jsx("div",Ie({className:m.join(" "),style:p,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:s.jsx(y,{children:c.displayMonths.map(function(j,w){return s.jsx($7,{displayIndex:w,displayMonth:j},w)})})}))}function L7(e){var t=e.children,r=l8(e,["children"]);return s.jsx(k8,{initialProps:r,children:s.jsx(I8,{children:s.jsx(x7,{initialProps:r,children:s.jsx(Y8,{initialProps:r,children:s.jsx(X8,{initialProps:r,children:s.jsx(s7,{children:s.jsx(v7,{children:t})})})})})})})}function F7(e){return s.jsx(L7,Ie({},e,{children:s.jsx(I7,{initialProps:e})}))}function ma({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(F7,{showOutsideDays:r,className:Pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pe(jp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pe(jp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(Q4,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(e$,{className:"h-4 w-4"})},...n})}ma.displayName="Calendar";var U7="Arrow",IN=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(Ke.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});IN.displayName=U7;var B7=IN,sg="Popper",[LN,FN]=Rn(sg),[V7,UN]=LN(sg),BN=e=>{const{__scopePopper:t,children:r}=e,[n,o]=v.useState(null);return s.jsx(V7,{scope:t,anchor:n,onAnchorChange:o,children:r})};BN.displayName=sg;var VN="PopperAnchor",zN=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=UN(VN,r),c=v.useRef(null),u=_t(t,c);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:s.jsx(Ke.div,{...o,ref:u})});zN.displayName=VN;var ig="PopperContent",[z7,W7]=LN(ig),WN=v.forwardRef((e,t)=>{var re,se,ge,xe,ie,be;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:j,...w}=e,_=UN(ig,r),[N,C]=v.useState(null),k=_t(t,ze=>C(ze)),[T,D]=v.useState(null),P=qv(T),E=(P==null?void 0:P.width)??0,R=(P==null?void 0:P.height)??0,$=n+(a!=="center"?"-"+a:""),H=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},te=Array.isArray(h)?h:[h],Z=te.length>0,Y={padding:H,boundary:te.filter(q7),altBoundary:Z},{refs:L,floatingStyles:B,placement:F,isPositioned:W,middlewareData:M}=AS({strategy:"fixed",placement:$,whileElementsMounted:(...ze)=>ES(...ze,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[DS({mainAxis:o+R,alignmentAxis:c}),f&&RS({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?OS():void 0,...Y}),f&&$S({...Y}),MS({...Y,apply:({elements:ze,rects:Ue,availableWidth:Ze,availableHeight:or})=>{const{width:gt,height:ds}=Ue.reference,Kr=ze.floating.style;Kr.setProperty("--radix-popper-available-width",`${Ze}px`),Kr.setProperty("--radix-popper-available-height",`${or}px`),Kr.setProperty("--radix-popper-anchor-width",`${gt}px`),Kr.setProperty("--radix-popper-anchor-height",`${ds}px`)}}),T&&LS({element:T,padding:u}),Y7({arrowWidth:E,arrowHeight:R}),x&&IS({strategy:"referenceHidden",...Y})]}),[z,X]=YN(F),O=fn(j);ns(()=>{W&&(O==null||O())},[W,O]);const q=(re=M.arrow)==null?void 0:re.x,ee=(se=M.arrow)==null?void 0:se.y,de=((ge=M.arrow)==null?void 0:ge.centerOffset)!==0,[pe,he]=v.useState();return ns(()=>{N&&he(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(xe=M.transformOrigin)==null?void 0:xe.x,(ie=M.transformOrigin)==null?void 0:ie.y].join(" "),...((be=M.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(z7,{scope:r,placedSide:z,onArrowChange:D,arrowX:q,arrowY:ee,shouldHideArrow:de,children:s.jsx(Ke.div,{"data-side":z,"data-align":X,...w,ref:k,style:{...w.style,animation:W?void 0:"none"}})})})});WN.displayName=ig;var HN="PopperArrow",H7={top:"bottom",right:"left",bottom:"top",left:"right"},qN=v.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=W7(HN,n),c=H7[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(B7,{...o,ref:r,style:{...o.style,display:"block"}})})});qN.displayName=HN;function q7(e){return e!==null}var Y7=e=>({name:"transformOrigin",options:e,fn(t){var _,N,C;const{placement:r,rects:n,middlewareData:o}=t,c=((_=o.arrow)==null?void 0:_.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=YN(r),p={start:"0%",center:"50%",end:"100%"}[m],x=(((N=o.arrow)==null?void 0:N.x)??0)+u/2,y=(((C=o.arrow)==null?void 0:C.y)??0)+f/2;let j="",w="";return h==="bottom"?(j=c?p:`${x}px`,w=`${-f}px`):h==="top"?(j=c?p:`${x}px`,w=`${n.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?p:`${y}px`):h==="left"&&(j=`${n.floating.width+f}px`,w=c?p:`${y}px`),{data:{x:j,y:w}}}});function YN(e){const[t,r="center"]=e.split("-");return[t,r]}var G7=BN,GN=zN,K7=WN,X7=qN,nf="Popover",[KN,gV]=Rn(nf,[FN]),fc=FN(),[J7,di]=KN(nf),XN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:c=!1}=e,u=fc(t),f=v.useRef(null),[h,m]=v.useState(!1),[p,x]=Xi({prop:n,defaultProp:o??!1,onChange:a,caller:nf});return s.jsx(G7,{...u,children:s.jsx(J7,{scope:t,contentId:ea(),triggerRef:f,open:p,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:h,onCustomAnchorAdd:v.useCallback(()=>m(!0),[]),onCustomAnchorRemove:v.useCallback(()=>m(!1),[]),modal:c,children:r})})};XN.displayName=nf;var JN="PopoverAnchor",Q7=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=di(JN,r),a=fc(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return v.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(GN,{...a,...n,ref:t})});Q7.displayName=JN;var QN="PopoverTrigger",ZN=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=di(QN,r),a=fc(r),c=_t(t,o.triggerRef),u=s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":sC(o.open),...n,ref:c,onClick:qe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:s.jsx(GN,{asChild:!0,...a,children:u})});ZN.displayName=QN;var og="PopoverPortal",[Z7,eU]=KN(og,{forceMount:void 0}),eC=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,a=di(og,t);return s.jsx(Z7,{scope:t,forceMount:r,children:s.jsx(On,{present:r||a.open,children:s.jsx(Bd,{asChild:!0,container:o,children:n})})})};eC.displayName=og;var pa="PopoverContent",tC=v.forwardRef((e,t)=>{const r=eU(pa,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=di(pa,e.__scopePopover);return s.jsx(On,{present:n||a.open,children:a.modal?s.jsx(rU,{...o,ref:t}):s.jsx(nU,{...o,ref:t})})});tC.displayName=pa;var tU=ca("PopoverContent.RemoveScroll"),rU=v.forwardRef((e,t)=>{const r=di(pa,e.__scopePopover),n=v.useRef(null),o=_t(t,n),a=v.useRef(!1);return v.useEffect(()=>{const c=n.current;if(c)return Cv(c)},[]),s.jsx(Nv,{as:tU,allowPinchZoom:!0,children:s.jsx(rC,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),a.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),nU=v.forwardRef((e,t)=>{const r=di(pa,e.__scopePopover),n=v.useRef(!1),o=v.useRef(!1);return s.jsx(rC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),rC=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...p}=e,x=di(pa,r),y=fc(r);return c1(),s.jsx(jv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Ud,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(K7,{"data-state":sC(x.open),role:"dialog",id:x.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nC="PopoverClose",sU=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=di(nC,r);return s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,()=>o.onOpenChange(!1))})});sU.displayName=nC;var iU="PopoverArrow",oU=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=fc(r);return s.jsx(X7,{...o,...n,ref:t})});oU.displayName=iU;function sC(e){return e?"open":"closed"}var aU=XN,lU=ZN,cU=eC,iC=tC;const Kl=aU,Xl=lU,va=me.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(cU,{children:s.jsx(iC,{ref:o,align:t,sideOffset:r,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));va.displayName=iC.displayName;var uU=v.createContext(void 0);function ag(e){const t=v.useContext(uU);return e||t||"ltr"}var Vm="rovingFocusGroup.onEntryFocus",dU={bubbles:!1,cancelable:!0},hc="RovingFocusGroup",[Ip,oC,fU]=H1(hc),[hU,sf]=Rn(hc,[fU]),[mU,pU]=hU(hc),aC=v.forwardRef((e,t)=>s.jsx(Ip.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ip.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vU,{...e,ref:t})})}));aC.displayName=hc;var vU=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=v.useRef(null),y=_t(t,x),j=ag(a),[w,_]=Xi({prop:c,defaultProp:u??null,onChange:f,caller:hc}),[N,C]=v.useState(!1),k=fn(h),T=oC(r),D=v.useRef(!1),[P,E]=v.useState(0);return v.useEffect(()=>{const R=x.current;if(R)return R.addEventListener(Vm,k),()=>R.removeEventListener(Vm,k)},[k]),s.jsx(mU,{scope:r,orientation:n,dir:j,loop:o,currentTabStopId:w,onItemFocus:v.useCallback(R=>_(R),[_]),onItemShiftTab:v.useCallback(()=>C(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:v.useCallback(()=>E(R=>R-1),[]),children:s.jsx(Ke.div,{tabIndex:N||P===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{D.current=!0}),onFocus:qe(e.onFocus,R=>{const $=!D.current;if(R.target===R.currentTarget&&$&&!N){const H=new CustomEvent(Vm,dU);if(R.currentTarget.dispatchEvent(H),!H.defaultPrevented){const te=T().filter(F=>F.focusable),Z=te.find(F=>F.active),Y=te.find(F=>F.id===w),B=[Z,Y,...te].filter(Boolean).map(F=>F.ref.current);uC(B,m)}}D.current=!1}),onBlur:qe(e.onBlur,()=>C(!1))})})}),lC="RovingFocusGroupItem",cC=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:c,...u}=e,f=ea(),h=a||f,m=pU(lC,r),p=m.currentTabStopId===h,x=oC(r),{onFocusableItemAdd:y,onFocusableItemRemove:j,currentTabStopId:w}=m;return v.useEffect(()=>{if(n)return y(),()=>j()},[n,y,j]),s.jsx(Ip.ItemSlot,{scope:r,id:h,focusable:n,active:o,children:s.jsx(Ke.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:qe(e.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:qe(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:qe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=yU(_,m.orientation,m.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=x().filter(T=>T.focusable).map(T=>T.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const T=k.indexOf(_.currentTarget);k=m.loop?wU(k,T+1):k.slice(T+1)}setTimeout(()=>uC(k))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:w!=null}):c})})});cC.displayName=lC;var gU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yU(e,t,r){const n=xU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gU[n]}function uC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function wU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var dC=aC,fC=cC,lg="Radio",[bU,hC]=Rn(lg),[jU,_U]=bU(lg),mC=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[p,x]=v.useState(null),y=_t(t,_=>x(_)),j=v.useRef(!1),w=p?h||!!p.closest("form"):!0;return s.jsxs(jU,{scope:r,checked:o,disabled:c,children:[s.jsx(Ke.button,{type:"button",role:"radio","aria-checked":o,"data-state":xC(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:y,onClick:qe(e.onClick,_=>{o||f==null||f(),w&&(j.current=_.isPropagationStopped(),j.current||_.stopPropagation())})}),w&&s.jsx(gC,{control:p,bubbles:!j.current,name:n,value:u,checked:o,required:a,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});mC.displayName=lg;var pC="RadioIndicator",vC=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=_U(pC,r);return s.jsx(On,{present:n||a.checked,children:s.jsx(Ke.span,{"data-state":xC(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});vC.displayName=pC;var SU="RadioBubbleInput",gC=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},a)=>{const c=v.useRef(null),u=_t(c,a),f=dN(r),h=qv(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==r&&y){const j=new Event("click",{bubbles:n});y.call(m,r),m.dispatchEvent(j)}},[f,r,n]),s.jsx(Ke.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gC.displayName=SU;function xC(e){return e?"checked":"unchecked"}var NU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],of="RadioGroup",[CU,xV]=Rn(of,[sf,hC]),yC=sf(),wC=hC(),[kU,PU]=CU(of),bC=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:p,...x}=e,y=yC(r),j=ag(h),[w,_]=Xi({prop:a,defaultProp:o??"",onChange:p,caller:of});return s.jsx(kU,{scope:r,name:n,required:c,disabled:u,value:w,onValueChange:_,children:s.jsx(dC,{asChild:!0,...y,orientation:f,dir:j,loop:m,children:s.jsx(Ke.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:j,...x,ref:t})})})});bC.displayName=of;var jC="RadioGroupItem",_C=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=PU(jC,r),c=a.disabled||n,u=yC(r),f=wC(r),h=v.useRef(null),m=_t(t,h),p=a.value===o.value,x=v.useRef(!1);return v.useEffect(()=>{const y=w=>{NU.includes(w.key)&&(x.current=!0)},j=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",j)}},[]),s.jsx(fC,{asChild:!0,...u,focusable:!c,active:p,children:s.jsx(mC,{disabled:c,required:a.required,checked:p,...f,...o,name:a.name,ref:m,onCheck:()=>a.onValueChange(o.value),onKeyDown:qe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:qe(o.onFocus,()=>{var y;x.current&&((y=h.current)==null||y.click())})})})});_C.displayName=jC;var EU="RadioGroupIndicator",SC=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=wC(r);return s.jsx(vC,{...o,...n,ref:t})});SC.displayName=EU;var NC=bC,CC=_C,TU=SC;const af=me.forwardRef(({className:e,...t},r)=>s.jsx(NC,{className:Pe("grid gap-2",e),...t,ref:r}));af.displayName=NC.displayName;const Qs=me.forwardRef(({className:e,...t},r)=>s.jsx(CC,{ref:r,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(TU,{className:"flex items-center justify-center",children:s.jsx(l$,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Qs.displayName=CC.displayName;const AU=({onDeliveryChange:e})=>{const[t,r]=v.useState("express"),[n,o]=v.useState(null),[a,c]=v.useState(""),[u,f]=v.useState([]),[h,m]=v.useState({express:0,scheduled:0}),[p,x]=v.useState(!0),[y,j]=v.useState(!1),[w,_]=v.useState(ja);v.useEffect(()=>{(async()=>{x(!0);try{const{data:D,error:P}=await ce.from("delivery_settings").select("express_fee, scheduled_fee, timezone").eq("id",1).single();if(P&&P.code!=="PGRST116")throw P;m({express:(D==null?void 0:D.express_fee)||9.99,scheduled:(D==null?void 0:D.scheduled_fee)||5.99}),D!=null&&D.timezone&&_(D.timezone)}catch(D){console.error("Error fetching delivery settings:",D),m({express:9.99,scheduled:5.99})}finally{x(!1)}})()},[]),v.useEffect(()=>{n&&t==="scheduled"&&N(n)},[n,t,w]),v.useEffect(()=>{let T=0,D=null,P=null;if(t==="express")T=h.express;else if(t==="scheduled"&&a){T=h.scheduled;const E=u.find(R=>R.id===a);E&&(D=new Date(E.date+"T"+E.start_time).toISOString(),P=E.id)}e({type:t,fee:T,scheduledTime:D,timeslot_id:P})},[t,a,h,u,e]);const N=async T=>{j(!0);try{const D=Ut(T,w),{data:P,error:E}=await ce.from("time_slots").select("*").eq("date",D).eq("is_active",!0).order("start_time");if(E)throw E;f(P||[]),c("")}catch(D){console.error("Error fetching time slots:",D),f([])}finally{j(!1)}},C=T=>{o(T),c("")},k=T=>{const D=Cn(w),P=Ut(D,w);return Ut(T,w)<P};return s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Delivery Options"}),s.jsxs(af,{value:t,onValueChange:r,children:[s.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsx(Qs,{value:"express",id:"express"}),s.jsxs(oe,{htmlFor:"express",className:"flex-1 cursor-pointer",children:["Express Delivery (ASAP)",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Se(h.express)}`})]})]}),s.jsxs("div",{className:"flex flex-col space-y-4 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qs,{value:"scheduled",id:"scheduled"}),s.jsxs(oe,{htmlFor:"scheduled",className:"flex-1 cursor-pointer",children:["Schedule Delivery",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Se(h.scheduled)}`})]})]}),t==="scheduled"&&s.jsxs(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"pl-6 space-y-4",children:[s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(Q,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),n?Rt(n,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(va,{className:"w-auto p-0",children:s.jsx(ma,{mode:"single",selected:n,onSelect:C,initialFocus:!0,disabled:k})})]}),n&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Available Time Slots"}),y?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(Vt,{value:a,onValueChange:c,children:[s.jsxs(At,{children:[s.jsx(dn,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{placeholder:"Select a time slot"})]}),s.jsx(Dt,{children:u.map(T=>s.jsxs(De,{value:T.id,children:[Qo(T.start_time)," - ",Qo(T.end_time)]},T.id))})]})]})]})]})]})]})},kC=({subtotal:e,onPromoApplied:t,appliedPromo:r,onPromoRemoved:n})=>{const[o,a]=v.useState(""),[c,u]=v.useState(!1),f=async()=>{if(!o.trim()){ne({variant:"destructive",title:"Error",description:"Please enter a promo code"});return}u(!0);try{const{data:m,error:p}=await ce.from("promo_codes").select("*").eq("code",o.toUpperCase()).eq("is_active",!0).single();if(p||!m){ne({variant:"destructive",title:"Invalid Code",description:"Promo code not found or expired"});return}const x=new Date,y=new Date(m.valid_from),j=m.valid_until?new Date(m.valid_until):null;if(x<y){ne({variant:"destructive",title:"Invalid Code",description:"This promo code is not yet active"});return}if(j&&x>j){ne({variant:"destructive",title:"Expired Code",description:"This promo code has expired"});return}if(m.max_uses&&m.current_uses>=m.max_uses){ne({variant:"destructive",title:"Code Limit Reached",description:"This promo code has reached its usage limit"});return}if(m.minimum_order_amount&&e<m.minimum_order_amount){ne({variant:"destructive",title:"Minimum Order Required",description:`Minimum order of ${Se(m.minimum_order_amount)} required for this promo code`});return}let w=0;m.discount_type==="percentage"?w=e*m.discount_value/100:w=m.discount_value,w=Math.min(w,e),t({code:m.code,description:m.description,discountType:m.discount_type,discountValue:m.discount_value,discountAmount:w}),ne({title:"Promo Code Applied",description:`You saved ${Se(w)}!`}),a("")}catch(m){console.error("Error validating promo code:",m),ne({variant:"destructive",title:"Error",description:"Failed to validate promo code"})}finally{u(!1)}},h=()=>{n(),ne({title:"Promo Code Removed",description:"Promo code has been removed from your order"})};return r?s.jsx("div",{className:"p-4 border rounded-lg bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yv,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:r.code}),s.jsx("p",{className:"text-sm text-green-600",children:r.description}),s.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",Se(r.discountAmount)]})]})]}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:h,className:"text-green-600 hover:text-green-800",children:s.jsx(us,{className:"w-4 h-4"})})]})}):s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ye,{id:"promo-code",value:o,onChange:m=>a(m.target.value.toUpperCase()),placeholder:"Enter promo code",disabled:c}),s.jsx(Q,{onClick:f,disabled:c||!o.trim(),variant:"outline",children:c?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Apply"})]})})},DU=()=>{const{cart:e,getCartTotal:t,clearCart:r}=cs(),{addOrder:n}=gv(),{user:o,updateUserInfo:a}=Xt(),c=Ht(),[u,f]=v.useState(!1),[h,m]=v.useState({type:"express",fee:0,scheduledTime:null,timeslot_id:null}),[p,x]=v.useState({name:"",email:"",phone:"",address:"",deliveryNotes:""}),[y,j]=v.useState({}),[w,_]=v.useState(!1),[N,C]=v.useState(!1),[k,T]=v.useState({name:"",address:"",postcode:""}),[D,P]=v.useState([]),[E,R]=v.useState([]),[$,H]=v.useState(""),[te,Z]=v.useState(!1),[Y,L]=v.useState(null),[B,F]=v.useState(3),[W,M]=v.useState("");v.useEffect(()=>{const ie=async()=>{try{const{data:Ue,error:Ze}=await ce.from("delivery_settings").select("express_fee,service_fee_percent").eq("id",1).single();if(Ze&&Ze.code!=="PGRST116")throw Ze;m(or=>({...or,fee:(Ue==null?void 0:Ue.express_fee)||9.99})),F((Ue==null?void 0:Ue.service_fee_percent)||3)}catch(Ue){console.error("Error fetching initial delivery fee:",Ue),m(Ze=>({...Ze,fee:9.99})),F(3)}},be=async()=>{try{const Ue=await tf();P(Ue),R(Ue)}catch(Ue){console.error("Error fetching postcodes:",Ue)}},ze=()=>{if(o){const Ue=!o.name||!o.addresses||o.addresses.length===0;C(Ue),Ue||(document.cookie="accountSetup=true; max-age=86400")}};ie(),be(),ze()},[o]),v.useEffect(()=>{if($.length===0)R(D);else{const ie=D.filter(be=>be.suburb.toLowerCase().includes($.toLowerCase())||be.postcode.includes($));R(ie)}},[$,D]);const z=async ie=>{ie.preventDefault();try{await a({name:k.name,addresses:[{id:Date.now().toString(),label:"Default",address:k.address,postcode:k.postcode}]}),C(!1),document.cookie="accountSetup=true; max-age=86400",ne({title:"Success",description:"Account details updated successfully"})}catch(be){console.error("Error updating account:",be),ne({variant:"destructive",title:"Error",description:"Failed to update account details"})}},X=ie=>{T(be=>({...be,address:ie.address,postcode:ie.postcode.toString()})),H(`${ie.suburb.toUpperCase()}, ${ie.postcode}`)},O=ie=>{T(be=>({...be,postcode:ie.postcode})),H(`${ie.suburb}, ${ie.postcode}`),Z(!1)},q=v.useCallback(ie=>{m(ie)},[]),ee=v.useCallback(ie=>{x(ie)},[]),de=ie=>{L(ie)},pe=()=>{L(null)},he=()=>{const ie=Number(t()||0),be=Number(h.fee||0);return parseFloat((ie+be).toFixed(2))},re=()=>Number(Y?Y.discountAmount:0),se=()=>{const ie=he();return parseFloat((ie*(B/100)).toFixed(2))},ge=()=>{const ie=he(),be=re(),ze=se(),Ue=ie-be+ze;return parseFloat(Ue.toFixed(2))};if(e.length===0&&!u)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Your cart is empty"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Add products to checkout."}),s.jsx(Q,{className:"mt-4",onClick:()=>c("/shop"),children:"Continue Shopping"})]})});const xe={customer_name:p.name,customer_email:p.email,customer_phone:p.phone,customer_address:p.address,customer_postcode:p.postcode,customer_city:p.city,delivery_notes:p.deliveryNotes,delivery_type:h.type,scheduled_delivery_time:h.scheduledTime,timeslot_id:h.timeslot_id,promo_code:(Y==null?void 0:Y.code)||null,discount_amount:re(),fees_data:{delivery_fee:h.fee,service_fee:se(),total:ge(),serviceFeePercent:B}};return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight mb-8",children:["Checkout ",s.jsx(ti,{style:{display:"inline"}})]}),s.jsx("div",{children:s.jsxs(Te,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1 mb-4",style:{textDecoration:"none"},children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_350px]",children:[s.jsx("div",{className:"space-y-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o?N?s.jsxs("div",{className:"p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Complete Your Account Details"}),s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",value:k.name,onChange:ie=>T(be=>({...be,name:ie.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"address",children:"Delivery Address"}),s.jsx(ef,{value:k.address,onChange:ie=>T(be=>({...be,address:ie})),onAddressSelect:X,placeholder:"Start typing your address...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"postcode",placeholder:"Search suburb or postcode...",value:$,onChange:ie=>{H(ie.target.value),Z(!0)},onFocus:()=>Z(!0),required:!0}),te&&E.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:E.slice(0,10).map(ie=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>O(ie),children:[s.jsx("div",{className:"text-sm font-medium",children:ie.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:ie.postcode})]},`${ie.suburb}-${ie.postcode}`))})]})]}),s.jsx(Q,{type:"submit",children:"Save Details"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(R5,{onDetailsChange:ee,errors:y}),s.jsx(AU,{onDeliveryChange:q}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Promo Code"}),s.jsx(kC,{subtotal:he(),onPromoApplied:de,appliedPromo:Y,onPromoRemoved:pe})]})]}):s.jsxs("div",{className:"mt-6 p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sign in to Continue"}),s.jsx(Wd,{onSuccess:()=>{}})]})})}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"lg:sticky lg:top-20",children:s.jsx(I5,{deliveryFee:h.fee,appliedPromo:Y,discountAmount:re(),serviceFeePercent:B,serviceFee:se()})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"terms",checked:w,onCheckedChange:_}),s.jsxs(oe,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Te,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Te,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]})]})]}),s.jsx("div",{className:"flex justify-center w-full mt-8 mb-4",children:s.jsxs(Q,{className:"w-full max-w-xl text-base h-12 md:h-12 md:text-lg shadow-lg",onClick:()=>c("/stripe-payment",{state:{orderData:xe,deliveryFee:h.fee,finalTotal:ge(),serviceFee:se(),discountAmount:re()}}),disabled:!o||!w||N||p.address.length===0||he()<=0||u,children:["Proceed to Payment  ",s.jsx(wa,{})]})})]})},RU=["Changed my mind","Found a better price","Ordered by mistake","Need to change address/time","Other"],PC=({open:e,onClose:t,onConfirm:r,loading:n})=>{const[o,a]=v.useState(""),[c,u]=v.useState(""),f=()=>{const h=o==="Other"?c:o;h&&r(h)};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Cancel Order"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cancelling your order may incur a cancellation fee. Please select a reason:"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[RU.map(h=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"cancel-reason",value:h,checked:o===h,onChange:()=>a(h)}),s.jsx("span",{children:h})]},h)),o==="Other"&&s.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1 mt-1",placeholder:"Enter reason",value:c,onChange:h=>u(h.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Q,{variant:"outline",onClick:t,disabled:n,children:"Close"}),s.jsx(Q,{variant:"destructive",onClick:f,disabled:n||!o||o==="Other"&&!c,children:n?"Cancelling...":"Confirm Cancellation"})]})]})}):null},EC=({orderId:e,fetchMessages:t,sendMessage:r,disabled:n,initialMessages:o=[]})=>{const[a,c]=v.useState(o),[u,f]=v.useState(""),[h,m]=v.useState(!1),p=v.useRef();v.useEffect(()=>{const y=async()=>{const j=await t();c(j)};return y(),p.current=setInterval(y,3e4),()=>clearInterval(p.current)},[e,t]);const x=async()=>{if(!u.trim()||h)return;m(!0),await r(u.trim()),f("");const y=await t();c(y),m(!1)};return s.jsxs("div",{className:"p-4 border rounded bg-white shadow-sm",children:[s.jsx("h1",{className:"text-lg font-semibold mb-4",children:"Order Messages"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-2",children:a.length>0?a.map((y,j)=>s.jsxs("div",{className:`p-3 rounded text-sm ${y.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:y.from==="admin"?"Support Team":"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(y.timestamp).toLocaleString()})]}),s.jsx("p",{children:y.message})]},j)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),!n&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block font-medium",children:"Send a message:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(dr,{value:u,onChange:y=>f(y.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(Q,{onClick:x,disabled:!u.trim()||h,size:"sm",children:h?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(ic,{className:"w-4 h-4"})})]})]})]})},OU=()=>{const{id:e}=Nd(),[t,r]=v.useState(null),[n,o]=v.useState(!0),[a,c]=v.useState(null),[u,f]=v.useState(!1),[h,m]=v.useState(null),[p,x]=v.useState(""),[y,j]=v.useState(!1),[w,_]=v.useState(!1);v.useEffect(()=>{(async()=>{if(e)try{const{data:R,error:$}=await ce.from("orders").select("*").eq("id",e).single();if($)throw $;if(R)if(r(R),R.expected_delivery_at===null){let H=new Date().getTime(),te=new Date(H+45*60*1e3);c(te)}else c(new Date(R.expected_delivery_at))}catch(R){console.error("Error fetching order:",R)}finally{o(!1)}})()},[e]);const N=E=>{if(!E)return"N/A";const R=new Date(E);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(R)},C=()=>{if(!t)return null;const E={pending:{color:"text-yellow-500",bgColor:"bg-yellow-100",icon:dn,title:"Order Pending",description:a?`Estimated delivery by ${N(a)}`:"Processing your order"},processing:{color:"text-blue-500",bgColor:"bg-blue-100",icon:Wr,title:"Order Processing",description:"Your order is being processed. "+(a?`Estimated delivery by ${N(a)}`:"")},delivered:{color:"text-green-500",bgColor:"bg-green-100",icon:Bl,title:"Order Delivered",description:"Your order has been delivered"},cancelled:{color:"text-red-500",bgColor:"bg-red-100",icon:o$,title:"Order Cancelled",description:"This order has been cancelled"}};return E[t.status]||E.pending},k=t&&["pending","processing"].includes(t.status),T=async E=>{f(!0),m(null);try{const{error:R}=await ce.from("orders").update({status:"cancelled",cancel_reason:E}).eq("id",t.id);if(R)throw R;r({...t,status:"cancelled",cancel_reason:E}),_(!1)}catch{m("Failed to cancel order. Please try again.")}finally{f(!1)}};if(n)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})});if(!t)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The order you're looking for doesn't exist."}),s.jsx(Te,{to:"/shop",children:s.jsx(Q,{className:"mt-4",children:"Continue Shopping"})})]})});const D=C(),P=D.icon;return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{children:s.jsx(Te,{to:"/account",children:s.jsxs(Q,{variant:"ghost",className:"mb-4 text-sm text-muted-foreground hover:text-foreground",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Return to Account"]})})}),s.jsxs(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(je.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`mx-auto w-24 h-24 rounded-full ${D.bgColor} flex items-center justify-center mb-4`,children:s.jsx(P,{className:`w-12 h-12 ${D.color}`})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:D.title}),s.jsx("p",{className:"text-muted-foreground",children:D.description})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-0 top-1/2 w-full h-1 bg-muted transform -translate-y-1/2",children:s.jsx("div",{className:`h-full bg-primary transition-all duration-500 ${t.status==="pending"?"w-1/3":t.status==="processing"?"w-2/3":t.status==="delivered"?"w-full":"w-0"}`})}),s.jsxs("div",{className:"relative flex justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending","processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Bl,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Confirmed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Processing"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.status==="delivered"?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Ld,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Delivered"})]})]})]})}),s.jsxs("div",{className:"mt-8 p-6 border rounded-lg text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Order #",t.id.slice(0,6).toUpperCase()]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${D.bgColor} ${D.color}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:N(t.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Address"}),s.jsx("p",{className:"font-medium",children:t.customer_address})]}),t.delivery_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Notes"}),s.jsx("p",{className:"font-medium",children:t.delivery_notes})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:t.items.map((E,R)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:E.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se(E.price)," x ",E.quantity]})]}),s.jsx("p",{className:"font-medium",children:Se(E.price*E.quantity)})]},R))}),s.jsxs("div",{className:"space-y-3",children:[t.fees_data&&t.fees_data.delivery_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:Se(t.fees_data.delivery_fee)})]}),t.fees_data&&t.fees_data.service_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",t.fees_data.serviceFeePercent,"%)"]}),s.jsx("span",{children:Se(t.fees_data.service_fee)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-bold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Se(t.total)})]})]})]}),s.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(Te,{to:"/shop",children:s.jsx(Q,{variant:"outline",children:"Continue Shopping"})}),s.jsx(Te,{to:"/account/orders",children:s.jsxs(Q,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"View All Orders"]})})]}),k&&s.jsxs("div",{className:"mt-4 flex justify-center",children:[s.jsx(Q,{variant:"destructive",className:"w-full max-w-xs",onClick:()=>_(!0),disabled:u,children:"Cancel Order"}),s.jsx(PC,{open:w,onClose:()=>_(!1),onConfirm:T,loading:u})]}),h&&s.jsx("div",{className:"mt-4 text-red-500 text-center",children:h}),t.payment_status==="paid"&&t.payment_data&&s.jsxs("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded",children:[s.jsx("div",{className:"font-medium mb-1 text-green-800",children:"Payment Details:"}),s.jsx("pre",{className:"text-xs text-green-900 whitespace-pre-wrap break-all",children:JSON.stringify(t.payment_data,null,2)})]}),s.jsx(EC,{orderId:t.id,initialMessages:t.admin_messages||[],fetchMessages:async()=>{const{data:E}=await ce.from("orders").select("admin_messages").eq("id",t.id).single();return(E==null?void 0:E.admin_messages)||[]},sendMessage:async E=>{const R=t.admin_messages||[];await ce.from("orders").update({admin_messages:[...R,{from:"customer",message:E,timestamp:new Date().toISOString()}]}).eq("id",t.id)},disabled:t.status==="cancelled"||t.status==="delivered"})]})]})},$U=()=>{const[e,t]=v.useState({email:"",password:""}),[r,n]=v.useState({}),[o,a]=v.useState(!1),{login:c,loading:u,logout:f}=Xt(),h=Ht(),m=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),r[j]&&n(_=>({..._,[j]:""}))},p=()=>{const y={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(y.email="Email is invalid"):y.email="Email is required",e.password.trim()||(y.password="Password is required"),n(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!p()||o||u)return;a(!0);const{success:j,isAdminUser:w,error:_}=await c(e.email,e.password);j?w?(h("/admin"),ne({title:"Admin Access Granted",description:"Welcome to the Admin Dashboard."})):(ne({variant:"destructive",title:"Access Denied",description:"You do not have admin privileges. Logging out."}),await f()):_&&_!=="Invalid login credentials"&&ne({variant:"destructive",title:"Login Failed",description:_}),a(!1)};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"admin-email",children:"Admin Email"}),s.jsx(ye,{id:"admin-email",name:"email",type:"email",value:e.email,onChange:m,placeholder:"admin_master@groceroo.com.au",className:`${r.email?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"admin-password",children:"Admin Password"}),s.jsx(ye,{id:"admin-password",name:"password",type:"password",value:e.password,onChange:m,placeholder:"",className:`${r.password?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx(Te,{to:"/forgot-password",className:`text-muted-foreground hover:text-destructive ${o||u?"pointer-events-none opacity-50":""}`,children:"Forgot password?"})}),s.jsx(Q,{type:"submit",variant:"destructive",className:"w-full",disabled:o||u,children:o||u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-destructive-foreground border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):"Sign In to Admin Portal"})]})},MU=()=>s.jsx("div",{className:"container flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col items-center mb-8 text-center",children:[s.jsx(W$,{className:"w-12 h-12 mb-4 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold text-destructive",children:"Admin Portal"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Authorized personnel access only."})]}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"p-6 border-2 border-destructive/30 rounded-lg shadow-xl bg-card",children:s.jsx($U,{})}),s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Not an admin? Return to"," ",s.jsx(Te,{to:"/",className:"text-primary hover:underline",children:"Homepage"})," ","or"," ",s.jsx(Te,{to:"/login",className:"text-primary hover:underline",children:"Customer Login"}),"."]})})]})}),IU=()=>{const[e,t]=v.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[r,n]=v.useState({}),[o,a]=v.useState(!1),{register:c}=Xt(),u=Ht(),f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),r[x]&&n(j=>({...j,[x]:""}))},h=()=>{const p={};return e.name.trim()||(p.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(p.email="Email is invalid"):p.email="Email is required",e.phone.trim()||(p.phone="Phone number is required"),e.password.trim()?e.password.length<6&&(p.password="Password must be at least 6 characters"):p.password="Password is required",e.password!==e.confirmPassword&&(p.confirmPassword="Passwords do not match"),n(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h()||o)return;a(!0);const x=await c(e.email,e.password,e.name,e.phone);a(!1),x&&u("/login")};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Create an Account"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Sign up to start shopping with Groceroo"})]}),s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",name:"name",value:e.name,onChange:f,className:r.name?"border-destructive":"",disabled:o}),r.name&&s.jsx("p",{className:"text-xs text-destructive",children:r.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",name:"email",type:"email",value:e.email,onChange:f,className:r.email?"border-destructive":"",disabled:o}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",name:"phone",value:e.phone,onChange:f,className:r.phone?"border-destructive":"",disabled:o}),r.phone&&s.jsx("p",{className:"text-xs text-destructive",children:r.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"password",children:"Password"}),s.jsx(ye,{id:"password",name:"password",type:"password",value:e.password,onChange:f,className:r.password?"border-destructive":"",disabled:o}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(ye,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,className:r.confirmPassword?"border-destructive":"",disabled:o}),r.confirmPassword&&s.jsx("p",{className:"text-xs text-destructive",children:r.confirmPassword})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",s.jsx(Te,{to:"/login",className:`text-primary hover:underline ${o?"pointer-events-none opacity-50":""}`,children:"Sign in"})]})})]})]})})};var lf="Tabs",[LU,yV]=Rn(lf,[sf]),TC=sf(),[FU,cg]=LU(lf),AC=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=ag(u),[p,x]=Xi({prop:n,onChange:o,defaultProp:a??"",caller:lf});return s.jsx(FU,{scope:r,baseId:ea(),value:p,onValueChange:x,orientation:c,dir:m,activationMode:f,children:s.jsx(Ke.div,{dir:m,"data-orientation":c,...h,ref:t})})});AC.displayName=lf;var DC="TabsList",RC=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=cg(DC,r),c=TC(r);return s.jsx(dC,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Ke.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});RC.displayName=DC;var OC="TabsTrigger",$C=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,c=cg(OC,r),u=TC(r),f=LC(c.baseId,n),h=FC(c.baseId,n),m=n===c.value;return s.jsx(fC,{asChild:!0,...u,focusable:!o,active:m,children:s.jsx(Ke.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:t,onMouseDown:qe(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(n):p.preventDefault()}),onKeyDown:qe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(n)}),onFocus:qe(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!o&&p&&c.onValueChange(n)})})})});$C.displayName=OC;var MC="TabsContent",IC=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...c}=e,u=cg(MC,r),f=LC(u.baseId,n),h=FC(u.baseId,n),m=n===u.value,p=v.useRef(m);return v.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(On,{present:o||m,children:({present:x})=>s.jsx(Ke.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&a})})});IC.displayName=MC;function LC(e,t){return`${e}-trigger-${t}`}function FC(e,t){return`${e}-content-${t}`}var UU=AC,UC=RC,BC=$C,VC=IC;const ug=UU,cf=me.forwardRef(({className:e,...t},r)=>s.jsx(UC,{ref:r,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));cf.displayName=UC.displayName;const Ii=me.forwardRef(({className:e,...t},r)=>s.jsx(BC,{ref:r,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ii.displayName=BC.displayName;const Li=me.forwardRef(({className:e,...t},r)=>s.jsx(VC,{ref:r,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Li.displayName=VC.displayName;const BU=()=>{const{user:e,updateUserInfo:t}=Xt(),[r,n]=v.useState(!1),[o,a]=v.useState(null),[c,u]=v.useState({label:"",address:"",postcode:""}),[f,h]=v.useState(!1),[m,p]=v.useState([]),[x,y]=v.useState([]),[j,w]=v.useState(""),[_,N]=v.useState(!1),C=(e==null?void 0:e.addresses)||[];v.useEffect(()=>{(async()=>{try{const $=await tf();p($),y($)}catch($){console.error("Error fetching postcodes:",$)}})()},[]),v.useEffect(()=>{if(j.length===0)y(m);else{const R=m.filter($=>$.suburb.toLowerCase().includes(j.toLowerCase())||$.postcode.includes(j));y(R)}},[j,m]);const k=async R=>{if(R.preventDefault(),!c.label.trim()||!c.address.trim()||!c.postcode){ne({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}h(!0);try{let $;if(o)$=C.map(H=>H.id===o.id?{...H,label:c.label,address:c.address,postcode:c.postcode}:H);else{const H=Math.random().toString(36).substr(2,9);$=[...C,{id:H,label:c.label,address:c.address,postcode:c.postcode}]}await t({addresses:$}),n(!1),a(null),u({label:"",address:"",postcode:""}),w(""),ne({title:"Success",description:o?"Address updated":"Address added"})}catch($){console.error("Error saving address:",$),ne({variant:"destructive",title:"Error",description:"Could not save address"})}finally{h(!1)}},T=async R=>{try{const $=C.filter(H=>H.id!==R);await t({addresses:$}),ne({title:"Success",description:"Address deleted"})}catch($){console.error("Error deleting address:",$),ne({variant:"destructive",title:"Error",description:"Could not delete address"})}},D=R=>{u($=>({...$,address:R.address,postcode:R.postcode})),w(`${R.suburb.toUpperCase()}, ${R.postcode}`)},P=R=>{u($=>({...$,postcode:R.postcode})),w(`${R.suburb}, ${R.postcode}`),N(!1)},E=(R=null)=>{if(a(R),R){u({label:R.label,address:R.address,postcode:R.postcode});const $=m.find(H=>R.address.toUpperCase().includes(H.suburb.toUpperCase()));$&&w(`${$.suburb}, ${$.postcode}`)}else u({label:"",address:"",postcode:""}),w("");n(!0)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Saved Addresses"}),s.jsxs(hn,{open:r,onOpenChange:n,children:[s.jsx(ci,{asChild:!0,children:s.jsxs(Q,{onClick:()=>E(),children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Address"]})}),s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsx(Yr,{children:o?"Edit Address":"Add New Address"})}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"label",children:"Label"}),s.jsx(ye,{id:"label",placeholder:"e.g., Home, Work",value:c.label,onChange:R=>u($=>({...$,label:R.target.value})),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"address",children:"Address"}),s.jsx(ef,{value:c.address,onChange:R=>u($=>({...$,address:R})),onAddressSelect:D,placeholder:"Start typing your address...",disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"postcode",placeholder:"Search suburb or postcode...",value:j,onChange:R=>{w(R.target.value),N(!0)},onFocus:()=>N(!0),disabled:f}),_&&x.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:x.slice(0,10).map(R=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>P(R),children:[s.jsx("div",{className:"text-sm font-medium",children:R.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:R.postcode})]},`${R.suburb}-${R.postcode}`))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(Q,{type:"button",variant:"outline",onClick:()=>{n(!1),N(!1)},disabled:f,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Add"})]})]})]})]})]}),s.jsx("div",{className:"space-y-2",children:C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No addresses saved yet."}):C.map(R=>{const $=m.find(H=>H.postcode===R.postcode);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:R.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.address}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$?`${$.suburb}, ${$.postcode}`:R.postcode})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>E(R),children:s.jsx(M$,{className:"w-4 h-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>T(R.id),children:s.jsx(Gi,{className:"w-4 h-4"})})]})]},R.id)})})]})},ln=me.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ln.displayName="Card";const En=me.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));En.displayName="CardHeader";const Tn=me.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Tn.displayName="CardTitle";const Lp=me.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));Lp.displayName="CardDescription";const cn=me.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("p-6 pt-0",e),...t}));cn.displayName="CardContent";const VU=me.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex items-center p-6 pt-0",e),...t}));VU.displayName="CardFooter";const zC=({orders:e})=>{const t=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=n=>n?Rt(new Date(n),"PPP"):"N/A";return e.length===0?s.jsx(ln,{children:s.jsxs(cn,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Wr,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No upcoming orders"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your scheduled pickup orders will appear here."})]})}):s.jsx("div",{className:"space-y-2",children:e.map(n=>{var o,a;return s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(ln,{className:"py-2",children:[s.jsx(En,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Tn,{className:"text-base",children:["Order #",n.id.slice(0,6).toUpperCase()]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nt,{className:t(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),s.jsx(Te,{to:`/pickup-order/${n.id}`,children:s.jsx(Q,{variant:"ghost",size:"sm",children:s.jsx(q_,{className:"w-4 h-4"})})})]})]})}),s.jsxs(cn,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(un,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r(n.pickup_date)]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(dn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]})]}),s.jsxs("div",{className:"flex items-center text-xs",children:[s.jsx(li,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:(o=n.pickup_order_stores)==null?void 0:o.map((c,u)=>{var f;return s.jsx(nt,{variant:"outline",className:"text-xs",children:(f=c.stores)==null?void 0:f.name},u)})})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{className:"font-medium",children:Se(n.estimated_total)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Store Details:"}),s.jsx("div",{className:"space-y-1",children:(a=n.pickup_order_stores)==null?void 0:a.map((c,u)=>{var f;return s.jsxs("div",{className:"flex justify-between items-center text-xs bg-muted/30 p-1 rounded",children:[s.jsx("span",{children:(f=c.stores)==null?void 0:f.name}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:Se(c.estimated_total||0)}),s.jsx(nt,{variant:"outline",className:"text-xs",children:c.status})]})]},u)})})]}),n.photos&&n.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Photos:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[n.photos.slice(0,4).map((c,u)=>s.jsx("img",{src:c.data,alt:`Photo ${u+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(c.data,"_blank")},u)),n.photos.length>4&&s.jsxs("div",{className:"aspect-square rounded bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",n.photos.length-4," more"]})]})]}),s.jsx("div",{className:"flex justify-center pt-1",children:s.jsx(Te,{to:`/pickup-order/${n.id}`,children:s.jsx(Q,{size:"sm",children:"View Full Details"})})})]})]})},n.id)})})},zU=()=>{const{user:e,updateUserInfo:t,logout:r,loading:n}=Xt(),[o,a]=v.useState([]),[c,u]=v.useState([]),[f,h]=v.useState(!0),m=Ht(),[p,x]=ZP(),y=p.get("tab")||"profile",j=L=>{x({tab:L})},[w,_]=v.useState({name:"",email:"",phone:""}),[N,C]=v.useState({}),[k,T]=v.useState(!1);v.useEffect(()=>{n||(e?e&&(_({name:e.name||"",email:e.email||"",phone:e.phone||""}),D(e.id),P(e.id)):m("/"))},[e,n,m]);const D=async L=>{h(!0);try{const{data:B,error:F}=await ce.from("orders").select("*").eq("user_id",L).order("created_at",{ascending:!1});if(F)throw F;a(B||[])}catch(B){console.error("Error fetching orders:",B)}},P=async L=>{try{const{data:B,error:F}=await ce.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("user_id",L).order("created_at",{ascending:!1});if(F)throw F;u(B||[])}catch(B){console.error("Error fetching pickup orders:",B)}finally{h(!1)}},E=async(L,B)=>{try{const{data:F,error:W}=await ce.from("pickup_orders").select("admin_messages").eq("id",L).single();if(W)throw W;const M=F.admin_messages||[],z={from:"customer",message:B,timestamp:new Date().toISOString()},{error:X}=await ce.from("pickup_orders").update({admin_messages:[...M,z]}).eq("id",L);if(X)throw X;P(e.id)}catch(F){console.error("Error sending message:",F)}},R=L=>{const{name:B,value:F}=L.target;_(W=>({...W,[B]:F})),N[B]&&C(W=>({...W,[B]:""}))},$=()=>{const L={};return w.name.trim()||(L.name="Name is required"),w.email.trim()&&(/\S+@\S+\.\S+/.test(w.email)||(L.email="Email is invalid")),C(L),Object.keys(L).length===0},H=async L=>{if(L.preventDefault(),!(!$()||k)){T(!0);try{await t({name:w.name,email:w.email}),ne({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(B){console.error("Error updating profile:",B),ne({variant:"destructive",title:"Update Failed",description:B.message})}finally{T(!1)}}},te=async()=>{await r(),m("/")},Z=L=>{if(!L)return"N/A";const B=new Date(L);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(B)},Y=L=>{switch(L){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100"}};return n?s.jsx("div",{className:"container flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-3xl font-bold tracking-tight mb-6",children:["My Account ",s.jsx(yp,{style:{display:"inline"}})]}),s.jsxs(ug,{value:y,onValueChange:j,className:"space-y-6",children:[s.jsxs(cf,{className:"grid w-full grid-cols-3 md:w-auto md:inline-flex",children:[s.jsxs(Ii,{value:"profile",className:"flex items-center",children:[s.jsx(yp,{className:"w-4 h-4 mr-2"}),"Profile"]}),s.jsxs(Ii,{value:"orders",className:"flex items-center",children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Orders"]}),s.jsxs(Ii,{value:"grocery-runs",className:"flex items-center",children:[s.jsx(li,{className:"w-4 h-4 mr-2"}),"Grocery Runs"]})]}),s.jsxs(Li,{value:"profile",className:"space-y-6",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),s.jsxs("form",{onSubmit:H,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",name:"name",value:w.name,onChange:R,className:N.name?"border-destructive":"",disabled:k}),N.name&&s.jsx("p",{className:"text-xs text-destructive",children:N.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",name:"email",type:"email",value:w.email,onChange:R,className:N.email?"border-destructive":"",disabled:k}),N.email&&s.jsx("p",{className:"text-xs text-destructive",children:N.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",name:"phone",value:w.phone,className:"bg-muted/50",disabled:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone number cannot be changed."})]}),s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsx(Q,{type:"submit",disabled:k,children:k?"Saving...":"Save Changes"})})]})]}),s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:s.jsx(BU,{})}),s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Actions"}),s.jsxs(Q,{variant:"destructive",className:"flex items-center",onClick:te,disabled:k,children:[s.jsx(Y_,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),s.jsx(Li,{value:"orders",className:"space-y-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Orders"}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wr,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No delivery orders yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start shopping to place your first order."}),s.jsx(Te,{to:"/shop",children:s.jsx(Q,{className:"mt-4",children:"Start Shopping"})})]}):s.jsx("div",{className:"space-y-4",children:o.map(L=>s.jsx(Te,{to:`/order-confirmation/${L.id}`,className:"block p-4 border rounded-lg hover:bg-muted/30 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("h3",{className:"font-medium",children:["Order #",L.id.substring(0,6).toUpperCase(),"..."]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Y(L.status)}`,children:L.status.charAt(0).toUpperCase()+L.status.slice(1)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Z(L.created_at),"  ",Se(L.total)]})]}),s.jsx("div",{className:"mt-2 sm:mt-0 text-right",children:s.jsx("p",{className:"font-medium",children:Se(L.total)})})]})},L.id))})]})})}),s.jsx(Li,{value:"grocery-runs",className:"space-y-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Grocery Runs"}),s.jsx(Te,{to:"/grocery-run",children:s.jsx(Q,{children:"Schedule New"})})]}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx(zC,{orders:c,onSendMessage:E})]})})})]})]})},WU=({pendingCount:e,processingCount:t,deliveredCount:r})=>{const n=[{title:"Pending Orders",count:e,icon:Wr,color:"yellow"},{title:"Processing Orders",count:t,icon:K_,color:"blue"},{title:"Delivered Orders",count:r,icon:wv,color:"green"}],o={yellow:{bg:"bg-yellow-100/50",text:"text-yellow-600"},blue:{bg:"bg-blue-100/50",text:"text-blue-600"},green:{bg:"bg-green-100/50",text:"text-green-600"}};return s.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:n.map((a,c)=>s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*(c+1)},className:"p-6 border rounded-lg bg-card",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-full ${o[a.color].bg}`,children:s.jsx(a.icon,{className:`h-6 w-6 ${o[a.color].text}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:a.title}),s.jsx("h3",{className:"text-2xl font-bold",children:a.count})]})]})},a.title))})},HU=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,a]=v.useState("processing"),[c,u]=v.useState(""),[f,h]=v.useState(null),[m,p]=v.useState(!1),[x,y]=v.useState(""),[j,w]=v.useState(""),[_,N]=v.useState(!1),[C,k]=v.useState(ja);v.useEffect(()=>{T(),P();const Y=setInterval(()=>{P(!0)},6e4);return()=>clearInterval(Y)},[o]);const T=async()=>{try{const{data:Y,error:L}=await ce.from("delivery_settings").select("timezone").eq("id",1).single();!L&&(Y!=null&&Y.timezone)&&k(Y.timezone)}catch(Y){console.error("Error fetching timezone:",Y)}},D=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},P=async(Y=!1)=>{try{const{data:L,error:B}=await ce.from("orders").select("*").eq("status",o).order("created_at",{ascending:!1});if(B)throw B;Y&&e.length>0&&L.length>e.length&&(D(),ne({title:"New Order",description:"A new order has been received!"})),t(L||[])}catch(L){console.error("Error fetching orders:",L),ne({variant:"destructive",title:"Error",description:"Could not load orders."})}finally{n(!1)}},E=async(Y,L)=>{try{const{error:B}=await ce.from("orders").update({status:L}).eq("id",Y);if(B)throw B;ne({title:"Status Updated",description:`Order status changed to ${L}`}),P()}catch(B){console.error("Error updating order status:",B),ne({variant:"destructive",title:"Error",description:"Could not update order status."})}},R=async(Y,L)=>{const B=Cn(C);if(new Date(L)<=B){ne({variant:"destructive",title:"Invalid Time",description:"Delivery time cannot be in the past."});return}try{const{error:W}=await ce.from("orders").update({expected_delivery_at:L}).eq("id",Y);if(W)throw W;ne({title:"Delivery Time Updated",description:"Expected delivery time has been updated"}),P()}catch(W){console.error("Error updating delivery time:",W),ne({variant:"destructive",title:"Error",description:"Could not update delivery time."})}},$=async()=>{if(!(!j||!f)){N(!0);try{const{error:Y}=await ce.from("orders").update({payment_status:"confirmed",status:"processing",fees_data:{actual_amount:parseFloat(j),confirmed_at:new Date().toISOString()}}).eq("id",f.id);if(Y)throw Y;ne({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Se(parseFloat(j))}`}),w(""),P(),p(!1)}catch(Y){console.error("Error confirming payment:",Y),ne({variant:"destructive",title:"Error",description:"Could not confirm payment: "+Y.message})}finally{N(!1)}}},H=async()=>{if(!(!x.trim()||!f))try{const Y=f.admin_messages||[],L={from:"admin",message:x,timestamp:new Date().toISOString()},{error:B}=await ce.from("orders").update({admin_messages:[...Y,L]}).eq("id",f.id);if(B)throw B;ne({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),P(),h({...f,admin_messages:[...Y,L]})}catch(Y){console.error("Error sending message:",Y),ne({variant:"destructive",title:"Error",description:"Could not send message."})}},te=e.filter(Y=>{var B,F;return((B=Y.customer_name)==null?void 0:B.toLowerCase().includes(c.toLowerCase()))||((F=Y.customer_email)==null?void 0:F.toLowerCase().includes(c.toLowerCase()))||Y.id.toLowerCase().includes(c.toLowerCase())}),Z=Y=>{if(!Y)return"N/A";const L=new Date(Y);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(L)};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Orders Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:c,onChange:Y=>u(Y.target.value)})]}),s.jsxs(Vt,{value:o,onValueChange:a,children:[s.jsx(At,{className:"w-full md:w-[180px]",children:s.jsx(zt,{placeholder:"Filter by status"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"space-y-4",children:te.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx(Wr,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No orders found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your filters."})]}):te.map(Y=>{var L,B,F,W,M;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["Order #",Y.id.slice(0,6).toUpperCase()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z(Y.created_at)}),s.jsxs("p",{className:"text-sm",children:[Y.customer_name," - ",Y.customer_email]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:Se(Y.total)}),s.jsxs(hn,{open:m&&(f==null?void 0:f.id)===Y.id,onOpenChange:p,children:[s.jsx(ci,{asChild:!0,children:s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>h(Y),children:"View Details"})}),s.jsxs(Hr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(qr,{children:s.jsxs(Yr,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6).toUpperCase()]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",f.customer_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",f.customer_email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.customer_phone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.customer_address]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"})," ",f.delivery_notes]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",f.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",f.payment_status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total:"})," ",Se(f.total)]}),((L=f.fees_data)==null?void 0:L.delivery_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee:"})," ",Se((B=f.fees_data)==null?void 0:B.delivery_fee)]}),((F=f.fees_data)==null?void 0:F.service_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Service Fee:"})," ",Se(f.fees_data.service_fee)]}),f.discount_amount>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Discount:"})," -",Se(f.discount_amount)]}),f.promo_code&&s.jsxs("p",{children:[s.jsx("strong",{children:"Promo Code:"})," ",f.promo_code]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Update Status"}),s.jsxs(Vt,{value:f.status,onValueChange:z=>E(f.id,z),children:[s.jsx(At,{children:s.jsx(zt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Expected Delivery Time"}),s.jsx(ye,{type:"datetime-local",value:f.expected_delivery_at?new Date(f.expected_delivery_at).toISOString().slice(0,16):"",onChange:z=>R(f.id,z.target.value)})]}),f.payment_status==="paid"&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(oe,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(ye,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:z=>w(z.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(Q,{onClick:$,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Bl,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),s.jsx("div",{className:"space-y-2",children:(W=f.items)==null?void 0:W.map((z,X)=>s.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[s.jsxs("span",{children:[z.name," x",z.quantity]}),s.jsx("span",{children:Se(z.price*z.quantity)})]},X))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(M=f.admin_messages)==null?void 0:M.map((z,X)=>s.jsxs("div",{className:`p-3 rounded text-sm ${z.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:z.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(z.timestamp).toLocaleString()})]}),s.jsx("p",{children:z.message})]},X))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(dr,{value:x,onChange:z=>y(z.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(Q,{onClick:H,disabled:!x.trim(),children:s.jsx(ic,{className:"w-4 h-4"})})]})]})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Vt,{value:Y.status,onValueChange:z=>E(Y.id,z),children:[s.jsx(At,{className:"w-[130px]",children:s.jsx(zt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y.delivery_type,"  ",Y.customer_address]})]})]},Y.id)})})]})},eo=me.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Pe("w-full caption-bottom text-sm",e),...t})}));eo.displayName="Table";const to=me.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Pe("[&_tr]:border-b",e),...t}));to.displayName="TableHeader";const ro=me.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Pe("[&_tr:last-child]:border-0",e),...t}));ro.displayName="TableBody";const qU=me.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qU.displayName="TableFooter";const Ot=me.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ot.displayName="TableRow";const Ve=me.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ve.displayName="TableHead";const Fe=me.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableCell";const YU=me.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Pe("mt-4 text-sm text-muted-foreground",e),...t}));YU.displayName="TableCaption";const dg=(e="groceroo_images")=>{const[t,r]=v.useState(!1),[n,o]=v.useState(null);return{isUploading:t,uploadError:n,uploadFile:async(u,f="")=>{if(!u)return{url:null,error:null};r(!0),o(null);const h=u.name.split(".").pop(),m=`${Date.now()}.${h}`,p=f?`${f}/${m}`:m;try{const{data:x,error:y}=await ce.storage.from(e).upload(p,u);if(y)throw y;const{data:j}=ce.storage.from(e).getPublicUrl(p);return r(!1),{url:j.publicUrl,error:null}}catch(x){return console.error(`Error uploading file to ${e}:`,x),o(x.message),ne({variant:"destructive",title:"Upload Failed",description:x.message}),r(!1),{url:null,error:x.message}}},deleteFile:async u=>{if(!u)return{success:!0,error:null};const f=u.split("/"),h=f.findIndex(p=>p===e);if(h===-1||h===f.length-1)return console.warn("Could not parse file path from URL:",u),{success:!1,error:"Could not parse file path"};const m=f.slice(h+1).join("/");if(!m)return console.warn("Empty file path extracted from URL:",u),{success:!1,error:"Empty file path"};try{const{error:p}=await ce.storage.from(e).remove([m]);if(p)throw p;return console.log(`Successfully deleted file ${m} from ${e}.`),{success:!0,error:null}}catch(p){return console.error(`Error deleting file ${m}:`,p),ne({variant:"destructive",title:"Deletion Error",description:`Could not delete file: ${p.message}`}),{success:!1,error:p.message}}}}},GU=({product:e,categories:t,onSubmit:r,onCancel:n})=>{const[o,a]=v.useState({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),[c,u]=v.useState({}),[f,h]=v.useState(null),[m,p]=v.useState(""),x=v.useRef(null),{isUploading:y,uploadFile:j,deleteFile:w}=dg();v.useEffect(()=>{e?(a({name:e.name||"",price:e.price||"",unit:e.unit||"",category_id:e.category_id?String(e.category_id):"",description:e.description||"",image_url:e.image_url||"",in_stock:e.in_stock!==void 0?e.in_stock:!0,featured:e.featured!==void 0?e.featured:!1,categories_ids:e.categories_ids||[]}),p(e.image_url||"")):(a({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),p(""),h(null))},[e]);const _=E=>{const{name:R,value:$,type:H,checked:te}=E.target;a(Z=>({...Z,[R]:H==="checkbox"?te:$})),c[R]&&u(Z=>({...Z,[R]:""}))},N=(E,R)=>{a($=>({...$,[E]:R})),c[E]&&u($=>({...$,[E]:""}))},C=E=>{const R=E.target.files[0];if(R){h(R);const $=new FileReader;$.onloadend=()=>p($.result),$.readAsDataURL(R),u(H=>({...H,image_url:""}))}},k=async()=>{let E=o.image_url||null;if(f){e&&e.image_url&&await w(e.image_url);const{url:R,error:$}=await j(f,"products");if($)return u(H=>({...H,image_url:"Image upload failed. Please try again."})),null;E=R}return E},T=()=>{const E={};return o.name.trim()||(E.name="Name is required"),(!o.price||isNaN(o.price)||parseFloat(o.price)<=0)&&(E.price="Valid price is required"),o.unit.trim()||(E.unit="Unit is required"),o.category_id||(E.category_id="Category is required"),o.description.trim()||(E.description="Description is required"),u(E),Object.keys(E).length===0},D=async E=>{if(E.preventDefault(),!T()||y)return;const R=await k();if(f&&R===null){ne({variant:"destructive",title:"Submission Failed",description:"Product could not be saved due to image upload error."});return}const $={name:o.name,price:parseFloat(o.price),unit:o.unit,category_id:parseInt(o.category_id),description:o.description,image_url:R,in_stock:o.in_stock,featured:o.featured,updated_at:new Date,categories_ids:o.categories_ids};e!=null&&e.id&&($.id=e.id),r($)},P=E=>{const R=Array.from(E.target.selectedOptions);a($=>({...$,categories_ids:R.map(H=>parseInt(H.value))})),c.categories_ids&&u($=>({...$,categories_ids:""}))};return s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"product-image",children:"Product Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:m?s.jsx("img",{src:m,alt:"Product Preview",className:"object-cover w-full h-full"}):s.jsx($d,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(ye,{id:"product-image",type:"file",accept:"image/*",onChange:C,ref:x,className:"hidden",disabled:y}),s.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var E;return(E=x.current)==null?void 0:E.click()},disabled:y,children:[s.jsx(H_,{className:"w-4 h-4 mr-2"}),y?"Uploading...":f?"Change Image":"Upload Image"]})]}),c.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:c.image_url})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Product Name"}),s.jsx(ye,{id:"name",name:"name",value:o.name,onChange:_,className:c.name?"border-destructive":"",disabled:y}),c.name&&s.jsx("p",{className:"text-xs text-destructive",children:c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"price",children:"Price"}),s.jsx(ye,{id:"price",name:"price",type:"number",step:"0.01",value:o.price,onChange:_,className:c.price?"border-destructive":"",disabled:y}),c.price&&s.jsx("p",{className:"text-xs text-destructive",children:c.price})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"unit",children:"Unit (e.g., lb, bunch, each)"}),s.jsx(ye,{id:"unit",name:"unit",value:o.unit,onChange:_,className:c.unit?"border-destructive":"",disabled:y}),c.unit&&s.jsx("p",{className:"text-xs text-destructive",children:c.unit})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"category_id",children:"Category"}),s.jsxs(Vt,{value:o.category_id,onValueChange:E=>N("category_id",E),disabled:y,children:[s.jsx(At,{className:c.category_id?"border-destructive":"",children:s.jsx(zt,{placeholder:"Select category"})}),s.jsx(Dt,{children:t.map(E=>s.jsx(De,{value:String(E.id),children:E.name},E.id))})]}),c.category_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.category_id})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"categories_ids",children:"Other Categories"}),s.jsx("select",{id:"categories_ids",name:"categories_ids",multiple:!0,value:o.categories_ids.map(String),onChange:P,className:"w-full border rounded p-2 min-h-[40px]",disabled:y,children:t.filter(E=>String(E.id)!==o.category_id).map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple categories."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"description",children:"Description"}),s.jsx(dr,{id:"description",name:"description",value:o.description,onChange:_,className:c.description?"border-destructive":"",disabled:y}),c.description&&s.jsx("p",{className:"text-xs text-destructive",children:c.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"in_stock",name:"in_stock",checked:o.in_stock,onCheckedChange:E=>N("in_stock",E),disabled:y}),s.jsx(oe,{htmlFor:"in_stock",children:"In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"featured",name:"featured",checked:o.featured,onCheckedChange:E=>N("featured",E),disabled:y}),s.jsx(oe,{htmlFor:"featured",children:"Featured Product"})]})]}),s.jsxs(Ji,{children:[s.jsx(Q,{type:"button",variant:"outline",onClick:n,disabled:y,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:y,children:y?"Saving...":e?"Save Changes":"Add Product"})]})]})},KU=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState([]),[a,c]=v.useState(!0),[u,f]=v.useState(""),[h,m]=v.useState(!1),[p,x]=v.useState(null),[y,j]=v.useState(!1),w=v.useCallback(async()=>{c(!0);try{const{data:P,error:E}=await ce.from("products").select("*, categories(id, name)").order("name",{ascending:!0});if(E)throw E;r(P||[]);const{data:R,error:$}=await ce.from("categories").select("*").order("name",{ascending:!0});if($)throw $;o(R||[])}catch(P){console.error("Error fetching products or categories:",P),ne({variant:"destructive",title:"Fetch Error",description:"Could not load products or categories."})}finally{c(!1)}},[]);v.useEffect(()=>{w()},[w]);const _=v.useMemo(()=>{let P=[...t];if(u){const E=u.toLowerCase();P=P.filter(R=>{var $,H;return R.name.toLowerCase().includes(E)||(($=R.description)==null?void 0:$.toLowerCase().includes(E))||((H=R.categories)==null?void 0:H.name.toLowerCase().includes(E))})}return P},[t,u]),N=async P=>{c(!0);try{let E;if(p){const{data:R,error:$}=await ce.from("products").update({...P,category_id:P.category_id,categories_ids:P.categories_ids||[],updated_at:new Date}).eq("id",p.id).select("*, categories(id, name)").single();if($)throw $;E=R,ne({title:"Product Updated",description:`${E.name} has been updated.`})}else{const{data:R,error:$}=await ce.from("products").insert({...P,category_id:P.category_id,categories_ids:P.categories_ids||[]}).select("*, categories(id, name)").single();if($)throw $;E=R,ne({title:"Product Added",description:`${E.name} has been added.`})}w(),m(!1),x(null)}catch(E){console.error("Error saving product:",E),ne({variant:"destructive",title:"Save Error",description:E.message})}finally{c(!1)}},C=P=>{const E=t.find(R=>R.id===P);E&&e("product",P,E.image_url)},k=v.useRef(null),T=async P=>{j(!0),k.current.click()},D=async P=>{const E=P.target.files[0];if(!E)return;if(E.type!=="text/csv"){console.error("Please upload a CSV file.");return}const R=new FileReader;R.onload=async $=>{const te=$.target.result.split(`
`).filter(Y=>Y.trim()!=="");if(te.length===0){console.warn("CSV file is empty.");return}const Z=te.slice(1).map(Y=>{const[L,B,F,W]=Y.split(",");return{name:L?L.trim():"",price:B?parseFloat(B.trim()):0,description:F?F.trim():"",stock:W?parseInt(W.trim(),10):0}}).filter(Y=>Y.name);if(console.log("Parsed Products:",Z),Z.length===0){console.warn("No valid product data found in CSV.");return}try{const{data:Y,error:L}=await ce.from("products").insert(Z);L?console.error("Error inserting data into Supabase:",L):console.log("Bulk upload successful to Supabase:",Y)}catch(Y){console.error("Unexpected error during Supabase insert:",Y)}},R.onerror=$=>{console.error("Error reading file:",$)},R.readAsText(E)};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Products Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search products...",className:"pl-8 w-full md:w-[200px]",value:u,onChange:P=>f(P.target.value)})]}),s.jsxs(hn,{open:h,onOpenChange:P=>{m(P),P||x(null)},children:[s.jsx(ci,{asChild:!0,children:s.jsxs(Q,{onClick:()=>x(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Product"]})}),s.jsxs(Hr,{className:"sm:max-w-[600px]",children:[s.jsx(qr,{children:s.jsx(Yr,{children:p?"Edit Product":"Add New Product"})}),s.jsx(GU,{product:p,categories:n,onSubmit:N,onCancel:()=>m(!1)},p?p.id:"new")]})]}),s.jsx(Q,{onClick:T,disabled:y,children:y?"Uploading...":"Upload CSV"}),s.jsx("input",{type:"file",ref:k,accept:".csv",onChange:D,style:{display:"none"}})]})]}),a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{className:"w-[80px]",children:"Image"}),s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Category"}),s.jsx(Ve,{children:"Price"}),s.jsx(Ve,{children:"Stock"}),s.jsx(Ve,{children:"Featured"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:_.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:7,className:"h-24 text-center",children:"No products found."})}):_.map(P=>{var E;return s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:P.image_url?s.jsx("img",{src:P.image_url,alt:P.name,className:"object-cover w-full h-full"}):s.jsx($d,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Fe,{className:"font-medium",children:P.name}),s.jsx(Fe,{children:((E=P.categories)==null?void 0:E.name)||"N/A"}),s.jsx(Fe,{children:Se(P.price)}),s.jsx(Fe,{children:s.jsx(nt,{variant:P.in_stock?"default":"destructive",className:`whitespace-nowrap ${P.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.in_stock?"In Stock":"Out"})}),s.jsx(Fe,{children:s.jsx(as,{checked:P.featured,disabled:!0,className:"cursor-default"})}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{x(P),m(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>C(P.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},P.id)})})]})})]})},XU=({category:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({name:"",description:"",image_url:""}),[a,c]=v.useState({}),[u,f]=v.useState(null),[h,m]=v.useState(""),p=v.useRef(null),{isUploading:x,uploadFile:y,deleteFile:j}=dg();v.useEffect(()=>{e?(o({name:e.name||"",description:e.description||"",image_url:e.image_url||""}),m(e.image_url||"")):(o({name:"",description:"",image_url:""}),m(""),f(null))},[e]);const w=T=>{const{name:D,value:P}=T.target;o(E=>({...E,[D]:P})),a[D]&&c(E=>({...E,[D]:""}))},_=T=>{const D=T.target.files[0];if(D){f(D);const P=new FileReader;P.onloadend=()=>m(P.result),P.readAsDataURL(D),c(E=>({...E,image_url:""}))}},N=async()=>{let T=n.image_url||null;if(u){e&&e.image_url&&await j(e.image_url);const{url:D,error:P}=await y(u,"categories");if(P)return c(E=>({...E,image_url:"Image upload failed."})),null;T=D}return T},C=()=>{const T={};return n.name.trim()||(T.name="Name is required"),n.description.trim()||(T.description="Description is required"),c(T),Object.keys(T).length===0},k=async T=>{if(T.preventDefault(),!C()||x)return;const D=await N();if(u&&D===null){ne({variant:"destructive",title:"Submission Failed",description:"Category could not be saved due to image upload error."});return}const P={name:n.name,description:n.description,image_url:D,updated_at:new Date};e!=null&&e.id&&(P.id=e.id),t(P)};return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"category-image",children:"Category Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:h?s.jsx("img",{src:h,alt:"Category Preview",className:"object-cover w-full h-full"}):s.jsx($d,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(ye,{id:"category-image",type:"file",accept:"image/*",onChange:_,ref:p,className:"hidden",disabled:x}),s.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var T;return(T=p.current)==null?void 0:T.click()},disabled:x,children:[s.jsx(H_,{className:"w-4 h-4 mr-2"}),x?"Uploading...":u?"Change Image":"Upload Image"]})]}),a.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:a.image_url})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Category Name"}),s.jsx(ye,{id:"name",name:"name",value:n.name,onChange:w,className:a.name?"border-destructive":"",disabled:x}),a.name&&s.jsx("p",{className:"text-xs text-destructive",children:a.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"description",children:"Description"}),s.jsx(dr,{id:"description",name:"description",value:n.description,onChange:w,className:a.description?"border-destructive":"",disabled:x}),a.description&&s.jsx("p",{className:"text-xs text-destructive",children:a.description})]}),s.jsxs(Ji,{children:[s.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:x,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:x,children:x?"Saving...":e?"Save Changes":"Add Category"})]})]})},JU=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!0),[a,c]=v.useState(""),[u,f]=v.useState(!1),[h,m]=v.useState(null),p=v.useCallback(async()=>{o(!0);try{const{data:w,error:_}=await ce.from("categories").select("*").order("name",{ascending:!0});if(_)throw _;r(w||[])}catch(w){console.error("Error fetching categories:",w),ne({variant:"destructive",title:"Fetch Error",description:"Could not load categories."})}finally{o(!1)}},[]);v.useEffect(()=>{p()},[p]);const x=v.useMemo(()=>{let w=[...t];if(a){const _=a.toLowerCase();w=w.filter(N=>{var C;return N.name.toLowerCase().includes(_)||((C=N.description)==null?void 0:C.toLowerCase().includes(_))})}return w},[t,a]),y=async w=>{o(!0);try{let _;if(h){const{data:N,error:C}=await ce.from("categories").update(w).eq("id",h.id).select().single();if(C)throw C;_=N,ne({title:"Category Updated",description:`${_.name} has been updated.`})}else{const{data:N,error:C}=await ce.from("categories").insert(w).select().single();if(C)throw C;_=N,ne({title:"Category Added",description:`${_.name} has been added.`})}p(),f(!1),m(null)}catch(_){console.error("Error saving category:",_),ne({variant:"destructive",title:"Save Error",description:_.message})}finally{o(!1)}},j=w=>{const _=t.find(N=>N.id===w);_&&e("category",w,_.image_url)};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Categories Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search categories...",className:"pl-8 w-full md:w-[200px]",value:a,onChange:w=>c(w.target.value)})]}),s.jsxs(hn,{open:u,onOpenChange:w=>{f(w),w||m(null)},children:[s.jsx(ci,{asChild:!0,children:s.jsxs(Q,{onClick:()=>m(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Category"]})}),s.jsxs(Hr,{className:"sm:max-w-[425px]",children:[s.jsx(qr,{children:s.jsx(Yr,{children:h?"Edit Category":"Add New Category"})}),s.jsx(XU,{category:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{className:"w-[80px]",children:"Image"}),s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Description"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:x.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:4,className:"h-24 text-center",children:"No categories found."})}):x.map(w=>s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:w.image_url?s.jsx("img",{src:w.image_url,alt:w.name,className:"object-cover w-full h-full"}):s.jsx($d,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Fe,{className:"font-medium",children:w.name}),s.jsx(Fe,{className:"text-sm text-muted-foreground truncate max-w-xs",children:w.description}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(w),f(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(w.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},w.id))})]})})]})},QU=()=>{const[e,t]=v.useState({express_fee:"",scheduled_fee:"",late_fee:"",timezone:"Australia/Adelaide",estimated_delivery_minutes:45}),[r,n]=v.useState(!0),[o,a]=v.useState(!1),[c,u]=v.useState({}),f=[{value:"Australia/Adelaide",label:"Adelaide (ACST/ACDT)"},{value:"Australia/Sydney",label:"Sydney (AEST/AEDT)"},{value:"Australia/Melbourne",label:"Melbourne (AEST/AEDT)"},{value:"Australia/Brisbane",label:"Brisbane (AEST)"},{value:"Australia/Perth",label:"Perth (AWST)"},{value:"Australia/Darwin",label:"Darwin (ACST)"}];v.useEffect(()=>{(async()=>{n(!0);try{const{data:j,error:w}=await ce.from("delivery_settings").select("*").eq("id",1).single();if(w&&w.code!=="PGRST116")throw w;t(j?{express_fee:j.express_fee||"",scheduled_fee:j.scheduled_fee||"",late_fee:j.late_fee||"",timezone:j.timezone||"Australia/Adelaide",estimated_delivery_minutes:j.estimated_delivery_minutes||45}:{express_fee:"9.99",scheduled_fee:"5.99",late_fee:"7.99",timezone:"Australia/Adelaide",estimated_delivery_minutes:45})}catch(j){console.error("Error fetching delivery settings:",j),ne({variant:"destructive",title:"Fetch Error",description:"Could not load delivery settings."})}finally{n(!1)}})()},[]);const h=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),c[j]&&u(_=>({..._,[j]:""}))},m=(y,j)=>{t(w=>({...w,[y]:j})),c[y]&&u(w=>({...w,[y]:""}))},p=()=>{const y={},j=(w,_)=>{(!w||isNaN(w)||parseFloat(w)<0)&&(y[_]="Valid non-negative fee is required")};return j(e.express_fee,"express_fee"),j(e.scheduled_fee,"scheduled_fee"),j(e.late_fee,"late_fee"),(!e.estimated_delivery_minutes||isNaN(e.estimated_delivery_minutes)||parseInt(e.estimated_delivery_minutes)<=0)&&(y.estimated_delivery_minutes="Valid delivery time is required"),u(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!(!p()||o)){a(!0);try{const j={id:1,express_fee:parseFloat(e.express_fee),scheduled_fee:parseFloat(e.scheduled_fee),late_fee:parseFloat(e.late_fee),timezone:e.timezone,estimated_delivery_minutes:parseInt(e.estimated_delivery_minutes),updated_at:new Date},{error:w}=await ce.from("delivery_settings").upsert(j,{onConflict:"id"});if(w)throw w;ne({title:"Settings Updated",description:"Delivery settings have been saved."})}catch(j){console.error("Error saving delivery settings:",j),ne({variant:"destructive",title:"Save Error",description:j.message})}finally{a(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"express_fee",children:"Express Delivery Fee ($)"}),s.jsx(ye,{id:"express_fee",name:"express_fee",type:"number",step:"0.01",value:e.express_fee,onChange:h,className:c.express_fee?"border-destructive":"",disabled:o}),c.express_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.express_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"scheduled_fee",children:"Scheduled Delivery Fee ($)"}),s.jsx(ye,{id:"scheduled_fee",name:"scheduled_fee",type:"number",step:"0.01",value:e.scheduled_fee,onChange:h,className:c.scheduled_fee?"border-destructive":"",disabled:o}),c.scheduled_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.scheduled_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"late_fee",children:"Late Delivery Fee ($)"}),s.jsx(ye,{id:"late_fee",name:"late_fee",type:"number",step:"0.01",value:e.late_fee,onChange:h,className:c.late_fee?"border-destructive":"",disabled:o}),c.late_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.late_fee}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee applied for orders scheduled outside standard hours."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(Vt,{value:e.timezone,onValueChange:y=>m("timezone",y),disabled:o,children:[s.jsx(At,{className:c.timezone?"border-destructive":"",children:s.jsx(zt,{placeholder:"Select timezone"})}),s.jsx(Dt,{children:f.map(y=>s.jsx(De,{value:y.value,children:y.label},y.value))})]}),c.timezone&&s.jsx("p",{className:"text-xs text-destructive",children:c.timezone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"estimated_delivery_minutes",children:"Estimated Delivery Time (minutes)"}),s.jsx(ye,{id:"estimated_delivery_minutes",name:"estimated_delivery_minutes",type:"number",min:"1",value:e.estimated_delivery_minutes,onChange:h,className:c.estimated_delivery_minutes?"border-destructive":"",disabled:o}),c.estimated_delivery_minutes&&s.jsx("p",{className:"text-xs text-destructive",children:c.estimated_delivery_minutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'This will be displayed on the homepage as "Delivering in: X minutes (approx.)"'})]}),s.jsx(Q,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},ZU=()=>{const[e,t]=v.useState({publishable_key:"",price_id:"",openai_key:""}),[r,n]=v.useState(!0),[o,a]=v.useState(!1),[c,u]=v.useState({});v.useEffect(()=>{(async()=>{n(!0);try{const[{data:x},{data:y}]=await Promise.all([ce.from("stripe_settings").select("publishable_key, price_id").eq("id",1).single(),ce.from("openai_settings").select("api_key").eq("id",1).single()]);t({publishable_key:(x==null?void 0:x.publishable_key)||"",price_id:(x==null?void 0:x.price_id)||"",openai_key:(y==null?void 0:y.api_key)||""})}catch(x){console.error("Error fetching settings:",x),ne({variant:"destructive",title:"Fetch Error",description:"Could not load settings."})}finally{n(!1)}})()},[]);const f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),c[x]&&u(j=>({...j,[x]:""}))},h=()=>{const p={};return e.publishable_key.trim()?e.publishable_key.startsWith("pk_")||(p.publishable_key='Invalid Publishable Key format. Should start with "pk_".'):p.publishable_key="Stripe Publishable Key is required.",e.price_id.trim()?e.price_id.startsWith("price_")||(p.price_id='Invalid Price ID format. Should start with "price_".'):p.price_id="Stripe Price ID is required.",e.openai_key.trim()?e.openai_key.startsWith("sk-")||(p.openai_key='Invalid OpenAI API Key format. Should start with "sk-".'):p.openai_key="OpenAI API Key is required.",u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!(!h()||o)){a(!0);try{const[x,y]=await Promise.all([ce.from("stripe_settings").upsert({id:1,publishable_key:e.publishable_key.trim(),price_id:e.price_id.trim(),updated_at:new Date},{onConflict:"id"}),ce.from("openai_settings").upsert({id:1,api_key:e.openai_key.trim(),updated_at:new Date},{onConflict:"id"})]);if(x.error)throw x.error;if(y.error)throw y.error;ne({title:"Settings Updated",description:"Your payment and AI settings have been saved."})}catch(x){console.error("Error saving settings:",x),ne({variant:"destructive",title:"Save Error",description:x.message})}finally{a(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:m,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"publishable_key",children:"Stripe Publishable Key"}),s.jsx(ye,{id:"publishable_key",name:"publishable_key",type:"text",value:e.publishable_key,onChange:f,placeholder:"pk_live_...",className:c.publishable_key?"border-destructive":"",disabled:o}),c.publishable_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.publishable_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in your Stripe Dashboard under Developers > API Keys."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"price_id",children:"Stripe Default Price ID"}),s.jsx(ye,{id:"price_id",name:"price_id",type:"text",value:e.price_id,onChange:f,placeholder:"price_...",className:c.price_id?"border-destructive":"",disabled:o}),c.price_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.price_id}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The Price ID for your primary product/service in Stripe."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"openai_key",children:"OpenAI API Key"}),s.jsx(ye,{id:"openai_key",name:"openai_key",type:"password",value:e.openai_key,onChange:f,placeholder:"sk-...",className:c.openai_key?"border-destructive":"",disabled:o}),c.openai_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.openai_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your OpenAI API key for the AI shopping assistant. Find this in your OpenAI dashboard."})]}),s.jsx(Q,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},eB=()=>s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Settings"}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(QU,{})})]}),s.jsx(ql,{}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Stripe Payment Gateway"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure your Stripe account to enable online payments."}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(ZU,{})})]})]}),tB=({store:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({name:"",address:"",phone:"",opening_time:"09:00",closing_time:"21:00"}),[a,c]=v.useState({}),[u,f]=v.useState(!1);v.useEffect(()=>{var x,y;e&&o({name:e.name||"",address:e.address||"",phone:e.phone||"",opening_time:((x=e.opening_time)==null?void 0:x.slice(0,5))||"09:00",closing_time:((y=e.closing_time)==null?void 0:y.slice(0,5))||"21:00"})},[e]);const h=x=>{const{name:y,value:j}=x.target;o(w=>({...w,[y]:j})),a[y]&&c(w=>({...w,[y]:""}))},m=()=>{const x={};return n.name.trim()||(x.name="Name is required"),n.address.trim()||(x.address="Address is required"),n.phone.trim()||(x.phone="Phone number is required"),n.opening_time||(x.opening_time="Opening time is required"),n.closing_time||(x.closing_time="Closing time is required"),c(x),Object.keys(x).length===0},p=async x=>{x.preventDefault(),!(!m()||u)&&(f(!0),await t(n),f(!1))};return s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Store Name"}),s.jsx(ye,{id:"name",name:"name",value:n.name,onChange:h,className:a.name?"border-destructive":"",disabled:u}),a.name&&s.jsx("p",{className:"text-xs text-destructive",children:a.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"address",children:"Address"}),s.jsx(ye,{id:"address",name:"address",value:n.address,onChange:h,className:a.address?"border-destructive":"",disabled:u}),a.address&&s.jsx("p",{className:"text-xs text-destructive",children:a.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",name:"phone",value:n.phone,onChange:h,className:a.phone?"border-destructive":"",disabled:u}),a.phone&&s.jsx("p",{className:"text-xs text-destructive",children:a.phone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"opening_time",children:"Opening Time"}),s.jsx(ye,{id:"opening_time",name:"opening_time",type:"time",value:n.opening_time,onChange:h,className:a.opening_time?"border-destructive":"",disabled:u}),a.opening_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.opening_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"closing_time",children:"Closing Time"}),s.jsx(ye,{id:"closing_time",name:"closing_time",type:"time",value:n.closing_time,onChange:h,className:a.closing_time?"border-destructive":"",disabled:u}),a.closing_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.closing_time})]})]}),s.jsxs(Ji,{children:[s.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Store":"Add Store"})]})]})},rB=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,a]=v.useState(""),[c,u]=v.useState(!1),[f,h]=v.useState(null),[m,p]=v.useState([]),[x,y]=v.useState(null),[j,w]=v.useState(!1),[_,N]=v.useState(""),C=async()=>{try{const{data:R,error:$}=await ce.from("stores").select("*").order("name");if($)throw $;t(R||[])}catch(R){console.error("Error fetching stores:",R),ne({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{n(!1)}};v.useEffect(()=>{C()},[]);const k=async R=>{try{if(f){const{error:$}=await ce.from("stores").update(R).eq("id",f.id);if($)throw $;ne({title:"Store Updated",description:`${R.name} has been updated.`})}else{const{error:$}=await ce.from("stores").insert(R);if($)throw $;ne({title:"Store Added",description:`${R.name} has been added.`})}u(!1),h(null),C()}catch($){console.error("Error saving store:",$),ne({variant:"destructive",title:"Error",description:"Could not save store."})}},T=async R=>{if(window.confirm("Are you sure you want to delete this store?"))try{const{error:$}=await ce.from("stores").delete().eq("id",R);if($)throw $;ne({title:"Store Deleted",description:"Store has been removed."}),C()}catch($){console.error("Error deleting store:",$),ne({variant:"destructive",title:"Error",description:"Could not delete store."})}},D=e.filter(R=>R.name.toLowerCase().includes(o.toLowerCase())||R.address.toLowerCase().includes(o.toLowerCase())),P=R=>{y(R),p(Array.isArray(R.store_suggested_items)?R.store_suggested_items:[]),N((Array.isArray(R.store_suggested_items)?R.store_suggested_items:[]).map($=>$.name+($.qty?`:${$.qty}`:"")).join(`
`)),w(!0)},E=async()=>{const R=_.split(`
`).map($=>{const[H,te]=$.split(":");return H?{name:H.trim(),qty:te?parseInt(te,10):1}:null}).filter(Boolean);try{const{error:$}=await ce.from("stores").update({store_suggested_items:R}).eq("id",x.id);if($)throw $;ne({title:"Suggested Items Updated",description:`Suggested items updated for ${x.name}.`}),w(!1),y(null),C()}catch{ne({variant:"destructive",title:"Error",description:"Could not update suggested items."})}};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Store Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search stores...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:R=>a(R.target.value)})]}),s.jsxs(hn,{open:c,onOpenChange:u,children:[s.jsx(ci,{asChild:!0,children:s.jsxs(Q,{onClick:()=>h(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Store"]})}),s.jsxs(Hr,{className:"sm:max-w-[425px]",children:[s.jsx(qr,{children:s.jsx(Yr,{children:f?"Edit Store":"Add New Store"})}),s.jsx(tB,{store:f,onSubmit:k,onCancel:()=>u(!1)})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Address"}),s.jsx(Ve,{children:"Phone"}),s.jsx(Ve,{children:"Hours"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:D.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:5,className:"h-24 text-center",children:"No stores found."})}):D.map(R=>s.jsxs(Ot,{children:[s.jsx(Fe,{className:"font-medium",children:R.name}),s.jsx(Fe,{children:R.address}),s.jsx(Fe,{children:R.phone}),s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[R.opening_time.slice(0,5)," - ",R.closing_time.slice(0,5)]})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("ul",{className:"list-disc ml-5 text-xs text-muted-foreground",children:Array.isArray(R.store_suggested_items)&&R.store_suggested_items.length>0?R.store_suggested_items.map(($,H)=>s.jsxs("li",{children:[$.name,$.qty?` (Qty: ${$.qty})`:""]},H)):s.jsx("li",{className:"italic text-muted-foreground",children:"None"})}),s.jsx(Q,{size:"xs",variant:"outline",className:"mt-1",onClick:()=>P(R),children:"Edit Suggested Items"})]})]}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{h(R),u(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>T(R.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},R.id))})]})}),s.jsx(hn,{open:j,onOpenChange:w,children:s.jsxs(Hr,{className:"max-w-md",children:[s.jsx(qr,{children:s.jsx(Yr,{children:"Edit Suggested Items"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(oe,{children:["Enter one item per line. Use ",s.jsx("code",{children:"Item Name:Qty"})," for quantity (default 1)."]}),s.jsx(dr,{value:_,onChange:R=>N(R.target.value),rows:6,placeholder:`Milk:2
Bread
Eggs:12`}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx(Q,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(Q,{onClick:E,children:"Save"})]})]})]})})]})},nB=({promoCode:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0}),[a,c]=v.useState({}),[u,f]=v.useState(!1);v.useEffect(()=>{var j,w,_;o(e?{code:e.code||"",description:e.description||"",discount_type:e.discount_type||"percentage",discount_value:((j=e.discount_value)==null?void 0:j.toString())||"",minimum_order_amount:((w=e.minimum_order_amount)==null?void 0:w.toString())||"",max_uses:((_=e.max_uses)==null?void 0:_.toString())||"",valid_from:e.valid_from?new Date(e.valid_from):new Date,valid_until:e.valid_until?new Date(e.valid_until):null,is_active:e.is_active!==void 0?e.is_active:!0}:{code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0})},[e]);const h=j=>{const{name:w,value:_}=j.target;o(N=>({...N,[w]:_})),a[w]&&c(N=>({...N,[w]:""}))},m=(j,w)=>{o(_=>({..._,[j]:w})),a[j]&&c(_=>({..._,[j]:""}))},p=(j,w)=>{o(_=>({..._,[j]:w})),a[j]&&c(_=>({..._,[j]:""}))},x=()=>{const j={};if(n.code.trim()?n.code.length<3&&(j.code="Promo code must be at least 3 characters"):j.code="Promo code is required",n.description.trim()||(j.description="Description is required"),!n.discount_value||isNaN(n.discount_value)||parseFloat(n.discount_value)<=0)j.discount_value="Valid discount value is required";else{const w=parseFloat(n.discount_value);n.discount_type==="percentage"&&w>100&&(j.discount_value="Percentage discount cannot exceed 100%")}return n.minimum_order_amount&&(isNaN(n.minimum_order_amount)||parseFloat(n.minimum_order_amount)<0)&&(j.minimum_order_amount="Minimum order amount must be a valid number"),n.max_uses&&(isNaN(n.max_uses)||parseInt(n.max_uses)<=0)&&(j.max_uses="Maximum uses must be a positive number"),n.valid_until&&n.valid_until<=n.valid_from&&(j.valid_until="End date must be after start date"),c(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!x()||u)return;f(!0);const w={code:n.code.toUpperCase().trim(),description:n.description.trim(),discount_type:n.discount_type,discount_value:parseFloat(n.discount_value),minimum_order_amount:n.minimum_order_amount?parseFloat(n.minimum_order_amount):0,max_uses:n.max_uses?parseInt(n.max_uses):null,valid_from:n.valid_from.toISOString(),valid_until:n.valid_until?n.valid_until.toISOString():null,is_active:n.is_active};await t(w),f(!1)};return s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"code",children:"Promo Code"}),s.jsx(ye,{id:"code",name:"code",value:n.code,onChange:h,placeholder:"e.g., SAVE10",className:a.code?"border-destructive":"",disabled:u}),a.code&&s.jsx("p",{className:"text-xs text-destructive",children:a.code})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"discount_type",children:"Discount Type"}),s.jsxs(Vt,{value:n.discount_type,onValueChange:j=>m("discount_type",j),disabled:u,children:[s.jsx(At,{className:a.discount_type?"border-destructive":"",children:s.jsx(zt,{placeholder:"Select discount type"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"percentage",children:"Percentage (%)"}),s.jsx(De,{value:"fixed",children:"Fixed Amount ($)"})]})]}),a.discount_type&&s.jsx("p",{className:"text-xs text-destructive",children:a.discount_type})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"description",children:"Description"}),s.jsx(dr,{id:"description",name:"description",value:n.description,onChange:h,placeholder:"Brief description of the promo code",className:a.description?"border-destructive":"",disabled:u,rows:2}),a.description&&s.jsx("p",{className:"text-xs text-destructive",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(oe,{htmlFor:"discount_value",children:["Discount Value ",n.discount_type==="percentage"?"(%)":"($)"]}),s.jsx(ye,{id:"discount_value",name:"discount_value",type:"number",step:n.discount_type==="percentage"?"0.1":"0.01",min:"0",max:n.discount_type==="percentage"?"100":void 0,value:n.discount_value,onChange:h,placeholder:n.discount_type==="percentage"?"10":"5.00",className:a.discount_value?"border-destructive":"",disabled:u}),a.discount_value&&s.jsx("p",{className:"text-xs text-destructive",children:a.discount_value})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"minimum_order_amount",children:"Minimum Order Amount ($)"}),s.jsx(ye,{id:"minimum_order_amount",name:"minimum_order_amount",type:"number",step:"0.01",min:"0",value:n.minimum_order_amount,onChange:h,placeholder:"0.00",className:a.minimum_order_amount?"border-destructive":"",disabled:u}),a.minimum_order_amount&&s.jsx("p",{className:"text-xs text-destructive",children:a.minimum_order_amount})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"max_uses",children:"Maximum Uses (Optional)"}),s.jsx(ye,{id:"max_uses",name:"max_uses",type:"number",min:"1",value:n.max_uses,onChange:h,placeholder:"Leave empty for unlimited uses",className:a.max_uses?"border-destructive":"",disabled:u}),a.max_uses&&s.jsx("p",{className:"text-xs text-destructive",children:a.max_uses})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Valid From"}),s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(Q,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!n.valid_from&&"text-muted-foreground",a.valid_from&&"border-destructive"),disabled:u,children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),n.valid_from?Rt(n.valid_from,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(va,{className:"w-auto p-0",children:s.jsx(ma,{mode:"single",selected:n.valid_from,onSelect:j=>p("valid_from",j),initialFocus:!0})})]}),a.valid_from&&s.jsx("p",{className:"text-xs text-destructive",children:a.valid_from})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Valid Until (Optional)"}),s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(Q,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!n.valid_until&&"text-muted-foreground",a.valid_until&&"border-destructive"),disabled:u,children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),n.valid_until?Rt(n.valid_until,"PPP"):s.jsx("span",{children:"No expiry"})]})}),s.jsx(va,{className:"w-auto p-0",children:s.jsx(ma,{mode:"single",selected:n.valid_until,onSelect:j=>p("valid_until",j),disabled:j=>j<n.valid_from,initialFocus:!0})})]}),a.valid_until&&s.jsx("p",{className:"text-xs text-destructive",children:a.valid_until})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"is_active",checked:n.is_active,onCheckedChange:j=>m("is_active",j),disabled:u}),s.jsx(oe,{htmlFor:"is_active",children:"Active"})]}),s.jsxs(Ji,{children:[s.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Promo Code":"Create Promo Code"})]})]})},sB=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!0),[a,c]=v.useState(""),[u,f]=v.useState(!1),[h,m]=v.useState(null),p=v.useCallback(async()=>{o(!0);try{const{data:N,error:C}=await ce.from("promo_codes").select("*").order("created_at",{ascending:!1});if(C)throw C;r(N||[])}catch(N){console.error("Error fetching promo codes:",N),ne({variant:"destructive",title:"Fetch Error",description:"Could not load promo codes."})}finally{o(!1)}},[]);v.useEffect(()=>{p()},[p]);const x=t.filter(N=>{var C;return N.code.toLowerCase().includes(a.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(a.toLowerCase()))}),y=async N=>{o(!0);try{let C;if(h){const{data:k,error:T}=await ce.from("promo_codes").update({...N,updated_at:new Date}).eq("id",h.id).select().single();if(T)throw T;C=k,ne({title:"Promo Code Updated",description:`${C.code} has been updated.`})}else{const{data:k,error:T}=await ce.from("promo_codes").insert(N).select().single();if(T)throw T;C=k,ne({title:"Promo Code Created",description:`${C.code} has been created.`})}p(),f(!1),m(null)}catch(C){console.error("Error saving promo code:",C),ne({variant:"destructive",title:"Save Error",description:C.message})}finally{o(!1)}},j=N=>{t.find(k=>k.id===N)&&e("promo_code",N)},w=N=>{const C=new Date,k=new Date(N.valid_from),T=N.valid_until?new Date(N.valid_until):null;return N.is_active?C<k?s.jsx(nt,{variant:"secondary",children:"Scheduled"}):T&&C>T?s.jsx(nt,{variant:"destructive",children:"Expired"}):N.max_uses&&N.current_uses>=N.max_uses?s.jsx(nt,{variant:"destructive",children:"Limit Reached"}):s.jsx(nt,{variant:"default",children:"Active"}):s.jsx(nt,{variant:"destructive",children:"Inactive"})},_=N=>N.discount_type==="percentage"?`${N.discount_value}%`:Se(N.discount_value);return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Promo Codes Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search promo codes...",className:"pl-8 w-full md:w-[200px]",value:a,onChange:N=>c(N.target.value)})]}),s.jsxs(hn,{open:u,onOpenChange:N=>{f(N),N||m(null)},children:[s.jsx(ci,{asChild:!0,children:s.jsxs(Q,{onClick:()=>m(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Promo Code"]})}),s.jsxs(Hr,{className:"sm:max-w-[500px]",children:[s.jsx(qr,{children:s.jsx(Yr,{children:h?"Edit Promo Code":"Add New Promo Code"})}),s.jsx(nB,{promoCode:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Code"}),s.jsx(Ve,{children:"Description"}),s.jsx(Ve,{children:"Discount"}),s.jsx(Ve,{children:"Min. Order"}),s.jsx(Ve,{children:"Usage"}),s.jsx(Ve,{children:"Valid Until"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:x.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:8,className:"h-24 text-center",children:"No promo codes found."})}):x.map(N=>s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yv,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-mono font-medium",children:N.code})]})}),s.jsx(Fe,{className:"max-w-xs truncate",children:N.description}),s.jsxs(Fe,{children:[s.jsx("span",{className:"font-medium",children:_(N)}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:N.discount_type==="percentage"?"off":"discount"})]}),s.jsx(Fe,{children:N.minimum_order_amount>0?Se(N.minimum_order_amount):"None"}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(wv,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[N.current_uses||0,N.max_uses?` / ${N.max_uses}`:""]})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(un,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:N.valid_until?Rt(new Date(N.valid_until),"MMM d, yyyy"):"No expiry"})]})}),s.jsx(Fe,{children:w(N)}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(N),f(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(N.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},N.id))})]})})]})},iB=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,a]=v.useState(""),[c,u]=v.useState("processing"),[f,h]=v.useState(null),[m,p]=v.useState(!1),[x,y]=v.useState(""),[j,w]=v.useState(""),[_,N]=v.useState(!1),[C,k]=v.useState(0),T=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},D=async()=>{try{const{data:L,error:B}=await ce.from("pickup_orders").select(`
          *,
          profiles:user_id (name, phone),
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("status",c).order("created_at",{ascending:!1});if(B)throw B;const F=(L==null?void 0:L.length)||0;c==="pending"&&F>C&&C>0&&(T(),ne({title:"New pickup order!",description:"A new pickup order has been received."})),k(F),t(L||[])}catch(L){console.error("Error fetching pickup orders:",L),ne({variant:"destructive",title:"Error",description:"Could not load pickup orders."})}finally{n(!1)}};v.useEffect(()=>{D();const L=setInterval(D,6e4);return()=>clearInterval(L)},[c]);const P=async(L,B)=>{try{const{error:F}=await ce.from("pickup_orders").update({status:B}).eq("id",L);if(F)throw F;ne({title:"Status Updated",description:`Order status changed to ${B}`}),D()}catch(F){console.error("Error updating order status:",F),ne({variant:"destructive",title:"Error",description:"Could not update order status."})}},E=async(L,B)=>{try{const{error:F}=await ce.from("pickup_order_stores").update({status:B}).eq("id",L);if(F)throw F;if(ne({title:"Store Status Updated",description:`Store order status changed to ${B}`}),D(),f){const W=e.find(M=>M.id===f.id);h(W)}}catch(F){console.error("Error updating store order status:",F),ne({variant:"destructive",title:"Error",description:"Could not update store order status."})}},R=async()=>{if(!(!j||!f)){N(!0);try{const B=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/confirm-pickup-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({orderId:f.id,actualAmount:parseFloat(j)})})).json();if(B.error)throw new Error(B.error);const{error:F}=await ce.from("pickup_orders").update({actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"}).eq("id",f.id);if(F)throw F;ne({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Se(parseFloat(j))}`}),w(""),D(),h({...f,actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"})}catch(L){console.error("Error confirming payment:",L),ne({variant:"destructive",title:"Error",description:"Could not confirm payment: "+L.message})}finally{N(!1)}}},$=async()=>{if(!(!x.trim()||!f))try{const L=f.admin_messages||[],B={from:"admin",message:x,timestamp:new Date().toISOString()},{error:F}=await ce.from("pickup_orders").update({admin_messages:[...L,B]}).eq("id",f.id);if(F)throw F;ne({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),D(),h({...f,admin_messages:[...L,B]})}catch(L){console.error("Error sending message:",L),ne({variant:"destructive",title:"Error",description:"Could not send message."})}},H=L=>{const B=L.replace(/\D/g,"");window.open(`https://wa.me/${B}`,"_blank")},te=e.filter(L=>{var F,W,M,z;return((W=(F=L.profiles)==null?void 0:F.name)==null?void 0:W.toLowerCase().includes(o.toLowerCase()))||((M=L.whatsapp_number)==null?void 0:M.includes(o))||((z=L.phone_number)==null?void 0:z.includes(o))||L.id.toLowerCase().includes(o.toLowerCase())}),Z=L=>{switch(L){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=L=>{switch(L){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Multi-Store Pickup Orders"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:L=>a(L.target.value)})]}),s.jsxs(Vt,{value:c,onValueChange:u,children:[s.jsx(At,{className:"w-full md:w-[180px]",children:s.jsx(zt,{placeholder:"Filter by status"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Order ID"}),s.jsx(Ve,{children:"Customer"}),s.jsx(Ve,{children:"Stores"}),s.jsx(Ve,{children:"Date & Time"}),s.jsx(Ve,{children:"Contact"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{children:"Payment"}),s.jsx(Ve,{children:"Total"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:te.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:9,className:"h-24 text-center",children:"No orders found."})}):te.map(L=>{var B,F,W,M,z,X,O,q,ee,de,pe;return s.jsxs(Ot,{children:[s.jsxs(Fe,{className:"font-medium",children:[L.id.slice(0,6),"..."]}),s.jsx(Fe,{children:((B=L.profiles)==null?void 0:B.name)||"N/A"}),s.jsx(Fe,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(F=L.pickup_order_stores)==null?void 0:F.map((he,re)=>{var se;return s.jsx(nt,{variant:"outline",className:"text-xs",children:(se=he.stores)==null?void 0:se.name},re)})})}),s.jsx(Fe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(un,{className:"w-3 h-3 mr-1"}),L.pickup_date?Rt(new Date(L.pickup_date),"MMM d"):"N/A"]}),s.jsx("div",{className:"text-muted-foreground",children:L.time_slot})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-1",children:[L.whatsapp_number&&s.jsxs(Q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>H(L.whatsapp_number),children:[s.jsx(Md,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),L.phone_number&&s.jsxs(Q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>window.open(`tel:${L.phone_number}`),children:[s.jsx(Id,{className:"w-3 h-3 mr-1"}),"Call"]})]})}),s.jsx(Fe,{children:s.jsxs(Vt,{value:L.status,onValueChange:he=>P(L.id,he),children:[s.jsx(At,{className:"w-[130px]",children:s.jsx(zt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})}),s.jsx(Fe,{children:s.jsx(nt,{className:Y(L.payment_status),children:L.payment_status})}),s.jsx(Fe,{children:L.actual_total?Se(L.actual_total):Se(L.estimated_total||0)}),s.jsx(Fe,{className:"text-right",children:s.jsxs(hn,{open:m,onOpenChange:p,children:[s.jsx(ci,{asChild:!0,children:s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>h(L),children:s.jsx(q_,{className:"w-4 h-4"})})}),s.jsxs(Hr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(qr,{children:s.jsxs(Yr,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6),"..."]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",(W=f.profiles)==null?void 0:W.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"WhatsApp:"})," ",f.whatsapp_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.phone_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.delivery_address]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Postcode:"})," ",f.postcode]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"})," ",f.notes]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",f.pickup_date?Rt(new Date(f.pickup_date),"PPP"):"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Time Slot:"})," ",f.time_slot]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Status:"}),s.jsx(nt,{className:`ml-2 ${Z(f.status)}`,children:f.status})]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Payment:"}),s.jsx(nt,{className:`ml-2 ${Y(f.payment_status)}`,children:f.payment_status})]}),((M=f.fees_data)==null?void 0:M.deliveryFee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee: "})," ",Se((z=f.fees_data)==null?void 0:z.deliveryFee)]}),((X=f.fees_data)==null?void 0:X.serviceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Service Fee (",(O=f.fees_data)==null?void 0:O.service_fee_percent,"):"]})," ",Se(f.fees_data.serviceFee)]}),((q=f.fees_data)==null?void 0:q.convenienceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Convenience Fee (",(ee=f.fees_data)==null?void 0:ee.convenience_fee_percent,") :"]})," ",Se(f.fees_data.convenienceFee)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Total:"})," ",Se(f.estimated_total||0)]}),f.actual_total&&s.jsxs("p",{children:[s.jsx("strong",{children:"Actual Total:"})," ",Se(f.actual_total)]})]})]})]}),f.payment_status==="paid"&&!f.actual_total&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(oe,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(ye,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:he=>w(he.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(Q,{onClick:R,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Bl,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Store Orders"}),s.jsx("div",{className:"space-y-4",children:(de=f.pickup_order_stores)==null?void 0:de.map((he,re)=>{var se,ge;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:(se=he.stores)==null?void 0:se.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(ge=he.stores)==null?void 0:ge.address})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:Se(he.estimated_total||0)}),s.jsxs(Vt,{value:he.status,onValueChange:xe=>E(he.id,xe),children:[s.jsx(At,{className:"w-[120px] mt-1",children:s.jsx(zt,{})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),he.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Shopping List:"}),s.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded mt-1",children:he.notes})]})]},re)})})]}),f.photos&&f.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Photos"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.photos.map((he,re)=>s.jsx("img",{src:he.data,alt:`Photo ${re+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(he.data,"_blank")},re))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(pe=f.admin_messages)==null?void 0:pe.map((he,re)=>s.jsxs("div",{className:`p-3 rounded text-sm ${he.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:he.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Rt(new Date(he.timestamp),"MMM d, HH:mm")})]}),s.jsx("p",{children:he.message})]},re))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(dr,{value:x,onChange:he=>y(he.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(Q,{onClick:$,disabled:!x.trim(),children:"Send"})]})]})]})]})]})]})})]},L.id)})})]})})]})},oB=({timeSlot:e,onSubmit:t,onCancel:r})=>{const[n,o]=v.useState({dates:[Cn()],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),[a,c]=v.useState({}),[u,f]=v.useState(!1),[h,m]=v.useState(!1),[p,x]=v.useState(ja);v.useEffect(()=>{(async()=>{try{const{data:P,error:E}=await ce.from("delivery_settings").select("timezone").eq("id",1).single();!E&&(P!=null&&P.timezone)&&x(P.timezone)}catch(P){console.error("Error fetching timezone:",P)}})()},[]),v.useEffect(()=>{if(e){const D=new Date(e.date+"T12:00:00");o({dates:[D],start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),max_orders:e.max_orders,slot_type:e.slot_type,is_active:e.is_active}),m(!1)}else o({dates:[Cn(p)],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),m(!1)},[e,p]);const y=(D,P)=>{o(E=>({...E,[D]:P})),a[D]&&c(E=>({...E,[D]:""}))},j=(D,P)=>{const E=[...n.dates];E[P]=D,o(R=>({...R,dates:E})),a.dates&&c(R=>({...R,dates:""}))},w=()=>{const D=n.dates[n.dates.length-1],P=Kt(D,1);o(E=>({...E,dates:[...E.dates,P]}))},_=D=>{if(n.dates.length>1){const P=n.dates.filter((E,R)=>R!==D);o(E=>({...E,dates:P}))}},N=()=>{const D=Cn(p),P=[];for(let E=0;E<7;E++)P.push(Kt(D,E));o(E=>({...E,dates:P}))},C=()=>{const D={};if(!n.dates||n.dates.length===0)D.dates="At least one date is required";else{const P=Cn(p),E=Ut(P,p);for(const R of n.dates)if(Ut(R,p)<E){D.dates="Dates cannot be in the past";break}}return n.start_time||(D.start_time="Start time is required"),n.end_time||(D.end_time="End time is required"),n.start_time&&n.end_time&&(fL(n.start_time,n.end_time)||(D.end_time="End time must be after start time")),(!n.max_orders||n.max_orders<1)&&(D.max_orders="Maximum orders must be at least 1"),n.slot_type||(D.slot_type="Slot type is required"),c(D),Object.keys(D).length===0},k=async D=>{if(D.preventDefault(),!(!C()||u)){f(!0);try{if(e){const P={date:Ut(n.dates[0],p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(P)}else for(const P of n.dates){const E={date:Ut(P,p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(E)}}catch(P){console.error("Error submitting time slots:",P)}finally{f(!1)}}},T=dL();return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[!e&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted/30 rounded-lg",children:[s.jsx(as,{id:"bulk_mode",checked:h,onCheckedChange:m}),s.jsx(oe,{htmlFor:"bulk_mode",className:"text-sm",children:"Create slots for multiple dates"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(oe,{children:["Date",n.dates.length>1?"s":""]}),n.dates.map((D,P)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(Q,{type:"button",variant:"outline",className:Pe("flex-1 justify-start text-left font-normal",!D&&"text-muted-foreground",a.dates&&"border-destructive"),disabled:u,children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),D?Ut(D,p):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(va,{className:"w-auto p-0",children:s.jsx(ma,{mode:"single",selected:D,onSelect:E=>j(E,P),disabled:E=>{const R=Cn(p),$=Ut(R,p);return Ut(E,p)<$},initialFocus:!0})})]}),!e&&n.dates.length>1&&s.jsx(Q,{type:"button",variant:"outline",size:"icon",onClick:()=>_(P),disabled:u,children:s.jsx(ba,{className:"h-4 w-4"})})]},P)),!e&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Q,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:u,children:[s.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Add Date"]}),s.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:u,children:"Add Next 7 Days"})]}),a.dates&&s.jsx("p",{className:"text-xs text-destructive",children:a.dates}),n.dates.length>1&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.dates.map((D,P)=>s.jsx(nt,{variant:"secondary",className:"text-xs",children:Ut(D,p)},P))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"start_time",children:"Start Time"}),s.jsxs(Vt,{value:n.start_time,onValueChange:D=>y("start_time",D),disabled:u,children:[s.jsx(At,{className:a.start_time?"border-destructive":"",children:s.jsx(zt,{placeholder:"Select start time"})}),s.jsx(Dt,{children:T.map(D=>s.jsx(De,{value:D.value,children:D.label},D.value))})]}),a.start_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.start_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"end_time",children:"End Time"}),s.jsxs(Vt,{value:n.end_time,onValueChange:D=>y("end_time",D),disabled:u,children:[s.jsx(At,{className:a.end_time?"border-destructive":"",children:s.jsx(zt,{placeholder:"Select end time"})}),s.jsx(Dt,{children:T.map(D=>s.jsx(De,{value:D.value,children:D.label},D.value))})]}),a.end_time&&s.jsx("p",{className:"text-xs text-destructive",children:a.end_time})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"slot_type",children:"Slot Type"}),s.jsxs(Vt,{value:n.slot_type,onValueChange:D=>y("slot_type",D),disabled:u,children:[s.jsx(At,{className:a.slot_type?"border-destructive":"",children:s.jsx(zt,{placeholder:"Select slot type"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"delivery",children:"Delivery"}),s.jsx(De,{value:"pickup",children:"Pickup"})]})]}),a.slot_type&&s.jsx("p",{className:"text-xs text-destructive",children:a.slot_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"max_orders",children:"Maximum Orders"}),s.jsx(ye,{id:"max_orders",type:"number",min:"1",value:n.max_orders,onChange:D=>y("max_orders",D.target.value),className:a.max_orders?"border-destructive":"",disabled:u}),a.max_orders&&s.jsx("p",{className:"text-xs text-destructive",children:a.max_orders})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"is_active",checked:n.is_active,onCheckedChange:D=>y("is_active",D),disabled:u}),s.jsx(oe,{htmlFor:"is_active",children:"Active (available for booking)"})]}),s.jsxs(Ji,{children:[s.jsx(Q,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:u,children:u?"Creating...":e?"Update Time Slot":`Create ${n.dates.length} Time Slot${n.dates.length>1?"s":""}`})]})]})},aB=({openDeleteDialog:e})=>{const[t,r]=v.useState([]),[n,o]=v.useState(!0),[a,c]=v.useState(""),[u,f]=v.useState("all"),[h,m]=v.useState("all"),[p,x]=v.useState(!1),[y,j]=v.useState(null),w=v.useCallback(async()=>{o(!0);try{let P=ce.from("time_slots").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});u!=="all"&&(P=P.eq("slot_type",u)),h==="today"?P=P.eq("date",new Date().toISOString().split("T")[0]):h==="upcoming"&&(P=P.gte("date",new Date().toISOString().split("T")[0]));const{data:E,error:R}=await P;if(R)throw R;r(E||[])}catch(P){console.error("Error fetching time slots:",P),ne({variant:"destructive",title:"Fetch Error",description:"Could not load time slots."})}finally{o(!1)}},[u,h]);v.useEffect(()=>{w()},[w]);const _=t.filter(P=>{if(!a)return!0;const E=a.toLowerCase();return P.slot_type.toLowerCase().includes(E)||Rt(new Date(P.date),"PPP").toLowerCase().includes(E)||N(P.start_time).toLowerCase().includes(E)||N(P.end_time).toLowerCase().includes(E)}),N=P=>{const[E,R]=P.split(":"),$=parseInt(E,10),H=$>=12?"PM":"AM";return`${$%12||12}:${R} ${H}`},C=async P=>{o(!0);try{let E;if(y){const{data:R,error:$}=await ce.from("time_slots").update({...P,updated_at:new Date}).eq("id",y.id).select().single();if($)throw $;E=R,ne({title:"Time Slot Updated",description:"Time slot has been updated successfully."})}else{const{data:R,error:$}=await ce.from("time_slots").insert(P).select().single();if($)throw $;E=R,ne({title:"Time Slot Created",description:"Time slot has been created successfully."})}w(),x(!1),j(null)}catch(E){console.error("Error saving time slot:",E),ne({variant:"destructive",title:"Save Error",description:E.message})}finally{o(!1)}},k=P=>{t.find(R=>R.id===P)&&e("time_slot",P)},T=P=>{const E=new Date,R=new Date(P.date),$=R.toDateString()===E.toDateString(),H=R<E&&!$,te=P.current_orders>=P.max_orders;return H?s.jsx(nt,{variant:"secondary",children:"Past"}):P.is_active?te?s.jsx(nt,{variant:"destructive",children:"Full"}):$?s.jsx(nt,{variant:"default",children:"Today"}):s.jsx(nt,{variant:"outline",children:"Available"}):s.jsx(nt,{variant:"destructive",children:"Inactive"})},D=P=>{const E=P.current_orders/P.max_orders*100;return E>=100?"text-red-600":E>=80?"text-orange-600":E>=60?"text-yellow-600":"text-green-600"};return s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Time Slots Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search slots...",className:"pl-8 w-full md:w-[200px]",value:a,onChange:P=>c(P.target.value)})]}),s.jsxs(Vt,{value:u,onValueChange:f,children:[s.jsx(At,{className:"w-full md:w-[140px]",children:s.jsx(zt,{placeholder:"Filter by type"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"all",children:"All Types"}),s.jsx(De,{value:"delivery",children:"Delivery"}),s.jsx(De,{value:"pickup",children:"Pickup"})]})]}),s.jsxs(Vt,{value:h,onValueChange:m,children:[s.jsx(At,{className:"w-full md:w-[140px]",children:s.jsx(zt,{placeholder:"Filter by date"})}),s.jsxs(Dt,{children:[s.jsx(De,{value:"all",children:"All Dates"}),s.jsx(De,{value:"today",children:"Today"}),s.jsx(De,{value:"upcoming",children:"Upcoming"})]})]}),s.jsxs(hn,{open:p,onOpenChange:P=>{x(P),P||j(null)},children:[s.jsx(ci,{asChild:!0,children:s.jsxs(Q,{onClick:()=>j(null),children:[s.jsx(sc,{className:"w-4 h-4 mr-2"})," Add Time Slot"]})}),s.jsxs(Hr,{className:"sm:max-w-[500px]",children:[s.jsx(qr,{children:s.jsx(Yr,{children:y?"Edit Time Slot":"Add New Time Slot"})}),s.jsx(oB,{timeSlot:y,onSubmit:C,onCancel:()=>x(!1)},y?y.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(eo,{children:[s.jsx(to,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Date"}),s.jsx(Ve,{children:"Time"}),s.jsx(Ve,{children:"Type"}),s.jsx(Ve,{children:"Capacity"}),s.jsx(Ve,{children:"Availability"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(ro,{children:_.length===0?s.jsx(Ot,{children:s.jsx(Fe,{colSpan:7,className:"h-24 text-center",children:"No time slots found."})}):_.map(P=>s.jsxs(Ot,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Rt(new Date(P.date),"MMM d, yyyy")})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[N(P.start_time)," - ",N(P.end_time)]})]})}),s.jsx(Fe,{children:s.jsx(nt,{variant:P.slot_type==="delivery"?"default":"secondary",children:P.slot_type.charAt(0).toUpperCase()+P.slot_type.slice(1)})}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wv,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[P.max_orders," orders"]})]})}),s.jsx(Fe,{children:s.jsxs("span",{className:D(P),children:[P.current_orders," / ",P.max_orders]})}),s.jsx(Fe,{children:T(P)}),s.jsxs(Fe,{className:"text-right",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{j(P),x(!0)},children:s.jsx(oc,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>k(P.id),children:s.jsx(Gi,{className:"h-4 w-4"})})]})]},P.id))})]})})]})},lB=({isOpen:e,onOpenChange:t,itemType:r,onConfirm:n,isDeleting:o})=>s.jsx(hn,{open:e,onOpenChange:t,children:s.jsxs(Hr,{children:[s.jsxs(qr,{children:[s.jsx(Yr,{children:"Confirm Deletion"}),s.jsxs(Tv,{children:["Are you sure you want to delete this ",r,"? This action cannot be undone. Associated images will also be removed."]})]}),s.jsxs(Ji,{children:[s.jsx(Q,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),s.jsx(Q,{variant:"destructive",onClick:n,disabled:o,children:o?"Deleting...":"Delete"})]})]})}),cB=()=>{const{isAdmin:e,loading:t,user:r}=Xt(),n=Ht();return v.useEffect(()=>{t||(r?e||(ne({variant:"destructive",title:"Access Denied",description:"You must be an admin to view this page."}),n("/admin-login")):(ne({variant:"destructive",title:"Authentication Required",description:"Please log in to access this page."}),n("/admin-login")))},[e,t,r,n]),{authLoading:t,isAdmin:e}},uB=e=>{const[t,r]=v.useState(!1),[n,o]=v.useState(null),[a,c]=v.useState(!1),{deleteFile:u}=dg(),f=v.useCallback((m,p,x=null)=>{o({type:m,id:p,imageUrl:x}),r(!0)},[]);return{isDeleteDialogOpen:t,itemToDelete:n,isDeleting:a,openDeleteDialog:f,confirmDelete:async()=>{if(n){c(!0);try{let m="",p=n.type;if(n.type==="product")m="products";else if(n.type==="category"){m="categories";const{data:j,error:w}=await ce.from("products").select("id").eq("category_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete category as it is assigned to products.")}else if(n.type==="time_slot"){m="time_slots";const{data:j,error:w}=await ce.from("orders").select("id").eq("timeslot_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete time slot as it has associated orders.");const{data:_,error:N}=await ce.from("pickup_orders").select("id").eq("timeslot_id",n.id).limit(1);if(N)throw N;if(_&&_.length>0)throw new Error("Cannot delete time slot as it has associated pickup orders.")}else throw new Error("Invalid item type for deletion");const{error:x}=await ce.from(m).delete().eq("id",n.id);if(x)throw x;if(n.imageUrl){const{error:j}=await u(n.imageUrl);j&&console.warn("Failed to delete associated image:",j)}ne({title:`${p.charAt(0).toUpperCase()+p.slice(1)} Deleted`});const y=e(j=>j);e(""),setTimeout(()=>e(y),0)}catch(m){console.error(`Error deleting ${n.type}:`,m),ne({variant:"destructive",title:"Deletion Failed",description:m.message})}finally{c(!1),r(!1),o(null)}}},setIsDeleteDialogOpen:r}},dB=()=>s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage orders, products, categories, and settings for Groceroo."})]}),fB=()=>{const{authLoading:e,isAdmin:t}=cB(),{getOrdersByStatus:r}=gv(),[n,o]=v.useState("orders"),{isDeleteDialogOpen:a,itemToDelete:c,isDeleting:u,openDeleteDialog:f,confirmDelete:h,setIsDeleteDialogOpen:m}=uB(o),p=r("pending").length,x=r("processing").length,y=r("delivered").length;if(e)return s.jsx("div",{className:"container flex items-center justify-center h-screen",children:s.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return null;const j=[{value:"orders",label:"Orders",icon:Wr,component:s.jsx(HU,{})},{value:"pickup-orders",label:"Store Pickups",icon:K_,component:s.jsx(iB,{})},{value:"products",label:"Products",icon:j$,component:s.jsx(KU,{openDeleteDialog:f},"products")},{value:"categories",label:"Categories",icon:yv,component:s.jsx(JU,{openDeleteDialog:f},"categories")},{value:"stores",label:"Stores",icon:li,component:s.jsx(rB,{})},{value:"time-slots",label:"Time Slots",icon:dn,component:s.jsx(aB,{openDeleteDialog:f},"time-slots")},{value:"promo-codes",label:"Promo Codes",icon:dn,component:s.jsx(sB,{openDeleteDialog:f},"promo-codes")},{value:"settings",label:"Settings",icon:V$,component:s.jsx(eB,{})}];return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx(dB,{}),s.jsx(WU,{pendingCount:p,processingCount:x,deliveredCount:y}),s.jsxs(ug,{value:n,onValueChange:o,className:"mt-8 space-y-6",children:[s.jsx(cf,{className:"grid w-full grid-cols-7 md:w-auto md:inline-flex",children:j.map(w=>s.jsxs(Ii,{value:w.value,className:"flex items-center",children:[s.jsx(w.icon,{className:"w-4 h-4 mr-2"}),w.label]},w.value))}),j.map(w=>s.jsx(Li,{value:w.value,children:w.component},w.value))]}),s.jsx(lB,{isOpen:a,onOpenChange:m,itemType:c==null?void 0:c.type,onConfirm:h,isDeleting:u})]})};function zm(e,t,r,n){if(typeof e!="number"||typeof t!="number"||typeof r!="number"||typeof n!="number")return null;const o=6371,a=(r-e)*Math.PI/180,c=(n-t)*Math.PI/180,u=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return o*f}function Pb(e){if(!e)return"";let[t,r]=e.split(":");t=parseInt(t,10);const n=t>=12?"PM":"AM";return t=t%12||12,`${t}:${r} ${n}`}const hB=({stores:e,selectedStores:t,onStoreToggle:r,onNotesChange:n,onEstimatedTotalChange:o,userLocation:a})=>{const c=v.useMemo(()=>a?[...e].sort((p,x)=>{const y=zm(a.lat,a.lng,p.lat,p.lng)??1/0,j=zm(a.lat,a.lng,x.lat,x.lng)??1/0;return y-j}):e,[e,a]),u=p=>{if(t.some(y=>y.id===p.id))r(t.filter(y=>y.id!==p.id));else{const y=[...t,{id:p.id,name:p.name,estimatedTotal:p.minimum_order_amount,notes:""}];r(y)}},f=(p,x)=>{const y=t.map(j=>j.id===p?{...j,notes:x}:j);r(y),n(p,x)},h=(p,x)=>{const y=t.map(j=>j.id===p?{...j,estimatedTotal:parseFloat(x)||0}:j);r(y),o(p,x)},m=(p,x,y,j)=>{const w=t.find(k=>k.id===p);let _=(w==null?void 0:w.notes)||"";const N=`${x.name} x${j}`,C=new RegExp(`${x.name} x(\\d+)`,"g");y?C.test(_)?_=_.replace(C,N):_=_?`${_}
${N}`:N:_=_.replace(C,"").replace(/^\s*[\r\n]/gm,"").trim(),f(p,_)};return s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:c.map(p=>{const x=t.some(N=>N.id===p.id),y=t.find(N=>N.id===p.id),j=p.minimum_order_amount,w=a&&p.lat&&p.lng?zm(a.lat,a.lng,p.lat,p.lng):null,_=Array.isArray(p.store_suggested_items)?p.store_suggested_items:[];return s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:s.jsxs(ln,{className:`transition-all ${x?"ring-2 ring-primary shadow-lg":"hover:shadow-md"} p-2 sm:p-4`,children:[" ",s.jsxs(En,{className:"pb-3 flex flex-row items-center justify-between border-b gap-2 sm:gap-4",children:[" ",s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:p.image?s.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):s.jsx(li,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Tn,{className:"text-base leading-tight",children:p.name}),s.jsxs(nt,{className:"bg-primary/10 text-primary font-semibold px-2 py-0.5 text-xs",children:["Min $",j]})]}),s.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:p.address}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xs",children:[Pb(p.opening_time)," - ",Pb(p.closing_time)]}),w&&s.jsxs("span",{className:"text-xs text-primary font-semibold",children:[" ",w.toFixed(1)," km"]})]})]})]}),s.jsx(Q,{type:"button",variant:x?"default":"outline",size:"md",className:"rounded-full w-8 h-8 flex items-center justify-center",onClick:()=>u(p),children:x?s.jsx(ba,{className:"w-4 h-4"}):s.jsx(Yi,{className:"w-4 h-4"})})]}),x&&s.jsxs(cn,{className:"space-y-4 border-t pt-4 bg-gray-50 rounded-b-lg",children:[_.length>0&&s.jsxs("div",{children:[s.jsx(oe,{className:"block mb-1 text-sm font-medium",children:"Suggested Items"}),s.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto pb-1",children:_.map((N,C)=>{var E;const k=new RegExp(`${N.name} x(\\d+)`,"g"),T=(E=y==null?void 0:y.notes)==null?void 0:E.match(k),D=T?parseInt(T[0].split("x")[1],10):1,P=!!T;return s.jsx("div",{className:"flex items-center gap-1 bg-white border rounded px-2 py-1 shadow-sm min-w-[120px]",children:s.jsxs("label",{className:"flex items-center gap-1 cursor-pointer w-full",children:[s.jsx("input",{type:"checkbox",checked:P,onChange:R=>m(p.id,N,R.target.checked,D),className:"w-4 h-4 accent-primary"}),s.jsxs("span",{className:"text-xs whitespace-nowrap",children:[N.name,":"]}),s.jsx("input",{type:"number",min:1,value:D,onChange:R=>m(p.id,N,!0,Math.max(1,parseInt(R.target.value)||1)),className:"w-10 text-xs ml-1 border rounded px-1 py-0.5 focus:outline-primary",disabled:!P})]})},N.name)})})]}),s.jsx("hr",{className:"my-2"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(oe,{htmlFor:`estimated-${p.id}`,className:"text-sm font-medium",children:"Estimated Total ($)"}),s.jsx(ye,{id:`estimated-${p.id}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:j,step:"5",value:y==null?void 0:y.estimatedTotal,onChange:N=>{const C=N.target.value.replace(/[^0-9.]/g,"");h(p.id,C)},onBlur:N=>{let C=parseFloat(N.target.value);(isNaN(C)||C<j)&&(C=j),h(p.id,C)},placeholder:`Minimum $${j}`,className:"mt-1 text-base px-2 py-1 rounded border focus:outline-primary"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(oe,{htmlFor:`notes-${p.id}`,className:"text-sm font-medium",children:"Shopping List / Notes"}),s.jsx(dr,{id:`notes-${p.id}`,value:(y==null?void 0:y.notes)||"",onChange:N=>f(p.id,N.target.value),placeholder:"Add your shopping list or special instructions...",rows:2,className:"mt-1 text-base px-2 py-1 rounded border focus:outline-primary"})]})]})]})},p.id)})})})},mB=({photos:e,onPhotosChange:t,maxPhotos:r=5})=>{const[n,o]=v.useState(!1),a=v.useRef(null),c=(m,p=800,x=.8)=>new Promise(y=>{const j=document.createElement("canvas"),w=j.getContext("2d"),_=new Image;_.onload=()=>{const N=Math.min(p/_.width,p/_.height);j.width=_.width*N,j.height=_.height*N,w.drawImage(_,0,0,j.width,j.height),j.toBlob(y,"image/jpeg",x)},_.src=URL.createObjectURL(m)}),u=async m=>{const p=Array.from(m.target.files);if(e.length+p.length>r){ne({variant:"destructive",title:"Too many photos",description:`You can only upload up to ${r} photos.`});return}o(!0);try{const x=await Promise.all(p.map(async y=>{const j=await c(y),w=new FileReader;return new Promise(_=>{w.onload=()=>{_({id:Date.now()+Math.random(),name:y.name,data:w.result,size:j.size})},w.readAsDataURL(j)})}));t([...e,...x]),ne({title:"Photos uploaded",description:`${x.length} photo(s) added successfully.`})}catch(x){console.error("Error compressing photos:",x),ne({variant:"destructive",title:"Upload failed",description:"Failed to process photos. Please try again."})}finally{o(!1),a.current&&(a.current.value="")}},f=m=>{t(e.filter(p=>p.id!==m))},h=m=>{if(m===0)return"0 Bytes";const p=1024,x=["Bytes","KB","MB"],y=Math.floor(Math.log(m)/Math.log(p));return parseFloat((m/Math.pow(p,y)).toFixed(2))+" "+x[y]};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"Photos (Optional)"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Upload photos of your shopping list or special items. Max ",r," photos."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var m;return(m=a.current)==null?void 0:m.click()},disabled:n||e.length>=r,className:"flex items-center",children:[n?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Z$,{className:"w-4 h-4 mr-2"}),n?"Processing...":"Upload Photos"]}),s.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]}),e.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(m=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted border",children:s.jsx("img",{src:m.data,alt:m.name,className:"w-full h-full object-cover"})}),s.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>f(m.id),children:s.jsx(us,{className:"h-3 w-3"})}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:[m.name," (",h(m.size),")"]})]},m.id))})]})},pB=[`Don't ring doorbell, leave at door
`,`Call on arrival
`,`Leave with reception
`,`Knock softly, baby sleeping
`,`Text me before delivery
`,`Hand to me only
`],vB=()=>{var Sc;const{user:e,userLocation:t,updateUserInfo:r}=Xt(),[n,o]=v.useState([]),[a,c]=v.useState([]),[u,f]=v.useState(""),[h,m]=v.useState([]),[p,x]=v.useState(!0),[y,j]=v.useState([]),[w,_]=v.useState(Cn()),[N,C]=v.useState(""),[k,T]=v.useState([]),[D,P]=v.useState(!1),[E,R]=v.useState(""),[$,H]=v.useState(""),[te,Z]=v.useState(""),[Y,L]=v.useState([]),[B,F]=v.useState(!1),[W,M]=v.useState(!1),[z,X]=v.useState({}),[O,q]=v.useState("whatsapp"),[ee,de]=v.useState(""),[pe,he]=v.useState([]),[re,se]=v.useState([]),[ge,xe]=v.useState(""),[ie,be]=v.useState(!1),[ze,Ue]=v.useState("new-order"),[Ze,or]=v.useState(null),[gt,ds]=v.useState(ja),[Kr,Or]=v.useState(!1),[fs,mc]=v.useState(!1),[Xr,pc]=v.useState({convenience_fee_percent:7,service_fee_percent:3}),[no,Ca]=v.useState(""),[fi,so]=v.useState((e==null?void 0:e.name)||""),[io,hs]=v.useState(""),hi=Ht();v.useEffect(()=>{Promise.all([ff(),ka(),gc()]),e&&(oo(),e.phone&&(de(e.phone),R(e.phone)))},[e]),v.useEffect(()=>{if(ge.length===0)se(pe);else{const ae=pe.filter(Ee=>Ee.suburb.toLowerCase().includes(ge.toLowerCase())||Ee.postcode.includes(ge));se(ae)}},[ge,pe]),v.useEffect(()=>{if(u.length===0)c(n);else{const ae=n.filter(Ee=>Ee.name.toLowerCase().includes(u.toLowerCase())||Ee.address.toLowerCase().includes(u.toLowerCase()));c(ae)}},[u,n]),v.useEffect(()=>{w&&Pa(w)},[w,gt]),v.useEffect(()=>{(async()=>{const{data:Ee,error:Xe}=await ce.from("delivery_settings").select("convenience_fee_percent, service_fee_percent").eq("id",1).single();!Xe&&Ee&&pc({convenience_fee_percent:Ee.convenience_fee_percent||7,service_fee_percent:Ee.service_fee_percent||3})})()},[]),v.useEffect(()=>{e&&pe&&vc()},[e,pe]);const df=!e&&y.length>0&&w&&N,vc=async()=>{var ae;if(e.addresses&&((ae=e.addresses)==null?void 0:ae.length)>0&&(H(e.addresses[0].address),pe&&pe.length)){const Ee=pe.find(Xe=>e.addresses[0].address.toUpperCase().includes(Xe.suburb.toUpperCase()));Ee?(Z(e.addresses[0].postcode),xe(`${Ee.suburb}, ${Ee.postcode}`)):xe("")}},gc=async()=>{try{const{data:ae,error:Ee}=await ce.from("delivery_settings").select("timezone").eq("id",1).single();!Ee&&(ae!=null&&ae.timezone)&&ds(ae.timezone)}catch(ae){console.error("Error fetching timezone:",ae)}},ff=async()=>{try{const{data:ae,error:Ee}=await ce.from("stores").select("*").order("name");if(Ee)throw Ee;o(ae||[]),c(ae||[])}catch(ae){console.error("Error fetching stores:",ae),ne({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{x(!1)}},ka=async()=>{try{const ae=await tf();he(ae),se(ae)}catch(ae){console.error("Error fetching postcodes:",ae)}},Pa=async ae=>{P(!0);try{const Ee=Ut(ae,gt),{data:Xe,error:xt}=await ce.from("time_slots").select("*").eq("date",Ee).eq("is_active",!0).order("start_time");if(xt)throw xt;T(Xe||[]),C("")}catch(Ee){console.error("Error fetching time slots:",Ee),T([])}finally{P(!1)}},oo=async()=>{try{const{data:ae,error:Ee}=await ce.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name)
          )
        `).eq("user_id",e.id).in("status",["pending","processing","ready"]).gte("pickup_date",Ut(Cn(gt),gt)).order("pickup_date",{ascending:!0});if(Ee)throw Ee;m(ae||[])}catch(ae){console.error("Error fetching upcoming orders:",ae),ne({variant:"destructive",title:"Error",description:"Could not load upcoming orders."})}},Ea=ae=>{const Ee=e.addresses.find(Xe=>Xe.address===ae);if(Ee){H(Ee.address),Z(Ee.postcode);const Xe=pe.find(xt=>Ee.address.toUpperCase().includes(xt.suburb.toUpperCase()));xe(Xe?`${Xe.suburb}, ${Xe.postcode}`:"")}F(!1)},Ta=ae=>{H(ae.address),Z(ae.postcode),xe(`${ae.suburb.toUpperCase()}, ${ae.postcode}`)},ms=ae=>{Z(ae.postcode),xe(`${ae.suburb}, ${ae.postcode}`),be(!1)},ps=ae=>{or(ae)},xc=()=>{or(null)},yc=()=>{Or(!1)},wc=()=>{const ae={};return y.length===0&&(ae.stores="Please select at least one store"),N||(ae.timeSlot="Please select a time slot"),O==="whatsapp"&&!E&&(ae.whatsapp="WhatsApp number is required for WhatsApp communication"),O==="phone"&&!ee&&(ae.phone="Phone number is required for SMS/Call communication"),$||(ae.address="Delivery address is required"),te||(ae.postcode="Please select a postcode"),y.forEach((Ee,Xe)=>{(!Ee.estimatedTotal||Ee.estimatedTotal<30)&&(ae[`store_${Ee.id}`]=`Minimum order for this store is ${Se(30)}`)}),W||(ae.terms="You must accept the terms and conditions"),X(ae),Object.keys(ae).length===0},bc=async ae=>{if(ae.preventDefault(),!wc()){ne({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields and accept the terms."});return}try{const Ee=y.reduce((Sr,Da)=>Sr+(Da.estimatedTotal||0),0),Xe=Ze?Ze.discountAmount:0,xt=_c(),qt=k.find(Sr=>Sr.id===N),$r=qt?`${Qo(qt.start_time)} - ${Qo(qt.end_time)}`:"",{data:fr,error:Jr}=await ce.from("pickup_orders").insert({user_id:e.id,pickup_date:Ut(w,gt),time_slot:$r,timeslot_id:N,whatsapp_number:O==="whatsapp"?E:null,phone_number:O==="phone"?ee:null,delivery_address:$,postcode:te,photos:Y,status:"pending",payment_status:"pending",estimated_total:Ee,promo_code:(Ze==null?void 0:Ze.code)||null,discount_amount:Xe,fees_data:{convenience_fee_percent:Xr.convenience_fee_percent,service_fee_percent:Xr.service_fee_percent,serviceFee:yn(),convenienceFee:In(),deliveryFee:gs()},admin_messages:fs?[{from:"customer",message:"Please reorder my previous items along with this order.",timestamp:new Date().toISOString()}]:[],notes:no}).select().single();if(Jr)throw Jr;const xs=y.map(Sr=>({pickup_order_id:fr.id,store_id:Sr.id,estimated_total:Sr.estimatedTotal,notes:Sr.notes,status:"pending"})),{error:Fn}=await ce.from("pickup_order_stores").insert(xs);if(Fn)throw Fn;if(!e.addresses||e.addresses.length===0){const Sr=[{id:Math.random().toString(36).substr(2,9),label:"default",address:$,postcode:te}];r({addresses:Sr})}hi("/pickup-payment",{state:{orderId:fr.id,orderData:{pickup_date:Ut(w,gt),time_slot:$r,contact_preference:O,whatsapp_number:O==="whatsapp"?E:null,phone_number:O==="phone"?ee:null,delivery_address:$,postcode:te,estimated_total:xt,promo_code:(Ze==null?void 0:Ze.code)||null,discount_amount:Xe,stores:y,fees_data:{convenience_fee_percent:Xr.convenience_fee_percent,service_fee_percent:Xr.service_fee_percent,serviceFee:yn(),convenienceFee:In(),deliveryFee:gs()},notes:no},finalTotal:xt}})}catch(Ee){console.error("Error creating pickup order:",Ee),ne({variant:"destructive",title:"Error",description:"Could not create pickup order."})}},jc=async(ae,Ee)=>{try{const{data:Xe,error:xt}=await ce.from("pickup_orders").select("admin_messages").eq("id",ae).single();if(xt)throw xt;const qt=Xe.admin_messages||[],$r={from:"customer",message:Ee,timestamp:new Date().toISOString()},{error:fr}=await ce.from("pickup_orders").update({admin_messages:[...qt,$r]}).eq("id",ae);if(fr)throw fr;ne({title:"Message sent",description:"Your message has been sent to the admin."}),oo()}catch(Xe){console.error("Error sending message:",Xe),ne({variant:"destructive",title:"Error",description:"Could not send message."})}},vs=()=>Number(Ln.subtotal||0),gs=()=>Number(Ln.deliveryFee||0),Mn=()=>Number(Ln.discountAmount||0),In=()=>parseFloat((vs()*(Xr.convenience_fee_percent/100)).toFixed(2)),yn=()=>{const ae=vs()+gs()+In();return parseFloat((ae*(Xr.service_fee_percent/100)).toFixed(2))},_c=()=>{const ae=vs()+gs()+In()+yn()-Mn();return parseFloat(ae.toFixed(2))},Ln=(()=>{const ae=y.reduce(($r,fr)=>$r+(fr.estimatedTotal||0),0),Ee=ae*.1,Xe=y.reduce(($r,fr)=>{const Jr=n.find(Fn=>Fn.id===fr.id),xs=(Jr==null?void 0:Jr.store_delivery_fee)||0;return Math.max($r,xs)},0),xt=Ze?Ze.discountAmount:0,qt=ae+Ee+Xe-xt;return{subtotal:ae,serviceCharge:Ee,deliveryFee:Xe,discountAmount:xt,total:qt}})(),lo=ae=>{const Ee=Cn(gt),Xe=Ut(Ee,gt);return Ut(ae,gt)<Xe},Aa=ae=>{const Ee=k.find(xt=>xt.id===ae);if(!Ee)return C(ae);const Xe=y.map(xt=>{const qt=n.find(mf=>mf.id===xt.id);if(!qt||!qt.opening_time||!qt.closing_time)return null;const[$r,fr]=Ee.start_time.split(":").map(Number),[Jr,xs]=Ee.end_time.split(":").map(Number),[Fn,Sr]=qt.opening_time.split(":").map(Number),[Da,ft]=qt.closing_time.split(":").map(Number),hf=$r*60+fr,Ra=Jr*60+xs,Nc=Fn*60+Sr,co=Da*60+ft;return hf<Nc||Ra>co?qt.name:null}).filter(Boolean);if(Xe.length>0){ne({variant:"destructive",title:"Store Hours Conflict",description:`The selected time slot is outside operating hours for: ${Xe.join(", ")}. Please choose another slot.`});return}C(ae)};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[240px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-2",children:s.jsxs(je.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsx("h1",{className:"text-lg md:text-xl font-bold text-white mb-1",children:"Grocery Run"}),s.jsx("p",{className:"text-white/90 text-xs",children:"Let us do the shopping for you at multiple stores!"})]}),s.jsxs("div",{className:"grid gap-1 grid-cols-2 md:grid-cols-4 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(li,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"1. Add Stores"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Select stores and set budget"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Md,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"2. Share Lists"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Add shopping lists"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(dn,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"3. We Shop"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"We shop at all stores"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Vl,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"4. Delivery"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"All items in one trip"})]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-6 mx-auto md:px-6",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-6xl mx-auto",children:s.jsxs(ug,{value:ze,onValueChange:Ue,className:"space-y-6",children:[s.jsxs(cf,{className:"grid w-full grid-cols-2",children:[s.jsx(Ii,{value:"new-order",children:"Schedule"}),s.jsxs(Ii,{value:"upcoming-orders",children:["Upcoming (",h.length,")"]})]}),s.jsx(Li,{value:"new-order",className:"space-y-6",children:s.jsxs(ln,{children:[s.jsxs(En,{children:[s.jsxs(Tn,{children:["New Grocery Run ...",s.jsx(Ld,{style:{display:"inline"}})]}),s.jsx(Lp,{children:"Add one or more stores, provide your lists/notes/photos and confirm. We will shop for you and deliver everything in one trip."})]}),s.jsxs(cn,{children:[s.jsxs("form",{onSubmit:bc,className:"mb-4 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Add Stores"}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"font-medium text-green-600",children:"Note:"})," You can provide your order lists/photos later after scheduling too."]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(xv,{className:"absolute left-2.5 top-3.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{type:"search",placeholder:"Search stores...",className:"pl-8",value:u,onChange:ae=>f(ae.target.value)})]})}),s.jsx(hB,{stores:a,selectedStores:y,onStoreToggle:j,onNotesChange:()=>{},onEstimatedTotalChange:()=>{},userLocation:t})]}),z.stores&&s.jsx("p",{className:"text-xs text-destructive",children:z.stores}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Select Date"}),s.jsxs(Kl,{children:[s.jsx(Xl,{asChild:!0,children:s.jsxs(Q,{type:"button",variant:"outline",className:Pe("w-full justify-start text-left font-normal",!w&&"text-muted-foreground"),children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),w?Ut(w,gt):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(va,{className:"w-auto p-0",align:"start",children:s.jsx(ma,{mode:"single",selected:w,onSelect:_,disabled:lo,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Time Slot"}),D?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):k.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(Vt,{value:N,onValueChange:Aa,children:[s.jsx(At,{className:z.timeSlot?"border-destructive":"",children:s.jsx(zt,{placeholder:"Choose a time slot"})}),s.jsx(Dt,{children:k.map(ae=>s.jsxs(De,{value:ae.id,children:[Qo(ae.start_time)," - ",Qo(ae.end_time)]},ae.id))})]}),z.timeSlot&&s.jsx("p",{className:"text-xs text-destructive",children:z.timeSlot})]})]}),e&&!e.name&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"user-name",children:"Your Full Name"}),s.jsx(ye,{id:"user-name",value:fi,onChange:ae=>so(ae.target.value),placeholder:"Enter your name",className:io?"border-destructive":""}),io&&s.jsx("p",{className:"text-xs text-destructive",children:io}),s.jsx(Q,{type:"button",className:"mt-2",onClick:async()=>{if(!fi.trim()){hs("Please enter your name");return}hs(""),await r({name:fi.trim()}),ne({title:"Name updated",description:"Your name has been saved."})},children:"Save Name"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Contact Preference"}),s.jsxs(af,{value:O,onValueChange:q,className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qs,{value:"whatsapp",id:"whatsapp"}),s.jsx(oe,{htmlFor:"whatsapp",children:"WhatsApp"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qs,{value:"phone",id:"phone"}),s.jsx(oe,{htmlFor:"phone",children:"SMS/Call"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qs,{value:"inapp",id:"inapp"}),s.jsx(oe,{htmlFor:"inapp",children:"On this site"})]})]})]}),O==="whatsapp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"whatsapp",children:"WhatsApp Number"}),s.jsx(ye,{id:"whatsapp",value:E,onChange:ae=>R(ae.target.value),placeholder:"Enter your WhatsApp number",className:z.whatsapp?"border-destructive":""}),z.whatsapp&&s.jsx("p",{className:"text-xs text-destructive",children:z.whatsapp})]}),O==="phone"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",value:ee,onChange:ae=>de(ae.target.value),placeholder:"Enter your phone number",className:z.phone?"border-destructive":""}),z.phone&&s.jsx("p",{className:"text-xs text-destructive",children:z.phone})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(oe,{htmlFor:"address",children:"Delivery Address"}),e&&((Sc=e.addresses)==null?void 0:Sc.length)>0&&s.jsxs(Q,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(!B),className:"flex items-center text-primary",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"}),B?"Hide saved addresses":"Use saved address"]})]}),B&&s.jsx(xN,{onSelect:Ea}),s.jsx(ef,{value:$,onChange:H,onAddressSelect:Ta,placeholder:"Start typing your address...",className:z.address?"border-destructive":""}),z.address&&s.jsx("p",{className:"text-xs text-destructive",children:z.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"postcode",placeholder:"Search suburb or postcode...",value:ge,onChange:ae=>{xe(ae.target.value),be(!0)},onFocus:()=>be(!0),className:z.postcode?"border-destructive":""}),ie&&re.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:re.slice(0,10).map(ae=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>ms(ae),children:[s.jsx("div",{className:"text-sm font-medium",children:ae.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:ae.postcode})]},`${ae.suburb}-${ae.postcode}`))})]}),z.postcode&&s.jsx("p",{className:"text-xs text-destructive",children:z.postcode})]}),y.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Promo Code"}),s.jsx(kC,{subtotal:Ln.subtotal,onPromoApplied:ps,appliedPromo:Ze,onPromoRemoved:xc})]}),s.jsx("hr",{}),y.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.map(ae=>s.jsx("span",{className:"bg-seagreen text-white-800 border border-gray-200 rounded-full px-6 py-1 text-xs font-medium shadow-sm",children:ae.name},ae.id))}),y.length>0&&s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Subtotal:"}),s.jsx("span",{children:Se(vs())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Convenience Fee (",Xr.convenience_fee_percent,"%):"]}),s.jsx("span",{children:Se(In())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Fee :"}),s.jsx("span",{children:Se(gs())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Service Fee (",Xr.service_fee_percent,"%):"]}),s.jsx("span",{children:Se(yn())})]}),Ze&&Mn()>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",Ze.code,"):"]}),s.jsxs("span",{children:["-",Se(Mn())]})]}),s.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{children:Se(_c())})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"delivery-notes",children:"Delivery Notes"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2 mt-2 pb-4",children:pB.map(ae=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>Ca(Ee=>Ee?Ee+(Ee.endsWith(`
`)?"":" ")+ae:ae),children:ae},ae))}),s.jsx(dr,{id:"delivery-notes",value:no,onChange:ae=>Ca(ae.target.value),placeholder:"Add instructions (optional)",className:z.deliveryNotes?"border-destructive":"",rows:3}),z.deliveryNotes&&s.jsx("p",{className:"text-xs text-destructive",children:z.deliveryNotes}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"font-medium text-red-600",children:"Note:"})," The final amount may change after shopping, and you may be required to pay the difference before delivery."]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(as,{id:"terms",checked:W,onCheckedChange:M}),s.jsxs(oe,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Te,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Te,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]}),z.terms&&s.jsx("p",{className:"text-xs text-destructive",children:z.terms}),s.jsxs(Q,{type:"submit",className:"w-full",disabled:y.length===0,children:["Proceed to Payment ",s.jsx(wa,{})]})]})]}),df&&s.jsxs(ln,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(En,{children:[s.jsx(Tn,{children:"Sign in to Continue"}),s.jsx(Lp,{children:"Please sign in to complete your grocery run order"})]}),s.jsx(cn,{children:s.jsx("div",{className:"max-w-lg mx-auto",children:s.jsx(Wd,{onSuccess:yc})})})]})]})]})}),s.jsx(Li,{value:"upcoming-orders",children:s.jsx(zC,{orders:h,onSendMessage:jc})})]})})})]})};var WC="https://js.stripe.com/v3",gB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var xB=function(){for(var t=document.querySelectorAll('script[src^="'.concat(WC,'"]')),r=0;r<t.length;r++){var n=t[r];if(gB.test(n.src))return n}return null},Eb=function(t){var r="",n=document.createElement("script");n.src="".concat(WC).concat(r);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},yB=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:r})},jl=null,Ju=null,Qu=null,wB=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},bB=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},jB=function(t){return jl!==null?jl:(jl=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var o=xB();if(!(o&&t)){if(!o)o=Eb(t);else if(o&&Qu!==null&&Ju!==null){var a;o.removeEventListener("load",Qu),o.removeEventListener("error",Ju),(a=o.parentNode)===null||a===void 0||a.removeChild(o),o=Eb(t)}}Qu=bB(r,n),Ju=wB(n),o.addEventListener("load",Qu),o.addEventListener("error",Ju)}catch(c){n(c);return}}),jl.catch(function(r){return jl=null,Promise.reject(r)}))},_B=function(t,r,n){if(t===null)return null;var o=t.apply(void 0,r);return yB(o,n),o},_l,HC=!1,qC=function(){return _l||(_l=jB(null).catch(function(t){return _l=null,Promise.reject(t)}),_l)};Promise.resolve().then(function(){return qC()}).catch(function(e){HC||console.warn(e)});var SB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];HC=!0;var o=Date.now();return qC().then(function(a){return _B(a,r,o)})},Wm={exports:{}},Hm,Tb;function NB(){if(Tb)return Hm;Tb=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hm=e,Hm}var qm,Ab;function CB(){if(Ab)return qm;Ab=1;var e=NB();function t(){}function r(){}return r.resetWarningCache=t,qm=function(){function n(c,u,f,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function o(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},qm}var Db;function kB(){return Db||(Db=1,Wm.exports=CB()()),Wm.exports}var PB=kB();const pt=Jl(PB);function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){YC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nd=function(t){return typeof t}:nd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function YC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GC(e,t){return EB(e)||TB(e,t)||AB(e,t)||DB()}function EB(e){if(Array.isArray(e))return e}function TB(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],o=!0,a=!1,c,u;try{for(r=r.call(e);!(o=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function AB(e,t){if(e){if(typeof e=="string")return $b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $b(e,t)}}function $b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Er=function(t,r,n){var o=!!n,a=me.useRef(n);me.useEffect(function(){a.current=n},[n]),me.useEffect(function(){if(!o||!t)return function(){};var c=function(){a.current&&a.current.apply(a,arguments)};return t.on(r,c),function(){t.off(r,c)}},[o,r,t,a])},Fp=function(t){var r=me.useRef(t);return me.useEffect(function(){r.current=t},[t]),r.current},ga=function(t){return t!==null&&nd(t)==="object"},RB=function(t){return ga(t)&&typeof t.then=="function"},OB=function(t){return ga(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Mb="[object Object]",$B=function e(t,r){if(!ga(t)||!ga(r))return t===r;var n=Array.isArray(t),o=Array.isArray(r);if(n!==o)return!1;var a=Object.prototype.toString.call(t)===Mb,c=Object.prototype.toString.call(r)===Mb;if(a!==c)return!1;if(!a&&!n)return t===r;var u=Object.keys(t),f=Object.keys(r);if(u.length!==f.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var p=0;p<f.length;p+=1)h[f[p]]=!0;var x=Object.keys(h);if(x.length!==u.length)return!1;var y=t,j=r,w=function(N){return e(y[N],j[N])};return x.every(w)},KC=function(t,r,n){return ga(t)?Object.keys(t).reduce(function(o,a){var c=!ga(r)||!$B(t[a],r[a]);return n.includes(a)?(c&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),o):c?Ob(Ob({},o||{}),{},YC({},a,t[a])):o},null):null},XC="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ib=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XC;if(t===null||OB(t))return t;throw new Error(r)},MB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XC;if(RB(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return Ib(o,r)})};var n=Ib(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},IB=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},uf=me.createContext(null);uf.displayName="ElementsContext";var JC=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},QC=function(t){var r=t.stripe,n=t.options,o=t.children,a=me.useMemo(function(){return MB(r)},[r]),c=me.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),u=GC(c,2),f=u[0],h=u[1];me.useEffect(function(){var x=!0,y=function(w){h(function(_){return _.stripe?_:{stripe:w,elements:w.elements(n)}})};return a.tag==="async"&&!f.stripe?a.stripePromise.then(function(j){j&&x&&y(j)}):a.tag==="sync"&&!f.stripe&&y(a.stripe),function(){x=!1}},[a,f,n]);var m=Fp(r);me.useEffect(function(){m!==null&&m!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,r]);var p=Fp(n);return me.useEffect(function(){if(f.elements){var x=KC(n,p,["clientSecret","fonts"]);x&&f.elements.update(x)}},[n,p,f.elements]),me.useEffect(function(){IB(f.stripe)},[f.stripe]),me.createElement(uf.Provider,{value:f},o)};QC.propTypes={stripe:pt.any,options:pt.object};var LB=function(t){var r=me.useContext(uf);return JC(r,t)},FB=function(){var t=LB("calls useElements()"),r=t.elements;return r};pt.func.isRequired;var ZC=me.createContext(null);ZC.displayName="CustomCheckoutSdkContext";var UB=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},BB=me.createContext(null);BB.displayName="CustomCheckoutContext";pt.any,pt.shape({clientSecret:pt.string.isRequired,elementsOptions:pt.object}).isRequired;var Up=function(t){var r=me.useContext(ZC),n=me.useContext(uf);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?UB(r,t):JC(n,t)},VB=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},kt=function(t,r){var n="".concat(VB(t),"Element"),o=function(f){var h=f.id,m=f.className,p=f.options,x=p===void 0?{}:p,y=f.onBlur,j=f.onFocus,w=f.onReady,_=f.onChange,N=f.onEscape,C=f.onClick,k=f.onLoadError,T=f.onLoaderStart,D=f.onNetworksChange,P=f.onConfirm,E=f.onCancel,R=f.onShippingAddressChange,$=f.onShippingRateChange,H=Up("mounts <".concat(n,">")),te="elements"in H?H.elements:null,Z="customCheckoutSdk"in H?H.customCheckoutSdk:null,Y=me.useState(null),L=GC(Y,2),B=L[0],F=L[1],W=me.useRef(null),M=me.useRef(null);Er(B,"blur",y),Er(B,"focus",j),Er(B,"escape",N),Er(B,"click",C),Er(B,"loaderror",k),Er(B,"loaderstart",T),Er(B,"networkschange",D),Er(B,"confirm",P),Er(B,"cancel",E),Er(B,"shippingaddresschange",R),Er(B,"shippingratechange",$),Er(B,"change",_);var z;w&&(t==="expressCheckout"?z=w:z=function(){w(B)}),Er(B,"ready",z),me.useLayoutEffect(function(){if(W.current===null&&M.current!==null&&(te||Z)){var O=null;Z?O=Z.createElement(t,x):te&&(O=te.create(t,x)),W.current=O,F(O),O&&O.mount(M.current)}},[te,Z,x]);var X=Fp(x);return me.useEffect(function(){if(W.current){var O=KC(x,X,["paymentRequest"]);O&&"update"in W.current&&W.current.update(O)}},[x,X]),me.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),me.createElement("div",{id:h,className:m,ref:M})},a=function(f){Up("mounts <".concat(n,">"));var h=f.id,m=f.className;return me.createElement("div",{id:h,className:m})},c=r?a:o;return c.propTypes={id:pt.string,className:pt.string,onChange:pt.func,onBlur:pt.func,onFocus:pt.func,onReady:pt.func,onEscape:pt.func,onClick:pt.func,onLoadError:pt.func,onLoaderStart:pt.func,onNetworksChange:pt.func,onConfirm:pt.func,onCancel:pt.func,onShippingAddressChange:pt.func,onShippingRateChange:pt.func,options:pt.object},c.displayName=n,c.__elementType=t,c},Pt=typeof window>"u",zB=me.createContext(null);zB.displayName="EmbeddedCheckoutProviderContext";var WB=function(){var t=Up("calls useStripe()"),r=t.stripe;return r};kt("auBankAccount",Pt);kt("card",Pt);kt("cardNumber",Pt);kt("cardExpiry",Pt);kt("cardCvc",Pt);kt("fpxBank",Pt);kt("iban",Pt);kt("idealBank",Pt);kt("p24Bank",Pt);kt("epsBank",Pt);var HB=kt("payment",Pt);kt("expressCheckout",Pt);kt("currencySelector",Pt);kt("paymentRequestButton",Pt);kt("linkAuthentication",Pt);kt("address",Pt);kt("shippingAddress",Pt);kt("paymentMethodMessaging",Pt);kt("affirmMessage",Pt);kt("afterpayClearpayMessage",Pt);const qB=SB("pk_test_51RU0DpAcyZwL9ZCroHLDNCalx80u736eoFCb3mNARKz2BpDuDhl2VgtPJWp8t0jkaitH7zXOFDiE7B3q95rNColr00V7gqABTc",{stripeAccount:"acct_1RU0DpAcyZwL9ZCr"}),YB=({onPaymentSuccess:e})=>{const t=WB(),r=FB(),[n,o]=v.useState(!1),a=async c=>{if(c.preventDefault(),!(!t||!r)){o(!0);try{const{error:u,paymentIntent:f}=await t.confirmPayment({elements:r,redirect:"if_required"});if(u)throw new Error(u.message);const m=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/verify-stripe-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({paymentIntentId:f.id})})).json();if(m.success)await e(m.orderData),ne({title:"Payment Successful",description:"Your order has been placed successfully."});else throw new Error(m.error||"Payment verification failed")}catch(u){console.error("Payment error:",u),ne({variant:"destructive",title:"Payment Failed",description:u.message})}finally{o(!1)}}};return s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsx(HB,{}),s.jsx(Q,{type:"submit",className:"w-full",disabled:n,children:n?"Processing...":"Pay Now"})]})},ek=({clientSecret:e,onPaymentSuccess:t})=>e?s.jsx(QC,{stripe:qB,options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"#2E8B57"}}},children:s.jsx(YB,{onPaymentSuccess:t})}):null,GB=()=>{var y;const{user:e}=Xt(),t=Ht(),r=ls(),[n,o]=v.useState(null),[a,c]=v.useState(!0),[u,f]=v.useState(null),{orderId:h,orderData:m,finalTotal:p}=r.state||{};v.useEffect(()=>{if(!h||!m||!p){t("/grocery-run");return}(async()=>{try{const _=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"pickup",orderId:h,orderData:m,amount:Math.round(p*100),user_id:e.id,productList:null})})).json();if(_.error)throw new Error(_.error);o(_.clientSecret)}catch(w){f(w.message)}finally{c(!1)}})()},[h,m,p,t,e.id]);const x=async j=>{try{const{error:w}=await ce.from("pickup_orders").update({payment_status:"paid",payment_data:j.payment_data,status:"processing"}).eq("id",h);if(w)throw w;ne({title:"Payment Successful",description:"Your grocery run has been scheduled and payment confirmed."}),t("/grocery-run",{state:{tab:"upcoming-orders",message:"Your grocery run has been scheduled successfully!"}})}catch(w){console.error("Error updating order:",w),f("Payment successful but failed to update order. Please contact support.")}};return a?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):u?s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:u}),s.jsxs(Q,{onClick:()=>t("/grocery-run"),variant:"outline",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Return to Grocery Run"]})]})}):s.jsx("div",{className:"container py-8",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl md:max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs(ln,{className:"bg-muted/30 border",children:[s.jsx(En,{children:s.jsxs(Tn,{className:"flex items-center",children:[s.jsx(wa,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),s.jsxs(cn,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pickup Date:"}),s.jsx("span",{children:new Date(m.pickup_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Time Slot:"}),s.jsx("span",{children:m.time_slot})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Stores:"}),s.jsxs("span",{children:[((y=m.stores)==null?void 0:y.length)||0," stores"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Contact:"}),s.jsx("span",{children:m.contact_preference==="whatsapp"?`WhatsApp: ${m.whatsapp_number}`:`Phone: ${m.phone_number}`})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"text-lg",children:Se(p)})]})})]})]}),s.jsxs(ln,{children:[s.jsx(En,{children:s.jsx(Tn,{children:"Payment Details"})}),s.jsx(cn,{children:s.jsx(ek,{clientSecret:n,onPaymentSuccess:x})})]})]})})})},KB=()=>{var H,te,Z,Y,L,B;const{id:e}=Nd(),{user:t}=Xt(),r=Ht(),[n,o]=v.useState(null),[a,c]=v.useState(!0),[u,f]=v.useState(""),[h,m]=v.useState(!1),[p,x]=v.useState({}),[y,j]=v.useState({}),[w,_]=v.useState({}),[N,C]=v.useState(!1),[k,T]=v.useState(!1);v.useEffect(()=>{if(!t){r("/grocery-run");return}D()},[e,t,r]);const D=async()=>{var F;try{const{data:W,error:M}=await ce.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address, store_suggested_items)
          )
        `).eq("id",e).eq("user_id",t.id).single();if(M)throw M;if(!W){ne({variant:"destructive",title:"Order not found",description:"This order doesn't exist or you don't have access to it."}),r("/grocery-run");return}o(W);const z={},X={};(F=W.pickup_order_stores)==null||F.forEach(O=>{z[O.store_id]=O.notes||"",X[O.store_id]=[]}),x(z),j(X)}catch(W){console.error("Error fetching order details:",W),ne({variant:"destructive",title:"Error",description:"Could not load order details."}),r("/grocery-run")}finally{c(!1)}},P=async(F,W)=>{_(M=>({...M,[F]:!0}));try{const{error:M}=await ce.from("pickup_order_stores").update({notes:p[F]}).eq("id",W);if(M)throw M;ne({title:"Notes saved",description:"Your shopping notes have been updated."}),o(z=>({...z,pickup_order_stores:z.pickup_order_stores.map(X=>X.id===W?{...X,notes:p[F]}:X)}))}catch(M){console.error("Error saving notes:",M),ne({variant:"destructive",title:"Error",description:"Could not save notes."})}finally{_(M=>({...M,[F]:!1}))}},E=async F=>{T(!0);try{const{error:W}=await ce.from("pickup_orders").update({status:"cancelled",cancel_reason:F}).eq("id",n.id);if(W)throw W;o(M=>({...M,status:"cancelled",cancel_reason:F})),ne({title:"Order Cancelled",description:"Your order has been cancelled."}),C(!1)}catch{ne({variant:"destructive",title:"Error",description:"Could not cancel order."})}finally{T(!1)}},R=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n?s.jsx("div",{className:"container py-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Te,{to:"/account",children:s.jsxs(Q,{variant:"ghost",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Return to Account"]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1 sm:gap-0 sm:flex-row sm:items-center sm:space-x-4 flex-1",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-wrap break-words",children:["Grocery Run #",n.id.slice(0,6).toUpperCase()]}),s.jsxs("span",{className:"text-muted-foreground text-sm sm:text-base flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4 mr-1 text-muted-foreground"}),n.pickup_date?Rt(new Date(n.pickup_date),"PPP"):"N/A",s.jsx(dn,{className:"w-4 h-4 ml-2 mr-1 text-muted-foreground"}),n.time_slot]})]}),s.jsxs("div",{className:"flex flex-row flex-wrap gap-2 sm:gap-4 items-center justify-end",children:[s.jsxs(nt,{className:$(n.payment_status),children:[s.jsx(wa,{})," ",n.payment_status.charAt(0).toUpperCase()+n.payment_status.slice(1)]}),s.jsxs(nt,{className:R(n.status),children:[s.jsx(x$,{})," ",n.status.charAt(0).toUpperCase()+n.status.slice(1)]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ln,{className:"bg-gray-50",children:[s.jsx(En,{children:s.jsxs(Tn,{className:"flex items-center text-base sm:text-lg",children:[s.jsx(Wr,{className:"w-5 h-5 mr-2"}),"Summary"]})}),s.jsxs(cn,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(un,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.pickup_date?Rt(new Date(n.pickup_date),"PPP"):"N/A"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(dn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vl,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx("span",{className:"break-words",children:n.delivery_address})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Id,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.whatsapp_number||n.phone_number]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-4 border-t gap-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsx("span",{className:"text-lg font-bold",children:n.actual_total?Se(n.actual_total):"(Est.)"+Se(n.estimated_total)})]}),n.actual_total&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-2 gap-2",children:[s.jsx("span",{className:"font-medium",children:"Actual Total:"}),s.jsx("span",{className:"text-base font-semibold",children:Se(n.actual_total)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-2 gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Convenience Fee (",((H=n.fees_data)==null?void 0:H.convenience_fee_percent)+"%",") :"]}),s.jsx("span",{className:"text-sm",children:Se(((te=n.fees_data)==null?void 0:te.convenienceFee)||0)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Service Fee (",((Z=n.fees_data)==null?void 0:Z.service_fee_percent)+"%",") :"]}),s.jsx("span",{className:"text-sm",children:Se(((Y=n.fees_data)==null?void 0:Y.serviceFee)||0)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Delivery Fee:"}),s.jsx("span",{className:"text-sm",children:Se(((L=n.fees_data)==null?void 0:L.deliveryFee)||0)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),s.jsx("span",{className:"text-sm break-words",children:n.notes})]})]})]}),s.jsxs(ln,{children:[s.jsx(En,{children:s.jsxs(Tn,{className:"flex items-center",children:[s.jsx(li,{className:"w-5 h-5 mr-2"}),"Stores Selected"]})}),s.jsx(cn,{className:"space-y-6",children:(B=n.pickup_order_stores)==null?void 0:B.map((F,W)=>{var M,z,X,O;return s.jsxs("div",{className:"space-y-4",children:[W>0&&s.jsx(ql,{}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium mb-0",children:(M=F.stores)==null?void 0:M.name}),s.jsx(nt,{className:R(F.status),variant:"outline",children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(z=F.stores)==null?void 0:z.address}),Array.isArray((X=F.stores)==null?void 0:X.store_suggested_items)&&F.stores.store_suggested_items.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:F.stores.store_suggested_items.map((q,ee)=>{const de=new RegExp(`${q.name} x(\\d+)`,"g"),pe=(p[F.store_id]||"").match(de),he=pe?parseInt(pe[0].split("x")[1],10):1,re=!!pe;return s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded px-2 py-1",children:[s.jsx("input",{type:"checkbox",checked:re,onChange:se=>{let ge=p[F.store_id]||"";const xe=`${q.name} x${he}`;se.target.checked?de.test(ge)?ge=ge.replace(de,xe):ge=ge?`${ge}
${xe}`:xe:ge=ge.replace(de,"").replace(/^\s*[\r\n]/gm,"").trim(),x(ie=>({...ie,[F.store_id]:ge}))},disabled:n.status==="completed"||n.status==="cancelled"}),s.jsxs("span",{className:"text-xs",children:[q.name," : Qty"]}),s.jsx("input",{type:"number",min:1,value:he,onChange:se=>{let ge=p[F.store_id]||"";const xe=Math.max(1,parseInt(se.target.value)||1),ie=`${q.name} x${xe}`;de.test(ge)?ge=ge.replace(de,ie):ge=ge?`${ge}
${ie}`:ie,x(be=>({...be,[F.store_id]:ge}))},className:"w-10 text-xs ml-1 border rounded px-1 py-0.5",disabled:!re||n.status==="completed"||n.status==="cancelled"})]},q.name)})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:F.actual_total?Se(F.actual_total):Se(F.estimated_total)}),F.actual_total&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",Se(F.estimated_total)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:`notes-${F.store_id}`,children:"Shopping List / Notes"}),s.jsx(dr,{id:`notes-${F.store_id}`,value:p[F.store_id]||"",onChange:q=>x(ee=>({...ee,[F.store_id]:q.target.value})),placeholder:"Add your shopping list or special instructions for this store...",rows:3,disabled:n.status==="completed"||n.status==="cancelled"}),n.status!=="completed"&&n.status!=="cancelled"&&s.jsx(Q,{size:"sm",onClick:()=>P(F.store_id,F.id),disabled:w[F.store_id],children:w[F.store_id]?"Saving...":"Save Notes"})]}),n.status!=="completed"&&n.status!=="cancelled"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(oe,{children:["Photos for ",(O=F.stores)==null?void 0:O.name]}),s.jsx(mB,{photos:y[F.store_id]||[],onPhotosChange:q=>j(ee=>({...ee,[F.store_id]:q})),maxPhotos:5})]})]},F.id)})})]}),n.photos&&n.photos.length>0&&s.jsxs(ln,{children:[s.jsx(En,{children:s.jsxs(Tn,{className:"flex items-center",children:[s.jsx(G4,{className:"w-5 h-5 mr-2"}),"Your Photos"]})}),s.jsx(cn,{children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.photos.map((F,W)=>s.jsx("img",{src:F.data,alt:`Photo ${W+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(F.data,"_blank")},W))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(EC,{orderId:n.id,initialMessages:n.admin_messages||[],fetchMessages:async()=>{const{data:F}=await ce.from("pickup_orders").select("admin_messages").eq("id",n.id).single();return(F==null?void 0:F.admin_messages)||[]},sendMessage:async F=>{const W=n.admin_messages||[];await ce.from("pickup_orders").update({admin_messages:[...W,{from:"customer",message:F,timestamp:new Date().toISOString()}]}).eq("id",n.id)},disabled:n.status==="cancelled"||n.status==="completed"}),n.status!=="cancelled"&&n.status!=="completed"&&s.jsx(Q,{variant:"destructive",className:"w-full",onClick:()=>C(!0),children:"Cancel Order"})]})]}),s.jsx(PC,{open:N,onClose:()=>C(!1),onConfirm:E,loading:k})]})}):s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order not found"}),s.jsx(Te,{to:"/grocery-run",children:s.jsxs(Q,{variant:"outline",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Grocery Run"]})})]})},XB=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),s.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us, including:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Name and contact information"}),s.jsx("li",{children:"Delivery address"}),s.jsx("li",{children:"Order history and preferences"}),s.jsx("li",{children:"Payment information"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Process and deliver your orders"}),s.jsx("li",{children:"Send order confirmations and updates"}),s.jsx("li",{children:"Improve our services"}),s.jsx("li",{children:"Communicate with you about promotions and updates"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),s.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We share your information only with:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery partners to fulfill your orders"}),s.jsx("li",{children:"Payment processors to handle transactions"}),s.jsx("li",{children:"Service providers who assist our operations"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Your Rights"}),s.jsx("p",{className:"mb-4",children:"You have the right to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information"}),s.jsx("li",{children:"Opt-out of marketing communications"})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Te,{to:"/",children:s.jsx(Q,{variant:"outline",children:"Back to Home"})})})]})}),JB=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms and Conditions"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"mb-4",children:"By accessing and using Groceroo's services, you agree to be bound by these Terms and Conditions. These terms govern your use of our website, mobile application, and delivery services."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Service Description"}),s.jsx("p",{className:"mb-4",children:"Groceroo provides an online grocery shopping and delivery service. We:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Accept orders for grocery items"}),s.jsx("li",{children:"Process payments securely"}),s.jsx("li",{children:"Deliver orders to specified addresses"}),s.jsx("li",{children:"Offer store pickup services"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Ordering and Delivery"}),s.jsx("p",{className:"mb-4",children:"When placing an order:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"You must provide accurate delivery information"}),s.jsx("li",{children:"Orders are subject to product availability"}),s.jsx("li",{children:"Delivery times are estimates and not guaranteed"}),s.jsx("li",{children:"Minimum order values may apply"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Pricing and Payment"}),s.jsx("p",{className:"mb-4",children:"All prices are in AUD and include applicable taxes. Additional fees may apply:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery fees"}),s.jsx("li",{children:"Service fees"}),s.jsx("li",{children:"Special handling fees"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Returns and Refunds"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Returns are accepted only for items that are damaged, defective, or incorrect at the time of delivery."}),s.jsx("li",{children:"To request a return or refund, you must contact us within 24 hours of receiving your order."}),s.jsx("li",{children:"Proof of purchase and photographic evidence of the issue may be required."}),s.jsx("li",{children:"Perishable goods (such as fresh produce, dairy, and frozen items) are not eligible for return unless they are damaged or spoiled upon delivery."}),s.jsx("li",{children:"Refunds will be processed to your original payment method within 57 business days after approval."}),s.jsx("li",{children:"Delivery fees are non-refundable except in cases where the entire order is returned due to our error."}),s.jsx("li",{children:"We reserve the right to refuse returns or refunds if the claim does not meet our policy criteria."})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Te,{to:"/",children:s.jsx(Q,{variant:"outline",children:"Back to Home"})})})]})}),QB=()=>{var _;const{user:e}=Xt(),{cart:t,getCartTotal:r,clearCart:n}=cs(),{addOrder:o}=gv(),a=Ht(),c=ls(),[u,f]=v.useState(null),[h,m]=v.useState(null),[p,x]=v.useState(!0),[y,j]=v.useState(null);v.useEffect(()=>{if(!t.length){a("/checkout");return}(async()=>{var C;try{const k=t.map(E=>({id:E.id,quantity:E.quantity})),T=(C=c.state)==null?void 0:C.orderData,P=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"delivery",productList:k,user_id:e.id,orderData:T,orderId:null})})).json();if(P.error)throw new Error(P.error);f(P.clientSecret),m(P.orderData)}catch(k){j(k.message)}finally{x(!1)}})()},[t,a,c.state,e.id]);const w=async N=>{try{const C=N.payment_data,k={...h,payment_data:C},T=await o(k);n(),a(`/order-confirmation/${T.id}`)}catch(C){console.error("Error creating order:",C),j("Failed to create order. Please contact support.")}};return p?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y?s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:y}),s.jsx("button",{onClick:()=>a("/checkout"),className:"text-primary hover:underline",children:"Return to checkout"})]}):s.jsxs("div",{className:"container py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Complete Payment"}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Order Total"}),s.jsx("p",{className:"text-2xl font-bold",children:Se(((_=c.state)==null?void 0:_.finalTotal)||0)})]}),s.jsx(ek,{clientSecret:u,onPaymentSuccess:w})]})]})},ZB=()=>{const[e,t]=v.useState({name:"",email:"",subject:"",message:""}),[r,n]=v.useState(!1),o=async a=>{a.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),ne({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),t({name:"",email:"",subject:"",message:""}),n(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions or feedback? We'd love to hear from you."}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(G_,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"contact@groceroo.com.au"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Id,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"+61 478 477 036"})]})]})]}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send us a message"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Name"}),s.jsx(ye,{id:"name",value:e.name,onChange:a=>t(c=>({...c,name:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",type:"email",value:e.email,onChange:a=>t(c=>({...c,email:a.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"subject",children:"Subject"}),s.jsx(ye,{id:"subject",value:e.subject,onChange:a=>t(c=>({...c,subject:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"message",children:"Message"}),s.jsx(dr,{id:"message",rows:5,value:e.message,onChange:a=>t(c=>({...c,message:a.target.value})),required:!0})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})})},eV=()=>{const[e,t]=v.useState({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),[r,n]=v.useState(!1),o=async a=>{a.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),ne({title:"Application Received",description:"Thank you for your interest! We'll review your application and get back to you soon."}),t({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),n(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Work With Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Join our team and be part of Adelaide's growing grocery delivery service."}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expression of Interest"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",value:e.name,onChange:a=>t(c=>({...c,name:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",type:"email",value:e.email,onChange:a=>t(c=>({...c,email:a.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",type:"tel",value:e.phone,onChange:a=>t(c=>({...c,phone:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{children:"Position of Interest"}),s.jsxs(af,{value:e.position,onValueChange:a=>t(c=>({...c,position:a})),className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qs,{value:"driver",id:"driver"}),s.jsx(oe,{htmlFor:"driver",children:"Delivery Driver"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qs,{value:"assistant",id:"assistant"}),s.jsx(oe,{htmlFor:"assistant",children:"In-Store Assistant"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"experience",children:"Relevant Experience"}),s.jsx(dr,{id:"experience",rows:3,value:e.experience,onChange:a=>t(c=>({...c,experience:a.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(oe,{htmlFor:"availability",children:"Availability"}),s.jsx(dr,{id:"availability",rows:2,value:e.availability,onChange:a=>t(c=>({...c,availability:a.target.value})),placeholder:"Please specify your available days and hours",required:!0})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})]})})},tV=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState([]),[o,a]=v.useState(""),[c,u]=v.useState(!1),f=v.useRef(null),h=v.useRef(null),{addToCart:m,cart:p,updateQuantity:x}=cs(),{user:y,updateUserInfo:j}=Xt(),[w,_]=v.useState(!1),[N,C]=v.useState(!1),[k,T]=v.useState([]),D=M=>M.replace(/\+/g," ").replace(/\w\S*/g,z=>z.charAt(0).toUpperCase()+z.slice(1)),P=(M,z,X)=>{if(!M)return!1;const O=new Set(M.split(/\s+/).map(re=>re.split(":")[0].replace(/'/g,"").toLowerCase())),q=z.replace(/\+/g," ").toLowerCase().split(/\s+/),ee=re=>X.name&&X.name.toLowerCase().includes(re)||X.description&&X.description.toLowerCase().includes(re),de={ginger:["beer"],garlic:["chips","bread"],coffee:["cake"],"olive oil":["tuna","sardines"]};if(q.length===1){const re=q[0],se=Array.from(O).some(xe=>xe.startsWith(re)),ge=ee(re);if(se||ge){if(de[re]){for(const xe of de[re])if(Array.from(O).some(ie=>ie.startsWith(xe))||ee(xe))return!1}return!0}return!1}if(!q.every(re=>Array.from(O).some(se=>se.startsWith(re))||ee(re)))return!1;const he=q.join(" ");if(de[he]){for(const re of de[he])if(Array.from(O).some(se=>se.startsWith(re))||ee(re))return!1}return!0},E=()=>{var M;(M=f.current)==null||M.scrollIntoView({behavior:"instant"})};v.useEffect(()=>{y&&R()},[y]),v.useEffect(()=>{var M;return e?(document.body.style.overflow="hidden",E(),(M=f.current)==null||M.click()):document.body.style.overflow="",()=>{document.body.style.overflow=""}},[e]);const R=async()=>{y.ai_chat&&Array.isArray(y.ai_chat)&&N===!1&&(y.ai_chat.length>1?(n(y.ai_chat.slice(-4)),T(y.ai_chat.slice(0,-4))):(n(y.ai_chat),T([])),C(!0))};v.useEffect(()=>{let M;return e&&k.length>0&&(M=setTimeout(()=>{n(z=>[...k,...z]),T([])},2800)),()=>clearTimeout(M)},[e,k]),v.useEffect(()=>{e&&E()},[r,e]),v.useEffect(()=>{w&&$()},[w]);const $=async()=>{if(y&&r.length){const M=r.map(z=>({role:z.role,content:z.content,groupedProducts:z.groupedProducts||[]}));j({ai_chat:M},!1)}_(!1)},H=async M=>{var X;if(M.preventDefault(),!o.trim()||c||!y)return;const z=o.trim();a(""),n(O=>[...O,{role:"user",content:z}]),u(!0);try{const O=await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/googlegenai-api",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({message:z,user_id:y.id})});if(!O.ok)throw new Error("Failed to get AI response");const q=await O.json();let ee=[];if(Array.isArray(q.products)&&(typeof q.products[0]=="string"?ee=q.products.map(de=>de.replace(/\s+/g,"+")):typeof q.products[0]=="object"&&((X=q.products[0])!=null&&X.name)&&(ee=q.products.map(de=>de.name.replace(/\s+/g,"+")))),ee.length>0){const de=ee.map(re=>`'${re.replace(/'/g,"''")}'`).join(" | "),{data:pe,error:he}=await ce.from("products").select("*").eq("in_stock",!0).textSearch("fts",`${de}`);if(!he&&pe&&!he&&pe){const re=[...ee].sort((ie,be)=>be.split("+").length-ie.split("+").length),se={};ee.forEach(ie=>{se[ie]=[]});const ge=new Set;pe.forEach(ie=>{const be=re.findIndex(ze=>P(ie.fts,ze,ie));if(be!==-1){const ze=re[be];se[ze].push({id:ie.id,name:ie.name,price:ie.price}),ge.add(ie.id)}});const xe=ee.map(ie=>({aiName:ie,suggestions:se[ie]}));n(ie=>[...ie,{role:"assistant",content:q.message||"Here are some suggestions:",groupedProducts:xe}]),E(),_(!0),u(!1);return}}u(!1)}catch(O){console.error("Error:",O),n(q=>[...q,{role:"assistant",content:"Sorry, something went wrong. Please try again later.",products:[]}]),u(!1)}},te=()=>{window.open("https://wa.me/1234567890","_blank")},Z=()=>s.jsx("div",{className:"p-4",children:s.jsx(Wd,{onSuccess:()=>{}})}),[Y,L]=v.useState({}),B=M=>{L(z=>({...z,[M]:!z[M]}))},F={closed:{x:"100%",transition:{type:"spring",stiffness:180,damping:24,mass:.8}},open:{x:0,transition:{type:"spring",stiffness:180,damping:24,mass:.8}}},W={closed:{opacity:0},open:{opacity:1}};return s.jsxs(s.Fragment,{children:[s.jsx(Q,{onClick:()=>t(!e),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-[#3cb371] hover:bg-[#3cb371]/90 z-50",size:"icon",children:s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/icon-plain.webp",alt:"Groceroo AI",className:"h-10 w-10"})}),s.jsx(ia,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(je.div,{className:"fixed inset-0 z-50 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:W,onClick:()=>t(!1)}),s.jsxs(je.div,{ref:h,initial:"closed",animate:"open",exit:"closed",variants:F,className:"fixed top-0 right-0 z-50 w-full max-w-md h-full bg-[#e6f7f1] border-l rounded-l-lg shadow-xl flex flex-col",style:{maxHeight:"100vh"},children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"h-6 w-6",style:{background:"#25D366",borderRadius:"50%"}}),s.jsx("span",{className:"text-sm font-medium text-[#25D366]",children:"Chat with a human on WhatsApp"})]}),s.jsxs(Q,{onClick:te,className:"h-10 px-4 rounded-lg bg-[#25D366] hover:bg-[#128C7E] flex items-center gap-2 text-white font-semibold","aria-label":"Open WhatsApp Chat",children:[s.jsx(Md,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Open"})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H4,{className:"inline-block h-6 w-6 text-[#3cb371]"}),s.jsx("span",{className:"text-lg font-semibold text-[#2E8B57]",children:"Groceroo AI"}),s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#e6f7f1] text-xs font-bold text-[#3cb371] border border-[#3cb371]",children:"Beta"})]}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t(!1),"aria-label":"Close chat",className:"hover:bg-red-50",children:s.jsx(us,{className:"h-5 w-5 text-red-400"})})]}),s.jsx("div",{className:"flex-1 flex flex-col h-0",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded p-4 space-y-4",children:[r.map((M,z)=>s.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-full rounded-lg p-3 ${M.role==="user"?"bg-[#2E8B57] text-white":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm",children:M.content}),M.groupedProducts&&M.groupedProducts.length>0&&s.jsx("div",{className:"mt-2 space-y-4",children:M.groupedProducts.map((X,O)=>s.jsxs("div",{className:"mb-4 bg-white/80 rounded-lg shadow border p-3",children:[s.jsxs("div",{className:"font-semibold text-[#2E8B57] mb-2 text-base",children:["- ",D(X.aiName)]}),s.jsx("div",{className:"flex flex-col gap-2",children:(Y[`${X.aiName}_`+O]?X.suggestions:X.suggestions.slice(0,2)).map(q=>s.jsxs("div",{className:"flex items-center justify-between bg-[#e6f7f1] rounded px-3 py-2 border",children:[s.jsx("span",{className:"text-sm max-w-[55%] font-medium text-[#2E8B57]",children:D(q.name)}),s.jsxs("div",{className:"flex items-center gap-2 min-w-[90px] justify-end",children:[q.price&&s.jsxs("span",{className:"text-xs text-gray-700 font-semibold",children:["$",Number(q.price).toFixed(2)]}),(()=>{const ee=p.find(pe=>pe.id===q.id),de=ee?ee.quantity:0;return de>0?s.jsxs("div",{className:"flex items-center space-x-1",onClick:pe=>pe.preventDefault(),children:[s.jsx(Q,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:pe=>{pe.preventDefault(),pe.stopPropagation(),x(q.id,de-1)},children:s.jsx(ba,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-xs font-medium w-4 text-center",children:de}),s.jsx(Q,{size:"icon",className:"h-6 w-6",onClick:pe=>{pe.preventDefault(),pe.stopPropagation(),x(q.id,de+1)},children:s.jsx(Yi,{className:"h-3 w-3"})})]}):s.jsx(Q,{size:"sm",className:"bg-[#34d399] hover:bg-[#27694a] text-white px-3 py-1 rounded",onClick:()=>m(q,1),children:s.jsx(ti,{className:"h-4 w-4 mr-1"})})})()]})]},q.id))}),X.suggestions.length>2&&s.jsx(Q,{variant:"link",size:"xs",className:"mt-1 text-xs text-primary",onClick:()=>B(`${X.aiName}_`+O),children:Y[`${X.aiName}_`+O]?"Show less":"Show more"})]},`${X.aiName}_`+O))})]})},z)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg p-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),s.jsx("div",{ref:f})]}),s.jsx("form",{onSubmit:H,className:"p-4 border-t bg-background",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ye,{value:o,onChange:M=>a(M.target.value),placeholder:"I want to make pesto pasta",disabled:c,className:"h-14 text-base"}),s.jsx(Q,{style:{width:"80px"},type:"submit",size:"icon",disabled:c,children:s.jsx(ic,{className:"h-4 w-4"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto",children:s.jsx(Z,{})})})]})]})})]})},rV=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[o,a]=v.useState("A new version is available!");v.useEffect(()=>{let u;const f=async()=>{const{data:h,error:m}=await ce.from("general_settings").select("pwa_version, pwa_update_message").eq("id",1).single();if(m||!h)return;const p=localStorage.getItem("pwa_version");p?p!==h.pwa_version&&(n(h.pwa_version),t(!0),a(h.pwa_update_message||"A new version is available!")):(n(h.pwa_version),localStorage.setItem("pwa_version",h.pwa_version),t(!1))};return f(),u=setInterval(f,18e5),()=>clearInterval(u)},[]);const c=()=>{localStorage.setItem("pwa_version",r),window.location.reload(!0)};return e?s.jsxs("div",{className:"fixed top-4 left-1/2 z-50 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in-up max-w-xs w-full",children:[s.jsx("span",{children:o}),s.jsx(Q,{size:"sm",className:"ml-2",onClick:c,children:"Update Now"})]}):null},nV=()=>(v.useEffect(()=>{E4()},[]),s.jsx(T4,{children:s.jsx(k4,{children:s.jsx(bR,{children:s.jsx(KP,{children:s.jsxs("div",{className:"flex flex-col min-h-screen bg-background font-sans antialiased",children:[s.jsx(mL,{}),s.jsx("main",{className:"flex-1",children:s.jsx(ia,{mode:"wait",children:s.jsxs(BP,{children:[s.jsx(bt,{path:"/",element:s.jsx(YL,{})}),s.jsx(bt,{path:"/shop",element:s.jsx(_5,{})}),s.jsx(bt,{path:"/categories",element:s.jsx(N5,{})}),s.jsx(bt,{path:"/category/:id",element:s.jsx(C5,{})}),s.jsx(bt,{path:"/product/:id",element:s.jsx(k5,{})}),s.jsx(bt,{path:"/checkout",element:s.jsx(DU,{})}),s.jsx(bt,{path:"/grocery-run",element:s.jsx(vB,{})}),s.jsx(bt,{path:"/pickup-payment",element:s.jsx(GB,{})}),s.jsx(bt,{path:"/pickup-order/:id",element:s.jsx(KB,{})}),s.jsx(bt,{path:"/order-confirmation/:id",element:s.jsx(OU,{})}),s.jsx(bt,{path:"/admin-login",element:s.jsx(MU,{})}),s.jsx(bt,{path:"/register",element:s.jsx(IU,{})}),s.jsx(bt,{path:"/account",element:s.jsx(zU,{})}),s.jsx(bt,{path:"/admin",element:s.jsx(fB,{})}),s.jsx(bt,{path:"/privacy",element:s.jsx(XB,{})}),s.jsx(bt,{path:"/terms",element:s.jsx(JB,{})}),s.jsx(bt,{path:"/stripe-payment",element:s.jsx(QB,{})}),s.jsx(bt,{path:"/contact",element:s.jsx(ZB,{})}),s.jsx(bt,{path:"/work",element:s.jsx(eV,{})}),s.jsx(bt,{path:"*",element:s.jsxs("div",{children:[s.jsx("h1",{children:"404 - Page not Found"}),s.jsx("p",{children:"Click the top-left icon to return to home"})]})})]})})}),s.jsx(tV,{}),s.jsx(VL,{}),s.jsx(pL,{}),s.jsx(vL,{}),s.jsx(BL,{}),s.jsx(rV,{})]})})})})}));X2.createRoot(document.getElementById("root")).render(s.jsx(nV,{}));export{Jl as g};
