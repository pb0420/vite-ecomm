function IP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Gl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LP(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Hh={exports:{}},cl={},qh={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function FP(){if(Oy)return We;Oy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _(M,J,te){this.props=M,this.context=J,this.refs=w,this.updater=te||y}_.prototype.isReactComponent={},_.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},_.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=_.prototype;function C(M,J,te){this.props=M,this.context=J,this.refs=w,this.updater=te||y}var k=C.prototype=new N;k.constructor=C,j(k,_.prototype),k.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,E={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function D(M,J,te){var ve,pe={},de=null,se=null;if(J!=null)for(ve in J.ref!==void 0&&(se=J.ref),J.key!==void 0&&(de=""+J.key),J)P.call(J,ve)&&!R.hasOwnProperty(ve)&&(pe[ve]=J[ve]);var ie=arguments.length-2;if(ie===1)pe.children=te;else if(1<ie){for(var je=Array(ie),ge=0;ge<ie;ge++)je[ge]=arguments[ge+2];pe.children=je}if(M&&M.defaultProps)for(ve in ie=M.defaultProps,ie)pe[ve]===void 0&&(pe[ve]=ie[ve]);return{$$typeof:e,type:M,key:de,ref:se,props:pe,_owner:E.current}}function $(M,J){return{$$typeof:e,type:M.type,key:J,ref:M.ref,props:M.props,_owner:M._owner}}function W(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function X(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return J[te]})}var Q=/\/+/g;function z(M,J){return typeof M=="object"&&M!==null&&M.key!=null?X(""+M.key):J.toString(36)}function O(M,J,te,ve,pe){var de=typeof M;(de==="undefined"||de==="boolean")&&(M=null);var se=!1;if(M===null)se=!0;else switch(de){case"string":case"number":se=!0;break;case"object":switch(M.$$typeof){case e:case t:se=!0}}if(se)return se=M,pe=pe(se),M=ve===""?"."+z(se,0):ve,A(pe)?(te="",M!=null&&(te=M.replace(Q,"$&/")+"/"),O(pe,J,te,"",function(ge){return ge})):pe!=null&&(W(pe)&&(pe=$(pe,te+(!pe.key||se&&se.key===pe.key?"":(""+pe.key).replace(Q,"$&/")+"/")+M)),J.push(pe)),1;if(se=0,ve=ve===""?".":ve+":",A(M))for(var ie=0;ie<M.length;ie++){de=M[ie];var je=ve+z(de,ie);se+=O(de,J,te,je,pe)}else if(je=x(M),typeof je=="function")for(M=je.call(M),ie=0;!(de=M.next()).done;)de=de.value,je=ve+z(de,ie++),se+=O(de,J,te,je,pe);else if(de==="object")throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return se}function U(M,J,te){if(M==null)return M;var ve=[],pe=0;return O(M,ve,"","",function(de){return J.call(te,de,pe++)}),ve}function H(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var F={current:null},I={transition:null},q={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:I,ReactCurrentOwner:E};function Y(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:U,forEach:function(M,J,te){U(M,function(){J.apply(this,arguments)},te)},count:function(M){var J=0;return U(M,function(){J++}),J},toArray:function(M){return U(M,function(J){return J})||[]},only:function(M){if(!W(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},We.Component=_,We.Fragment=r,We.Profiler=o,We.PureComponent=C,We.StrictMode=n,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,We.act=Y,We.cloneElement=function(M,J,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ve=j({},M.props),pe=M.key,de=M.ref,se=M._owner;if(J!=null){if(J.ref!==void 0&&(de=J.ref,se=E.current),J.key!==void 0&&(pe=""+J.key),M.type&&M.type.defaultProps)var ie=M.type.defaultProps;for(je in J)P.call(J,je)&&!R.hasOwnProperty(je)&&(ve[je]=J[je]===void 0&&ie!==void 0?ie[je]:J[je])}var je=arguments.length-2;if(je===1)ve.children=te;else if(1<je){ie=Array(je);for(var ge=0;ge<je;ge++)ie[ge]=arguments[ge+2];ve.children=ie}return{$$typeof:e,type:M.type,key:pe,ref:de,props:ve,_owner:se}},We.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},We.createElement=D,We.createFactory=function(M){var J=D.bind(null,M);return J.type=M,J},We.createRef=function(){return{current:null}},We.forwardRef=function(M){return{$$typeof:u,render:M}},We.isValidElement=W,We.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:H}},We.memo=function(M,J){return{$$typeof:h,type:M,compare:J===void 0?null:J}},We.startTransition=function(M){var J=I.transition;I.transition={};try{M()}finally{I.transition=J}},We.unstable_act=Y,We.useCallback=function(M,J){return F.current.useCallback(M,J)},We.useContext=function(M){return F.current.useContext(M)},We.useDebugValue=function(){},We.useDeferredValue=function(M){return F.current.useDeferredValue(M)},We.useEffect=function(M,J){return F.current.useEffect(M,J)},We.useId=function(){return F.current.useId()},We.useImperativeHandle=function(M,J,te){return F.current.useImperativeHandle(M,J,te)},We.useInsertionEffect=function(M,J){return F.current.useInsertionEffect(M,J)},We.useLayoutEffect=function(M,J){return F.current.useLayoutEffect(M,J)},We.useMemo=function(M,J){return F.current.useMemo(M,J)},We.useReducer=function(M,J,te){return F.current.useReducer(M,J,te)},We.useRef=function(M){return F.current.useRef(M)},We.useState=function(M){return F.current.useState(M)},We.useSyncExternalStore=function(M,J,te){return F.current.useSyncExternalStore(M,J,te)},We.useTransition=function(){return F.current.useTransition()},We.version="18.3.1",We}var $y;function Lp(){return $y||($y=1,qh.exports=FP()),qh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function UP(){if(My)return cl;My=1;var e=Lp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,p={},x=null,y=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(y=f.ref);for(m in f)n.call(f,m)&&!l.hasOwnProperty(m)&&(p[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:t,type:u,key:x,ref:y,props:p,_owner:o.current}}return cl.Fragment=r,cl.jsx=c,cl.jsxs=c,cl}var Iy;function BP(){return Iy||(Iy=1,Hh.exports=UP()),Hh.exports}var s=BP(),g=Lp();const he=Gl(g),bd=IP({__proto__:null,default:he},[g]);var Pu={},Yh={exports:{}},pr={},Gh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function VP(){return Ly||(Ly=1,function(e){function t(I,q){var Y=I.length;I.push(q);e:for(;0<Y;){var M=Y-1>>>1,J=I[M];if(0<o(J,q))I[M]=q,I[Y]=J,Y=M;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var q=I[0],Y=I.pop();if(Y!==q){I[0]=Y;e:for(var M=0,J=I.length,te=J>>>1;M<te;){var ve=2*(M+1)-1,pe=I[ve],de=ve+1,se=I[de];if(0>o(pe,Y))de<J&&0>o(se,pe)?(I[M]=se,I[de]=Y,M=de):(I[M]=pe,I[ve]=Y,M=ve);else if(de<J&&0>o(se,Y))I[M]=se,I[de]=Y,M=de;else break e}}return q}function o(I,q){var Y=I.sortIndex-q.sortIndex;return Y!==0?Y:I.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,p=null,x=3,y=!1,j=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(I){for(var q=r(h);q!==null;){if(q.callback===null)n(h);else if(q.startTime<=I)n(h),q.sortIndex=q.expirationTime,t(f,q);else break;q=r(h)}}function A(I){if(w=!1,k(I),!j)if(r(f)!==null)j=!0,H(P);else{var q=r(h);q!==null&&F(A,q.startTime-I)}}function P(I,q){j=!1,w&&(w=!1,N(D),D=-1),y=!0;var Y=x;try{for(k(q),p=r(f);p!==null&&(!(p.expirationTime>q)||I&&!X());){var M=p.callback;if(typeof M=="function"){p.callback=null,x=p.priorityLevel;var J=M(p.expirationTime<=q);q=e.unstable_now(),typeof J=="function"?p.callback=J:p===r(f)&&n(f),k(q)}else n(f);p=r(f)}if(p!==null)var te=!0;else{var ve=r(h);ve!==null&&F(A,ve.startTime-q),te=!1}return te}finally{p=null,x=Y,y=!1}}var E=!1,R=null,D=-1,$=5,W=-1;function X(){return!(e.unstable_now()-W<$)}function Q(){if(R!==null){var I=e.unstable_now();W=I;var q=!0;try{q=R(!0,I)}finally{q?z():(E=!1,R=null)}}else E=!1}var z;if(typeof C=="function")z=function(){C(Q)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=Q,z=function(){U.postMessage(null)}}else z=function(){_(Q,0)};function H(I){R=I,E||(E=!0,z())}function F(I,q){D=_(function(){I(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,H(P))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var Y=x;x=q;try{return I()}finally{x=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=x;x=I;try{return q()}finally{x=Y}},e.unstable_scheduleCallback=function(I,q,Y){var M=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?M+Y:M):Y=M,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,I={id:m++,callback:q,priorityLevel:I,startTime:Y,expirationTime:J,sortIndex:-1},Y>M?(I.sortIndex=Y,t(h,I),r(f)===null&&I===r(h)&&(w?(N(D),D=-1):w=!0,F(A,Y-M))):(I.sortIndex=J,t(f,I),j||y||(j=!0,H(P))),I},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(I){var q=x;return function(){var Y=x;x=q;try{return I.apply(this,arguments)}finally{x=Y}}}}(Kh)),Kh}var Fy;function zP(){return Fy||(Fy=1,Gh.exports=VP()),Gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function WP(){if(Uy)return pr;Uy=1;var e=Lp(),t=zP();function r(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(i){return f.call(p,i)?!0:f.call(m,i)?!1:h.test(i)?p[i]=!0:(m[i]=!0,!1)}function y(i,a,d,v){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return v?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,a,d,v){if(a===null||typeof a>"u"||y(i,a,d,v))return!0;if(v)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(i,a,d,v,b,S,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=v,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=S,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];_[a]=new w(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(N,C);_[a]=new w(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(N,C);_[a]=new w(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(N,C);_[a]=new w(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,a,d,v){var b=_.hasOwnProperty(a)?_[a]:null;(b!==null?b.type!==0:v||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,d,b,v)&&(d=null),v||b===null?x(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):b.mustUseProperty?i[b.propertyName]=d===null?b.type===3?!1:"":d:(a=b.attributeName,v=b.attributeNamespace,d===null?i.removeAttribute(a):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,v?i.setAttributeNS(v,a,d):i.setAttribute(a,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),X=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),I=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,M;function J(i){if(M===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);M=a&&a[1]||""}return`
`+M+i}var te=!1;function ve(i,a){if(!i||te)return"";te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var v=Z}Reflect.construct(i,[],a)}else{try{a.call()}catch(Z){v=Z}i.call(a.prototype)}else{try{throw Error()}catch(Z){v=Z}i()}}catch(Z){if(Z&&v&&typeof Z.stack=="string"){for(var b=Z.stack.split(`
`),S=v.stack.split(`
`),T=b.length-1,L=S.length-1;1<=T&&0<=L&&b[T]!==S[L];)L--;for(;1<=T&&0<=L;T--,L--)if(b[T]!==S[L]){if(T!==1||L!==1)do if(T--,L--,0>L||b[T]!==S[L]){var B=`
`+b[T].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=T&&0<=L);break}}}finally{te=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?J(i):""}function pe(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function de(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case E:return"Portal";case $:return"Profiler";case D:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case X:return(i.displayName||"Context")+".Consumer";case W:return(i._context.displayName||"Context")+".Provider";case Q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return a=i.displayName||null,a!==null?a:de(i.type)||"Memo";case H:a=i._payload,i=i._init;try{return de(i(a))}catch{}}return null}function se(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ie(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function je(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ge(i){var a=je(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),v=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,S=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function(T){v=""+T,S.call(this,T)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(T){v=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function fe(i){i._valueTracker||(i._valueTracker=ge(i))}function _e(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),v="";return i&&(v=je(i)?i.checked?"true":"false":i.value),i=v,i!==d?(a.setValue(i),!0):!1}function He(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ee(i,a){var d=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Et(i,a){var d=a.defaultValue==null?"":a.defaultValue,v=a.checked!=null?a.checked:a.defaultChecked;d=ie(a.value!=null?a.value:d),i._wrapperState={initialChecked:v,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ft(i,a){a=a.checked,a!=null&&k(i,"checked",a,!1)}function wr(i,a){ft(i,a);var d=ie(a.value),v=a.type;if(d!=null)v==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Or(i,a.type,d):a.hasOwnProperty("defaultValue")&&Or(i,a.type,ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ii(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var v=a.type;if(!(v!=="submit"&&v!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Or(i,a,d){(a!=="number"||He(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var br=Array.isArray;function ls(i,a,d,v){if(i=i.options,a){a={};for(var b=0;b<d.length;b++)a["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=a.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&v&&(i[d].defaultSelected=!0)}else{for(d=""+ie(d),a=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,v&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function $r(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function fc(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(r(92));if(br(d)){if(1<d.length)throw Error(r(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:ie(d)}}function to(i,a){var d=ie(a.value),v=ie(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),v!=null&&(i.defaultValue=""+v)}function wa(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function hc(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?hc(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ro,mc=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,v,b){MSApp.execUnsafeLocalFunction(function(){return i(a,d,v,b)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ro.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function oi(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pc=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(i){pc.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),ai[a]=ai[i]})});function vc(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ai.hasOwnProperty(i)&&ai[i]?(""+a).trim():a+"px"}function gc(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var v=d.indexOf("--")===0,b=vc(d,a[d],v);d==="float"&&(d="cssFloat"),v?i.setProperty(d,b):i[d]=b}}var lf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(i,a){if(a){if(lf[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function _a(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function Na(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ca=null,cs=null,Zr=null;function us(i){if(i=Ga(i)){if(typeof Ca!="function")throw Error(r(280));var a=i.stateNode;a&&(a=zc(a),Ca(i.stateNode,i.type,a))}}function no(i){cs?Zr?Zr.push(i):Zr=[i]:cs=i}function ds(){if(cs){var i=cs,a=Zr;if(Zr=cs=null,us(i),a)for(i=0;i<a.length;i++)us(a[i])}}function li(i,a){return i(a)}function ka(){}var xc=!1;function ci(i,a,d){if(xc)return i(a,d);xc=!0;try{return li(i,a,d)}finally{xc=!1,(cs!==null||Zr!==null)&&(ka(),ds())}}function ui(i,a){var d=i.stateNode;if(d===null)return null;var v=zc(d);if(v===null)return null;d=v[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,a,typeof d));return d}var Pa=!1;if(u)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Pa=!1}function ae(i,a,d,v,b,S,T,L,B){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(d,Z)}catch(le){this.onError(le)}}var Te=!1,Qe=null,ut=!1,$t=null,Mr={onError:function(i){Te=!0,Qe=i}};function jr(i,a,d,v,b,S,T,L,B){Te=!1,Qe=null,ae.apply(Mr,arguments)}function wn(i,a,d,v,b,S,T,L,B){if(jr.apply(this,arguments),Te){if(Te){var Z=Qe;Te=!1,Qe=null}else throw Error(r(198));ut||(ut=!0,$t=Z)}}function _r(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Ln(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Ir(i){if(_r(i)!==i)throw Error(r(188))}function Ea(i){var a=i.alternate;if(!a){if(a=_r(i),a===null)throw Error(r(188));return a!==i?null:i}for(var d=i,v=a;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(v=b.return,v!==null){d=v;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return Ir(b),i;if(S===v)return Ir(b),a;S=S.sibling}throw Error(r(188))}if(d.return!==v.return)d=b,v=S;else{for(var T=!1,L=b.child;L;){if(L===d){T=!0,d=b,v=S;break}if(L===v){T=!0,v=b,d=S;break}L=L.sibling}if(!T){for(L=S.child;L;){if(L===d){T=!0,d=S,v=b;break}if(L===v){T=!0,v=S,d=b;break}L=L.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:a}function yc(i){return i=Ea(i),i!==null?wc(i):null}function wc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=wc(i);if(a!==null)return a;i=i.sibling}return null}var bc=t.unstable_scheduleCallback,jc=t.unstable_cancelCallback,cf=t.unstable_shouldYield,uf=t.unstable_requestPaint,xt=t.unstable_now,XC=t.unstable_getCurrentPriorityLevel,df=t.unstable_ImmediatePriority,cg=t.unstable_UserBlockingPriority,_c=t.unstable_NormalPriority,JC=t.unstable_LowPriority,ug=t.unstable_IdlePriority,Sc=null,bn=null;function QC(i){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Sc,i,void 0,(i.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:tk,ZC=Math.log,ek=Math.LN2;function tk(i){return i>>>=0,i===0?32:31-(ZC(i)/ek|0)|0}var Nc=64,Cc=4194304;function Ta(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function kc(i,a){var d=i.pendingLanes;if(d===0)return 0;var v=0,b=i.suspendedLanes,S=i.pingedLanes,T=d&268435455;if(T!==0){var L=T&~b;L!==0?v=Ta(L):(S&=T,S!==0&&(v=Ta(S)))}else T=d&~b,T!==0?v=Ta(T):S!==0&&(v=Ta(S));if(v===0)return 0;if(a!==0&&a!==v&&(a&b)===0&&(b=v&-v,S=a&-a,b>=S||b===16&&(S&4194240)!==0))return a;if((v&4)!==0&&(v|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=v;0<a;)d=31-en(a),b=1<<d,v|=i[d],a&=~b;return v}function rk(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nk(i,a){for(var d=i.suspendedLanes,v=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes;0<S;){var T=31-en(S),L=1<<T,B=b[T];B===-1?((L&d)===0||(L&v)!==0)&&(b[T]=rk(L,a)):B<=a&&(i.expiredLanes|=L),S&=~L}}function ff(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function dg(){var i=Nc;return Nc<<=1,(Nc&4194240)===0&&(Nc=64),i}function hf(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function Aa(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-en(a),i[a]=d}function sk(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<d;){var b=31-en(d),S=1<<b;a[b]=0,v[b]=-1,i[b]=-1,d&=~S}}function mf(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var v=31-en(d),b=1<<v;b&a|i[v]&a&&(i[v]|=a),d&=~b}}var et=0;function fg(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var hg,pf,mg,pg,vg,vf=!1,Pc=[],hs=null,ms=null,ps=null,Da=new Map,Ra=new Map,vs=[],ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gg(i,a){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Da.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(a.pointerId)}}function Oa(i,a,d,v,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:a,domEventName:d,eventSystemFlags:v,nativeEvent:S,targetContainers:[b]},a!==null&&(a=Ga(a),a!==null&&pf(a)),i):(i.eventSystemFlags|=v,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function ok(i,a,d,v,b){switch(a){case"focusin":return hs=Oa(hs,i,a,d,v,b),!0;case"dragenter":return ms=Oa(ms,i,a,d,v,b),!0;case"mouseover":return ps=Oa(ps,i,a,d,v,b),!0;case"pointerover":var S=b.pointerId;return Da.set(S,Oa(Da.get(S)||null,i,a,d,v,b)),!0;case"gotpointercapture":return S=b.pointerId,Ra.set(S,Oa(Ra.get(S)||null,i,a,d,v,b)),!0}return!1}function xg(i){var a=di(i.target);if(a!==null){var d=_r(a);if(d!==null){if(a=d.tag,a===13){if(a=Ln(d),a!==null){i.blockedOn=a,vg(i.priority,function(){mg(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ec(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=xf(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var v=new d.constructor(d.type,d);Sa=v,d.target.dispatchEvent(v),Sa=null}else return a=Ga(d),a!==null&&pf(a),i.blockedOn=d,!1;a.shift()}return!0}function yg(i,a,d){Ec(i)&&d.delete(a)}function ak(){vf=!1,hs!==null&&Ec(hs)&&(hs=null),ms!==null&&Ec(ms)&&(ms=null),ps!==null&&Ec(ps)&&(ps=null),Da.forEach(yg),Ra.forEach(yg)}function $a(i,a){i.blockedOn===a&&(i.blockedOn=null,vf||(vf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ak)))}function Ma(i){function a(b){return $a(b,i)}if(0<Pc.length){$a(Pc[0],i);for(var d=1;d<Pc.length;d++){var v=Pc[d];v.blockedOn===i&&(v.blockedOn=null)}}for(hs!==null&&$a(hs,i),ms!==null&&$a(ms,i),ps!==null&&$a(ps,i),Da.forEach(a),Ra.forEach(a),d=0;d<vs.length;d++)v=vs[d],v.blockedOn===i&&(v.blockedOn=null);for(;0<vs.length&&(d=vs[0],d.blockedOn===null);)xg(d),d.blockedOn===null&&vs.shift()}var so=A.ReactCurrentBatchConfig,Tc=!0;function lk(i,a,d,v){var b=et,S=so.transition;so.transition=null;try{et=1,gf(i,a,d,v)}finally{et=b,so.transition=S}}function ck(i,a,d,v){var b=et,S=so.transition;so.transition=null;try{et=4,gf(i,a,d,v)}finally{et=b,so.transition=S}}function gf(i,a,d,v){if(Tc){var b=xf(i,a,d,v);if(b===null)$f(i,a,v,Ac,d),gg(i,v);else if(ok(b,i,a,d,v))v.stopPropagation();else if(gg(i,v),a&4&&-1<ik.indexOf(i)){for(;b!==null;){var S=Ga(b);if(S!==null&&hg(S),S=xf(i,a,d,v),S===null&&$f(i,a,v,Ac,d),S===b)break;b=S}b!==null&&v.stopPropagation()}else $f(i,a,v,null,d)}}var Ac=null;function xf(i,a,d,v){if(Ac=null,i=Na(v),i=di(i),i!==null)if(a=_r(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Ln(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Ac=i,null}function wg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XC()){case df:return 1;case cg:return 4;case _c:case JC:return 16;case ug:return 536870912;default:return 16}default:return 16}}var gs=null,yf=null,Dc=null;function bg(){if(Dc)return Dc;var i,a=yf,d=a.length,v,b="value"in gs?gs.value:gs.textContent,S=b.length;for(i=0;i<d&&a[i]===b[i];i++);var T=d-i;for(v=1;v<=T&&a[d-v]===b[S-v];v++);return Dc=b.slice(i,1<v?1-v:void 0)}function Rc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Oc(){return!0}function jg(){return!1}function Sr(i){function a(d,v,b,S,T){this._reactName=d,this._targetInst=b,this.type=v,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(d=i[L],this[L]=d?d(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Oc:jg,this.isPropagationStopped=jg,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),a}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Sr(io),Ia=Y({},io,{view:0,detail:0}),uk=Sr(Ia),bf,jf,La,$c=Y({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==La&&(La&&i.type==="mousemove"?(bf=i.screenX-La.screenX,jf=i.screenY-La.screenY):jf=bf=0,La=i),bf)},movementY:function(i){return"movementY"in i?i.movementY:jf}}),_g=Sr($c),dk=Y({},$c,{dataTransfer:0}),fk=Sr(dk),hk=Y({},Ia,{relatedTarget:0}),_f=Sr(hk),mk=Y({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),pk=Sr(mk),vk=Y({},io,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gk=Sr(vk),xk=Y({},io,{data:0}),Sg=Sr(xk),yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jk(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=bk[i])?!!a[i]:!1}function Sf(){return jk}var _k=Y({},Ia,{key:function(i){if(i.key){var a=yk[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Rc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(i){return i.type==="keypress"?Rc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Sk=Sr(_k),Nk=Y({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=Sr(Nk),Ck=Y({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),kk=Sr(Ck),Pk=Y({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ek=Sr(Pk),Tk=Y({},$c,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=Sr(Tk),Dk=[9,13,27,32],Nf=u&&"CompositionEvent"in window,Fa=null;u&&"documentMode"in document&&(Fa=document.documentMode);var Rk=u&&"TextEvent"in window&&!Fa,Cg=u&&(!Nf||Fa&&8<Fa&&11>=Fa),kg=" ",Pg=!1;function Eg(i,a){switch(i){case"keyup":return Dk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function Ok(i,a){switch(i){case"compositionend":return Tg(a);case"keypress":return a.which!==32?null:(Pg=!0,kg);case"textInput":return i=a.data,i===kg&&Pg?null:i;default:return null}}function $k(i,a){if(oo)return i==="compositionend"||!Nf&&Eg(i,a)?(i=bg(),Dc=yf=gs=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Cg&&a.locale!=="ko"?null:a.data;default:return null}}var Mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Mk[i.type]:a==="textarea"}function Dg(i,a,d,v){no(v),a=Uc(a,"onChange"),0<a.length&&(d=new wf("onChange","change",null,d,v),i.push({event:d,listeners:a}))}var Ua=null,Ba=null;function Ik(i){Xg(i,0)}function Mc(i){var a=fo(i);if(_e(a))return i}function Lk(i,a){if(i==="change")return a}var Rg=!1;if(u){var Cf;if(u){var kf="oninput"in document;if(!kf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),kf=typeof Og.oninput=="function"}Cf=kf}else Cf=!1;Rg=Cf&&(!document.documentMode||9<document.documentMode)}function $g(){Ua&&(Ua.detachEvent("onpropertychange",Mg),Ba=Ua=null)}function Mg(i){if(i.propertyName==="value"&&Mc(Ba)){var a=[];Dg(a,Ba,i,Na(i)),ci(Ik,a)}}function Fk(i,a,d){i==="focusin"?($g(),Ua=a,Ba=d,Ua.attachEvent("onpropertychange",Mg)):i==="focusout"&&$g()}function Uk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mc(Ba)}function Bk(i,a){if(i==="click")return Mc(a)}function Vk(i,a){if(i==="input"||i==="change")return Mc(a)}function zk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var tn=typeof Object.is=="function"?Object.is:zk;function Va(i,a){if(tn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),v=Object.keys(a);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var b=d[v];if(!f.call(a,b)||!tn(i[b],a[b]))return!1}return!0}function Ig(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lg(i,a){var d=Ig(i);i=0;for(var v;d;){if(d.nodeType===3){if(v=i+d.textContent.length,i<=a&&v>=a)return{node:d,offset:a-i};i=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ig(d)}}function Fg(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Fg(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Ug(){for(var i=window,a=He();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=He(i.document)}return a}function Pf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Wk(i){var a=Ug(),d=i.focusedElem,v=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&Fg(d.ownerDocument.documentElement,d)){if(v!==null&&Pf(d)){if(a=v.start,i=v.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var b=d.textContent.length,S=Math.min(v.start,b);v=v.end===void 0?S:Math.min(v.end,b),!i.extend&&S>v&&(b=v,v=S,S=b),b=Lg(d,S);var T=Lg(d,v);b&&T&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),i.removeAllRanges(),S>v?(i.addRange(a),i.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Hk=u&&"documentMode"in document&&11>=document.documentMode,ao=null,Ef=null,za=null,Tf=!1;function Bg(i,a,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Tf||ao==null||ao!==He(v)||(v=ao,"selectionStart"in v&&Pf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),za&&Va(za,v)||(za=v,v=Uc(Ef,"onSelect"),0<v.length&&(a=new wf("onSelect","select",null,a,d),i.push({event:a,listeners:v}),a.target=ao)))}function Ic(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var lo={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},Af={},Vg={};u&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Lc(i){if(Af[i])return Af[i];if(!lo[i])return i;var a=lo[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in Vg)return Af[i]=a[d];return i}var zg=Lc("animationend"),Wg=Lc("animationiteration"),Hg=Lc("animationstart"),qg=Lc("transitionend"),Yg=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(i,a){Yg.set(i,a),l(a,[i])}for(var Df=0;Df<Gg.length;Df++){var Rf=Gg[Df],qk=Rf.toLowerCase(),Yk=Rf[0].toUpperCase()+Rf.slice(1);xs(qk,"on"+Yk)}xs(zg,"onAnimationEnd"),xs(Wg,"onAnimationIteration"),xs(Hg,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(qg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function Kg(i,a,d){var v=i.type||"unknown-event";i.currentTarget=d,wn(v,a,void 0,i),i.currentTarget=null}function Xg(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var v=i[d],b=v.event;v=v.listeners;e:{var S=void 0;if(a)for(var T=v.length-1;0<=T;T--){var L=v[T],B=L.instance,Z=L.currentTarget;if(L=L.listener,B!==S&&b.isPropagationStopped())break e;Kg(b,L,Z),S=B}else for(T=0;T<v.length;T++){if(L=v[T],B=L.instance,Z=L.currentTarget,L=L.listener,B!==S&&b.isPropagationStopped())break e;Kg(b,L,Z),S=B}}}if(ut)throw i=$t,ut=!1,$t=null,i}function at(i,a){var d=a[Bf];d===void 0&&(d=a[Bf]=new Set);var v=i+"__bubble";d.has(v)||(Jg(a,i,2,!1),d.add(v))}function Of(i,a,d){var v=0;a&&(v|=4),Jg(d,i,v,a)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Ha(i){if(!i[Fc]){i[Fc]=!0,n.forEach(function(d){d!=="selectionchange"&&(Gk.has(d)||Of(d,!1,i),Of(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Fc]||(a[Fc]=!0,Of("selectionchange",!1,a))}}function Jg(i,a,d,v){switch(wg(a)){case 1:var b=lk;break;case 4:b=ck;break;default:b=gf}d=b.bind(null,a,d,i),b=void 0,!Pa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),v?b!==void 0?i.addEventListener(a,d,{capture:!0,passive:b}):i.addEventListener(a,d,!0):b!==void 0?i.addEventListener(a,d,{passive:b}):i.addEventListener(a,d,!1)}function $f(i,a,d,v,b){var S=v;if((a&1)===0&&(a&2)===0&&v!==null)e:for(;;){if(v===null)return;var T=v.tag;if(T===3||T===4){var L=v.stateNode.containerInfo;if(L===b||L.nodeType===8&&L.parentNode===b)break;if(T===4)for(T=v.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===b||B.nodeType===8&&B.parentNode===b))return;T=T.return}for(;L!==null;){if(T=di(L),T===null)return;if(B=T.tag,B===5||B===6){v=S=T;continue e}L=L.parentNode}}v=v.return}ci(function(){var Z=S,le=Na(d),ue=[];e:{var oe=Yg.get(i);if(oe!==void 0){var ye=wf,Ne=i;switch(i){case"keypress":if(Rc(d)===0)break e;case"keydown":case"keyup":ye=Sk;break;case"focusin":Ne="focus",ye=_f;break;case"focusout":Ne="blur",ye=_f;break;case"beforeblur":case"afterblur":ye=_f;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=_g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=kk;break;case zg:case Wg:case Hg:ye=pk;break;case qg:ye=Ek;break;case"scroll":ye=uk;break;case"wheel":ye=Ak;break;case"copy":case"cut":case"paste":ye=gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Ng}var Ce=(a&4)!==0,yt=!Ce&&i==="scroll",G=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var V=Z,K;V!==null;){K=V;var me=K.stateNode;if(K.tag===5&&me!==null&&(K=me,G!==null&&(me=ui(V,G),me!=null&&Ce.push(qa(V,me,K)))),yt)break;V=V.return}0<Ce.length&&(oe=new ye(oe,Ne,null,d,le),ue.push({event:oe,listeners:Ce}))}}if((a&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",oe&&d!==Sa&&(Ne=d.relatedTarget||d.fromElement)&&(di(Ne)||Ne[Fn]))break e;if((ye||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ye?(Ne=d.relatedTarget||d.toElement,ye=Z,Ne=Ne?di(Ne):null,Ne!==null&&(yt=_r(Ne),Ne!==yt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(ye=null,Ne=Z),ye!==Ne)){if(Ce=_g,me="onMouseLeave",G="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Ng,me="onPointerLeave",G="onPointerEnter",V="pointer"),yt=ye==null?oe:fo(ye),K=Ne==null?oe:fo(Ne),oe=new Ce(me,V+"leave",ye,d,le),oe.target=yt,oe.relatedTarget=K,me=null,di(le)===Z&&(Ce=new Ce(G,V+"enter",Ne,d,le),Ce.target=K,Ce.relatedTarget=yt,me=Ce),yt=me,ye&&Ne)t:{for(Ce=ye,G=Ne,V=0,K=Ce;K;K=co(K))V++;for(K=0,me=G;me;me=co(me))K++;for(;0<V-K;)Ce=co(Ce),V--;for(;0<K-V;)G=co(G),K--;for(;V--;){if(Ce===G||G!==null&&Ce===G.alternate)break t;Ce=co(Ce),G=co(G)}Ce=null}else Ce=null;ye!==null&&Qg(ue,oe,ye,Ce,!1),Ne!==null&&yt!==null&&Qg(ue,yt,Ne,Ce,!0)}}e:{if(oe=Z?fo(Z):window,ye=oe.nodeName&&oe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&oe.type==="file")var ke=Lk;else if(Ag(oe))if(Rg)ke=Vk;else{ke=Uk;var Oe=Fk}else(ye=oe.nodeName)&&ye.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(ke=Bk);if(ke&&(ke=ke(i,Z))){Dg(ue,ke,d,le);break e}Oe&&Oe(i,oe,Z),i==="focusout"&&(Oe=oe._wrapperState)&&Oe.controlled&&oe.type==="number"&&Or(oe,"number",oe.value)}switch(Oe=Z?fo(Z):window,i){case"focusin":(Ag(Oe)||Oe.contentEditable==="true")&&(ao=Oe,Ef=Z,za=null);break;case"focusout":za=Ef=ao=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Bg(ue,d,le);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":Bg(ue,d,le)}var $e;if(Nf)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else oo?Eg(i,d)&&(Fe="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(Cg&&d.locale!=="ko"&&(oo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&oo&&($e=bg()):(gs=le,yf="value"in gs?gs.value:gs.textContent,oo=!0)),Oe=Uc(Z,Fe),0<Oe.length&&(Fe=new Sg(Fe,i,null,d,le),ue.push({event:Fe,listeners:Oe}),$e?Fe.data=$e:($e=Tg(d),$e!==null&&(Fe.data=$e)))),($e=Rk?Ok(i,d):$k(i,d))&&(Z=Uc(Z,"onBeforeInput"),0<Z.length&&(le=new Sg("onBeforeInput","beforeinput",null,d,le),ue.push({event:le,listeners:Z}),le.data=$e))}Xg(ue,a)})}function qa(i,a,d){return{instance:i,listener:a,currentTarget:d}}function Uc(i,a){for(var d=a+"Capture",v=[];i!==null;){var b=i,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=ui(i,d),S!=null&&v.unshift(qa(i,S,b)),S=ui(i,a),S!=null&&v.push(qa(i,S,b))),i=i.return}return v}function co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Qg(i,a,d,v,b){for(var S=a._reactName,T=[];d!==null&&d!==v;){var L=d,B=L.alternate,Z=L.stateNode;if(B!==null&&B===v)break;L.tag===5&&Z!==null&&(L=Z,b?(B=ui(d,S),B!=null&&T.unshift(qa(d,B,L))):b||(B=ui(d,S),B!=null&&T.push(qa(d,B,L)))),d=d.return}T.length!==0&&i.push({event:a,listeners:T})}var Kk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function Zg(i){return(typeof i=="string"?i:""+i).replace(Kk,`
`).replace(Xk,"")}function Bc(i,a,d){if(a=Zg(a),Zg(i)!==a&&d)throw Error(r(425))}function Vc(){}var Mf=null,If=null;function Lf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,Qk=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(i){return ex.resolve(null).then(i).catch(Zk)}:Ff;function Zk(i){setTimeout(function(){throw i})}function Uf(i,a){var d=a,v=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(v===0){i.removeChild(b),Ma(a);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=b}while(d);Ma(a)}function ys(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function tx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var uo=Math.random().toString(36).slice(2),jn="__reactFiber$"+uo,Ya="__reactProps$"+uo,Fn="__reactContainer$"+uo,Bf="__reactEvents$"+uo,eP="__reactListeners$"+uo,tP="__reactHandles$"+uo;function di(i){var a=i[jn];if(a)return a;for(var d=i.parentNode;d;){if(a=d[Fn]||d[jn]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=tx(i);i!==null;){if(d=i[jn])return d;i=tx(i)}return a}i=d,d=i.parentNode}return null}function Ga(i){return i=i[jn]||i[Fn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function fo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function zc(i){return i[Ya]||null}var Vf=[],ho=-1;function ws(i){return{current:i}}function lt(i){0>ho||(i.current=Vf[ho],Vf[ho]=null,ho--)}function nt(i,a){ho++,Vf[ho]=i.current,i.current=a}var bs={},Jt=ws(bs),ur=ws(!1),fi=bs;function mo(i,a){var d=i.type.contextTypes;if(!d)return bs;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===a)return v.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in d)b[S]=a[S];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=b),b}function dr(i){return i=i.childContextTypes,i!=null}function Wc(){lt(ur),lt(Jt)}function rx(i,a,d){if(Jt.current!==bs)throw Error(r(168));nt(Jt,a),nt(ur,d)}function nx(i,a,d){var v=i.stateNode;if(a=a.childContextTypes,typeof v.getChildContext!="function")return d;v=v.getChildContext();for(var b in v)if(!(b in a))throw Error(r(108,se(i)||"Unknown",b));return Y({},d,v)}function Hc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bs,fi=Jt.current,nt(Jt,i),nt(ur,ur.current),!0}function sx(i,a,d){var v=i.stateNode;if(!v)throw Error(r(169));d?(i=nx(i,a,fi),v.__reactInternalMemoizedMergedChildContext=i,lt(ur),lt(Jt),nt(Jt,i)):lt(ur),nt(ur,d)}var Un=null,qc=!1,zf=!1;function ix(i){Un===null?Un=[i]:Un.push(i)}function rP(i){qc=!0,ix(i)}function js(){if(!zf&&Un!==null){zf=!0;var i=0,a=et;try{var d=Un;for(et=1;i<d.length;i++){var v=d[i];do v=v(!0);while(v!==null)}Un=null,qc=!1}catch(b){throw Un!==null&&(Un=Un.slice(i+1)),bc(df,js),b}finally{et=a,zf=!1}}return null}var po=[],vo=0,Yc=null,Gc=0,Lr=[],Fr=0,hi=null,Bn=1,Vn="";function mi(i,a){po[vo++]=Gc,po[vo++]=Yc,Yc=i,Gc=a}function ox(i,a,d){Lr[Fr++]=Bn,Lr[Fr++]=Vn,Lr[Fr++]=hi,hi=i;var v=Bn;i=Vn;var b=32-en(v)-1;v&=~(1<<b),d+=1;var S=32-en(a)+b;if(30<S){var T=b-b%5;S=(v&(1<<T)-1).toString(32),v>>=T,b-=T,Bn=1<<32-en(a)+b|d<<b|v,Vn=S+i}else Bn=1<<S|d<<b|v,Vn=i}function Wf(i){i.return!==null&&(mi(i,1),ox(i,1,0))}function Hf(i){for(;i===Yc;)Yc=po[--vo],po[vo]=null,Gc=po[--vo],po[vo]=null;for(;i===hi;)hi=Lr[--Fr],Lr[Fr]=null,Vn=Lr[--Fr],Lr[Fr]=null,Bn=Lr[--Fr],Lr[Fr]=null}var Nr=null,Cr=null,dt=!1,rn=null;function ax(i,a){var d=zr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function lx(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Nr=i,Cr=ys(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Nr=i,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=hi!==null?{id:Bn,overflow:Vn}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=zr(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Nr=i,Cr=null,!0):!1;default:return!1}}function qf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Yf(i){if(dt){var a=Cr;if(a){var d=a;if(!lx(i,a)){if(qf(i))throw Error(r(418));a=ys(d.nextSibling);var v=Nr;a&&lx(i,a)?ax(v,d):(i.flags=i.flags&-4097|2,dt=!1,Nr=i)}}else{if(qf(i))throw Error(r(418));i.flags=i.flags&-4097|2,dt=!1,Nr=i}}}function cx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Nr=i}function Kc(i){if(i!==Nr)return!1;if(!dt)return cx(i),dt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Lf(i.type,i.memoizedProps)),a&&(a=Cr)){if(qf(i))throw ux(),Error(r(418));for(;a;)ax(i,a),a=ys(a.nextSibling)}if(cx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){Cr=ys(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}Cr=null}}else Cr=Nr?ys(i.stateNode.nextSibling):null;return!0}function ux(){for(var i=Cr;i;)i=ys(i.nextSibling)}function go(){Cr=Nr=null,dt=!1}function Gf(i){rn===null?rn=[i]:rn.push(i)}var nP=A.ReactCurrentBatchConfig;function Ka(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var v=d.stateNode}if(!v)throw Error(r(147,i));var b=v,S=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(T){var L=b.refs;T===null?delete L[S]:L[S]=T},a._stringRef=S,a)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function Xc(i,a){throw i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function dx(i){var a=i._init;return a(i._payload)}function fx(i){function a(G,V){if(i){var K=G.deletions;K===null?(G.deletions=[V],G.flags|=16):K.push(V)}}function d(G,V){if(!i)return null;for(;V!==null;)a(G,V),V=V.sibling;return null}function v(G,V){for(G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function b(G,V){return G=Ts(G,V),G.index=0,G.sibling=null,G}function S(G,V,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<V?(G.flags|=2,V):K):(G.flags|=2,V)):(G.flags|=1048576,V)}function T(G){return i&&G.alternate===null&&(G.flags|=2),G}function L(G,V,K,me){return V===null||V.tag!==6?(V=Fh(K,G.mode,me),V.return=G,V):(V=b(V,K),V.return=G,V)}function B(G,V,K,me){var ke=K.type;return ke===R?le(G,V,K.props.children,me,K.key):V!==null&&(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===H&&dx(ke)===V.type)?(me=b(V,K.props),me.ref=Ka(G,V,K),me.return=G,me):(me=wu(K.type,K.key,K.props,null,G.mode,me),me.ref=Ka(G,V,K),me.return=G,me)}function Z(G,V,K,me){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=Uh(K,G.mode,me),V.return=G,V):(V=b(V,K.children||[]),V.return=G,V)}function le(G,V,K,me,ke){return V===null||V.tag!==7?(V=ji(K,G.mode,me,ke),V.return=G,V):(V=b(V,K),V.return=G,V)}function ue(G,V,K){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Fh(""+V,G.mode,K),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return K=wu(V.type,V.key,V.props,null,G.mode,K),K.ref=Ka(G,null,V),K.return=G,K;case E:return V=Uh(V,G.mode,K),V.return=G,V;case H:var me=V._init;return ue(G,me(V._payload),K)}if(br(V)||q(V))return V=ji(V,G.mode,K,null),V.return=G,V;Xc(G,V)}return null}function oe(G,V,K,me){var ke=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ke!==null?null:L(G,V,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return K.key===ke?B(G,V,K,me):null;case E:return K.key===ke?Z(G,V,K,me):null;case H:return ke=K._init,oe(G,V,ke(K._payload),me)}if(br(K)||q(K))return ke!==null?null:le(G,V,K,me,null);Xc(G,K)}return null}function ye(G,V,K,me,ke){if(typeof me=="string"&&me!==""||typeof me=="number")return G=G.get(K)||null,L(V,G,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return G=G.get(me.key===null?K:me.key)||null,B(V,G,me,ke);case E:return G=G.get(me.key===null?K:me.key)||null,Z(V,G,me,ke);case H:var Oe=me._init;return ye(G,V,K,Oe(me._payload),ke)}if(br(me)||q(me))return G=G.get(K)||null,le(V,G,me,ke,null);Xc(V,me)}return null}function Ne(G,V,K,me){for(var ke=null,Oe=null,$e=V,Fe=V=0,Lt=null;$e!==null&&Fe<K.length;Fe++){$e.index>Fe?(Lt=$e,$e=null):Lt=$e.sibling;var Je=oe(G,$e,K[Fe],me);if(Je===null){$e===null&&($e=Lt);break}i&&$e&&Je.alternate===null&&a(G,$e),V=S(Je,V,Fe),Oe===null?ke=Je:Oe.sibling=Je,Oe=Je,$e=Lt}if(Fe===K.length)return d(G,$e),dt&&mi(G,Fe),ke;if($e===null){for(;Fe<K.length;Fe++)$e=ue(G,K[Fe],me),$e!==null&&(V=S($e,V,Fe),Oe===null?ke=$e:Oe.sibling=$e,Oe=$e);return dt&&mi(G,Fe),ke}for($e=v(G,$e);Fe<K.length;Fe++)Lt=ye($e,G,Fe,K[Fe],me),Lt!==null&&(i&&Lt.alternate!==null&&$e.delete(Lt.key===null?Fe:Lt.key),V=S(Lt,V,Fe),Oe===null?ke=Lt:Oe.sibling=Lt,Oe=Lt);return i&&$e.forEach(function(As){return a(G,As)}),dt&&mi(G,Fe),ke}function Ce(G,V,K,me){var ke=q(K);if(typeof ke!="function")throw Error(r(150));if(K=ke.call(K),K==null)throw Error(r(151));for(var Oe=ke=null,$e=V,Fe=V=0,Lt=null,Je=K.next();$e!==null&&!Je.done;Fe++,Je=K.next()){$e.index>Fe?(Lt=$e,$e=null):Lt=$e.sibling;var As=oe(G,$e,Je.value,me);if(As===null){$e===null&&($e=Lt);break}i&&$e&&As.alternate===null&&a(G,$e),V=S(As,V,Fe),Oe===null?ke=As:Oe.sibling=As,Oe=As,$e=Lt}if(Je.done)return d(G,$e),dt&&mi(G,Fe),ke;if($e===null){for(;!Je.done;Fe++,Je=K.next())Je=ue(G,Je.value,me),Je!==null&&(V=S(Je,V,Fe),Oe===null?ke=Je:Oe.sibling=Je,Oe=Je);return dt&&mi(G,Fe),ke}for($e=v(G,$e);!Je.done;Fe++,Je=K.next())Je=ye($e,G,Fe,Je.value,me),Je!==null&&(i&&Je.alternate!==null&&$e.delete(Je.key===null?Fe:Je.key),V=S(Je,V,Fe),Oe===null?ke=Je:Oe.sibling=Je,Oe=Je);return i&&$e.forEach(function(MP){return a(G,MP)}),dt&&mi(G,Fe),ke}function yt(G,V,K,me){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case P:e:{for(var ke=K.key,Oe=V;Oe!==null;){if(Oe.key===ke){if(ke=K.type,ke===R){if(Oe.tag===7){d(G,Oe.sibling),V=b(Oe,K.props.children),V.return=G,G=V;break e}}else if(Oe.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===H&&dx(ke)===Oe.type){d(G,Oe.sibling),V=b(Oe,K.props),V.ref=Ka(G,Oe,K),V.return=G,G=V;break e}d(G,Oe);break}else a(G,Oe);Oe=Oe.sibling}K.type===R?(V=ji(K.props.children,G.mode,me,K.key),V.return=G,G=V):(me=wu(K.type,K.key,K.props,null,G.mode,me),me.ref=Ka(G,V,K),me.return=G,G=me)}return T(G);case E:e:{for(Oe=K.key;V!==null;){if(V.key===Oe)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){d(G,V.sibling),V=b(V,K.children||[]),V.return=G,G=V;break e}else{d(G,V);break}else a(G,V);V=V.sibling}V=Uh(K,G.mode,me),V.return=G,G=V}return T(G);case H:return Oe=K._init,yt(G,V,Oe(K._payload),me)}if(br(K))return Ne(G,V,K,me);if(q(K))return Ce(G,V,K,me);Xc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,V!==null&&V.tag===6?(d(G,V.sibling),V=b(V,K),V.return=G,G=V):(d(G,V),V=Fh(K,G.mode,me),V.return=G,G=V),T(G)):d(G,V)}return yt}var xo=fx(!0),hx=fx(!1),Jc=ws(null),Qc=null,yo=null,Kf=null;function Xf(){Kf=yo=Qc=null}function Jf(i){var a=Jc.current;lt(Jc),i._currentValue=a}function Qf(i,a,d){for(;i!==null;){var v=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,v!==null&&(v.childLanes|=a)):v!==null&&(v.childLanes&a)!==a&&(v.childLanes|=a),i===d)break;i=i.return}}function wo(i,a){Qc=i,Kf=yo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(fr=!0),i.firstContext=null)}function Ur(i){var a=i._currentValue;if(Kf!==i)if(i={context:i,memoizedValue:a,next:null},yo===null){if(Qc===null)throw Error(r(308));yo=i,Qc.dependencies={lanes:0,firstContext:i}}else yo=yo.next=i;return a}var pi=null;function Zf(i){pi===null?pi=[i]:pi.push(i)}function mx(i,a,d,v){var b=a.interleaved;return b===null?(d.next=d,Zf(a)):(d.next=b.next,b.next=d),a.interleaved=d,zn(i,v)}function zn(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var _s=!1;function eh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function px(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Wn(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(i,a,d){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Xe&2)!==0){var b=v.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),v.pending=a,zn(i,d)}return b=v.interleaved,b===null?(a.next=a,Zf(v)):(a.next=b.next,b.next=a),v.interleaved=a,zn(i,d)}function Zc(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var v=a.lanes;v&=i.pendingLanes,d|=v,a.lanes=d,mf(i,d)}}function vx(i,a){var d=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?b=S=T:S=S.next=T,d=d.next}while(d!==null);S===null?b=S=a:S=S.next=a}else b=S=a;d={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:v.shared,effects:v.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function eu(i,a,d,v){var b=i.updateQueue;_s=!1;var S=b.firstBaseUpdate,T=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var B=L,Z=B.next;B.next=null,T===null?S=Z:T.next=Z,T=B;var le=i.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==T&&(L===null?le.firstBaseUpdate=Z:L.next=Z,le.lastBaseUpdate=B))}if(S!==null){var ue=b.baseState;T=0,le=Z=B=null,L=S;do{var oe=L.lane,ye=L.eventTime;if((v&oe)===oe){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ne=i,Ce=L;switch(oe=a,ye=d,Ce.tag){case 1:if(Ne=Ce.payload,typeof Ne=="function"){ue=Ne.call(ye,ue,oe);break e}ue=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ce.payload,oe=typeof Ne=="function"?Ne.call(ye,ue,oe):Ne,oe==null)break e;ue=Y({},ue,oe);break e;case 2:_s=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,oe=b.effects,oe===null?b.effects=[L]:oe.push(L))}else ye={eventTime:ye,lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(Z=le=ye,B=ue):le=le.next=ye,T|=oe;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,b.lastBaseUpdate=oe,b.shared.pending=null}}while(!0);if(le===null&&(B=ue),b.baseState=B,b.firstBaseUpdate=Z,b.lastBaseUpdate=le,a=b.shared.interleaved,a!==null){b=a;do T|=b.lane,b=b.next;while(b!==a)}else S===null&&(b.shared.lanes=0);xi|=T,i.lanes=T,i.memoizedState=ue}}function gx(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var v=i[a],b=v.callback;if(b!==null){if(v.callback=null,v=d,typeof b!="function")throw Error(r(191,b));b.call(v)}}}var Xa={},_n=ws(Xa),Ja=ws(Xa),Qa=ws(Xa);function vi(i){if(i===Xa)throw Error(r(174));return i}function th(i,a){switch(nt(Qa,a),nt(Ja,i),nt(_n,Xa),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ba(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ba(a,i)}lt(_n),nt(_n,a)}function bo(){lt(_n),lt(Ja),lt(Qa)}function xx(i){vi(Qa.current);var a=vi(_n.current),d=ba(a,i.type);a!==d&&(nt(Ja,i),nt(_n,d))}function rh(i){Ja.current===i&&(lt(_n),lt(Ja))}var ht=ws(0);function tu(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var nh=[];function sh(){for(var i=0;i<nh.length;i++)nh[i]._workInProgressVersionPrimary=null;nh.length=0}var ru=A.ReactCurrentDispatcher,ih=A.ReactCurrentBatchConfig,gi=0,mt=null,Tt=null,Mt=null,nu=!1,Za=!1,el=0,sP=0;function Qt(){throw Error(r(321))}function oh(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!tn(i[d],a[d]))return!1;return!0}function ah(i,a,d,v,b,S){if(gi=S,mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ru.current=i===null||i.memoizedState===null?lP:cP,i=d(v,b),Za){S=0;do{if(Za=!1,el=0,25<=S)throw Error(r(301));S+=1,Mt=Tt=null,a.updateQueue=null,ru.current=uP,i=d(v,b)}while(Za)}if(ru.current=ou,a=Tt!==null&&Tt.next!==null,gi=0,Mt=Tt=mt=null,nu=!1,a)throw Error(r(300));return i}function lh(){var i=el!==0;return el=0,i}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?mt.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function Br(){if(Tt===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var a=Mt===null?mt.memoizedState:Mt.next;if(a!==null)Mt=a,Tt=i;else{if(i===null)throw Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Mt===null?mt.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function tl(i,a){return typeof a=="function"?a(i):a}function ch(i){var a=Br(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var v=Tt,b=v.baseQueue,S=d.pending;if(S!==null){if(b!==null){var T=b.next;b.next=S.next,S.next=T}v.baseQueue=b=S,d.pending=null}if(b!==null){S=b.next,v=v.baseState;var L=T=null,B=null,Z=S;do{var le=Z.lane;if((gi&le)===le)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),v=Z.hasEagerState?Z.eagerState:i(v,Z.action);else{var ue={lane:le,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(L=B=ue,T=v):B=B.next=ue,mt.lanes|=le,xi|=le}Z=Z.next}while(Z!==null&&Z!==S);B===null?T=v:B.next=L,tn(v,a.memoizedState)||(fr=!0),a.memoizedState=v,a.baseState=T,a.baseQueue=B,d.lastRenderedState=v}if(i=d.interleaved,i!==null){b=i;do S=b.lane,mt.lanes|=S,xi|=S,b=b.next;while(b!==i)}else b===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function uh(i){var a=Br(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var v=d.dispatch,b=d.pending,S=a.memoizedState;if(b!==null){d.pending=null;var T=b=b.next;do S=i(S,T.action),T=T.next;while(T!==b);tn(S,a.memoizedState)||(fr=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),d.lastRenderedState=S}return[S,v]}function yx(){}function wx(i,a){var d=mt,v=Br(),b=a(),S=!tn(v.memoizedState,b);if(S&&(v.memoizedState=b,fr=!0),v=v.queue,dh(_x.bind(null,d,v,i),[i]),v.getSnapshot!==a||S||Mt!==null&&Mt.memoizedState.tag&1){if(d.flags|=2048,rl(9,jx.bind(null,d,v,b,a),void 0,null),It===null)throw Error(r(349));(gi&30)!==0||bx(d,a,b)}return b}function bx(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=mt.updateQueue,a===null?(a={lastEffect:null,stores:null},mt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function jx(i,a,d,v){a.value=d,a.getSnapshot=v,Sx(a)&&Nx(i)}function _x(i,a,d){return d(function(){Sx(a)&&Nx(i)})}function Sx(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!tn(i,d)}catch{return!0}}function Nx(i){var a=zn(i,1);a!==null&&an(a,i,1,-1)}function Cx(i){var a=Sn();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:i},a.queue=i,i=i.dispatch=aP.bind(null,mt,i),[a.memoizedState,i]}function rl(i,a,d,v){return i={tag:i,create:a,destroy:d,deps:v,next:null},a=mt.updateQueue,a===null?(a={lastEffect:null,stores:null},mt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(v=d.next,d.next=i,i.next=v,a.lastEffect=i)),i}function kx(){return Br().memoizedState}function su(i,a,d,v){var b=Sn();mt.flags|=i,b.memoizedState=rl(1|a,d,void 0,v===void 0?null:v)}function iu(i,a,d,v){var b=Br();v=v===void 0?null:v;var S=void 0;if(Tt!==null){var T=Tt.memoizedState;if(S=T.destroy,v!==null&&oh(v,T.deps)){b.memoizedState=rl(a,d,S,v);return}}mt.flags|=i,b.memoizedState=rl(1|a,d,S,v)}function Px(i,a){return su(8390656,8,i,a)}function dh(i,a){return iu(2048,8,i,a)}function Ex(i,a){return iu(4,2,i,a)}function Tx(i,a){return iu(4,4,i,a)}function Ax(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Dx(i,a,d){return d=d!=null?d.concat([i]):null,iu(4,4,Ax.bind(null,a,i),d)}function fh(){}function Rx(i,a){var d=Br();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&oh(a,v[1])?v[0]:(d.memoizedState=[i,a],i)}function Ox(i,a){var d=Br();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&oh(a,v[1])?v[0]:(i=i(),d.memoizedState=[i,a],i)}function $x(i,a,d){return(gi&21)===0?(i.baseState&&(i.baseState=!1,fr=!0),i.memoizedState=d):(tn(d,a)||(d=dg(),mt.lanes|=d,xi|=d,i.baseState=!0),a)}function iP(i,a){var d=et;et=d!==0&&4>d?d:4,i(!0);var v=ih.transition;ih.transition={};try{i(!1),a()}finally{et=d,ih.transition=v}}function Mx(){return Br().memoizedState}function oP(i,a,d){var v=Ps(i);if(d={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null},Ix(i))Lx(a,d);else if(d=mx(i,a,d,v),d!==null){var b=or();an(d,i,v,b),Fx(d,a,v)}}function aP(i,a,d){var v=Ps(i),b={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ix(i))Lx(a,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var T=a.lastRenderedState,L=S(T,d);if(b.hasEagerState=!0,b.eagerState=L,tn(L,T)){var B=a.interleaved;B===null?(b.next=b,Zf(a)):(b.next=B.next,B.next=b),a.interleaved=b;return}}catch{}finally{}d=mx(i,a,b,v),d!==null&&(b=or(),an(d,i,v,b),Fx(d,a,v))}}function Ix(i){var a=i.alternate;return i===mt||a!==null&&a===mt}function Lx(i,a){Za=nu=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function Fx(i,a,d){if((d&4194240)!==0){var v=a.lanes;v&=i.pendingLanes,d|=v,a.lanes=d,mf(i,d)}}var ou={readContext:Ur,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},lP={readContext:Ur,useCallback:function(i,a){return Sn().memoizedState=[i,a===void 0?null:a],i},useContext:Ur,useEffect:Px,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,su(4194308,4,Ax.bind(null,a,i),d)},useLayoutEffect:function(i,a){return su(4194308,4,i,a)},useInsertionEffect:function(i,a){return su(4,2,i,a)},useMemo:function(i,a){var d=Sn();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var v=Sn();return a=d!==void 0?d(a):a,v.memoizedState=v.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},v.queue=i,i=i.dispatch=oP.bind(null,mt,i),[v.memoizedState,i]},useRef:function(i){var a=Sn();return i={current:i},a.memoizedState=i},useState:Cx,useDebugValue:fh,useDeferredValue:function(i){return Sn().memoizedState=i},useTransition:function(){var i=Cx(!1),a=i[0];return i=iP.bind(null,i[1]),Sn().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var v=mt,b=Sn();if(dt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=a(),It===null)throw Error(r(349));(gi&30)!==0||bx(v,a,d)}b.memoizedState=d;var S={value:d,getSnapshot:a};return b.queue=S,Px(_x.bind(null,v,S,i),[i]),v.flags|=2048,rl(9,jx.bind(null,v,S,d,a),void 0,null),d},useId:function(){var i=Sn(),a=It.identifierPrefix;if(dt){var d=Vn,v=Bn;d=(v&~(1<<32-en(v)-1)).toString(32)+d,a=":"+a+"R"+d,d=el++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=sP++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},cP={readContext:Ur,useCallback:Rx,useContext:Ur,useEffect:dh,useImperativeHandle:Dx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Ox,useReducer:ch,useRef:kx,useState:function(){return ch(tl)},useDebugValue:fh,useDeferredValue:function(i){var a=Br();return $x(a,Tt.memoizedState,i)},useTransition:function(){var i=ch(tl)[0],a=Br().memoizedState;return[i,a]},useMutableSource:yx,useSyncExternalStore:wx,useId:Mx,unstable_isNewReconciler:!1},uP={readContext:Ur,useCallback:Rx,useContext:Ur,useEffect:dh,useImperativeHandle:Dx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Ox,useReducer:uh,useRef:kx,useState:function(){return uh(tl)},useDebugValue:fh,useDeferredValue:function(i){var a=Br();return Tt===null?a.memoizedState=i:$x(a,Tt.memoizedState,i)},useTransition:function(){var i=uh(tl)[0],a=Br().memoizedState;return[i,a]},useMutableSource:yx,useSyncExternalStore:wx,useId:Mx,unstable_isNewReconciler:!1};function nn(i,a){if(i&&i.defaultProps){a=Y({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function hh(i,a,d,v){a=i.memoizedState,d=d(v,a),d=d==null?a:Y({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var au={isMounted:function(i){return(i=i._reactInternals)?_r(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var v=or(),b=Ps(i),S=Wn(v,b);S.payload=a,d!=null&&(S.callback=d),a=Ss(i,S,b),a!==null&&(an(a,i,b,v),Zc(a,i,b))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var v=or(),b=Ps(i),S=Wn(v,b);S.tag=1,S.payload=a,d!=null&&(S.callback=d),a=Ss(i,S,b),a!==null&&(an(a,i,b,v),Zc(a,i,b))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=or(),v=Ps(i),b=Wn(d,v);b.tag=2,a!=null&&(b.callback=a),a=Ss(i,b,v),a!==null&&(an(a,i,v,d),Zc(a,i,v))}};function Ux(i,a,d,v,b,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,S,T):a.prototype&&a.prototype.isPureReactComponent?!Va(d,v)||!Va(b,S):!0}function Bx(i,a,d){var v=!1,b=bs,S=a.contextType;return typeof S=="object"&&S!==null?S=Ur(S):(b=dr(a)?fi:Jt.current,v=a.contextTypes,S=(v=v!=null)?mo(i,b):bs),a=new a(d,S),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=au,i.stateNode=a,a._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=S),a}function Vx(i,a,d,v){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,v),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,v),a.state!==i&&au.enqueueReplaceState(a,a.state,null)}function mh(i,a,d,v){var b=i.stateNode;b.props=d,b.state=i.memoizedState,b.refs={},eh(i);var S=a.contextType;typeof S=="object"&&S!==null?b.context=Ur(S):(S=dr(a)?fi:Jt.current,b.context=mo(i,S)),b.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(hh(i,a,S,d),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&au.enqueueReplaceState(b,b.state,null),eu(i,d,b,v),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function jo(i,a){try{var d="",v=a;do d+=pe(v),v=v.return;while(v);var b=d}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:a,stack:b,digest:null}}function ph(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function vh(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function zx(i,a,d){d=Wn(-1,d),d.tag=3,d.payload={element:null};var v=a.value;return d.callback=function(){mu||(mu=!0,Ah=v),vh(i,a)},d}function Wx(i,a,d){d=Wn(-1,d),d.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var b=a.value;d.payload=function(){return v(b)},d.callback=function(){vh(i,a)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){vh(i,a),typeof v!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),d}function Hx(i,a,d){var v=i.pingCache;if(v===null){v=i.pingCache=new dP;var b=new Set;v.set(a,b)}else b=v.get(a),b===void 0&&(b=new Set,v.set(a,b));b.has(d)||(b.add(d),i=NP.bind(null,i,a,d),a.then(i,i))}function qx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Yx(i,a,d,v,b){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Wn(-1,1),a.tag=2,Ss(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var fP=A.ReactCurrentOwner,fr=!1;function ir(i,a,d,v){a.child=i===null?hx(a,null,d,v):xo(a,i.child,d,v)}function Gx(i,a,d,v,b){d=d.render;var S=a.ref;return wo(a,b),v=ah(i,a,d,v,S,b),d=lh(),i!==null&&!fr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,Hn(i,a,b)):(dt&&d&&Wf(a),a.flags|=1,ir(i,a,v,b),a.child)}function Kx(i,a,d,v,b){if(i===null){var S=d.type;return typeof S=="function"&&!Lh(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=S,Xx(i,a,S,v,b)):(i=wu(d.type,null,v,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(S=i.child,(i.lanes&b)===0){var T=S.memoizedProps;if(d=d.compare,d=d!==null?d:Va,d(T,v)&&i.ref===a.ref)return Hn(i,a,b)}return a.flags|=1,i=Ts(S,v),i.ref=a.ref,i.return=a,a.child=i}function Xx(i,a,d,v,b){if(i!==null){var S=i.memoizedProps;if(Va(S,v)&&i.ref===a.ref)if(fr=!1,a.pendingProps=v=S,(i.lanes&b)!==0)(i.flags&131072)!==0&&(fr=!0);else return a.lanes=i.lanes,Hn(i,a,b)}return gh(i,a,d,v,b)}function Jx(i,a,d){var v=a.pendingProps,b=v.children,S=i!==null?i.memoizedState:null;if(v.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(So,kr),kr|=d;else{if((d&1073741824)===0)return i=S!==null?S.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,nt(So,kr),kr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=S!==null?S.baseLanes:d,nt(So,kr),kr|=v}else S!==null?(v=S.baseLanes|d,a.memoizedState=null):v=d,nt(So,kr),kr|=v;return ir(i,a,b,d),a.child}function Qx(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function gh(i,a,d,v,b){var S=dr(d)?fi:Jt.current;return S=mo(a,S),wo(a,b),d=ah(i,a,d,v,S,b),v=lh(),i!==null&&!fr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,Hn(i,a,b)):(dt&&v&&Wf(a),a.flags|=1,ir(i,a,d,b),a.child)}function Zx(i,a,d,v,b){if(dr(d)){var S=!0;Hc(a)}else S=!1;if(wo(a,b),a.stateNode===null)cu(i,a),Bx(a,d,v),mh(a,d,v,b),v=!0;else if(i===null){var T=a.stateNode,L=a.memoizedProps;T.props=L;var B=T.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=Ur(Z):(Z=dr(d)?fi:Jt.current,Z=mo(a,Z));var le=d.getDerivedStateFromProps,ue=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==v||B!==Z)&&Vx(a,T,v,Z),_s=!1;var oe=a.memoizedState;T.state=oe,eu(a,v,T,b),B=a.memoizedState,L!==v||oe!==B||ur.current||_s?(typeof le=="function"&&(hh(a,d,le,v),B=a.memoizedState),(L=_s||Ux(a,d,L,v,oe,B,Z))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=v,a.memoizedState=B),T.props=v,T.state=B,T.context=Z,v=L):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),v=!1)}else{T=a.stateNode,px(i,a),L=a.memoizedProps,Z=a.type===a.elementType?L:nn(a.type,L),T.props=Z,ue=a.pendingProps,oe=T.context,B=d.contextType,typeof B=="object"&&B!==null?B=Ur(B):(B=dr(d)?fi:Jt.current,B=mo(a,B));var ye=d.getDerivedStateFromProps;(le=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==ue||oe!==B)&&Vx(a,T,v,B),_s=!1,oe=a.memoizedState,T.state=oe,eu(a,v,T,b);var Ne=a.memoizedState;L!==ue||oe!==Ne||ur.current||_s?(typeof ye=="function"&&(hh(a,d,ye,v),Ne=a.memoizedState),(Z=_s||Ux(a,d,Z,v,oe,Ne,B)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,Ne,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,Ne,B)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=v,a.memoizedState=Ne),T.props=v,T.state=Ne,T.context=B,v=Z):(typeof T.componentDidUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),v=!1)}return xh(i,a,d,v,S,b)}function xh(i,a,d,v,b,S){Qx(i,a);var T=(a.flags&128)!==0;if(!v&&!T)return b&&sx(a,d,!1),Hn(i,a,S);v=a.stateNode,fP.current=a;var L=T&&typeof d.getDerivedStateFromError!="function"?null:v.render();return a.flags|=1,i!==null&&T?(a.child=xo(a,i.child,null,S),a.child=xo(a,null,L,S)):ir(i,a,L,S),a.memoizedState=v.state,b&&sx(a,d,!0),a.child}function ey(i){var a=i.stateNode;a.pendingContext?rx(i,a.pendingContext,a.pendingContext!==a.context):a.context&&rx(i,a.context,!1),th(i,a.containerInfo)}function ty(i,a,d,v,b){return go(),Gf(b),a.flags|=256,ir(i,a,d,v),a.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function wh(i){return{baseLanes:i,cachePool:null,transitions:null}}function ry(i,a,d){var v=a.pendingProps,b=ht.current,S=!1,T=(a.flags&128)!==0,L;if((L=T)||(L=i!==null&&i.memoizedState===null?!1:(b&2)!==0),L?(S=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),nt(ht,b&1),i===null)return Yf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=v.children,i=v.fallback,S?(v=a.mode,S=a.child,T={mode:"hidden",children:T},(v&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=bu(T,v,0,null),i=ji(i,v,d,null),S.return=a,i.return=a,S.sibling=i,a.child=S,a.child.memoizedState=wh(d),a.memoizedState=yh,i):bh(a,T));if(b=i.memoizedState,b!==null&&(L=b.dehydrated,L!==null))return hP(i,a,T,v,L,b,d);if(S){S=v.fallback,T=a.mode,b=i.child,L=b.sibling;var B={mode:"hidden",children:v.children};return(T&1)===0&&a.child!==b?(v=a.child,v.childLanes=0,v.pendingProps=B,a.deletions=null):(v=Ts(b,B),v.subtreeFlags=b.subtreeFlags&14680064),L!==null?S=Ts(L,S):(S=ji(S,T,d,null),S.flags|=2),S.return=a,v.return=a,v.sibling=S,a.child=v,v=S,S=a.child,T=i.child.memoizedState,T=T===null?wh(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=i.childLanes&~d,a.memoizedState=yh,v}return S=i.child,i=S.sibling,v=Ts(S,{mode:"visible",children:v.children}),(a.mode&1)===0&&(v.lanes=d),v.return=a,v.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=v,a.memoizedState=null,v}function bh(i,a){return a=bu({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function lu(i,a,d,v){return v!==null&&Gf(v),xo(a,i.child,null,d),i=bh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function hP(i,a,d,v,b,S,T){if(d)return a.flags&256?(a.flags&=-257,v=ph(Error(r(422))),lu(i,a,T,v)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(S=v.fallback,b=a.mode,v=bu({mode:"visible",children:v.children},b,0,null),S=ji(S,b,T,null),S.flags|=2,v.return=a,S.return=a,v.sibling=S,a.child=v,(a.mode&1)!==0&&xo(a,i.child,null,T),a.child.memoizedState=wh(T),a.memoizedState=yh,S);if((a.mode&1)===0)return lu(i,a,T,null);if(b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var L=v.dgst;return v=L,S=Error(r(419)),v=ph(S,v,void 0),lu(i,a,T,v)}if(L=(T&i.childLanes)!==0,fr||L){if(v=It,v!==null){switch(T&-T){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(v.suspendedLanes|T))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,zn(i,b),an(v,i,b,-1))}return Ih(),v=ph(Error(r(421))),lu(i,a,T,v)}return b.data==="$?"?(a.flags|=128,a.child=i.child,a=CP.bind(null,i),b._reactRetry=a,null):(i=S.treeContext,Cr=ys(b.nextSibling),Nr=a,dt=!0,rn=null,i!==null&&(Lr[Fr++]=Bn,Lr[Fr++]=Vn,Lr[Fr++]=hi,Bn=i.id,Vn=i.overflow,hi=a),a=bh(a,v.children),a.flags|=4096,a)}function ny(i,a,d){i.lanes|=a;var v=i.alternate;v!==null&&(v.lanes|=a),Qf(i.return,a,d)}function jh(i,a,d,v,b){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:b}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=v,S.tail=d,S.tailMode=b)}function sy(i,a,d){var v=a.pendingProps,b=v.revealOrder,S=v.tail;if(ir(i,a,v.children,d),v=ht.current,(v&2)!==0)v=v&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ny(i,d,a);else if(i.tag===19)ny(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(nt(ht,v),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(d=a.child,b=null;d!==null;)i=d.alternate,i!==null&&tu(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=a.child,a.child=null):(b=d.sibling,d.sibling=null),jh(a,!1,b,d,S);break;case"backwards":for(d=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&tu(i)===null){a.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}jh(a,!0,d,null,S);break;case"together":jh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cu(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Hn(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),xi|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,d=Ts(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=Ts(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function mP(i,a,d){switch(a.tag){case 3:ey(a),go();break;case 5:xx(a);break;case 1:dr(a.type)&&Hc(a);break;case 4:th(a,a.stateNode.containerInfo);break;case 10:var v=a.type._context,b=a.memoizedProps.value;nt(Jc,v._currentValue),v._currentValue=b;break;case 13:if(v=a.memoizedState,v!==null)return v.dehydrated!==null?(nt(ht,ht.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?ry(i,a,d):(nt(ht,ht.current&1),i=Hn(i,a,d),i!==null?i.sibling:null);nt(ht,ht.current&1);break;case 19:if(v=(d&a.childLanes)!==0,(i.flags&128)!==0){if(v)return sy(i,a,d);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),nt(ht,ht.current),v)break;return null;case 22:case 23:return a.lanes=0,Jx(i,a,d)}return Hn(i,a,d)}var iy,_h,oy,ay;iy=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},_h=function(){},oy=function(i,a,d,v){var b=i.memoizedProps;if(b!==v){i=a.stateNode,vi(_n.current);var S=null;switch(d){case"input":b=Ee(i,b),v=Ee(i,v),S=[];break;case"select":b=Y({},b,{value:void 0}),v=Y({},v,{value:void 0}),S=[];break;case"textarea":b=$r(i,b),v=$r(i,v),S=[];break;default:typeof b.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=Vc)}ja(d,v);var T;d=null;for(Z in b)if(!v.hasOwnProperty(Z)&&b.hasOwnProperty(Z)&&b[Z]!=null)if(Z==="style"){var L=b[Z];for(T in L)L.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?S||(S=[]):(S=S||[]).push(Z,null));for(Z in v){var B=v[Z];if(L=b!=null?b[Z]:void 0,v.hasOwnProperty(Z)&&B!==L&&(B!=null||L!=null))if(Z==="style")if(L){for(T in L)!L.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in B)B.hasOwnProperty(T)&&L[T]!==B[T]&&(d||(d={}),d[T]=B[T])}else d||(S||(S=[]),S.push(Z,d)),d=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(S=S||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(S=S||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&at("scroll",i),S||L===B||(S=[])):(S=S||[]).push(Z,B))}d&&(S=S||[]).push("style",d);var Z=S;(a.updateQueue=Z)&&(a.flags|=4)}},ay=function(i,a,d,v){d!==v&&(a.flags|=4)};function nl(i,a){if(!dt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function Zt(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,v=0;if(a)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags&14680064,v|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=v,i.childLanes=d,a}function pP(i,a,d){var v=a.pendingProps;switch(Hf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return dr(a.type)&&Wc(),Zt(a),null;case 3:return v=a.stateNode,bo(),lt(ur),lt(Jt),sh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(Kc(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,rn!==null&&(Oh(rn),rn=null))),_h(i,a),Zt(a),null;case 5:rh(a);var b=vi(Qa.current);if(d=a.type,i!==null&&a.stateNode!=null)oy(i,a,d,v,b),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!v){if(a.stateNode===null)throw Error(r(166));return Zt(a),null}if(i=vi(_n.current),Kc(a)){v=a.stateNode,d=a.type;var S=a.memoizedProps;switch(v[jn]=a,v[Ya]=S,i=(a.mode&1)!==0,d){case"dialog":at("cancel",v),at("close",v);break;case"iframe":case"object":case"embed":at("load",v);break;case"video":case"audio":for(b=0;b<Wa.length;b++)at(Wa[b],v);break;case"source":at("error",v);break;case"img":case"image":case"link":at("error",v),at("load",v);break;case"details":at("toggle",v);break;case"input":Et(v,S),at("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!S.multiple},at("invalid",v);break;case"textarea":fc(v,S),at("invalid",v)}ja(d,S),b=null;for(var T in S)if(S.hasOwnProperty(T)){var L=S[T];T==="children"?typeof L=="string"?v.textContent!==L&&(S.suppressHydrationWarning!==!0&&Bc(v.textContent,L,i),b=["children",L]):typeof L=="number"&&v.textContent!==""+L&&(S.suppressHydrationWarning!==!0&&Bc(v.textContent,L,i),b=["children",""+L]):o.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&at("scroll",v)}switch(d){case"input":fe(v),ii(v,S,!0);break;case"textarea":fe(v),wa(v);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(v.onclick=Vc)}v=b,a.updateQueue=v,v!==null&&(a.flags|=4)}else{T=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=hc(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=T.createElement(d,{is:v.is}):(i=T.createElement(d),d==="select"&&(T=i,v.multiple?T.multiple=!0:v.size&&(T.size=v.size))):i=T.createElementNS(i,d),i[jn]=a,i[Ya]=v,iy(i,a,!1,!1),a.stateNode=i;e:{switch(T=_a(d,v),d){case"dialog":at("cancel",i),at("close",i),b=v;break;case"iframe":case"object":case"embed":at("load",i),b=v;break;case"video":case"audio":for(b=0;b<Wa.length;b++)at(Wa[b],i);b=v;break;case"source":at("error",i),b=v;break;case"img":case"image":case"link":at("error",i),at("load",i),b=v;break;case"details":at("toggle",i),b=v;break;case"input":Et(i,v),b=Ee(i,v),at("invalid",i);break;case"option":b=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},b=Y({},v,{value:void 0}),at("invalid",i);break;case"textarea":fc(i,v),b=$r(i,v),at("invalid",i);break;default:b=v}ja(d,b),L=b;for(S in L)if(L.hasOwnProperty(S)){var B=L[S];S==="style"?gc(i,B):S==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&mc(i,B)):S==="children"?typeof B=="string"?(d!=="textarea"||B!=="")&&oi(i,B):typeof B=="number"&&oi(i,""+B):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?B!=null&&S==="onScroll"&&at("scroll",i):B!=null&&k(i,S,B,T))}switch(d){case"input":fe(i),ii(i,v,!1);break;case"textarea":fe(i),wa(i);break;case"option":v.value!=null&&i.setAttribute("value",""+ie(v.value));break;case"select":i.multiple=!!v.multiple,S=v.value,S!=null?ls(i,!!v.multiple,S,!1):v.defaultValue!=null&&ls(i,!!v.multiple,v.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Vc)}switch(d){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Zt(a),null;case 6:if(i&&a.stateNode!=null)ay(i,a,i.memoizedProps,v);else{if(typeof v!="string"&&a.stateNode===null)throw Error(r(166));if(d=vi(Qa.current),vi(_n.current),Kc(a)){if(v=a.stateNode,d=a.memoizedProps,v[jn]=a,(S=v.nodeValue!==d)&&(i=Nr,i!==null))switch(i.tag){case 3:Bc(v.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Bc(v.nodeValue,d,(i.mode&1)!==0)}S&&(a.flags|=4)}else v=(d.nodeType===9?d:d.ownerDocument).createTextNode(v),v[jn]=a,a.stateNode=v}return Zt(a),null;case 13:if(lt(ht),v=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&Cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ux(),go(),a.flags|=98560,S=!1;else if(S=Kc(a),v!==null&&v.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[jn]=a}else go(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),S=!1}else rn!==null&&(Oh(rn),rn=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(ht.current&1)!==0?At===0&&(At=3):Ih())),a.updateQueue!==null&&(a.flags|=4),Zt(a),null);case 4:return bo(),_h(i,a),i===null&&Ha(a.stateNode.containerInfo),Zt(a),null;case 10:return Jf(a.type._context),Zt(a),null;case 17:return dr(a.type)&&Wc(),Zt(a),null;case 19:if(lt(ht),S=a.memoizedState,S===null)return Zt(a),null;if(v=(a.flags&128)!==0,T=S.rendering,T===null)if(v)nl(S,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(T=tu(i),T!==null){for(a.flags|=128,nl(S,!1),v=T.updateQueue,v!==null&&(a.updateQueue=v,a.flags|=4),a.subtreeFlags=0,v=d,d=a.child;d!==null;)S=d,i=v,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,i=T.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return nt(ht,ht.current&1|2),a.child}i=i.sibling}S.tail!==null&&xt()>No&&(a.flags|=128,v=!0,nl(S,!1),a.lanes=4194304)}else{if(!v)if(i=tu(T),i!==null){if(a.flags|=128,v=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),nl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!dt)return Zt(a),null}else 2*xt()-S.renderingStartTime>No&&d!==1073741824&&(a.flags|=128,v=!0,nl(S,!1),a.lanes=4194304);S.isBackwards?(T.sibling=a.child,a.child=T):(d=S.last,d!==null?d.sibling=T:a.child=T,S.last=T)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=xt(),a.sibling=null,d=ht.current,nt(ht,v?d&1|2:d&1),a):(Zt(a),null);case 22:case 23:return Mh(),v=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(a.flags|=8192),v&&(a.mode&1)!==0?(kr&1073741824)!==0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function vP(i,a){switch(Hf(a),a.tag){case 1:return dr(a.type)&&Wc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return bo(),lt(ur),lt(Jt),sh(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return rh(a),null;case 13:if(lt(ht),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));go()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return lt(ht),null;case 4:return bo(),null;case 10:return Jf(a.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var uu=!1,er=!1,gP=typeof WeakSet=="function"?WeakSet:Set,we=null;function _o(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(v){gt(i,a,v)}else d.current=null}function Sh(i,a,d){try{d()}catch(v){gt(i,a,v)}}var ly=!1;function xP(i,a){if(Mf=Tc,i=Ug(),Pf(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var b=v.anchorOffset,S=v.focusNode;v=v.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var T=0,L=-1,B=-1,Z=0,le=0,ue=i,oe=null;t:for(;;){for(var ye;ue!==d||b!==0&&ue.nodeType!==3||(L=T+b),ue!==S||v!==0&&ue.nodeType!==3||(B=T+v),ue.nodeType===3&&(T+=ue.nodeValue.length),(ye=ue.firstChild)!==null;)oe=ue,ue=ye;for(;;){if(ue===i)break t;if(oe===d&&++Z===b&&(L=T),oe===S&&++le===v&&(B=T),(ye=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=ye}d=L===-1||B===-1?null:{start:L,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(If={focusedElem:i,selectionRange:d},Tc=!1,we=a;we!==null;)if(a=we,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,we=i;else for(;we!==null;){a=we;try{var Ne=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Ce=Ne.memoizedProps,yt=Ne.memoizedState,G=a.stateNode,V=G.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:nn(a.type,Ce),yt);G.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){gt(a,a.return,me)}if(i=a.sibling,i!==null){i.return=a.return,we=i;break}we=a.return}return Ne=ly,ly=!1,Ne}function sl(i,a,d){var v=a.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&i)===i){var S=b.destroy;b.destroy=void 0,S!==void 0&&Sh(a,d,S)}b=b.next}while(b!==v)}}function du(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var v=d.create;d.destroy=v()}d=d.next}while(d!==a)}}function Nh(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function cy(i){var a=i.alternate;a!==null&&(i.alternate=null,cy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[jn],delete a[Ya],delete a[Bf],delete a[eP],delete a[tP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function uy(i){return i.tag===5||i.tag===3||i.tag===4}function dy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ch(i,a,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Vc));else if(v!==4&&(i=i.child,i!==null))for(Ch(i,a,d),i=i.sibling;i!==null;)Ch(i,a,d),i=i.sibling}function kh(i,a,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(kh(i,a,d),i=i.sibling;i!==null;)kh(i,a,d),i=i.sibling}var qt=null,sn=!1;function Ns(i,a,d){for(d=d.child;d!==null;)fy(i,a,d),d=d.sibling}function fy(i,a,d){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Sc,d)}catch{}switch(d.tag){case 5:er||_o(d,a);case 6:var v=qt,b=sn;qt=null,Ns(i,a,d),qt=v,sn=b,qt!==null&&(sn?(i=qt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):qt.removeChild(d.stateNode));break;case 18:qt!==null&&(sn?(i=qt,d=d.stateNode,i.nodeType===8?Uf(i.parentNode,d):i.nodeType===1&&Uf(i,d),Ma(i)):Uf(qt,d.stateNode));break;case 4:v=qt,b=sn,qt=d.stateNode.containerInfo,sn=!0,Ns(i,a,d),qt=v,sn=b;break;case 0:case 11:case 14:case 15:if(!er&&(v=d.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){b=v=v.next;do{var S=b,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&Sh(d,a,T),b=b.next}while(b!==v)}Ns(i,a,d);break;case 1:if(!er&&(_o(d,a),v=d.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=d.memoizedProps,v.state=d.memoizedState,v.componentWillUnmount()}catch(L){gt(d,a,L)}Ns(i,a,d);break;case 21:Ns(i,a,d);break;case 22:d.mode&1?(er=(v=er)||d.memoizedState!==null,Ns(i,a,d),er=v):Ns(i,a,d);break;default:Ns(i,a,d)}}function hy(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new gP),a.forEach(function(v){var b=kP.bind(null,i,v);d.has(v)||(d.add(v),v.then(b,b))})}}function on(i,a){var d=a.deletions;if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];try{var S=i,T=a,L=T;e:for(;L!==null;){switch(L.tag){case 5:qt=L.stateNode,sn=!1;break e;case 3:qt=L.stateNode.containerInfo,sn=!0;break e;case 4:qt=L.stateNode.containerInfo,sn=!0;break e}L=L.return}if(qt===null)throw Error(r(160));fy(S,T,b),qt=null,sn=!1;var B=b.alternate;B!==null&&(B.return=null),b.return=null}catch(Z){gt(b,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)my(a,i),a=a.sibling}function my(i,a){var d=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(on(a,i),Nn(i),v&4){try{sl(3,i,i.return),du(3,i)}catch(Ce){gt(i,i.return,Ce)}try{sl(5,i,i.return)}catch(Ce){gt(i,i.return,Ce)}}break;case 1:on(a,i),Nn(i),v&512&&d!==null&&_o(d,d.return);break;case 5:if(on(a,i),Nn(i),v&512&&d!==null&&_o(d,d.return),i.flags&32){var b=i.stateNode;try{oi(b,"")}catch(Ce){gt(i,i.return,Ce)}}if(v&4&&(b=i.stateNode,b!=null)){var S=i.memoizedProps,T=d!==null?d.memoizedProps:S,L=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{L==="input"&&S.type==="radio"&&S.name!=null&&ft(b,S),_a(L,T);var Z=_a(L,S);for(T=0;T<B.length;T+=2){var le=B[T],ue=B[T+1];le==="style"?gc(b,ue):le==="dangerouslySetInnerHTML"?mc(b,ue):le==="children"?oi(b,ue):k(b,le,ue,Z)}switch(L){case"input":wr(b,S);break;case"textarea":to(b,S);break;case"select":var oe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var ye=S.value;ye!=null?ls(b,!!S.multiple,ye,!1):oe!==!!S.multiple&&(S.defaultValue!=null?ls(b,!!S.multiple,S.defaultValue,!0):ls(b,!!S.multiple,S.multiple?[]:"",!1))}b[Ya]=S}catch(Ce){gt(i,i.return,Ce)}}break;case 6:if(on(a,i),Nn(i),v&4){if(i.stateNode===null)throw Error(r(162));b=i.stateNode,S=i.memoizedProps;try{b.nodeValue=S}catch(Ce){gt(i,i.return,Ce)}}break;case 3:if(on(a,i),Nn(i),v&4&&d!==null&&d.memoizedState.isDehydrated)try{Ma(a.containerInfo)}catch(Ce){gt(i,i.return,Ce)}break;case 4:on(a,i),Nn(i);break;case 13:on(a,i),Nn(i),b=i.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(Th=xt())),v&4&&hy(i);break;case 22:if(le=d!==null&&d.memoizedState!==null,i.mode&1?(er=(Z=er)||le,on(a,i),er=Z):on(a,i),Nn(i),v&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!le&&(i.mode&1)!==0)for(we=i,le=i.child;le!==null;){for(ue=we=le;we!==null;){switch(oe=we,ye=oe.child,oe.tag){case 0:case 11:case 14:case 15:sl(4,oe,oe.return);break;case 1:_o(oe,oe.return);var Ne=oe.stateNode;if(typeof Ne.componentWillUnmount=="function"){v=oe,d=oe.return;try{a=v,Ne.props=a.memoizedProps,Ne.state=a.memoizedState,Ne.componentWillUnmount()}catch(Ce){gt(v,d,Ce)}}break;case 5:_o(oe,oe.return);break;case 22:if(oe.memoizedState!==null){gy(ue);continue}}ye!==null?(ye.return=oe,we=ye):gy(ue)}le=le.sibling}e:for(le=null,ue=i;;){if(ue.tag===5){if(le===null){le=ue;try{b=ue.stateNode,Z?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(L=ue.stateNode,B=ue.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=vc("display",T))}catch(Ce){gt(i,i.return,Ce)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=Z?"":ue.memoizedProps}catch(Ce){gt(i,i.return,Ce)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:on(a,i),Nn(i),v&4&&hy(i);break;case 21:break;default:on(a,i),Nn(i)}}function Nn(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(uy(d)){var v=d;break e}d=d.return}throw Error(r(160))}switch(v.tag){case 5:var b=v.stateNode;v.flags&32&&(oi(b,""),v.flags&=-33);var S=dy(i);kh(i,S,b);break;case 3:case 4:var T=v.stateNode.containerInfo,L=dy(i);Ch(i,L,T);break;default:throw Error(r(161))}}catch(B){gt(i,i.return,B)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function yP(i,a,d){we=i,py(i)}function py(i,a,d){for(var v=(i.mode&1)!==0;we!==null;){var b=we,S=b.child;if(b.tag===22&&v){var T=b.memoizedState!==null||uu;if(!T){var L=b.alternate,B=L!==null&&L.memoizedState!==null||er;L=uu;var Z=er;if(uu=T,(er=B)&&!Z)for(we=b;we!==null;)T=we,B=T.child,T.tag===22&&T.memoizedState!==null?xy(b):B!==null?(B.return=T,we=B):xy(b);for(;S!==null;)we=S,py(S),S=S.sibling;we=b,uu=L,er=Z}vy(i)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,we=S):vy(i)}}function vy(i){for(;we!==null;){var a=we;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:er||du(5,a);break;case 1:var v=a.stateNode;if(a.flags&4&&!er)if(d===null)v.componentDidMount();else{var b=a.elementType===a.type?d.memoizedProps:nn(a.type,d.memoizedProps);v.componentDidUpdate(b,d.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&gx(a,S,v);break;case 3:var T=a.updateQueue;if(T!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}gx(a,T,d)}break;case 5:var L=a.stateNode;if(d===null&&a.flags&4){d=L;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&d.focus();break;case"img":B.src&&(d.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var le=Z.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Ma(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}er||a.flags&512&&Nh(a)}catch(oe){gt(a,a.return,oe)}}if(a===i){we=null;break}if(d=a.sibling,d!==null){d.return=a.return,we=d;break}we=a.return}}function gy(i){for(;we!==null;){var a=we;if(a===i){we=null;break}var d=a.sibling;if(d!==null){d.return=a.return,we=d;break}we=a.return}}function xy(i){for(;we!==null;){var a=we;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{du(4,a)}catch(B){gt(a,d,B)}break;case 1:var v=a.stateNode;if(typeof v.componentDidMount=="function"){var b=a.return;try{v.componentDidMount()}catch(B){gt(a,b,B)}}var S=a.return;try{Nh(a)}catch(B){gt(a,S,B)}break;case 5:var T=a.return;try{Nh(a)}catch(B){gt(a,T,B)}}}catch(B){gt(a,a.return,B)}if(a===i){we=null;break}var L=a.sibling;if(L!==null){L.return=a.return,we=L;break}we=a.return}}var wP=Math.ceil,fu=A.ReactCurrentDispatcher,Ph=A.ReactCurrentOwner,Vr=A.ReactCurrentBatchConfig,Xe=0,It=null,_t=null,Yt=0,kr=0,So=ws(0),At=0,il=null,xi=0,hu=0,Eh=0,ol=null,hr=null,Th=0,No=1/0,qn=null,mu=!1,Ah=null,Cs=null,pu=!1,ks=null,vu=0,al=0,Dh=null,gu=-1,xu=0;function or(){return(Xe&6)!==0?xt():gu!==-1?gu:gu=xt()}function Ps(i){return(i.mode&1)===0?1:(Xe&2)!==0&&Yt!==0?Yt&-Yt:nP.transition!==null?(xu===0&&(xu=dg()),xu):(i=et,i!==0||(i=window.event,i=i===void 0?16:wg(i.type)),i)}function an(i,a,d,v){if(50<al)throw al=0,Dh=null,Error(r(185));Aa(i,d,v),((Xe&2)===0||i!==It)&&(i===It&&((Xe&2)===0&&(hu|=d),At===4&&Es(i,Yt)),mr(i,v),d===1&&Xe===0&&(a.mode&1)===0&&(No=xt()+500,qc&&js()))}function mr(i,a){var d=i.callbackNode;nk(i,a);var v=kc(i,i===It?Yt:0);if(v===0)d!==null&&jc(d),i.callbackNode=null,i.callbackPriority=0;else if(a=v&-v,i.callbackPriority!==a){if(d!=null&&jc(d),a===1)i.tag===0?rP(wy.bind(null,i)):ix(wy.bind(null,i)),Qk(function(){(Xe&6)===0&&js()}),d=null;else{switch(fg(v)){case 1:d=df;break;case 4:d=cg;break;case 16:d=_c;break;case 536870912:d=ug;break;default:d=_c}d=Py(d,yy.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function yy(i,a){if(gu=-1,xu=0,(Xe&6)!==0)throw Error(r(327));var d=i.callbackNode;if(Co()&&i.callbackNode!==d)return null;var v=kc(i,i===It?Yt:0);if(v===0)return null;if((v&30)!==0||(v&i.expiredLanes)!==0||a)a=yu(i,v);else{a=v;var b=Xe;Xe|=2;var S=jy();(It!==i||Yt!==a)&&(qn=null,No=xt()+500,wi(i,a));do try{_P();break}catch(L){by(i,L)}while(!0);Xf(),fu.current=S,Xe=b,_t!==null?a=0:(It=null,Yt=0,a=At)}if(a!==0){if(a===2&&(b=ff(i),b!==0&&(v=b,a=Rh(i,b))),a===1)throw d=il,wi(i,0),Es(i,v),mr(i,xt()),d;if(a===6)Es(i,v);else{if(b=i.current.alternate,(v&30)===0&&!bP(b)&&(a=yu(i,v),a===2&&(S=ff(i),S!==0&&(v=S,a=Rh(i,S))),a===1))throw d=il,wi(i,0),Es(i,v),mr(i,xt()),d;switch(i.finishedWork=b,i.finishedLanes=v,a){case 0:case 1:throw Error(r(345));case 2:bi(i,hr,qn);break;case 3:if(Es(i,v),(v&130023424)===v&&(a=Th+500-xt(),10<a)){if(kc(i,0)!==0)break;if(b=i.suspendedLanes,(b&v)!==v){or(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=Ff(bi.bind(null,i,hr,qn),a);break}bi(i,hr,qn);break;case 4:if(Es(i,v),(v&4194240)===v)break;for(a=i.eventTimes,b=-1;0<v;){var T=31-en(v);S=1<<T,T=a[T],T>b&&(b=T),v&=~S}if(v=b,v=xt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*wP(v/1960))-v,10<v){i.timeoutHandle=Ff(bi.bind(null,i,hr,qn),v);break}bi(i,hr,qn);break;case 5:bi(i,hr,qn);break;default:throw Error(r(329))}}}return mr(i,xt()),i.callbackNode===d?yy.bind(null,i):null}function Rh(i,a){var d=ol;return i.current.memoizedState.isDehydrated&&(wi(i,a).flags|=256),i=yu(i,a),i!==2&&(a=hr,hr=d,a!==null&&Oh(a)),i}function Oh(i){hr===null?hr=i:hr.push.apply(hr,i)}function bP(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var v=0;v<d.length;v++){var b=d[v],S=b.getSnapshot;b=b.value;try{if(!tn(S(),b))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Es(i,a){for(a&=~Eh,a&=~hu,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-en(a),v=1<<d;i[d]=-1,a&=~v}}function wy(i){if((Xe&6)!==0)throw Error(r(327));Co();var a=kc(i,0);if((a&1)===0)return mr(i,xt()),null;var d=yu(i,a);if(i.tag!==0&&d===2){var v=ff(i);v!==0&&(a=v,d=Rh(i,v))}if(d===1)throw d=il,wi(i,0),Es(i,a),mr(i,xt()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,bi(i,hr,qn),mr(i,xt()),null}function $h(i,a){var d=Xe;Xe|=1;try{return i(a)}finally{Xe=d,Xe===0&&(No=xt()+500,qc&&js())}}function yi(i){ks!==null&&ks.tag===0&&(Xe&6)===0&&Co();var a=Xe;Xe|=1;var d=Vr.transition,v=et;try{if(Vr.transition=null,et=1,i)return i()}finally{et=v,Vr.transition=d,Xe=a,(Xe&6)===0&&js()}}function Mh(){kr=So.current,lt(So)}function wi(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,Jk(d)),_t!==null)for(d=_t.return;d!==null;){var v=d;switch(Hf(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Wc();break;case 3:bo(),lt(ur),lt(Jt),sh();break;case 5:rh(v);break;case 4:bo();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:Jf(v.type._context);break;case 22:case 23:Mh()}d=d.return}if(It=i,_t=i=Ts(i.current,null),Yt=kr=a,At=0,il=null,Eh=hu=xi=0,hr=ol=null,pi!==null){for(a=0;a<pi.length;a++)if(d=pi[a],v=d.interleaved,v!==null){d.interleaved=null;var b=v.next,S=d.pending;if(S!==null){var T=S.next;S.next=b,v.next=T}d.pending=v}pi=null}return i}function by(i,a){do{var d=_t;try{if(Xf(),ru.current=ou,nu){for(var v=mt.memoizedState;v!==null;){var b=v.queue;b!==null&&(b.pending=null),v=v.next}nu=!1}if(gi=0,Mt=Tt=mt=null,Za=!1,el=0,Ph.current=null,d===null||d.return===null){At=1,il=a,_t=null;break}e:{var S=i,T=d.return,L=d,B=a;if(a=Yt,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,le=L,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=qx(T);if(ye!==null){ye.flags&=-257,Yx(ye,T,L,S,a),ye.mode&1&&Hx(S,Z,a),a=ye,B=Z;var Ne=a.updateQueue;if(Ne===null){var Ce=new Set;Ce.add(B),a.updateQueue=Ce}else Ne.add(B);break e}else{if((a&1)===0){Hx(S,Z,a),Ih();break e}B=Error(r(426))}}else if(dt&&L.mode&1){var yt=qx(T);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Yx(yt,T,L,S,a),Gf(jo(B,L));break e}}S=B=jo(B,L),At!==4&&(At=2),ol===null?ol=[S]:ol.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var G=zx(S,B,a);vx(S,G);break e;case 1:L=B;var V=S.type,K=S.stateNode;if((S.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Cs===null||!Cs.has(K)))){S.flags|=65536,a&=-a,S.lanes|=a;var me=Wx(S,L,a);vx(S,me);break e}}S=S.return}while(S!==null)}Sy(d)}catch(ke){a=ke,_t===d&&d!==null&&(_t=d=d.return);continue}break}while(!0)}function jy(){var i=fu.current;return fu.current=ou,i===null?ou:i}function Ih(){(At===0||At===3||At===2)&&(At=4),It===null||(xi&268435455)===0&&(hu&268435455)===0||Es(It,Yt)}function yu(i,a){var d=Xe;Xe|=2;var v=jy();(It!==i||Yt!==a)&&(qn=null,wi(i,a));do try{jP();break}catch(b){by(i,b)}while(!0);if(Xf(),Xe=d,fu.current=v,_t!==null)throw Error(r(261));return It=null,Yt=0,At}function jP(){for(;_t!==null;)_y(_t)}function _P(){for(;_t!==null&&!cf();)_y(_t)}function _y(i){var a=ky(i.alternate,i,kr);i.memoizedProps=i.pendingProps,a===null?Sy(i):_t=a,Ph.current=null}function Sy(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=pP(d,a,kr),d!==null){_t=d;return}}else{if(d=vP(d,a),d!==null){d.flags&=32767,_t=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,_t=null;return}}if(a=a.sibling,a!==null){_t=a;return}_t=a=i}while(a!==null);At===0&&(At=5)}function bi(i,a,d){var v=et,b=Vr.transition;try{Vr.transition=null,et=1,SP(i,a,d,v)}finally{Vr.transition=b,et=v}return null}function SP(i,a,d,v){do Co();while(ks!==null);if((Xe&6)!==0)throw Error(r(327));d=i.finishedWork;var b=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=d.lanes|d.childLanes;if(sk(i,S),i===It&&(_t=It=null,Yt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||pu||(pu=!0,Py(_c,function(){return Co(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Vr.transition,Vr.transition=null;var T=et;et=1;var L=Xe;Xe|=4,Ph.current=null,xP(i,d),my(d,i),Wk(If),Tc=!!Mf,If=Mf=null,i.current=d,yP(d),uf(),Xe=L,et=T,Vr.transition=S}else i.current=d;if(pu&&(pu=!1,ks=i,vu=b),S=i.pendingLanes,S===0&&(Cs=null),QC(d.stateNode),mr(i,xt()),a!==null)for(v=i.onRecoverableError,d=0;d<a.length;d++)b=a[d],v(b.value,{componentStack:b.stack,digest:b.digest});if(mu)throw mu=!1,i=Ah,Ah=null,i;return(vu&1)!==0&&i.tag!==0&&Co(),S=i.pendingLanes,(S&1)!==0?i===Dh?al++:(al=0,Dh=i):al=0,js(),null}function Co(){if(ks!==null){var i=fg(vu),a=Vr.transition,d=et;try{if(Vr.transition=null,et=16>i?16:i,ks===null)var v=!1;else{if(i=ks,ks=null,vu=0,(Xe&6)!==0)throw Error(r(331));var b=Xe;for(Xe|=4,we=i.current;we!==null;){var S=we,T=S.child;if((we.flags&16)!==0){var L=S.deletions;if(L!==null){for(var B=0;B<L.length;B++){var Z=L[B];for(we=Z;we!==null;){var le=we;switch(le.tag){case 0:case 11:case 15:sl(8,le,S)}var ue=le.child;if(ue!==null)ue.return=le,we=ue;else for(;we!==null;){le=we;var oe=le.sibling,ye=le.return;if(cy(le),le===Z){we=null;break}if(oe!==null){oe.return=ye,we=oe;break}we=ye}}}var Ne=S.alternate;if(Ne!==null){var Ce=Ne.child;if(Ce!==null){Ne.child=null;do{var yt=Ce.sibling;Ce.sibling=null,Ce=yt}while(Ce!==null)}}we=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,we=T;else e:for(;we!==null;){if(S=we,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:sl(9,S,S.return)}var G=S.sibling;if(G!==null){G.return=S.return,we=G;break e}we=S.return}}var V=i.current;for(we=V;we!==null;){T=we;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,we=K;else e:for(T=V;we!==null;){if(L=we,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:du(9,L)}}catch(ke){gt(L,L.return,ke)}if(L===T){we=null;break e}var me=L.sibling;if(me!==null){me.return=L.return,we=me;break e}we=L.return}}if(Xe=b,js(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Sc,i)}catch{}v=!0}return v}finally{et=d,Vr.transition=a}}return!1}function Ny(i,a,d){a=jo(d,a),a=zx(i,a,1),i=Ss(i,a,1),a=or(),i!==null&&(Aa(i,1,a),mr(i,a))}function gt(i,a,d){if(i.tag===3)Ny(i,i,d);else for(;a!==null;){if(a.tag===3){Ny(a,i,d);break}else if(a.tag===1){var v=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Cs===null||!Cs.has(v))){i=jo(d,i),i=Wx(a,i,1),a=Ss(a,i,1),i=or(),a!==null&&(Aa(a,1,i),mr(a,i));break}}a=a.return}}function NP(i,a,d){var v=i.pingCache;v!==null&&v.delete(a),a=or(),i.pingedLanes|=i.suspendedLanes&d,It===i&&(Yt&d)===d&&(At===4||At===3&&(Yt&130023424)===Yt&&500>xt()-Th?wi(i,0):Eh|=d),mr(i,a)}function Cy(i,a){a===0&&((i.mode&1)===0?a=1:(a=Cc,Cc<<=1,(Cc&130023424)===0&&(Cc=4194304)));var d=or();i=zn(i,a),i!==null&&(Aa(i,a,d),mr(i,d))}function CP(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),Cy(i,d)}function kP(i,a){var d=0;switch(i.tag){case 13:var v=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(a),Cy(i,d)}var ky;ky=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||ur.current)fr=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return fr=!1,mP(i,a,d);fr=(i.flags&131072)!==0}else fr=!1,dt&&(a.flags&1048576)!==0&&ox(a,Gc,a.index);switch(a.lanes=0,a.tag){case 2:var v=a.type;cu(i,a),i=a.pendingProps;var b=mo(a,Jt.current);wo(a,d),b=ah(null,a,v,i,b,d);var S=lh();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dr(v)?(S=!0,Hc(a)):S=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,eh(a),b.updater=au,a.stateNode=b,b._reactInternals=a,mh(a,v,i,d),a=xh(null,a,v,!0,S,d)):(a.tag=0,dt&&S&&Wf(a),ir(null,a,b,d),a=a.child),a;case 16:v=a.elementType;e:{switch(cu(i,a),i=a.pendingProps,b=v._init,v=b(v._payload),a.type=v,b=a.tag=EP(v),i=nn(v,i),b){case 0:a=gh(null,a,v,i,d);break e;case 1:a=Zx(null,a,v,i,d);break e;case 11:a=Gx(null,a,v,i,d);break e;case 14:a=Kx(null,a,v,nn(v.type,i),d);break e}throw Error(r(306,v,""))}return a;case 0:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:nn(v,b),gh(i,a,v,b,d);case 1:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:nn(v,b),Zx(i,a,v,b,d);case 3:e:{if(ey(a),i===null)throw Error(r(387));v=a.pendingProps,S=a.memoizedState,b=S.element,px(i,a),eu(a,v,null,d);var T=a.memoizedState;if(v=T.element,S.isDehydrated)if(S={element:v,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){b=jo(Error(r(423)),a),a=ty(i,a,v,d,b);break e}else if(v!==b){b=jo(Error(r(424)),a),a=ty(i,a,v,d,b);break e}else for(Cr=ys(a.stateNode.containerInfo.firstChild),Nr=a,dt=!0,rn=null,d=hx(a,null,v,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(go(),v===b){a=Hn(i,a,d);break e}ir(i,a,v,d)}a=a.child}return a;case 5:return xx(a),i===null&&Yf(a),v=a.type,b=a.pendingProps,S=i!==null?i.memoizedProps:null,T=b.children,Lf(v,b)?T=null:S!==null&&Lf(v,S)&&(a.flags|=32),Qx(i,a),ir(i,a,T,d),a.child;case 6:return i===null&&Yf(a),null;case 13:return ry(i,a,d);case 4:return th(a,a.stateNode.containerInfo),v=a.pendingProps,i===null?a.child=xo(a,null,v,d):ir(i,a,v,d),a.child;case 11:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:nn(v,b),Gx(i,a,v,b,d);case 7:return ir(i,a,a.pendingProps,d),a.child;case 8:return ir(i,a,a.pendingProps.children,d),a.child;case 12:return ir(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(v=a.type._context,b=a.pendingProps,S=a.memoizedProps,T=b.value,nt(Jc,v._currentValue),v._currentValue=T,S!==null)if(tn(S.value,T)){if(S.children===b.children&&!ur.current){a=Hn(i,a,d);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var L=S.dependencies;if(L!==null){T=S.child;for(var B=L.firstContext;B!==null;){if(B.context===v){if(S.tag===1){B=Wn(-1,d&-d),B.tag=2;var Z=S.updateQueue;if(Z!==null){Z=Z.shared;var le=Z.pending;le===null?B.next=B:(B.next=le.next,le.next=B),Z.pending=B}}S.lanes|=d,B=S.alternate,B!==null&&(B.lanes|=d),Qf(S.return,d,a),L.lanes|=d;break}B=B.next}}else if(S.tag===10)T=S.type===a.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(r(341));T.lanes|=d,L=T.alternate,L!==null&&(L.lanes|=d),Qf(T,d,a),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===a){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}ir(i,a,b.children,d),a=a.child}return a;case 9:return b=a.type,v=a.pendingProps.children,wo(a,d),b=Ur(b),v=v(b),a.flags|=1,ir(i,a,v,d),a.child;case 14:return v=a.type,b=nn(v,a.pendingProps),b=nn(v.type,b),Kx(i,a,v,b,d);case 15:return Xx(i,a,a.type,a.pendingProps,d);case 17:return v=a.type,b=a.pendingProps,b=a.elementType===v?b:nn(v,b),cu(i,a),a.tag=1,dr(v)?(i=!0,Hc(a)):i=!1,wo(a,d),Bx(a,v,b),mh(a,v,b,d),xh(null,a,v,!0,i,d);case 19:return sy(i,a,d);case 22:return Jx(i,a,d)}throw Error(r(156,a.tag))};function Py(i,a){return bc(i,a)}function PP(i,a,d,v){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(i,a,d,v){return new PP(i,a,d,v)}function Lh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function EP(i){if(typeof i=="function")return Lh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===U)return 14}return 2}function Ts(i,a){var d=i.alternate;return d===null?(d=zr(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function wu(i,a,d,v,b,S){var T=2;if(v=i,typeof i=="function")Lh(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case R:return ji(d.children,b,S,a);case D:T=8,b|=8;break;case $:return i=zr(12,d,a,b|2),i.elementType=$,i.lanes=S,i;case z:return i=zr(13,d,a,b),i.elementType=z,i.lanes=S,i;case O:return i=zr(19,d,a,b),i.elementType=O,i.lanes=S,i;case F:return bu(d,b,S,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:T=10;break e;case X:T=9;break e;case Q:T=11;break e;case U:T=14;break e;case H:T=16,v=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return a=zr(T,d,a,b),a.elementType=i,a.type=v,a.lanes=S,a}function ji(i,a,d,v){return i=zr(7,i,v,a),i.lanes=d,i}function bu(i,a,d,v){return i=zr(22,i,v,a),i.elementType=F,i.lanes=d,i.stateNode={isHidden:!1},i}function Fh(i,a,d){return i=zr(6,i,null,a),i.lanes=d,i}function Uh(i,a,d){return a=zr(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function TP(i,a,d,v,b){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hf(0),this.expirationTimes=hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.identifierPrefix=v,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Bh(i,a,d,v,b,S,T,L,B){return i=new TP(i,a,d,L,B),a===1?(a=1,S===!0&&(a|=8)):a=0,S=zr(3,null,null,a),i.current=S,S.stateNode=i,S.memoizedState={element:v,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(S),i}function AP(i,a,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:v==null?null:""+v,children:i,containerInfo:a,implementation:d}}function Ey(i){if(!i)return bs;i=i._reactInternals;e:{if(_r(i)!==i||i.tag!==1)throw Error(r(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(dr(d))return nx(i,d,a)}return a}function Ty(i,a,d,v,b,S,T,L,B){return i=Bh(d,v,!0,i,b,S,T,L,B),i.context=Ey(null),d=i.current,v=or(),b=Ps(d),S=Wn(v,b),S.callback=a??null,Ss(d,S,b),i.current.lanes=b,Aa(i,b,v),mr(i,v),i}function ju(i,a,d,v){var b=a.current,S=or(),T=Ps(b);return d=Ey(d),a.context===null?a.context=d:a.pendingContext=d,a=Wn(S,T),a.payload={element:i},v=v===void 0?null:v,v!==null&&(a.callback=v),i=Ss(b,a,T),i!==null&&(an(i,b,T,S),Zc(i,b,T)),T}function _u(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ay(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Vh(i,a){Ay(i,a),(i=i.alternate)&&Ay(i,a)}function DP(){return null}var Dy=typeof reportError=="function"?reportError:function(i){console.error(i)};function zh(i){this._internalRoot=i}Su.prototype.render=zh.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));ju(i,a,null,null)},Su.prototype.unmount=zh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;yi(function(){ju(null,i,null,null)}),a[Fn]=null}};function Su(i){this._internalRoot=i}Su.prototype.unstable_scheduleHydration=function(i){if(i){var a=pg();i={blockedOn:null,target:i,priority:a};for(var d=0;d<vs.length&&a!==0&&a<vs[d].priority;d++);vs.splice(d,0,i),d===0&&xg(i)}};function Wh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Nu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ry(){}function RP(i,a,d,v,b){if(b){if(typeof v=="function"){var S=v;v=function(){var Z=_u(T);S.call(Z)}}var T=Ty(a,v,i,0,null,!1,!1,"",Ry);return i._reactRootContainer=T,i[Fn]=T.current,Ha(i.nodeType===8?i.parentNode:i),yi(),T}for(;b=i.lastChild;)i.removeChild(b);if(typeof v=="function"){var L=v;v=function(){var Z=_u(B);L.call(Z)}}var B=Bh(i,0,!1,null,null,!1,!1,"",Ry);return i._reactRootContainer=B,i[Fn]=B.current,Ha(i.nodeType===8?i.parentNode:i),yi(function(){ju(a,B,d,v)}),B}function Cu(i,a,d,v,b){var S=d._reactRootContainer;if(S){var T=S;if(typeof b=="function"){var L=b;b=function(){var B=_u(T);L.call(B)}}ju(a,T,i,b)}else T=RP(d,a,i,b,v);return _u(T)}hg=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=Ta(a.pendingLanes);d!==0&&(mf(a,d|1),mr(a,xt()),(Xe&6)===0&&(No=xt()+500,js()))}break;case 13:yi(function(){var v=zn(i,1);if(v!==null){var b=or();an(v,i,1,b)}}),Vh(i,1)}},pf=function(i){if(i.tag===13){var a=zn(i,134217728);if(a!==null){var d=or();an(a,i,134217728,d)}Vh(i,134217728)}},mg=function(i){if(i.tag===13){var a=Ps(i),d=zn(i,a);if(d!==null){var v=or();an(d,i,a,v)}Vh(i,a)}},pg=function(){return et},vg=function(i,a){var d=et;try{return et=i,a()}finally{et=d}},Ca=function(i,a,d){switch(a){case"input":if(wr(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var v=d[a];if(v!==i&&v.form===i.form){var b=zc(v);if(!b)throw Error(r(90));_e(v),wr(v,b)}}}break;case"textarea":to(i,d);break;case"select":a=d.value,a!=null&&ls(i,!!d.multiple,a,!1)}},li=$h,ka=yi;var OP={usingClientEntryPoint:!1,Events:[Ga,fo,zc,no,ds,$h]},ll={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$P={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yc(i),i===null?null:i.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||DP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Sc=ku.inject($P),bn=ku}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OP,pr.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(a))throw Error(r(200));return AP(i,a,null,d)},pr.createRoot=function(i,a){if(!Wh(i))throw Error(r(299));var d=!1,v="",b=Dy;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Bh(i,1,!1,null,null,d,!1,v,b),i[Fn]=a.current,Ha(i.nodeType===8?i.parentNode:i),new zh(a)},pr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=yc(a),i=i===null?null:i.stateNode,i},pr.flushSync=function(i){return yi(i)},pr.hydrate=function(i,a,d){if(!Nu(a))throw Error(r(200));return Cu(null,i,a,!0,d)},pr.hydrateRoot=function(i,a,d){if(!Wh(i))throw Error(r(405));var v=d!=null&&d.hydratedSources||null,b=!1,S="",T=Dy;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),a=Ty(a,null,i,1,d??null,b,!1,S,T),i[Fn]=a.current,Ha(i),v)for(i=0;i<v.length;i++)d=v[i],b=d._getVersion,b=b(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,b]:a.mutableSourceEagerHydrationData.push(d,b);return new Su(a)},pr.render=function(i,a,d){if(!Nu(a))throw Error(r(200));return Cu(null,i,a,!1,d)},pr.unmountComponentAtNode=function(i){if(!Nu(i))throw Error(r(40));return i._reactRootContainer?(yi(function(){Cu(null,null,i,!1,function(){i._reactRootContainer=null,i[Fn]=null})}),!0):!1},pr.unstable_batchedUpdates=$h,pr.unstable_renderSubtreeIntoContainer=function(i,a,d,v){if(!Nu(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Cu(i,a,d,!1,v)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var By;function $b(){if(By)return Yh.exports;By=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=WP(),Yh.exports}var Vy;function HP(){if(Vy)return Pu;Vy=1;var e=$b();return Pu.createRoot=e.createRoot,Pu.hydrateRoot=e.hydrateRoot,Pu}var qP=HP();const YP=Gl(qP);var Ui=$b();const Mb=Gl(Ui);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}var Vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vs||(Vs={}));const zy="popstate";function GP(e){e===void 0&&(e={});function t(n,o){let{pathname:l,search:c,hash:u}=n.location;return Wm("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:rd(o)}return XP(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ib(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KP(){return Math.random().toString(36).substr(2,8)}function Wy(e,t){return{usr:e.state,key:e.key,idx:t}}function Wm(e,t,r,n){return r===void 0&&(r=null),Al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?da(t):t,{state:r,key:t&&t.key||n||KP()})}function rd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function da(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function XP(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,u=Vs.Pop,f=null,h=m();h==null&&(h=0,c.replaceState(Al({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function p(){u=Vs.Pop;let _=m(),N=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:N})}function x(_,N){u=Vs.Push;let C=Wm(w.location,_,N);h=m()+1;let k=Wy(C,h),A=w.createHref(C);try{c.pushState(k,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(A)}l&&f&&f({action:u,location:w.location,delta:1})}function y(_,N){u=Vs.Replace;let C=Wm(w.location,_,N);h=m();let k=Wy(C,h),A=w.createHref(C);c.replaceState(k,"",A),l&&f&&f({action:u,location:w.location,delta:0})}function j(_){let N=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof _=="string"?_:rd(_);return C=C.replace(/ $/,"%20"),Nt(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let w={get action(){return u},get location(){return e(o,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(zy,p),f=_,()=>{o.removeEventListener(zy,p),f=null}},createHref(_){return t(o,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:y,go(_){return c.go(_)}};return w}var Hy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hy||(Hy={}));function JP(e,t,r){return r===void 0&&(r="/"),QP(e,t,r)}function QP(e,t,r,n){let o=typeof t=="string"?da(t):t,l=Fp(o.pathname||"/",r);if(l==null)return null;let c=Lb(e);ZP(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=dE(l);u=lE(c[f],h)}return u}function Lb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=zs([n,f.relativePath]),m=r.concat(f);l.children&&l.children.length>0&&(Nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Lb(l.children,t,m,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:oE(h,l.index),routesMeta:m})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let f of Fb(l.path))o(l,c,f)}),t}function Fb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=Fb(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function ZP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eE=/^:[\w-]+$/,tE=3,rE=2,nE=1,sE=10,iE=-2,qy=e=>e==="*";function oE(e,t){let r=e.split("/"),n=r.length;return r.some(qy)&&(n+=iE),t&&(n+=rE),r.filter(o=>!qy(o)).reduce((o,l)=>o+(eE.test(l)?tE:l===""?nE:sE),n)}function aE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function lE(e,t,r){let{routesMeta:n}=e,o={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=cE({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:zs([l,p.pathname]),pathnameBase:pE(zs([l,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(l=zs([l,p.pathnameBase]))}return c}function cE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uE(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let w=u[p]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[p];return y&&!j?h[x]=void 0:h[x]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function uE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ib(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function dE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ib(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fE(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?da(e):e;return{pathname:r?r.startsWith("/")?r:hE(r,t):t,search:vE(n),hash:gE(o)}}function hE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Xh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ub(e,t){let r=mE(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Bb(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=da(e):(o=Al({},e),Nt(!o.pathname||!o.pathname.includes("?"),Xh("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Xh("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Xh("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),p-=1;o.pathname=x.join("/")}u=p>=0?t[p]:"/"}let f=fE(o,u),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const zs=e=>e.join("/").replace(/\/\/+/g,"/"),pE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vb=["post","put","patch","delete"];new Set(Vb);const yE=["get",...Vb];new Set(yE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}const Up=g.createContext(null),wE=g.createContext(null),Bi=g.createContext(null),jd=g.createContext(null),Js=g.createContext({outlet:null,matches:[],isDataRoute:!1}),zb=g.createContext(null);function bE(e,t){let{relative:r}=t===void 0?{}:t;Kl()||Nt(!1);let{basename:n,navigator:o}=g.useContext(Bi),{hash:l,pathname:c,search:u}=Hb(e,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:zs([n,c])),o.createHref({pathname:f,search:u,hash:l})}function Kl(){return g.useContext(jd)!=null}function os(){return Kl()||Nt(!1),g.useContext(jd).location}function Wb(e){g.useContext(Bi).static||g.useLayoutEffect(e)}function Kt(){let{isDataRoute:e}=g.useContext(Js);return e?OE():jE()}function jE(){Kl()||Nt(!1);let e=g.useContext(Up),{basename:t,future:r,navigator:n}=g.useContext(Bi),{matches:o}=g.useContext(Js),{pathname:l}=os(),c=JSON.stringify(Ub(o,r.v7_relativeSplatPath)),u=g.useRef(!1);return Wb(()=>{u.current=!0}),g.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Bb(h,JSON.parse(c),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:zs([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,l,e])}function _d(){let{matches:e}=g.useContext(Js),t=e[e.length-1];return t?t.params:{}}function Hb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(Bi),{matches:o}=g.useContext(Js),{pathname:l}=os(),c=JSON.stringify(Ub(o,n.v7_relativeSplatPath));return g.useMemo(()=>Bb(e,JSON.parse(c),l,r==="path"),[e,c,l,r])}function _E(e,t){return SE(e,t)}function SE(e,t,r,n){Kl()||Nt(!1);let{navigator:o,static:l}=g.useContext(Bi),{matches:c}=g.useContext(Js),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=os(),p;if(t){var x;let N=typeof t=="string"?da(t):t;h==="/"||(x=N.pathname)!=null&&x.startsWith(h)||Nt(!1),p=N}else p=m;let y=p.pathname||"/",j=y;if(h!=="/"){let N=h.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=JP(e,{pathname:j}),_=EE(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:zs([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:zs([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,n);return t&&_?g.createElement(jd.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Vs.Pop}},_):_}function NE(){let e=RE(),t=xE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:o},r):null,null)}const CE=g.createElement(NE,null);class kE extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Js.Provider,{value:this.props.routeContext},g.createElement(zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PE(e){let{routeContext:t,match:r,children:n}=e,o=g.useContext(Up);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Js.Provider,{value:t},n)}function EE(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Nt(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:y}=r,j=p.route.loader&&x[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,x)=>{let y,j=!1,w=null,_=null;r&&(y=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||CE,f&&(h<0&&x===0?($E("route-fallback"),j=!0,_=null):h===x&&(j=!0,_=p.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,x+1)),C=()=>{let k;return y?k=w:j?k=_:p.route.Component?k=g.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,g.createElement(PE,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?g.createElement(kE,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var qb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qb||{}),Yb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yb||{});function TE(e){let t=g.useContext(Up);return t||Nt(!1),t}function AE(e){let t=g.useContext(wE);return t||Nt(!1),t}function DE(e){let t=g.useContext(Js);return t||Nt(!1),t}function Gb(e){let t=DE(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function RE(){var e;let t=g.useContext(zb),r=AE(),n=Gb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function OE(){let{router:e}=TE(qb.UseNavigateStable),t=Gb(Yb.UseNavigateStable),r=g.useRef(!1);return Wb(()=>{r.current=!0}),g.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Dl({fromRouteId:t},l)))},[e,t])}const Yy={};function $E(e,t,r){Yy[e]||(Yy[e]=!0)}function ME(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wt(e){Nt(!1)}function IE(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Vs.Pop,navigator:l,static:c=!1,future:u}=e;Kl()&&Nt(!1);let f=t.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:f,navigator:l,static:c,future:Dl({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof n=="string"&&(n=da(n));let{pathname:m="/",search:p="",hash:x="",state:y=null,key:j="default"}=n,w=g.useMemo(()=>{let _=Fp(m,f);return _==null?null:{location:{pathname:_,search:p,hash:x,state:y,key:j},navigationType:o}},[f,m,p,x,y,j,o]);return w==null?null:g.createElement(Bi.Provider,{value:h},g.createElement(jd.Provider,{children:r,value:w}))}function LE(e){let{children:t,location:r}=e;return _E(Hm(t),r)}new Promise(()=>{});function Hm(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,o)=>{if(!g.isValidElement(n))return;let l=[...t,o];if(n.type===g.Fragment){r.push.apply(r,Hm(n.props.children,l));return}n.type!==wt&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Hm(n.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}function FE(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,l;for(l=0;l<n.length;l++)o=n[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function UE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BE(e,t){return e.button===0&&(!t||t==="_self")&&!UE(e)}function Ym(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function VE(e,t){let r=Ym(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(l=>{r.append(o,l)})}),r}const zE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WE="6";try{window.__reactRouterVersion=WE}catch{}const HE="startTransition",Gy=bd[HE];function qE(e){let{basename:t,children:r,future:n,window:o}=e,l=g.useRef();l.current==null&&(l.current=GP({window:o,v5Compat:!0}));let c=l.current,[u,f]=g.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=g.useCallback(p=>{h&&Gy?Gy(()=>f(p)):f(p)},[f,h]);return g.useLayoutEffect(()=>c.listen(m),[c,m]),g.useEffect(()=>ME(n),[n]),g.createElement(IE,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=g.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:l,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:p}=t,x=FE(t,zE),{basename:y}=g.useContext(Bi),j,w=!1;if(typeof h=="string"&&GE.test(h)&&(j=h,YE))try{let k=new URL(window.location.href),A=h.startsWith("//")?new URL(k.protocol+h):new URL(h),P=Fp(A.pathname,y);A.origin===k.origin&&P!=null?h=P+A.search+A.hash:w=!0}catch{}let _=bE(h,{relative:o}),N=KE(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:p});function C(k){n&&n(k),k.defaultPrevented||N(k)}return g.createElement("a",qm({},x,{href:j||_,onClick:w||l?n:C,ref:r,target:f}))});var Ky;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ky||(Ky={}));var Xy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xy||(Xy={}));function KE(e,t){let{target:r,replace:n,state:o,preventScrollReset:l,relative:c,viewTransition:u}=t===void 0?{}:t,f=Kt(),h=os(),m=Hb(e,{relative:c});return g.useCallback(p=>{if(BE(p,r)){p.preventDefault();let x=n!==void 0?n:rd(h)===rd(m);f(e,{replace:x,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,m,n,o,r,e,l,c,u])}function XE(e){let t=g.useRef(Ym(e)),r=g.useRef(!1),n=os(),o=g.useMemo(()=>VE(n.search,r.current?null:t.current),[n.search]),l=Kt(),c=g.useCallback((u,f)=>{const h=Ym(typeof u=="function"?u(o):u);r.current=!0,l("?"+h,f)},[l,o]);return[o,c]}const Kb=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sd=g.createContext({}),Nd=g.createContext(null),Cd=typeof document<"u",Bp=Cd?g.useLayoutEffect:g.useEffect,Xb=g.createContext({strict:!1}),Vp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JE="framerAppearId",Jb="data-"+Vp(JE);function QE(e,t,r,n){const{visualElement:o}=g.useContext(Sd),l=g.useContext(Xb),c=g.useContext(Nd),u=g.useContext(Kb).reducedMotion,f=g.useRef();n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current;g.useInsertionEffect(()=>{h&&h.update(r,c)});const m=g.useRef(!!(r[Jb]&&!window.HandoffComplete));return Bp(()=>{h&&(h.render(),m.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(h.updateFeatures(),!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),h}function Vo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZE(e,t,r){return g.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Vo(r)&&(r.current=n))},[t])}function Rl(e){return typeof e=="string"||Array.isArray(e)}function kd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const zp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wp=["initial",...zp];function Pd(e){return kd(e.animate)||Wp.some(t=>Rl(e[t]))}function Qb(e){return!!(Pd(e)||e.variants)}function e2(e,t){if(Pd(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Rl(r)?r:void 0,animate:Rl(n)?n:void 0}}return e.inherit!==!1?t:{}}function t2(e){const{initial:t,animate:r}=e2(e,g.useContext(Sd));return g.useMemo(()=>({initial:t,animate:r}),[Jy(t),Jy(r)])}function Jy(e){return Array.isArray(e)?e.join(" "):e}const Qy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ol={};for(const e in Qy)Ol[e]={isEnabled:t=>Qy[e].some(r=>!!t[r])};function r2(e){for(const t in e)Ol[t]={...Ol[t],...e[t]}}const Hp=g.createContext({}),Zb=g.createContext({}),n2=Symbol.for("motionComponentSymbol");function s2({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:o}){e&&r2(e);function l(u,f){let h;const m={...g.useContext(Kb),...u,layoutId:i2(u)},{isStatic:p}=m,x=t2(u),y=n(u,p);if(!p&&Cd){x.visualElement=QE(o,y,m,t);const j=g.useContext(Zb),w=g.useContext(Xb).strict;x.visualElement&&(h=x.visualElement.loadFeatures(m,w,e,j))}return g.createElement(Sd.Provider,{value:x},h&&x.visualElement?g.createElement(h,{visualElement:x.visualElement,...m}):null,r(o,u,ZE(y,x.visualElement,f),y,p,x.visualElement))}const c=g.forwardRef(l);return c[n2]=o,c}function i2({layoutId:e}){const t=g.useContext(Hp).id;return t&&e!==void 0?t+"-"+e:e}function o2(e){function t(n,o={}){return s2(e(n,o))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,o)=>(r.has(o)||r.set(o,t(o)),r.get(o))})}const a2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qp(e){return typeof e!="string"||e.includes("-")?!1:!!(a2.indexOf(e)>-1||/[A-Z]/.test(e))}const nd={};function l2(e){Object.assign(nd,e)}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vi=new Set(Xl);function ej(e,{layout:t,layoutId:r}){return Vi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!nd[e]||e==="opacity")}const yr=e=>!!(e&&e.getVelocity),c2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u2=Xl.length;function d2(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,o){let l="";for(let c=0;c<u2;c++){const u=Xl[c];if(e[u]!==void 0){const f=c2[u]||u;l+=`${f}(${e[u]}) `}}return t&&!e.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(e,n?"":l):r&&n&&(l="none"),l}const tj=e=>t=>typeof t=="string"&&t.startsWith(e),rj=tj("--"),Gm=tj("var(--"),f2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,h2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ys=(e,t,r)=>Math.min(Math.max(r,e),t),zi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jl={...zi,transform:e=>Ys(0,1,e)},Eu={...zi,default:1},_l=e=>Math.round(e*1e5)/1e5,Ed=/(-)?([\d]*\.?[\d])+/g,nj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,m2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jl(e){return typeof e=="string"}const Ql=e=>({test:t=>Jl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Os=Ql("deg"),Pn=Ql("%"),Ie=Ql("px"),p2=Ql("vh"),v2=Ql("vw"),Zy={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},e0={...zi,transform:Math.round},sj={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:Eu,scaleX:Eu,scaleY:Eu,scaleZ:Eu,skew:Os,skewX:Os,skewY:Os,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:jl,originX:Zy,originY:Zy,originZ:Ie,zIndex:e0,fillOpacity:jl,strokeOpacity:jl,numOctaves:e0};function Yp(e,t,r,n){const{style:o,vars:l,transform:c,transformOrigin:u}=e;let f=!1,h=!1,m=!0;for(const p in t){const x=t[p];if(rj(p)){l[p]=x;continue}const y=sj[p],j=h2(x,y);if(Vi.has(p)){if(f=!0,c[p]=j,!m)continue;x!==(y.default||0)&&(m=!1)}else p.startsWith("origin")?(h=!0,u[p]=j):o[p]=j}if(t.transform||(f||n?o.transform=d2(e.transform,r,m,n):o.transform&&(o.transform="none")),h){const{originX:p="50%",originY:x="50%",originZ:y=0}=u;o.transformOrigin=`${p} ${x} ${y}`}}const Gp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ij(e,t,r){for(const n in t)!yr(t[n])&&!ej(n,r)&&(e[n]=t[n])}function g2({transformTemplate:e},t,r){return g.useMemo(()=>{const n=Gp();return Yp(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function x2(e,t,r){const n=e.style||{},o={};return ij(o,n,e),Object.assign(o,g2(e,t,r)),e.transformValues?e.transformValues(o):o}function y2(e,t,r){const n={},o=x2(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const w2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||w2.has(e)}let oj=e=>!sd(e);function b2(e){e&&(oj=t=>t.startsWith("on")?!sd(t):e(t))}try{b2(require("@emotion/is-prop-valid").default)}catch{}function j2(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(oj(o)||r===!0&&sd(o)||!t&&!sd(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function t0(e,t,r){return typeof e=="string"?e:Ie.transform(t+r*e)}function _2(e,t,r){const n=t0(t,e.x,e.width),o=t0(r,e.y,e.height);return`${n} ${o}`}const S2={offset:"stroke-dashoffset",array:"stroke-dasharray"},N2={offset:"strokeDashoffset",array:"strokeDasharray"};function C2(e,t,r=1,n=0,o=!0){e.pathLength=1;const l=o?S2:N2;e[l.offset]=Ie.transform(-n);const c=Ie.transform(t),u=Ie.transform(r);e[l.array]=`${c} ${u}`}function Kp(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...h},m,p,x){if(Yp(e,h,m,x),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:j,dimensions:w}=e;y.transform&&(w&&(j.transform=y.transform),delete y.transform),w&&(o!==void 0||l!==void 0||j.transform)&&(j.transformOrigin=_2(w,o!==void 0?o:.5,l!==void 0?l:.5)),t!==void 0&&(y.x=t),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),c!==void 0&&C2(y,c,u,f,!1)}const aj=()=>({...Gp(),attrs:{}}),Xp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function k2(e,t,r,n){const o=g.useMemo(()=>{const l=aj();return Kp(l,t,{enableHardwareAcceleration:!1},Xp(n),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};ij(l,e.style,e),o.style={...l,...o.style}}return o}function P2(e=!1){return(r,n,o,{latestValues:l},c)=>{const f=(qp(r)?k2:y2)(n,l,c,r),m={...j2(n,typeof r=="string",e),...f,ref:o},{children:p}=n,x=g.useMemo(()=>yr(p)?p.get():p,[p]);return g.createElement(r,{...m,children:x})}}function lj(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const l in r)e.style.setProperty(l,r[l])}const cj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uj(e,t,r,n){lj(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(cj.has(o)?o:Vp(o),t.attrs[o])}function Jp(e,t){const{style:r}=e,n={};for(const o in r)(yr(r[o])||t.style&&yr(t.style[o])||ej(o,e))&&(n[o]=r[o]);return n}function dj(e,t){const r=Jp(e,t);for(const n in e)if(yr(e[n])||yr(t[n])){const o=Xl.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=e[n]}return r}function Qp(e,t,r,n={},o={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,o)),t}function fj(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const id=e=>Array.isArray(e),E2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),T2=e=>id(e)?e[e.length-1]||0:e;function Ju(e){const t=yr(e)?e.get():e;return E2(t)?t.toValue():t}function A2({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,o,l){const c={latestValues:D2(n,o,l,e),renderState:t()};return r&&(c.mount=u=>r(n,u,c)),c}const hj=e=>(t,r)=>{const n=g.useContext(Sd),o=g.useContext(Nd),l=()=>A2(e,t,n,o);return r?l():fj(l)};function D2(e,t,r,n){const o={},l=n(e,{});for(const x in l)o[x]=Ju(l[x]);let{initial:c,animate:u}=e;const f=Pd(e),h=Qb(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=r?r.initial===!1:!1;m=m||c===!1;const p=m?u:c;return p&&typeof p!="boolean"&&!kd(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const j=Qp(e,y);if(!j)return;const{transitionEnd:w,transition:_,...N}=j;for(const C in N){let k=N[C];if(Array.isArray(k)){const A=m?k.length-1:0;k=k[A]}k!==null&&(o[C]=k)}for(const C in w)o[C]=w[C]}),o}const bt=e=>e;class r0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function R2(e){let t=new r0,r=new r0,n=0,o=!1,l=!1;const c=new WeakSet,u={schedule:(f,h=!1,m=!1)=>{const p=m&&o,x=p?t:r;return h&&c.add(f),x.add(f)&&p&&o&&(n=t.order.length),f},cancel:f=>{r.remove(f),c.delete(f)},process:f=>{if(o){l=!0;return}if(o=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let h=0;h<n;h++){const m=t.order[h];m(f),c.has(m)&&(u.schedule(m),e())}o=!1,l&&(l=!1,u.process(f))}};return u}const Tu=["prepare","read","update","preRender","render","postRender"],O2=40;function $2(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=Tu.reduce((p,x)=>(p[x]=R2(()=>r=!0),p),{}),c=p=>l[p].process(o),u=()=>{const p=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(p-o.timestamp,O2),1),o.timestamp=p,o.isProcessing=!0,Tu.forEach(c),o.isProcessing=!1,r&&t&&(n=!1,e(u))},f=()=>{r=!0,n=!0,o.isProcessing||e(u)};return{schedule:Tu.reduce((p,x)=>{const y=l[x];return p[x]=(j,w=!1,_=!1)=>(r||f(),y.schedule(j,w,_)),p},{}),cancel:p=>Tu.forEach(x=>l[x].cancel(p)),state:o,steps:l}}const{schedule:it,cancel:ts,state:tr,steps:Jh}=$2(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0),M2={useVisualState:hj({scrapeMotionValuesFromProps:dj,createRenderState:aj,onMount:(e,t,{renderState:r,latestValues:n})=>{it.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),it.render(()=>{Kp(r,n,{enableHardwareAcceleration:!1},Xp(t.tagName),e.transformTemplate),uj(t,r)})}})},I2={useVisualState:hj({scrapeMotionValuesFromProps:Jp,createRenderState:Gp})};function L2(e,{forwardMotionProps:t=!1},r,n){return{...qp(e)?M2:I2,preloadedFeatures:r,useRender:P2(t),createVisualElement:n,Component:e}}function Xn(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const mj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Td(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const F2=e=>t=>mj(t)&&e(t,Td(t));function Qn(e,t,r,n){return Xn(e,t,F2(r),n)}const U2=(e,t)=>r=>t(e(r)),Ws=(...e)=>e.reduce(U2);function pj(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const n0=pj("dragHorizontal"),s0=pj("dragVertical");function vj(e){let t=!1;if(e==="y")t=s0();else if(e==="x")t=n0();else{const r=n0(),n=s0();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function gj(){const e=vj(!0);return e?(e(),!1):!0}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function i0(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),o=(l,c)=>{if(l.pointerType==="touch"||gj())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[n]&&it.update(()=>u[n](l,c))};return Qn(e.current,r,o,{passive:!e.getProps()[n]})}class B2 extends Qs{mount(){this.unmount=Ws(i0(this.node,!0),i0(this.node,!1))}unmount(){}}class V2 extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ws(Xn(this.node.current,"focus",()=>this.onFocus()),Xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xj=(e,t)=>t?e===t?!0:xj(e,t.parentElement):!1;function Qh(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Td(r))}class z2 extends Qs{constructor(){super(...arguments),this.removeStartListeners=bt,this.removeEndListeners=bt,this.removeAccessibleListeners=bt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),l=Qn(window,"pointerup",(u,f)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:p}=this.node.getProps();it.update(()=>{!p&&!xj(this.node.current,u.target)?m&&m(u,f):h&&h(u,f)})},{passive:!(n.onTap||n.onPointerUp)}),c=Qn(window,"pointercancel",(u,f)=>this.cancelPress(u,f),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ws(l,c),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=l=>{if(l.key!=="Enter"||this.isPressing)return;const c=u=>{u.key!=="Enter"||!this.checkPressEnd()||Qh("up",(f,h)=>{const{onTap:m}=this.node.getProps();m&&it.update(()=>m(f,h))})};this.removeEndListeners(),this.removeEndListeners=Xn(this.node.current,"keyup",c),Qh("down",(u,f)=>{this.startPress(u,f)})},r=Xn(this.node.current,"keydown",t),n=()=>{this.isPressing&&Qh("cancel",(l,c)=>this.cancelPress(l,c))},o=Xn(this.node.current,"blur",n);this.removeAccessibleListeners=Ws(r,o)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&it.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gj()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&it.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Qn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Xn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ws(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Km=new WeakMap,Zh=new WeakMap,W2=e=>{const t=Km.get(e.target);t&&t(e)},H2=e=>{e.forEach(W2)};function q2({root:e,...t}){const r=e||document;Zh.has(r)||Zh.set(r,{});const n=Zh.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(H2,{root:e,...t})),n[o]}function Y2(e,t,r){const n=q2(t);return Km.set(e,r),n.observe(e),()=>{Km.delete(e),n.unobserve(e)}}const G2={some:0,all:1};class K2 extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:l}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:G2[o]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),x=h?m:p;x&&x(f)};return Y2(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(X2(t,r))&&this.startObserver()}unmount(){}}function X2({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const J2={inView:{Feature:K2},tap:{Feature:z2},focus:{Feature:V2},hover:{Feature:B2}};function yj(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Q2(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function Z2(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Ad(e,t,r){const n=e.getProps();return Qp(n,t,r!==void 0?r:n.custom,Q2(e),Z2(e))}let Zp=bt;const Ri=e=>e*1e3,Zn=e=>e/1e3,eT={current:!1},wj=e=>Array.isArray(e)&&typeof e[0]=="number";function bj(e){return!!(!e||typeof e=="string"&&jj[e]||wj(e)||Array.isArray(e)&&e.every(bj))}const wl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,jj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function _j(e){if(e)return wj(e)?wl(e):Array.isArray(e)?e.map(_j):jj[e]}function tT(e,t,r,{delay:n=0,duration:o,repeat:l=0,repeatType:c="loop",ease:u,times:f}={}){const h={[t]:r};f&&(h.offset=f);const m=_j(u);return Array.isArray(m)&&(h.easing=m),e.animate(h,{delay:n,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}function rT(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Sj=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,nT=1e-7,sT=12;function iT(e,t,r,n,o){let l,c,u=0;do c=t+(r-t)/2,l=Sj(c,n,o)-e,l>0?r=c:t=c;while(Math.abs(l)>nT&&++u<sT);return c}function Zl(e,t,r,n){if(e===t&&r===n)return bt;const o=l=>iT(l,0,1,e,r);return l=>l===0||l===1?l:Sj(o(l),t,n)}const oT=Zl(.42,0,1,1),aT=Zl(0,0,.58,1),Nj=Zl(.42,0,.58,1),lT=e=>Array.isArray(e)&&typeof e[0]!="number",Cj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kj=e=>t=>1-e(1-t),ev=e=>1-Math.sin(Math.acos(e)),Pj=kj(ev),cT=Cj(ev),Ej=Zl(.33,1.53,.69,.99),tv=kj(Ej),uT=Cj(tv),dT=e=>(e*=2)<1?.5*tv(e):.5*(2-Math.pow(2,-10*(e-1))),fT={linear:bt,easeIn:oT,easeInOut:Nj,easeOut:aT,circIn:ev,circInOut:cT,circOut:Pj,backIn:tv,backInOut:uT,backOut:Ej,anticipate:dT},o0=e=>{if(Array.isArray(e)){Zp(e.length===4);const[t,r,n,o]=e;return Zl(t,r,n,o)}else if(typeof e=="string")return fT[e];return e},rv=(e,t)=>r=>!!(Jl(r)&&m2.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Tj=(e,t,r)=>n=>{if(!Jl(n))return n;const[o,l,c,u]=n.match(Ed);return{[e]:parseFloat(o),[t]:parseFloat(l),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},hT=e=>Ys(0,255,e),em={...zi,transform:e=>Math.round(hT(e))},Ai={test:rv("rgb","red"),parse:Tj("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+em.transform(e)+", "+em.transform(t)+", "+em.transform(r)+", "+_l(jl.transform(n))+")"};function mT(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Xm={test:rv("#"),parse:mT,transform:Ai.transform},zo={test:rv("hsl","hue"),parse:Tj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pn.transform(_l(t))+", "+Pn.transform(_l(r))+", "+_l(jl.transform(n))+")"},ar={test:e=>Ai.test(e)||Xm.test(e)||zo.test(e),parse:e=>Ai.test(e)?Ai.parse(e):zo.test(e)?zo.parse(e):Xm.parse(e),transform:e=>Jl(e)?e:e.hasOwnProperty("red")?Ai.transform(e):zo.transform(e)},vt=(e,t,r)=>-r*e+r*t+e;function tm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function pT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,l=0,c=0;if(!t)o=l=c=r;else{const u=r<.5?r*(1+t):r+t-r*t,f=2*r-u;o=tm(f,u,e+1/3),l=tm(f,u,e),c=tm(f,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}const rm=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},vT=[Xm,Ai,zo],gT=e=>vT.find(t=>t.test(e));function a0(e){const t=gT(e);let r=t.parse(e);return t===zo&&(r=pT(r)),r}const Aj=(e,t)=>{const r=a0(e),n=a0(t),o={...r};return l=>(o.red=rm(r.red,n.red,l),o.green=rm(r.green,n.green,l),o.blue=rm(r.blue,n.blue,l),o.alpha=vt(r.alpha,n.alpha,l),Ai.transform(o))};function xT(e){var t,r;return isNaN(e)&&Jl(e)&&(((t=e.match(Ed))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(nj))===null||r===void 0?void 0:r.length)||0)>0}const Dj={regex:f2,countKey:"Vars",token:"${v}",parse:bt},Rj={regex:nj,countKey:"Colors",token:"${c}",parse:ar.parse},Oj={regex:Ed,countKey:"Numbers",token:"${n}",parse:zi.parse};function nm(e,{regex:t,countKey:r,token:n,parse:o}){const l=e.tokenised.match(t);l&&(e["num"+r]=l.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...l.map(o)))}function od(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&nm(r,Dj),nm(r,Rj),nm(r,Oj),r}function $j(e){return od(e).values}function Mj(e){const{values:t,numColors:r,numVars:n,tokenised:o}=od(e),l=t.length;return c=>{let u=o;for(let f=0;f<l;f++)f<n?u=u.replace(Dj.token,c[f]):f<n+r?u=u.replace(Rj.token,ar.transform(c[f])):u=u.replace(Oj.token,_l(c[f]));return u}}const yT=e=>typeof e=="number"?0:e;function wT(e){const t=$j(e);return Mj(e)(t.map(yT))}const Gs={test:xT,parse:$j,createTransformer:Mj,getAnimatableNone:wT},Ij=(e,t)=>r=>`${r>0?t:e}`;function Lj(e,t){return typeof e=="number"?r=>vt(e,t,r):ar.test(e)?Aj(e,t):e.startsWith("var(")?Ij(e,t):Uj(e,t)}const Fj=(e,t)=>{const r=[...e],n=r.length,o=e.map((l,c)=>Lj(l,t[c]));return l=>{for(let c=0;c<n;c++)r[c]=o[c](l);return r}},bT=(e,t)=>{const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=Lj(e[o],t[o]));return o=>{for(const l in n)r[l]=n[l](o);return r}},Uj=(e,t)=>{const r=Gs.createTransformer(t),n=od(e),o=od(t);return n.numVars===o.numVars&&n.numColors===o.numColors&&n.numNumbers>=o.numNumbers?Ws(Fj(n.values,o.values),r):Ij(e,t)},$l=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},l0=(e,t)=>r=>vt(e,t,r);function jT(e){return typeof e=="number"?l0:typeof e=="string"?ar.test(e)?Aj:Uj:Array.isArray(e)?Fj:typeof e=="object"?bT:l0}function _T(e,t,r){const n=[],o=r||jT(e[0]),l=e.length-1;for(let c=0;c<l;c++){let u=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||bt:t;u=Ws(f,u)}n.push(u)}return n}function Bj(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const l=e.length;if(Zp(l===t.length),l===1)return()=>t[0];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=_T(t,n,o),u=c.length,f=h=>{let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=$l(e[m],e[m+1],h);return c[m](p)};return r?h=>f(Ys(e[0],e[l-1],h)):f}function ST(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=$l(0,t,n);e.push(vt(r,1,o))}}function NT(e){const t=[0];return ST(t,e.length-1),t}function CT(e,t){return e.map(r=>r*t)}function kT(e,t){return e.map(()=>t||Nj).splice(0,e.length-1)}function ad({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=lT(n)?n.map(o0):o0(n),l={done:!1,value:t[0]},c=CT(r&&r.length===t.length?r:NT(t),e),u=Bj(c,t,{ease:Array.isArray(o)?o:kT(t,o)});return{calculatedDuration:e,next:f=>(l.value=u(f),l.done=f>=e,l)}}function Vj(e,t){return t?e*(1e3/t):0}const PT=5;function zj(e,t,r){const n=Math.max(t-PT,0);return Vj(r-e(n),t-n)}const sm=.001,ET=.01,TT=10,AT=.05,DT=1;function RT({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let o,l,c=1-t;c=Ys(AT,DT,c),e=Ys(ET,TT,Zn(e)),c<1?(o=h=>{const m=h*c,p=m*e,x=m-r,y=Jm(h,c),j=Math.exp(-p);return sm-x/y*j},l=h=>{const p=h*c*e,x=p*r+r,y=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-p),w=Jm(Math.pow(h,2),c);return(-o(h)+sm>0?-1:1)*((x-y)*j)/w}):(o=h=>{const m=Math.exp(-h*e),p=(h-r)*e+1;return-sm+m*p},l=h=>{const m=Math.exp(-h*e),p=(r-h)*(e*e);return m*p});const u=5/e,f=$T(o,l,u);if(e=Ri(e),isNaN(f))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const OT=12;function $T(e,t,r){let n=r;for(let o=1;o<OT;o++)n=n-e(n)/t(n);return n}function Jm(e,t){return e*Math.sqrt(1-t*t)}const MT=["duration","bounce"],IT=["stiffness","damping","mass"];function c0(e,t){return t.some(r=>e[r]!==void 0)}function LT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!c0(e,IT)&&c0(e,MT)){const r=RT(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Wj({keyframes:e,restDelta:t,restSpeed:r,...n}){const o=e[0],l=e[e.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=LT({...n,velocity:-Zn(n.velocity||0)}),y=p||0,j=f/(2*Math.sqrt(u*h)),w=l-o,_=Zn(Math.sqrt(u/h)),N=Math.abs(w)<5;r||(r=N?.01:2),t||(t=N?.005:.5);let C;if(j<1){const k=Jm(_,j);C=A=>{const P=Math.exp(-j*_*A);return l-P*((y+j*_*w)/k*Math.sin(k*A)+w*Math.cos(k*A))}}else if(j===1)C=k=>l-Math.exp(-_*k)*(w+(y+_*w)*k);else{const k=_*Math.sqrt(j*j-1);C=A=>{const P=Math.exp(-j*_*A),E=Math.min(k*A,300);return l-P*((y+j*_*w)*Math.sinh(E)+k*w*Math.cosh(E))/k}}return{calculatedDuration:x&&m||null,next:k=>{const A=C(k);if(x)c.done=k>=m;else{let P=y;k!==0&&(j<1?P=zj(C,k,A):P=0);const E=Math.abs(P)<=r,R=Math.abs(l-A)<=t;c.done=E&&R}return c.value=c.done?l:A,c}}}function u0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const p=e[0],x={done:!1,value:p},y=D=>u!==void 0&&D<u||f!==void 0&&D>f,j=D=>u===void 0?f:f===void 0||Math.abs(u-D)<Math.abs(f-D)?u:f;let w=r*t;const _=p+w,N=c===void 0?_:c(_);N!==_&&(w=N-p);const C=D=>-w*Math.exp(-D/n),k=D=>N+C(D),A=D=>{const $=C(D),W=k(D);x.done=Math.abs($)<=h,x.value=x.done?N:W};let P,E;const R=D=>{y(x.value)&&(P=D,E=Wj({keyframes:[x.value,j(x.value)],velocity:zj(k,D,x.value),damping:o,stiffness:l,restDelta:h,restSpeed:m}))};return R(0),{calculatedDuration:null,next:D=>{let $=!1;return!E&&P===void 0&&($=!0,A(D),R(D)),P!==void 0&&D>P?E.next(D-P):(!$&&A(D),x)}}}const FT=e=>{const t=({timestamp:r})=>e(r);return{start:()=>it.update(t,!0),stop:()=>ts(t),now:()=>tr.isProcessing?tr.timestamp:performance.now()}},d0=2e4;function f0(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<d0;)t+=r,n=e.next(t);return t>=d0?1/0:t}const UT={decay:u0,inertia:u0,tween:ad,keyframes:ad,spring:Wj};function ld({autoplay:e=!0,delay:t=0,driver:r=FT,keyframes:n,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:f,onStop:h,onComplete:m,onUpdate:p,...x}){let y=1,j=!1,w,_;const N=()=>{_=new Promise(M=>{w=M})};N();let C;const k=UT[o]||ad;let A;k!==ad&&typeof n[0]!="number"&&(A=Bj([0,100],n,{clamp:!1}),n=[0,100]);const P=k({...x,keyframes:n});let E;u==="mirror"&&(E=k({...x,keyframes:[...n].reverse(),velocity:-(x.velocity||0)}));let R="idle",D=null,$=null,W=null;P.calculatedDuration===null&&l&&(P.calculatedDuration=f0(P));const{calculatedDuration:X}=P;let Q=1/0,z=1/0;X!==null&&(Q=X+c,z=Q*(l+1)-c);let O=0;const U=M=>{if($===null)return;y>0&&($=Math.min($,M)),y<0&&($=Math.min(M-z/y,$)),D!==null?O=D:O=Math.round(M-$)*y;const J=O-t*(y>=0?1:-1),te=y>=0?J<0:J>z;O=Math.max(J,0),R==="finished"&&D===null&&(O=z);let ve=O,pe=P;if(l){const je=Math.min(O,z)/Q;let ge=Math.floor(je),fe=je%1;!fe&&je>=1&&(fe=1),fe===1&&ge--,ge=Math.min(ge,l+1),!!(ge%2)&&(u==="reverse"?(fe=1-fe,c&&(fe-=c/Q)):u==="mirror"&&(pe=E)),ve=Ys(0,1,fe)*Q}const de=te?{done:!1,value:n[0]}:pe.next(ve);A&&(de.value=A(de.value));let{done:se}=de;!te&&X!==null&&(se=y>=0?O>=z:O<=0);const ie=D===null&&(R==="finished"||R==="running"&&se);return p&&p(de.value),ie&&I(),de},H=()=>{C&&C.stop(),C=void 0},F=()=>{R="idle",H(),w(),N(),$=W=null},I=()=>{R="finished",m&&m(),H(),w()},q=()=>{if(j)return;C||(C=r(U));const M=C.now();f&&f(),D!==null?$=M-D:(!$||R==="finished")&&($=M),R==="finished"&&N(),W=$,D=null,R="running",C.start()};e&&q();const Y={then(M,J){return _.then(M,J)},get time(){return Zn(O)},set time(M){M=Ri(M),O=M,D!==null||!C||y===0?D=M:$=C.now()-M/y},get duration(){const M=P.calculatedDuration===null?f0(P):P.calculatedDuration;return Zn(M)},get speed(){return y},set speed(M){M===y||!C||(y=M,Y.time=Zn(O))},get state(){return R},play:q,pause:()=>{R="paused",D=O},stop:()=>{j=!0,R!=="idle"&&(R="idle",h&&h(),F())},cancel:()=>{W!==null&&U(W),F()},complete:()=>{R="finished"},sample:M=>($=0,U(M))};return Y}function BT(e){let t;return()=>(t===void 0&&(t=e()),t)}const VT=BT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Au=10,WT=2e4,HT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!bj(t.ease);function qT(e,t,{onUpdate:r,onComplete:n,...o}){if(!(VT()&&zT.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let c=!1,u,f,h=!1;const m=()=>{f=new Promise(k=>{u=k})};m();let{keyframes:p,duration:x=300,ease:y,times:j}=o;if(HT(t,o)){const k=ld({...o,repeat:0,delay:0});let A={done:!1,value:p[0]};const P=[];let E=0;for(;!A.done&&E<WT;)A=k.sample(E),P.push(A.value),E+=Au;j=void 0,p=P,x=E-Au,y="linear"}const w=tT(e.owner.current,t,p,{...o,duration:x,ease:y,times:j}),_=()=>{h=!1,w.cancel()},N=()=>{h=!0,it.update(_),u(),m()};return w.onfinish=()=>{h||(e.set(rT(p,o)),n&&n(),N())},{then(k,A){return f.then(k,A)},attachTimeline(k){return w.timeline=k,w.onfinish=null,bt},get time(){return Zn(w.currentTime||0)},set time(k){w.currentTime=Ri(k)},get speed(){return w.playbackRate},set speed(k){w.playbackRate=k},get duration(){return Zn(x)},play:()=>{c||(w.play(),ts(_))},pause:()=>w.pause(),stop:()=>{if(c=!0,w.playState==="idle")return;const{currentTime:k}=w;if(k){const A=ld({...o,autoplay:!1});e.setWithVelocity(A.sample(k-Au).value,A.sample(k).value,Au)}N()},complete:()=>{h||w.finish()},cancel:N}}function YT({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const o=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:bt,pause:bt,stop:bt,then:l=>(l(),Promise.resolve()),cancel:bt,complete:bt});return t?ld({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const GT={type:"spring",stiffness:500,damping:25,restSpeed:10},KT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XT={type:"keyframes",duration:.8},JT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QT=(e,{keyframes:t})=>t.length>2?XT:Vi.has(e)?e.startsWith("scale")?KT(t[1]):GT:JT,Qm=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url(")),ZT=new Set(["brightness","contrast","saturate","opacity"]);function eA(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ed)||[];if(!n)return e;const o=r.replace(n,"");let l=ZT.has(t)?1:0;return n!==r&&(l*=100),t+"("+l+o+")"}const tA=/([a-z-]*)\(.*?\)/g,Zm={...Gs,getAnimatableNone:e=>{const t=e.match(tA);return t?t.map(eA).join(" "):e}},rA={...sj,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:Zm,WebkitFilter:Zm},nv=e=>rA[e];function Hj(e,t){let r=nv(e);return r!==Zm&&(r=Gs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const qj=e=>/^0[^.\s]+$/.test(e);function nA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||qj(e)}function sA(e,t,r,n){const o=Qm(t,r);let l;Array.isArray(r)?l=[...r]:l=[null,r];const c=n.from!==void 0?n.from:e.get();let u;const f=[];for(let h=0;h<l.length;h++)l[h]===null&&(l[h]=h===0?c:l[h-1]),nA(l[h])&&f.push(h),typeof l[h]=="string"&&l[h]!=="none"&&l[h]!=="0"&&(u=l[h]);if(o&&f.length&&u)for(let h=0;h<f.length;h++){const m=f[h];l[m]=Hj(t,u)}return l}function iA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}function sv(e,t){return e[t]||e.default||e}const oA={skipAnimations:!1},iv=(e,t,r,n={})=>o=>{const l=sv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ri(c);const f=sA(t,e,r,l),h=f[0],m=f[f.length-1],p=Qm(e,h),x=Qm(e,m);let y={keyframes:f,velocity:t.getVelocity(),ease:"easeOut",...l,delay:-u,onUpdate:j=>{t.set(j),l.onUpdate&&l.onUpdate(j)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(iA(l)||(y={...y,...QT(e,y)}),y.duration&&(y.duration=Ri(y.duration)),y.repeatDelay&&(y.repeatDelay=Ri(y.repeatDelay)),!p||!x||eT.current||l.type===!1||oA.skipAnimations)return YT(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=qT(t,e,y);if(j)return j}return ld(y)};function cd(e){return!!(yr(e)&&e.add)}const Yj=e=>/^\-?\d*\.?\d+$/.test(e);function ov(e,t){e.indexOf(t)===-1&&e.push(t)}function av(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class lv{constructor(){this.subscriptions=[]}add(t){return ov(this.subscriptions,t),()=>av(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aA=e=>!isNaN(parseFloat(e));class lA{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,o=!0)=>{this.prev=this.current,this.current=n;const{delta:l,timestamp:c}=tr;this.lastUpdated!==c&&(this.timeDelta=l,this.lastUpdated=c,it.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>it.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aA(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new lv);const n=this.events[t].add(r);return t==="change"?()=>{n(),it.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Vj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(e,t){return new lA(e,t)}const Gj=e=>t=>t.test(e),cA={test:e=>e==="auto",parse:e=>e},Kj=[zi,Ie,Pn,Os,v2,p2,cA],ul=e=>Kj.find(Gj(e)),uA=[...Kj,ar,Gs],dA=e=>uA.find(Gj(e));function fA(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Jo(r))}function hA(e,t){const r=Ad(e,t);let{transitionEnd:n={},transition:o={},...l}=r?e.makeTargetAnimatable(r,!1):{};l={...l,...n};for(const c in l){const u=T2(l[c]);fA(e,c,u)}}function mA(e,t,r){var n,o;const l=Object.keys(t).filter(u=>!e.hasValue(u)),c=l.length;if(c)for(let u=0;u<c;u++){const f=l[u],h=t[f];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(o=(n=r[f])!==null&&n!==void 0?n:e.readValue(f))!==null&&o!==void 0?o:t[f]),m!=null&&(typeof m=="string"&&(Yj(m)||qj(m))?m=parseFloat(m):!dA(m)&&Gs.test(h)&&(m=Hj(f,h)),e.addValue(f,Jo(m,{owner:e})),r[f]===void 0&&(r[f]=m),m!==null&&e.setBaseTarget(f,m))}}function pA(e,t){return t?(t[e]||t.default||t).from:void 0}function vA(e,t,r){const n={};for(const o in e){const l=pA(o,t);if(l!==void 0)n[o]=l;else{const c=r.getValue(o);c&&(n[o]=c.get())}}return n}function gA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function xA(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Xj(e,t,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=e.makeTargetAnimatable(t);const f=e.getValue("willChange");n&&(l=n);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in u){const x=e.getValue(p),y=u[p];if(!x||y===void 0||m&&gA(m,p))continue;const j={delay:r,elapsed:0,...sv(l||{},p)};if(window.HandoffAppearAnimations){const N=e.getProps()[Jb];if(N){const C=window.HandoffAppearAnimations(N,p,x,it);C!==null&&(j.elapsed=C,j.isHandoff=!0)}}let w=!j.isHandoff&&!xA(x,y);if(j.type==="spring"&&(x.getVelocity()||j.velocity)&&(w=!1),x.animation&&(w=!1),w)continue;x.start(iv(p,x,y,e.shouldReduceMotion&&Vi.has(p)?{type:!1}:j));const _=x.animation;cd(f)&&(f.add(p),_.then(()=>f.remove(p))),h.push(_)}return c&&Promise.all(h).then(()=>{c&&hA(e,c)}),h}function ep(e,t,r={}){const n=Ad(e,t,r.custom);let{transition:o=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const l=n?()=>Promise.all(Xj(e,n,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=o;return yA(e,t,h+f,m,p,r)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,h]=u==="beforeChildren"?[l,c]:[c,l];return f().then(()=>h())}else return Promise.all([l(),c(r.delay)])}function yA(e,t,r=0,n=0,o=1,l){const c=[],u=(e.variantChildren.size-1)*n,f=o===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(e.variantChildren).sort(wA).forEach((h,m)=>{h.notify("AnimationStart",t),c.push(ep(h,t,{...l,delay:r+f(m)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function wA(e,t){return e.sortNodePosition(t)}function bA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(l=>ep(e,l,r));n=Promise.all(o)}else if(typeof t=="string")n=ep(e,t,r);else{const o=typeof t=="function"?Ad(e,t,r.custom):t;n=Promise.all(Xj(e,o,r))}return n.then(()=>e.notify("AnimationComplete",t))}const jA=[...zp].reverse(),_A=zp.length;function SA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>bA(e,r,n)))}function NA(e){let t=SA(e);const r=kA();let n=!0;const o=(f,h)=>{const m=Ad(e,h);if(m){const{transition:p,transitionEnd:x,...y}=m;f={...f,...y,...x}}return f};function l(f){t=f(e)}function c(f,h){const m=e.getProps(),p=e.getVariantContext(!0)||{},x=[],y=new Set;let j={},w=1/0;for(let N=0;N<_A;N++){const C=jA[N],k=r[C],A=m[C]!==void 0?m[C]:p[C],P=Rl(A),E=C===h?k.isActive:null;E===!1&&(w=N);let R=A===p[C]&&A!==m[C]&&P;if(R&&n&&e.manuallyAnimateOnMount&&(R=!1),k.protectedKeys={...j},!k.isActive&&E===null||!A&&!k.prevProp||kd(A)||typeof A=="boolean")continue;let $=CA(k.prevProp,A)||C===h&&k.isActive&&!R&&P||N>w&&P,W=!1;const X=Array.isArray(A)?A:[A];let Q=X.reduce(o,{});E===!1&&(Q={});const{prevResolvedValues:z={}}=k,O={...z,...Q},U=H=>{$=!0,y.has(H)&&(W=!0,y.delete(H)),k.needsAnimating[H]=!0};for(const H in O){const F=Q[H],I=z[H];if(j.hasOwnProperty(H))continue;let q=!1;id(F)&&id(I)?q=!yj(F,I):q=F!==I,q?F!==void 0?U(H):y.add(H):F!==void 0&&y.has(H)?U(H):k.protectedKeys[H]=!0}k.prevProp=A,k.prevResolvedValues=Q,k.isActive&&(j={...j,...Q}),n&&e.blockInitialAnimation&&($=!1),$&&(!R||W)&&x.push(...X.map(H=>({animation:H,options:{type:C,...f}})))}if(y.size){const N={};y.forEach(C=>{const k=e.getBaseTarget(C);k!==void 0&&(N[C]=k)}),x.push({animation:N})}let _=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(x):Promise.resolve()}function u(f,h,m){var p;if(r[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(y=>{var j;return(j=y.animationState)===null||j===void 0?void 0:j.setActive(f,h)}),r[f].isActive=h;const x=c(m,f);for(const y in r)r[y].protectedKeys={};return x}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>r}}function CA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yj(t,e):!1}function _i(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kA(){return{animate:_i(!0),whileInView:_i(),whileHover:_i(),whileTap:_i(),whileDrag:_i(),whileFocus:_i(),exit:_i()}}class PA extends Qs{constructor(t){super(t),t.animationState||(t.animationState=NA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),kd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let EA=0;class TA extends Qs{constructor(){super(...arguments),this.id=EA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const l=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&l.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const AA={animation:{Feature:PA},exit:{Feature:TA}},h0=(e,t)=>Math.abs(e-t);function DA(e,t){const r=h0(e.x,t.x),n=h0(e.y,t.y);return Math.sqrt(r**2+n**2)}class Jj{constructor(t,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=om(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=DA(p.offset,{x:0,y:0})>=3;if(!x&&!y)return;const{point:j}=p,{timestamp:w}=tr;this.history.push({...j,timestamp:w});const{onStart:_,onMove:N}=this.handlers;x||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=im(x,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=om(p.type==="pointercancel"?this.lastMoveEventInfo:im(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,_),j&&j(p,_)},!mj(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=Td(t),u=im(c,this.transformPagePoint),{point:f}=u,{timestamp:h}=tr;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=r;m&&m(t,om(u,this.history)),this.removeListeners=Ws(Qn(this.contextWindow,"pointermove",this.handlePointerMove),Qn(this.contextWindow,"pointerup",this.handlePointerUp),Qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function im(e,t){return t?{point:t(e.point)}:e}function m0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function om({point:e},t){return{point:e,delta:m0(e,Qj(t)),offset:m0(e,RA(t)),velocity:OA(t,.1)}}function RA(e){return e[0]}function Qj(e){return e[e.length-1]}function OA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=Qj(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>Ri(t)));)r--;if(!n)return{x:0,y:0};const l=Zn(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Rr(e){return e.max-e.min}function tp(e,t=0,r=.01){return Math.abs(e-t)<=r}function p0(e,t,r,n=.5){e.origin=n,e.originPoint=vt(t.min,t.max,e.origin),e.scale=Rr(r)/Rr(t),(tp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=vt(r.min,r.max,e.origin)-e.originPoint,(tp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Sl(e,t,r,n){p0(e.x,t.x,r.x,n?n.originX:void 0),p0(e.y,t.y,r.y,n?n.originY:void 0)}function v0(e,t,r){e.min=r.min+t.min,e.max=e.min+Rr(t)}function $A(e,t,r){v0(e.x,t.x,r.x),v0(e.y,t.y,r.y)}function g0(e,t,r){e.min=t.min-r.min,e.max=e.min+Rr(t)}function Nl(e,t,r){g0(e.x,t.x,r.x),g0(e.y,t.y,r.y)}function MA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?vt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?vt(r,e,n.max):Math.min(e,r)),e}function x0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function IA(e,{top:t,left:r,bottom:n,right:o}){return{x:x0(e.x,r,o),y:x0(e.y,t,n)}}function y0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function LA(e,t){return{x:y0(e.x,t.x),y:y0(e.y,t.y)}}function FA(e,t){let r=.5;const n=Rr(e),o=Rr(t);return o>n?r=$l(t.min,t.max-n,e.min):n>o&&(r=$l(e.min,e.max-o,t.min)),Ys(0,1,r)}function UA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const rp=.35;function BA(e=rp){return e===!1?e=0:e===!0&&(e=rp),{x:w0(e,"left","right"),y:w0(e,"top","bottom")}}function w0(e,t,r){return{min:b0(e,t),max:b0(e,r)}}function b0(e,t){return typeof e=="number"?e:e[t]||0}const j0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wo=()=>({x:j0(),y:j0()}),_0=()=>({min:0,max:0}),St=()=>({x:_0(),y:_0()});function Hr(e){return[e("x"),e("y")]}function Zj({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function VA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function am(e){return e===void 0||e===1}function np({scale:e,scaleX:t,scaleY:r}){return!am(e)||!am(t)||!am(r)}function Ni(e){return np(e)||e_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function e_(e){return S0(e.x)||S0(e.y)}function S0(e){return e&&e!=="0%"}function ud(e,t,r){const n=e-r,o=t*n;return r+o}function N0(e,t,r,n,o){return o!==void 0&&(e=ud(e,o,n)),ud(e,r,n)+t}function sp(e,t=0,r=1,n,o){e.min=N0(e.min,t,r,n,o),e.max=N0(e.max,t,r,n,o)}function t_(e,{x:t,y:r}){sp(e.x,t.translate,t.scale,t.originPoint),sp(e.y,r.translate,r.scale,r.originPoint)}function WA(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let l,c;for(let u=0;u<o;u++){l=r[u],c=l.projectionDelta;const f=l.instance;f&&f.style&&f.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ho(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,t_(e,c)),n&&Ni(l.latestValues)&&Ho(e,l.latestValues))}t.x=C0(t.x),t.y=C0(t.y)}function C0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fs(e,t){e.min=e.min+t,e.max=e.max+t}function k0(e,t,[r,n,o]){const l=t[o]!==void 0?t[o]:.5,c=vt(e.min,e.max,l);sp(e,t[r],t[n],c,t.scale)}const HA=["x","scaleX","originX"],qA=["y","scaleY","originY"];function Ho(e,t){k0(e.x,t,HA),k0(e.y,t,qA)}function r_(e,t){return Zj(zA(e.getBoundingClientRect(),t))}function YA(e,t,r){const n=r_(e,r),{scroll:o}=t;return o&&(Fs(n.x,o.offset.x),Fs(n.y,o.offset.y)),n}const n_=({current:e})=>e?e.ownerDocument.defaultView:null,GA=new WeakMap;class KA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Td(m,"page").point)},l=(m,p)=>{const{drag:x,dragPropagation:y,onDragStart:j}=this.getProps();if(x&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vj(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(_=>{let N=this.getAxisMotionValue(_).get()||0;if(Pn.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[_];k&&(N=Rr(k)*(parseFloat(N)/100))}}this.originPoint[_]=N}),j&&it.update(()=>j(m,p),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,p)=>{const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:j,onDrag:w}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:_}=p;if(y&&this.currentDirection===null){this.currentDirection=XA(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),w&&w(m,p)},u=(m,p)=>this.stop(m,p),f=()=>Hr(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Jj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:n_(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&it.update(()=>l(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!Du(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=MA(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;r&&Vo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=IA(o.layoutBox,r):this.constraints=!1,this.elastic=BA(n),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Hr(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=UA(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Vo(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=YA(n,o.root,this.visualElement.getTransformPagePoint());let c=LA(o.layout.layoutBox,l);if(r){const u=r(VA(c));this.hasMutatedConstraints=!!u,u&&(c=Zj(u))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Hr(m=>{if(!Du(m,r,this.currentDirection))return;let p=f&&f[m]||{};c&&(p={min:0,max:0});const x=o?200:1e6,y=o?40:1e7,j={type:"inertia",velocity:n?t[m]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(iv(t,n,0,r))}stopAnimation(){Hr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Hr(r=>{const{drag:n}=this.getProps();if(!Du(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[r];l.set(t[r]-vt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vo(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hr(c=>{const u=this.getAxisMotionValue(c);if(u){const f=u.get();o[c]=FA({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Hr(c=>{if(!Du(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(vt(f,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;GA.set(this.visualElement,this);const t=this.visualElement.current,r=Qn(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Vo(f)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),n();const c=Xn(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Hr(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=f[m].translate,p.set(p.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=rp,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Du(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function XA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class JA extends Qs{constructor(t){super(t),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new KA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const P0=e=>(t,r)=>{e&&it.update(()=>e(t,r))};class QA extends Qs{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(t){this.session=new Jj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:P0(t),onStart:P0(r),onMove:n,onEnd:(l,c)=>{delete this.session,o&&it.update(()=>o(l,c))}}}mount(){this.removePointerDownListener=Qn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ZA(){const e=g.useContext(Nd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,o=g.useId();return g.useEffect(()=>n(o),[]),!t&&r?[!1,()=>r&&r(o)]:[!0]}const Qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const r=E0(e,t.target.x),n=E0(e,t.target.y);return`${r}% ${n}%`}},eD={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Gs.parse(e);if(o.length>5)return n;const l=Gs.createTransformer(e),c=typeof o[0]!="number"?1:0,u=r.x.scale*t.x,f=r.y.scale*t.y;o[0+c]/=u,o[1+c]/=f;const h=vt(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};class tD extends he.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=t;l2(rD),l&&(r.group&&r.group.add(l),n&&n.register&&o&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,o||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||it.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function s_(e){const[t,r]=ZA(),n=g.useContext(Hp);return he.createElement(tD,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(Zb),isPresent:t,safeToRemove:r})}const rD={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:eD},i_=["TopLeft","TopRight","BottomLeft","BottomRight"],nD=i_.length,T0=e=>typeof e=="string"?parseFloat(e):e,A0=e=>typeof e=="number"||Ie.test(e);function sD(e,t,r,n,o,l){o?(e.opacity=vt(0,r.opacity!==void 0?r.opacity:1,iD(n)),e.opacityExit=vt(t.opacity!==void 0?t.opacity:1,0,oD(n))):l&&(e.opacity=vt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<nD;c++){const u=`border${i_[c]}Radius`;let f=D0(t,u),h=D0(r,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||A0(f)===A0(h)?(e[u]=Math.max(vt(T0(f),T0(h),n),0),(Pn.test(h)||Pn.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||r.rotate)&&(e.rotate=vt(t.rotate||0,r.rotate||0,n))}function D0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iD=o_(0,.5,Pj),oD=o_(.5,.95,bt);function o_(e,t,r){return n=>n<e?0:n>t?1:r($l(e,t,n))}function R0(e,t){e.min=t.min,e.max=t.max}function Wr(e,t){R0(e.x,t.x),R0(e.y,t.y)}function O0(e,t,r,n,o){return e-=t,e=ud(e,1/r,n),o!==void 0&&(e=ud(e,1/o,n)),e}function aD(e,t=0,r=1,n=.5,o,l=e,c=e){if(Pn.test(t)&&(t=parseFloat(t),t=vt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=vt(l.min,l.max,n);e===l&&(u-=t),e.min=O0(e.min,t,r,u,o),e.max=O0(e.max,t,r,u,o)}function $0(e,t,[r,n,o],l,c){aD(e,t[r],t[n],t[o],t.scale,l,c)}const lD=["x","scaleX","originX"],cD=["y","scaleY","originY"];function M0(e,t,r,n){$0(e.x,t,lD,r?r.x:void 0,n?n.x:void 0),$0(e.y,t,cD,r?r.y:void 0,n?n.y:void 0)}function I0(e){return e.translate===0&&e.scale===1}function a_(e){return I0(e.x)&&I0(e.y)}function uD(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function l_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function L0(e){return Rr(e.x)/Rr(e.y)}class dD{constructor(){this.members=[]}add(t){ov(this.members,t),t.scheduleRender()}remove(t){if(av(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function F0(e,t,r){let n="";const o=e.x.translate/t.x,l=e.y.translate/t.y;if((o||l)&&(n=`translate3d(${o}px, ${l}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:f,rotateX:h,rotateY:m}=r;f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const fD=(e,t)=>e.depth-t.depth;class hD{constructor(){this.children=[],this.isDirty=!1}add(t){ov(this.children,t),this.isDirty=!0}remove(t){av(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fD),this.isDirty=!1,this.children.forEach(t)}}function mD(e,t){const r=performance.now(),n=({timestamp:o})=>{const l=o-r;l>=t&&(ts(n),e(l-t))};return it.read(n,!0),()=>ts(n)}function pD(e){window.MotionDebug&&window.MotionDebug.record(e)}function vD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function gD(e,t,r){const n=yr(e)?e:Jo(e);return n.start(iv("",n,t,r)),n.animation}const U0=["","X","Y","Z"],xD={visibility:"hidden"},B0=1e3;let yD=0;const Ci={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function c_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},u=t==null?void 0:t()){this.id=yD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ci.totalNodes=Ci.resolvedTargetDeltas=Ci.recalculatedProjection=0,this.nodes.forEach(jD),this.nodes.forEach(kD),this.nodes.forEach(PD),this.nodes.forEach(_D),pD(Ci)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new hD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vD(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),e){let p;const x=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=mD(x,250),Qu.hasAnimatedSinceResize&&(Qu.hasAnimatedSinceResize=!1,this.nodes.forEach(z0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:y,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||RD,{onLayoutAnimationStart:_,onLayoutAnimationComplete:N}=m.getProps(),C=!this.targetLayout||!l_(this.targetLayout,j)||y,k=!x&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const A={...sv(w,"layout"),onPlay:_,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else x||z0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ED),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V0);return}this.isUpdating||this.nodes.forEach(ND),this.isUpdating=!1,this.nodes.forEach(CD),this.nodes.forEach(wD),this.nodes.forEach(bD),this.clearAllSnapshots();const u=performance.now();tr.delta=Ys(0,1e3/60,u-tr.timestamp),tr.timestamp=u,tr.isProcessing=!0,Jh.update.process(tr),Jh.preRender.process(tr),Jh.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SD),this.sharedNodes.forEach(TD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!a_(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&(u||Ni(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),OD(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return St();const u=c.measureViewportBox(),{scroll:f}=this.root;return f&&(Fs(u.x,f.offset.x),Fs(u.y,f.offset.y)),u}removeElementScroll(c){const u=St();Wr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:p}=h;if(h!==this.root&&m&&p.layoutScroll){if(m.isRoot){Wr(u,c);const{scroll:x}=this.root;x&&(Fs(u.x,-x.offset.x),Fs(u.y,-x.offset.y))}Fs(u.x,m.offset.x),Fs(u.y,m.offset.y)}}return u}applyTransform(c,u=!1){const f=St();Wr(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ho(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ni(m.latestValues)&&Ho(f,m.latestValues)}return Ni(this.latestValues)&&Ho(f,this.latestValues),f}removeTransform(c){const u=St();Wr(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Ni(h.latestValues))continue;np(h.latestValues)&&h.updateSnapshot();const m=St(),p=h.measurePageBox();Wr(m,p),M0(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Ni(this.latestValues)&&M0(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=tr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Nl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$A(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wr(this.target,this.layout.layoutBox),t_(this.target,this.targetDelta)):Wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Nl(this.relativeTargetOrigin,this.target,y.target),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ci.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||np(this.parent.latestValues)||e_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Wr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;WA(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:j}=u;if(!j){this.projectionTransform&&(this.projectionDelta=Wo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Wo(),this.projectionDeltaWithTransform=Wo());const w=this.projectionTransform;Sl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=F0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==x||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Ci.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},p=Wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=St(),y=f?f.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,_=this.getStack(),N=!_||_.members.length<=1,C=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(DD));this.animationProgress=0;let k;this.mixTargetDelta=A=>{const P=A/1e3;W0(p.x,c.x,P),W0(p.y,c.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AD(this.relativeTarget,this.relativeTargetOrigin,x,P),k&&uD(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=St()),Wr(k,this.relativeTarget)),w&&(this.animationValues=m,sD(m,h,this.latestValues,P,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Qu.hasAnimatedSinceResize=!0,this.currentAnimation=gD(0,B0,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(B0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&u_(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||St();const p=Rr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+p;const x=Rr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}Wr(u,f),Ho(u,m),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new dD),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<U0.length;m++){const p="rotate"+U0[m];f[p]&&(h[p]=f[p],c.setStaticValue(p,0))}c.render();for(const m in h)c.setStaticValue(m,h[m]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xD;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ju(c==null?void 0:c.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ju(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=F0(this.projectionDeltaWithTransform,this.treeScale,x),m&&(h.transform=m(x,h.transform));const{x:y,y:j}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${j.origin*100}% 0`,p.animationValues?h.opacity=p===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in nd){if(x[w]===void 0)continue;const{correct:_,applyTo:N}=nd[w],C=h.transform==="none"?x[w]:_(x[w],p);if(N){const k=N.length;for(let A=0;A<k;A++)h[N[A]]=C}else h[w]=C}return this.options.layoutId&&(h.pointerEvents=p===this?Ju(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(V0),this.root.sharedNodes.clear()}}}function wD(e){e.updateLayout()}function bD(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:l}=e.options,c=r.source!==e.layout.source;l==="size"?Hr(p=>{const x=c?r.measuredBox[p]:r.layoutBox[p],y=Rr(x);x.min=n[p].min,x.max=x.min+y}):u_(l,r.layoutBox,n)&&Hr(p=>{const x=c?r.measuredBox[p]:r.layoutBox[p],y=Rr(n[p]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const u=Wo();Sl(u,n,r.layoutBox);const f=Wo();c?Sl(f,e.applyTransform(o,!0),r.measuredBox):Sl(f,n,r.layoutBox);const h=!a_(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const j=St();Nl(j,r.layoutBox,x.layoutBox);const w=St();Nl(w,n,y.layoutBox),l_(j,w)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function jD(e){Ci.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _D(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SD(e){e.clearSnapshot()}function V0(e){e.clearMeasurements()}function ND(e){e.isLayoutDirty=!1}function CD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function z0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kD(e){e.resolveTargetDelta()}function PD(e){e.calcProjection()}function ED(e){e.resetRotation()}function TD(e){e.removeLeadSnapshot()}function W0(e,t,r){e.translate=vt(t.translate,0,r),e.scale=vt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function H0(e,t,r,n){e.min=vt(t.min,r.min,n),e.max=vt(t.max,r.max,n)}function AD(e,t,r,n){H0(e.x,t.x,r.x,n),H0(e.y,t.y,r.y,n)}function DD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RD={duration:.45,ease:[.4,0,.1,1]},q0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Y0=q0("applewebkit/")&&!q0("chrome/")?Math.round:bt;function G0(e){e.min=Y0(e.min),e.max=Y0(e.max)}function OD(e){G0(e.x),G0(e.y)}function u_(e,t,r){return e==="position"||e==="preserve-aspect"&&!tp(L0(t),L0(r),.2)}const $D=c_({attachResizeListener:(e,t)=>Xn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lm={current:void 0},d_=c_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lm.current){const e=new $D({});e.mount(window),e.setOptions({layoutScroll:!0}),lm.current=e}return lm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),MD={pan:{Feature:QA},drag:{Feature:JA,ProjectionNode:d_,MeasureLayout:s_}},ID=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function LD(e){const t=ID.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function ip(e,t,r=1){const[n,o]=LD(e);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const c=l.trim();return Yj(c)?parseFloat(c):c}else return Gm(o)?ip(o,t,r+1):o}function FD(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(o=>{const l=o.get();if(!Gm(l))return;const c=ip(l,n);c&&o.set(c)});for(const o in t){const l=t[o];if(!Gm(l))continue;const c=ip(l,n);c&&(t[o]=c,r||(r={}),r[o]===void 0&&(r[o]=l))}return{target:t,transitionEnd:r}}const UD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),f_=e=>UD.has(e),BD=e=>Object.keys(e).some(f_),K0=e=>e===zi||e===Ie,X0=(e,t)=>parseFloat(e.split(", ")[t]),J0=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/);if(o)return X0(o[1],t);{const l=n.match(/^matrix\((.+)\)$/);return l?X0(l[1],e):0}},VD=new Set(["x","y","z"]),zD=Xl.filter(e=>!VD.has(e));function WD(e){const t=[];return zD.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Qo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:J0(4,13),y:J0(5,14)};Qo.translateX=Qo.x;Qo.translateY=Qo.y;const HD=(e,t,r)=>{const n=t.measureViewportBox(),o=t.current,l=getComputedStyle(o),{display:c}=l,u={};c==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(h=>{u[h]=Qo[h](n,l)}),t.render();const f=t.measureViewportBox();return r.forEach(h=>{const m=t.getValue(h);m&&m.jump(u[h]),e[h]=Qo[h](f,l)}),e},qD=(e,t,r={},n={})=>{t={...t},n={...n};const o=Object.keys(t).filter(f_);let l=[],c=!1;const u=[];if(o.forEach(f=>{const h=e.getValue(f);if(!e.hasValue(f))return;let m=r[f],p=ul(m);const x=t[f];let y;if(id(x)){const j=x.length,w=x[0]===null?1:0;m=x[w],p=ul(m);for(let _=w;_<j&&x[_]!==null;_++)y?Zp(ul(x[_])===y):y=ul(x[_])}else y=ul(x);if(p!==y)if(K0(p)&&K0(y)){const j=h.get();typeof j=="string"&&h.set(parseFloat(j)),typeof x=="string"?t[f]=parseFloat(x):Array.isArray(x)&&y===Ie&&(t[f]=x.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(m===0||x===0)?m===0?h.set(y.transform(m)):t[f]=p.transform(x):(c||(l=WD(e),c=!0),u.push(f),n[f]=n[f]!==void 0?n[f]:t[f],h.jump(x))}),u.length){const f=u.indexOf("height")>=0?window.pageYOffset:null,h=HD(t,e,u);return l.length&&l.forEach(([m,p])=>{e.getValue(m).set(p)}),e.render(),Cd&&f!==null&&window.scrollTo({top:f}),{target:h,transitionEnd:n}}else return{target:t,transitionEnd:n}};function YD(e,t,r,n){return BD(t)?qD(e,t,r,n):{target:t,transitionEnd:n}}const GD=(e,t,r,n)=>{const o=FD(e,t,n);return t=o.target,n=o.transitionEnd,YD(e,t,r,n)},op={current:null},h_={current:!1};function KD(){if(h_.current=!0,!!Cd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>op.current=e.matches;e.addListener(t),t()}else op.current=!1}function XD(e,t,r){const{willChange:n}=t;for(const o in t){const l=t[o],c=r[o];if(yr(l))e.addValue(o,l),cd(n)&&n.add(o);else if(yr(c))e.addValue(o,Jo(l,{owner:e})),cd(n)&&n.remove(o);else if(c!==l)if(e.hasValue(o)){const u=e.getValue(o);!u.hasAnimated&&u.set(l)}else{const u=e.getStaticValue(o);e.addValue(o,Jo(u!==void 0?u:l,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const Q0=new WeakMap,m_=Object.keys(Ol),JD=m_.length,Z0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QD=Wp.length;class ZD{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>it.render(this.render,!1,!0);const{latestValues:u,renderState:f}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=Pd(r),this.isVariantNode=Qb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{});for(const p in m){const x=m[p];u[p]!==void 0&&yr(x)&&(x.set(u[p],!1),cd(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Q0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),h_.current||KD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:op.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Q0.delete(this.current),this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Vi.has(t),o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&it.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),l()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,o,l){let c,u;for(let f=0;f<JD;f++){const h=m_[f],{isEnabled:m,Feature:p,ProjectionNode:x,MeasureLayout:y}=Ol[h];x&&(c=x),m(r)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(u=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:h,drag:m,dragConstraints:p,layoutScroll:x,layoutRoot:y}=r;this.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:!!m||p&&Vo(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:l,layoutScroll:x,layoutRoot:y})}return u}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Z0.length;n++){const o=Z0[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=t["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=XD(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<QD;n++){const o=Wp[n],l=this.props[o];(Rl(l)||l===!1)&&(r[o]=l)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Jo(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,o=typeof n=="string"||typeof n=="object"?(r=Qp(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!yr(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new lv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class p_ extends ZD{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:o},l){let c=vA(n,t||{},this);if(o&&(r&&(r=o(r)),n&&(n=o(n)),c&&(c=o(c))),l){mA(this,n,c);const u=GD(this,n,c,r);r=u.transitionEnd,n=u.target}return{transition:t,transitionEnd:r,...n}}}function eR(e){return window.getComputedStyle(e)}class tR extends p_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Vi.has(r)){const n=nv(r);return n&&n.default||0}else{const n=eR(t),o=(rj(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return r_(t,r)}build(t,r,n,o){Yp(t,r,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,r){return Jp(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,o){lj(t,r,n,o)}}class rR extends p_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vi.has(r)){const n=nv(r);return n&&n.default||0}return r=cj.has(r)?r:Vp(r),t.getAttribute(r)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(t,r){return dj(t,r)}build(t,r,n,o){Kp(t,r,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,r,n,o){uj(t,r,n,o)}mount(t){this.isSVGTag=Xp(t.tagName),super.mount(t)}}const nR=(e,t)=>qp(e)?new rR(t,{enableHardwareAcceleration:!1}):new tR(t,{enableHardwareAcceleration:!0}),sR={layout:{ProjectionNode:d_,MeasureLayout:s_}},iR={...AA,...J2,...MD,...sR},be=o2((e,t)=>L2(e,t,iR,nR));function v_(){const e=g.useRef(!1);return Bp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function oR(){const e=v_(),[t,r]=g.useState(0),n=g.useCallback(()=>{e.current&&r(t+1)},[t]);return[g.useCallback(()=>it.postRender(n),[n]),t]}class aR extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lR({children:e,isPresent:t}){const r=g.useId(),n=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f}=o.current;if(t||!n.current||!l||!c)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),g.createElement(aR,{isPresent:t,childRef:n,sizeRef:o},g.cloneElement(e,{ref:n}))}const cm=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:c})=>{const u=fj(cR),f=g.useId(),h=g.useMemo(()=>({id:f,initial:t,isPresent:r,custom:o,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),l?void 0:[r]);return g.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),c==="popLayout"&&(e=g.createElement(lR,{isPresent:r},e)),g.createElement(Nd.Provider,{value:h},e)};function cR(){return new Map}function uR(e){return g.useEffect(()=>()=>e(),[])}const ki=e=>e.key||"";function dR(e,t){e.forEach(r=>{const n=ki(r);t.set(n,r)})}function fR(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const Ml=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:c="sync"})=>{const u=g.useContext(Hp).forceRender||oR()[0],f=v_(),h=fR(e);let m=h;const p=g.useRef(new Map).current,x=g.useRef(m),y=g.useRef(new Map).current,j=g.useRef(!0);if(Bp(()=>{j.current=!1,dR(h,y),x.current=m}),uR(()=>{j.current=!0,y.clear(),p.clear()}),j.current)return g.createElement(g.Fragment,null,m.map(C=>g.createElement(cm,{key:ki(C),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l,mode:c},C)));m=[...m];const w=x.current.map(ki),_=h.map(ki),N=w.length;for(let C=0;C<N;C++){const k=w[C];_.indexOf(k)===-1&&!p.has(k)&&p.set(k,void 0)}return c==="wait"&&p.size&&(m=[]),p.forEach((C,k)=>{if(_.indexOf(k)!==-1)return;const A=y.get(k);if(!A)return;const P=w.indexOf(k);let E=C;if(!E){const R=()=>{p.delete(k);const D=Array.from(y.keys()).filter($=>!_.includes($));if(D.forEach($=>y.delete($)),x.current=h.filter($=>{const W=ki($);return W===k||D.includes(W)}),!p.size){if(f.current===!1)return;u(),n&&n()}};E=g.createElement(cm,{key:ki(A),isPresent:!1,onExitComplete:R,custom:t,presenceAffectsLayout:l,mode:c},A),p.set(k,E)}m.splice(P,0,E)}),m=m.map(C=>{const k=C.key;return p.has(k)?C:g.createElement(cm,{key:ki(C),isPresent:!0,presenceAffectsLayout:l,mode:c},C)}),g.createElement(g.Fragment,null,p.size?m:m.map(C=>g.cloneElement(C)))},hR=e=>{localStorage.setItem("groceroo-cart",JSON.stringify(e))},mR=()=>{const e=localStorage.getItem("groceroo-cart");return e?JSON.parse(e):[]},pR=1;let um=0;function vR(){return um=(um+1)%Number.MAX_VALUE,um.toString()}const lr={state:{toasts:[]},listeners:[],getState:()=>lr.state,setState:e=>{typeof e=="function"?lr.state=e(lr.state):lr.state={...lr.state,...e},lr.listeners.forEach(t=>t(lr.state))},subscribe:e=>(lr.listeners.push(e),()=>{lr.listeners=lr.listeners.filter(t=>t!==e)})},re=({...e})=>{const t=vR(),r=o=>lr.setState(l=>({...l,toasts:l.toasts.map(c=>c.id===t?{...c,...o}:c)})),n=()=>lr.setState(o=>({...o,toasts:o.toasts.filter(l=>l.id!==t)}));return lr.setState(o=>({...o,toasts:[{...e,id:t,dismiss:n},...o.toasts].slice(0,pR)})),{id:t,dismiss:n,update:r}};function gR(){const[e,t]=g.useState(lr.getState());return g.useEffect(()=>lr.subscribe(n=>{t(n)}),[]),g.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const o=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(o)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:re,toasts:e.toasts}}const g_=g.createContext(),as=()=>{const e=g.useContext(g_);if(!e)throw new Error("useCart must be used within a CartProvider");return e},xR=({children:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!1),l=g.useRef([]);g.useEffect(()=>{const w=mR();w&&w.length>0&&r(w)},[]),g.useEffect(()=>{hR(t)},[t]),g.useEffect(()=>{if(l.current.length>0){const w=l.current.pop();l.current=[],re(w)}},[t]);const c=()=>o(!0),u=()=>o(!1),f=()=>o(!n),h=(w,_=1)=>{r(N=>{if(N.find(k=>k.id===w.id)){const k=N.map(A=>A.id===w.id?{...A,quantity:A.quantity+_}:A);return l.current.push({title:"Item updated",description:`${w.name} quantity updated in your cart.`,duration:2e3,action:"view-cart"}),k}else return l.current.push({title:"Item added",description:`${w.name} added to your cart.`,duration:2e3,action:"view-cart"}),[...N,{...w,quantity:_}]})},m=w=>{r(_=>{const N=_.find(C=>C.id===w);return N&&l.current.push({title:"Item removed",description:`${N.name} removed from your cart.`,duration:2e3,action:"view-cart"}),_.filter(C=>C.id!==w)})},p=(w,_)=>{if(_<=0){m(w);return}r(N=>{const C=N.find(k=>k.id===w);return C&&C.quantity!==_&&l.current.push({title:"Quantity updated",description:`${C.name} quantity set to ${_}.`,duration:2e3,action:"view-cart"}),N.map(k=>k.id===w?{...k,quantity:_}:k)})},x=()=>{r([]),l.current.push({title:"Cart cleared",description:"All items have been removed from your cart.",duration:2e3,action:"view-cart"})},y=()=>t.reduce((w,_)=>w+_.price*_.quantity,0),j=()=>t.reduce((w,_)=>w+_.quantity,0);return s.jsx(g_.Provider,{value:{cart:t,isCartOpen:n,openCart:c,closeCart:u,toggleCart:f,addToCart:h,removeFromCart:m,updateQuantity:p,clearCart:x,getCartTotal:y,getCartCount:j},children:e})},yR="modulepreload",wR=function(e){return"/"+e},ew={},Zo=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(r.map(h=>{if(h=wR(h),h in ew)return;ew[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":yR,m||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),m)return new Promise((y,j)=>{x.addEventListener("load",y),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})},bR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class cv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jR extends cv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _R extends cv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class SR extends cv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ap;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ap||(ap={}));var NR=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class CR{constructor(t,{headers:r={},customFetch:n,region:o=ap.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=bR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return NR(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:c}=r;let u={},{region:f}=r;f||(f=this.region),f&&f!=="any"&&(u["x-region"]=f);let h;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(u["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(u["Content-Type"]="application/json",h=JSON.stringify(c)));const m=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h}).catch(j=>{throw new jR(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new _R(m);if(!m.ok)throw new SR(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null}}catch(o){return{data:null,error:o}}})}}var Ft={},ko={},Po={},Eo={},To={},Ao={},kR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ea=kR();const PR=ea.fetch,x_=ea.fetch.bind(ea),y_=ea.Headers,ER=ea.Request,TR=ea.Response,fa=Object.freeze(Object.defineProperty({__proto__:null,Headers:y_,Request:ER,Response:TR,default:x_,fetch:PR},Symbol.toStringTag,{value:"Module"})),AR=LP(fa);var Ru={},tw;function w_(){if(tw)return Ru;tw=1,Object.defineProperty(Ru,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ru.default=e,Ru}var rw;function b_(){if(rw)return Ao;rw=1;var e=Ao&&Ao.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ao,"__esModule",{value:!0});const t=e(AR),r=e(w_());class n{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,p,x;let y=null,j=null,w=null,_=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const P=await h.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=P:j=JSON.parse(P))}const k=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),A=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&A&&A.length>1&&(w=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(y={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,_=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const k=await h.text();try{y=JSON.parse(k),Array.isArray(y)&&h.status===404&&(j=[],y=null,_=200,N="OK")}catch{h.status===404&&k===""?(_=204,N="No Content"):y={message:k}}if(y&&this.isMaybeSingle&&(!((x=y==null?void 0:y.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,_=200,N="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:j,count:w,status:_,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,p,x;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=h==null?void 0:h.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return Ao.default=n,Ao}var nw;function j_(){if(nw)return To;nw=1;var e=To&&To.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(To,"__esModule",{value:!0});const t=e(b_());class r extends t.default{select(o){let l=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const p=[o?"analyze":null,l?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${p};`,h==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return To.default=r,To}var sw;function uv(){if(sw)return Eo;sw=1;var e=Eo&&Eo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Eo,"__esModule",{value:!0});const t=e(j_());class r extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return Eo.default=r,Eo}var iw;function __(){if(iw)return Po;iw=1;var e=Po&&Po.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Po,"__esModule",{value:!0});const t=e(uv());class r{constructor(o,{headers:l={},schema:c,fetch:u}){this.url=o,this.headers=l,this.schema=c,this.fetch=u}select(o,{head:l=!1,count:c}={}){const u=l?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:l,defaultToNull:c=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const h=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){const h="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(p.length>0){const x=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:l}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const l="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Po.default=r,Po}var fl={},hl={},ow;function DR(){return ow||(ow=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.version=void 0,hl.version="0.0.0-automated"),hl}var aw;function RR(){if(aw)return fl;aw=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.DEFAULT_HEADERS=void 0;const e=DR();return fl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},fl}var lw;function OR(){if(lw)return ko;lw=1;var e=ko&&ko.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ko,"__esModule",{value:!0});const t=e(__()),r=e(uv()),n=RR();class o{constructor(c,{headers:u={},schema:f,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:h=!1,count:m}={}){let p;const x=new URL(`${this.url}/rpc/${c}`);let y;f||h?(p=f?"HEAD":"GET",Object.entries(u).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{x.searchParams.append(w,_)})):(p="POST",y=u);const j=Object.assign({},this.headers);return m&&(j.Prefer=`count=${m}`),new r.default({method:p,url:x,headers:j,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return ko.default=o,ko}var cw;function $R(){if(cw)return Ft;cw=1;var e=Ft&&Ft.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const t=e(OR());Ft.PostgrestClient=t.default;const r=e(__());Ft.PostgrestQueryBuilder=r.default;const n=e(uv());Ft.PostgrestFilterBuilder=n.default;const o=e(j_());Ft.PostgrestTransformBuilder=o.default;const l=e(b_());Ft.PostgrestBuilder=l.default;const c=e(w_());return Ft.PostgrestError=c.default,Ft.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ft}var MR=$R();const IR=Gl(MR),{PostgrestClient:LR,PostgrestQueryBuilder:GB,PostgrestFilterBuilder:KB,PostgrestTransformBuilder:XB,PostgrestBuilder:JB,PostgrestError:QB}=IR,FR="2.11.2",UR={"X-Client-Info":`realtime-js/${FR}`},BR="1.0.0",S_=1e4,VR=1e3;var Yo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yo||(Yo={}));var Er;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Er||(Er={}));var cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cn||(cn={}));var lp;(function(e){e.websocket="websocket"})(lp||(lp={}));var Ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ti||(Ti={}));class zR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+l));c=c+l;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class N_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const uw=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((l,c)=>(l[c]=WR(c,e,t,o),l),{})},WR=(e,t,r,n)=>{const o=t.find(u=>u.name===e),l=o==null?void 0:o.type,c=r[e];return l&&!n.includes(l)?C_(l,c):cp(c)},C_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return GR(t,r)}switch(e){case st.bool:return HR(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return qR(t);case st.json:case st.jsonb:return YR(t);case st.timestamp:return KR(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return cp(t);default:return cp(t)}},cp=e=>e,HR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>C_(t,u))}return e},KR=e=>typeof e=="string"?e.replace(" ","T"):e,k_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class dm{constructor(t,r,n={},o=S_){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dw||(dw={}));class Cl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cl.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=Cl.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Cl.syncDiff(this.state,o,l,c),u())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const l=this.cloneDeep(t),c=this.transformState(r),u={},f={};return this.map(l,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const p=l[h];if(p){const x=m.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),j=m.filter(_=>y.indexOf(_.presence_ref)<0),w=p.filter(_=>x.indexOf(_.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(l,{joins:u,leaves:f},n,o)}static syncDiff(t,r,n,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(l,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const p=t[u].map(y=>y.presence_ref),x=m.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...x)}n(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[u]=h,o(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fw||(fw={}));var hw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hw||(hw={}));var Gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class dv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dm(this,cn.join,this.params,this.timeout),this.rejoinTimer=new N_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Er.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Cl(this),this.broadcastEndpointURL=k_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(m=>t==null?void 0:t(Gn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Gn.CLOSED));const f={},h={broadcast:l,presence:c,postgres_changes:(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Gn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,j=[];for(let w=0;w<y;w++){const _=x[w],{filter:{event:N,schema:C,table:k,filter:A}}=_,P=m&&m[w];if(P&&P.event===N&&P.schema===C&&P.table===k&&P.filter===A)j.push(Object.assign(Object.assign({},_),{id:P.id}));else{this.unsubscribe(),t==null||t(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Gn.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Er.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const o=new dm(this,cn.leave,{},t);o.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const o=new AbortController,l=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new dm(this,t,r,n);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,l;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=cn;if(n&&[u,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let x=this._onMessage(c,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var j,w,_;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(y=>y.callback(x,n)):(l=this.bindings[c])===null||l===void 0||l.filter(y=>{var j,w,_,N,C,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const A=y.id,P=(j=y.filter)===null||j===void 0?void 0:j.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:w,table:_,commit_timestamp:N,type:C,errors:k}=j;x=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(j))}y.callback(x,n)})}_isClosed(){return this.state===Er.closed}_isJoined(){return this.state===Er.joined}_isJoining(){return this.state===Er.joining}_isLeaving(){return this.state===Er.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),l={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&dv.isEqual(o.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cn.close,{},t)}_onError(t){this._on(cn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Er.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uw(t.columns,t.old_record)),r}}const XR=()=>{},JR=typeof WebSocket<"u",QR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=UR,this.params={},this.timeout=S_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=XR,this.conn=null,this.sendBuffer=[],this.serializer=new zR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>Zo(async()=>{const{default:f}=await Promise.resolve().then(()=>fa);return{default:f}},void 0).then(({default:f})=>f(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${t}/${lp.websocket}`,this.httpEndpoint=k_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(l,c)=>c(JSON.stringify(l)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new N_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(JR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eO(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Zo(async()=>{const{default:t}=await import("./browser-C3K5Tp8t.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yo.connecting:return Ti.Connecting;case Yo.open:return Ti.Open;case Yo.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}channel(t,r={config:{}}){const n=new dv(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:o,ref:l}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(cn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(VR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:o,payload:l,ref:c}=r;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${n} ${o} ${c&&"("+c+")"||""}`,l),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(cn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([QR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eO{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class fv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tO extends fv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class up extends fv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rO=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const P_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nO=()=>rO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zo(()=>Promise.resolve().then(()=>fa),void 0)).Response:Response}),dp=e=>{if(Array.isArray(e))return e.map(r=>dp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=dp(n)}),t};var Wi=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const fm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sO=(e,t,r)=>Wi(void 0,void 0,void 0,function*(){const n=yield nO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{t(new tO(fm(o),e.status||500))}).catch(o=>{t(new up(fm(o),o))}):t(new up(fm(e),e))}),iO=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))};function ec(e,t,r,n,o,l){return Wi(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,iO(t,n,o,l)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>sO(f,u,n))})})}function dd(e,t,r,n){return Wi(this,void 0,void 0,function*(){return ec(e,"GET",t,r,n)})}function Us(e,t,r,n,o){return Wi(this,void 0,void 0,function*(){return ec(e,"POST",t,n,o,r)})}function oO(e,t,r,n,o){return Wi(this,void 0,void 0,function*(){return ec(e,"PUT",t,n,o,r)})}function aO(e,t,r,n){return Wi(this,void 0,void 0,function*(){return ec(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function E_(e,t,r,n,o){return Wi(this,void 0,void 0,function*(){return ec(e,"DELETE",t,n,o,r)})}var vr=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const lO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cO{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=P_(o)}uploadOrUpdate(t,r,n,o){return vr(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},mw),o);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield p.json();return p.ok?{data:{path:h,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(l){if(Ut(l))return{data:null,error:l};throw l}})}upload(t,r,n){return vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return vr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:mw.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:m}),x=yield p.json();return p.ok?{data:{path:l,fullPath:x.Key},error:null}:{data:null,error:x}}catch(f){if(Ut(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return vr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const l=yield Us(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new fv("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}update(t,r,n){return vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vr(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ut(o))return{data:null,error:o};throw o}})}copy(t,r,n){return vr(this,void 0,void 0,function*(){try{return{data:{path:(yield Us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ut(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return vr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),l=yield Us(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(Ut(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return vr(this,void 0,void 0,function*(){try{const o=yield Us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(Ut(o))return{data:null,error:o};throw o}})}download(t,r){return vr(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield dd(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ut(u))return{data:null,error:u};throw u}})}info(t){return vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dp(n),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}exists(t){return vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ut(n)&&n instanceof up){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return vr(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}list(t,r,n){return vr(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},lO),r),{prefix:t||""});return{data:yield Us(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(Ut(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uO="2.7.1",dO={"X-Client-Info":`storage-js/${uO}`};var Do=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class fO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},dO),r),this.fetch=P_(n)}listBuckets(){return Do(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ut(t))return{data:null,error:t};throw t}})}getBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Do(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Do(this,void 0,void 0,function*(){try{return{data:yield oO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}}class hO extends fO{constructor(t,r={},n){super(t,r,n)}from(t){return new cO(this.url,this.headers,t,this.fetch)}}const mO="2.49.4";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const pO={"X-Client-Info":`supabase-js-${bl}/${mO}`},vO={headers:pO},gO={schema:"public"},xO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yO={};var wO=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};const bO=e=>{let t;return e?t=e:typeof fetch>"u"?t=x_:t=fetch,(...r)=>t(...r)},jO=()=>typeof Headers>"u"?y_:Headers,_O=(e,t,r)=>{const n=bO(r),o=jO();return(l,c)=>wO(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(l,Object.assign(Object.assign({},c),{headers:h}))})};var SO=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};function NO(e){return e.replace(/\/$/,"")}function CO(e,t){const{db:r,auth:n,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},h),l),accessToken:()=>SO(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const T_="2.69.1",Bo=30*1e3,fp=3,hm=fp*Bo,kO="http://localhost:9999",PO="supabase.auth.token",EO={"X-Client-Info":`gotrue-js/${T_}`},hp="X-Supabase-Api-Version",A_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AO=6e5;class hv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DO extends hv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RO(e){return Be(e)&&e.name==="AuthApiError"}class D_ extends hv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zs extends hv{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class $s extends Zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OO(e){return Be(e)&&e.name==="AuthSessionMissingError"}class mm extends Zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends Zs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $u extends Zs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $O(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class pw extends Zs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mp extends Zs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pm(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class vw extends Zs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kl extends Zs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xw=` 	
\r=`.split(""),MO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xw.length;t+=1)e[xw[t].charCodeAt(0)]=-2;for(let t=0;t<gw.length;t+=1)e[gw[t].charCodeAt(0)]=t;return e})();function R_(e,t,r){const n=MO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yw(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{FO(c,n,r)};for(let c=0;c<e.length;c+=1)R_(e.charCodeAt(c),o,l);return t.join("")}function IO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}IO(n,t)}}function FO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function UO(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)R_(e.charCodeAt(o),r,n);return new Uint8Array(t)}function BO(e){const t=[];return LO(e,r=>t.push(r)),new Uint8Array(t)}function VO(e){return Math.round(Date.now()/1e3)+e}function zO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cn=()=>typeof window<"u"&&typeof document<"u",Si={tested:!1,writable:!1},Pl=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Si.tested)return Si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Si.tested=!0,Si.writable=!0}catch{Si.tested=!0,Si.writable=!1}return Si.writable};function WO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const O_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Mu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Iu=async(e,t)=>{await e.removeItem(t)};class Dd{constructor(){this.promise=new Dd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dd.promiseConstructor=Promise;function vm(e){const t=e.split(".");if(t.length!==3)throw new kl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!TO.test(t[n]))throw new kl("JWT not in base64url format");return{header:JSON.parse(yw(t[0])),payload:JSON.parse(yw(t[1])),signature:UO(t[2]),raw:{header:t[0],payload:t[1]}}}async function qO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function YO(e,t){return new Promise((n,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){n(c);return}}catch(c){if(!t(l,c)){o(c);return}}})()})}function GO(e){return("0"+e.toString(16)).substr(-2)}function KO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,GO).join("")}async function XO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function JO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ro(e,t,r=!1){const n=KO();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await $_(e,`${t}-code-verifier`,o);const l=await JO(n);return[l,n===l?"plain":"s256"]}const QO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZO(e){const t=e.headers.get(hp);if(!t||!t.match(QO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function t4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var r4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Pi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n4=[502,503,504];async function ww(e){var t;if(!HO(e))throw new mp(Pi(e),0);if(n4.includes(e.status))throw new mp(Pi(e),e.status);let r;try{r=await e.json()}catch(l){throw new D_(Pi(l),l)}let n;const o=ZO(e);if(o&&o.getTime()>=A_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vw(Pi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new vw(Pi(r),e.status,r.weak_password.reasons);throw new DO(Pi(r),e.status||500,n)}const s4=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Ge(e,t,r,n){var o;const l=Object.assign({},n==null?void 0:n.headers);l[hp]||(l[hp]=A_["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await i4(e,t,r+u,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function i4(e,t,r,n,o,l){const c=s4(t,n,o,l);let u;try{u=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new mp(Pi(f),0)}if(u.ok||await ww(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await ww(f)}}function Ms(e){var t;let r=null;c4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bw(e){const t=Ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o4(e){return{data:e,error:null}}function a4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l}=e,c=r4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function l4(e){return e}function c4(e){return e.access_token&&e.refresh_token&&e.expires_in}var u4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class d4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=O_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=u4(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:a4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,l,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:l4});if(m.error)throw m.error;const p=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Bs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}const f4={getItem:e=>Pl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pl()&&globalThis.localStorage.removeItem(e)}};function jw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function h4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oo={debug:!!(globalThis&&Pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class m4 extends M_{}async function p4(e,t,r){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}h4();const v4={url:kO,storageKey:PO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _w(e,t,r){return await r()}class Il{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Il.nextInstanceID,Il.nextInstanceID+=1,this.instanceID>0&&Cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},v4),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new d4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=O_(o.fetch),this.lock=o.lock||_w,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=p4:this.lock=_w,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Pl()?this.storage=f4:(this.memoryStorage={},this.storage=jw(this.memoryStorage)):(this.memoryStorage={},this.storage=jw(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=WO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Cn()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),$O(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new D_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const l=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ms}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var r,n,o;try{let l;if("email"in t){const{email:m,password:p,options:x}=t;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await Ro(this.storage,this.storageKey)),l=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:j},xform:Ms})}else if("phone"in t){const{phone:m,password:p,options:x}=t;l=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Ms})}else throw new Ou("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:u}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bw})}else if("phone"in t){const{phone:l,password:c,options:u}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bw})}else throw new Ou("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Mu(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:l,error:c}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ms});if(await Iu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new mm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Be(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:l,nonce:c}=t,u=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ms}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new mm}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,l,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Ro(this.storage,this.storageKey));const{error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Ou("You must provide either an email or phone number.")}catch(u){if(Be(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let o,l;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Ms});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Ro(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:o4})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $s;const{error:o}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:l}=t,{error:c}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:o,options:l}=t,{data:c,error:u}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ou("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Mu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:t},error:null}}const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bs}):await this._useSession(async r=>{var n,o,l;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Bs})})}catch(r){if(Be(r))return OO(r)&&(await this._removeSession(),await Iu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:l}=n;if(l)throw l;if(!o.session)throw new $s;const c=o.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Ro(this.storage,this.storageKey));const{data:h,error:m}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:Bs});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const r=Date.now()/1e3;let n=r,o=!0,l=null;const{payload:c}=vm(t.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{session:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $s;const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Cn())throw new $u("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $u(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $u("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pw("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!l||!u||!c||!h)throw new $u("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let x=m+p;f&&(x=parseInt(f));const y=x-m;y*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const j=x-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,m);const{data:w,error:_}=await this._getUser(l);if(_)throw _;const N={provider_token:n,provider_refresh_token:o,access_token:l,expires_in:p,expires_at:x,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Mu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{error:l};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(RO(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Iu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=zO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Ro(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async l=>{var c,u,f,h,m;const{data:p,error:x}=l;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Be(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)throw c;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await YO(async o=>(o>0&&await qO(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ms})),(o,l)=>{const c=200*Math.pow(2,o);return l&&pm(l)&&Date.now()+c-n<Bo})}catch(n){if(this._debug(r,"error",n),Be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Mu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${hm}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),pm(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Dd;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new $s;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(o,"error",l),Be(l)){const c={session:null,error:l};return pm(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Iu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Bo}ms, refresh threshold is ${fp} ticks`),o<=fp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof M_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ro(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);o.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:l}=t;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=vm(o.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n||(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+AO>Date.now()))return n;const{data:o,error:l}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new kl("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),n=o.keys.find(c=>c.kid===t),!n)throw new kl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:j}=await this.getSession();if(j||!y.session)return{data:null,error:j};n=y.session.access_token}const{header:o,payload:l,signature:c,raw:{header:u,payload:f}}=vm(n);if(e4(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:l,header:o,signature:c},error:null}}const h=t4(o.alg),m=await this.fetchJwk(o.kid,r),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,c,BO(`${u}.${f}`)))throw new kl("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}Il.nextInstanceID=0;const g4=Il;class x4 extends g4{constructor(t){super(t)}}var y4=function(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function f(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})};class w4{constructor(t,r,n){var o,l,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=NO(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:gO,realtime:yO,auth:Object.assign(Object.assign({},xO),{storageKey:f}),global:vO},m=CO(n??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=_O(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new LR(`${u}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new CR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return y4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:l,flowType:c,lock:u,debug:f},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x4({url:this.authUrl,headers:Object.assign(Object.assign({},p),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:c,lock:u,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ZR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const b4=(e,t,r)=>new w4(e,t,r),j4="https://bcbxcnxutotjzmdjeyde.supabase.co",_4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY",ce=b4(j4,_4),I_=g.createContext(),mv=()=>{const e=g.useContext(I_);if(!e)throw new Error("useOrders must be used within an OrderProvider");return e},S4=({children:e})=>{const[t,r]=g.useState([]),n=async u=>{try{const{data:f,error:h}=await ce.from("orders").insert({user_id:u.user_id||null,customer_name:u.customer_name,customer_email:u.customer_email,customer_phone:u.customer_phone,customer_address:u.customer_address,customer_postcode:u.customer_postcode,delivery_notes:u.delivery_notes,total:u.total,status:"processing",delivery_type:u.delivery_type,scheduled_delivery_time:u.scheduled_delivery_time,delivery_fee:u.delivery_fee,items:u.items,payment_data:u.payment_data,fees_data:u.fees_data||null}).select().single();if(h)throw h;return re({title:"Order Created",description:"Your order has been successfully placed."}),f}catch(f){throw console.error("Error creating order:",f),re({variant:"destructive",title:"Error",description:"Failed to create order. Please try again."}),f}},o=async(u,f)=>{try{const{error:h}=await ce.from("orders").update({status:f}).eq("id",u);if(h)throw h;re({title:"Order Updated",description:`Order status changed to ${f}.`})}catch(h){console.error("Error updating order status:",h),re({variant:"destructive",title:"Error",description:"Failed to update order status."})}},l=async u=>{try{const{data:f,error:h}=await ce.from("orders").select("*").eq("id",u).single();if(h)throw h;return f}catch(f){return console.error("Error fetching order:",f),null}},c=async u=>{try{let f=ce.from("orders").select("*");u&&(f=f.eq("status",u));const{data:h,error:m}=await f;if(m)throw m;return h}catch(f){return console.error("Error fetching orders:",f),[]}};return s.jsx(I_.Provider,{value:{orders:t,addOrder:n,updateOrderStatus:o,getOrderById:l,getOrdersByStatus:c},children:e})};function Ar(e,t,r=30){const n=Date.now()+r*60*1e3,o={data:t,expires:n};localStorage.setItem(e,JSON.stringify(o))}function qr(e){const t=localStorage.getItem(e);if(!t)return null;try{const r=JSON.parse(t);return r.expires&&r.expires>Date.now()?r.data:(localStorage.removeItem(e),null)}catch{return localStorage.removeItem(e),null}}function N4(e){localStorage.removeItem(e)}const L_=g.createContext(),sr=()=>{const e=g.useContext(L_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},C4=({children:e})=>{const[t,r]=g.useState(null),[n,o]=g.useState(null),[l,c]=g.useState(!1),[u,f]=g.useState(!0),h=g.useCallback(async C=>{if(!C)return o(null),c(!1),null;try{const{data:k,error:A,status:P}=await ce.from("profiles").select("name,email, phone, address, is_admin, addresses, ai_chat").eq("id",C).single();if(A&&P!==406)throw console.error("Error fetching user profile (status not 406):",A.message),A;if(A&&P===406)return console.warn("Profile not found or no permission (406), this might be expected for new users before profile creation or RLS issues."),o(null),c(!1),null;if(k){const E=k.phone;return k.phone=E.startsWith("61")?`0${E.replace(/^61/,"")}`:E,o(k),c(k.is_admin===!0),Ar("user_profile",k,1440),k}else return o(null),c(!1),null}catch(k){return console.error("Error fetching user profile (catch block):",k.message),k.message!=="JSON object requested, multiple (or no) rows returned"&&re({variant:"destructive",title:"Profile Error",description:"Could not load user profile. "+k.message}),o(null),c(!1),null}},[]),[m,p]=g.useState(()=>{const C=localStorage.getItem("userLocation");return C?JSON.parse(C):null});g.useEffect(()=>{let C=!0;const k=qr("user_profile");k&&(o(k),c(k.is_admin===!0));const A=async R=>{if(C){if(R!=null&&R.user){r(R.user);const D=await h(R.user.id);c((D==null?void 0:D.is_admin)===!0)}else r(null),o(null),c(!1);f(!1)}},{data:{subscription:P}}=ce.auth.onAuthStateChange((R,D)=>{A(D)});return(async()=>{const{data:{session:R},error:D}=await ce.auth.getSession();C&&(D?(console.error("Error fetching initial session:",D),re({variant:"destructive",title:"Auth Error",description:"Could not fetch initial session."}),r(null),o(null),c(!1),f(!1)):A(R))})(),()=>{C=!1,P==null||P.unsubscribe()}},[h]);const x=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(C=>{const k={lat:C.coords.latitude,lng:C.coords.longitude};p(k),localStorage.setItem("userLocation",JSON.stringify(k))},C=>{})};g.useEffect(()=>{m||x()},[m]);const y=async(C,k)=>{f(!0);const{data:A,error:P}=await ce.auth.signInWithPassword({email:C,password:k});if(P)return console.error("Login error:",P),re({variant:"destructive",title:"Login Failed",description:P.message}),f(!1),{success:!1,isAdminUser:!1,error:P.message};const E=await h(A.user.id);return{success:!0,isAdminUser:(E==null?void 0:E.is_admin)===!0}},j=async(C,k,A,P)=>{f(!0);const{data:E,error:R}=await ce.auth.signUp({email:C,password:k,options:{data:{name:A}}});if(R)return console.error("Registration error:",R),re({variant:"destructive",title:"Registration Failed",description:R.message}),f(!1),!1;if(E.user&&P){await new Promise($=>setTimeout($,1e3));const{error:D}=await ce.from("profiles").update({phone:P,updated_at:new Date}).eq("id",E.user.id);D&&(console.error("Error updating phone during registration:",D),re({variant:"destructive",title:"Profile Update Issue",description:"Could not save phone number: "+D.message}))}return re({title:"Registration Successful",description:"Please check your email to confirm your account."}),!0},w=async()=>{f(!0);const{error:C}=await ce.auth.signOut();N4("user_profile"),C?(console.error("Logout error:",C),re({variant:"destructive",title:"Logout Failed",description:C.message}),f(!1)):re({title:"Logged Out",description:"You have been successfully logged out."})},_=async(C,k=!0)=>{if(!t)return;f(!0);const{data:A,error:P}=await ce.from("profiles").update({name:C.name,email:C.email,address:C.address,addresses:C.addresses,ai_chat:C.ai_chat,updated_at:new Date}).eq("id",t.id).select().single();P?(console.error("Profile update error:",P),re({variant:"destructive",title:"Update Failed",description:P.message})):A&&(o(A),c(A.is_admin===!0),Ar("user_profile",A,1440),k&&re({title:"Profile Updated",description:"Your information has been updated."})),f(!1)},N=t&&n?{...t,...n}:t;return s.jsx(L_.Provider,{value:{user:N,session:ce.auth.getSession(),isAdmin:l,loading:u,login:y,register:j,logout:w,updateUserInfo:_,userLocation:m,getUserLocation:x},children:e})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Sw=e=>{const t=P4(e);return t.charAt(0).toUpperCase()+t.slice(1)},F_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),E4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...u},f)=>g.createElement("svg",{ref:f,...T4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:F_("lucide",o),...!l&&!E4(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>g.createElement(h,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const r=g.forwardRef(({className:n,...o},l)=>g.createElement(A4,{ref:l,iconNode:t,className:F_(`lucide-${k4(Sw(e))}`,`lucide-${e}`,n),...o}));return r.displayName=Sw(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ta=Re("arrow-left",D4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pp=Re("arrow-right",R4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],$4=Re("arrow-up-down",O4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],I4=Re("bot",M4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tn=Re("calendar",L4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],U4=Re("camera",F4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U_=Re("check",B4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],B_=Re("chevron-down",V4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],W4=Re("chevron-left",z4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],q4=Re("chevron-right",H4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],G4=Re("chevron-up",Y4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ll=Re("circle-check-big",K4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tc=Re("circle-plus",X4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q4=Re("circle-x",J4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e$=Re("circle",Z4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],An=Re("clock",t$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],V_=Re("cloud-upload",r$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ha=Re("credit-card",n$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z_=Re("eye",s$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],o$=Re("facebook",i$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ei=Re("funnel",a$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Rd=Re("image",l$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],u$=Re("info",c$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],f$=Re("instagram",d$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],m$=Re("list",h$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]],v$=Re("locate",p$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W_=Re("log-out",g$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],H_=Re("mail",x$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],w$=Re("map-pin-check-inside",y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fl=Re("map-pin",b$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rc=Re("message-circle",j$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],S$=Re("message-square",_$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M5 12h14",key:"1ays0h"}]],nc=Re("minus",N$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fn=Re("package",C$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],P$=Re("pen",k$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Od=Re("phone",E$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ma=Re("plus",T$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pv=Re("search",A$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pa=Re("send",D$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O$=Re("settings",R$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],M$=Re("shield-alert",$$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],q_=Re("shopping-bag",I$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mi=Re("shopping-cart",L$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sc=Re("square-pen",F$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Hi=Re("store",U$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],vv=Re("tag",B$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qi=Re("trash-2",V$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],$d=Re("truck",z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],H$=Re("upload",W$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Nw=Re("user-round",q$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vp=Re("user",Y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gv=Re("users",G$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ti=Re("x",K$);function Y_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Y_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function G_(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Y_(e))&&(n&&(n+=" "),n+=t);return n}function X$(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=K_(t))&&(n&&(n+=" "),n+=r);return n}function K_(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=K_(e[n]))&&(r&&(r+=" "),r+=t);return r}var xv="-";function J$(e){var t=Z$(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=n===void 0?{}:n;function l(u){var f=u.split(xv);return f[0]===""&&f.length!==1&&f.shift(),X_(f,t)||Q$(u)}function c(u,f){var h=r[u]||[];return f&&o[u]?[].concat(h,o[u]):h}return{getClassGroupId:l,getConflictingClassGroupIds:c}}function X_(e,t){var c;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?X_(e.slice(1),n):void 0;if(o)return o;if(t.validators.length!==0){var l=e.join(xv);return(c=t.validators.find(function(u){var f=u.validator;return f(l)}))==null?void 0:c.classGroupId}}var Cw=/^\[(.+)\]$/;function Q$(e){if(Cw.test(e)){var t=Cw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function Z$(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=tM(Object.entries(e.classGroups),r);return o.forEach(function(l){var c=l[0],u=l[1];gp(u,n,c,t)}),n}function gp(e,t,r,n){e.forEach(function(o){if(typeof o=="string"){var l=o===""?t:kw(t,o);l.classGroupId=r;return}if(typeof o=="function"){if(eM(o)){gp(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(c){var u=c[0],f=c[1];gp(f,kw(t,u),r,n)})})}function kw(e,t){var r=e;return t.split(xv).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function eM(e){return e.isThemeGetter}function tM(e,t){return t?e.map(function(r){var n=r[0],o=r[1],l=o.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(u){var f=u[0],h=u[1];return[t+f,h]})):c});return[n,l]}):e}function rM(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(l,c){r.set(l,c),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(c){var u=r.get(c);if(u!==void 0)return u;if((u=n.get(c))!==void 0)return o(c,u),u},set:function(c,u){r.has(c)?r.set(c,u):o(c,u)}}}var J_="!";function nM(e){var t=e.separator||":",r=t.length===1,n=t[0],o=t.length;return function(c){for(var u=[],f=0,h=0,m,p=0;p<c.length;p++){var x=c[p];if(f===0){if(x===n&&(r||c.slice(p,p+o)===t)){u.push(c.slice(h,p)),h=p+o;continue}if(x==="/"){m=p;continue}}x==="["?f++:x==="]"&&f--}var y=u.length===0?c:c.substring(h),j=y.startsWith(J_),w=j?y.substring(1):y,_=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:_}}}function sM(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var o=n[0]==="[";o?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function iM(e){return{cache:rM(e.cacheSize),splitModifiers:nM(e),...J$(e)}}var oM=/\s+/;function aM(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,l=new Set;return e.trim().split(oM).map(function(c){var u=r(c),f=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,p=u.maybePostfixModifierPosition,x=n(p?m.substring(0,p):m),y=!!p;if(!x){if(!p)return{isTailwindClass:!1,originalClassName:c};if(x=n(m),!x)return{isTailwindClass:!1,originalClassName:c};y=!1}var j=sM(f).join(":"),w=h?j+J_:j;return{isTailwindClass:!0,modifierId:w,classGroupId:x,originalClassName:c,hasPostfixModifier:y}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var u=c.modifierId,f=c.classGroupId,h=c.hasPostfixModifier,m=u+f;return l.has(m)?!1:(l.add(m),o(f,h).forEach(function(p){return l.add(u+p)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function lM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,l,c=u;function u(h){var m=t[0],p=t.slice(1),x=p.reduce(function(y,j){return j(y)},m());return n=iM(x),o=n.cache.get,l=n.cache.set,c=f,f(h)}function f(h){var m=o(h);if(m)return m;var p=aM(h,n);return l(h,p),p}return function(){return c(X$.apply(null,arguments))}}function ct(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var Q_=/^\[(?:([a-z-]+):)?(.+)\]$/i,cM=/^\d+\/\d+$/,uM=new Set(["px","full","screen"]),dM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ln(e){return Di(e)||uM.has(e)||cM.test(e)||xp(e)}function xp(e){return Yi(e,"length",yM)}function mM(e){return Yi(e,"size",Z_)}function pM(e){return Yi(e,"position",Z_)}function vM(e){return Yi(e,"url",wM)}function Lu(e){return Yi(e,"number",Di)}function Di(e){return!Number.isNaN(Number(e))}function gM(e){return e.endsWith("%")&&Di(e.slice(0,-1))}function ml(e){return Pw(e)||Yi(e,"number",Pw)}function Ye(e){return Q_.test(e)}function pl(){return!0}function Ds(e){return dM.test(e)}function xM(e){return Yi(e,"",bM)}function Yi(e,t,r){var n=Q_.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function yM(e){return fM.test(e)}function Z_(){return!1}function wM(e){return e.startsWith("url(")}function Pw(e){return Number.isInteger(Number(e))}function bM(e){return hM.test(e)}function jM(){var e=ct("colors"),t=ct("spacing"),r=ct("blur"),n=ct("brightness"),o=ct("borderColor"),l=ct("borderRadius"),c=ct("borderSpacing"),u=ct("borderWidth"),f=ct("contrast"),h=ct("grayscale"),m=ct("hueRotate"),p=ct("invert"),x=ct("gap"),y=ct("gradientColorStops"),j=ct("gradientColorStopPositions"),w=ct("inset"),_=ct("margin"),N=ct("opacity"),C=ct("padding"),k=ct("saturate"),A=ct("scale"),P=ct("sepia"),E=ct("skew"),R=ct("space"),D=ct("translate"),$=function(){return["auto","contain","none"]},W=function(){return["auto","hidden","clip","visible","scroll"]},X=function(){return["auto",Ye,t]},Q=function(){return[Ye,t]},z=function(){return["",ln]},O=function(){return["auto",Di,Ye]},U=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},H=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},I=function(){return["start","end","center","between","around","evenly","stretch"]},q=function(){return["","0",Ye]},Y=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},M=function(){return[Di,Lu]},J=function(){return[Di,Ye]};return{cacheSize:500,theme:{colors:[pl],spacing:[ln],blur:["none","",Ds,Ye],brightness:M(),borderColor:[e],borderRadius:["none","","full",Ds,Ye],borderSpacing:Q(),borderWidth:z(),contrast:M(),grayscale:q(),hueRotate:J(),invert:q(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[gM,xp],inset:X(),margin:X(),opacity:M(),padding:Q(),saturate:M(),scale:M(),sepia:q(),skew:J(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(U(),[Ye])}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ml]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",ml]}],"grid-cols":[{"grid-cols":[pl]}],"col-start-end":[{col:["auto",{span:["full",ml]},Ye]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[pl]}],"row-start-end":[{row:["auto",{span:[ml]},Ye]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal"].concat(I())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(I(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(I(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ye,t]}],"min-w":[{"min-w":["min","max","fit",Ye,ln]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ds]},Ds,Ye]}],h:[{h:[Ye,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ye,ln]}],"max-h":[{"max-h":[Ye,t,"min","max","fit"]}],"font-size":[{text:["base",Ds,xp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lu]}],"font-family":[{font:[pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Di,Lu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ye,ln]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(H(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ln]}],"underline-offset":[{"underline-offset":["auto",Ye,ln]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(U(),[pM])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[].concat(H(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:H()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(H())}],"outline-offset":[{"outline-offset":[Ye,ln]}],"outline-w":[{outline:[ln]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[ln]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ds,xM]}],"shadow-color":[{shadow:[pl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ds,Ye]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[ml,Ye]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,Lu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var _M=lM(jM);function Pe(...e){return _M(G_(e))}function Se(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD",minimumFractionDigits:2}).format(e)}function Ew(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function e1(...e){return t=>{let r=!1;const n=e.map(o=>{const l=Ew(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Ew(e[o],null)}}}}function jt(...e){return g.useCallback(e1(...e),e)}function ra(e){const t=NM(e),r=g.forwardRef((n,o)=>{const{children:l,...c}=n,u=g.Children.toArray(l),f=u.find(kM);if(f){const h=f.props.children,m=u.map(p=>p===f?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...c,ref:o,children:g.isValidElement(h)?g.cloneElement(h,void 0,m):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}var SM=ra("Slot");function NM(e){const t=g.forwardRef((r,n)=>{const{children:o,...l}=r;if(g.isValidElement(o)){const c=EM(o),u=PM(l,o.props);return o.type!==g.Fragment&&(u.ref=n?e1(n,c):c),g.cloneElement(o,u)}return g.Children.count(o)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CM=Symbol("radix.slottable");function kM(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CM}function PM(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...u)=>{l(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function EM(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Tw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Aw=G_,Md=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Aw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(h=>{const m=r==null?void 0:r[h],p=l==null?void 0:l[h];if(m===null)return null;const x=Tw(m)||Tw(p);return o[h][x]}),u=r&&Object.entries(r).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:p,className:x,...y}=m;return Object.entries(y).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...l,...u}[w]):{...l,...u}[w]===_})?[...h,p,x]:h},[]);return Aw(e,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},yp=Md("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=he.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},l)=>{const c=n?SM:"button";return s.jsx(c,{className:Pe(yp({variant:t,size:r,className:e})),ref:l,...o})});ee.displayName="Button";const TM=Md("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rt({className:e,variant:t,...r}){return s.jsx("div",{className:Pe(TM({variant:t}),e),...r})}function qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function AM(e,t){const r=g.createContext(t),n=l=>{const{children:c,...u}=l,f=g.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function o(l){const c=g.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,o]}function $n(e,t=[]){let r=[];function n(l,c){const u=g.createContext(c),f=r.length;r=[...r,c];const h=p=>{var N;const{scope:x,children:y,...j}=p,w=((N=x==null?void 0:x[e])==null?void 0:N[f])||u,_=g.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:_,children:y})};h.displayName=l+"Provider";function m(p,x){var w;const y=((w=x==null?void 0:x[e])==null?void 0:w[f])||u,j=g.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[h,m]}const o=()=>{const l=r.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,DM(o,...t)]}function DM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var rs=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},RM=bd[" useId ".trim().toString()]||(()=>{}),OM=0;function Go(e){const[t,r]=g.useState(RM());return rs(()=>{r(n=>n??String(OM++))},[e]),t?`radix-${t}`:""}var $M=bd[" useInsertionEffect ".trim().toString()]||rs;function Gi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,l,c]=MM({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:o;{const m=g.useRef(e!==void 0);g.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=g.useCallback(m=>{var p;if(u){const x=IM(m)?m(e):m;x!==e&&((p=c.current)==null||p.call(c,x))}else l(m)},[u,e,l,c]);return[f,h]}function MM({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),o=g.useRef(r),l=g.useRef(t);return $M(()=>{l.current=t},[t]),g.useEffect(()=>{var c;o.current!==r&&((c=l.current)==null||c.call(l,r),o.current=r)},[r,o]),[r,n,l]}function IM(e){return typeof e=="function"}var LM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=LM.reduce((e,t)=>{const r=ra(`Primitive.${t}`),n=g.forwardRef((o,l)=>{const{asChild:c,...u}=o,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...u,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function t1(e,t){e&&Ui.flushSync(()=>e.dispatchEvent(t))}function hn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function FM(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e);g.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var UM="DismissableLayer",wp="dismissableLayer.update",BM="dismissableLayer.pointerDownOutside",VM="dismissableLayer.focusOutside",Dw,r1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Id=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=e,h=g.useContext(r1),[m,p]=g.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),j=jt(t,R=>p(R)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(_),C=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,A=C>=N,P=WM(R=>{const D=R.target,$=[...h.branches].some(W=>W.contains(D));!A||$||(o==null||o(R),c==null||c(R),R.defaultPrevented||u==null||u())},x),E=HM(R=>{const D=R.target;[...h.branches].some(W=>W.contains(D))||(l==null||l(R),c==null||c(R),R.defaultPrevented||u==null||u())},x);return FM(R=>{C===h.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},x),g.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Dw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Rw(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Dw)}},[m,x,r,h]),g.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Rw())},[m,h]),g.useEffect(()=>{const R=()=>y({});return document.addEventListener(wp,R),()=>document.removeEventListener(wp,R)},[]),s.jsx(Ke.div,{...f,ref:j,style:{pointerEvents:k?A?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,E.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,P.onPointerDownCapture)})});Id.displayName=UM;var zM="DismissableLayerBranch",n1=g.forwardRef((e,t)=>{const r=g.useContext(r1),n=g.useRef(null),o=jt(t,n);return g.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),s.jsx(Ke.div,{...e,ref:o})});n1.displayName=zM;function WM(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e),n=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let f=function(){s1(BM,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function HM(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e),n=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!n.current&&s1(VM,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Rw(){const e=new CustomEvent(wp);document.dispatchEvent(e)}function s1(e,t,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?t1(o,l):o.dispatchEvent(l)}var qM=Id,YM=n1,gm="focusScope.autoFocusOnMount",xm="focusScope.autoFocusOnUnmount",Ow={bubbles:!1,cancelable:!0},GM="FocusScope",yv=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),h=hn(o),m=hn(l),p=g.useRef(null),x=jt(t,w=>f(w)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let w=function(k){if(y.paused||!u)return;const A=k.target;u.contains(A)?p.current=A:Is(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const A=k.relatedTarget;A!==null&&(u.contains(A)||Is(p.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&Is(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[n,u,y.paused]),g.useEffect(()=>{if(u){Mw.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(gm,Ow);u.addEventListener(gm,h),u.dispatchEvent(N),N.defaultPrevented||(KM(eI(i1(u)),{select:!0}),document.activeElement===w&&Is(u))}return()=>{u.removeEventListener(gm,h),setTimeout(()=>{const N=new CustomEvent(xm,Ow);u.addEventListener(xm,m),u.dispatchEvent(N),N.defaultPrevented||Is(w??document.body,{select:!0}),u.removeEventListener(xm,m),Mw.remove(y)},0)}}},[u,h,m,y]);const j=g.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,A]=XM(C);k&&A?!w.shiftKey&&N===A?(w.preventDefault(),r&&Is(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),r&&Is(A,{select:!0})):N===C&&w.preventDefault()}},[r,n,y.paused]);return s.jsx(Ke.div,{tabIndex:-1,...c,ref:x,onKeyDown:j})});yv.displayName=GM;function KM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Is(n,{select:t}),document.activeElement!==r)return}function XM(e){const t=i1(e),r=$w(t,e),n=$w(t.reverse(),e);return[r,n]}function i1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $w(e,t){for(const r of e)if(!JM(r,{upTo:t}))return r}function JM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QM(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&QM(e)&&t&&e.select()}}var Mw=ZM();function ZM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Iw(e,t),e.unshift(t)},remove(t){var r;e=Iw(e,t),(r=e[0])==null||r.resume()}}}function Iw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function eI(e){return e.filter(t=>t.tagName!=="A")}var tI="Portal",Ld=g.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[o,l]=g.useState(!1);rs(()=>l(!0),[]);const c=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Mb.createPortal(s.jsx(Ke.div,{...n,ref:t}),c):null});Ld.displayName=tI;function rI(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Mn=e=>{const{present:t,children:r}=e,n=nI(t),o=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),l=jt(n.ref,sI(o));return typeof r=="function"||n.isPresent?g.cloneElement(o,{ref:l}):null};Mn.displayName="Presence";function nI(e){const[t,r]=g.useState(),n=g.useRef(null),o=g.useRef(e),l=g.useRef("none"),c=e?"mounted":"unmounted",[u,f]=rI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const h=Fu(n.current);l.current=u==="mounted"?h:"none"},[u]),rs(()=>{const h=n.current,m=o.current;if(m!==e){const x=l.current,y=Fu(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),rs(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=y=>{const w=Fu(n.current).includes(y.animationName);if(y.target===t&&w&&(f("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=y=>{y.target===t&&(l.current=Fu(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:g.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Fu(e){return(e==null?void 0:e.animationName)||"none"}function sI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ym=0;function o1(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lw()),document.body.insertAdjacentElement("beforeend",e[1]??Lw()),ym++,()=>{ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ym--}},[])}function Lw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rr=function(){return rr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},rr.apply(this,arguments)};function wv(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function a1(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,l;n<o;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var El="right-scroll-bar-position",Tl="width-before-scroll-bar",iI="with-scroll-bars-hidden",oI="--removed-body-scroll-bar-size";function wm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aI(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var lI=typeof window<"u"?g.useLayoutEffect:g.useEffect,Fw=new WeakMap;function l1(e,t){var r=aI(null,function(n){return e.forEach(function(o){return wm(o,n)})});return lI(function(){var n=Fw.get(r);if(n){var o=new Set(n),l=new Set(e),c=r.current;o.forEach(function(u){l.has(u)||wm(u,null)}),l.forEach(function(u){o.has(u)||wm(u,c)})}Fw.set(r,e)},[e]),r}function cI(e){return e}function uI(e,t){t===void 0&&(t=cI);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var f=function(){var m=c;c=[],m.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return o}function c1(e){e===void 0&&(e={});var t=uI(null);return t.options=rr({async:!0,ssr:!1},e),t}var u1=function(e){var t=e.sideCar,r=wv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,rr({},r))};u1.isSideCarExport=!0;function d1(e,t){return e.useMedium(t),u1}var f1=c1(),bm=function(){},Fd=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:bm,onWheelCapture:bm,onTouchMoveCapture:bm}),o=n[0],l=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=e.gapMode,k=wv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=x,P=l1([r,t]),E=rr(rr({},k),o);return g.createElement(g.Fragment,null,m&&g.createElement(A,{sideCar:f1,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:C}),c?g.cloneElement(g.Children.only(u),rr(rr({},E),{ref:P})):g.createElement(N,rr({},E,{className:f,ref:P}),u))});Fd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fd.classNames={fullWidth:Tl,zeroRight:El};var dI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dI();return t&&e.setAttribute("nonce",t),e}function hI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=fI())&&(hI(t,r),mI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vI=function(){var e=pI();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},bv=function(){var e=vI(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},gI={left:0,top:0,right:0,gap:0},jm=function(e){return parseInt(e||"",10)||0},xI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[jm(r),jm(n),jm(o)]},yI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gI;var t=xI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wI=bv(),Ko="data-scroll-locked",bI=function(e,t,r,n){var o=e.left,l=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(El,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Tl,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(El," .").concat(El,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ko,`] {
    `).concat(oI,": ").concat(u,`px;
  }
`)},Uw=function(){var e=parseInt(document.body.getAttribute(Ko)||"0",10);return isFinite(e)?e:0},jI=function(){g.useEffect(function(){return document.body.setAttribute(Ko,(Uw()+1).toString()),function(){var e=Uw()-1;e<=0?document.body.removeAttribute(Ko):document.body.setAttribute(Ko,e.toString())}},[])},h1=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;jI();var l=g.useMemo(function(){return yI(o)},[o]);return g.createElement(wI,{styles:bI(l,!t,o,r?"":"!important")})},bp=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return bp=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{bp=!1}var $o=bp?{passive:!1}:!1,_I=function(e){return e.tagName==="TEXTAREA"},m1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_I(e)&&r[t]==="visible")},SI=function(e){return m1(e,"overflowY")},NI=function(e){return m1(e,"overflowX")},Bw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=p1(e,n);if(o){var l=v1(e,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},kI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},p1=function(e,t){return e==="v"?SI(t):NI(t)},v1=function(e,t){return e==="v"?CI(t):kI(t)},PI=function(e,t){return e==="h"&&t==="rtl"?-1:1},EI=function(e,t,r,n,o){var l=PI(e,window.getComputedStyle(t).direction),c=l*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=v1(e,u),j=y[0],w=y[1],_=y[2],N=w-_-l*j;(j||N)&&p1(e,u)&&(p+=N,x+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(h=!0),h},Bu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vw=function(e){return[e.deltaX,e.deltaY]},zw=function(e){return e&&"current"in e?e.current:e},TI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DI=0,Mo=[];function RI(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),o=g.useState(DI++)[0],l=g.useState(bv)[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=a1([e.lockRef.current],(e.shards||[]).map(zw),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var N=Bu(w),C=r.current,k="deltaX"in w?w.deltaX:C[0]-N[0],A="deltaY"in w?w.deltaY:C[1]-N[1],P,E=w.target,R=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in w&&R==="h"&&E.type==="range")return!1;var D=Bw(R,E);if(!D)return!0;if(D?P=R:(P=R==="v"?"h":"v",D=Bw(R,E)),!D)return!1;if(!n.current&&"changedTouches"in w&&(k||A)&&(n.current=P),!P)return!0;var $=n.current||P;return EI($,_,w,$==="h"?k:A)},[]),f=g.useCallback(function(w){var _=w;if(!(!Mo.length||Mo[Mo.length-1]!==l)){var N="deltaY"in _?Vw(_):Bu(_),C=t.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&TI(P.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(zw).filter(Boolean).filter(function(P){return P.contains(_.target)}),A=k.length>0?u(_,k[0]):!c.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),h=g.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C,shadowParent:OI(N)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(A){return A!==k})},1)},[]),m=g.useCallback(function(w){r.current=Bu(w),n.current=void 0},[]),p=g.useCallback(function(w){h(w.type,Vw(w),w.target,u(w,e.lockRef.current))},[]),x=g.useCallback(function(w){h(w.type,Bu(w),w.target,u(w,e.lockRef.current))},[]);g.useEffect(function(){return Mo.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,$o),document.addEventListener("touchmove",f,$o),document.addEventListener("touchstart",m,$o),function(){Mo=Mo.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,$o),document.removeEventListener("touchmove",f,$o),document.removeEventListener("touchstart",m,$o)}},[]);var y=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(l,{styles:AI(o)}):null,y?g.createElement(h1,{gapMode:e.gapMode}):null)}function OI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $I=d1(f1,RI);var jv=g.forwardRef(function(e,t){return g.createElement(Fd,rr({},e,{ref:t,sideCar:$I}))});jv.classNames=Fd.classNames;var MI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Io=new WeakMap,Vu=new WeakMap,zu={},_m=0,g1=function(e){return e&&(e.host||g1(e.parentNode))},II=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=g1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},LI=function(e,t,r,n){var o=II(t,Array.isArray(e)?e:[e]);zu[r]||(zu[r]=new WeakMap);var l=zu[r],c=[],u=new Set,f=new Set(o),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};o.forEach(h);var m=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(x){if(u.has(x))m(x);else try{var y=x.getAttribute(n),j=y!==null&&y!=="false",w=(Io.get(x)||0)+1,_=(l.get(x)||0)+1;Io.set(x,w),l.set(x,_),c.push(x),w===1&&j&&Vu.set(x,!0),_===1&&x.setAttribute(r,"true"),j||x.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return m(t),u.clear(),_m++,function(){c.forEach(function(p){var x=Io.get(p)-1,y=l.get(p)-1;Io.set(p,x),l.set(p,y),x||(Vu.has(p)||p.removeAttribute(n),Vu.delete(p)),y||p.removeAttribute(r)}),_m--,_m||(Io=new WeakMap,Io=new WeakMap,Vu=new WeakMap,zu={})}},_v=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=MI(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),LI(n,o,r,"aria-hidden")):function(){return null}},Ud="Dialog",[x1,ZB]=$n(Ud),[FI,yn]=x1(Ud),y1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=g.useRef(null),f=g.useRef(null),[h,m]=Gi({prop:n,defaultProp:o??!1,onChange:l,caller:Ud});return s.jsx(FI,{scope:t,triggerRef:u,contentRef:f,contentId:Go(),titleId:Go(),descriptionId:Go(),open:h,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),modal:c,children:r})};y1.displayName=Ud;var w1="DialogTrigger",b1=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(w1,r),l=jt(t,o.triggerRef);return s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Cv(o.open),...n,ref:l,onClick:qe(e.onClick,o.onOpenToggle)})});b1.displayName=w1;var Sv="DialogPortal",[UI,j1]=x1(Sv,{forceMount:void 0}),_1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,l=yn(Sv,t);return s.jsx(UI,{scope:t,forceMount:r,children:g.Children.map(n,c=>s.jsx(Mn,{present:r||l.open,children:s.jsx(Ld,{asChild:!0,container:o,children:c})}))})};_1.displayName=Sv;var fd="DialogOverlay",S1=g.forwardRef((e,t)=>{const r=j1(fd,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=yn(fd,e.__scopeDialog);return l.modal?s.jsx(Mn,{present:n||l.open,children:s.jsx(VI,{...o,ref:t})}):null});S1.displayName=fd;var BI=ra("DialogOverlay.RemoveScroll"),VI=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(fd,r);return s.jsx(jv,{as:BI,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(Ke.div,{"data-state":Cv(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ii="DialogContent",N1=g.forwardRef((e,t)=>{const r=j1(Ii,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=yn(Ii,e.__scopeDialog);return s.jsx(Mn,{present:n||l.open,children:l.modal?s.jsx(zI,{...o,ref:t}):s.jsx(WI,{...o,ref:t})})});N1.displayName=Ii;var zI=g.forwardRef((e,t)=>{const r=yn(Ii,e.__scopeDialog),n=g.useRef(null),o=jt(t,r.contentRef,n);return g.useEffect(()=>{const l=n.current;if(l)return _v(l)},[]),s.jsx(C1,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,l=>l.preventDefault())})}),WI=g.forwardRef((e,t)=>{const r=yn(Ii,e.__scopeDialog),n=g.useRef(!1),o=g.useRef(!1);return s.jsx(C1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),C1=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,u=yn(Ii,r),f=g.useRef(null),h=jt(t,f);return o1(),s.jsxs(s.Fragment,{children:[s.jsx(yv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Id,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Cv(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(HI,{titleId:u.titleId}),s.jsx(YI,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Nv="DialogTitle",k1=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(Nv,r);return s.jsx(Ke.h2,{id:o.titleId,...n,ref:t})});k1.displayName=Nv;var P1="DialogDescription",E1=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(P1,r);return s.jsx(Ke.p,{id:o.descriptionId,...n,ref:t})});E1.displayName=P1;var T1="DialogClose",A1=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=yn(T1,r);return s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,()=>o.onOpenChange(!1))})});A1.displayName=T1;function Cv(e){return e?"open":"closed"}var D1="DialogTitleWarning",[eV,R1]=AM(D1,{contentName:Ii,titleName:Nv,docsSlug:"dialog"}),HI=({titleId:e})=>{const t=R1(D1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qI="DialogDescriptionWarning",YI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R1(qI).contentName}}.`;return g.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},GI=y1,KI=b1,XI=_1,O1=S1,$1=N1,M1=k1,I1=E1,JI=A1;const mn=GI,ri=KI,QI=XI,L1=he.forwardRef(({className:e,...t},r)=>s.jsx(O1,{ref:r,className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L1.displayName=O1.displayName;const Kr=he.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(QI,{children:[s.jsx(L1,{}),s.jsxs($1,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(JI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ti,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kr.displayName=$1.displayName;const Xr=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xr.displayName="DialogHeader";const Ki=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ki.displayName="DialogFooter";const Jr=he.forwardRef(({className:e,...t},r)=>s.jsx(M1,{ref:r,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));Jr.displayName=M1.displayName;const kv=he.forwardRef(({className:e,...t},r)=>s.jsx(I1,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));kv.displayName=I1.displayName;const xe=he.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));xe.displayName="Input";var ZI="Label",F1=g.forwardRef((e,t)=>s.jsx(Ke.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));F1.displayName=ZI;var U1=F1;const eL=Md("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=he.forwardRef(({className:e,...t},r)=>s.jsx(U1,{ref:r,className:Pe(eL(),e),...t}));ne.displayName=U1.displayName;const Bd=({onSuccess:e})=>{const[t,r]=g.useState(""),[n,o]=g.useState(""),[l,c]=g.useState(!1),[u,f]=g.useState(0),[h,m]=g.useState(!1);g.useEffect(()=>{if(u>0){const y=setTimeout(()=>f(u-1),1e3);return()=>clearTimeout(y)}},[u]);const p=async y=>{if(y.preventDefault(),!t.trim()){re({variant:"destructive",title:"Error",description:"Please enter a phone number"});return}const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`;c(!0);try{const{error:w}=await ce.auth.signInWithOtp({phone:j});if(w)throw w;m(!0),f(30),re({title:"Code Sent",description:"Please check your phone for the verification code."})}catch(w){console.error("Error sending OTP:",w),re({variant:"destructive",title:"Error",description:w.message})}finally{c(!1)}},x=async y=>{if(y.preventDefault(),!n.trim()||n.length!==6){re({variant:"destructive",title:"Error",description:"Please enter a valid 6-digit code"});return}c(!0);try{const j=t.startsWith("+61")?t:`+61${t.replace(/^0/,"")}`,{error:w}=await ce.auth.verifyOtp({phone:j,token:n,type:"sms"});if(w)throw w;re({title:"Success",description:"You have been successfully logged in."}),e&&e()}catch(j){console.error("Error verifying OTP:",j),re({variant:"destructive",title:"Error",description:j.message})}finally{c(!1)}};return s.jsx("div",{className:"w-full max-w-lg mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 border border-primary/20 shadow-lg",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome "}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please verify your phone number to continue."})]}),s.jsxs("form",{onSubmit:h?x:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",className:"text-sm font-semibold text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"+61"})}),s.jsx(xe,{id:"phone",type:"tel",placeholder:"04XXXXXXXX",value:t.replace(/^\+61/,""),onChange:y=>r(y.target.value),disabled:l||h,className:"pl-10 h-10 text-base border-2 focus:border-primary transition-colors"})]})]}),h&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"otp",className:"text-sm font-semibold text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"relative",children:[s.jsx(xe,{id:"otp",type:"text",maxLength:6,placeholder:"Enter 6-digit code",value:n,onChange:y=>o(y.target.value.replace(/\D/g,"").slice(0,6)),disabled:l,className:"h-10 text-base text-center tracking-widest border-2 focus:border-primary transition-colors"}),n.length===6&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(Ll,{className:"w-4 h-4 text-green-500"})})]})]}),s.jsx("div",{className:"space-y-2",children:h?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ee,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:l||n.length!==6,children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verifying..."]}):"Verify & Sign In"}),s.jsx(ee,{type:"button",variant:"outline",className:"w-full h-8 text-sm",onClick:p,disabled:l||u>0,children:u>0?`Resend in ${u}s`:"Resend Code"})]}):s.jsx(ee,{type:"submit",className:"w-full h-10 text-base font-semibold bg-primary hover:bg-primary/90 transition-colors",disabled:l||!t.trim(),children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending Code..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(S$,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-center text-gray-500 leading-relaxed",children:["By continuing, you agree to our"," ",s.jsx(Ae,{to:"/terms",className:"text-primary hover:underline font-medium",target:"_blank",children:"Terms of Service"})," ","and"," ",s.jsx(Ae,{to:"/privacy",className:"text-primary hover:underline font-medium",target:"_blank",children:"Privacy Policy"})]})})]})})},Pv=({open:e,onOpenChange:t})=>s.jsx(mn,{open:e,onOpenChange:t,children:s.jsxs(Kr,{className:"sm:max-w-[425px]",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Login"}),s.jsx(kv,{children:"Enter your phone number to create an account or sign-in."})]}),s.jsx(Bd,{onSuccess:()=>t(!1)})]})}),tL=()=>{var N;const[e,t]=g.useState(!1),[r,n]=g.useState(!1),{getCartCount:o,toggleCart:l}=as(),{user:c,isAdmin:u,logout:f,loading:h}=sr(),m=Kt(),p=o(),x=()=>t(!1),y=async()=>{await f(),x(),m("/")},w=os().pathname==="/",_={closed:{opacity:0,x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}}};return s.jsxs("header",{className:"sticky top-0 z-40 w-full bg-gradient-to-r from-[#2E8B57] via-[#3CB371] to-[#98D598] border-b shadow-sm",children:[s.jsxs("div",{className:"container flex items-center justify-between h-16 px-4 mx-auto md:px-6",children:[s.jsxs(Ae,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{style:{backgroundImage:"url(https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/logo-plain.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"180px",height:"60px"},"aria-label":"Groceroo Logo"}),w?s.jsx(s.Fragment,{}):s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/home-icon.webp",alt:"Home",style:{marginLeft:"16px",width:"20px",height:"20px"},className:"w-5 h-5","aria-label":"Home"})]}),s.jsxs("nav",{className:"hidden md:flex md:items-center md:space-x-6",children:[s.jsx(Ae,{to:"/grocery-run",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Grocery Run"}),s.jsx(Ae,{to:"/shop",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Shop"}),s.jsx(Ae,{to:"/categories",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Categories"}),u&&s.jsx(Ae,{to:"/admin",className:"text-sm font-medium transition-colors hover:text-white text-white/90",children:"Admin Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{variant:"ghost",size:"icon",className:"relative hover:bg-white/20",onClick:l,children:[s.jsx(Mi,{className:"w-5 h-5 text-white"}),p>0&&s.jsx(rt,{variant:"default",className:"absolute -top-2 -right-2 px-1.5 py-0.5 min-w-[1.25rem] text-xs bg-[#fd7507] hover:bg-[#fd7507]/90 text-white border-0",children:p})]}),!h&&(c?s.jsx("div",{className:"md:flex md:items-center md:space-x-2",children:s.jsx(Ae,{to:"/account",children:s.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 text-white",children:[s.jsx(Nw,{className:"w-4 h-4"}),s.jsx("span",{children:(N=c.name)==null?void 0:N.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,4)})]})})}):s.jsx(ee,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",size:"sm",onClick:()=>n(!0),children:s.jsx(Nw,{})}))]})]}),s.jsx(Ml,{children:e&&s.jsx(be.div,{className:"fixed inset-0 z-50 bg-black/50 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:x,children:s.jsxs(be.div,{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-xl",variants:_,initial:"closed",animate:"open",exit:"closed",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Menu"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:x,children:s.jsx(ti,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[s.jsx(Ae,{to:"/",className:"flex items-center space-x-2 text-sm",onClick:x,children:"Home"}),s.jsx(Ae,{to:"/shop",className:"flex items-center space-x-2 text-sm",onClick:x,children:"Shop"}),s.jsx(Ae,{to:"/categories",className:"flex items-center space-x-2 text-sm",onClick:x,children:"Categories"}),u&&s.jsxs(Ae,{to:"/admin",className:"flex items-center space-x-2 text-sm",onClick:x,children:[s.jsx(fn,{className:"w-4 h-4"}),s.jsx("span",{children:"Admin Dashboard"})]}),!h&&(c?s.jsxs(s.Fragment,{children:[s.jsxs(Ae,{to:"/account",className:"flex items-center space-x-2 text-sm",onClick:x,children:[s.jsx(vp,{className:"w-4 h-4"}),s.jsx("span",{children:"My Account"})]}),s.jsxs(ee,{variant:"ghost",className:"flex items-center justify-start space-x-2 text-sm",onClick:y,children:[s.jsx(W_,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]}):s.jsx(ee,{onClick:()=>{x(),n(!0)},children:"Sign In"}))]})]})})}),s.jsx(Pv,{open:r,onOpenChange:n})]})},rL=()=>{const e=new Date().getFullYear(),t=()=>{window.confirm("Are you sure you want to clear local storage, session storage, and cookies?")&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.reload())};return s.jsx("footer",{className:"bg-white border-t",children:s.jsxs("div",{className:"container px-4 py-12 mx-auto md:px-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{style:{backgroundImage:"url(https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/logo.webp)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"100px",height:"40px"},"aria-label":"Groceroo Logo"}),s.jsx("div",{className:"text-xs text-gray-500",children:"ABN 257 558 402 06"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Express grocery shopping and delivery service in Adelaide. Groceries and more delivered to your door."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary",children:s.jsx(o$,{className:"w-5 h-5"})}),s.jsx("a",{href:"https://www.instagram.com/groceroo_adl?igsh=bXFmN2J2cHp3cHQ=",className:"text-gray-500 hover:text-primary",children:s.jsx(f$,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Ae,{to:"/categories",className:"text-gray-600 hover:text-primary",children:"Categories"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/shop",className:"text-gray-600 hover:text-primary",children:"All Products"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/shop?featured=true",className:"text-gray-600 hover:text-primary",children:"Featured Items"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Get in Touch"}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(H_,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"mailto:contact@groceroo.com.au",className:"hover:text-primary underline",children:"contact@groceroo.com.au"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Od,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"tel:+61478477036",className:"hover:text-primary underline",children:"+61 478 477 036"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(rc,{className:"w-3 h-3 mr-2"}),s.jsx("a",{href:"https://wa.me/61478477036",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary underline",children:"WhatsApp"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"More"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Ae,{to:"/",className:"text-gray-600 hover:text-primary",children:"Home"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/privacy",className:"text-gray-600 hover:text-primary",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Ae,{to:"/terms",className:"text-gray-600 hover:text-primary",children:"Terms and conditions"})})]})]})]}),s.jsx("div",{className:"pt-8 mt-8 border-t",children:s.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 md:flex-row md:space-y-0",children:[s.jsxs("p",{className:"text-xs text-gray-600",children:[" ",e," Groceroo. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsx("button",{onClick:t,className:"hover:text-red-500 text-xs",children:"Clear Data"}),s.jsx(Ae,{to:"/privacy",className:"hover:text-primary",children:"Privacy Policy"}),s.jsx(Ae,{to:"/terms",className:"hover:text-primary",children:"Terms of Service"})]})]})})]})})},nL=()=>{const{cart:e,isCartOpen:t,closeCart:r,removeFromCart:n,updateQuantity:o,getCartTotal:l,clearCart:c}=as(),u=Kt(),f=()=>{r(),u("/checkout")},h={closed:{x:"100%",transition:{type:"spring",stiffness:180,damping:24,mass:.8}},open:{x:0,transition:{type:"spring",stiffness:180,damping:24,mass:.8}}},m={closed:{opacity:0,transition:{duration:.18}},open:{opacity:1,transition:{duration:.28}}};return s.jsx(Ml,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(be.div,{className:"fixed inset-0 z-50 bg-black/50",style:{willChange:"transform"},initial:"closed",animate:"open",exit:"closed",variants:m,onClick:r}),s.jsxs(be.div,{className:"fixed top-0 right-0 z-50 h-full w-full max-w-md bg-white shadow-xl flex flex-col",initial:"closed",animate:"open",exit:"closed",variants:h,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Your Cart"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.reduce((p,x)=>p+x.quantity,0)," items)"]})]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(ti,{className:"w-5 h-5"})})]}),e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 space-y-4 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Mi,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-medium",children:"Your cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added any products to your cart yet."}),s.jsx(ee,{onClick:()=>{r(),u("/shop")},children:"Continue Shopping"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("ul",{className:"space-y-4",children:s.jsx(Ml,{children:e.map(p=>s.jsxs(be.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center space-x-4 p-3 rounded-lg border bg-card",children:[s.jsx("div",{className:"w-16 h-16 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:s.jsx("img",{alt:p.name,className:"w-full h-full object-cover",src:p.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se(p.price)," / ",p.unit]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx(ee,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity-1),children:s.jsx(nc,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm w-8 text-center",children:p.quantity}),s.jsx(ee,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(p.id,p.quantity+1),children:s.jsx(ma,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:Se(p.price*p.quantity)}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>n(p.id),children:s.jsx(qi,{className:"h-4 w-4"})})]})]},p.id))})})}),e.length>0&&s.jsx("div",{className:"flex justify-center my-2",children:s.jsxs(Ae,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1",onClick:()=>r(),children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsx("div",{className:"p-4 border-t bg-muted/30",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),s.jsx("span",{className:"text-sm font-medium",children:Se(l())})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Charges & Fees"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated at checkout"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total"}),s.jsx("span",{className:"text-base font-semibold",children:Se(l())})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(ee,{variant:"outline",className:"w-full",onClick:c,children:"Clear Cart"}),s.jsx(ee,{className:"w-full",onClick:f,disabled:e.length===0,children:"Checkout"})]})]})})]})]})]})})};function B1(e){const t=e+"CollectionProvider",[r,n]=$n(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:N}=w,C=he.useRef(null),k=he.useRef(new Map).current;return s.jsx(o,{scope:_,itemMap:k,collectionRef:C,children:N})};c.displayName=t;const u=e+"CollectionSlot",f=ra(u),h=he.forwardRef((w,_)=>{const{scope:N,children:C}=w,k=l(u,N),A=jt(_,k.collectionRef);return s.jsx(f,{ref:A,children:C})});h.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=ra(m),y=he.forwardRef((w,_)=>{const{scope:N,children:C,...k}=w,A=he.useRef(null),P=jt(_,A),E=l(m,N);return he.useEffect(()=>(E.itemMap.set(A,{ref:A,...k}),()=>void E.itemMap.delete(A))),s.jsx(x,{[p]:"",ref:P,children:C})});y.displayName=m;function j(w){const _=l(e+"CollectionConsumer",w);return he.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((E,R)=>k.indexOf(E.ref.current)-k.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},j,n]}var sL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iL="VisuallyHidden",Ev=g.forwardRef((e,t)=>s.jsx(Ke.span,{...e,ref:t,style:{...sL,...e.style}}));Ev.displayName=iL;var Tv="ToastProvider",[Av,oL,aL]=B1("Toast"),[V1,tV]=$n("Toast",[aL]),[lL,Vd]=V1(Tv),z1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=e,[u,f]=g.useState(null),[h,m]=g.useState(0),p=g.useRef(!1),x=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tv}\`. Expected non-empty \`string\`.`),s.jsx(Av.Provider,{scope:t,children:s.jsx(lL,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:l,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:g.useCallback(()=>m(y=>y+1),[]),onToastRemove:g.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};z1.displayName=Tv;var W1="ToastViewport",cL=["F8"],jp="toast.viewportPause",_p="toast.viewportResume",H1=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=cL,label:o="Notifications ({hotkey})",...l}=e,c=Vd(W1,r),u=oL(r),f=g.useRef(null),h=g.useRef(null),m=g.useRef(null),p=g.useRef(null),x=jt(t,p,c.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;g.useEffect(()=>{const _=N=>{var k;n.length!==0&&n.every(A=>N[A]||N.code===A)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),g.useEffect(()=>{const _=f.current,N=p.current;if(j&&_&&N){const C=()=>{if(!c.isClosePausedRef.current){const E=new CustomEvent(jp);N.dispatchEvent(E),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const E=new CustomEvent(_p);N.dispatchEvent(E),c.isClosePausedRef.current=!1}},A=E=>{!_.contains(E.relatedTarget)&&k()},P=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",C),_.addEventListener("focusout",A),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",P),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",C),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[j,c.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:_})=>{const C=u().map(k=>{const A=k.ref.current,P=[A,...jL(A)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?C.reverse():C).flat()},[u]);return g.useEffect(()=>{const _=p.current;if(_){const N=C=>{var P,E,R;const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const D=document.activeElement,$=C.shiftKey;if(C.target===_&&$){(P=h.current)==null||P.focus();return}const Q=w({tabbingDirection:$?"backwards":"forwards"}),z=Q.findIndex(O=>O===D);Sm(Q.slice(z+1))?C.preventDefault():$?(E=h.current)==null||E.focus():(R=m.current)==null||R.focus()}};return _.addEventListener("keydown",N),()=>_.removeEventListener("keydown",N)}},[u,w]),s.jsxs(YM,{ref:f,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&s.jsx(Sp,{ref:h,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});Sm(_)}}),s.jsx(Av.Slot,{scope:r,children:s.jsx(Ke.ol,{tabIndex:-1,...l,ref:x})}),j&&s.jsx(Sp,{ref:m,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});Sm(_)}})]})});H1.displayName=W1;var q1="ToastFocusProxy",Sp=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,l=Vd(q1,r);return s.jsx(Ev,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=l.viewport)!=null&&h.contains(u))&&n()}})});Sp.displayName=q1;var ic="Toast",uL="toast.swipeStart",dL="toast.swipeMove",fL="toast.swipeCancel",hL="toast.swipeEnd",Y1=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:l,...c}=e,[u,f]=Gi({prop:n,defaultProp:o??!0,onChange:l,caller:ic});return s.jsx(Mn,{present:r||u,children:s.jsx(vL,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:hn(e.onPause),onResume:hn(e.onResume),onSwipeStart:qe(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:qe(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});Y1.displayName=ic;var[mL,pL]=V1(ic,{onClose(){}}),vL=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...j}=e,w=Vd(ic,r),[_,N]=g.useState(null),C=jt(t,O=>N(O)),k=g.useRef(null),A=g.useRef(null),P=o||w.duration,E=g.useRef(0),R=g.useRef(P),D=g.useRef(0),{onToastAdd:$,onToastRemove:W}=w,X=hn(()=>{var U;(_==null?void 0:_.contains(document.activeElement))&&((U=w.viewport)==null||U.focus()),c()}),Q=g.useCallback(O=>{!O||O===1/0||(window.clearTimeout(D.current),E.current=new Date().getTime(),D.current=window.setTimeout(X,O))},[X]);g.useEffect(()=>{const O=w.viewport;if(O){const U=()=>{Q(R.current),h==null||h()},H=()=>{const F=new Date().getTime()-E.current;R.current=R.current-F,window.clearTimeout(D.current),f==null||f()};return O.addEventListener(jp,H),O.addEventListener(_p,U),()=>{O.removeEventListener(jp,H),O.removeEventListener(_p,U)}}},[w.viewport,P,f,h,Q]),g.useEffect(()=>{l&&!w.isClosePausedRef.current&&Q(P)},[l,P,w.isClosePausedRef,Q]),g.useEffect(()=>($(),()=>W()),[$,W]);const z=g.useMemo(()=>_?eS(_):null,[_]);return w.viewport?s.jsxs(s.Fragment,{children:[z&&s.jsx(gL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),s.jsx(mL,{scope:r,onClose:X,children:Ui.createPortal(s.jsx(Av.ItemSlot,{scope:r,children:s.jsx(qM,{asChild:!0,onEscapeKeyDown:qe(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||X(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,O=>{O.key==="Escape"&&(u==null||u(O.nativeEvent),O.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:qe(e.onPointerDown,O=>{O.button===0&&(k.current={x:O.clientX,y:O.clientY})}),onPointerMove:qe(e.onPointerMove,O=>{if(!k.current)return;const U=O.clientX-k.current.x,H=O.clientY-k.current.y,F=!!A.current,I=["left","right"].includes(w.swipeDirection),q=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Y=I?q(0,U):0,M=I?0:q(0,H),J=O.pointerType==="touch"?10:2,te={x:Y,y:M},ve={originalEvent:O,delta:te};F?(A.current=te,Wu(dL,p,ve,{discrete:!1})):Ww(te,w.swipeDirection,J)?(A.current=te,Wu(uL,m,ve,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(U)>J||Math.abs(H)>J)&&(k.current=null)}),onPointerUp:qe(e.onPointerUp,O=>{const U=A.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),A.current=null,k.current=null,U){const F=O.currentTarget,I={originalEvent:O,delta:U};Ww(U,w.swipeDirection,w.swipeThreshold)?Wu(hL,y,I,{discrete:!0}):Wu(fL,x,I,{discrete:!0}),F.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),gL=e=>{const{__scopeToast:t,children:r,...n}=e,o=Vd(ic,t),[l,c]=g.useState(!1),[u,f]=g.useState(!1);return wL(()=>c(!0)),g.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:s.jsx(Ld,{asChild:!0,children:s.jsx(Ev,{...n,children:l&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},xL="ToastTitle",G1=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ke.div,{...n,ref:t})});G1.displayName=xL;var yL="ToastDescription",K1=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ke.div,{...n,ref:t})});K1.displayName=yL;var X1="ToastAction",J1=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Z1,{altText:r,asChild:!0,children:s.jsx(Dv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X1}\`. Expected non-empty \`string\`.`),null)});J1.displayName=X1;var Q1="ToastClose",Dv=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=pL(Q1,r);return s.jsx(Z1,{asChild:!0,children:s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,o.onClose)})})});Dv.displayName=Q1;var Z1=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function eS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),bL(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...eS(n))}}),t}function Wu(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?t1(o,l):o.dispatchEvent(l)}var Ww=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),l=n>o;return t==="left"||t==="right"?l&&n>r:!l&&o>r};function wL(e=()=>{}){const t=hn(e);rs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function bL(e){return e.nodeType===e.ELEMENT_NODE}function jL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Sm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var _L=z1,tS=H1,rS=Y1,nS=G1,sS=K1,iS=J1,oS=Dv;const SL=_L,aS=he.forwardRef(({className:e,...t},r)=>s.jsx(tS,{ref:r,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aS.displayName=tS.displayName;const NL=Md("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lS=he.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(rS,{ref:n,className:Pe(NL({variant:t}),e),...r}));lS.displayName=rS.displayName;const CL=he.forwardRef(({className:e,...t},r)=>s.jsx(iS,{ref:r,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));CL.displayName=iS.displayName;const cS=he.forwardRef(({className:e,...t},r)=>s.jsx(oS,{ref:r,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ti,{className:"h-4 w-4"})}));cS.displayName=oS.displayName;const uS=he.forwardRef(({className:e,...t},r)=>s.jsx(nS,{ref:r,className:Pe("text-sm font-semibold",e),...t}));uS.displayName=nS.displayName;const dS=he.forwardRef(({className:e,...t},r)=>s.jsx(sS,{ref:r,className:Pe("text-sm opacity-90",e),...t}));dS.displayName=sS.displayName;function kL(){const{openCart:e}=as();return s.jsx("a",{size:"md",className:"text-primary font-medium hover:underline text-lg flex items-center gap-1",onClick:e,tabIndex:0,children:s.jsx("span",{style:{fontSize:"12px",padding:"4px",wordSpacing:"0.5px",cursor:"pointer"},children:"View"})})}function PL(){const{toasts:e}=gR();return s.jsxs(SL,{children:[e.map(({id:t,title:r,description:n,action:o,dismiss:l,...c})=>{let u=null;return o==="view-cart"?u=s.jsx(kL,{}):o&&(u=o),s.jsxs(lS,{...c,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(uS,{children:r}),n&&s.jsx(dS,{children:n})]}),u,s.jsx(cS,{})]},t)}),s.jsx(aS,{})]})}const hd=({product:e})=>{const{addToCart:t,updateQuantity:r,cart:n}=as(),o=n.find(f=>f.id===e.id),l=o?o.quantity:0,c=(f,h)=>{f.preventDefault(),f.stopPropagation(),r(e.id,h)},u=f=>{f.preventDefault(),f.stopPropagation(),t(e,1)};return s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`product-card overflow-hidden rounded-lg border bg-card ${e.in_stock?"":"opacity-60"}`,children:s.jsxs(Ae,{to:`/product/${e.id}`,className:"block",children:[s.jsxs("div",{className:"relative aspect-square w-full max-h-48 bg-muted",children:[s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"}),e.featured&&s.jsx(rt,{variant:"default",className:"absolute top-2 left-2 text-xs",children:"Featured"}),!e.in_stock&&s.jsx(rt,{variant:"destructive",className:"absolute top-2 right-2 text-xs",children:"Out of Stock"})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-sm font-medium line-clamp-2",children:e.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-base font-semibold",children:Se(e.price)}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["per ",e.unit]})]}),e.in_stock?l>0?s.jsxs("div",{className:"flex items-center space-x-1",onClick:f=>f.preventDefault(),children:[s.jsx(ee,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:f=>c(f,l-1),children:s.jsx(nc,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-xs font-medium w-4 text-center",children:l}),s.jsx(ee,{size:"icon",className:"h-6 w-6",onClick:f=>c(f,l+1),children:s.jsx(ma,{className:"h-3 w-3"})})]}):s.jsx(ee,{size:"icon",className:"h-7 w-7 rounded-full",onClick:u,children:s.jsx(Mi,{className:"h-3 w-3"})}):s.jsx(ee,{size:"icon",className:"h-7 w-7 rounded-full",disabled:!0,children:s.jsx(Mi,{className:"h-3 w-3"})})]})]})]})})},EL=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(!1),f=g.useRef(null),h=g.useRef(null),{addToCart:m}=as(),{user:p,updateUserInfo:x}=sr(),[y,j]=g.useState(!1),w=X=>X.replace(/\+/g," ").replace(/\w\S*/g,Q=>Q.charAt(0).toUpperCase()+Q.slice(1)),_=(X,Q,z)=>{if(!X)return!1;const O=new Set(X.split(/\s+/).map(Y=>Y.split(":")[0].replace(/'/g,"").toLowerCase())),U=Q.replace(/\+/g," ").toLowerCase().split(/\s+/),H=Y=>z.name&&z.name.toLowerCase().includes(Y)||z.description&&z.description.toLowerCase().includes(Y),F={ginger:["beer"],garlic:["chips","bread"],coffee:["cake"],"olive oil":["tuna","sardines"]};if(U.length===1){const Y=U[0],M=Array.from(O).some(te=>te.startsWith(Y)),J=H(Y);if(M||J){if(F[Y]){for(const te of F[Y])if(Array.from(O).some(ve=>ve.startsWith(te))||H(te))return!1}return!0}return!1}if(!U.every(Y=>Array.from(O).some(M=>M.startsWith(Y))||H(Y)))return!1;const q=U.join(" ");if(F[q]){for(const Y of F[q])if(Array.from(O).some(M=>M.startsWith(Y))||H(Y))return!1}return!0},N=()=>{var X;(X=f.current)==null||X.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{N()},[r]),g.useEffect(()=>{p&&(async()=>p.ai_chat&&Array.isArray(p.ai_chat)&&n(p.ai_chat))()},[p]),g.useEffect(()=>{y&&C()},[y]);const C=async()=>{if(p&&r.length){const X=r.map(Q=>({role:Q.role,content:Q.content,groupedProducts:Q.groupedProducts||[],unmatchedProducts:Q.unmatchedProducts||[]}));x({ai_chat:X},!1)}j(!1)},k=async X=>{var z;if(X.preventDefault(),!o.trim()||c||!p)return;const Q=o.trim();l(""),n(O=>[...O,{role:"user",content:Q}]),u(!0);try{const O=await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/googlegenai-api",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({message:Q,user_id:p.id})});if(!O.ok)throw new Error("Failed to get AI response");const U=await O.json();let H=[];if(Array.isArray(U.products)&&(typeof U.products[0]=="string"?H=U.products.map(F=>F.replace(/\s+/g,"+")):typeof U.products[0]=="object"&&((z=U.products[0])!=null&&z.name)&&(H=U.products.map(F=>F.name.replace(/\s+/g,"+")))),H.length>0){const F=H.map(Y=>`'${Y.replace(/'/g,"''")}'`).join(" | "),{data:I,error:q}=await ce.from("products").select("*").eq("in_stock",!0).textSearch("fts",`${F}`);if(!q&&I&&!q&&I){const Y=[...H].sort((pe,de)=>de.split("+").length-pe.split("+").length),M={};H.forEach(pe=>{M[pe]=[]});const J=new Set;I.forEach(pe=>{const de=Y.findIndex(se=>_(pe.fts,se,pe));if(de!==-1){const se=Y[de];M[se].push(pe),J.add(pe.id)}});const te=H.map(pe=>({aiName:pe,suggestions:M[pe]})),ve=I.filter(pe=>!J.has(pe.id));n(pe=>[...pe,{role:"assistant",content:U.message||"Here are some suggestions:",groupedProducts:te,unmatchedProducts:ve}]),j(!0),u(!1);return}}u(!1)}catch(O){console.error("Error:",O),n(U=>[...U,{role:"assistant",content:"Sorry, something went wrong. Please try again later.",products:[]}]),u(!1)}},A=()=>{window.open("https://wa.me/1234567890","_blank")},P=()=>s.jsx("div",{className:"p-4",children:s.jsx(Bd,{onSuccess:()=>{}})}),[E,R]=g.useState({}),D=X=>{R(Q=>({...Q,[X]:!Q[X]}))},$={closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}},open:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},W={closed:{opacity:0},open:{opacity:1}};return s.jsxs(s.Fragment,{children:[s.jsx(ee,{onClick:()=>t(!e),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-[#3cb371] hover:bg-[#3cb371]/90 z-50",size:"icon",children:s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/icon-plain.webp",alt:"Groceroo AI",className:"h-10 w-10"})}),s.jsx(Ml,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(be.div,{className:"fixed inset-0 z-40 bg-black/50",initial:"closed",animate:"open",exit:"closed",variants:W,onClick:()=>t(!1)}),s.jsxs(be.div,{ref:h,initial:"closed",animate:"open",exit:"closed",variants:$,className:"fixed top-0 right-0 z-50 w-full max-w-md h-full bg-[#e6f7f1] border-l rounded-l-lg shadow-xl flex flex-col overflow-hidden",style:{maxHeight:"100vh"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background ",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Chat with a human on WhatsApp!"}),s.jsx(ee,{onClick:A,className:"h-12 w-[30%] rounded-lg bg-[#25D366] hover:bg-[#128C7E] flex items-center justify-center",size:"icon","aria-label":"Open WhatsApp Chat",children:s.jsx(rc,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[s.jsxs("span",{className:"text-lg font-semibold text-muted-foreground",children:[s.jsx(I4,{className:"inline-block mr-2"}),"Groceroo AI (beta)"]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:s.jsx(ti,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex-1 flex flex-col h-0",children:p?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map((X,Q)=>s.jsx("div",{className:`flex ${X.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-full rounded-lg p-3 ${X.role==="user"?"bg-[#2E8B57] text-white":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm",children:X.content}),X.groupedProducts&&X.groupedProducts.length>0&&s.jsx("div",{className:"mt-2 space-y-4",children:X.groupedProducts.map((z,O)=>s.jsxs("div",{className:"mb-4 bg-white/80 rounded-lg shadow border p-3",children:[s.jsxs("div",{className:"font-semibold text-[#2E8B57] mb-2 text-base",children:["- ",w(z.aiName)]}),s.jsx("div",{className:"flex flex-col gap-2",children:(E[O]?z.suggestions:z.suggestions.slice(0,2)).map(U=>s.jsxs("div",{className:"flex items-center justify-between bg-[#e6f7f1] rounded px-3 py-2 border",children:[s.jsx("span",{className:"text-sm max-w-[60%] font-medium text-[#2E8B57]",children:w(U.name)}),s.jsxs("div",{className:"flex items-center gap-2 min-w-[90px] justify-end",children:[U.price&&s.jsxs("span",{className:"text-xs text-gray-700 font-semibold",children:["$",Number(U.price).toFixed(2)]}),s.jsx(ee,{size:"sm",className:"bg-[#2E8B57] hover:bg-[#27694a] text-white px-3 py-1 rounded",onClick:()=>m(U,1),children:s.jsx(Mi,{className:"h-4 w-4 mr-1"})})]})]},U.id))}),z.suggestions.length>2&&s.jsx(ee,{variant:"link",size:"xs",className:"mt-1 text-xs text-primary",onClick:()=>D(O),children:E[O]?"Show less":"Show more"})]},O))})]})},Q)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg p-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-[#2E8B57] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),s.jsx("div",{ref:f})]}),s.jsx("form",{onSubmit:k,className:"p-4 border-t bg-background",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(xe,{value:o,onChange:X=>l(X.target.value),placeholder:"I want to cook some Pasta for dinner",disabled:c,className:"h-14 text-base"}),s.jsx(ee,{type:"submit",size:"icon",disabled:c,children:s.jsx(pa,{className:"h-4 w-4"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col h-full overflow-y-auto",children:s.jsx(P,{})})})]})]})})]})};function TL(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}function AL(){return/android/.test(window.navigator.userAgent.toLowerCase())}function DL(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const RL=({onClose:e,platform:t})=>s.jsxs("div",{className:"fixed bottom-4 left-1/2 z-50 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in-up max-w-xs w-full",children:[s.jsx("button",{onClick:e,className:"ml-1 mr-2 text-lg font-bold",children:""}),s.jsx("span",{children:t==="ios"?'Install the web-app on your iOS device: tap Share, then "Add to Home Screen".':'Install the web-app: tap the menu and "Add to Home screen".'})]}),OL=()=>{const{user:e,userLocation:t,getUserLocation:r}=sr(),[n,o]=g.useState([]),[l,c]=g.useState([]),[u,f]=g.useState([]),[h,m]=g.useState(!0),[p,x]=g.useState(""),[y,j]=g.useState(45),[w,_]=g.useState(!1),[N,C]=g.useState(null),[k,A]=g.useState(!1),[P,E]=g.useState(!1),R=Kt();g.useEffect(()=>{(async()=>{try{let X=qr("featuredProducts"),Q=qr("categories_home"),z=qr("deliverySettings");if(!X){const{data:O,error:U}=await ce.from("products").select("*, categories ( id, name )").eq("featured",!0).limit(20);if(U)throw U;X=O||[],Ar("featuredProducts",X)}if(!Q){const{data:O,error:U}=await ce.from("categories").select("*").order("priority",{ascending:!1}).limit(7);if(U)throw U;Q=O||[],Ar("categories_home",Q)}if(!z){const{data:O,error:U}=await ce.from("delivery_settings").select("estimated_delivery_minutes").eq("id",1).single();!U&&O&&(z=O,Ar("deliverySettings",z))}o(X),f(Q),z&&j(z.estimated_delivery_minutes),e&&await D()}catch(X){console.error("Error fetching data:",X)}finally{m(!1)}})()},[e]);const D=async()=>{try{let W=qr(`previouslyOrderedProducts_${e==null?void 0:e.id}`);if(!W){const{data:X,error:Q}=await ce.from("orders").select("items").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(Q)throw Q;if(X&&X.length>0){const z=new Set;if(X.forEach(O=>{O.items&&Array.isArray(O.items)&&O.items.forEach(U=>{U.id&&z.add(U.id)})}),z.size>0){const{data:O,error:U}=await ce.from("products").select("*, categories ( id, name )").in("id",Array.from(z)).limit(12);!U&&O&&(W=O,Ar(`previouslyOrderedProducts_${e.id}`,W))}}}W&&c(W)}catch(W){console.error("Error fetching previously ordered products:",W)}};g.useEffect(()=>{if(!p)return;E(!0);const W=setTimeout(()=>{if(E(!1),!e){const X=parseInt(localStorage.getItem("search_count")||"0",10);if(X>=10){A(!0);return}localStorage.setItem("search_count",(X+1).toString())}R(`/shop?search=${encodeURIComponent(p.trim())}`)},650);return()=>clearTimeout(W)},[p,e,R]),g.useEffect(()=>{window.innerWidth>768||DL()||localStorage.getItem("a2hs-dismissed")||(TL()?(C("ios"),_(!0)):AL()&&(C("android"),_(!0)))},[]);const $=()=>{_(!1),localStorage.setItem("a2hs-dismissed","1")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[w&&s.jsx(RL,{onClose:$,platform:N}),s.jsxs("section",{className:"relative min-h-[350px] h-[40vh] max-h-[500px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery delivery",className:"w-full h-full object-cover opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-4xl mx-auto py-4 md:py-6",children:s.jsxs(be.div,{className:"space-y-3 md:space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsxs(be.div,{className:"flex items-center justify-between mb-2",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.2},children:[s.jsxs("div",{className:"flex items-center gap-2 p-1",children:[s.jsx(w$,{className:"w-7 h-7 text-[#fd7507]"}),s.jsx("span",{className:"text-white font-bold text-base",children:"Adelaide"})]}),s.jsx("div",{children:t?s.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#fd7507] text-white text-sm font-semibold px-2 py-1 rounded-full shadow",children:[s.jsx(An,{className:"w-3 h-3 text-white font-semibold text-base"}),y," minutes"]}):s.jsx(ee,{size:"sm",className:"bg-[#fd7507] text-white font-semibold px-3 py-1 rounded-full shadow",onClick:r,children:s.jsx(v$,{})})})]}),s.jsx(be.form,{onSubmit:W=>W.preventDefault(),className:"flex gap-1 w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(xe,{type:"text",placeholder:"Search for groceries and more...",value:p,onChange:W=>x(W.target.value),className:"h-10 md:h-12 pl-3 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500 text-sm"}),P&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-400",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]})}),s.jsx(be.div,{className:"pt-2 flex justify-center gap-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3}}),s.jsx(be.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},className:"relative",children:s.jsxs("div",{className:"flex overflow-x-auto pb-1 space-x-3 scrollbar-hide px-2 md:px-0 md:justify-center",children:[u.map(W=>s.jsxs(Ae,{to:`/category/${W.id}`,className:"flex-none group text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx("img",{src:W.icon_url,alt:W.name,className:"w-12 h-12 md:w-14 md:h-14 object-cover rounded-full",onError:X=>{X.target.style.display="none",X.target.nextSibling.style.display="flex"}})}),s.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:W.name})]},W.id)),s.jsxs(Ae,{to:"/categories",className:"flex-none group text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(pp,{className:"h-6 w-6 md:h-8 md:w-8 text-white"})})}),s.jsx("span",{className:"text-xs font-medium text-white/90 group-hover:text-white transition-colors block truncate max-w-[60px] md:max-w-[75px]",children:"View All"})]})]})}),s.jsxs(be.div,{className:"pt-2 flex justify-center md:max-w-[400px] lg:max-w-[400px] mx-auto gap-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:[s.jsx(Ae,{to:"/shop",className:"block w-full max-w-[160px]",children:s.jsxs(ee,{size:"lg",style:{background:"#fd7507",color:"white"},className:"w-full h-10 md:h-12 font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"})," Shop"]})}),s.jsx(Ae,{to:"/grocery-run",className:"block w-full",children:s.jsxs(ee,{size:"lg",variant:"outline",className:"w-full h-10 md:h-12 bg-white/95 hover:bg-white border-2 border-white/50 shadow-lg text-[#2E8B57] hover:text-[#2E8B57] font-bold text-sm mx-auto backdrop-blur-sm transition-all duration-300 hover:scale-105",children:["...",s.jsx($d,{className:"w-4 h-4 mr-2"}),"Grocery Run"]})})]})]})})})]}),e&&l.length>0&&s.jsx("section",{className:"py-8 bg-gray-50",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsx(be.h2,{className:"text-xl font-bold mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Previously Ordered"}),s.jsx(be.div,{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:l.slice(0,12).map(W=>s.jsx("div",{className:"flex-none w-48",children:s.jsx(hd,{product:W})},W.id))})]})}),s.jsx("section",{className:"py-2 bg-white",children:s.jsxs("div",{className:"container px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(be.h2,{className:"text-xl font-bold",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Featured Products"}),s.jsx(Ae,{to:"/shop",className:"flex-none group text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-1 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 shadow-lg",children:s.jsx(pp,{className:"h-5 w-5 text-primary"})}),s.jsx("span",{className:"text-xs font-medium text-primary transition-colors block truncate",children:"View All"})]})})]}),s.jsx(be.div,{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:n.map(W=>s.jsx(hd,{product:W},W.id))})]})}),s.jsx(EL,{}),k&&s.jsx(Pv,{open:k,onOpenChange:A})]})};function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(null,arguments)}function Hw(e,[t,r]){return Math.min(r,Math.max(t,e))}function Vt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Rv(e,t=[]){let r=[];function n(l,c){const u=g.createContext(c),f=r.length;r=[...r,c];function h(p){const{scope:x,children:y,...j}=p,w=(x==null?void 0:x[e][f])||u,_=g.useMemo(()=>j,Object.values(j));return g.createElement(w.Provider,{value:_},y)}function m(p,x){const y=(x==null?void 0:x[e][f])||u,j=g.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return h.displayName=l+"Provider",[h,m]}const o=()=>{const l=r.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[n,$L(o,...t)]}function $L(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function ML(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function fS(...e){return t=>e.forEach(r=>ML(r,t))}function nr(...e){return g.useCallback(fS(...e),e)}const Ul=g.forwardRef((e,t)=>{const{children:r,...n}=e,o=g.Children.toArray(r),l=o.find(LL);if(l){const c=l.props.children,u=o.map(f=>f===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:f);return g.createElement(Np,Ze({},n,{ref:t}),g.isValidElement(c)?g.cloneElement(c,void 0,u):null)}return g.createElement(Np,Ze({},n,{ref:t}),r)});Ul.displayName="Slot";const Np=g.forwardRef((e,t)=>{const{children:r,...n}=e;return g.isValidElement(r)?g.cloneElement(r,{...FL(n,r.props),ref:t?fS(t,r.ref):r.ref}):g.Children.count(r)>1?g.Children.only(null):null});Np.displayName="SlotClone";const IL=({children:e})=>g.createElement(g.Fragment,null,e);function LL(e){return g.isValidElement(e)&&e.type===IL}function FL(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...u)=>{l(...u),o(...u)}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function UL(e){const t=e+"CollectionProvider",[r,n]=Rv(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:j,children:w}=y,_=he.useRef(null),N=he.useRef(new Map).current;return he.createElement(o,{scope:j,itemMap:N,collectionRef:_},w)},u=e+"CollectionSlot",f=he.forwardRef((y,j)=>{const{scope:w,children:_}=y,N=l(u,w),C=nr(j,N.collectionRef);return he.createElement(Ul,{ref:C},_)}),h=e+"CollectionItemSlot",m="data-radix-collection-item",p=he.forwardRef((y,j)=>{const{scope:w,children:_,...N}=y,C=he.useRef(null),k=nr(j,C),A=l(h,w);return he.useEffect(()=>(A.itemMap.set(C,{ref:C,...N}),()=>void A.itemMap.delete(C))),he.createElement(Ul,{[m]:"",ref:k},_)});function x(y){const j=l(e+"CollectionConsumer",y);return he.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((A,P)=>N.indexOf(A.ref.current)-N.indexOf(P.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:f,ItemSlot:p},x,n]}const BL=g.createContext(void 0);function VL(e){const t=g.useContext(BL);return e||t||"ltr"}const zL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xt=zL.reduce((e,t)=>{const r=g.forwardRef((n,o)=>{const{asChild:l,...c}=n,u=l?Ul:t;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(u,Ze({},c,{ref:o}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function WL(e,t){e&&Ui.flushSync(()=>e.dispatchEvent(t))}function ns(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function HL(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e);g.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const Cp="dismissableLayer.update",qL="dismissableLayer.pointerDownOutside",YL="dismissableLayer.focusOutside";let qw;const GL=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KL=g.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,m=g.useContext(GL),[p,x]=g.useState(null),y=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,j]=g.useState({}),w=nr(t,D=>x(D)),_=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(N),k=p?_.indexOf(p):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,P=k>=C,E=XL(D=>{const $=D.target,W=[...m.branches].some(X=>X.contains($));!P||W||(l==null||l(D),u==null||u(D),D.defaultPrevented||f==null||f())},y),R=JL(D=>{const $=D.target;[...m.branches].some(X=>X.contains($))||(c==null||c(D),u==null||u(D),D.defaultPrevented||f==null||f())},y);return HL(D=>{k===m.layers.size-1&&(o==null||o(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},y),g.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(qw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Yw(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=qw)}},[p,y,n,m]),g.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Yw())},[p,m]),g.useEffect(()=>{const D=()=>j({});return document.addEventListener(Cp,D),()=>document.removeEventListener(Cp,D)},[]),g.createElement(Xt.div,Ze({},h,{ref:w,style:{pointerEvents:A?P?"auto":"none":void 0,...e.style},onFocusCapture:Vt(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Vt(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Vt(e.onPointerDownCapture,E.onPointerDownCapture)}))});function XL(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let h=function(){hS(qL,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function JL(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!n.current&&hS(YL,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yw(){const e=new CustomEvent(Cp);document.dispatchEvent(e)}function hS(e,t,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?WL(o,l):o.dispatchEvent(l)}let Nm=0;function QL(){g.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Gw()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Gw()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Nm--}},[])}function Gw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Cm="focusScope.autoFocusOnMount",km="focusScope.autoFocusOnUnmount",Kw={bubbles:!1,cancelable:!0},ZL=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),h=ns(o),m=ns(l),p=g.useRef(null),x=nr(t,w=>f(w)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let w=function(k){if(y.paused||!u)return;const A=k.target;u.contains(A)?p.current=A:Ls(p.current,{select:!0})},_=function(k){if(y.paused||!u)return;const A=k.relatedTarget;A!==null&&(u.contains(A)||Ls(p.current,{select:!0}))},N=function(k){const A=document.activeElement;for(const P of k)P.removedNodes.length>0&&(u!=null&&u.contains(A)||Ls(u))};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[n,u,y.paused]),g.useEffect(()=>{if(u){Jw.add(y);const w=document.activeElement;if(!u.contains(w)){const N=new CustomEvent(Cm,Kw);u.addEventListener(Cm,h),u.dispatchEvent(N),N.defaultPrevented||(eF(iF(mS(u)),{select:!0}),document.activeElement===w&&Ls(u))}return()=>{u.removeEventListener(Cm,h),setTimeout(()=>{const N=new CustomEvent(km,Kw);u.addEventListener(km,m),u.dispatchEvent(N),N.defaultPrevented||Ls(w??document.body,{select:!0}),u.removeEventListener(km,m),Jw.remove(y)},0)}}},[u,h,m,y]);const j=g.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const C=w.currentTarget,[k,A]=tF(C);k&&A?!w.shiftKey&&N===A?(w.preventDefault(),r&&Ls(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),r&&Ls(A,{select:!0})):N===C&&w.preventDefault()}},[r,n,y.paused]);return g.createElement(Xt.div,Ze({tabIndex:-1},c,{ref:x,onKeyDown:j}))});function eF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ls(n,{select:t}),document.activeElement!==r)return}function tF(e){const t=mS(e),r=Xw(t,e),n=Xw(t.reverse(),e);return[r,n]}function mS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xw(e,t){for(const r of e)if(!rF(r,{upTo:t}))return r}function rF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nF(e){return e instanceof HTMLInputElement&&"select"in e}function Ls(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nF(e)&&t&&e.select()}}const Jw=sF();function sF(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Qw(e,t),e.unshift(t)},remove(t){var r;e=Qw(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Qw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function iF(e){return e.filter(t=>t.tagName!=="A")}const Qr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},oF=bd.useId||(()=>{});let aF=0;function pS(e){const[t,r]=g.useState(oF());return Qr(()=>{r(n=>n??String(aF++))},[e]),t?`radix-${t}`:""}const lF=["top","right","bottom","left"],Ks=Math.min,Tr=Math.max,md=Math.round,Hu=Math.floor,En=e=>({x:e,y:e}),cF={left:"right",right:"left",bottom:"top",top:"bottom"},uF={start:"end",end:"start"};function kp(e,t,r){return Tr(e,Ks(t,r))}function ss(e,t){return typeof e=="function"?e(t):e}function is(e){return e.split("-")[0]}function va(e){return e.split("-")[1]}function Ov(e){return e==="x"?"y":"x"}function $v(e){return e==="y"?"height":"width"}function es(e){return["top","bottom"].includes(is(e))?"y":"x"}function Mv(e){return Ov(es(e))}function dF(e,t,r){r===void 0&&(r=!1);const n=va(e),o=Mv(e),l=$v(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=pd(c)),[c,pd(c)]}function fF(e){const t=pd(e);return[Pp(e),t,Pp(t)]}function Pp(e){return e.replace(/start|end/g,t=>uF[t])}function hF(e,t,r){const n=["left","right"],o=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?l:c;default:return[]}}function mF(e,t,r,n){const o=va(e);let l=hF(is(e),r==="start",n);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Pp)))),l}function pd(e){return e.replace(/left|right|bottom|top/g,t=>cF[t])}function pF(e){return{top:0,right:0,bottom:0,left:0,...e}}function vS(e){return typeof e!="number"?pF(e):{top:e,right:e,bottom:e,left:e}}function vd(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Zw(e,t,r){let{reference:n,floating:o}=e;const l=es(t),c=Mv(t),u=$v(c),f=is(t),h=l==="y",m=n.x+n.width/2-o.width/2,p=n.y+n.height/2-o.height/2,x=n[u]/2-o[u]/2;let y;switch(f){case"top":y={x:m,y:n.y-o.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-o.width,y:p};break;default:y={x:n.x,y:n.y}}switch(va(t)){case"start":y[c]-=x*(r&&h?-1:1);break;case"end":y[c]+=x*(r&&h?-1:1);break}return y}const vF=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=Zw(h,n,f),x=n,y={},j=0;for(let w=0;w<u.length;w++){const{name:_,fn:N}=u[w],{x:C,y:k,data:A,reset:P}=await N({x:m,y:p,initialPlacement:n,placement:x,strategy:o,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});m=C??m,p=k??p,y={...y,[_]:{...y[_],...A}},P&&j<=50&&(j++,typeof P=="object"&&(P.placement&&(x=P.placement),P.rects&&(h=P.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:m,y:p}=Zw(h,x,f)),w=-1)}return{x:m,y:p,placement:x,strategy:o,middlewareData:y}};async function Bl(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=ss(t,e),j=vS(y),_=u[x?p==="floating"?"reference":"floating":p],N=vd(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(_)))==null||r?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),C=p==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),A=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},P=vd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:k,strategy:f}):C);return{top:(N.top-P.top+j.top)/A.y,bottom:(P.bottom-N.bottom+j.bottom)/A.y,left:(N.left-P.left+j.left)/A.x,right:(P.right-N.right+j.right)/A.x}}const gF=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=ss(e,t)||{};if(h==null)return{};const p=vS(m),x={x:r,y:n},y=Mv(o),j=$v(y),w=await c.getDimensions(h),_=y==="y",N=_?"top":"left",C=_?"bottom":"right",k=_?"clientHeight":"clientWidth",A=l.reference[j]+l.reference[y]-x[y]-l.floating[j],P=x[y]-l.reference[y],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let R=E?E[k]:0;(!R||!await(c.isElement==null?void 0:c.isElement(E)))&&(R=u.floating[k]||l.floating[j]);const D=A/2-P/2,$=R/2-w[j]/2-1,W=Ks(p[N],$),X=Ks(p[C],$),Q=W,z=R-w[j]-X,O=R/2-w[j]/2+D,U=kp(Q,O,z),H=!f.arrow&&va(o)!=null&&O!==U&&l.reference[j]/2-(O<Q?W:X)-w[j]/2<0,F=H?O<Q?O-Q:O-z:0;return{[y]:x[y]+F,data:{[y]:U,centerOffset:O-U-F,...H&&{alignmentOffset:F}},reset:H}}}),xF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=ss(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const N=is(o),C=es(u),k=is(u)===u,A=await(f.isRTL==null?void 0:f.isRTL(h.floating)),P=x||(k||!w?[pd(u)]:fF(u)),E=j!=="none";!x&&E&&P.push(...mF(u,w,j,A));const R=[u,...P],D=await Bl(t,_),$=[];let W=((n=l.flip)==null?void 0:n.overflows)||[];if(m&&$.push(D[N]),p){const U=dF(o,c,A);$.push(D[U[0]],D[U[1]])}if(W=[...W,{placement:o,overflows:$}],!$.every(U=>U<=0)){var X,Q;const U=(((X=l.flip)==null?void 0:X.index)||0)+1,H=R[U];if(H){var z;const I=p==="alignment"?C!==es(H):!1,q=((z=W[0])==null?void 0:z.overflows[0])>0;if(!I||q)return{data:{index:U,overflows:W},reset:{placement:H}}}let F=(Q=W.filter(I=>I.overflows[0]<=0).sort((I,q)=>I.overflows[1]-q.overflows[1])[0])==null?void 0:Q.placement;if(!F)switch(y){case"bestFit":{var O;const I=(O=W.filter(q=>{if(E){const Y=es(q.placement);return Y===C||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,M)=>Y+M,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:O[0];I&&(F=I);break}case"initialPlacement":F=u;break}if(o!==F)return{reset:{placement:F}}}return{}}}};function eb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tb(e){return lF.some(t=>e[t]>=0)}const yF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=ss(e,t);switch(n){case"referenceHidden":{const l=await Bl(t,{...o,elementContext:"reference"}),c=eb(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:tb(c)}}}case"escaped":{const l=await Bl(t,{...o,altBoundary:!0}),c=eb(l,r.floating);return{data:{escapedOffsets:c,escaped:tb(c)}}}default:return{}}}}};async function wF(e,t){const{placement:r,platform:n,elements:o}=e,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=is(r),u=va(r),f=es(r)==="y",h=["left","top"].includes(c)?-1:1,m=l&&f?-1:1,p=ss(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(y=u==="end"?j*-1:j),f?{x:y*m,y:x*h}:{x:x*h,y:y*m}}const bF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:l,placement:c,middlewareData:u}=t,f=await wF(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},jF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:N,y:C}=_;return{x:N,y:C}}},...f}=ss(e,t),h={x:r,y:n},m=await Bl(t,f),p=es(is(o)),x=Ov(p);let y=h[x],j=h[p];if(l){const _=x==="y"?"top":"left",N=x==="y"?"bottom":"right",C=y+m[_],k=y-m[N];y=kp(C,y,k)}if(c){const _=p==="y"?"top":"left",N=p==="y"?"bottom":"right",C=j+m[_],k=j-m[N];j=kp(C,j,k)}const w=u.fn({...t,[x]:y,[p]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[x]:l,[p]:c}}}}}},_F=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=ss(e,t),m={x:r,y:n},p=es(o),x=Ov(p);let y=m[x],j=m[p];const w=ss(u,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const k=x==="y"?"height":"width",A=l.reference[x]-l.floating[k]+_.mainAxis,P=l.reference[x]+l.reference[k]-_.mainAxis;y<A?y=A:y>P&&(y=P)}if(h){var N,C;const k=x==="y"?"width":"height",A=["top","left"].includes(is(o)),P=l.reference[p]-l.floating[k]+(A&&((N=c.offset)==null?void 0:N[p])||0)+(A?0:_.crossAxis),E=l.reference[p]+l.reference[k]+(A?0:((C=c.offset)==null?void 0:C[p])||0)-(A?_.crossAxis:0);j<P?j=P:j>E&&(j=E)}return{[x]:y,[p]:j}}}},SF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:l,platform:c,elements:u}=t,{apply:f=()=>{},...h}=ss(e,t),m=await Bl(t,h),p=is(o),x=va(o),y=es(o)==="y",{width:j,height:w}=l.floating;let _,N;p==="top"||p==="bottom"?(_=p,N=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=p,_=x==="end"?"top":"bottom");const C=w-m.top-m.bottom,k=j-m.left-m.right,A=Ks(w-m[_],C),P=Ks(j-m[N],k),E=!t.middlewareData.shift;let R=A,D=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=C),E&&!x){const W=Tr(m.left,0),X=Tr(m.right,0),Q=Tr(m.top,0),z=Tr(m.bottom,0);y?D=j-2*(W!==0||X!==0?W+X:Tr(m.left,m.right)):R=w-2*(Q!==0||z!==0?Q+z:Tr(m.top,m.bottom))}await f({...t,availableWidth:D,availableHeight:R});const $=await c.getDimensions(u.floating);return j!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function zd(){return typeof window<"u"}function ga(e){return gS(e)?(e.nodeName||"").toLowerCase():"#document"}function Dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function In(e){var t;return(t=(gS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gS(e){return zd()?e instanceof Node||e instanceof Dr(e).Node:!1}function pn(e){return zd()?e instanceof Element||e instanceof Dr(e).Element:!1}function Dn(e){return zd()?e instanceof HTMLElement||e instanceof Dr(e).HTMLElement:!1}function rb(e){return!zd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dr(e).ShadowRoot}function oc(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function NF(e){return["table","td","th"].includes(ga(e))}function Wd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Iv(e){const t=Lv(),r=pn(e)?vn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function CF(e){let t=Xs(e);for(;Dn(t)&&!na(t);){if(Iv(t))return t;if(Wd(t))return null;t=Xs(t)}return null}function Lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function na(e){return["html","body","#document"].includes(ga(e))}function vn(e){return Dr(e).getComputedStyle(e)}function Hd(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rb(e)&&e.host||In(e);return rb(t)?t.host:t}function xS(e){const t=Xs(e);return na(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dn(t)&&oc(t)?t:xS(t)}function Vl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=xS(e),l=o===((n=e.ownerDocument)==null?void 0:n.body),c=Dr(o);if(l){const u=Ep(c);return t.concat(c,c.visualViewport||[],oc(o)?o:[],u&&r?Vl(u):[])}return t.concat(o,Vl(o,[],r))}function Ep(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yS(e){const t=vn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Dn(e),l=o?e.offsetWidth:r,c=o?e.offsetHeight:n,u=md(r)!==l||md(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Fv(e){return pn(e)?e:e.contextElement}function Xo(e){const t=Fv(e);if(!Dn(t))return En(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:l}=yS(t);let c=(l?md(r.width):r.width)/n,u=(l?md(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const kF=En(0);function wS(e){const t=Dr(e);return!Lv()||!t.visualViewport?kF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PF(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Dr(e)?!1:t}function Li(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),l=Fv(e);let c=En(1);t&&(n?pn(n)&&(c=Xo(n)):c=Xo(e));const u=PF(l,r,n)?wS(l):En(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,p=o.height/c.y;if(l){const x=Dr(l),y=n&&pn(n)?Dr(n):n;let j=x,w=Ep(j);for(;w&&n&&y!==j;){const _=Xo(w),N=w.getBoundingClientRect(),C=vn(w),k=N.left+(w.clientLeft+parseFloat(C.paddingLeft))*_.x,A=N.top+(w.clientTop+parseFloat(C.paddingTop))*_.y;f*=_.x,h*=_.y,m*=_.x,p*=_.y,f+=k,h+=A,j=Dr(w),w=Ep(j)}}return vd({width:m,height:p,x:f,y:h})}function Uv(e,t){const r=Hd(e).scrollLeft;return t?t.left+r:Li(In(e)).left+r}function bS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:Uv(e,n)),l=n.top+t.scrollTop;return{x:o,y:l}}function EF(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const l=o==="fixed",c=In(n),u=t?Wd(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},h=En(1);const m=En(0),p=Dn(n);if((p||!p&&!l)&&((ga(n)!=="body"||oc(c))&&(f=Hd(n)),Dn(n))){const y=Li(n);h=Xo(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const x=c&&!p&&!l?bS(c,f,!0):En(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+x.x,y:r.y*h.y-f.scrollTop*h.y+m.y+x.y}}function TF(e){return Array.from(e.getClientRects())}function AF(e){const t=In(e),r=Hd(e),n=e.ownerDocument.body,o=Tr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Tr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Uv(e);const u=-r.scrollTop;return vn(n).direction==="rtl"&&(c+=Tr(t.clientWidth,n.clientWidth)-o),{width:o,height:l,x:c,y:u}}function DF(e,t){const r=Dr(e),n=In(e),o=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(o){l=o.width,c=o.height;const h=Lv();(!h||h&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:c,x:u,y:f}}function RF(e,t){const r=Li(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,l=Dn(e)?Xo(e):En(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=o*l.x,h=n*l.y;return{width:c,height:u,x:f,y:h}}function nb(e,t,r){let n;if(t==="viewport")n=DF(e,r);else if(t==="document")n=AF(In(e));else if(pn(t))n=RF(t,r);else{const o=wS(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return vd(n)}function jS(e,t){const r=Xs(e);return r===t||!pn(r)||na(r)?!1:vn(r).position==="fixed"||jS(r,t)}function OF(e,t){const r=t.get(e);if(r)return r;let n=Vl(e,[],!1).filter(u=>pn(u)&&ga(u)!=="body"),o=null;const l=vn(e).position==="fixed";let c=l?Xs(e):e;for(;pn(c)&&!na(c);){const u=vn(c),f=Iv(c);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||oc(c)&&!f&&jS(e,c))?n=n.filter(m=>m!==c):o=u,c=Xs(c)}return t.set(e,n),n}function $F(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Wd(t)?[]:OF(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const p=nb(t,m,o);return h.top=Tr(p.top,h.top),h.right=Ks(p.right,h.right),h.bottom=Ks(p.bottom,h.bottom),h.left=Tr(p.left,h.left),h},nb(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function MF(e){const{width:t,height:r}=yS(e);return{width:t,height:r}}function IF(e,t,r){const n=Dn(t),o=In(t),l=r==="fixed",c=Li(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=En(0);function h(){f.x=Uv(o)}if(n||!n&&!l)if((ga(t)!=="body"||oc(o))&&(u=Hd(t)),n){const y=Li(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else o&&h();l&&!n&&o&&h();const m=o&&!n&&!l?bS(o,u):En(0),p=c.left+u.scrollLeft-f.x-m.x,x=c.top+u.scrollTop-f.y-m.y;return{x:p,y:x,width:c.width,height:c.height}}function Pm(e){return vn(e).position==="static"}function sb(e,t){if(!Dn(e)||vn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return In(e)===r&&(r=r.ownerDocument.body),r}function _S(e,t){const r=Dr(e);if(Wd(e))return r;if(!Dn(e)){let o=Xs(e);for(;o&&!na(o);){if(pn(o)&&!Pm(o))return o;o=Xs(o)}return r}let n=sb(e,t);for(;n&&NF(n)&&Pm(n);)n=sb(n,t);return n&&na(n)&&Pm(n)&&!Iv(n)?r:n||CF(e)||r}const LF=async function(e){const t=this.getOffsetParent||_S,r=this.getDimensions,n=await r(e.floating);return{reference:IF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FF(e){return vn(e).direction==="rtl"}const UF={convertOffsetParentRelativeRectToViewportRelativeRect:EF,getDocumentElement:In,getClippingRect:$F,getOffsetParent:_S,getElementRects:LF,getClientRects:TF,getDimensions:MF,getScale:Xo,isElement:pn,isRTL:FF};function SS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BF(e,t){let r=null,n;const o=In(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:y}=h;if(u||t(),!x||!y)return;const j=Hu(p),w=Hu(o.clientWidth-(m+x)),_=Hu(o.clientHeight-(p+y)),N=Hu(m),k={rootMargin:-j+"px "+-w+"px "+-_+"px "+-N+"px",threshold:Tr(0,Ks(1,f))||1};let A=!0;function P(E){const R=E[0].intersectionRatio;if(R!==f){if(!A)return c();R?c(!1,R):n=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!SS(h,e.getBoundingClientRect())&&c(),A=!1}try{r=new IntersectionObserver(P,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(P,k)}r.observe(e)}return c(!0),l}function NS(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Fv(e),m=o||l?[...h?Vl(h):[],...Vl(t)]:[];m.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),l&&N.addEventListener("resize",r)});const p=h&&u?BF(h,r):null;let x=-1,y=null;c&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),r()}),h&&!f&&y.observe(h),y.observe(t));let j,w=f?Li(e):null;f&&_();function _(){const N=Li(e);w&&!SS(w,N)&&r(),w=N,j=requestAnimationFrame(_)}return r(),()=>{var N;m.forEach(C=>{o&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),p==null||p(),(N=y)==null||N.disconnect(),y=null,f&&cancelAnimationFrame(j)}}const VF=bF,zF=jF,WF=xF,HF=SF,qF=yF,ib=gF,YF=_F,GF=(e,t,r)=>{const n=new Map,o={platform:UF,...r},l={...o.platform,_c:n};return vF(e,t,{...o,platform:l})};var Zu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gd(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const l=o[n];if(!(l==="_owner"&&e.$$typeof)&&!gd(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function CS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ob(e,t){const r=CS(e);return Math.round(t*r)/r}function Em(e){const t=g.useRef(e);return Zu(()=>{t.current=e}),t}function kS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,p]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=g.useState(n);gd(x,n)||y(n);const[j,w]=g.useState(null),[_,N]=g.useState(null),C=g.useCallback(I=>{I!==E.current&&(E.current=I,w(I))},[]),k=g.useCallback(I=>{I!==R.current&&(R.current=I,N(I))},[]),A=l||j,P=c||_,E=g.useRef(null),R=g.useRef(null),D=g.useRef(m),$=f!=null,W=Em(f),X=Em(o),Q=Em(h),z=g.useCallback(()=>{if(!E.current||!R.current)return;const I={placement:t,strategy:r,middleware:x};X.current&&(I.platform=X.current),GF(E.current,R.current,I).then(q=>{const Y={...q,isPositioned:Q.current!==!1};O.current&&!gd(D.current,Y)&&(D.current=Y,Ui.flushSync(()=>{p(Y)}))})},[x,t,r,X,Q]);Zu(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(I=>({...I,isPositioned:!1})))},[h]);const O=g.useRef(!1);Zu(()=>(O.current=!0,()=>{O.current=!1}),[]),Zu(()=>{if(A&&(E.current=A),P&&(R.current=P),A&&P){if(W.current)return W.current(A,P,z);z()}},[A,P,z,W,$]);const U=g.useMemo(()=>({reference:E,floating:R,setReference:C,setFloating:k}),[C,k]),H=g.useMemo(()=>({reference:A,floating:P}),[A,P]),F=g.useMemo(()=>{const I={position:r,left:0,top:0};if(!H.floating)return I;const q=ob(H.floating,m.x),Y=ob(H.floating,m.y);return u?{...I,transform:"translate("+q+"px, "+Y+"px)",...CS(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:Y}},[r,u,H.floating,m.x,m.y]);return g.useMemo(()=>({...m,update:z,refs:U,elements:H,floatingStyles:F}),[m,z,U,H,F])}const KF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ib({element:n.current,padding:o}).fn(r):{}:n?ib({element:n,padding:o}).fn(r):{}}}},PS=(e,t)=>({...VF(e),options:[e,t]}),ES=(e,t)=>({...zF(e),options:[e,t]}),TS=(e,t)=>({...YF(e),options:[e,t]}),AS=(e,t)=>({...WF(e),options:[e,t]}),DS=(e,t)=>({...HF(e),options:[e,t]}),RS=(e,t)=>({...qF(e),options:[e,t]}),OS=(e,t)=>({...KF(e),options:[e,t]});function XF(e){const[t,r]=g.useState(void 0);return Qr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const $S="Popper",[MS,IS]=Rv($S),[JF,LS]=MS($S),QF=e=>{const{__scopePopper:t,children:r}=e,[n,o]=g.useState(null);return g.createElement(JF,{scope:t,anchor:n,onAnchorChange:o},r)},ZF="PopperAnchor",e3=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,l=LS(ZF,r),c=g.useRef(null),u=nr(t,c);return g.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:g.createElement(Xt.div,Ze({},o,{ref:u}))}),FS="PopperContent",[t3,rV]=MS(FS),r3=g.forwardRef((e,t)=>{var r,n,o,l,c,u,f,h;const{__scopePopper:m,side:p="bottom",sideOffset:x=0,align:y="center",alignOffset:j=0,arrowPadding:w=0,collisionBoundary:_=[],collisionPadding:N=0,sticky:C="partial",hideWhenDetached:k=!1,avoidCollisions:A=!0,onPlaced:P,...E}=e,R=LS(FS,m),[D,$]=g.useState(null),W=nr(t,Ee=>$(Ee)),[X,Q]=g.useState(null),z=XF(X),O=(r=z==null?void 0:z.width)!==null&&r!==void 0?r:0,U=(n=z==null?void 0:z.height)!==null&&n!==void 0?n:0,H=p+(y!=="center"?"-"+y:""),F=typeof N=="number"?N:{top:0,right:0,bottom:0,left:0,...N},I=Array.isArray(_)?_:[_],q=I.length>0,Y={padding:F,boundary:I.filter(n3),altBoundary:q},{refs:M,floatingStyles:J,placement:te,isPositioned:ve,middlewareData:pe}=kS({strategy:"fixed",placement:H,whileElementsMounted:NS,elements:{reference:R.anchor},middleware:[PS({mainAxis:x+U,alignmentAxis:j}),A&&ES({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?TS():void 0,...Y}),A&&AS({...Y}),DS({...Y,apply:({elements:Ee,rects:Et,availableWidth:ft,availableHeight:wr})=>{const{width:ii,height:Or}=Et.reference,br=Ee.floating.style;br.setProperty("--radix-popper-available-width",`${ft}px`),br.setProperty("--radix-popper-available-height",`${wr}px`),br.setProperty("--radix-popper-anchor-width",`${ii}px`),br.setProperty("--radix-popper-anchor-height",`${Or}px`)}}),X&&OS({element:X,padding:w}),s3({arrowWidth:O,arrowHeight:U}),k&&RS({strategy:"referenceHidden"})]}),[de,se]=US(te),ie=ns(P);Qr(()=>{ve&&(ie==null||ie())},[ve,ie]);const je=(o=pe.arrow)===null||o===void 0?void 0:o.x,ge=(l=pe.arrow)===null||l===void 0?void 0:l.y,fe=((c=pe.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[_e,He]=g.useState();return Qr(()=>{D&&He(window.getComputedStyle(D).zIndex)},[D]),g.createElement("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ve?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(u=pe.transformOrigin)===null||u===void 0?void 0:u.x,(f=pe.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},g.createElement(t3,{scope:m,placedSide:de,onArrowChange:Q,arrowX:je,arrowY:ge,shouldHideArrow:fe},g.createElement(Xt.div,Ze({"data-side":de,"data-align":se},E,{ref:W,style:{...E.style,animation:ve?void 0:"none",opacity:(h=pe.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function n3(e){return e!==null}const s3=e=>({name:"transformOrigin",options:e,fn(t){var r,n,o,l,c;const{placement:u,rects:f,middlewareData:h}=t,p=((r=h.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,x=p?0:e.arrowWidth,y=p?0:e.arrowHeight,[j,w]=US(u),_={start:"0%",center:"50%",end:"100%"}[w],N=((n=(o=h.arrow)===null||o===void 0?void 0:o.x)!==null&&n!==void 0?n:0)+x/2,C=((l=(c=h.arrow)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0)+y/2;let k="",A="";return j==="bottom"?(k=p?_:`${N}px`,A=`${-y}px`):j==="top"?(k=p?_:`${N}px`,A=`${f.floating.height+y}px`):j==="right"?(k=`${-y}px`,A=p?_:`${C}px`):j==="left"&&(k=`${f.floating.width+y}px`,A=p?_:`${C}px`),{data:{x:k,y:A}}}});function US(e){const[t,r="center"]=e.split("-");return[t,r]}const i3=QF,o3=e3,a3=r3,l3=g.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...o}=e;return n?Mb.createPortal(g.createElement(Xt.div,Ze({},o,{ref:t})),n):null});function ab({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=c3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:n,u=ns(r),f=g.useCallback(h=>{if(l){const p=typeof h=="function"?h(e):h;p!==e&&u(p)}else o(h)},[l,e,o,u]);return[c,f]}function c3({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,o=g.useRef(n),l=ns(t);return g.useEffect(()=>{o.current!==n&&(l(n),o.current=n)},[n,o,l]),r}function u3(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const d3=g.forwardRef((e,t)=>g.createElement(Xt.span,Ze({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var BS=c1(),Tm=function(){},qd=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:Tm,onWheelCapture:Tm,onTouchMoveCapture:Tm}),o=n[0],l=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=wv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=x,A=l1([r,t]),P=rr(rr({},C),o);return g.createElement(g.Fragment,null,m&&g.createElement(k,{sideCar:BS,removeScrollBar:h,shards:p,noIsolation:y,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r}),c?g.cloneElement(g.Children.only(u),rr(rr({},P),{ref:A})):g.createElement(N,rr({},P,{className:f,ref:A}),u))});qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qd.classNames={fullWidth:Tl,zeroRight:El};var Tp=!1;if(typeof window<"u")try{var qu=Object.defineProperty({},"passive",{get:function(){return Tp=!0,!0}});window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{Tp=!1}var Lo=Tp?{passive:!1}:!1,f3=function(e){return e.tagName==="TEXTAREA"},VS=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!f3(e)&&r[t]==="visible")},h3=function(e){return VS(e,"overflowY")},m3=function(e){return VS(e,"overflowX")},lb=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=zS(e,r);if(n){var o=WS(e,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},p3=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},v3=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zS=function(e,t){return e==="v"?h3(t):m3(t)},WS=function(e,t){return e==="v"?p3(t):v3(t)},g3=function(e,t){return e==="h"&&t==="rtl"?-1:1},x3=function(e,t,r,n,o){var l=g3(e,window.getComputedStyle(t).direction),c=l*n,u=r.target,f=t.contains(u),h=!1,m=c>0,p=0,x=0;do{var y=WS(e,u),j=y[0],w=y[1],_=y[2],N=w-_-l*j;(j||N)&&zS(e,u)&&(p+=N,x+=j),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&p===0||!m&&x===0)&&(h=!0),h},Yu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cb=function(e){return[e.deltaX,e.deltaY]},ub=function(e){return e&&"current"in e?e.current:e},y3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},b3=0,Fo=[];function j3(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),o=g.useState(b3++)[0],l=g.useState(function(){return bv()})[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=a1([e.lockRef.current],(e.shards||[]).map(ub),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(w,_){if("touches"in w&&w.touches.length===2)return!c.current.allowPinchZoom;var N=Yu(w),C=r.current,k="deltaX"in w?w.deltaX:C[0]-N[0],A="deltaY"in w?w.deltaY:C[1]-N[1],P,E=w.target,R=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in w&&R==="h"&&E.type==="range")return!1;var D=lb(R,E);if(!D)return!0;if(D?P=R:(P=R==="v"?"h":"v",D=lb(R,E)),!D)return!1;if(!n.current&&"changedTouches"in w&&(k||A)&&(n.current=P),!P)return!0;var $=n.current||P;return x3($,_,w,$==="h"?k:A)},[]),f=g.useCallback(function(w){var _=w;if(!(!Fo.length||Fo[Fo.length-1]!==l)){var N="deltaY"in _?cb(_):Yu(_),C=t.current.filter(function(P){return P.name===_.type&&P.target===_.target&&y3(P.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var k=(c.current.shards||[]).map(ub).filter(Boolean).filter(function(P){return P.contains(_.target)}),A=k.length>0?u(_,k[0]):!c.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),h=g.useCallback(function(w,_,N,C){var k={name:w,delta:_,target:N,should:C};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(A){return A!==k})},1)},[]),m=g.useCallback(function(w){r.current=Yu(w),n.current=void 0},[]),p=g.useCallback(function(w){h(w.type,cb(w),w.target,u(w,e.lockRef.current))},[]),x=g.useCallback(function(w){h(w.type,Yu(w),w.target,u(w,e.lockRef.current))},[]);g.useEffect(function(){return Fo.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Lo),document.addEventListener("touchmove",f,Lo),document.addEventListener("touchstart",m,Lo),function(){Fo=Fo.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,Lo),document.removeEventListener("touchmove",f,Lo),document.removeEventListener("touchstart",m,Lo)}},[]);var y=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(l,{styles:w3(o)}):null,y?g.createElement(h1,{gapMode:"margin"}):null)}const _3=d1(BS,j3);var HS=g.forwardRef(function(e,t){return g.createElement(qd,rr({},e,{ref:t,sideCar:_3}))});HS.classNames=qd.classNames;const S3=[" ","Enter","ArrowUp","ArrowDown"],N3=[" ","Enter"],Yd="Select",[Gd,Kd,C3]=UL(Yd),[xa,nV]=Rv(Yd,[C3,IS]),Bv=IS(),[k3,Xi]=xa(Yd),[P3,E3]=xa(Yd),T3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:l,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:p,disabled:x,required:y}=e,j=Bv(t),[w,_]=g.useState(null),[N,C]=g.useState(null),[k,A]=g.useState(!1),P=VL(h),[E=!1,R]=ab({prop:n,defaultProp:o,onChange:l}),[D,$]=ab({prop:c,defaultProp:u,onChange:f}),W=g.useRef(null),X=w?!!w.closest("form"):!0,[Q,z]=g.useState(new Set),O=Array.from(Q).map(U=>U.props.value).join(";");return g.createElement(i3,j,g.createElement(k3,{required:y,scope:t,trigger:w,onTriggerChange:_,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:pS(),value:D,onValueChange:$,open:E,onOpenChange:R,dir:P,triggerPointerDownPosRef:W,disabled:x},g.createElement(Gd.Provider,{scope:t},g.createElement(P3,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(U=>{z(H=>new Set(H).add(U))},[]),onNativeOptionRemove:g.useCallback(U=>{z(H=>{const F=new Set(H);return F.delete(U),F})},[])},r)),X?g.createElement(KS,{key:O,"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:D,onChange:U=>$(U.target.value),disabled:x},D===void 0?g.createElement("option",{value:""}):null,Array.from(Q)):null))},A3="SelectTrigger",D3=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,l=Bv(r),c=Xi(A3,r),u=c.disabled||n,f=nr(t,c.onTriggerChange),h=Kd(r),[m,p,x]=XS(j=>{const w=h().filter(C=>!C.disabled),_=w.find(C=>C.value===c.value),N=JS(w,j,_);N!==void 0&&c.onValueChange(N.value)}),y=()=>{u||(c.onOpenChange(!0),x())};return g.createElement(o3,Ze({asChild:!0},l),g.createElement(Xt.button,Ze({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":c.value===void 0?"":void 0},o,{ref:f,onClick:Vt(o.onClick,j=>{j.currentTarget.focus()}),onPointerDown:Vt(o.onPointerDown,j=>{const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&(y(),c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)},j.preventDefault())}),onKeyDown:Vt(o.onKeyDown,j=>{const w=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&p(j.key),!(w&&j.key===" ")&&S3.includes(j.key)&&(y(),j.preventDefault())})})))}),R3="SelectValue",O3=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:l,placeholder:c,...u}=e,f=Xi(R3,r),{onValueNodeHasChildrenChange:h}=f,m=l!==void 0,p=nr(t,f.onValueNodeChange);return Qr(()=>{h(m)},[h,m]),g.createElement(Xt.span,Ze({},u,{ref:p,style:{pointerEvents:"none"}}),f.value===void 0&&c!==void 0?c:l)}),$3=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return g.createElement(Xt.span,Ze({"aria-hidden":!0},o,{ref:t}),n||"")}),M3=e=>g.createElement(l3,Ze({asChild:!0},e)),sa="SelectContent",I3=g.forwardRef((e,t)=>{const r=Xi(sa,e.__scopeSelect),[n,o]=g.useState();if(Qr(()=>{o(new DocumentFragment)},[]),!r.open){const l=n;return l?Ui.createPortal(g.createElement(qS,{scope:e.__scopeSelect},g.createElement(Gd.Slot,{scope:e.__scopeSelect},g.createElement("div",null,e.children))),l):null}return g.createElement(L3,Ze({},e,{ref:t}))}),Kn=10,[qS,Ji]=xa(sa),L3=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_,...N}=e,C=Xi(sa,r),[k,A]=g.useState(null),[P,E]=g.useState(null),R=nr(t,se=>A(se)),[D,$]=g.useState(null),[W,X]=g.useState(null),Q=Kd(r),[z,O]=g.useState(!1),U=g.useRef(!1);g.useEffect(()=>{if(k)return _v(k)},[k]),QL();const H=g.useCallback(se=>{const[ie,...je]=Q().map(_e=>_e.ref.current),[ge]=je.slice(-1),fe=document.activeElement;for(const _e of se)if(_e===fe||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ie&&P&&(P.scrollTop=0),_e===ge&&P&&(P.scrollTop=P.scrollHeight),_e==null||_e.focus(),document.activeElement!==fe))return},[Q,P]),F=g.useCallback(()=>H([D,k]),[H,D,k]);g.useEffect(()=>{z&&F()},[z,F]);const{onOpenChange:I,triggerPointerDownPosRef:q}=C;g.useEffect(()=>{if(k){let se={x:0,y:0};const ie=ge=>{var fe,_e,He,Ee;se={x:Math.abs(Math.round(ge.pageX)-((fe=(_e=q.current)===null||_e===void 0?void 0:_e.x)!==null&&fe!==void 0?fe:0)),y:Math.abs(Math.round(ge.pageY)-((He=(Ee=q.current)===null||Ee===void 0?void 0:Ee.y)!==null&&He!==void 0?He:0))}},je=ge=>{se.x<=10&&se.y<=10?ge.preventDefault():k.contains(ge.target)||I(!1),document.removeEventListener("pointermove",ie),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",je,{capture:!0})}}},[k,I,q]),g.useEffect(()=>{const se=()=>I(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[I]);const[Y,M]=XS(se=>{const ie=Q().filter(fe=>!fe.disabled),je=ie.find(fe=>fe.ref.current===document.activeElement),ge=JS(ie,se,je);ge&&setTimeout(()=>ge.ref.current.focus())}),J=g.useCallback((se,ie,je)=>{const ge=!U.current&&!je;(C.value!==void 0&&C.value===ie||ge)&&($(se),ge&&(U.current=!0))},[C.value]),te=g.useCallback(()=>k==null?void 0:k.focus(),[k]),ve=g.useCallback((se,ie,je)=>{const ge=!U.current&&!je;(C.value!==void 0&&C.value===ie||ge)&&X(se)},[C.value]),pe=n==="popper"?db:F3,de=pe===db?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return g.createElement(qS,{scope:r,content:k,viewport:P,onViewportChange:E,itemRefCallback:J,selectedItem:D,onItemLeave:te,itemTextRefCallback:ve,focusSelectedItem:F,selectedItemText:W,position:n,isPositioned:z,searchRef:Y},g.createElement(HS,{as:Ul,allowPinchZoom:!0},g.createElement(ZL,{asChild:!0,trapped:C.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Vt(o,se=>{var ie;(ie=C.trigger)===null||ie===void 0||ie.focus({preventScroll:!0}),se.preventDefault()})},g.createElement(KL,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>C.onOpenChange(!1)},g.createElement(pe,Ze({role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:se=>se.preventDefault()},N,de,{onPlaced:()=>O(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Vt(N.onKeyDown,se=>{const ie=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ie&&se.key.length===1&&M(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ge=Q().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const fe=se.target,_e=ge.indexOf(fe);ge=ge.slice(_e+1)}setTimeout(()=>H(ge)),se.preventDefault()}})}))))))}),F3=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,l=Xi(sa,r),c=Ji(sa,r),[u,f]=g.useState(null),[h,m]=g.useState(null),p=nr(t,R=>m(R)),x=Kd(r),y=g.useRef(!1),j=g.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:N,focusSelectedItem:C}=c,k=g.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&w&&_&&N){const R=l.trigger.getBoundingClientRect(),D=h.getBoundingClientRect(),$=l.valueNode.getBoundingClientRect(),W=N.getBoundingClientRect();if(l.dir!=="rtl"){const fe=W.left-D.left,_e=$.left-fe,He=R.left-_e,Ee=R.width+He,Et=Math.max(Ee,D.width),ft=window.innerWidth-Kn,wr=Hw(_e,[Kn,ft-Et]);u.style.minWidth=Ee+"px",u.style.left=wr+"px"}else{const fe=D.right-W.right,_e=window.innerWidth-$.right-fe,He=window.innerWidth-R.right-_e,Ee=R.width+He,Et=Math.max(Ee,D.width),ft=window.innerWidth-Kn,wr=Hw(_e,[Kn,ft-Et]);u.style.minWidth=Ee+"px",u.style.right=wr+"px"}const X=x(),Q=window.innerHeight-Kn*2,z=w.scrollHeight,O=window.getComputedStyle(h),U=parseInt(O.borderTopWidth,10),H=parseInt(O.paddingTop,10),F=parseInt(O.borderBottomWidth,10),I=parseInt(O.paddingBottom,10),q=U+H+z+I+F,Y=Math.min(_.offsetHeight*5,q),M=window.getComputedStyle(w),J=parseInt(M.paddingTop,10),te=parseInt(M.paddingBottom,10),ve=R.top+R.height/2-Kn,pe=Q-ve,de=_.offsetHeight/2,se=_.offsetTop+de,ie=U+H+se,je=q-ie;if(ie<=ve){const fe=_===X[X.length-1].ref.current;u.style.bottom="0px";const _e=h.clientHeight-w.offsetTop-w.offsetHeight,He=Math.max(pe,de+(fe?te:0)+_e+F),Ee=ie+He;u.style.height=Ee+"px"}else{const fe=_===X[0].ref.current;u.style.top="0px";const He=Math.max(ve,U+w.offsetTop+(fe?J:0)+de)+je;u.style.height=He+"px",w.scrollTop=ie-ve+w.offsetTop}u.style.margin=`${Kn}px 0`,u.style.minHeight=Y+"px",u.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[x,l.trigger,l.valueNode,u,h,w,_,N,l.dir,n]);Qr(()=>k(),[k]);const[A,P]=g.useState();Qr(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const E=g.useCallback(R=>{R&&j.current===!0&&(k(),C==null||C(),j.current=!1)},[k,C]);return g.createElement(U3,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:E},g.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A}},g.createElement(Xt.div,Ze({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),db=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Kn,...l}=e,c=Bv(r);return g.createElement(a3,Ze({},c,l,{ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[U3,Vv]=xa(sa,{}),fb="SelectViewport",B3=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Ji(fb,r),l=Vv(fb,r),c=nr(t,o.onViewportChange),u=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(Gd.Slot,{scope:r},g.createElement(Xt.div,Ze({"data-radix-select-viewport":"",role:"presentation"},n,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:Vt(n.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&m){const x=Math.abs(u.current-h.scrollTop);if(x>0){const y=window.innerHeight-Kn*2,j=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),_=Math.max(j,w);if(_<y){const N=_+x,C=Math.min(y,N),k=N-C;m.style.height=C+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})}))))}),V3="SelectGroup",[sV,z3]=xa(V3),W3="SelectLabel",H3=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=z3(W3,r);return g.createElement(Xt.div,Ze({id:o.id},n,{ref:t}))}),Ap="SelectItem",[q3,YS]=xa(Ap),Y3=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:l,...c}=e,u=Xi(Ap,r),f=Ji(Ap,r),h=u.value===n,[m,p]=g.useState(l??""),[x,y]=g.useState(!1),j=nr(t,N=>{var C;return(C=f.itemRefCallback)===null||C===void 0?void 0:C.call(f,N,n,o)}),w=pS(),_=()=>{o||(u.onValueChange(n),u.onOpenChange(!1))};return g.createElement(q3,{scope:r,value:n,disabled:o,textId:w,isSelected:h,onItemTextChange:g.useCallback(N=>{p(C=>{var k;return C||((k=N==null?void 0:N.textContent)!==null&&k!==void 0?k:"").trim()})},[])},g.createElement(Gd.ItemSlot,{scope:r,value:n,disabled:o,textValue:m},g.createElement(Xt.div,Ze({role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},c,{ref:j,onFocus:Vt(c.onFocus,()=>y(!0)),onBlur:Vt(c.onBlur,()=>y(!1)),onPointerUp:Vt(c.onPointerUp,_),onPointerMove:Vt(c.onPointerMove,N=>{if(o){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}else N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vt(c.onPointerLeave,N=>{if(N.currentTarget===document.activeElement){var C;(C=f.onItemLeave)===null||C===void 0||C.call(f)}}),onKeyDown:Vt(c.onKeyDown,N=>{var C;((C=f.searchRef)===null||C===void 0?void 0:C.current)!==""&&N.key===" "||(N3.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})}))))}),Gu="SelectItemText",G3=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...l}=e,c=Xi(Gu,r),u=Ji(Gu,r),f=YS(Gu,r),h=E3(Gu,r),[m,p]=g.useState(null),x=nr(t,N=>p(N),f.onItemTextChange,N=>{var C;return(C=u.itemTextRefCallback)===null||C===void 0?void 0:C.call(u,N,f.value,f.disabled)}),y=m==null?void 0:m.textContent,j=g.useMemo(()=>g.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},y),[f.disabled,f.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Qr(()=>(w(j),()=>_(j)),[w,_,j]),g.createElement(g.Fragment,null,g.createElement(Xt.span,Ze({id:f.textId},l,{ref:x})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ui.createPortal(l.children,c.valueNode):null)}),K3="SelectItemIndicator",X3=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return YS(K3,r).isSelected?g.createElement(Xt.span,Ze({"aria-hidden":!0},n,{ref:t})):null}),hb="SelectScrollUpButton",J3=g.forwardRef((e,t)=>{const r=Ji(hb,e.__scopeSelect),n=Vv(hb,e.__scopeSelect),[o,l]=g.useState(!1),c=nr(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollTop>0;l(h)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?g.createElement(GS,Ze({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}})):null}),mb="SelectScrollDownButton",Q3=g.forwardRef((e,t)=>{const r=Ji(mb,e.__scopeSelect),n=Vv(mb,e.__scopeSelect),[o,l]=g.useState(!1),c=nr(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;l(m)};const u=r.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),o?g.createElement(GS,Ze({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}})):null}),GS=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,l=Ji("SelectScrollButton",r),c=g.useRef(null),u=Kd(r),f=g.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return g.useEffect(()=>()=>f(),[f]),Qr(()=>{var h;const m=u().find(p=>p.ref.current===document.activeElement);m==null||(h=m.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[u]),g.createElement(Xt.div,Ze({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:Vt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Vt(o.onPointerMove,()=>{var h;(h=l.onItemLeave)===null||h===void 0||h.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Vt(o.onPointerLeave,()=>{f()})}))}),Z3=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return g.createElement(Xt.div,Ze({"aria-hidden":!0},n,{ref:t}))}),KS=g.forwardRef((e,t)=>{const{value:r,...n}=e,o=g.useRef(null),l=nr(t,o),c=u3(r);return g.useEffect(()=>{const u=o.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==r&&m){const p=new Event("change",{bubbles:!0});m.call(u,r),u.dispatchEvent(p)}},[c,r]),g.createElement(d3,{asChild:!0},g.createElement("select",Ze({},n,{ref:l,defaultValue:r})))});KS.displayName="BubbleSelect";function XS(e){const t=ns(e),r=g.useRef(""),n=g.useRef(0),o=g.useCallback(c=>{const u=r.current+c;t(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),l=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,l]}function JS(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=e5(e,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function e5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const t5=T3,QS=D3,r5=O3,n5=$3,s5=M3,ZS=I3,i5=B3,eN=H3,tN=Y3,o5=G3,a5=X3,rN=J3,nN=Q3,sN=Z3,zt=t5,Wt=r5,Dt=he.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(QS,{ref:n,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(n5,{asChild:!0,children:s.jsx(B_,{className:"h-4 w-4 opacity-50"})})]}));Dt.displayName=QS.displayName;const iN=he.forwardRef(({className:e,...t},r)=>s.jsx(rN,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(G4,{className:"h-4 w-4"})}));iN.displayName=rN.displayName;const oN=he.forwardRef(({className:e,...t},r)=>s.jsx(nN,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(B_,{className:"h-4 w-4"})}));oN.displayName=nN.displayName;const Rt=he.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(s5,{children:s.jsxs(ZS,{ref:o,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(iN,{}),s.jsx(i5,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(oN,{})]})}));Rt.displayName=ZS.displayName;const l5=he.forwardRef(({className:e,...t},r)=>s.jsx(eN,{ref:r,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));l5.displayName=eN.displayName;const De=he.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tN,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(a5,{children:s.jsx(U_,{className:"h-4 w-4"})})}),s.jsx(o5,{children:t})]}));De.displayName=tN.displayName;const c5=he.forwardRef(({className:e,...t},r)=>s.jsx(sN,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));c5.displayName=sN.displayName;const Am=25,u5=()=>{var J;const{user:e}=sr(),t=os(),r=new URLSearchParams(t.search),n=r.get("featured"),o=r.get("search"),l=r.get("cat_filter"),c=r.get("sort"),u=Kt(),[f,h]=g.useState(o||""),[m,p]=g.useState(o||""),[x,y]=g.useState(l||"all"),[j,w]=g.useState(c||"name-asc"),[_,N]=g.useState([]),[C,k]=g.useState([]),[A,P]=g.useState(!0),[E,R]=g.useState(!1),[D,$]=g.useState(!0),[W,X]=g.useState(0),[Q,z]=g.useState(!1);g.useEffect(()=>{const te=setTimeout(()=>{if(f.length>=2||f.length===0){if(!e){const ve=parseInt(localStorage.getItem("search_count")||"0",10);if(ve>=10){z(!0);return}localStorage.setItem("search_count",(ve+1).toString())}p(f)}},300);return()=>clearTimeout(te)},[e,f]),g.useEffect(()=>{O()},[]),g.useEffect(()=>{X(0),N([]),$(!0),U(!0),u({pathname:t.pathname,search:`search=${m}&cat_filter=${x}&sort=${j}`},{replace:!0})},[m,x,j,n]);const O=async()=>{try{let te=qr("categories_all");if(!te){const{data:ve,error:pe}=await ce.from("categories").select("*").order("name");if(pe)throw pe;te=ve||[],Ar("categories_all",te)}k(te)}catch(te){console.error("Error fetching categories:",te)}},U=async(te=!1)=>{const ve=te?0:W,pe=`products_${n||"all"}_${m||"all"}_${x}_${j}_${ve}`;te?P(!0):R(!0);try{let de=qr(pe),se=[];if(de)se=de;else{let ie=ce.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `);if(n==="true"&&(ie=ie.eq("featured",!0)),m&&m.length>=2){const He=m.replace(/\s+/g,"+");ie=ie.textSearch("fts",`${He}:*`)}if(x!=="all"){const He=parseInt(x);ie=ie.or(`category_id.eq.${He},categories_ids.cs.[${He}]`)}switch(j){case"name-asc":ie=ie.order("name",{ascending:!0});break;case"name-desc":ie=ie.order("name",{ascending:!1});break;case"price-asc":ie=ie.order("price",{ascending:!0});break;case"price-desc":ie=ie.order("price",{ascending:!1});break;default:ie=ie.order("name",{ascending:!0});break}const je=ve*Am,ge=je+Am-1;ie=ie.range(je,ge);const{data:fe,error:_e}=await ie;if(_e)throw _e;se=fe||[],Ar(pe,se)}te?(N(se),X(1)):(N(ie=>[...ie,...se]),X(ie=>ie+1)),$(se.length===Am)}catch(de){console.error("Error fetching products:",de)}finally{P(!1),R(!1)}},H=()=>{!E&&D&&U(!1)},F=te=>{h(te)},I=te=>{y(te)},q=te=>{w(te)},Y=()=>{h(""),p(""),y("all"),w("name-asc")},M=f||x!=="all"||j!=="name-asc";return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative min-h-[280px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-5",children:s.jsxs(be.div,{className:"space-y-3 max-w-4xl mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:n==="true"?"Featured Products":"Shop"}),s.jsx("p",{className:"text-white/90 text-sm",children:"Browse from a selection of groceries, household essentials and more."})]}),s.jsx(be.div,{className:"relative max-w-xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:s.jsxs("div",{className:"relative",children:[s.jsx(pv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx(xe,{type:"search",placeholder:"Search for products...",className:"h-9 pl-2 pr-4 bg-white/95 backdrop-blur-sm border-0 shadow-lg text-gray-800 placeholder:text-gray-500",value:f,onChange:te=>F(te.target.value)}),f.length>0&&f.length<2&&s.jsx("p",{className:"p-1 -bottom-4 left-0 text-xs text-white/80",children:"Enter at least 2 characters to search"})]})}),s.jsxs(be.div,{className:"flex flex-col sm:flex-row gap-2 items-center justify-center max-w-3xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:[s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center",children:[s.jsxs("div",{className:"min-w-[120px] w-full flex items-center",children:[s.jsx(ei,{className:"w-5 h-5 text-white mr-2"}),s.jsxs(zt,{value:x,onValueChange:I,children:[s.jsx(Dt,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:s.jsx(Wt,{placeholder:"All Categories"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"all",children:"All Categories"}),C.map(te=>s.jsx(De,{value:te.id.toString(),children:te.name},te.id))]})]})]}),s.jsxs("div",{className:"min-w-[140px] w-[140px] flex items-center",children:[s.jsx($4,{className:"w-5 h-5 text-white mr-2"}),s.jsxs(zt,{value:j,onValueChange:q,children:[s.jsx(Dt,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg h-8 text-sm",children:s.jsx(Wt,{placeholder:"Sort by"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(De,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(De,{value:"price-asc",children:"Price (Low to High)"}),s.jsx(De,{value:"price-desc",children:"Price (High to Low)"})]})]})]})]}),M&&s.jsxs(ee,{variant:"outline",size:"sm",className:"bg-white/95 backdrop-blur-sm border-0 shadow-lg hover:bg-white text-gray-800 h-8 text-xs",onClick:Y,children:[s.jsx(ti,{className:"w-3 h-3 mr-1"}),"Reset"]})]}),M&&s.jsxs(be.div,{className:"flex flex-wrap gap-1 justify-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:[f&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:['Search: "',f,'"']}),x!=="all"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Category: ",(J=C.find(te=>te.id.toString()===x))==null?void 0:J.name]}),j!=="name-asc"&&s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-white text-xs",children:["Sort: ",j.replace("-"," ").replace(/\b\w/g,te=>te.toUpperCase())]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:A?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):_.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter criteria."}),M&&s.jsx(ee,{onClick:Y,className:"mt-4",variant:"outline",children:"Clear all filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," product",_.length!==1?"s":"",M&&" matching your criteria"]})}),s.jsx("div",{className:"product-grid",children:_.map(te=>s.jsx(hd,{product:te},te.id))}),D&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx(ee,{onClick:H,disabled:E,variant:"outline",size:"lg",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More Products"})})]})}),Q&&s.jsx(Pv,{open:Q,onOpenChange:z})]})},d5=({category:e})=>s.jsx(Ae,{to:`/category/${e.id}`,children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.03},className:"category-card overflow-hidden rounded-lg border bg-card",children:[s.jsx("div",{className:"aspect-square mx-auto bg-muted",children:s.jsx("img",{alt:e.name,className:"w-full h-full object-cover",src:e.icon_url||"https://images.unsplash.com/photo-1491696888587-6a2c0225c9fb"})}),s.jsxs("div",{className:"p-3 text-center",children:[s.jsx("h3",{className:"text-sm font-medium",children:e.name}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-center mt-2 text-primary",children:[s.jsx("span",{className:"text-xs font-medium",children:"Shop now"}),s.jsx(pp,{className:"ml-1 h-3 w-3"})]})]})]})}),f5=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{let l=qr("categories_all");if(l)t(l);else{const{data:c,error:u}=await ce.from("categories").select("*").order("name");if(u)throw u;t(c||[]),Ar("categories_all",c||[])}}catch(l){console.error("Error fetching categories:",l)}finally{n(!1)}})()},[]),r?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[200px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Fresh groceries",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full max-w-2xl",children:s.jsxs(be.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Categories"}),s.jsx("p",{className:"text-white/90",children:"Browse our selection of grocery categories to find exactly what you need."})]})})})]}),s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map((o,l)=>s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.05},children:s.jsx(d5,{category:o})},o.id))})})]})},h5=()=>{const{id:e}=_d(),[t,r]=g.useState(null),[n,o]=g.useState([]),[l,c]=g.useState(!0),[u,f]=g.useState(""),h=Kt();g.useEffect(()=>{(async()=>{if(e){c(!0);try{let x=qr(`category_${e}`),y=qr(`category_products_${e}`);if(!x){const{data:j,error:w}=await ce.from("categories").select("*").eq("id",e).single();if(w)throw w;x=j,Ar(`category_${e}`,j)}if(r(x),!y){const{data:j,error:w}=await ce.from("products").select("*, categories ( id, name )").or(`category_id.eq.${e},categories_ids.cs.[${e}]`).order("name");if(w)throw w;y=j||[],Ar(`category_products_${e}`,y)}o(y)}catch(x){console.error("Error fetching category or products:",x)}finally{c(!1)}}})()},[e]);const m=n.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())||p.description&&p.description.toLowerCase().includes(u.toLowerCase()));return l?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(ee,{variant:"ghost",size:"sm",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",onClick:()=>h(-1),children:[s.jsx(ta,{className:"w-4 h-4 mr-1"}),"Go Back"]})}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:s.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg bg-muted mb-4",style:t!=null&&t.icon_url?{backgroundImage:`url(${t.icon_url})`,backgroundRepeat:"repeat",backgroundSize:"60px",backgroundPosition:"center"}:{},children:[s.jsx("div",{className:"absolute inset-0 bg-[#3CB371] opacity-90"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:t.name}),s.jsx("p",{className:"mt-2 text-white/90",children:t.description})]})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(pv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(xe,{type:"text",placeholder:`Search products in ${t.name}...`,value:u,onChange:p=>f(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-8 text-center border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:u?`No products found matching "${u}"`:"No products found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:u?"Try a different search term.":"There are currently no products in this category."}),!u&&s.jsx(Ae,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Browse All Products"})})]}):s.jsxs("div",{className:"product-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[" ",m.map(p=>s.jsx(hd,{product:p},p.id))]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Category Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The category you're looking for doesn't exist."}),s.jsx(Ae,{to:"/categories",children:s.jsx(ee,{className:"mt-4",children:"Browse All Categories"})})]})})},m5=()=>{const{id:e}=_d(),[t,r]=g.useState(null),[n,o]=g.useState(!0),{addToCart:l,updateQuantity:c,cart:u}=as(),f=Kt();g.useEffect(()=>{(async()=>{if(e)try{const{data:j,error:w}=await ce.from("products").select(`
            *,
            categories (
              id,
              name
            )
          `).eq("id",e).single();if(w)throw w;r(j)}catch(j){console.error("Error fetching product:",j)}finally{o(!1)}})()},[e]);const h=u.find(y=>(y==null?void 0:y.id)===(t==null?void 0:t.id)),m=h?h.quantity:0,p=y=>{t&&c(t.id,y)},x=()=>{t&&l(t,1)};return n?s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t?s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(ee,{variant:"ghost",size:"sm",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",onClick:()=>f(-1),children:[s.jsx(ta,{className:"w-4 h-4 mr-1"}),"Go Back"]})}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"overflow-hidden rounded-lg bg-muted aspect-square",children:s.jsx("img",{alt:t.name,className:"w-full h-full object-cover",src:t.image_url||"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/product-placeholder.webp"})}),s.jsxs(be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[t.categories&&s.jsx(Ae,{to:`/category/${t.categories.id}`,className:"inline-block px-3 py-1 text-xs font-medium rounded-full bg-primary/10 text-primary",children:t.categories.name}),s.jsx("h1",{className:"text-3xl font-bold",children:t.name}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:Se(t.price)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["per ",t.unit]})]}),s.jsx("p",{className:"text-muted-foreground",children:t.description}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("div",{className:"flex items-center space-x-4",children:m>0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>p(m-1),children:s.jsx(nc,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium w-6 text-center",children:m}),s.jsx(ee,{size:"icon",className:"h-8 w-8",onClick:()=>p(m+1),children:s.jsx(ma,{className:"h-4 w-4"})})]}):s.jsxs(ee,{className:"flex-1",onClick:x,disabled:!t.in_stock,children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),t.in_stock?"Add to Cart":"Out of Stock"]})}),m>0&&s.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Total:"})," ",Se(t.price*m)]})})]})]})]})]}):s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Product Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The product you're looking for doesn't exist."}),s.jsx(Ae,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Browse All Products"})})]})})};function aN(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function zv(e){const[t,r]=g.useState(void 0);return rs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xd="Checkbox",[p5,iV]=$n(Xd),[v5,g5]=p5(Xd),lN=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...p}=e,[x,y]=g.useState(null),j=jt(t,A=>y(A)),w=g.useRef(!1),_=x?m||!!x.closest("form"):!0,[N,C]=Gi({prop:o,defaultProp:l??!1,onChange:h,caller:Xd}),k=g.useRef(N);return g.useEffect(()=>{const A=x==null?void 0:x.form;if(A){const P=()=>C(k.current);return A.addEventListener("reset",P),()=>A.removeEventListener("reset",P)}},[x,C]),s.jsxs(v5,{scope:r,state:N,disabled:u,children:[s.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":Hs(N)?"mixed":N,"aria-required":c,"data-state":fN(N),"data-disabled":u?"":void 0,disabled:u,value:f,...p,ref:j,onKeyDown:qe(e.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:qe(e.onClick,A=>{C(P=>Hs(P)?!0:!P),_&&(w.current=A.isPropagationStopped(),w.current||A.stopPropagation())})}),_&&s.jsx(dN,{control:x,bubbles:!w.current,name:n,value:f,checked:N,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Hs(l)?!1:l})]})});lN.displayName=Xd;var cN="CheckboxIndicator",uN=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,l=g5(cN,r);return s.jsx(Mn,{present:n||Hs(l.state)||l.state===!0,children:s.jsx(Ke.span,{"data-state":fN(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});uN.displayName=cN;var x5="CheckboxBubbleInput",dN=g.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:o,...l},c)=>{const u=g.useRef(null),f=jt(u,c),h=aN(r),m=zv(t);g.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==r&&w){const _=new Event("click",{bubbles:n});x.indeterminate=Hs(r),w.call(x,Hs(r)?!1:r),x.dispatchEvent(_)}},[h,r,n]);const p=g.useRef(Hs(r)?!1:r);return s.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,...l,tabIndex:-1,ref:f,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dN.displayName=x5;function Hs(e){return e==="indeterminate"}function fN(e){return Hs(e)?"indeterminate":e?"checked":"unchecked"}var hN=lN,y5=uN;const Rn=he.forwardRef(({className:e,...t},r)=>s.jsx(hN,{ref:r,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(y5,{className:Pe("flex items-center justify-center text-current"),children:s.jsx(U_,{className:"h-4 w-4"})})}));Rn.displayName=hN.displayName;const cr=he.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));cr.displayName="Textarea";const mN=({onSelect:e})=>{const{user:t}=sr(),r=(t==null?void 0:t.addresses)||[];return s.jsx("div",{className:"space-y-2",children:r.map(n=>s.jsxs(ee,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>e(n.address),children:[s.jsx(Fl,{className:"w-4 h-4 mr-2"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:n.label}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:n.address})]})]},n.id))})},Jd=({value:e,onChange:t,onAddressSelect:r,placeholder:n="Enter your address",className:o,disabled:l,...c})=>{const[u,f]=g.useState([]),[h,m]=g.useState(!1),[p,x]=g.useState(!1),y=g.useRef(null),j=g.useRef(null),w=g.useRef(!1),_=g.useRef(),N=async E=>{x(!0);try{if(E.length>=3){const R=`address_suggestions_${E.toLowerCase()}`,D=qr(R);if(D){f(D),m(D.length>0),x(!1);return}let $=E.replace(/\s+/g,"+");const W=await ce.from("adelaide_address_data").select("ADDRESS_LA, LOCALITY_N, POSTCODE").textSearch("fts",`${$}:*`).limit(18446744);if(W.error)throw W.error;const X=C(W.data);f(X),m(X.length>0),Ar(R,X,525600);return}f([]),m(!1)}catch(R){console.error("Error searching addresses:",R),f([]),m(!1)}finally{x(!1)}};g.useEffect(()=>{if(w.current){w.current=!1;return}if(!e||e.length<3){f([]),m(!1);return}return clearTimeout(_.current),_.current=setTimeout(()=>{N(e)},400),()=>clearTimeout(_.current)},[e]);const C=E=>{const R={ADDRESS_LA:"address",LOCALITY_N:"suburb",POSTCODE:"postcode"};return E.map(D=>{const $={};for(const W in D)$[R[W]||W]=D[W];return $})},k=E=>{t(E.target.value)},A=E=>{w.current=!0,t(E.address),m(!1),r&&r({address:E.address,suburb:E.suburb.toUpperCase(),postcode:E.postcode})},P=E=>{E.key==="Escape"&&m(!1)};return g.useEffect(()=>{const E=R=>{y.current&&!y.current.contains(R.target)&&j.current&&!j.current.contains(R.target)&&m(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]),s.jsxs("div",{className:"relative",children:[s.jsx(xe,{ref:y,value:e,onChange:k,onKeyDown:P,placeholder:n,className:o,disabled:l,...c}),h&&u.length>0&&s.jsx("div",{ref:j,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:u.map((E,R)=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>A(E),children:[s.jsx("div",{className:"text-sm font-medium",children:E.address}),s.jsxs("div",{className:"text-xs text-gray-500",children:[E.suburb,", ",E.postcode]})]},R))}),p&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]})};async function Qd({cacheKey:e="postcodes",cacheMinutes:t=1440}={}){const r=qr(e);if(r)return r;const{data:n,error:o}=await ce.from("postcodes").select("*").order("suburb");if(o)throw o;return Ar(e,n,t),n}const w5=({onDetailsChange:e,errors:t})=>{var A;const{user:r}=sr(),[n,o]=g.useState({name:"",email:"",phone:"",address:"",postcode:"",deliveryNotes:""}),[l,c]=g.useState(!1),[u,f]=g.useState([]),[h,m]=g.useState([]),[p,x]=g.useState(""),[y,j]=g.useState(!1),w=[`Don't ring doorbell, leave at door
`,`Call on arrival
`,`Leave with reception
`,`Knock softly, baby sleeping
`,`Text me before delivery
`,`Hand to me only
`];g.useEffect(()=>{r&&o({name:r.name||"",email:r.email||"",phone:r.phone||"",address:"",postcode:"",deliveryNotes:""})},[r]),g.useEffect(()=>{(async()=>{try{const E=await Qd();f(E),m(E)}catch(E){console.error("Error fetching postcodes:",E)}})()},[]),g.useEffect(()=>{if(p.length===0)m(u);else{const P=u.filter(E=>E.suburb.toLowerCase().includes(p.toLowerCase())||E.postcode.includes(p));m(P)}},[p,u]),g.useEffect(()=>{e({...n})},[n,e]);const _=P=>{const{name:E,value:R}=P.target;o(D=>({...D,[E]:R}))},N=P=>{const E=r.addresses.find(R=>R.address===P);if(E){o(D=>({...D,address:E.address,postcode:E.postcode.toString()}));const R=u.find(D=>D.postcode===E.postcode);R&&x(`${R.suburb}, ${R.postcode}`)}c(!1)},C=P=>{o(E=>({...E,address:P.address,postcode:P.postcode})),x(`${P.suburb.toUpperCase()}, ${P.postcode}`)},k=P=>{o(E=>({...E,postcode:P.postcode})),x(`${P.suburb}, ${P.postcode}`),j(!1)};return s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx($d,{className:"mr-2 h-5 w-5 text-primary"}),"Delivery Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(xe,{id:"name",name:"name",value:n.name,onChange:_,className:t!=null&&t.name?"border-destructive":""}),(t==null?void 0:t.name)&&s.jsx("p",{className:"text-xs text-destructive",children:t.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email (Optional)"}),s.jsx(xe,{id:"email",name:"email",type:"email",value:n.email,onChange:_,className:t!=null&&t.email?"border-destructive":""}),(t==null?void 0:t.email)&&s.jsx("p",{className:"text-xs text-destructive",children:t.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(xe,{id:"phone",name:"phone",value:n.phone,onChange:_,className:t!=null&&t.phone?"border-destructive":""}),(t==null?void 0:t.phone)&&s.jsx("p",{className:"text-xs text-destructive",children:t.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{htmlFor:"address",children:"Delivery Address"}),r&&((A=r.addresses)==null?void 0:A.length)>0&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"flex items-center text-primary",children:[s.jsx(Fl,{className:"w-4 h-4 mr-1"}),l?"Hide saved addresses":"Use saved address"]})]}),l&&s.jsx(mN,{onSelect:N}),s.jsx(Jd,{value:n.address,onChange:P=>o(E=>({...E,address:P})),onAddressSelect:C,placeholder:"Start typing your address...",className:t!=null&&t.address?"border-destructive":""}),(t==null?void 0:t.address)&&s.jsx("p",{className:"text-xs text-destructive",children:t.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:p,onChange:P=>{x(P.target.value),j(!0)},onFocus:()=>j(!0),className:t!=null&&t.postcode?"border-destructive":""}),y&&h.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.slice(0,10).map(P=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>k(P),children:[s.jsx("div",{className:"text-sm font-medium",children:P.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:P.postcode})]},`${P.suburb}-${P.postcode}`))})]}),(t==null?void 0:t.postcode)&&s.jsx("p",{className:"text-xs text-destructive",children:t.postcode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"deliveryNotes",children:"Delivery Notes (Optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.map(P=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>o(E=>({...E,deliveryNotes:n.deliveryNotes+P})),children:P},P))}),s.jsx(cr,{id:"deliveryNotes",name:"deliveryNotes",value:n.deliveryNotes,onChange:_,placeholder:"E.g., Leave at the door, call upon arrival, etc.",rows:3})]})]})]})};var b5="Separator",pb="horizontal",j5=["horizontal","vertical"],pN=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=pb,...o}=e,l=_5(n)?n:pb,u=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(Ke.div,{"data-orientation":l,...u,...o,ref:t})});pN.displayName=b5;function _5(e){return j5.includes(e)}var vN=pN;const zl=he.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(vN,{ref:o,decorative:r,orientation:t,className:Pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));zl.displayName=vN.displayName;const S5=({deliveryFee:e=0,appliedPromo:t=null,discountAmount:r=0,serviceFeePercent:n=0,serviceFee:o=0})=>{const{cart:l,getCartTotal:c}=as(),u=c(),f=u-r+e+o;return s.jsxs("div",{className:"sticky top-20 p-6 border rounded-lg bg-muted/20",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4 custom-scrollbar",children:l.length>0?l.map(h=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 mr-2",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:h.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Se(h.price)," x ",h.quantity]})]}),s.jsx("p",{className:"font-medium text-sm whitespace-nowrap",children:Se(h.price*h.quantity)})]},h.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Your cart is empty."})}),s.jsx(zl,{className:"my-4"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cart Total"}),s.jsx("span",{children:Se(u)})]}),t&&r>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",t.code,")"]}),s.jsxs("span",{children:["-",Se(r)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:Se(e)})]}),o>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",n," %)"]}),s.jsx("span",{children:Se(o)})]}),s.jsx(zl,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-base pt-1",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Se(f)})]})]})]})};function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}function Ht(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Me(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ze(e){Me(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ia(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Gt(e,t){Me(2,arguments);var r=ze(e),n=Ht(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function gn(e,t){Me(2,arguments);var r=ze(e),n=Ht(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),l=new Date(r.getTime());l.setMonth(r.getMonth()+n+1,0);var c=l.getDate();return o>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),o),r)}function N5(e,t){Me(2,arguments);var r=ze(e).getTime(),n=Ht(t);return new Date(r+n)}var C5={};function ni(){return C5}function On(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ni(),p=Ht((r=(n=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ze(e),y=x.getDay(),j=(y<p?7:0)+y-p;return x.setDate(x.getDate()-j),x.setHours(0,0,0,0),x}function Fi(e){return Me(1,arguments),On(e,{weekStartsOn:1})}function k5(e){Me(1,arguments);var t=ze(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=Fi(n),l=new Date(0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);var c=Fi(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function P5(e){Me(1,arguments);var t=k5(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=Fi(r);return n}function Wl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function oa(e){Me(1,arguments);var t=ze(e);return t.setHours(0,0,0,0),t}var E5=864e5;function Jn(e,t){Me(2,arguments);var r=oa(e),n=oa(t),o=r.getTime()-Wl(r),l=n.getTime()-Wl(n);return Math.round((o-l)/E5)}function Dp(e,t){Me(2,arguments);var r=Ht(t),n=r*7;return Gt(e,n)}function T5(e,t){Me(2,arguments);var r=Ht(t);return gn(e,r*12)}function A5(e){Me(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(ia(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=ze(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function D5(e){Me(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(ia(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=ze(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function gr(e,t){Me(2,arguments);var r=oa(e),n=oa(t);return r.getTime()===n.getTime()}function Wv(e){return Me(1,arguments),e instanceof Date||ia(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function R5(e){if(Me(1,arguments),!Wv(e)&&typeof e!="number")return!1;var t=ze(e);return!isNaN(Number(t))}function Hl(e,t){Me(2,arguments);var r=ze(e),n=ze(t),o=r.getFullYear()-n.getFullYear(),l=r.getMonth()-n.getMonth();return o*12+l}var O5=6048e5;function $5(e,t,r){Me(2,arguments);var n=On(e,r),o=On(t,r),l=n.getTime()-Wl(n),c=o.getTime()-Wl(o);return Math.round((l-c)/O5)}function Hv(e){Me(1,arguments);var t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function xr(e){Me(1,arguments);var t=ze(e);return t.setDate(1),t.setHours(0,0,0,0),t}function M5(e){Me(1,arguments);var t=ze(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qv(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ni(),p=Ht((r=(n=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ze(e),y=x.getDay(),j=(y<p?-7:0)+6-(y-p);return x.setDate(x.getDate()+j),x.setHours(23,59,59,999),x}function gN(e){return Me(1,arguments),qv(e,{weekStartsOn:1})}function I5(e,t){Me(2,arguments);var r=Ht(t);return N5(e,-r)}var L5=864e5;function F5(e){Me(1,arguments);var t=ze(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),o=r-n;return Math.floor(o/L5)+1}function xd(e){Me(1,arguments);var t=1,r=ze(e),n=r.getUTCDay(),o=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function xN(e){Me(1,arguments);var t=ze(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=xd(n),l=new Date(0);l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0);var c=xd(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function U5(e){Me(1,arguments);var t=xN(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=xd(r);return n}var B5=6048e5;function V5(e){Me(1,arguments);var t=ze(e),r=xd(t).getTime()-U5(t).getTime();return Math.round(r/B5)+1}function yd(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ni(),p=Ht((r=(n=(o=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ze(e),y=x.getUTCDay(),j=(y<p?7:0)+y-p;return x.setUTCDate(x.getUTCDate()-j),x.setUTCHours(0,0,0,0),x}function yN(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ze(e),p=m.getUTCFullYear(),x=ni(),y=Ht((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&n!==void 0?n:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(p+1,0,y),j.setUTCHours(0,0,0,0);var w=yd(j,t),_=new Date(0);_.setUTCFullYear(p,0,y),_.setUTCHours(0,0,0,0);var N=yd(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function z5(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ni(),p=Ht((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=yN(e,t),y=new Date(0);y.setUTCFullYear(x,0,p),y.setUTCHours(0,0,0,0);var j=yd(y,t);return j}var W5=6048e5;function H5(e,t){Me(1,arguments);var r=ze(e),n=yd(r,t).getTime()-z5(r,t).getTime();return Math.round(n/W5)+1}function tt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Rs={y:function(t,r){var n=t.getUTCFullYear(),o=n>0?n:1-n;return tt(r==="yy"?o%100:o,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):tt(n+1,2)},d:function(t,r){return tt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return tt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return tt(t.getUTCHours(),r.length)},m:function(t,r){return tt(t.getUTCMinutes(),r.length)},s:function(t,r){return tt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,o=t.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,n-3));return tt(l,r.length)}},Uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q5={G:function(t,r,n){var o=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var o=t.getUTCFullYear(),l=o>0?o:1-o;return n.ordinalNumber(l,{unit:"year"})}return Rs.y(t,r)},Y:function(t,r,n,o){var l=yN(t,o),c=l>0?l:1-l;if(r==="YY"){var u=c%100;return tt(u,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):tt(c,r.length)},R:function(t,r){var n=xN(t);return tt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return tt(n,r.length)},Q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return tt(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return tt(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){var o=t.getUTCMonth();switch(r){case"M":case"MM":return Rs.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){var o=t.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return tt(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){var l=H5(t,o);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):tt(l,r.length)},I:function(t,r,n){var o=V5(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):tt(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Rs.d(t,r)},D:function(t,r,n){var o=F5(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):tt(o,r.length)},E:function(t,r,n){var o=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){var l=t.getUTCDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return tt(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){var l=t.getUTCDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return tt(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(t,r,n){var o=t.getUTCDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return tt(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){var o=t.getUTCHours(),l=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,r,n){var o=t.getUTCHours(),l;switch(o===12?l=Uo.noon:o===0?l=Uo.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,r,n){var o=t.getUTCHours(),l;switch(o>=17?l=Uo.evening:o>=12?l=Uo.afternoon:o>=4?l=Uo.morning:l=Uo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Rs.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Rs.H(t,r)},K:function(t,r,n){var o=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):tt(o,r.length)},k:function(t,r,n){var o=t.getUTCHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):tt(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Rs.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Rs.s(t,r)},S:function(t,r){return Rs.S(t,r)},X:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();if(c===0)return"Z";switch(r){case"X":return gb(c);case"XXXX":case"XX":return Ei(c);case"XXXXX":case"XXX":default:return Ei(c,":")}},x:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(r){case"x":return gb(c);case"xxxx":case"xx":return Ei(c);case"xxxxx":case"xxx":default:return Ei(c,":")}},O:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+vb(c,":");case"OOOO":default:return"GMT"+Ei(c,":")}},z:function(t,r,n,o){var l=o._originalDate||t,c=l.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+vb(c,":");case"zzzz":default:return"GMT"+Ei(c,":")}},t:function(t,r,n,o){var l=o._originalDate||t,c=Math.floor(l.getTime()/1e3);return tt(c,r.length)},T:function(t,r,n,o){var l=o._originalDate||t,c=l.getTime();return tt(c,r.length)}};function vb(e,t){var r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),l=n%60;if(l===0)return r+String(o);var c=t;return r+String(o)+c+tt(l,2)}function gb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+tt(Math.abs(e)/60,2)}return Ei(e,t)}function Ei(e,t){var r=t||"",n=e>0?"-":"+",o=Math.abs(e),l=tt(Math.floor(o/60),2),c=tt(o%60,2);return n+l+r+c}var xb=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},wN=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Y5=function(t,r){var n=t.match(/(P+)(p+)?/)||[],o=n[1],l=n[2];if(!l)return xb(t,r);var c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",xb(o,r)).replace("{{time}}",wN(l,r))},G5={p:wN,P:Y5},K5=["D","DD"],X5=["YY","YYYY"];function J5(e){return K5.indexOf(e)!==-1}function Q5(e){return X5.indexOf(e)!==-1}function yb(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Z5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e6=function(t,r,n){var o,l=Z5[t];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Dm(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var t6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s6={date:Dm({formats:t6,defaultWidth:"full"}),time:Dm({formats:r6,defaultWidth:"full"}),dateTime:Dm({formats:n6,defaultWidth:"full"})},i6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o6=function(t,r,n,o){return i6[t]};function vl(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;o=e.formattingValues[c]||e.formattingValues[l]}else{var u=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[f]||e.values[u]}var h=e.argumentCallback?e.argumentCallback(t):t;return o[h]}}var a6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},f6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h6=function(t,r){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},m6={ordinalNumber:h6,era:vl({values:a6,defaultWidth:"wide"}),quarter:vl({values:l6,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:vl({values:c6,defaultWidth:"wide"}),day:vl({values:u6,defaultWidth:"wide"}),dayPeriod:vl({values:d6,defaultWidth:"wide",formattingValues:f6,defaultFormattingWidth:"wide"})};function gl(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;var c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?v6(u,function(p){return p.test(c)}):p6(u,function(p){return p.test(c)}),h;h=e.valueCallback?e.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;var m=t.slice(c.length);return{value:h,rest:m}}}function p6(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function v6(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function g6(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],l=t.match(e.parsePattern);if(!l)return null;var c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}var x6=/^(\d+)(th|st|nd|rd)?/i,y6=/\d+/i,w6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b6={any:[/^b/i,/^(a|c)/i]},j6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_6={any:[/1/i,/2/i,/3/i,/4/i]},S6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},E6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},T6={ordinalNumber:g6({matchPattern:x6,parsePattern:y6,valueCallback:function(t){return parseInt(t,10)}}),era:gl({matchPatterns:w6,defaultMatchWidth:"wide",parsePatterns:b6,defaultParseWidth:"any"}),quarter:gl({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:_6,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:gl({matchPatterns:S6,defaultMatchWidth:"wide",parsePatterns:N6,defaultParseWidth:"any"}),day:gl({matchPatterns:C6,defaultMatchWidth:"wide",parsePatterns:k6,defaultParseWidth:"any"}),dayPeriod:gl({matchPatterns:P6,defaultMatchWidth:"any",parsePatterns:E6,defaultParseWidth:"any"})},bN={code:"en-US",formatDistance:e6,formatLong:s6,formatRelative:o6,localize:m6,match:T6,options:{weekStartsOn:0,firstWeekContainsDate:1}},A6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R6=/^'([^]*?)'?$/,O6=/''/g,$6=/[a-zA-Z]/;function Ct(e,t,r){var n,o,l,c,u,f,h,m,p,x,y,j,w,_,N,C,k,A;Me(2,arguments);var P=String(t),E=ni(),R=(n=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:E.locale)!==null&&n!==void 0?n:bN,D=Ht((l=(c=(u=(f=r==null?void 0:r.firstWeekContainsDate)!==null&&f!==void 0?f:r==null||(h=r.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:E.firstWeekContainsDate)!==null&&c!==void 0?c:(p=E.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=Ht((y=(j=(w=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(N=r.locale)===null||N===void 0||(C=N.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&w!==void 0?w:E.weekStartsOn)!==null&&j!==void 0?j:(k=E.locale)===null||k===void 0||(A=k.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&y!==void 0?y:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var W=ze(e);if(!R5(W))throw new RangeError("Invalid time value");var X=Wl(W),Q=I5(W,X),z={firstWeekContainsDate:D,weekStartsOn:$,locale:R,_originalDate:W},O=P.match(D6).map(function(U){var H=U[0];if(H==="p"||H==="P"){var F=G5[H];return F(U,R.formatLong)}return U}).join("").match(A6).map(function(U){if(U==="''")return"'";var H=U[0];if(H==="'")return M6(U);var F=q5[H];if(F)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Q5(U)&&yb(U,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&J5(U)&&yb(U,t,String(e)),F(Q,U,R.localize,z);if(H.match($6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return U}).join("");return O}function M6(e){var t=e.match(R6);return t?t[1].replace(O6,"'"):e}function I6(e){Me(1,arguments);var t=ze(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var L6=6048e5;function F6(e){Me(1,arguments);var t=ze(e),r=Fi(t).getTime()-P5(t).getTime();return Math.round(r/L6)+1}function U6(e){Me(1,arguments);var t=ze(e),r=t.getTime();return r}function B6(e){return Me(1,arguments),Math.floor(U6(e)/1e3)}function V6(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ze(e),p=m.getFullYear(),x=ni(),y=Ht((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&n!==void 0?n:(f=x.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setFullYear(p+1,0,y),j.setHours(0,0,0,0);var w=On(j,t),_=new Date(0);_.setFullYear(p,0,y),_.setHours(0,0,0,0);var N=On(_,t);return m.getTime()>=w.getTime()?p+1:m.getTime()>=N.getTime()?p:p-1}function z6(e,t){var r,n,o,l,c,u,f,h;Me(1,arguments);var m=ni(),p=Ht((r=(n=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&n!==void 0?n:(f=m.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=V6(e,t),y=new Date(0);y.setFullYear(x,0,p),y.setHours(0,0,0,0);var j=On(y,t);return j}var W6=6048e5;function H6(e,t){Me(1,arguments);var r=ze(e),n=On(r,t).getTime()-z6(r,t).getTime();return Math.round(n/W6)+1}function q6(e){Me(1,arguments);var t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Y6(e,t){return Me(1,arguments),$5(q6(e),xr(e),t)+1}function Rp(e,t){Me(2,arguments);var r=ze(e),n=ze(t);return r.getTime()>n.getTime()}function jN(e,t){Me(2,arguments);var r=ze(e),n=ze(t);return r.getTime()<n.getTime()}function Yv(e,t){Me(2,arguments);var r=ze(e),n=ze(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function G6(e,t){Me(2,arguments);var r=ze(e),n=ze(t);return r.getFullYear()===n.getFullYear()}function Rm(e,t){Me(2,arguments);var r=Ht(t);return Gt(e,-r)}function Om(e,t){Me(2,arguments);var r=ze(e),n=Ht(t),o=r.getFullYear(),l=r.getDate(),c=new Date(0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);var u=I6(c);return r.setMonth(n,Math.min(l,u)),r}function wb(e,t){Me(2,arguments);var r=ze(e),n=Ht(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}var Le=function(){return Le=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Le.apply(this,arguments)};function K6(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function _N(e,t,r){for(var n=0,o=t.length,l;n<o;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function ac(e){return e.mode==="multiple"}function lc(e){return e.mode==="range"}function Zd(e){return e.mode==="single"}var X6={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function J6(e,t){return Ct(e,"LLLL y",t)}function Q6(e,t){return Ct(e,"d",t)}function Z6(e,t){return Ct(e,"LLLL",t)}function e8(e){return"".concat(e)}function t8(e,t){return Ct(e,"cccccc",t)}function r8(e,t){return Ct(e,"yyyy",t)}var n8=Object.freeze({__proto__:null,formatCaption:J6,formatDay:Q6,formatMonthCaption:Z6,formatWeekNumber:e8,formatWeekdayName:t8,formatYearCaption:r8}),s8=function(e,t,r){return Ct(e,"do MMMM (EEEE)",r)},i8=function(){return"Month: "},o8=function(){return"Go to next month"},a8=function(){return"Go to previous month"},l8=function(e,t){return Ct(e,"cccc",t)},c8=function(e){return"Week n. ".concat(e)},u8=function(){return"Year: "},d8=Object.freeze({__proto__:null,labelDay:s8,labelMonthDropdown:i8,labelNext:o8,labelPrevious:a8,labelWeekNumber:c8,labelWeekday:l8,labelYearDropdown:u8});function f8(){var e="buttons",t=X6,r=bN,n={},o={},l=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:n8,labels:d8,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:l,styles:c,today:u,mode:"default"}}function h8(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,l=e.fromDate,c=e.toDate;return n?l=xr(n):t&&(l=new Date(t,0,1)),o?c=Hv(o):r&&(c=new Date(r,11,31)),{fromDate:l?oa(l):void 0,toDate:c?oa(c):void 0}}var SN=g.createContext(void 0);function m8(e){var t,r=e.initialProps,n=f8(),o=h8(r),l=o.fromDate,c=o.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!l||!c)&&(u="buttons");var f;(Zd(r)||ac(r)||lc(r))&&(f=r.onSelect);var h=Le(Le(Le({},n),r),{captionLayout:u,classNames:Le(Le({},n.classNames),r.classNames),components:Le({},r.components),formatters:Le(Le({},n.formatters),r.formatters),fromDate:l,labels:Le(Le({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Le(Le({},n.modifiers),r.modifiers),modifiersClassNames:Le(Le({},n.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:Le(Le({},n.styles),r.styles),toDate:c});return s.jsx(SN.Provider,{value:h,children:e.children})}function ot(){var e=g.useContext(SN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function NN(e){var t=ot(),r=t.locale,n=t.classNames,o=t.styles,l=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:r})})}function p8(e){return s.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CN(e){var t,r,n=e.onChange,o=e.value,l=e.children,c=e.caption,u=e.className,f=e.style,h=ot(),m=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:p8;return s.jsxs("div",{className:u,style:f,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:o,onChange:n,children:l}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,s.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function v8(e){var t,r=ot(),n=r.fromDate,o=r.toDate,l=r.styles,c=r.locale,u=r.formatters.formatMonthCaption,f=r.classNames,h=r.components,m=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var p=[];if(G6(n,o))for(var x=xr(n),y=n.getMonth();y<=o.getMonth();y++)p.push(Om(x,y));else for(var x=xr(new Date),y=0;y<=11;y++)p.push(Om(x,y));var j=function(_){var N=Number(_.target.value),C=Om(xr(e.displayMonth),N);e.onChange(C)},w=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:CN;return s.jsx(w,{name:"months","aria-label":m(),className:f.dropdown_month,style:l.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:p.map(function(_){return s.jsx("option",{value:_.getMonth(),children:u(_,{locale:c})},_.getMonth())})})}function g8(e){var t,r=e.displayMonth,n=ot(),o=n.fromDate,l=n.toDate,c=n.locale,u=n.styles,f=n.classNames,h=n.components,m=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,x=[];if(!o)return s.jsx(s.Fragment,{});if(!l)return s.jsx(s.Fragment,{});for(var y=o.getFullYear(),j=l.getFullYear(),w=y;w<=j;w++)x.push(wb(M5(new Date),w));var _=function(C){var k=wb(xr(r),Number(C.target.value));e.onChange(k)},N=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:CN;return s.jsx(N,{name:"years","aria-label":p(),className:f.dropdown_year,style:u.dropdown_year,onChange:_,value:r.getFullYear(),caption:m(r,{locale:c}),children:x.map(function(C){return s.jsx("option",{value:C.getFullYear(),children:m(C,{locale:c})},C.getFullYear())})})}function x8(e,t){var r=g.useState(e),n=r[0],o=r[1],l=t===void 0?n:t;return[l,o]}function y8(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,l=e.toDate,c=e.fromDate,u=e.numberOfMonths,f=u===void 0?1:u;if(l&&Hl(l,o)<0){var h=-1*(f-1);o=gn(l,h)}return c&&Hl(o,c)<0&&(o=c),xr(o)}function w8(){var e=ot(),t=y8(e),r=x8(t,e.month),n=r[0],o=r[1],l=function(c){var u;if(!e.disableNavigation){var f=xr(c);o(f),(u=e.onMonthChange)===null||u===void 0||u.call(e,f)}};return[n,l]}function b8(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=xr(e),l=xr(gn(o,n)),c=Hl(l,o),u=[],f=0;f<c;f++){var h=gn(o,f);u.push(h)}return r&&(u=u.reverse()),u}function j8(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=n?l:1,u=xr(e);if(!r)return gn(u,c);var f=Hl(r,e);if(!(f<l))return gn(u,c)}}function _8(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=n?l:1,u=xr(e);if(!r)return gn(u,-c);var f=Hl(u,r);if(!(f<=0))return gn(u,-c)}}var kN=g.createContext(void 0);function S8(e){var t=ot(),r=w8(),n=r[0],o=r[1],l=b8(n,t),c=j8(n,t),u=_8(n,t),f=function(p){return l.some(function(x){return Yv(p,x)})},h=function(p,x){f(p)||(x&&jN(p,x)?o(gn(p,1+t.numberOfMonths*-1)):o(p))},m={currentMonth:n,displayMonths:l,goToMonth:o,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:f};return s.jsx(kN.Provider,{value:m,children:e.children})}function cc(){var e=g.useContext(kN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function bb(e){var t,r=ot(),n=r.classNames,o=r.styles,l=r.components,c=cc().goToMonth,u=function(m){c(gn(m,e.displayIndex?-e.displayIndex:0))},f=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:NN,h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(v8,{onChange:u,displayMonth:e.displayMonth}),s.jsx(g8,{onChange:u,displayMonth:e.displayMonth})]})}function N8(e){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function C8(e){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var wd=g.forwardRef(function(e,t){var r=ot(),n=r.classNames,o=r.styles,l=[n.button_reset,n.button];e.className&&l.push(e.className);var c=l.join(" "),u=Le(Le({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),s.jsx("button",Le({},e,{ref:t,type:"button",className:c,style:u}))});function k8(e){var t,r,n=ot(),o=n.dir,l=n.locale,c=n.classNames,u=n.styles,f=n.labels,h=f.labelPrevious,m=f.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=h(e.previousMonth,{locale:l}),y=[c.nav_button,c.nav_button_previous].join(" "),j=m(e.nextMonth,{locale:l}),w=[c.nav_button,c.nav_button_next].join(" "),_=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:C8,N=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:N8;return s.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&s.jsx(wd,{name:"previous-month","aria-label":x,className:y,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(_,{className:c.nav_icon,style:u.nav_icon}):s.jsx(N,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&s.jsx(wd,{name:"next-month","aria-label":j,className:w,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(N,{className:c.nav_icon,style:u.nav_icon}):s.jsx(_,{className:c.nav_icon,style:u.nav_icon})})]})}function jb(e){var t=ot().numberOfMonths,r=cc(),n=r.previousMonth,o=r.nextMonth,l=r.goToMonth,c=r.displayMonths,u=c.findIndex(function(j){return Yv(e.displayMonth,j)}),f=u===0,h=u===c.length-1,m=t>1&&(f||!h),p=t>1&&(h||!f),x=function(){n&&l(n)},y=function(){o&&l(o)};return s.jsx(k8,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:o,previousMonth:n,onPreviousClick:x,onNextClick:y})}function P8(e){var t,r=ot(),n=r.classNames,o=r.disableNavigation,l=r.styles,c=r.captionLayout,u=r.components,f=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:NN,h;return o?h=s.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=s.jsx(bb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(bb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(jb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(jb,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:l.caption,children:h})}function E8(e){var t=ot(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?s.jsx("tfoot",{className:o,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function T8(e,t,r){for(var n=r?Fi(new Date):On(new Date,{locale:e,weekStartsOn:t}),o=[],l=0;l<7;l++){var c=Gt(n,l);o.push(c)}return o}function A8(){var e=ot(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,l=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,h=T8(o,l,c);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(m,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":f(m,{locale:o}),children:u(m,{locale:o})},p)})]})}function D8(){var e,t=ot(),r=t.classNames,n=t.styles,o=t.components,l=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:A8;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(l,{})})}function R8(e){var t=ot(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Gv=g.createContext(void 0);function O8(e){if(!ac(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Gv.Provider,{value:t,children:e.children})}return s.jsx($8,{initialProps:e.initialProps,children:e.children})}function $8(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,l=t.max,c=function(h,m,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,h,m,p);var j=!!(m.selected&&o&&(n==null?void 0:n.length)===o);if(!j){var w=!!(!m.selected&&l&&(n==null?void 0:n.length)===l);if(!w){var _=n?_N([],n):[];if(m.selected){var N=_.findIndex(function(C){return gr(h,C)});_.splice(N,1)}else _.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,_,h,m,p)}}},u={disabled:[]};n&&u.disabled.push(function(h){var m=l&&n.length>l-1,p=n.some(function(x){return gr(x,h)});return!!(m&&!p)});var f={selected:n,onDayClick:c,modifiers:u};return s.jsx(Gv.Provider,{value:f,children:r})}function Kv(){var e=g.useContext(Gv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function M8(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?gr(o,e)&&gr(n,e)?void 0:gr(o,e)?{from:o,to:void 0}:gr(n,e)?void 0:Rp(n,e)?{from:e,to:o}:{from:n,to:e}:o?Rp(e,o)?{from:o,to:e}:{from:e,to:o}:n?jN(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Xv=g.createContext(void 0);function I8(e){if(!lc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Xv.Provider,{value:t,children:e.children})}return s.jsx(L8,{initialProps:e.initialProps,children:e.children})}function L8(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},l=o.from,c=o.to,u=t.min,f=t.max,h=function(y,j,w){var _,N;(_=t.onDayClick)===null||_===void 0||_.call(t,y,j,w);var C=M8(y,n);(N=t.onSelect)===null||N===void 0||N.call(t,C,y,j,w)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],c?(m.range_end=[c],gr(l,c)||(m.range_middle=[{after:l,before:c}])):m.range_end=[l]):c&&(m.range_start=[c],m.range_end=[c]),u&&(l&&!c&&m.disabled.push({after:Rm(l,u-1),before:Gt(l,u-1)}),l&&c&&m.disabled.push({after:l,before:Gt(l,u-1)}),!l&&c&&m.disabled.push({after:Rm(c,u-1),before:Gt(c,u-1)})),f){if(l&&!c&&(m.disabled.push({before:Gt(l,-f+1)}),m.disabled.push({after:Gt(l,f-1)})),l&&c){var p=Jn(c,l)+1,x=f-p;m.disabled.push({before:Rm(l,x)}),m.disabled.push({after:Gt(c,x)})}!l&&c&&(m.disabled.push({before:Gt(c,-f+1)}),m.disabled.push({after:Gt(c,f-1)}))}return s.jsx(Xv.Provider,{value:{selected:n,onDayClick:h,modifiers:m},children:r})}function Jv(){var e=g.useContext(Xv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ed(e){return Array.isArray(e)?_N([],e):e!==void 0?[e]:[]}function F8(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=ed(o)}),t}var xn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xn||(xn={}));var U8=xn.Selected,Yn=xn.Disabled,B8=xn.Hidden,V8=xn.Today,$m=xn.RangeEnd,Mm=xn.RangeMiddle,Im=xn.RangeStart,z8=xn.Outside;function W8(e,t,r){var n,o=(n={},n[U8]=ed(e.selected),n[Yn]=ed(e.disabled),n[B8]=ed(e.hidden),n[V8]=[e.today],n[$m]=[],n[Mm]=[],n[Im]=[],n[z8]=[],n);return e.fromDate&&o[Yn].push({before:e.fromDate}),e.toDate&&o[Yn].push({after:e.toDate}),ac(e)?o[Yn]=o[Yn].concat(t.modifiers[Yn]):lc(e)&&(o[Yn]=o[Yn].concat(r.modifiers[Yn]),o[Im]=r.modifiers[Im],o[Mm]=r.modifiers[Mm],o[$m]=r.modifiers[$m]),o}var PN=g.createContext(void 0);function H8(e){var t=ot(),r=Kv(),n=Jv(),o=W8(t,r,n),l=F8(t.modifiers),c=Le(Le({},o),l);return s.jsx(PN.Provider,{value:c,children:e.children})}function EN(){var e=g.useContext(PN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function q8(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Y8(e){return!!(e&&typeof e=="object"&&"from"in e)}function G8(e){return!!(e&&typeof e=="object"&&"after"in e)}function K8(e){return!!(e&&typeof e=="object"&&"before"in e)}function X8(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function J8(e,t){var r,n=t.from,o=t.to;if(n&&o){var l=Jn(o,n)<0;l&&(r=[o,n],n=r[0],o=r[1]);var c=Jn(e,n)>=0&&Jn(o,e)>=0;return c}return o?gr(o,e):n?gr(n,e):!1}function Q8(e){return Wv(e)}function Z8(e){return Array.isArray(e)&&e.every(Wv)}function e7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Q8(r))return gr(e,r);if(Z8(r))return r.includes(e);if(Y8(r))return J8(e,r);if(X8(r))return r.dayOfWeek.includes(e.getDay());if(q8(r)){var n=Jn(r.before,e),o=Jn(r.after,e),l=n>0,c=o<0,u=Rp(r.before,r.after);return u?c&&l:l||c}return G8(r)?Jn(e,r.after)>0:K8(r)?Jn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Qv(e,t,r){var n=Object.keys(t).reduce(function(l,c){var u=t[c];return e7(e,u)&&l.push(c),l},[]),o={};return n.forEach(function(l){return o[l]=!0}),r&&!Yv(e,r)&&(o.outside=!0),o}function t7(e,t){for(var r=xr(e[0]),n=Hv(e[e.length-1]),o,l,c=r;c<=n;){var u=Qv(c,t),f=!u.disabled&&!u.hidden;if(!f){c=Gt(c,1);continue}if(u.selected)return c;u.today&&!l&&(l=c),o||(o=c),c=Gt(c,1)}return l||o}var r7=365;function TN(e,t){var r=t.moveBy,n=t.direction,o=t.context,l=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,f=o.weekStartsOn,h=o.fromDate,m=o.toDate,p=o.locale,x={day:Gt,week:Dp,month:gn,year:T5,startOfWeek:function(_){return o.ISOWeek?Fi(_):On(_,{locale:p,weekStartsOn:f})},endOfWeek:function(_){return o.ISOWeek?gN(_):qv(_,{locale:p,weekStartsOn:f})}},y=x[r](e,n==="after"?1:-1);n==="before"&&h?y=A5([h,y]):n==="after"&&m&&(y=D5([m,y]));var j=!0;if(l){var w=Qv(y,l);j=!w.disabled&&!w.hidden}return j?y:u.count>r7?u.lastFocused:TN(y,{moveBy:r,direction:n,context:o,modifiers:l,retry:Le(Le({},u),{count:u.count+1})})}var AN=g.createContext(void 0);function n7(e){var t=cc(),r=EN(),n=g.useState(),o=n[0],l=n[1],c=g.useState(),u=c[0],f=c[1],h=t7(t.displayMonths,r),m=o??(u&&t.isDateDisplayed(u))?u:h,p=function(){f(o),l(void 0)},x=function(_){l(_)},y=ot(),j=function(_,N){if(o){var C=TN(o,{moveBy:_,direction:N,context:y,modifiers:r});gr(o,C)||(t.goToDate(C,o),x(C))}},w={focusedDay:o,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return s.jsx(AN.Provider,{value:w,children:e.children})}function Zv(){var e=g.useContext(AN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function s7(e,t){var r=EN(),n=Qv(e,r,t);return n}var eg=g.createContext(void 0);function i7(e){if(!Zd(e.initialProps)){var t={selected:void 0};return s.jsx(eg.Provider,{value:t,children:e.children})}return s.jsx(o7,{initialProps:e.initialProps,children:e.children})}function o7(e){var t=e.initialProps,r=e.children,n=function(l,c,u){var f,h,m;if((f=t.onDayClick)===null||f===void 0||f.call(t,l,c,u),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,l,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,l,l,c,u)},o={selected:t.selected,onDayClick:n};return s.jsx(eg.Provider,{value:o,children:r})}function DN(){var e=g.useContext(eg);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function a7(e,t){var r=ot(),n=DN(),o=Kv(),l=Jv(),c=Zv(),u=c.focusDayAfter,f=c.focusDayBefore,h=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,x=c.focus,y=c.focusMonthBefore,j=c.focusMonthAfter,w=c.focusYearBefore,_=c.focusYearAfter,N=c.focusStartOfWeek,C=c.focusEndOfWeek,k=function(F){var I,q,Y,M;Zd(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,F):ac(r)?(q=o.onDayClick)===null||q===void 0||q.call(o,e,t,F):lc(r)?(Y=l.onDayClick)===null||Y===void 0||Y.call(l,e,t,F):(M=r.onDayClick)===null||M===void 0||M.call(r,e,t,F)},A=function(F){var I;x(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,F)},P=function(F){var I;p(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,F)},E=function(F){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,F)},R=function(F){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,F)},D=function(F){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,F)},$=function(F){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,F)},W=function(F){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,F)},X=function(F){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,F)},Q=function(F){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,F)},z=function(F){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,F)},O=function(F){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,F)},U=function(F){var I;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?u():f();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?f():u();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),h();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),m();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?w():y();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?_():j();break;case"Home":F.preventDefault(),F.stopPropagation(),N();break;case"End":F.preventDefault(),F.stopPropagation(),C();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,F)},H={onClick:k,onFocus:A,onBlur:P,onKeyDown:U,onKeyUp:O,onMouseEnter:E,onMouseLeave:R,onPointerEnter:D,onPointerLeave:$,onTouchCancel:W,onTouchEnd:X,onTouchMove:Q,onTouchStart:z};return H}function l7(){var e=ot(),t=DN(),r=Kv(),n=Jv(),o=Zd(e)?t.selected:ac(e)?r.selected:lc(e)?n.selected:void 0;return o}function c7(e){return Object.values(xn).includes(e)}function u7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(c7(n)){var l=e.classNames["day_".concat(n)];l&&r.push(l)}}),r}function d7(e,t){var r=Le({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=Le(Le({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function f7(e,t,r){var n,o,l,c=ot(),u=Zv(),f=s7(e,t),h=a7(e,f),m=l7(),p=!!(c.onDayClick||c.mode!=="default");g.useEffect(function(){var E;f.outside||u.focusedDay&&p&&gr(u.focusedDay,e)&&((E=r.current)===null||E===void 0||E.focus())},[u.focusedDay,e,r,p,f.outside]);var x=u7(c,f).join(" "),y=d7(c,f),j=!!(f.outside&&!c.showOutsideDays||f.hidden),w=(l=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&l!==void 0?l:R8,_=s.jsx(w,{date:e,displayMonth:t,activeModifiers:f}),N={style:y,className:x,children:_,role:"gridcell"},C=u.focusTarget&&gr(u.focusTarget,e)&&!f.outside,k=u.focusedDay&&gr(u.focusedDay,e),A=Le(Le(Le({},N),(n={disabled:f.disabled,role:"gridcell"},n["aria-selected"]=f.selected,n.tabIndex=k||C?0:-1,n)),h),P={isButton:p,isHidden:j,activeModifiers:f,selectedDays:m,buttonProps:A,divProps:N};return P}function h7(e){var t=g.useRef(null),r=f7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(wd,Le({name:"day",ref:t},r.buttonProps)):s.jsx("div",Le({},r.divProps))}function m7(e){var t=e.number,r=e.dates,n=ot(),o=n.onWeekNumberClick,l=n.styles,c=n.classNames,u=n.locale,f=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,m=h(Number(t),{locale:u});if(!o)return s.jsx("span",{className:c.weeknumber,style:l.weeknumber,children:m});var p=f(Number(t),{locale:u}),x=function(y){o(t,r,y)};return s.jsx(wd,{name:"week-number","aria-label":p,className:c.weeknumber,style:l.weeknumber,onClick:x,children:m})}function p7(e){var t,r,n=ot(),o=n.styles,l=n.classNames,c=n.showWeekNumber,u=n.components,f=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:h7,h=(r=u==null?void 0:u.WeekNumber)!==null&&r!==void 0?r:m7,m;return c&&(m=s.jsx("td",{className:l.cell,style:o.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:l.row,style:o.row,children:[m,e.dates.map(function(p){return s.jsx("td",{className:l.cell,style:o.cell,role:"presentation",children:s.jsx(f,{displayMonth:e.displayMonth,date:p})},B6(p))})]})}function _b(e,t,r){for(var n=r!=null&&r.ISOWeek?gN(t):qv(t,r),o=r!=null&&r.ISOWeek?Fi(e):On(e,r),l=Jn(n,o),c=[],u=0;u<=l;u++)c.push(Gt(o,u));var f=c.reduce(function(h,m){var p=r!=null&&r.ISOWeek?F6(m):H6(m,r),x=h.find(function(y){return y.weekNumber===p});return x?(x.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return f}function v7(e,t){var r=_b(xr(e),Hv(e),t);if(t!=null&&t.useFixedWeeks){var n=Y6(e,t);if(n<6){var o=r[r.length-1],l=o.dates[o.dates.length-1],c=Dp(l,6-n),u=_b(Dp(l,1),c,t);r.push.apply(r,u)}}return r}function g7(e){var t,r,n,o=ot(),l=o.locale,c=o.classNames,u=o.styles,f=o.hideHead,h=o.fixedWeeks,m=o.components,p=o.weekStartsOn,x=o.firstWeekContainsDate,y=o.ISOWeek,j=v7(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:l,weekStartsOn:p,firstWeekContainsDate:x}),w=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:D8,_=(r=m==null?void 0:m.Row)!==null&&r!==void 0?r:p7,N=(n=m==null?void 0:m.Footer)!==null&&n!==void 0?n:E8;return s.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&s.jsx(w,{}),s.jsx("tbody",{className:c.tbody,style:u.tbody,children:j.map(function(C){return s.jsx(_,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function x7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var y7=x7()?g.useLayoutEffect:g.useEffect,Lm=!1,w7=0;function Sb(){return"react-day-picker-".concat(++w7)}function b7(e){var t,r=e??(Lm?Sb():null),n=g.useState(r),o=n[0],l=n[1];return y7(function(){o===null&&l(Sb())},[]),g.useEffect(function(){Lm===!1&&(Lm=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function j7(e){var t,r,n=ot(),o=n.dir,l=n.classNames,c=n.styles,u=n.components,f=cc().displayMonths,h=b7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),m=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[l.month],x=c.month,y=e.displayIndex===0,j=e.displayIndex===f.length-1,w=!y&&!j;o==="rtl"&&(t=[y,j],j=t[0],y=t[1]),y&&(p.push(l.caption_start),x=Le(Le({},x),c.caption_start)),j&&(p.push(l.caption_end),x=Le(Le({},x),c.caption_end)),w&&(p.push(l.caption_between),x=Le(Le({},x),c.caption_between));var _=(r=u==null?void 0:u.Caption)!==null&&r!==void 0?r:P8;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(_,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(g7,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function _7(e){var t=ot(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function S7(e){var t,r,n=e.initialProps,o=ot(),l=Zv(),c=cc(),u=g.useState(!1),f=u[0],h=u[1];g.useEffect(function(){o.initialFocus&&l.focusTarget&&(f||(l.focus(l.focusTarget),h(!0)))},[o.initialFocus,f,l.focus,l.focusTarget,l]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var p=Le(Le({},o.styles.root),o.style),x=Object.keys(n).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var _;return Le(Le({},j),(_={},_[w]=n[w],_))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:_7;return s.jsx("div",Le({className:m.join(" "),style:p,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:s.jsx(y,{children:c.displayMonths.map(function(j,w){return s.jsx(j7,{displayIndex:w,displayMonth:j},w)})})}))}function N7(e){var t=e.children,r=K6(e,["children"]);return s.jsx(m8,{initialProps:r,children:s.jsx(S8,{children:s.jsx(i7,{initialProps:r,children:s.jsx(O8,{initialProps:r,children:s.jsx(I8,{initialProps:r,children:s.jsx(H8,{children:s.jsx(n7,{children:t})})})})})})})}function C7(e){return s.jsx(N7,Le({},e,{children:s.jsx(S7,{initialProps:e})}))}function aa({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(C7,{showOutsideDays:r,className:Pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pe(yp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pe(yp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(W4,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(q4,{className:"h-4 w-4"})},...n})}aa.displayName="Calendar";var k7="Arrow",RN=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...l}=e;return s.jsx(Ke.svg,{...l,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});RN.displayName=k7;var P7=RN,tg="Popper",[ON,$N]=$n(tg),[E7,MN]=ON(tg),IN=e=>{const{__scopePopper:t,children:r}=e,[n,o]=g.useState(null);return s.jsx(E7,{scope:t,anchor:n,onAnchorChange:o,children:r})};IN.displayName=tg;var LN="PopperAnchor",FN=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,l=MN(LN,r),c=g.useRef(null),u=jt(t,c);return g.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:s.jsx(Ke.div,{...o,ref:u})});FN.displayName=LN;var rg="PopperContent",[T7,A7]=ON(rg),UN=g.forwardRef((e,t)=>{var se,ie,je,ge,fe,_e;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:j,...w}=e,_=MN(rg,r),[N,C]=g.useState(null),k=jt(t,He=>C(He)),[A,P]=g.useState(null),E=zv(A),R=(E==null?void 0:E.width)??0,D=(E==null?void 0:E.height)??0,$=n+(l!=="center"?"-"+l:""),W=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},X=Array.isArray(h)?h:[h],Q=X.length>0,z={padding:W,boundary:X.filter(R7),altBoundary:Q},{refs:O,floatingStyles:U,placement:H,isPositioned:F,middlewareData:I}=kS({strategy:"fixed",placement:$,whileElementsMounted:(...He)=>NS(...He,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[PS({mainAxis:o+D,alignmentAxis:c}),f&&ES({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?TS():void 0,...z}),f&&AS({...z}),DS({...z,apply:({elements:He,rects:Ee,availableWidth:Et,availableHeight:ft})=>{const{width:wr,height:ii}=Ee.reference,Or=He.floating.style;Or.setProperty("--radix-popper-available-width",`${Et}px`),Or.setProperty("--radix-popper-available-height",`${ft}px`),Or.setProperty("--radix-popper-anchor-width",`${wr}px`),Or.setProperty("--radix-popper-anchor-height",`${ii}px`)}}),A&&OS({element:A,padding:u}),O7({arrowWidth:R,arrowHeight:D}),x&&RS({strategy:"referenceHidden",...z})]}),[q,Y]=zN(H),M=hn(j);rs(()=>{F&&(M==null||M())},[F,M]);const J=(se=I.arrow)==null?void 0:se.x,te=(ie=I.arrow)==null?void 0:ie.y,ve=((je=I.arrow)==null?void 0:je.centerOffset)!==0,[pe,de]=g.useState();return rs(()=>{N&&de(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:F?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(ge=I.transformOrigin)==null?void 0:ge.x,(fe=I.transformOrigin)==null?void 0:fe.y].join(" "),...((_e=I.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(T7,{scope:r,placedSide:q,onArrowChange:P,arrowX:J,arrowY:te,shouldHideArrow:ve,children:s.jsx(Ke.div,{"data-side":q,"data-align":Y,...w,ref:k,style:{...w.style,animation:F?void 0:"none"}})})})});UN.displayName=rg;var BN="PopperArrow",D7={top:"bottom",right:"left",bottom:"top",left:"right"},VN=g.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,l=A7(BN,n),c=D7[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(P7,{...o,ref:r,style:{...o.style,display:"block"}})})});VN.displayName=BN;function R7(e){return e!==null}var O7=e=>({name:"transformOrigin",options:e,fn(t){var _,N,C;const{placement:r,rects:n,middlewareData:o}=t,c=((_=o.arrow)==null?void 0:_.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=zN(r),p={start:"0%",center:"50%",end:"100%"}[m],x=(((N=o.arrow)==null?void 0:N.x)??0)+u/2,y=(((C=o.arrow)==null?void 0:C.y)??0)+f/2;let j="",w="";return h==="bottom"?(j=c?p:`${x}px`,w=`${-f}px`):h==="top"?(j=c?p:`${x}px`,w=`${n.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?p:`${y}px`):h==="left"&&(j=`${n.floating.width+f}px`,w=c?p:`${y}px`),{data:{x:j,y:w}}}});function zN(e){const[t,r="center"]=e.split("-");return[t,r]}var $7=IN,WN=FN,M7=UN,I7=VN,ef="Popover",[HN,oV]=$n(ef,[$N]),uc=$N(),[L7,si]=HN(ef),qN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,u=uc(t),f=g.useRef(null),[h,m]=g.useState(!1),[p,x]=Gi({prop:n,defaultProp:o??!1,onChange:l,caller:ef});return s.jsx($7,{...u,children:s.jsx(L7,{scope:t,contentId:Go(),triggerRef:f,open:p,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:h,onCustomAnchorAdd:g.useCallback(()=>m(!0),[]),onCustomAnchorRemove:g.useCallback(()=>m(!1),[]),modal:c,children:r})})};qN.displayName=ef;var YN="PopoverAnchor",F7=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=si(YN,r),l=uc(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return g.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(WN,{...l,...n,ref:t})});F7.displayName=YN;var GN="PopoverTrigger",KN=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=si(GN,r),l=uc(r),c=jt(t,o.triggerRef),u=s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":eC(o.open),...n,ref:c,onClick:qe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:s.jsx(WN,{asChild:!0,...l,children:u})});KN.displayName=GN;var ng="PopoverPortal",[U7,B7]=HN(ng,{forceMount:void 0}),XN=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,l=si(ng,t);return s.jsx(U7,{scope:t,forceMount:r,children:s.jsx(Mn,{present:r||l.open,children:s.jsx(Ld,{asChild:!0,container:o,children:n})})})};XN.displayName=ng;var la="PopoverContent",JN=g.forwardRef((e,t)=>{const r=B7(la,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,l=si(la,e.__scopePopover);return s.jsx(Mn,{present:n||l.open,children:l.modal?s.jsx(z7,{...o,ref:t}):s.jsx(W7,{...o,ref:t})})});JN.displayName=la;var V7=ra("PopoverContent.RemoveScroll"),z7=g.forwardRef((e,t)=>{const r=si(la,e.__scopePopover),n=g.useRef(null),o=jt(t,n),l=g.useRef(!1);return g.useEffect(()=>{const c=n.current;if(c)return _v(c)},[]),s.jsx(jv,{as:V7,allowPinchZoom:!0,children:s.jsx(QN,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),W7=g.forwardRef((e,t)=>{const r=si(la,e.__scopePopover),n=g.useRef(!1),o=g.useRef(!1);return s.jsx(QN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),QN=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...p}=e,x=si(la,r),y=uc(r);return o1(),s.jsx(yv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Id,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(M7,{"data-state":eC(x.open),role:"dialog",id:x.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZN="PopoverClose",H7=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=si(ZN,r);return s.jsx(Ke.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,()=>o.onOpenChange(!1))})});H7.displayName=ZN;var q7="PopoverArrow",Y7=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=uc(r);return s.jsx(I7,{...o,...n,ref:t})});Y7.displayName=q7;function eC(e){return e?"open":"closed"}var G7=qN,K7=KN,X7=XN,tC=JN;const ql=G7,Yl=K7,ca=he.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(X7,{children:s.jsx(tC,{ref:o,align:t,sideOffset:r,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ca.displayName=tC.displayName;var J7=g.createContext(void 0);function sg(e){const t=g.useContext(J7);return e||t||"ltr"}var Fm="rovingFocusGroup.onEntryFocus",Q7={bubbles:!1,cancelable:!0},dc="RovingFocusGroup",[Op,rC,Z7]=B1(dc),[eU,tf]=$n(dc,[Z7]),[tU,rU]=eU(dc),nC=g.forwardRef((e,t)=>s.jsx(Op.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Op.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(nU,{...e,ref:t})})}));nC.displayName=dc;var nU=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=g.useRef(null),y=jt(t,x),j=sg(l),[w,_]=Gi({prop:c,defaultProp:u??null,onChange:f,caller:dc}),[N,C]=g.useState(!1),k=hn(h),A=rC(r),P=g.useRef(!1),[E,R]=g.useState(0);return g.useEffect(()=>{const D=x.current;if(D)return D.addEventListener(Fm,k),()=>D.removeEventListener(Fm,k)},[k]),s.jsx(tU,{scope:r,orientation:n,dir:j,loop:o,currentTabStopId:w,onItemFocus:g.useCallback(D=>_(D),[_]),onItemShiftTab:g.useCallback(()=>C(!0),[]),onFocusableItemAdd:g.useCallback(()=>R(D=>D+1),[]),onFocusableItemRemove:g.useCallback(()=>R(D=>D-1),[]),children:s.jsx(Ke.div,{tabIndex:N||E===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{P.current=!0}),onFocus:qe(e.onFocus,D=>{const $=!P.current;if(D.target===D.currentTarget&&$&&!N){const W=new CustomEvent(Fm,Q7);if(D.currentTarget.dispatchEvent(W),!W.defaultPrevented){const X=A().filter(H=>H.focusable),Q=X.find(H=>H.active),z=X.find(H=>H.id===w),U=[Q,z,...X].filter(Boolean).map(H=>H.ref.current);oC(U,m)}}P.current=!1}),onBlur:qe(e.onBlur,()=>C(!1))})})}),sC="RovingFocusGroupItem",iC=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:l,children:c,...u}=e,f=Go(),h=l||f,m=rU(sC,r),p=m.currentTabStopId===h,x=rC(r),{onFocusableItemAdd:y,onFocusableItemRemove:j,currentTabStopId:w}=m;return g.useEffect(()=>{if(n)return y(),()=>j()},[n,y,j]),s.jsx(Op.ItemSlot,{scope:r,id:h,focusable:n,active:o,children:s.jsx(Ke.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:qe(e.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:qe(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:qe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=oU(_,m.orientation,m.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=x().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const A=k.indexOf(_.currentTarget);k=m.loop?aU(k,A+1):k.slice(A+1)}setTimeout(()=>oC(k))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:w!=null}):c})})});iC.displayName=sC;var sU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oU(e,t,r){const n=iU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sU[n]}function oC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function aU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var aC=nC,lC=iC,ig="Radio",[lU,cC]=$n(ig),[cU,uU]=lU(ig),uC=g.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:l,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[p,x]=g.useState(null),y=jt(t,_=>x(_)),j=g.useRef(!1),w=p?h||!!p.closest("form"):!0;return s.jsxs(cU,{scope:r,checked:o,disabled:c,children:[s.jsx(Ke.button,{type:"button",role:"radio","aria-checked":o,"data-state":mC(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:y,onClick:qe(e.onClick,_=>{o||f==null||f(),w&&(j.current=_.isPropagationStopped(),j.current||_.stopPropagation())})}),w&&s.jsx(hC,{control:p,bubbles:!j.current,name:n,value:u,checked:o,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});uC.displayName=ig;var dC="RadioIndicator",fC=g.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,l=uU(dC,r);return s.jsx(Mn,{present:n||l.checked,children:s.jsx(Ke.span,{"data-state":mC(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t})})});fC.displayName=dC;var dU="RadioBubbleInput",hC=g.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},l)=>{const c=g.useRef(null),u=jt(c,l),f=aN(r),h=zv(t);return g.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==r&&y){const j=new Event("click",{bubbles:n});y.call(m,r),m.dispatchEvent(j)}},[f,r,n]),s.jsx(Ke.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hC.displayName=dU;function mC(e){return e?"checked":"unchecked"}var fU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rf="RadioGroup",[hU,aV]=$n(rf,[tf,cC]),pC=tf(),vC=cC(),[mU,pU]=hU(rf),gC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:l,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:p,...x}=e,y=pC(r),j=sg(h),[w,_]=Gi({prop:l,defaultProp:o??"",onChange:p,caller:rf});return s.jsx(mU,{scope:r,name:n,required:c,disabled:u,value:w,onValueChange:_,children:s.jsx(aC,{asChild:!0,...y,orientation:f,dir:j,loop:m,children:s.jsx(Ke.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:j,...x,ref:t})})})});gC.displayName=rf;var xC="RadioGroupItem",yC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,l=pU(xC,r),c=l.disabled||n,u=pC(r),f=vC(r),h=g.useRef(null),m=jt(t,h),p=l.value===o.value,x=g.useRef(!1);return g.useEffect(()=>{const y=w=>{fU.includes(w.key)&&(x.current=!0)},j=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",j)}},[]),s.jsx(lC,{asChild:!0,...u,focusable:!c,active:p,children:s.jsx(uC,{disabled:c,required:l.required,checked:p,...f,...o,name:l.name,ref:m,onCheck:()=>l.onValueChange(o.value),onKeyDown:qe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:qe(o.onFocus,()=>{var y;x.current&&((y=h.current)==null||y.click())})})})});yC.displayName=xC;var vU="RadioGroupIndicator",wC=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=vC(r);return s.jsx(fC,{...o,...n,ref:t})});wC.displayName=vU;var bC=gC,jC=yC,gU=wC;const nf=he.forwardRef(({className:e,...t},r)=>s.jsx(bC,{className:Pe("grid gap-2",e),...t,ref:r}));nf.displayName=bC.displayName;const qs=he.forwardRef(({className:e,...t},r)=>s.jsx(jC,{ref:r,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(gU,{className:"flex items-center justify-center",children:s.jsx(e$,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qs.displayName=jC.displayName;const ya="Australia/Adelaide",kn=(e=ya)=>{const t=new Date,r=t.getTime()+t.getTimezoneOffset()*6e4;return new Date(r+xU(e)*6e4)},xU=e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-r.getTime())/(1e3*60)},Bt=(e,t=ya)=>{const r={timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",r).format(e)},qo=e=>{const[t,r]=e.split(":").map(Number),n=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${n}`},yU=(e,t)=>{const r=e>=12?"PM":"AM";return`${e%12||12}:${t.toString().padStart(2,"0")} ${r}`},wU=()=>{const e=[];for(let t=0;t<24;t++)for(let r=0;r<60;r+=30){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,o=yU(t,r);e.push({value:n,label:o})}return e},bU=(e,t)=>{const[r,n]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),c=r*60+n;return o*60+l>c},jU=({onDeliveryChange:e})=>{const[t,r]=g.useState("express"),[n,o]=g.useState(null),[l,c]=g.useState(""),[u,f]=g.useState([]),[h,m]=g.useState({express:0,scheduled:0}),[p,x]=g.useState(!0),[y,j]=g.useState(!1),[w,_]=g.useState(ya);g.useEffect(()=>{(async()=>{x(!0);try{const{data:P,error:E}=await ce.from("delivery_settings").select("express_fee, scheduled_fee, timezone").eq("id",1).single();if(E&&E.code!=="PGRST116")throw E;m({express:(P==null?void 0:P.express_fee)||9.99,scheduled:(P==null?void 0:P.scheduled_fee)||5.99}),P!=null&&P.timezone&&_(P.timezone)}catch(P){console.error("Error fetching delivery settings:",P),m({express:9.99,scheduled:5.99})}finally{x(!1)}})()},[]),g.useEffect(()=>{n&&t==="scheduled"&&N(n)},[n,t,w]),g.useEffect(()=>{let A=0,P=null,E=null;if(t==="express")A=h.express;else if(t==="scheduled"&&l){A=h.scheduled;const R=u.find(D=>D.id===l);R&&(P=new Date(R.date+"T"+R.start_time).toISOString(),E=R.id)}e({type:t,fee:A,scheduledTime:P,timeslot_id:E})},[t,l,h,u,e]);const N=async A=>{j(!0);try{const P=Bt(A,w),{data:E,error:R}=await ce.from("time_slots").select("*").eq("date",P).eq("is_active",!0).order("start_time");if(R)throw R;f(E||[]),c("")}catch(P){console.error("Error fetching time slots:",P),f([])}finally{j(!1)}},C=A=>{o(A),c("")},k=A=>{const P=kn(w),E=Bt(P,w);return Bt(A,w)<E};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Delivery Options"}),s.jsxs(nf,{value:t,onValueChange:r,children:[s.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsx(qs,{value:"express",id:"express"}),s.jsxs(ne,{htmlFor:"express",className:"flex-1 cursor-pointer",children:["Express Delivery (ASAP)",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Se(h.express)}`})]})]}),s.jsxs("div",{className:"flex flex-col space-y-4 p-4 border rounded-md has-[:checked]:border-primary",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{value:"scheduled",id:"scheduled"}),s.jsxs(ne,{htmlFor:"scheduled",className:"flex-1 cursor-pointer",children:["Schedule Delivery",s.jsx("span",{className:"block text-sm text-muted-foreground",children:p?"Loading fee...":`Fee: ${Se(h.scheduled)}`})]})]}),t==="scheduled"&&s.jsxs(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"pl-6 space-y-4",children:[s.jsxs(ql,{children:[s.jsx(Yl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),n?Ct(n,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ca,{className:"w-auto p-0",children:s.jsx(aa,{mode:"single",selected:n,onSelect:C,initialFocus:!0,disabled:k})})]}),n&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Available Time Slots"}),y?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(zt,{value:l,onValueChange:c,children:[s.jsxs(Dt,{children:[s.jsx(An,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx(Wt,{placeholder:"Select a time slot"})]}),s.jsx(Rt,{children:u.map(A=>s.jsxs(De,{value:A.id,children:[qo(A.start_time)," - ",qo(A.end_time)]},A.id))})]})]})]})]})]})]})},_C=({subtotal:e,onPromoApplied:t,appliedPromo:r,onPromoRemoved:n})=>{const[o,l]=g.useState(""),[c,u]=g.useState(!1),f=async()=>{if(!o.trim()){re({variant:"destructive",title:"Error",description:"Please enter a promo code"});return}u(!0);try{const{data:m,error:p}=await ce.from("promo_codes").select("*").eq("code",o.toUpperCase()).eq("is_active",!0).single();if(p||!m){re({variant:"destructive",title:"Invalid Code",description:"Promo code not found or expired"});return}const x=new Date,y=new Date(m.valid_from),j=m.valid_until?new Date(m.valid_until):null;if(x<y){re({variant:"destructive",title:"Invalid Code",description:"This promo code is not yet active"});return}if(j&&x>j){re({variant:"destructive",title:"Expired Code",description:"This promo code has expired"});return}if(m.max_uses&&m.current_uses>=m.max_uses){re({variant:"destructive",title:"Code Limit Reached",description:"This promo code has reached its usage limit"});return}if(m.minimum_order_amount&&e<m.minimum_order_amount){re({variant:"destructive",title:"Minimum Order Required",description:`Minimum order of ${Se(m.minimum_order_amount)} required for this promo code`});return}let w=0;m.discount_type==="percentage"?w=e*m.discount_value/100:w=m.discount_value,w=Math.min(w,e),t({code:m.code,description:m.description,discountType:m.discount_type,discountValue:m.discount_value,discountAmount:w}),re({title:"Promo Code Applied",description:`You saved ${Se(w)}!`}),l("")}catch(m){console.error("Error validating promo code:",m),re({variant:"destructive",title:"Error",description:"Failed to validate promo code"})}finally{u(!1)}},h=()=>{n(),re({title:"Promo Code Removed",description:"Promo code has been removed from your order"})};return r?s.jsx("div",{className:"p-4 border rounded-lg bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vv,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:r.code}),s.jsx("p",{className:"text-sm text-green-600",children:r.description}),s.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",Se(r.discountAmount)]})]})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:h,className:"text-green-600 hover:text-green-800",children:s.jsx(ti,{className:"w-4 h-4"})})]})}):s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(xe,{id:"promo-code",value:o,onChange:m=>l(m.target.value.toUpperCase()),placeholder:"Enter promo code",disabled:c}),s.jsx(ee,{onClick:f,disabled:c||!o.trim(),variant:"outline",children:c?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Apply"})]})})},_U=()=>{const{cart:e,getCartTotal:t,clearCart:r}=as(),{addOrder:n}=mv(),{user:o,updateUserInfo:l}=sr(),c=Kt(),[u,f]=g.useState(!1),[h,m]=g.useState({type:"express",fee:0,scheduledTime:null,timeslot_id:null}),[p,x]=g.useState({name:"",email:"",phone:"",address:"",deliveryNotes:""}),[y,j]=g.useState({}),[w,_]=g.useState(!1),[N,C]=g.useState(!1),[k,A]=g.useState({name:"",address:"",postcode:""}),[P,E]=g.useState([]),[R,D]=g.useState([]),[$,W]=g.useState(""),[X,Q]=g.useState(!1),[z,O]=g.useState(null),[U,H]=g.useState(3),[F,I]=g.useState("");g.useEffect(()=>{const fe=async()=>{try{const{data:Ee,error:Et}=await ce.from("delivery_settings").select("express_fee,service_fee_percent").eq("id",1).single();if(Et&&Et.code!=="PGRST116")throw Et;m(ft=>({...ft,fee:(Ee==null?void 0:Ee.express_fee)||9.99})),H((Ee==null?void 0:Ee.service_fee_percent)||3)}catch(Ee){console.error("Error fetching initial delivery fee:",Ee),m(Et=>({...Et,fee:9.99})),H(3)}},_e=async()=>{try{const Ee=await Qd();E(Ee),D(Ee)}catch(Ee){console.error("Error fetching postcodes:",Ee)}},He=()=>{if(o){const Ee=!o.name||!o.addresses||o.addresses.length===0;C(Ee),Ee||(document.cookie="accountSetup=true; max-age=86400")}};fe(),_e(),He()},[o]),g.useEffect(()=>{if($.length===0)D(P);else{const fe=P.filter(_e=>_e.suburb.toLowerCase().includes($.toLowerCase())||_e.postcode.includes($));D(fe)}},[$,P]);const q=async fe=>{fe.preventDefault();try{await l({name:k.name,addresses:[{id:Date.now().toString(),label:"Default",address:k.address,postcode:k.postcode}]}),C(!1),document.cookie="accountSetup=true; max-age=86400",re({title:"Success",description:"Account details updated successfully"})}catch(_e){console.error("Error updating account:",_e),re({variant:"destructive",title:"Error",description:"Failed to update account details"})}},Y=fe=>{A(_e=>({..._e,address:fe.address,postcode:fe.postcode.toString()})),W(`${fe.suburb.toUpperCase()}, ${fe.postcode}`)},M=fe=>{A(_e=>({..._e,postcode:fe.postcode})),W(`${fe.suburb}, ${fe.postcode}`),Q(!1)},J=g.useCallback(fe=>{m(fe)},[]),te=g.useCallback(fe=>{x(fe)},[]),ve=fe=>{O(fe)},pe=()=>{O(null)},de=()=>{const fe=Number(t()||0),_e=Number(h.fee||0);return parseFloat((fe+_e).toFixed(2))},se=()=>Number(z?z.discountAmount:0),ie=()=>{const fe=de();return parseFloat((fe*(U/100)).toFixed(2))},je=()=>{const fe=de(),_e=se(),He=ie(),Ee=fe-_e+He;return parseFloat(Ee.toFixed(2))};if(e.length===0&&!u)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Your cart is empty"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Add products to checkout."}),s.jsx(ee,{className:"mt-4",onClick:()=>c("/shop"),children:"Continue Shopping"})]})});const ge={customer_name:p.name,customer_email:p.email,customer_phone:p.phone,customer_address:p.address,customer_postcode:p.postcode,customer_city:p.city,delivery_notes:F,delivery_type:h.type,scheduled_delivery_time:h.scheduledTime,timeslot_id:h.timeslot_id,promo_code:(z==null?void 0:z.code)||null,discount_amount:se(),fees_data:{delivery_fee:h.fee,service_fee:ie(),total:je(),serviceFeePercent:U}};return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_350px]",children:[s.jsx("div",{className:"space-y-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o?N?s.jsxs("div",{className:"p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Complete Your Account Details"}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(xe,{id:"name",value:k.name,onChange:fe=>A(_e=>({..._e,name:fe.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"address",children:"Delivery Address"}),s.jsx(Jd,{value:k.address,onChange:fe=>A(_e=>({..._e,address:fe})),onAddressSelect:Y,placeholder:"Start typing your address...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:$,onChange:fe=>{W(fe.target.value),Q(!0)},onFocus:()=>Q(!0),required:!0}),X&&R.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:R.slice(0,10).map(fe=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>M(fe),children:[s.jsx("div",{className:"text-sm font-medium",children:fe.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:fe.postcode})]},`${fe.suburb}-${fe.postcode}`))})]})]}),s.jsx(ee,{type:"submit",children:"Save Details"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(w5,{onDetailsChange:te,errors:y}),s.jsx(jU,{onDeliveryChange:J}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Promo Code"}),s.jsx(_C,{subtotal:de(),onPromoApplied:ve,appliedPromo:z,onPromoRemoved:pe})]})]}):s.jsxs("div",{className:"mt-6 p-6 border rounded-lg bg-muted/30",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sign in to Continue"}),s.jsx(Bd,{onSuccess:()=>{}})]})})}),s.jsx("div",{children:s.jsxs(Ae,{to:"/shop",className:"text-primary font-medium hover:underline text-sm flex items-center gap-1 mb-4",style:{textDecoration:"none"},children:["Forgot something? ",s.jsx("span",{className:"underline",children:"Continue Shopping"})]})}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"lg:sticky lg:top-20",children:s.jsx(S5,{deliveryFee:h.fee,appliedPromo:z,discountAmount:se(),serviceFeePercent:U,serviceFee:ie()})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"terms",checked:w,onCheckedChange:_}),s.jsxs(ne,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Ae,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Ae,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]})]})]}),s.jsx("div",{className:"flex justify-center w-full mt-8 mb-4",children:s.jsxs(ee,{className:"w-full max-w-xl text-base h-12 md:h-12 md:text-lg shadow-lg",onClick:()=>c("/stripe-payment",{state:{orderData:ge,deliveryFee:h.fee,finalTotal:je(),serviceFee:ie(),discountAmount:se()}}),disabled:!o||!w||N||p.address.length===0||de()<=0||u,children:["Proceed to Payment  ",s.jsx(ha,{})]})})]})},SU=["Changed my mind","Found a better price","Ordered by mistake","Need to change address/time","Other"],SC=({open:e,onClose:t,onConfirm:r,loading:n})=>{const[o,l]=g.useState(""),[c,u]=g.useState(""),f=()=>{const h=o==="Other"?c:o;h&&r(h)};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Cancel Order"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cancelling your order may incur a cancellation fee. Please select a reason:"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[SU.map(h=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"cancel-reason",value:h,checked:o===h,onChange:()=>l(h)}),s.jsx("span",{children:h})]},h)),o==="Other"&&s.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1 mt-1",placeholder:"Enter reason",value:c,onChange:h=>u(h.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:t,disabled:n,children:"Close"}),s.jsx(ee,{variant:"destructive",onClick:f,disabled:n||!o||o==="Other"&&!c,children:n?"Cancelling...":"Confirm Cancellation"})]})]})}):null},NU=()=>{const{id:e}=_d(),[t,r]=g.useState(null),[n,o]=g.useState(!0),[l,c]=g.useState(null),[u,f]=g.useState(!1),[h,m]=g.useState(null),[p,x]=g.useState(""),[y,j]=g.useState(!1),[w,_]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e)try{const{data:$,error:W}=await ce.from("orders").select("*").eq("id",e).single();if(W)throw W;if($)if(r($),$.expected_delivery_at===null){let X=new Date().getTime(),Q=new Date(X+45*60*1e3);c(Q)}else c(new Date($.expected_delivery_at))}catch($){console.error("Error fetching order:",$)}finally{o(!1)}})()},[e]);const N=D=>{if(!D)return"N/A";const $=new Date(D);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format($)},C=()=>{if(!t)return null;const D={pending:{color:"text-yellow-500",bgColor:"bg-yellow-100",icon:An,title:"Order Pending",description:l?`Estimated delivery by ${N(l)}`:"Processing your order"},processing:{color:"text-blue-500",bgColor:"bg-blue-100",icon:fn,title:"Order Processing",description:"Your order is being prepared"},delivered:{color:"text-green-500",bgColor:"bg-green-100",icon:Ll,title:"Order Delivered",description:"Your order has been delivered"},cancelled:{color:"text-red-500",bgColor:"bg-red-100",icon:Q4,title:"Order Cancelled",description:"This order has been cancelled"}};return D[t.status]||D.pending},k=t&&["pending","processing"].includes(t.status),A=async D=>{f(!0),m(null);try{const{error:$}=await ce.from("orders").update({status:"cancelled",cancel_reason:D}).eq("id",t.id);if($)throw $;r({...t,status:"cancelled",cancel_reason:D}),_(!1)}catch{m("Failed to cancel order. Please try again.")}finally{f(!1)}},P=async()=>{if(!(!p.trim()||y)){j(!0);try{const D=t.admin_messages||[],$={from:"customer",message:p.trim(),timestamp:new Date().toISOString()},{error:W}=await ce.from("orders").update({admin_messages:[...D,$]}).eq("id",t.id);if(W)throw W;r(X=>({...X,admin_messages:[...D,$]})),x("")}catch{m("Could not send message.")}finally{j(!1)}}};if(n)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})});if(!t)return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Not Found"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"The order you're looking for doesn't exist."}),s.jsx(Ae,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Continue Shopping"})})]})});const E=C(),R=E.icon;return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx("div",{children:s.jsx(Ae,{to:"/account",children:s.jsxs(ee,{variant:"ghost",className:"mb-4",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Return to Account"]})})}),s.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(be.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`mx-auto w-24 h-24 rounded-full ${E.bgColor} flex items-center justify-center mb-4`,children:s.jsx(R,{className:`w-12 h-12 ${E.color}`})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:E.title}),s.jsx("p",{className:"text-muted-foreground",children:E.description})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-0 top-1/2 w-full h-1 bg-muted transform -translate-y-1/2",children:s.jsx("div",{className:`h-full bg-primary transition-all duration-500 ${t.status==="pending"?"w-1/3":t.status==="processing"?"w-2/3":t.status==="delivered"?"w-full":"w-0"}`})}),s.jsxs("div",{className:"relative flex justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending","processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Ll,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Confirmed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["processing","delivered"].includes(t.status)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(fn,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Processing"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.status==="delivered"?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx($d,{className:"w-4 h-4"})}),s.jsx("span",{className:"mt-2 text-sm",children:"Delivered"})]})]})]})}),s.jsxs("div",{className:"mt-8 p-6 border rounded-lg text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Order #",t.id.slice(0,6).toUpperCase()]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${E.bgColor} ${E.color}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:N(t.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Address"}),s.jsx("p",{className:"font-medium",children:t.customer_address})]}),t.delivery_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivery Notes"}),s.jsx("p",{className:"font-medium",children:t.delivery_notes})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:t.items.map((D,$)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:D.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se(D.price)," x ",D.quantity]})]}),s.jsx("p",{className:"font-medium",children:Se(D.price*D.quantity)})]},$))}),s.jsxs("div",{className:"space-y-3",children:[t.fees_data&&t.fees_data.delivery_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Fee"}),s.jsx("span",{children:Se(t.fees_data.delivery_fee)})]}),t.fees_data&&t.fees_data.service_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Fee (",t.fees_data.serviceFeePercent,"%)"]}),s.jsx("span",{children:Se(t.fees_data.service_fee)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-bold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Se(t.total)})]})]})]}),s.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(Ae,{to:"/shop",children:s.jsx(ee,{variant:"outline",children:"Continue Shopping"})}),s.jsx(Ae,{to:"/account/orders",children:s.jsxs(ee,{children:[s.jsx(fn,{className:"mr-2 h-4 w-4"}),"View All Orders"]})})]}),k&&s.jsxs("div",{className:"mt-4 flex justify-center",children:[s.jsx(ee,{variant:"destructive",className:"w-full max-w-xs",onClick:()=>_(!0),disabled:u,children:"Cancel Order"}),s.jsx(SC,{open:w,onClose:()=>_(!1),onConfirm:A,loading:u})]}),h&&s.jsx("div",{className:"mt-4 text-red-500 text-center",children:h}),t.payment_status==="paid"&&t.payment_data&&s.jsxs("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded",children:[s.jsx("div",{className:"font-medium mb-1 text-green-800",children:"Payment Details:"}),s.jsx("pre",{className:"text-xs text-green-900 whitespace-pre-wrap break-all",children:JSON.stringify(t.payment_data,null,2)})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Conversation"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.admin_messages&&t.admin_messages.length>0?t.admin_messages.map((D,$)=>s.jsxs("div",{className:`p-3 rounded text-sm ${D.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:D.from==="admin"?"Support Team":"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(D.timestamp).toLocaleString()})]}),s.jsx("p",{children:D.message})]},$)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("label",{className:"block font-medium",children:"Send a message:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("textarea",{value:p,onChange:D=>x(D.target.value),placeholder:"Type your message...",rows:2,className:"flex-1 border rounded p-2"}),s.jsx(ee,{onClick:P,disabled:!p.trim()||y,size:"sm",children:y?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(pa,{className:"w-4 h-4"})})]})]})]})]})]})},CU=()=>{const[e,t]=g.useState({email:"",password:""}),[r,n]=g.useState({}),[o,l]=g.useState(!1),{login:c,loading:u,logout:f}=sr(),h=Kt(),m=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),r[j]&&n(_=>({..._,[j]:""}))},p=()=>{const y={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(y.email="Email is invalid"):y.email="Email is required",e.password.trim()||(y.password="Password is required"),n(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!p()||o||u)return;l(!0);const{success:j,isAdminUser:w,error:_}=await c(e.email,e.password);j?w?(h("/admin"),re({title:"Admin Access Granted",description:"Welcome to the Admin Dashboard."})):(re({variant:"destructive",title:"Access Denied",description:"You do not have admin privileges. Logging out."}),await f()):_&&_!=="Invalid login credentials"&&re({variant:"destructive",title:"Login Failed",description:_}),l(!1)};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"admin-email",children:"Admin Email"}),s.jsx(xe,{id:"admin-email",name:"email",type:"email",value:e.email,onChange:m,placeholder:"admin_master@groceroo.com.au",className:`${r.email?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"admin-password",children:"Admin Password"}),s.jsx(xe,{id:"admin-password",name:"password",type:"password",value:e.password,onChange:m,placeholder:"",className:`${r.password?"border-destructive":""} focus:border-destructive/80`,disabled:o||u}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx(Ae,{to:"/forgot-password",className:`text-muted-foreground hover:text-destructive ${o||u?"pointer-events-none opacity-50":""}`,children:"Forgot password?"})}),s.jsx(ee,{type:"submit",variant:"destructive",className:"w-full",disabled:o||u,children:o||u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-destructive-foreground border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):"Sign In to Admin Portal"})]})},kU=()=>s.jsx("div",{className:"container flex flex-col items-center justify-center min-h-[calc(100vh-200px)] px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col items-center mb-8 text-center",children:[s.jsx(M$,{className:"w-12 h-12 mb-4 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold text-destructive",children:"Admin Portal"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Authorized personnel access only."})]}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"p-6 border-2 border-destructive/30 rounded-lg shadow-xl bg-card",children:s.jsx(CU,{})}),s.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Not an admin? Return to"," ",s.jsx(Ae,{to:"/",className:"text-primary hover:underline",children:"Homepage"})," ","or"," ",s.jsx(Ae,{to:"/login",className:"text-primary hover:underline",children:"Customer Login"}),"."]})})]})}),PU=()=>{const[e,t]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[r,n]=g.useState({}),[o,l]=g.useState(!1),{register:c}=sr(),u=Kt(),f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),r[x]&&n(j=>({...j,[x]:""}))},h=()=>{const p={};return e.name.trim()||(p.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(p.email="Email is invalid"):p.email="Email is required",e.phone.trim()||(p.phone="Phone number is required"),e.password.trim()?e.password.length<6&&(p.password="Password must be at least 6 characters"):p.password="Password is required",e.password!==e.confirmPassword&&(p.confirmPassword="Passwords do not match"),n(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h()||o)return;l(!0);const x=await c(e.email,e.password,e.name,e.phone);l(!1),x&&u("/login")};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Create an Account"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Sign up to start shopping with Groceroo"})]}),s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(xe,{id:"name",name:"name",value:e.name,onChange:f,className:r.name?"border-destructive":"",disabled:o}),r.name&&s.jsx("p",{className:"text-xs text-destructive",children:r.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(xe,{id:"email",name:"email",type:"email",value:e.email,onChange:f,className:r.email?"border-destructive":"",disabled:o}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(xe,{id:"phone",name:"phone",value:e.phone,onChange:f,className:r.phone?"border-destructive":"",disabled:o}),r.phone&&s.jsx("p",{className:"text-xs text-destructive",children:r.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"password",children:"Password"}),s.jsx(xe,{id:"password",name:"password",type:"password",value:e.password,onChange:f,className:r.password?"border-destructive":"",disabled:o}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(xe,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,className:r.confirmPassword?"border-destructive":"",disabled:o}),r.confirmPassword&&s.jsx("p",{className:"text-xs text-destructive",children:r.confirmPassword})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",s.jsx(Ae,{to:"/login",className:`text-primary hover:underline ${o?"pointer-events-none opacity-50":""}`,children:"Sign in"})]})})]})]})})};var sf="Tabs",[EU,lV]=$n(sf,[tf]),NC=tf(),[TU,og]=EU(sf),CC=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=sg(u),[p,x]=Gi({prop:n,onChange:o,defaultProp:l??"",caller:sf});return s.jsx(TU,{scope:r,baseId:Go(),value:p,onValueChange:x,orientation:c,dir:m,activationMode:f,children:s.jsx(Ke.div,{dir:m,"data-orientation":c,...h,ref:t})})});CC.displayName=sf;var kC="TabsList",PC=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,l=og(kC,r),c=NC(r);return s.jsx(aC,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:s.jsx(Ke.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});PC.displayName=kC;var EC="TabsTrigger",TC=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...l}=e,c=og(EC,r),u=NC(r),f=RC(c.baseId,n),h=OC(c.baseId,n),m=n===c.value;return s.jsx(lC,{asChild:!0,...u,focusable:!o,active:m,children:s.jsx(Ke.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:qe(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(n):p.preventDefault()}),onKeyDown:qe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(n)}),onFocus:qe(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!o&&p&&c.onValueChange(n)})})})});TC.displayName=EC;var AC="TabsContent",DC=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:l,...c}=e,u=og(AC,r),f=RC(u.baseId,n),h=OC(u.baseId,n),m=n===u.value,p=g.useRef(m);return g.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(Mn,{present:o||m,children:({present:x})=>s.jsx(Ke.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&l})})});DC.displayName=AC;function RC(e,t){return`${e}-trigger-${t}`}function OC(e,t){return`${e}-content-${t}`}var AU=CC,$C=PC,MC=TC,IC=DC;const ag=AU,of=he.forwardRef(({className:e,...t},r)=>s.jsx($C,{ref:r,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));of.displayName=$C.displayName;const Oi=he.forwardRef(({className:e,...t},r)=>s.jsx(MC,{ref:r,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oi.displayName=MC.displayName;const $i=he.forwardRef(({className:e,...t},r)=>s.jsx(IC,{ref:r,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$i.displayName=IC.displayName;const DU=()=>{const{user:e,updateUserInfo:t}=sr(),[r,n]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState({label:"",address:"",postcode:""}),[f,h]=g.useState(!1),[m,p]=g.useState([]),[x,y]=g.useState([]),[j,w]=g.useState(""),[_,N]=g.useState(!1),C=(e==null?void 0:e.addresses)||[];g.useEffect(()=>{(async()=>{try{const $=await Qd();p($),y($)}catch($){console.error("Error fetching postcodes:",$)}})()},[]),g.useEffect(()=>{if(j.length===0)y(m);else{const D=m.filter($=>$.suburb.toLowerCase().includes(j.toLowerCase())||$.postcode.includes(j));y(D)}},[j,m]);const k=async D=>{if(D.preventDefault(),!c.label.trim()||!c.address.trim()||!c.postcode){re({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}h(!0);try{let $;if(o)$=C.map(W=>W.id===o.id?{...W,label:c.label,address:c.address,postcode:c.postcode}:W);else{const W=Math.random().toString(36).substr(2,9);$=[...C,{id:W,label:c.label,address:c.address,postcode:c.postcode}]}await t({addresses:$}),n(!1),l(null),u({label:"",address:"",postcode:""}),w(""),re({title:"Success",description:o?"Address updated":"Address added"})}catch($){console.error("Error saving address:",$),re({variant:"destructive",title:"Error",description:"Could not save address"})}finally{h(!1)}},A=async D=>{try{const $=C.filter(W=>W.id!==D);await t({addresses:$}),re({title:"Success",description:"Address deleted"})}catch($){console.error("Error deleting address:",$),re({variant:"destructive",title:"Error",description:"Could not delete address"})}},P=D=>{u($=>({...$,address:D.address,postcode:D.postcode})),w(`${D.suburb.toUpperCase()}, ${D.postcode}`)},E=D=>{u($=>({...$,postcode:D.postcode})),w(`${D.suburb}, ${D.postcode}`),N(!1)},R=(D=null)=>{if(l(D),D){u({label:D.label,address:D.address,postcode:D.postcode});const $=m.find(W=>W.postcode===D.postcode);$&&w(`${$.suburb}, ${$.postcode}`)}else u({label:"",address:"",postcode:""}),w("");n(!0)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Saved Addresses"}),s.jsxs(mn,{open:r,onOpenChange:n,children:[s.jsx(ri,{asChild:!0,children:s.jsxs(ee,{onClick:()=>R(),children:[s.jsx(ma,{className:"w-4 h-4 mr-2"}),"Add Address"]})}),s.jsxs(Kr,{children:[s.jsx(Xr,{children:s.jsx(Jr,{children:o?"Edit Address":"Add New Address"})}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"label",children:"Label"}),s.jsx(xe,{id:"label",placeholder:"e.g., Home, Work",value:c.label,onChange:D=>u($=>({...$,label:D.target.value})),disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"address",children:"Address"}),s.jsx(Jd,{value:c.address,onChange:D=>u($=>({...$,address:D})),onAddressSelect:P,placeholder:"Start typing your address...",disabled:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:j,onChange:D=>{w(D.target.value),N(!0)},onFocus:()=>N(!0),disabled:f}),_&&x.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:x.slice(0,10).map(D=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>E(D),children:[s.jsx("div",{className:"text-sm font-medium",children:D.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:D.postcode})]},`${D.suburb}-${D.postcode}`))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{n(!1),N(!1)},disabled:f,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Add"})]})]})]})]})]}),s.jsx("div",{className:"space-y-2",children:C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No addresses saved yet."}):C.map(D=>{const $=m.find(W=>W.postcode===D.postcode);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:D.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.address}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$?`${$.suburb}, ${$.postcode}`:D.postcode})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>R(D),children:s.jsx(P$,{className:"w-4 h-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>A(D.id),children:s.jsx(qi,{className:"w-4 h-4"})})]})]},D.id)})})]})},Yr=he.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Yr.displayName="Card";const un=he.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));un.displayName="CardHeader";const dn=he.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));dn.displayName="CardTitle";const $p=he.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));$p.displayName="CardDescription";const Gr=he.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("p-6 pt-0",e),...t}));Gr.displayName="CardContent";const RU=he.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex items-center p-6 pt-0",e),...t}));RU.displayName="CardFooter";const LC=({orders:e})=>{const t=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=n=>n?Ct(new Date(n),"PPP"):"N/A";return e.length===0?s.jsx(Yr,{children:s.jsxs(Gr,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(fn,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No upcoming orders"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your scheduled pickup orders will appear here."})]})}):s.jsx("div",{className:"space-y-2",children:e.map(n=>{var o,l;return s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"py-2",children:[s.jsx(un,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(dn,{className:"text-base",children:["Order #",n.id.slice(0,6).toUpperCase()]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rt,{className:t(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),s.jsx(Ae,{to:`/pickup-order/${n.id}`,children:s.jsx(ee,{variant:"ghost",size:"sm",children:s.jsx(z_,{className:"w-4 h-4"})})})]})]})}),s.jsxs(Gr,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),r(n.pickup_date)]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(An,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]})]}),s.jsxs("div",{className:"flex items-center text-xs",children:[s.jsx(Hi,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:(o=n.pickup_order_stores)==null?void 0:o.map((c,u)=>{var f;return s.jsx(rt,{variant:"outline",className:"text-xs",children:(f=c.stores)==null?void 0:f.name},u)})})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{className:"font-medium",children:Se(n.estimated_total)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Store Details:"}),s.jsx("div",{className:"space-y-1",children:(l=n.pickup_order_stores)==null?void 0:l.map((c,u)=>{var f;return s.jsxs("div",{className:"flex justify-between items-center text-xs bg-muted/30 p-1 rounded",children:[s.jsx("span",{children:(f=c.stores)==null?void 0:f.name}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:Se(c.estimated_total||0)}),s.jsx(rt,{variant:"outline",className:"text-xs",children:c.status})]})]},u)})})]}),n.photos&&n.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-1",children:"Photos:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[n.photos.slice(0,4).map((c,u)=>s.jsx("img",{src:c.data,alt:`Photo ${u+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(c.data,"_blank")},u)),n.photos.length>4&&s.jsxs("div",{className:"aspect-square rounded bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",n.photos.length-4," more"]})]})]}),s.jsx("div",{className:"flex justify-center pt-1",children:s.jsx(Ae,{to:`/pickup-order/${n.id}`,children:s.jsx(ee,{size:"sm",children:"View Full Details"})})})]})]})},n.id)})})},OU=()=>{const{user:e,updateUserInfo:t,logout:r,loading:n}=sr(),[o,l]=g.useState([]),[c,u]=g.useState([]),[f,h]=g.useState(!0),m=Kt(),[p,x]=XE(),y=p.get("tab")||"profile",j=O=>{console.log(O),x({tab:O})},[w,_]=g.useState({name:"",email:"",phone:""}),[N,C]=g.useState({}),[k,A]=g.useState(!1);g.useEffect(()=>{n||(e?e&&(_({name:e.name||"",email:e.email||"",phone:e.phone||""}),P(e.id),E(e.id)):m("/"))},[e,n,m]);const P=async O=>{h(!0);try{const{data:U,error:H}=await ce.from("orders").select("*").eq("user_id",O).order("created_at",{ascending:!1});if(H)throw H;l(U||[])}catch(U){console.error("Error fetching orders:",U)}},E=async O=>{try{const{data:U,error:H}=await ce.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("user_id",O).order("created_at",{ascending:!1});if(H)throw H;u(U||[])}catch(U){console.error("Error fetching pickup orders:",U)}finally{h(!1)}},R=async(O,U)=>{try{const{data:H,error:F}=await ce.from("pickup_orders").select("admin_messages").eq("id",O).single();if(F)throw F;const I=H.admin_messages||[],q={from:"customer",message:U,timestamp:new Date().toISOString()},{error:Y}=await ce.from("pickup_orders").update({admin_messages:[...I,q]}).eq("id",O);if(Y)throw Y;E(e.id)}catch(H){console.error("Error sending message:",H)}},D=O=>{const{name:U,value:H}=O.target;_(F=>({...F,[U]:H})),N[U]&&C(F=>({...F,[U]:""}))},$=()=>{const O={};return w.name.trim()||(O.name="Name is required"),w.email.trim()&&(/\S+@\S+\.\S+/.test(w.email)||(O.email="Email is invalid")),C(O),Object.keys(O).length===0},W=async O=>{if(O.preventDefault(),!(!$()||k)){A(!0);try{await t({name:w.name,email:w.email}),re({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(U){console.error("Error updating profile:",U),re({variant:"destructive",title:"Update Failed",description:U.message})}finally{A(!1)}}},X=async()=>{await r(),m("/")},Q=O=>{if(!O)return"N/A";const U=new Date(O);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(U)},z=O=>{switch(O){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100"}};return n?s.jsx("div",{className:"container flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsxs(be.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-3xl font-bold tracking-tight mb-6",children:["My Account ",s.jsx(vp,{style:{display:"inline"}})]}),s.jsxs(ag,{value:y,onValueChange:j,className:"space-y-6",children:[s.jsxs(of,{className:"grid w-full grid-cols-3 md:w-auto md:inline-flex",children:[s.jsxs(Oi,{value:"profile",className:"flex items-center",children:[s.jsx(vp,{className:"w-4 h-4 mr-2"}),"Profile"]}),s.jsxs(Oi,{value:"orders",className:"flex items-center",children:[s.jsx(fn,{className:"w-4 h-4 mr-2"}),"Orders"]}),s.jsxs(Oi,{value:"grocery-runs",className:"flex items-center",children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Grocery Runs"]})]}),s.jsxs($i,{value:"profile",className:"space-y-6",children:[s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(xe,{id:"name",name:"name",value:w.name,onChange:D,className:N.name?"border-destructive":"",disabled:k}),N.name&&s.jsx("p",{className:"text-xs text-destructive",children:N.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(xe,{id:"email",name:"email",type:"email",value:w.email,onChange:D,className:N.email?"border-destructive":"",disabled:k}),N.email&&s.jsx("p",{className:"text-xs text-destructive",children:N.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(xe,{id:"phone",name:"phone",value:w.phone,className:"bg-muted/50",disabled:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone number cannot be changed."})]}),s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsx(ee,{type:"submit",disabled:k,children:k?"Saving...":"Save Changes"})})]})]}),s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"p-6 border rounded-lg",children:s.jsx(DU,{})}),s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Actions"}),s.jsxs(ee,{variant:"destructive",className:"flex items-center",onClick:X,disabled:k,children:[s.jsx(W_,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),s.jsx($i,{value:"orders",className:"space-y-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Orders"}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fn,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No delivery orders yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start shopping to place your first order."}),s.jsx(Ae,{to:"/shop",children:s.jsx(ee,{className:"mt-4",children:"Start Shopping"})})]}):s.jsx("div",{className:"space-y-4",children:o.map(O=>s.jsx(Ae,{to:`/order-confirmation/${O.id}`,className:"block p-4 border rounded-lg hover:bg-muted/30 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("h3",{className:"font-medium",children:["Order #",O.id.substring(0,6).toUpperCase(),"..."]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z(O.status)}`,children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Q(O.created_at),"  ",Se(O.total)]})]}),s.jsx("div",{className:"mt-2 sm:mt-0 text-right",children:s.jsx("p",{className:"font-medium",children:Se(O.total)})})]})},O.id))})]})})}),s.jsx($i,{value:"grocery-runs",className:"space-y-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Grocery Runs"}),s.jsx(Ae,{to:"/grocery-run",children:s.jsx(ee,{children:"Schedule New"})})]}),f?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx(LC,{orders:c,onSendMessage:R})]})})})]})]})},$U=({pendingCount:e,processingCount:t,deliveredCount:r})=>{const n=[{title:"Pending Orders",count:e,icon:fn,color:"yellow"},{title:"Processing Orders",count:t,icon:q_,color:"blue"},{title:"Delivered Orders",count:r,icon:gv,color:"green"}],o={yellow:{bg:"bg-yellow-100/50",text:"text-yellow-600"},blue:{bg:"bg-blue-100/50",text:"text-blue-600"},green:{bg:"bg-green-100/50",text:"text-green-600"}};return s.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:n.map((l,c)=>s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*(c+1)},className:"p-6 border rounded-lg bg-card",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-full ${o[l.color].bg}`,children:s.jsx(l.icon,{className:`h-6 w-6 ${o[l.color].text}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:l.title}),s.jsx("h3",{className:"text-2xl font-bold",children:l.count})]})]})},l.title))})},MU=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[o,l]=g.useState("processing"),[c,u]=g.useState(""),[f,h]=g.useState(null),[m,p]=g.useState(!1),[x,y]=g.useState(""),[j,w]=g.useState(""),[_,N]=g.useState(!1),[C,k]=g.useState(ya);g.useEffect(()=>{A(),E();const z=setInterval(()=>{E(!0)},6e4);return()=>clearInterval(z)},[o]);const A=async()=>{try{const{data:z,error:O}=await ce.from("delivery_settings").select("timezone").eq("id",1).single();!O&&(z!=null&&z.timezone)&&k(z.timezone)}catch(z){console.error("Error fetching timezone:",z)}},P=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},E=async(z=!1)=>{try{const{data:O,error:U}=await ce.from("orders").select("*").eq("status",o).order("created_at",{ascending:!1});if(U)throw U;z&&e.length>0&&O.length>e.length&&(P(),re({title:"New Order",description:"A new order has been received!"})),t(O||[])}catch(O){console.error("Error fetching orders:",O),re({variant:"destructive",title:"Error",description:"Could not load orders."})}finally{n(!1)}},R=async(z,O)=>{try{const{error:U}=await ce.from("orders").update({status:O}).eq("id",z);if(U)throw U;re({title:"Status Updated",description:`Order status changed to ${O}`}),E()}catch(U){console.error("Error updating order status:",U),re({variant:"destructive",title:"Error",description:"Could not update order status."})}},D=async(z,O)=>{const U=kn(C);if(new Date(O)<=U){re({variant:"destructive",title:"Invalid Time",description:"Delivery time cannot be in the past."});return}try{const{error:F}=await ce.from("orders").update({expected_delivery_at:O}).eq("id",z);if(F)throw F;re({title:"Delivery Time Updated",description:"Expected delivery time has been updated"}),E()}catch(F){console.error("Error updating delivery time:",F),re({variant:"destructive",title:"Error",description:"Could not update delivery time."})}},$=async()=>{if(!(!j||!f)){N(!0);try{const{error:z}=await ce.from("orders").update({payment_status:"confirmed",status:"processing",fees_data:{actual_amount:parseFloat(j),confirmed_at:new Date().toISOString()}}).eq("id",f.id);if(z)throw z;re({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Se(parseFloat(j))}`}),w(""),E(),p(!1)}catch(z){console.error("Error confirming payment:",z),re({variant:"destructive",title:"Error",description:"Could not confirm payment: "+z.message})}finally{N(!1)}}},W=async()=>{if(!(!x.trim()||!f))try{const z=f.admin_messages||[],O={from:"admin",message:x,timestamp:new Date().toISOString()},{error:U}=await ce.from("orders").update({admin_messages:[...z,O]}).eq("id",f.id);if(U)throw U;re({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),E(),h({...f,admin_messages:[...z,O]})}catch(z){console.error("Error sending message:",z),re({variant:"destructive",title:"Error",description:"Could not send message."})}},X=e.filter(z=>{var U,H;return((U=z.customer_name)==null?void 0:U.toLowerCase().includes(c.toLowerCase()))||((H=z.customer_email)==null?void 0:H.toLowerCase().includes(c.toLowerCase()))||z.id.toLowerCase().includes(c.toLowerCase())}),Q=z=>{if(!z)return"N/A";const O=new Date(z);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(O)};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Orders Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:c,onChange:z=>u(z.target.value)})]}),s.jsxs(zt,{value:o,onValueChange:l,children:[s.jsx(Dt,{className:"w-full md:w-[180px]",children:s.jsx(Wt,{placeholder:"Filter by status"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"space-y-4",children:X.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx(fn,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No orders found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your filters."})]}):X.map(z=>{var O,U,H,F,I;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["Order #",z.id.slice(0,6).toUpperCase()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Q(z.created_at)}),s.jsxs("p",{className:"text-sm",children:[z.customer_name," - ",z.customer_email]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:Se(z.total)}),s.jsxs(mn,{open:m&&(f==null?void 0:f.id)===z.id,onOpenChange:p,children:[s.jsx(ri,{asChild:!0,children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>h(z),children:"View Details"})}),s.jsxs(Kr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Xr,{children:s.jsxs(Jr,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6).toUpperCase()]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",f.customer_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",f.customer_email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.customer_phone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.customer_address]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",f.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",f.payment_status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total:"})," ",Se(f.total)]}),((O=f.fees_data)==null?void 0:O.delivery_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee:"})," ",Se((U=f.fees_data)==null?void 0:U.delivery_fee)]}),((H=f.fees_data)==null?void 0:H.service_fee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Service Fee:"})," ",Se(f.fees_data.service_fee)]}),f.discount_amount>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Discount:"})," -",Se(f.discount_amount)]}),f.promo_code&&s.jsxs("p",{children:[s.jsx("strong",{children:"Promo Code:"})," ",f.promo_code]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Update Status"}),s.jsxs(zt,{value:f.status,onValueChange:q=>R(f.id,q),children:[s.jsx(Dt,{children:s.jsx(Wt,{})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Expected Delivery Time"}),s.jsx(xe,{type:"datetime-local",value:f.expected_delivery_at?new Date(f.expected_delivery_at).toISOString().slice(0,16):"",onChange:q=>D(f.id,q.target.value)})]}),f.payment_status==="paid"&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(ha,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(xe,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:q=>w(q.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(ee,{onClick:$,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Ll,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),s.jsx("div",{className:"space-y-2",children:(F=f.items)==null?void 0:F.map((q,Y)=>s.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[s.jsxs("span",{children:[q.name," x",q.quantity]}),s.jsx("span",{children:Se(q.price*q.quantity)})]},Y))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(I=f.admin_messages)==null?void 0:I.map((q,Y)=>s.jsxs("div",{className:`p-3 rounded text-sm ${q.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:q.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(q.timestamp).toLocaleString()})]}),s.jsx("p",{children:q.message})]},Y))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(cr,{value:x,onChange:q=>y(q.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(ee,{onClick:W,disabled:!x.trim(),children:s.jsx(pa,{className:"w-4 h-4"})})]})]})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(zt,{value:z.status,onValueChange:q=>R(z.id,q),children:[s.jsx(Dt,{className:"w-[130px]",children:s.jsx(Wt,{})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"delivered",children:"Delivered"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.delivery_type,"  ",z.customer_address]})]})]},z.id)})})]})},Qi=he.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Pe("w-full caption-bottom text-sm",e),...t})}));Qi.displayName="Table";const Zi=he.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Pe("[&_tr]:border-b",e),...t}));Zi.displayName="TableHeader";const eo=he.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Pe("[&_tr:last-child]:border-0",e),...t}));eo.displayName="TableBody";const IU=he.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IU.displayName="TableFooter";const Ot=he.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ot.displayName="TableRow";const Ve=he.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ve.displayName="TableHead";const Ue=he.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ue.displayName="TableCell";const LU=he.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Pe("mt-4 text-sm text-muted-foreground",e),...t}));LU.displayName="TableCaption";const lg=(e="groceroo_images")=>{const[t,r]=g.useState(!1),[n,o]=g.useState(null);return{isUploading:t,uploadError:n,uploadFile:async(u,f="")=>{if(!u)return{url:null,error:null};r(!0),o(null);const h=u.name.split(".").pop(),m=`${Date.now()}.${h}`,p=f?`${f}/${m}`:m;try{const{data:x,error:y}=await ce.storage.from(e).upload(p,u);if(y)throw y;const{data:j}=ce.storage.from(e).getPublicUrl(p);return r(!1),{url:j.publicUrl,error:null}}catch(x){return console.error(`Error uploading file to ${e}:`,x),o(x.message),re({variant:"destructive",title:"Upload Failed",description:x.message}),r(!1),{url:null,error:x.message}}},deleteFile:async u=>{if(!u)return{success:!0,error:null};const f=u.split("/"),h=f.findIndex(p=>p===e);if(h===-1||h===f.length-1)return console.warn("Could not parse file path from URL:",u),{success:!1,error:"Could not parse file path"};const m=f.slice(h+1).join("/");if(!m)return console.warn("Empty file path extracted from URL:",u),{success:!1,error:"Empty file path"};try{const{error:p}=await ce.storage.from(e).remove([m]);if(p)throw p;return console.log(`Successfully deleted file ${m} from ${e}.`),{success:!0,error:null}}catch(p){return console.error(`Error deleting file ${m}:`,p),re({variant:"destructive",title:"Deletion Error",description:`Could not delete file: ${p.message}`}),{success:!1,error:p.message}}}}},FU=({product:e,categories:t,onSubmit:r,onCancel:n})=>{const[o,l]=g.useState({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),[c,u]=g.useState({}),[f,h]=g.useState(null),[m,p]=g.useState(""),x=g.useRef(null),{isUploading:y,uploadFile:j,deleteFile:w}=lg();g.useEffect(()=>{e?(l({name:e.name||"",price:e.price||"",unit:e.unit||"",category_id:e.category_id?String(e.category_id):"",description:e.description||"",image_url:e.image_url||"",in_stock:e.in_stock!==void 0?e.in_stock:!0,featured:e.featured!==void 0?e.featured:!1,categories_ids:e.categories_ids||[]}),p(e.image_url||"")):(l({name:"",price:"",unit:"",category_id:"",description:"",image_url:"",in_stock:!0,featured:!1,categories_ids:[]}),p(""),h(null))},[e]);const _=R=>{const{name:D,value:$,type:W,checked:X}=R.target;l(Q=>({...Q,[D]:W==="checkbox"?X:$})),c[D]&&u(Q=>({...Q,[D]:""}))},N=(R,D)=>{l($=>({...$,[R]:D})),c[R]&&u($=>({...$,[R]:""}))},C=R=>{const D=R.target.files[0];if(D){h(D);const $=new FileReader;$.onloadend=()=>p($.result),$.readAsDataURL(D),u(W=>({...W,image_url:""}))}},k=async()=>{let R=o.image_url||null;if(f){e&&e.image_url&&await w(e.image_url);const{url:D,error:$}=await j(f,"products");if($)return u(W=>({...W,image_url:"Image upload failed. Please try again."})),null;R=D}return R},A=()=>{const R={};return o.name.trim()||(R.name="Name is required"),(!o.price||isNaN(o.price)||parseFloat(o.price)<=0)&&(R.price="Valid price is required"),o.unit.trim()||(R.unit="Unit is required"),o.category_id||(R.category_id="Category is required"),o.description.trim()||(R.description="Description is required"),u(R),Object.keys(R).length===0},P=async R=>{if(R.preventDefault(),!A()||y)return;const D=await k();if(f&&D===null){re({variant:"destructive",title:"Submission Failed",description:"Product could not be saved due to image upload error."});return}const $={name:o.name,price:parseFloat(o.price),unit:o.unit,category_id:parseInt(o.category_id),description:o.description,image_url:D,in_stock:o.in_stock,featured:o.featured,updated_at:new Date,categories_ids:o.categories_ids};e!=null&&e.id&&($.id=e.id),r($)},E=R=>{const D=Array.from(R.target.selectedOptions);l($=>({...$,categories_ids:D.map(W=>parseInt(W.value))})),c.categories_ids&&u($=>({...$,categories_ids:""}))};return s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"product-image",children:"Product Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:m?s.jsx("img",{src:m,alt:"Product Preview",className:"object-cover w-full h-full"}):s.jsx(Rd,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(xe,{id:"product-image",type:"file",accept:"image/*",onChange:C,ref:x,className:"hidden",disabled:y}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var R;return(R=x.current)==null?void 0:R.click()},disabled:y,children:[s.jsx(V_,{className:"w-4 h-4 mr-2"}),y?"Uploading...":f?"Change Image":"Upload Image"]})]}),c.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:c.image_url})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Product Name"}),s.jsx(xe,{id:"name",name:"name",value:o.name,onChange:_,className:c.name?"border-destructive":"",disabled:y}),c.name&&s.jsx("p",{className:"text-xs text-destructive",children:c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"price",children:"Price"}),s.jsx(xe,{id:"price",name:"price",type:"number",step:"0.01",value:o.price,onChange:_,className:c.price?"border-destructive":"",disabled:y}),c.price&&s.jsx("p",{className:"text-xs text-destructive",children:c.price})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"unit",children:"Unit (e.g., lb, bunch, each)"}),s.jsx(xe,{id:"unit",name:"unit",value:o.unit,onChange:_,className:c.unit?"border-destructive":"",disabled:y}),c.unit&&s.jsx("p",{className:"text-xs text-destructive",children:c.unit})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"category_id",children:"Category"}),s.jsxs(zt,{value:o.category_id,onValueChange:R=>N("category_id",R),disabled:y,children:[s.jsx(Dt,{className:c.category_id?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Select category"})}),s.jsx(Rt,{children:t.map(R=>s.jsx(De,{value:String(R.id),children:R.name},R.id))})]}),c.category_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.category_id})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"categories_ids",children:"Other Categories"}),s.jsx("select",{id:"categories_ids",name:"categories_ids",multiple:!0,value:o.categories_ids.map(String),onChange:E,className:"w-full border rounded p-2 min-h-[40px]",disabled:y,children:t.filter(R=>String(R.id)!==o.category_id).map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple categories."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(cr,{id:"description",name:"description",value:o.description,onChange:_,className:c.description?"border-destructive":"",disabled:y}),c.description&&s.jsx("p",{className:"text-xs text-destructive",children:c.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"in_stock",name:"in_stock",checked:o.in_stock,onCheckedChange:R=>N("in_stock",R),disabled:y}),s.jsx(ne,{htmlFor:"in_stock",children:"In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"featured",name:"featured",checked:o.featured,onCheckedChange:R=>N("featured",R),disabled:y}),s.jsx(ne,{htmlFor:"featured",children:"Featured Product"})]})]}),s.jsxs(Ki,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:y,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:y,children:y?"Saving...":e?"Save Changes":"Add Product"})]})]})},UU=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState([]),[l,c]=g.useState(!0),[u,f]=g.useState(""),[h,m]=g.useState(!1),[p,x]=g.useState(null),[y,j]=g.useState(!1),w=g.useCallback(async()=>{c(!0);try{const{data:E,error:R}=await ce.from("products").select("*, categories(id, name)").order("name",{ascending:!0});if(R)throw R;r(E||[]);const{data:D,error:$}=await ce.from("categories").select("*").order("name",{ascending:!0});if($)throw $;o(D||[])}catch(E){console.error("Error fetching products or categories:",E),re({variant:"destructive",title:"Fetch Error",description:"Could not load products or categories."})}finally{c(!1)}},[]);g.useEffect(()=>{w()},[w]);const _=g.useMemo(()=>{let E=[...t];if(u){const R=u.toLowerCase();E=E.filter(D=>{var $,W;return D.name.toLowerCase().includes(R)||(($=D.description)==null?void 0:$.toLowerCase().includes(R))||((W=D.categories)==null?void 0:W.name.toLowerCase().includes(R))})}return E},[t,u]),N=async E=>{c(!0);try{let R;if(p){const{data:D,error:$}=await ce.from("products").update({...E,category_id:E.category_id,categories_ids:E.categories_ids||[],updated_at:new Date}).eq("id",p.id).select("*, categories(id, name)").single();if($)throw $;R=D,re({title:"Product Updated",description:`${R.name} has been updated.`})}else{const{data:D,error:$}=await ce.from("products").insert({...E,category_id:E.category_id,categories_ids:E.categories_ids||[]}).select("*, categories(id, name)").single();if($)throw $;R=D,re({title:"Product Added",description:`${R.name} has been added.`})}w(),m(!1),x(null)}catch(R){console.error("Error saving product:",R),re({variant:"destructive",title:"Save Error",description:R.message})}finally{c(!1)}},C=E=>{const R=t.find(D=>D.id===E);R&&e("product",E,R.image_url)},k=g.useRef(null),A=async E=>{j(!0),k.current.click()},P=async E=>{const R=E.target.files[0];if(!R)return;if(R.type!=="text/csv"){console.error("Please upload a CSV file.");return}const D=new FileReader;D.onload=async $=>{const X=$.target.result.split(`
`).filter(z=>z.trim()!=="");if(X.length===0){console.warn("CSV file is empty.");return}const Q=X.slice(1).map(z=>{const[O,U,H,F]=z.split(",");return{name:O?O.trim():"",price:U?parseFloat(U.trim()):0,description:H?H.trim():"",stock:F?parseInt(F.trim(),10):0}}).filter(z=>z.name);if(console.log("Parsed Products:",Q),Q.length===0){console.warn("No valid product data found in CSV.");return}try{const{data:z,error:O}=await ce.from("products").insert(Q);O?console.error("Error inserting data into Supabase:",O):console.log("Bulk upload successful to Supabase:",z)}catch(z){console.error("Unexpected error during Supabase insert:",z)}},D.onerror=$=>{console.error("Error reading file:",$)},D.readAsText(R)};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Products Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search products...",className:"pl-8 w-full md:w-[200px]",value:u,onChange:E=>f(E.target.value)})]}),s.jsxs(mn,{open:h,onOpenChange:E=>{m(E),E||x(null)},children:[s.jsx(ri,{asChild:!0,children:s.jsxs(ee,{onClick:()=>x(null),children:[s.jsx(tc,{className:"w-4 h-4 mr-2"})," Add Product"]})}),s.jsxs(Kr,{className:"sm:max-w-[600px]",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:p?"Edit Product":"Add New Product"})}),s.jsx(FU,{product:p,categories:n,onSubmit:N,onCancel:()=>m(!1)},p?p.id:"new")]})]}),s.jsx(ee,{onClick:A,disabled:y,children:y?"Uploading...":"Upload CSV"}),s.jsx("input",{type:"file",ref:k,accept:".csv",onChange:P,style:{display:"none"}})]})]}),l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Qi,{children:[s.jsx(Zi,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{className:"w-[80px]",children:"Image"}),s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Category"}),s.jsx(Ve,{children:"Price"}),s.jsx(Ve,{children:"Stock"}),s.jsx(Ve,{children:"Featured"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(eo,{children:_.length===0?s.jsx(Ot,{children:s.jsx(Ue,{colSpan:7,className:"h-24 text-center",children:"No products found."})}):_.map(E=>{var R;return s.jsxs(Ot,{children:[s.jsx(Ue,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:E.image_url?s.jsx("img",{src:E.image_url,alt:E.name,className:"object-cover w-full h-full"}):s.jsx(Rd,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Ue,{className:"font-medium",children:E.name}),s.jsx(Ue,{children:((R=E.categories)==null?void 0:R.name)||"N/A"}),s.jsx(Ue,{children:Se(E.price)}),s.jsx(Ue,{children:s.jsx(rt,{variant:E.in_stock?"default":"destructive",className:`whitespace-nowrap ${E.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.in_stock?"In Stock":"Out"})}),s.jsx(Ue,{children:s.jsx(Rn,{checked:E.featured,disabled:!0,className:"cursor-default"})}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{x(E),m(!0)},children:s.jsx(sc,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>C(E.id),children:s.jsx(qi,{className:"h-4 w-4"})})]})]},E.id)})})]})})]})},BU=({category:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({name:"",description:"",image_url:""}),[l,c]=g.useState({}),[u,f]=g.useState(null),[h,m]=g.useState(""),p=g.useRef(null),{isUploading:x,uploadFile:y,deleteFile:j}=lg();g.useEffect(()=>{e?(o({name:e.name||"",description:e.description||"",image_url:e.image_url||""}),m(e.image_url||"")):(o({name:"",description:"",image_url:""}),m(""),f(null))},[e]);const w=A=>{const{name:P,value:E}=A.target;o(R=>({...R,[P]:E})),l[P]&&c(R=>({...R,[P]:""}))},_=A=>{const P=A.target.files[0];if(P){f(P);const E=new FileReader;E.onloadend=()=>m(E.result),E.readAsDataURL(P),c(R=>({...R,image_url:""}))}},N=async()=>{let A=n.image_url||null;if(u){e&&e.image_url&&await j(e.image_url);const{url:P,error:E}=await y(u,"categories");if(E)return c(R=>({...R,image_url:"Image upload failed."})),null;A=P}return A},C=()=>{const A={};return n.name.trim()||(A.name="Name is required"),n.description.trim()||(A.description="Description is required"),c(A),Object.keys(A).length===0},k=async A=>{if(A.preventDefault(),!C()||x)return;const P=await N();if(u&&P===null){re({variant:"destructive",title:"Submission Failed",description:"Category could not be saved due to image upload error."});return}const E={name:n.name,description:n.description,image_url:P,updated_at:new Date};e!=null&&e.id&&(E.id=e.id),t(E)};return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"category-image",children:"Category Image"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-muted overflow-hidden",children:h?s.jsx("img",{src:h,alt:"Category Preview",className:"object-cover w-full h-full"}):s.jsx(Rd,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx(xe,{id:"category-image",type:"file",accept:"image/*",onChange:_,ref:p,className:"hidden",disabled:x}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var A;return(A=p.current)==null?void 0:A.click()},disabled:x,children:[s.jsx(V_,{className:"w-4 h-4 mr-2"}),x?"Uploading...":u?"Change Image":"Upload Image"]})]}),l.image_url&&s.jsx("p",{className:"text-xs text-destructive",children:l.image_url})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Category Name"}),s.jsx(xe,{id:"name",name:"name",value:n.name,onChange:w,className:l.name?"border-destructive":"",disabled:x}),l.name&&s.jsx("p",{className:"text-xs text-destructive",children:l.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(cr,{id:"description",name:"description",value:n.description,onChange:w,className:l.description?"border-destructive":"",disabled:x}),l.description&&s.jsx("p",{className:"text-xs text-destructive",children:l.description})]}),s.jsxs(Ki,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:x,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:x,children:x?"Saving...":e?"Save Changes":"Add Category"})]})]})},VU=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState(!1),[h,m]=g.useState(null),p=g.useCallback(async()=>{o(!0);try{const{data:w,error:_}=await ce.from("categories").select("*").order("name",{ascending:!0});if(_)throw _;r(w||[])}catch(w){console.error("Error fetching categories:",w),re({variant:"destructive",title:"Fetch Error",description:"Could not load categories."})}finally{o(!1)}},[]);g.useEffect(()=>{p()},[p]);const x=g.useMemo(()=>{let w=[...t];if(l){const _=l.toLowerCase();w=w.filter(N=>{var C;return N.name.toLowerCase().includes(_)||((C=N.description)==null?void 0:C.toLowerCase().includes(_))})}return w},[t,l]),y=async w=>{o(!0);try{let _;if(h){const{data:N,error:C}=await ce.from("categories").update(w).eq("id",h.id).select().single();if(C)throw C;_=N,re({title:"Category Updated",description:`${_.name} has been updated.`})}else{const{data:N,error:C}=await ce.from("categories").insert(w).select().single();if(C)throw C;_=N,re({title:"Category Added",description:`${_.name} has been added.`})}p(),f(!1),m(null)}catch(_){console.error("Error saving category:",_),re({variant:"destructive",title:"Save Error",description:_.message})}finally{o(!1)}},j=w=>{const _=t.find(N=>N.id===w);_&&e("category",w,_.image_url)};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Categories Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search categories...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:w=>c(w.target.value)})]}),s.jsxs(mn,{open:u,onOpenChange:w=>{f(w),w||m(null)},children:[s.jsx(ri,{asChild:!0,children:s.jsxs(ee,{onClick:()=>m(null),children:[s.jsx(tc,{className:"w-4 h-4 mr-2"})," Add Category"]})}),s.jsxs(Kr,{className:"sm:max-w-[425px]",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:h?"Edit Category":"Add New Category"})}),s.jsx(BU,{category:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Qi,{children:[s.jsx(Zi,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{className:"w-[80px]",children:"Image"}),s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Description"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(eo,{children:x.length===0?s.jsx(Ot,{children:s.jsx(Ue,{colSpan:4,className:"h-24 text-center",children:"No categories found."})}):x.map(w=>s.jsxs(Ot,{children:[s.jsx(Ue,{children:s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center overflow-hidden",children:w.image_url?s.jsx("img",{src:w.image_url,alt:w.name,className:"object-cover w-full h-full"}):s.jsx(Rd,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx(Ue,{className:"font-medium",children:w.name}),s.jsx(Ue,{className:"text-sm text-muted-foreground truncate max-w-xs",children:w.description}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{m(w),f(!0)},children:s.jsx(sc,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(w.id),children:s.jsx(qi,{className:"h-4 w-4"})})]})]},w.id))})]})})]})},zU=()=>{const[e,t]=g.useState({express_fee:"",scheduled_fee:"",late_fee:"",timezone:"Australia/Adelaide",estimated_delivery_minutes:45}),[r,n]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState({}),f=[{value:"Australia/Adelaide",label:"Adelaide (ACST/ACDT)"},{value:"Australia/Sydney",label:"Sydney (AEST/AEDT)"},{value:"Australia/Melbourne",label:"Melbourne (AEST/AEDT)"},{value:"Australia/Brisbane",label:"Brisbane (AEST)"},{value:"Australia/Perth",label:"Perth (AWST)"},{value:"Australia/Darwin",label:"Darwin (ACST)"}];g.useEffect(()=>{(async()=>{n(!0);try{const{data:j,error:w}=await ce.from("delivery_settings").select("*").eq("id",1).single();if(w&&w.code!=="PGRST116")throw w;t(j?{express_fee:j.express_fee||"",scheduled_fee:j.scheduled_fee||"",late_fee:j.late_fee||"",timezone:j.timezone||"Australia/Adelaide",estimated_delivery_minutes:j.estimated_delivery_minutes||45}:{express_fee:"9.99",scheduled_fee:"5.99",late_fee:"7.99",timezone:"Australia/Adelaide",estimated_delivery_minutes:45})}catch(j){console.error("Error fetching delivery settings:",j),re({variant:"destructive",title:"Fetch Error",description:"Could not load delivery settings."})}finally{n(!1)}})()},[]);const h=y=>{const{name:j,value:w}=y.target;t(_=>({..._,[j]:w})),c[j]&&u(_=>({..._,[j]:""}))},m=(y,j)=>{t(w=>({...w,[y]:j})),c[y]&&u(w=>({...w,[y]:""}))},p=()=>{const y={},j=(w,_)=>{(!w||isNaN(w)||parseFloat(w)<0)&&(y[_]="Valid non-negative fee is required")};return j(e.express_fee,"express_fee"),j(e.scheduled_fee,"scheduled_fee"),j(e.late_fee,"late_fee"),(!e.estimated_delivery_minutes||isNaN(e.estimated_delivery_minutes)||parseInt(e.estimated_delivery_minutes)<=0)&&(y.estimated_delivery_minutes="Valid delivery time is required"),u(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!(!p()||o)){l(!0);try{const j={id:1,express_fee:parseFloat(e.express_fee),scheduled_fee:parseFloat(e.scheduled_fee),late_fee:parseFloat(e.late_fee),timezone:e.timezone,estimated_delivery_minutes:parseInt(e.estimated_delivery_minutes),updated_at:new Date},{error:w}=await ce.from("delivery_settings").upsert(j,{onConflict:"id"});if(w)throw w;re({title:"Settings Updated",description:"Delivery settings have been saved."})}catch(j){console.error("Error saving delivery settings:",j),re({variant:"destructive",title:"Save Error",description:j.message})}finally{l(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"express_fee",children:"Express Delivery Fee ($)"}),s.jsx(xe,{id:"express_fee",name:"express_fee",type:"number",step:"0.01",value:e.express_fee,onChange:h,className:c.express_fee?"border-destructive":"",disabled:o}),c.express_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.express_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"scheduled_fee",children:"Scheduled Delivery Fee ($)"}),s.jsx(xe,{id:"scheduled_fee",name:"scheduled_fee",type:"number",step:"0.01",value:e.scheduled_fee,onChange:h,className:c.scheduled_fee?"border-destructive":"",disabled:o}),c.scheduled_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.scheduled_fee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"late_fee",children:"Late Delivery Fee ($)"}),s.jsx(xe,{id:"late_fee",name:"late_fee",type:"number",step:"0.01",value:e.late_fee,onChange:h,className:c.late_fee?"border-destructive":"",disabled:o}),c.late_fee&&s.jsx("p",{className:"text-xs text-destructive",children:c.late_fee}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee applied for orders scheduled outside standard hours."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(zt,{value:e.timezone,onValueChange:y=>m("timezone",y),disabled:o,children:[s.jsx(Dt,{className:c.timezone?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Select timezone"})}),s.jsx(Rt,{children:f.map(y=>s.jsx(De,{value:y.value,children:y.label},y.value))})]}),c.timezone&&s.jsx("p",{className:"text-xs text-destructive",children:c.timezone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"estimated_delivery_minutes",children:"Estimated Delivery Time (minutes)"}),s.jsx(xe,{id:"estimated_delivery_minutes",name:"estimated_delivery_minutes",type:"number",min:"1",value:e.estimated_delivery_minutes,onChange:h,className:c.estimated_delivery_minutes?"border-destructive":"",disabled:o}),c.estimated_delivery_minutes&&s.jsx("p",{className:"text-xs text-destructive",children:c.estimated_delivery_minutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'This will be displayed on the homepage as "Delivering in: X minutes (approx.)"'})]}),s.jsx(ee,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},WU=()=>{const[e,t]=g.useState({publishable_key:"",price_id:"",openai_key:""}),[r,n]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState({});g.useEffect(()=>{(async()=>{n(!0);try{const[{data:x},{data:y}]=await Promise.all([ce.from("stripe_settings").select("publishable_key, price_id").eq("id",1).single(),ce.from("openai_settings").select("api_key").eq("id",1).single()]);t({publishable_key:(x==null?void 0:x.publishable_key)||"",price_id:(x==null?void 0:x.price_id)||"",openai_key:(y==null?void 0:y.api_key)||""})}catch(x){console.error("Error fetching settings:",x),re({variant:"destructive",title:"Fetch Error",description:"Could not load settings."})}finally{n(!1)}})()},[]);const f=p=>{const{name:x,value:y}=p.target;t(j=>({...j,[x]:y})),c[x]&&u(j=>({...j,[x]:""}))},h=()=>{const p={};return e.publishable_key.trim()?e.publishable_key.startsWith("pk_")||(p.publishable_key='Invalid Publishable Key format. Should start with "pk_".'):p.publishable_key="Stripe Publishable Key is required.",e.price_id.trim()?e.price_id.startsWith("price_")||(p.price_id='Invalid Price ID format. Should start with "price_".'):p.price_id="Stripe Price ID is required.",e.openai_key.trim()?e.openai_key.startsWith("sk-")||(p.openai_key='Invalid OpenAI API Key format. Should start with "sk-".'):p.openai_key="OpenAI API Key is required.",u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!(!h()||o)){l(!0);try{const[x,y]=await Promise.all([ce.from("stripe_settings").upsert({id:1,publishable_key:e.publishable_key.trim(),price_id:e.price_id.trim(),updated_at:new Date},{onConflict:"id"}),ce.from("openai_settings").upsert({id:1,api_key:e.openai_key.trim(),updated_at:new Date},{onConflict:"id"})]);if(x.error)throw x.error;if(y.error)throw y.error;re({title:"Settings Updated",description:"Your payment and AI settings have been saved."})}catch(x){console.error("Error saving settings:",x),re({variant:"destructive",title:"Save Error",description:x.message})}finally{l(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("form",{onSubmit:m,className:"space-y-6 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"publishable_key",children:"Stripe Publishable Key"}),s.jsx(xe,{id:"publishable_key",name:"publishable_key",type:"text",value:e.publishable_key,onChange:f,placeholder:"pk_live_...",className:c.publishable_key?"border-destructive":"",disabled:o}),c.publishable_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.publishable_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in your Stripe Dashboard under Developers > API Keys."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"price_id",children:"Stripe Default Price ID"}),s.jsx(xe,{id:"price_id",name:"price_id",type:"text",value:e.price_id,onChange:f,placeholder:"price_...",className:c.price_id?"border-destructive":"",disabled:o}),c.price_id&&s.jsx("p",{className:"text-xs text-destructive",children:c.price_id}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The Price ID for your primary product/service in Stripe."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"openai_key",children:"OpenAI API Key"}),s.jsx(xe,{id:"openai_key",name:"openai_key",type:"password",value:e.openai_key,onChange:f,placeholder:"sk-...",className:c.openai_key?"border-destructive":"",disabled:o}),c.openai_key&&s.jsx("p",{className:"text-xs text-destructive",children:c.openai_key}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your OpenAI API key for the AI shopping assistant. Find this in your OpenAI dashboard."})]}),s.jsx(ee,{type:"submit",disabled:o,children:o?"Saving...":"Save Settings"})]})},HU=()=>s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Settings"}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(zU,{})})]}),s.jsx(zl,{}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Stripe Payment Gateway"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure your Stripe account to enable online payments."}),s.jsx("div",{className:"p-6 mt-4 border rounded-lg",children:s.jsx(WU,{})})]})]}),qU=({store:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({name:"",address:"",phone:"",opening_time:"09:00",closing_time:"21:00"}),[l,c]=g.useState({}),[u,f]=g.useState(!1);g.useEffect(()=>{var x,y;e&&o({name:e.name||"",address:e.address||"",phone:e.phone||"",opening_time:((x=e.opening_time)==null?void 0:x.slice(0,5))||"09:00",closing_time:((y=e.closing_time)==null?void 0:y.slice(0,5))||"21:00"})},[e]);const h=x=>{const{name:y,value:j}=x.target;o(w=>({...w,[y]:j})),l[y]&&c(w=>({...w,[y]:""}))},m=()=>{const x={};return n.name.trim()||(x.name="Name is required"),n.address.trim()||(x.address="Address is required"),n.phone.trim()||(x.phone="Phone number is required"),n.opening_time||(x.opening_time="Opening time is required"),n.closing_time||(x.closing_time="Closing time is required"),c(x),Object.keys(x).length===0},p=async x=>{x.preventDefault(),!(!m()||u)&&(f(!0),await t(n),f(!1))};return s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Store Name"}),s.jsx(xe,{id:"name",name:"name",value:n.name,onChange:h,className:l.name?"border-destructive":"",disabled:u}),l.name&&s.jsx("p",{className:"text-xs text-destructive",children:l.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"address",children:"Address"}),s.jsx(xe,{id:"address",name:"address",value:n.address,onChange:h,className:l.address?"border-destructive":"",disabled:u}),l.address&&s.jsx("p",{className:"text-xs text-destructive",children:l.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(xe,{id:"phone",name:"phone",value:n.phone,onChange:h,className:l.phone?"border-destructive":"",disabled:u}),l.phone&&s.jsx("p",{className:"text-xs text-destructive",children:l.phone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"opening_time",children:"Opening Time"}),s.jsx(xe,{id:"opening_time",name:"opening_time",type:"time",value:n.opening_time,onChange:h,className:l.opening_time?"border-destructive":"",disabled:u}),l.opening_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.opening_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"closing_time",children:"Closing Time"}),s.jsx(xe,{id:"closing_time",name:"closing_time",type:"time",value:n.closing_time,onChange:h,className:l.closing_time?"border-destructive":"",disabled:u}),l.closing_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.closing_time})]})]}),s.jsxs(Ki,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Store":"Add Store"})]})]})},YU=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState(!1),[f,h]=g.useState(null),[m,p]=g.useState([]),[x,y]=g.useState(null),[j,w]=g.useState(!1),[_,N]=g.useState(""),C=async()=>{try{const{data:D,error:$}=await ce.from("stores").select("*").order("name");if($)throw $;t(D||[])}catch(D){console.error("Error fetching stores:",D),re({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{n(!1)}};g.useEffect(()=>{C()},[]);const k=async D=>{try{if(f){const{error:$}=await ce.from("stores").update(D).eq("id",f.id);if($)throw $;re({title:"Store Updated",description:`${D.name} has been updated.`})}else{const{error:$}=await ce.from("stores").insert(D);if($)throw $;re({title:"Store Added",description:`${D.name} has been added.`})}u(!1),h(null),C()}catch($){console.error("Error saving store:",$),re({variant:"destructive",title:"Error",description:"Could not save store."})}},A=async D=>{if(window.confirm("Are you sure you want to delete this store?"))try{const{error:$}=await ce.from("stores").delete().eq("id",D);if($)throw $;re({title:"Store Deleted",description:"Store has been removed."}),C()}catch($){console.error("Error deleting store:",$),re({variant:"destructive",title:"Error",description:"Could not delete store."})}},P=e.filter(D=>D.name.toLowerCase().includes(o.toLowerCase())||D.address.toLowerCase().includes(o.toLowerCase())),E=D=>{y(D),p(Array.isArray(D.store_suggested_items)?D.store_suggested_items:[]),N((Array.isArray(D.store_suggested_items)?D.store_suggested_items:[]).map($=>$.name+($.qty?`:${$.qty}`:"")).join(`
`)),w(!0)},R=async()=>{const D=_.split(`
`).map($=>{const[W,X]=$.split(":");return W?{name:W.trim(),qty:X?parseInt(X,10):1}:null}).filter(Boolean);try{const{error:$}=await ce.from("stores").update({store_suggested_items:D}).eq("id",x.id);if($)throw $;re({title:"Suggested Items Updated",description:`Suggested items updated for ${x.name}.`}),w(!1),y(null),C()}catch{re({variant:"destructive",title:"Error",description:"Could not update suggested items."})}};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Store Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search stores...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:D=>l(D.target.value)})]}),s.jsxs(mn,{open:c,onOpenChange:u,children:[s.jsx(ri,{asChild:!0,children:s.jsxs(ee,{onClick:()=>h(null),children:[s.jsx(tc,{className:"w-4 h-4 mr-2"})," Add Store"]})}),s.jsxs(Kr,{className:"sm:max-w-[425px]",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:f?"Edit Store":"Add New Store"})}),s.jsx(qU,{store:f,onSubmit:k,onCancel:()=>u(!1)})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Qi,{children:[s.jsx(Zi,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Name"}),s.jsx(Ve,{children:"Address"}),s.jsx(Ve,{children:"Phone"}),s.jsx(Ve,{children:"Hours"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(eo,{children:P.length===0?s.jsx(Ot,{children:s.jsx(Ue,{colSpan:5,className:"h-24 text-center",children:"No stores found."})}):P.map(D=>s.jsxs(Ot,{children:[s.jsx(Ue,{className:"font-medium",children:D.name}),s.jsx(Ue,{children:D.address}),s.jsx(Ue,{children:D.phone}),s.jsxs(Ue,{children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(An,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[D.opening_time.slice(0,5)," - ",D.closing_time.slice(0,5)]})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("ul",{className:"list-disc ml-5 text-xs text-muted-foreground",children:Array.isArray(D.store_suggested_items)&&D.store_suggested_items.length>0?D.store_suggested_items.map(($,W)=>s.jsxs("li",{children:[$.name,$.qty?` (Qty: ${$.qty})`:""]},W)):s.jsx("li",{className:"italic text-muted-foreground",children:"None"})}),s.jsx(ee,{size:"xs",variant:"outline",className:"mt-1",onClick:()=>E(D),children:"Edit Suggested Items"})]})]}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{h(D),u(!0)},children:s.jsx(sc,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>A(D.id),children:s.jsx(qi,{className:"h-4 w-4"})})]})]},D.id))})]})}),s.jsx(mn,{open:j,onOpenChange:w,children:s.jsxs(Kr,{className:"max-w-md",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:"Edit Suggested Items"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Enter one item per line. Use ",s.jsx("code",{children:"Item Name:Qty"})," for quantity (default 1)."]}),s.jsx(cr,{value:_,onChange:D=>N(D.target.value),rows:6,placeholder:`Milk:2
Bread
Eggs:12`}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(ee,{onClick:R,children:"Save"})]})]})]})})]})},GU=({promoCode:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0}),[l,c]=g.useState({}),[u,f]=g.useState(!1);g.useEffect(()=>{var j,w,_;o(e?{code:e.code||"",description:e.description||"",discount_type:e.discount_type||"percentage",discount_value:((j=e.discount_value)==null?void 0:j.toString())||"",minimum_order_amount:((w=e.minimum_order_amount)==null?void 0:w.toString())||"",max_uses:((_=e.max_uses)==null?void 0:_.toString())||"",valid_from:e.valid_from?new Date(e.valid_from):new Date,valid_until:e.valid_until?new Date(e.valid_until):null,is_active:e.is_active!==void 0?e.is_active:!0}:{code:"",description:"",discount_type:"percentage",discount_value:"",minimum_order_amount:"",max_uses:"",valid_from:new Date,valid_until:null,is_active:!0})},[e]);const h=j=>{const{name:w,value:_}=j.target;o(N=>({...N,[w]:_})),l[w]&&c(N=>({...N,[w]:""}))},m=(j,w)=>{o(_=>({..._,[j]:w})),l[j]&&c(_=>({..._,[j]:""}))},p=(j,w)=>{o(_=>({..._,[j]:w})),l[j]&&c(_=>({..._,[j]:""}))},x=()=>{const j={};if(n.code.trim()?n.code.length<3&&(j.code="Promo code must be at least 3 characters"):j.code="Promo code is required",n.description.trim()||(j.description="Description is required"),!n.discount_value||isNaN(n.discount_value)||parseFloat(n.discount_value)<=0)j.discount_value="Valid discount value is required";else{const w=parseFloat(n.discount_value);n.discount_type==="percentage"&&w>100&&(j.discount_value="Percentage discount cannot exceed 100%")}return n.minimum_order_amount&&(isNaN(n.minimum_order_amount)||parseFloat(n.minimum_order_amount)<0)&&(j.minimum_order_amount="Minimum order amount must be a valid number"),n.max_uses&&(isNaN(n.max_uses)||parseInt(n.max_uses)<=0)&&(j.max_uses="Maximum uses must be a positive number"),n.valid_until&&n.valid_until<=n.valid_from&&(j.valid_until="End date must be after start date"),c(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!x()||u)return;f(!0);const w={code:n.code.toUpperCase().trim(),description:n.description.trim(),discount_type:n.discount_type,discount_value:parseFloat(n.discount_value),minimum_order_amount:n.minimum_order_amount?parseFloat(n.minimum_order_amount):0,max_uses:n.max_uses?parseInt(n.max_uses):null,valid_from:n.valid_from.toISOString(),valid_until:n.valid_until?n.valid_until.toISOString():null,is_active:n.is_active};await t(w),f(!1)};return s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"code",children:"Promo Code"}),s.jsx(xe,{id:"code",name:"code",value:n.code,onChange:h,placeholder:"e.g., SAVE10",className:l.code?"border-destructive":"",disabled:u}),l.code&&s.jsx("p",{className:"text-xs text-destructive",children:l.code})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"discount_type",children:"Discount Type"}),s.jsxs(zt,{value:n.discount_type,onValueChange:j=>m("discount_type",j),disabled:u,children:[s.jsx(Dt,{className:l.discount_type?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Select discount type"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"percentage",children:"Percentage (%)"}),s.jsx(De,{value:"fixed",children:"Fixed Amount ($)"})]})]}),l.discount_type&&s.jsx("p",{className:"text-xs text-destructive",children:l.discount_type})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(cr,{id:"description",name:"description",value:n.description,onChange:h,placeholder:"Brief description of the promo code",className:l.description?"border-destructive":"",disabled:u,rows:2}),l.description&&s.jsx("p",{className:"text-xs text-destructive",children:l.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"discount_value",children:["Discount Value ",n.discount_type==="percentage"?"(%)":"($)"]}),s.jsx(xe,{id:"discount_value",name:"discount_value",type:"number",step:n.discount_type==="percentage"?"0.1":"0.01",min:"0",max:n.discount_type==="percentage"?"100":void 0,value:n.discount_value,onChange:h,placeholder:n.discount_type==="percentage"?"10":"5.00",className:l.discount_value?"border-destructive":"",disabled:u}),l.discount_value&&s.jsx("p",{className:"text-xs text-destructive",children:l.discount_value})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"minimum_order_amount",children:"Minimum Order Amount ($)"}),s.jsx(xe,{id:"minimum_order_amount",name:"minimum_order_amount",type:"number",step:"0.01",min:"0",value:n.minimum_order_amount,onChange:h,placeholder:"0.00",className:l.minimum_order_amount?"border-destructive":"",disabled:u}),l.minimum_order_amount&&s.jsx("p",{className:"text-xs text-destructive",children:l.minimum_order_amount})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_uses",children:"Maximum Uses (Optional)"}),s.jsx(xe,{id:"max_uses",name:"max_uses",type:"number",min:"1",value:n.max_uses,onChange:h,placeholder:"Leave empty for unlimited uses",className:l.max_uses?"border-destructive":"",disabled:u}),l.max_uses&&s.jsx("p",{className:"text-xs text-destructive",children:l.max_uses})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Valid From"}),s.jsxs(ql,{children:[s.jsx(Yl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!n.valid_from&&"text-muted-foreground",l.valid_from&&"border-destructive"),disabled:u,children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),n.valid_from?Ct(n.valid_from,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ca,{className:"w-auto p-0",children:s.jsx(aa,{mode:"single",selected:n.valid_from,onSelect:j=>p("valid_from",j),initialFocus:!0})})]}),l.valid_from&&s.jsx("p",{className:"text-xs text-destructive",children:l.valid_from})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Valid Until (Optional)"}),s.jsxs(ql,{children:[s.jsx(Yl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!n.valid_until&&"text-muted-foreground",l.valid_until&&"border-destructive"),disabled:u,children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),n.valid_until?Ct(n.valid_until,"PPP"):s.jsx("span",{children:"No expiry"})]})}),s.jsx(ca,{className:"w-auto p-0",children:s.jsx(aa,{mode:"single",selected:n.valid_until,onSelect:j=>p("valid_until",j),disabled:j=>j<n.valid_from,initialFocus:!0})})]}),l.valid_until&&s.jsx("p",{className:"text-xs text-destructive",children:l.valid_until})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"is_active",checked:n.is_active,onCheckedChange:j=>m("is_active",j),disabled:u}),s.jsx(ne,{htmlFor:"is_active",children:"Active"})]}),s.jsxs(Ki,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Promo Code":"Create Promo Code"})]})]})},KU=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState(!1),[h,m]=g.useState(null),p=g.useCallback(async()=>{o(!0);try{const{data:N,error:C}=await ce.from("promo_codes").select("*").order("created_at",{ascending:!1});if(C)throw C;r(N||[])}catch(N){console.error("Error fetching promo codes:",N),re({variant:"destructive",title:"Fetch Error",description:"Could not load promo codes."})}finally{o(!1)}},[]);g.useEffect(()=>{p()},[p]);const x=t.filter(N=>{var C;return N.code.toLowerCase().includes(l.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))}),y=async N=>{o(!0);try{let C;if(h){const{data:k,error:A}=await ce.from("promo_codes").update({...N,updated_at:new Date}).eq("id",h.id).select().single();if(A)throw A;C=k,re({title:"Promo Code Updated",description:`${C.code} has been updated.`})}else{const{data:k,error:A}=await ce.from("promo_codes").insert(N).select().single();if(A)throw A;C=k,re({title:"Promo Code Created",description:`${C.code} has been created.`})}p(),f(!1),m(null)}catch(C){console.error("Error saving promo code:",C),re({variant:"destructive",title:"Save Error",description:C.message})}finally{o(!1)}},j=N=>{t.find(k=>k.id===N)&&e("promo_code",N)},w=N=>{const C=new Date,k=new Date(N.valid_from),A=N.valid_until?new Date(N.valid_until):null;return N.is_active?C<k?s.jsx(rt,{variant:"secondary",children:"Scheduled"}):A&&C>A?s.jsx(rt,{variant:"destructive",children:"Expired"}):N.max_uses&&N.current_uses>=N.max_uses?s.jsx(rt,{variant:"destructive",children:"Limit Reached"}):s.jsx(rt,{variant:"default",children:"Active"}):s.jsx(rt,{variant:"destructive",children:"Inactive"})},_=N=>N.discount_type==="percentage"?`${N.discount_value}%`:Se(N.discount_value);return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Promo Codes Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search promo codes...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:N=>c(N.target.value)})]}),s.jsxs(mn,{open:u,onOpenChange:N=>{f(N),N||m(null)},children:[s.jsx(ri,{asChild:!0,children:s.jsxs(ee,{onClick:()=>m(null),children:[s.jsx(tc,{className:"w-4 h-4 mr-2"})," Add Promo Code"]})}),s.jsxs(Kr,{className:"sm:max-w-[500px]",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:h?"Edit Promo Code":"Add New Promo Code"})}),s.jsx(GU,{promoCode:h,onSubmit:y,onCancel:()=>f(!1)},h?h.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Qi,{children:[s.jsx(Zi,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Code"}),s.jsx(Ve,{children:"Description"}),s.jsx(Ve,{children:"Discount"}),s.jsx(Ve,{children:"Min. Order"}),s.jsx(Ve,{children:"Usage"}),s.jsx(Ve,{children:"Valid Until"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(eo,{children:x.length===0?s.jsx(Ot,{children:s.jsx(Ue,{colSpan:8,className:"h-24 text-center",children:"No promo codes found."})}):x.map(N=>s.jsxs(Ot,{children:[s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vv,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-mono font-medium",children:N.code})]})}),s.jsx(Ue,{className:"max-w-xs truncate",children:N.description}),s.jsxs(Ue,{children:[s.jsx("span",{className:"font-medium",children:_(N)}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:N.discount_type==="percentage"?"off":"discount"})]}),s.jsx(Ue,{children:N.minimum_order_amount>0?Se(N.minimum_order_amount):"None"}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(gv,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[N.current_uses||0,N.max_uses?` / ${N.max_uses}`:""]})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Tn,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:N.valid_until?Ct(new Date(N.valid_until),"MMM d, yyyy"):"No expiry"})]})}),s.jsx(Ue,{children:w(N)}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{m(N),f(!0)},children:s.jsx(sc,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(N.id),children:s.jsx(qi,{className:"h-4 w-4"})})]})]},N.id))})]})})]})},XU=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("processing"),[f,h]=g.useState(null),[m,p]=g.useState(!1),[x,y]=g.useState(""),[j,w]=g.useState(""),[_,N]=g.useState(!1),[C,k]=g.useState(0),A=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})},P=async()=>{try{const{data:O,error:U}=await ce.from("pickup_orders").select(`
          *,
          profiles:user_id (name, phone),
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address)
          )
        `).eq("status",c).order("created_at",{ascending:!1});if(U)throw U;const H=(O==null?void 0:O.length)||0;c==="pending"&&H>C&&C>0&&(A(),re({title:"New pickup order!",description:"A new pickup order has been received."})),k(H),t(O||[])}catch(O){console.error("Error fetching pickup orders:",O),re({variant:"destructive",title:"Error",description:"Could not load pickup orders."})}finally{n(!1)}};g.useEffect(()=>{P();const O=setInterval(P,6e4);return()=>clearInterval(O)},[c]);const E=async(O,U)=>{try{const{error:H}=await ce.from("pickup_orders").update({status:U}).eq("id",O);if(H)throw H;re({title:"Status Updated",description:`Order status changed to ${U}`}),P()}catch(H){console.error("Error updating order status:",H),re({variant:"destructive",title:"Error",description:"Could not update order status."})}},R=async(O,U)=>{try{const{error:H}=await ce.from("pickup_order_stores").update({status:U}).eq("id",O);if(H)throw H;if(re({title:"Store Status Updated",description:`Store order status changed to ${U}`}),P(),f){const F=e.find(I=>I.id===f.id);h(F)}}catch(H){console.error("Error updating store order status:",H),re({variant:"destructive",title:"Error",description:"Could not update store order status."})}},D=async()=>{if(!(!j||!f)){N(!0);try{const U=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/confirm-pickup-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({orderId:f.id,actualAmount:parseFloat(j)})})).json();if(U.error)throw new Error(U.error);const{error:H}=await ce.from("pickup_orders").update({actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"}).eq("id",f.id);if(H)throw H;re({title:"Payment Confirmed",description:`Payment confirmed with actual amount ${Se(parseFloat(j))}`}),w(""),P(),h({...f,actual_total:parseFloat(j),payment_status:"confirmed",status:"completed"})}catch(O){console.error("Error confirming payment:",O),re({variant:"destructive",title:"Error",description:"Could not confirm payment: "+O.message})}finally{N(!1)}}},$=async()=>{if(!(!x.trim()||!f))try{const O=f.admin_messages||[],U={from:"admin",message:x,timestamp:new Date().toISOString()},{error:H}=await ce.from("pickup_orders").update({admin_messages:[...O,U]}).eq("id",f.id);if(H)throw H;re({title:"Message Sent",description:"Your message has been sent to the customer."}),y(""),P(),h({...f,admin_messages:[...O,U]})}catch(O){console.error("Error sending message:",O),re({variant:"destructive",title:"Error",description:"Could not send message."})}},W=O=>{const U=O.replace(/\D/g,"");window.open(`https://wa.me/${U}`,"_blank")},X=e.filter(O=>{var H,F,I,q;return((F=(H=O.profiles)==null?void 0:H.name)==null?void 0:F.toLowerCase().includes(o.toLowerCase()))||((I=O.whatsapp_number)==null?void 0:I.includes(o))||((q=O.phone_number)==null?void 0:q.includes(o))||O.id.toLowerCase().includes(o.toLowerCase())}),Q=O=>{switch(O){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=O=>{switch(O){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Multi-Store Pickup Orders"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search orders...",className:"pl-8 w-full md:w-[200px]",value:o,onChange:O=>l(O.target.value)})]}),s.jsxs(zt,{value:c,onValueChange:u,children:[s.jsx(Dt,{className:"w-full md:w-[180px]",children:s.jsx(Wt,{placeholder:"Filter by status"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Qi,{children:[s.jsx(Zi,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Order ID"}),s.jsx(Ve,{children:"Customer"}),s.jsx(Ve,{children:"Stores"}),s.jsx(Ve,{children:"Date & Time"}),s.jsx(Ve,{children:"Contact"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{children:"Payment"}),s.jsx(Ve,{children:"Total"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(eo,{children:X.length===0?s.jsx(Ot,{children:s.jsx(Ue,{colSpan:9,className:"h-24 text-center",children:"No orders found."})}):X.map(O=>{var U,H,F,I,q,Y,M,J,te,ve,pe;return s.jsxs(Ot,{children:[s.jsxs(Ue,{className:"font-medium",children:[O.id.slice(0,6),"..."]}),s.jsx(Ue,{children:((U=O.profiles)==null?void 0:U.name)||"N/A"}),s.jsx(Ue,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(H=O.pickup_order_stores)==null?void 0:H.map((de,se)=>{var ie;return s.jsx(rt,{variant:"outline",className:"text-xs",children:(ie=de.stores)==null?void 0:ie.name},se)})})}),s.jsx(Ue,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tn,{className:"w-3 h-3 mr-1"}),O.pickup_date?Ct(new Date(O.pickup_date),"MMM d"):"N/A"]}),s.jsx("div",{className:"text-muted-foreground",children:O.time_slot})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-1",children:[O.whatsapp_number&&s.jsxs(ee,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>W(O.whatsapp_number),children:[s.jsx(rc,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),O.phone_number&&s.jsxs(ee,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>window.open(`tel:${O.phone_number}`),children:[s.jsx(Od,{className:"w-3 h-3 mr-1"}),"Call"]})]})}),s.jsx(Ue,{children:s.jsxs(zt,{value:O.status,onValueChange:de=>E(O.id,de),children:[s.jsx(Dt,{className:"w-[130px]",children:s.jsx(Wt,{})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})}),s.jsx(Ue,{children:s.jsx(rt,{className:z(O.payment_status),children:O.payment_status})}),s.jsx(Ue,{children:O.actual_total?Se(O.actual_total):Se(O.estimated_total||0)}),s.jsx(Ue,{className:"text-right",children:s.jsxs(mn,{open:m,onOpenChange:p,children:[s.jsx(ri,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>h(O),children:s.jsx(z_,{className:"w-4 h-4"})})}),s.jsxs(Kr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Xr,{children:s.jsxs(Jr,{children:["Order Details - ",f==null?void 0:f.id.slice(0,6),"..."]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",(F=f.profiles)==null?void 0:F.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"WhatsApp:"})," ",f.whatsapp_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",f.phone_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.delivery_address]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Postcode:"})," ",f.postcode]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",f.pickup_date?Ct(new Date(f.pickup_date),"PPP"):"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Time Slot:"})," ",f.time_slot]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Status:"}),s.jsx(rt,{className:`ml-2 ${Q(f.status)}`,children:f.status})]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Payment:"}),s.jsx(rt,{className:`ml-2 ${z(f.payment_status)}`,children:f.payment_status})]}),((I=f.fees_data)==null?void 0:I.deliveryFee)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Fee: "})," ",Se((q=f.fees_data)==null?void 0:q.deliveryFee)]}),((Y=f.fees_data)==null?void 0:Y.serviceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Service Fee (",(M=f.fees_data)==null?void 0:M.service_fee_percent,"):"]})," ",Se(f.fees_data.serviceFee)]}),((J=f.fees_data)==null?void 0:J.convenienceFee)&&s.jsxs("p",{children:[s.jsxs("strong",{children:["Convenience Fee (",(te=f.fees_data)==null?void 0:te.convenience_fee_percent,") :"]})," ",Se(f.fees_data.convenienceFee)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Total:"})," ",Se(f.estimated_total||0)]}),f.actual_total&&s.jsxs("p",{children:[s.jsx("strong",{children:"Actual Total:"})," ",Se(f.actual_total)]})]})]})]}),f.payment_status==="paid"&&!f.actual_total&&s.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(ha,{className:"w-4 h-4 mr-2"}),"Confirm Payment with Actual Amount"]}),s.jsxs("div",{className:"flex space-x-2 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{htmlFor:"actual-amount",children:"Actual Total Amount ($)"}),s.jsx(xe,{id:"actual-amount",type:"number",step:"0.01",value:j,onChange:de=>w(de.target.value),placeholder:"Enter actual total amount"})]}),s.jsxs(ee,{onClick:D,disabled:!j||_,className:"bg-green-600 hover:bg-green-700",children:[_?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(Ll,{className:"w-4 h-4 mr-2"}),_?"Confirming...":"Confirm Payment"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Store Orders"}),s.jsx("div",{className:"space-y-4",children:(ve=f.pickup_order_stores)==null?void 0:ve.map((de,se)=>{var ie,je;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:(ie=de.stores)==null?void 0:ie.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(je=de.stores)==null?void 0:je.address})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:Se(de.estimated_total||0)}),s.jsxs(zt,{value:de.status,onValueChange:ge=>R(de.id,ge),children:[s.jsx(Dt,{className:"w-[120px] mt-1",children:s.jsx(Wt,{})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"confirmed",children:"Confirmed"}),s.jsx(De,{value:"processing",children:"Processing"}),s.jsx(De,{value:"ready",children:"Ready"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]})]}),de.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Shopping List:"}),s.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded mt-1",children:de.notes})]})]},se)})})]}),f.photos&&f.photos.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Customer Photos"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.photos.map((de,se)=>s.jsx("img",{src:de.data,alt:`Photo ${se+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(de.data,"_blank")},se))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Messages"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:(pe=f.admin_messages)==null?void 0:pe.map((de,se)=>s.jsxs("div",{className:`p-3 rounded text-sm ${de.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:de.from==="admin"?"You":"Customer"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ct(new Date(de.timestamp),"MMM d, HH:mm")})]}),s.jsx("p",{children:de.message})]},se))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Send message to customer:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(cr,{value:x,onChange:de=>y(de.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(ee,{onClick:$,disabled:!x.trim(),children:"Send"})]})]})]})]})]})]})})]},O.id)})})]})})]})},JU=({timeSlot:e,onSubmit:t,onCancel:r})=>{const[n,o]=g.useState({dates:[kn()],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),[l,c]=g.useState({}),[u,f]=g.useState(!1),[h,m]=g.useState(!1),[p,x]=g.useState(ya);g.useEffect(()=>{(async()=>{try{const{data:E,error:R}=await ce.from("delivery_settings").select("timezone").eq("id",1).single();!R&&(E!=null&&E.timezone)&&x(E.timezone)}catch(E){console.error("Error fetching timezone:",E)}})()},[]),g.useEffect(()=>{if(e){const P=new Date(e.date+"T12:00:00");o({dates:[P],start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),max_orders:e.max_orders,slot_type:e.slot_type,is_active:e.is_active}),m(!1)}else o({dates:[kn(p)],start_time:"09:00",end_time:"11:00",max_orders:10,slot_type:"delivery",is_active:!0}),m(!1)},[e,p]);const y=(P,E)=>{o(R=>({...R,[P]:E})),l[P]&&c(R=>({...R,[P]:""}))},j=(P,E)=>{const R=[...n.dates];R[E]=P,o(D=>({...D,dates:R})),l.dates&&c(D=>({...D,dates:""}))},w=()=>{const P=n.dates[n.dates.length-1],E=Gt(P,1);o(R=>({...R,dates:[...R.dates,E]}))},_=P=>{if(n.dates.length>1){const E=n.dates.filter((R,D)=>D!==P);o(R=>({...R,dates:E}))}},N=()=>{const P=kn(p),E=[];for(let R=0;R<7;R++)E.push(Gt(P,R));o(R=>({...R,dates:E}))},C=()=>{const P={};if(!n.dates||n.dates.length===0)P.dates="At least one date is required";else{const E=kn(p),R=Bt(E,p);for(const D of n.dates)if(Bt(D,p)<R){P.dates="Dates cannot be in the past";break}}return n.start_time||(P.start_time="Start time is required"),n.end_time||(P.end_time="End time is required"),n.start_time&&n.end_time&&(bU(n.start_time,n.end_time)||(P.end_time="End time must be after start time")),(!n.max_orders||n.max_orders<1)&&(P.max_orders="Maximum orders must be at least 1"),n.slot_type||(P.slot_type="Slot type is required"),c(P),Object.keys(P).length===0},k=async P=>{if(P.preventDefault(),!(!C()||u)){f(!0);try{if(e){const E={date:Bt(n.dates[0],p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(E)}else for(const E of n.dates){const R={date:Bt(E,p),start_time:n.start_time,end_time:n.end_time,max_orders:parseInt(n.max_orders),slot_type:n.slot_type,is_active:n.is_active};await t(R)}}catch(E){console.error("Error submitting time slots:",E)}finally{f(!1)}}},A=wU();return s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[!e&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted/30 rounded-lg",children:[s.jsx(Rn,{id:"bulk_mode",checked:h,onCheckedChange:m}),s.jsx(ne,{htmlFor:"bulk_mode",className:"text-sm",children:"Create slots for multiple dates"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Date",n.dates.length>1?"s":""]}),n.dates.map((P,E)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ql,{children:[s.jsx(Yl,{asChild:!0,children:s.jsxs(ee,{type:"button",variant:"outline",className:Pe("flex-1 justify-start text-left font-normal",!P&&"text-muted-foreground",l.dates&&"border-destructive"),disabled:u,children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),P?Bt(P,p):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ca,{className:"w-auto p-0",children:s.jsx(aa,{mode:"single",selected:P,onSelect:R=>j(R,E),disabled:R=>{const D=kn(p),$=Bt(D,p);return Bt(R,p)<$},initialFocus:!0})})]}),!e&&n.dates.length>1&&s.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:()=>_(E),disabled:u,children:s.jsx(nc,{className:"h-4 w-4"})})]},E)),!e&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:u,children:[s.jsx(ma,{className:"h-4 w-4 mr-1"}),"Add Date"]}),s.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:N,disabled:u,children:"Add Next 7 Days"})]}),l.dates&&s.jsx("p",{className:"text-xs text-destructive",children:l.dates}),n.dates.length>1&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.dates.map((P,E)=>s.jsx(rt,{variant:"secondary",className:"text-xs",children:Bt(P,p)},E))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"start_time",children:"Start Time"}),s.jsxs(zt,{value:n.start_time,onValueChange:P=>y("start_time",P),disabled:u,children:[s.jsx(Dt,{className:l.start_time?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Select start time"})}),s.jsx(Rt,{children:A.map(P=>s.jsx(De,{value:P.value,children:P.label},P.value))})]}),l.start_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.start_time})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_time",children:"End Time"}),s.jsxs(zt,{value:n.end_time,onValueChange:P=>y("end_time",P),disabled:u,children:[s.jsx(Dt,{className:l.end_time?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Select end time"})}),s.jsx(Rt,{children:A.map(P=>s.jsx(De,{value:P.value,children:P.label},P.value))})]}),l.end_time&&s.jsx("p",{className:"text-xs text-destructive",children:l.end_time})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"slot_type",children:"Slot Type"}),s.jsxs(zt,{value:n.slot_type,onValueChange:P=>y("slot_type",P),disabled:u,children:[s.jsx(Dt,{className:l.slot_type?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Select slot type"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"delivery",children:"Delivery"}),s.jsx(De,{value:"pickup",children:"Pickup"})]})]}),l.slot_type&&s.jsx("p",{className:"text-xs text-destructive",children:l.slot_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_orders",children:"Maximum Orders"}),s.jsx(xe,{id:"max_orders",type:"number",min:"1",value:n.max_orders,onChange:P=>y("max_orders",P.target.value),className:l.max_orders?"border-destructive":"",disabled:u}),l.max_orders&&s.jsx("p",{className:"text-xs text-destructive",children:l.max_orders})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"is_active",checked:n.is_active,onCheckedChange:P=>y("is_active",P),disabled:u}),s.jsx(ne,{htmlFor:"is_active",children:"Active (available for booking)"})]}),s.jsxs(Ki,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u,children:u?"Creating...":e?"Update Time Slot":`Create ${n.dates.length} Time Slot${n.dates.length>1?"s":""}`})]})]})},QU=({openDeleteDialog:e})=>{const[t,r]=g.useState([]),[n,o]=g.useState(!0),[l,c]=g.useState(""),[u,f]=g.useState("all"),[h,m]=g.useState("all"),[p,x]=g.useState(!1),[y,j]=g.useState(null),w=g.useCallback(async()=>{o(!0);try{let E=ce.from("time_slots").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});u!=="all"&&(E=E.eq("slot_type",u)),h==="today"?E=E.eq("date",new Date().toISOString().split("T")[0]):h==="upcoming"&&(E=E.gte("date",new Date().toISOString().split("T")[0]));const{data:R,error:D}=await E;if(D)throw D;r(R||[])}catch(E){console.error("Error fetching time slots:",E),re({variant:"destructive",title:"Fetch Error",description:"Could not load time slots."})}finally{o(!1)}},[u,h]);g.useEffect(()=>{w()},[w]);const _=t.filter(E=>{if(!l)return!0;const R=l.toLowerCase();return E.slot_type.toLowerCase().includes(R)||Ct(new Date(E.date),"PPP").toLowerCase().includes(R)||N(E.start_time).toLowerCase().includes(R)||N(E.end_time).toLowerCase().includes(R)}),N=E=>{const[R,D]=E.split(":"),$=parseInt(R,10),W=$>=12?"PM":"AM";return`${$%12||12}:${D} ${W}`},C=async E=>{o(!0);try{let R;if(y){const{data:D,error:$}=await ce.from("time_slots").update({...E,updated_at:new Date}).eq("id",y.id).select().single();if($)throw $;R=D,re({title:"Time Slot Updated",description:"Time slot has been updated successfully."})}else{const{data:D,error:$}=await ce.from("time_slots").insert(E).select().single();if($)throw $;R=D,re({title:"Time Slot Created",description:"Time slot has been created successfully."})}w(),x(!1),j(null)}catch(R){console.error("Error saving time slot:",R),re({variant:"destructive",title:"Save Error",description:R.message})}finally{o(!1)}},k=E=>{t.find(D=>D.id===E)&&e("time_slot",E)},A=E=>{const R=new Date,D=new Date(E.date),$=D.toDateString()===R.toDateString(),W=D<R&&!$,X=E.current_orders>=E.max_orders;return W?s.jsx(rt,{variant:"secondary",children:"Past"}):E.is_active?X?s.jsx(rt,{variant:"destructive",children:"Full"}):$?s.jsx(rt,{variant:"default",children:"Today"}):s.jsx(rt,{variant:"outline",children:"Available"}):s.jsx(rt,{variant:"destructive",children:"Inactive"})},P=E=>{const R=E.current_orders/E.max_orders*100;return R>=100?"text-red-600":R>=80?"text-orange-600":R>=60?"text-yellow-600":"text-green-600"};return s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Time Slots Management"}),s.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search slots...",className:"pl-8 w-full md:w-[200px]",value:l,onChange:E=>c(E.target.value)})]}),s.jsxs(zt,{value:u,onValueChange:f,children:[s.jsx(Dt,{className:"w-full md:w-[140px]",children:s.jsx(Wt,{placeholder:"Filter by type"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"all",children:"All Types"}),s.jsx(De,{value:"delivery",children:"Delivery"}),s.jsx(De,{value:"pickup",children:"Pickup"})]})]}),s.jsxs(zt,{value:h,onValueChange:m,children:[s.jsx(Dt,{className:"w-full md:w-[140px]",children:s.jsx(Wt,{placeholder:"Filter by date"})}),s.jsxs(Rt,{children:[s.jsx(De,{value:"all",children:"All Dates"}),s.jsx(De,{value:"today",children:"Today"}),s.jsx(De,{value:"upcoming",children:"Upcoming"})]})]}),s.jsxs(mn,{open:p,onOpenChange:E=>{x(E),E||j(null)},children:[s.jsx(ri,{asChild:!0,children:s.jsxs(ee,{onClick:()=>j(null),children:[s.jsx(tc,{className:"w-4 h-4 mr-2"})," Add Time Slot"]})}),s.jsxs(Kr,{className:"sm:max-w-[500px]",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:y?"Edit Time Slot":"Add New Time Slot"})}),s.jsx(JU,{timeSlot:y,onSubmit:C,onCancel:()=>x(!1)},y?y.id:"new")]})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Qi,{children:[s.jsx(Zi,{children:s.jsxs(Ot,{children:[s.jsx(Ve,{children:"Date"}),s.jsx(Ve,{children:"Time"}),s.jsx(Ve,{children:"Type"}),s.jsx(Ve,{children:"Capacity"}),s.jsx(Ve,{children:"Availability"}),s.jsx(Ve,{children:"Status"}),s.jsx(Ve,{className:"text-right",children:"Actions"})]})}),s.jsx(eo,{children:_.length===0?s.jsx(Ot,{children:s.jsx(Ue,{colSpan:7,className:"h-24 text-center",children:"No time slots found."})}):_.map(E=>s.jsxs(Ot,{children:[s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Ct(new Date(E.date),"MMM d, yyyy")})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(An,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[N(E.start_time)," - ",N(E.end_time)]})]})}),s.jsx(Ue,{children:s.jsx(rt,{variant:E.slot_type==="delivery"?"default":"secondary",children:E.slot_type.charAt(0).toUpperCase()+E.slot_type.slice(1)})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gv,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[E.max_orders," orders"]})]})}),s.jsx(Ue,{children:s.jsxs("span",{className:P(E),children:[E.current_orders," / ",E.max_orders]})}),s.jsx(Ue,{children:A(E)}),s.jsxs(Ue,{className:"text-right",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{j(E),x(!0)},children:s.jsx(sc,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>k(E.id),children:s.jsx(qi,{className:"h-4 w-4"})})]})]},E.id))})]})})]})},ZU=({isOpen:e,onOpenChange:t,itemType:r,onConfirm:n,isDeleting:o})=>s.jsx(mn,{open:e,onOpenChange:t,children:s.jsxs(Kr,{children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Confirm Deletion"}),s.jsxs(kv,{children:["Are you sure you want to delete this ",r,"? This action cannot be undone. Associated images will also be removed."]})]}),s.jsxs(Ki,{children:[s.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),s.jsx(ee,{variant:"destructive",onClick:n,disabled:o,children:o?"Deleting...":"Delete"})]})]})}),eB=()=>{const{isAdmin:e,loading:t,user:r}=sr(),n=Kt();return g.useEffect(()=>{t||(r?e||(re({variant:"destructive",title:"Access Denied",description:"You must be an admin to view this page."}),n("/admin-login")):(re({variant:"destructive",title:"Authentication Required",description:"Please log in to access this page."}),n("/admin-login")))},[e,t,r,n]),{authLoading:t,isAdmin:e}},tB=e=>{const[t,r]=g.useState(!1),[n,o]=g.useState(null),[l,c]=g.useState(!1),{deleteFile:u}=lg(),f=g.useCallback((m,p,x=null)=>{o({type:m,id:p,imageUrl:x}),r(!0)},[]);return{isDeleteDialogOpen:t,itemToDelete:n,isDeleting:l,openDeleteDialog:f,confirmDelete:async()=>{if(n){c(!0);try{let m="",p=n.type;if(n.type==="product")m="products";else if(n.type==="category"){m="categories";const{data:j,error:w}=await ce.from("products").select("id").eq("category_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete category as it is assigned to products.")}else if(n.type==="time_slot"){m="time_slots";const{data:j,error:w}=await ce.from("orders").select("id").eq("timeslot_id",n.id).limit(1);if(w)throw w;if(j&&j.length>0)throw new Error("Cannot delete time slot as it has associated orders.");const{data:_,error:N}=await ce.from("pickup_orders").select("id").eq("timeslot_id",n.id).limit(1);if(N)throw N;if(_&&_.length>0)throw new Error("Cannot delete time slot as it has associated pickup orders.")}else throw new Error("Invalid item type for deletion");const{error:x}=await ce.from(m).delete().eq("id",n.id);if(x)throw x;if(n.imageUrl){const{error:j}=await u(n.imageUrl);j&&console.warn("Failed to delete associated image:",j)}re({title:`${p.charAt(0).toUpperCase()+p.slice(1)} Deleted`});const y=e(j=>j);e(""),setTimeout(()=>e(y),0)}catch(m){console.error(`Error deleting ${n.type}:`,m),re({variant:"destructive",title:"Deletion Failed",description:m.message})}finally{c(!1),r(!1),o(null)}}},setIsDeleteDialogOpen:r}},rB=()=>s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage orders, products, categories, and settings for Groceroo."})]}),nB=()=>{const{authLoading:e,isAdmin:t}=eB(),{getOrdersByStatus:r}=mv(),[n,o]=g.useState("orders"),{isDeleteDialogOpen:l,itemToDelete:c,isDeleting:u,openDeleteDialog:f,confirmDelete:h,setIsDeleteDialogOpen:m}=tB(o),p=r("pending").length,x=r("processing").length,y=r("delivered").length;if(e)return s.jsx("div",{className:"container flex items-center justify-center h-screen",children:s.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return null;const j=[{value:"orders",label:"Orders",icon:fn,component:s.jsx(MU,{})},{value:"pickup-orders",label:"Store Pickups",icon:q_,component:s.jsx(XU,{})},{value:"products",label:"Products",icon:m$,component:s.jsx(UU,{openDeleteDialog:f},"products")},{value:"categories",label:"Categories",icon:vv,component:s.jsx(VU,{openDeleteDialog:f},"categories")},{value:"stores",label:"Stores",icon:Hi,component:s.jsx(YU,{})},{value:"time-slots",label:"Time Slots",icon:An,component:s.jsx(QU,{openDeleteDialog:f},"time-slots")},{value:"promo-codes",label:"Promo Codes",icon:An,component:s.jsx(KU,{openDeleteDialog:f},"promo-codes")},{value:"settings",label:"Settings",icon:O$,component:s.jsx(HU,{})}];return s.jsxs("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[s.jsx(rB,{}),s.jsx($U,{pendingCount:p,processingCount:x,deliveredCount:y}),s.jsxs(ag,{value:n,onValueChange:o,className:"mt-8 space-y-6",children:[s.jsx(of,{className:"grid w-full grid-cols-7 md:w-auto md:inline-flex",children:j.map(w=>s.jsxs(Oi,{value:w.value,className:"flex items-center",children:[s.jsx(w.icon,{className:"w-4 h-4 mr-2"}),w.label]},w.value))}),j.map(w=>s.jsx($i,{value:w.value,children:w.component},w.value))]}),s.jsx(ZU,{isOpen:l,onOpenChange:m,itemType:c==null?void 0:c.type,onConfirm:h,isDeleting:u})]})};function Um(e,t,r,n){if(typeof e!="number"||typeof t!="number"||typeof r!="number"||typeof n!="number")return null;const o=6371,l=(r-e)*Math.PI/180,c=(n-t)*Math.PI/180,u=Math.sin(l/2)*Math.sin(l/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return o*f}function Nb(e){if(!e)return"";let[t,r]=e.split(":");t=parseInt(t,10);const n=t>=12?"PM":"AM";return t=t%12||12,`${t}:${r} ${n}`}const sB=({stores:e,selectedStores:t,onStoreToggle:r,onNotesChange:n,onEstimatedTotalChange:o,userLocation:l})=>{const c=g.useMemo(()=>l?[...e].sort((p,x)=>{const y=Um(l.lat,l.lng,p.lat,p.lng)??1/0,j=Um(l.lat,l.lng,x.lat,x.lng)??1/0;return y-j}):e,[e,l]),u=p=>{if(t.some(y=>y.id===p.id))r(t.filter(y=>y.id!==p.id));else{const y=[...t,{id:p.id,name:p.name,estimatedTotal:p.minimum_order_amount,notes:""}];r(y)}},f=(p,x)=>{const y=t.map(j=>j.id===p?{...j,notes:x}:j);r(y),n(p,x)},h=(p,x)=>{const y=t.map(j=>j.id===p?{...j,estimatedTotal:parseFloat(x)||0}:j);r(y),o(p,x)},m=(p,x,y,j)=>{const w=t.find(k=>k.id===p);let _=(w==null?void 0:w.notes)||"";const N=`${x.name} x${j}`,C=new RegExp(`${x.name} x\\d+`,"g");y?C.test(_)?_=_.replace(C,N):_=_?`${_}
${N}`:N:_=_.replace(C,"").replace(/^\s*[\r\n]/gm,"").trim(),f(p,_)};return s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:c.map(p=>{const x=t.some(N=>N.id===p.id),y=t.find(N=>N.id===p.id),j=p.minimum_order_amount,w=l&&p.lat&&p.lng?Um(l.lat,l.lng,p.lat,p.lng):null,_=Array.isArray(p.store_suggested_items)?p.store_suggested_items:[];return s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:`transition-all ${x?"ring-2 ring-primary shadow-lg":"hover:shadow-md"}`,children:[s.jsxs(un,{className:"pb-3 flex flex-row items-center justify-between border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:p.image?s.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):s.jsx(Hi,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"text-base",children:p.name}),s.jsxs(rt,{className:"bg-primary/10 text-primary font-semibold",children:["Min $",j]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:p.address}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xs",children:[Nb(p.opening_time)," - ",Nb(p.closing_time)]}),w&&s.jsxs("span",{className:"text-xs text-primary font-semibold",children:[" ",w.toFixed(1)," km"]})]})]})]}),s.jsx(ee,{type:"button",variant:x?"default":"outline",size:"sm",onClick:()=>u(p),children:x?s.jsx(nc,{className:"w-4 h-4"}):s.jsx(ma,{className:"w-4 h-4"})})]}),x&&s.jsxs(Gr,{className:"space-y-4 border-t pt-4 bg-gray-50",children:[_.length>0&&s.jsxs("div",{children:[s.jsx(ne,{className:"block mb-1",children:"Suggested Items"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((N,C)=>{var R;const k=new RegExp(`${N.name} x(\\d+)`,"g"),A=(R=y==null?void 0:y.notes)==null?void 0:R.match(k),P=A?parseInt(A[0].split("x")[1],10):1,E=!!A;return s.jsxs("div",{className:"flex items-center gap-1 bg-white border rounded px-2 py-1 shadow-sm",children:[s.jsx("input",{type:"checkbox",checked:E,onChange:D=>m(p.id,N,D.target.checked,P)}),s.jsxs("span",{className:"text-xs",children:[N.name,":"]}),s.jsx("input",{type:"number",min:1,value:P,onChange:D=>m(p.id,N,!0,Math.max(1,parseInt(D.target.value)||1)),className:"w-10 text-xs ml-1 border rounded px-1 py-0.5",disabled:!E})]},N.name)})})]}),s.jsx("hr",{className:"my-2"}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`estimated-${p.id}`,children:"Estimated Total ($)"}),s.jsx(xe,{id:`estimated-${p.id}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",min:j,step:"5",value:y==null?void 0:y.estimatedTotal,onChange:N=>{const C=N.target.value.replace(/[^0-9.]/g,"");h(p.id,C)},onBlur:N=>{let C=parseFloat(N.target.value);(isNaN(C)||C<j)&&(C=j),h(p.id,C)},placeholder:`Minimum $${j}`,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`notes-${p.id}`,children:"Shopping List / Notes"}),s.jsx(cr,{id:`notes-${p.id}`,value:(y==null?void 0:y.notes)||"",onChange:N=>f(p.id,N.target.value),placeholder:"Add your shopping list or special instructions...",rows:2,className:"mt-1"})]})]})]})},p.id)})})})},iB=({photos:e,onPhotosChange:t,maxPhotos:r=5})=>{const[n,o]=g.useState(!1),l=g.useRef(null),c=(m,p=800,x=.8)=>new Promise(y=>{const j=document.createElement("canvas"),w=j.getContext("2d"),_=new Image;_.onload=()=>{const N=Math.min(p/_.width,p/_.height);j.width=_.width*N,j.height=_.height*N,w.drawImage(_,0,0,j.width,j.height),j.toBlob(y,"image/jpeg",x)},_.src=URL.createObjectURL(m)}),u=async m=>{const p=Array.from(m.target.files);if(e.length+p.length>r){re({variant:"destructive",title:"Too many photos",description:`You can only upload up to ${r} photos.`});return}o(!0);try{const x=await Promise.all(p.map(async y=>{const j=await c(y),w=new FileReader;return new Promise(_=>{w.onload=()=>{_({id:Date.now()+Math.random(),name:y.name,data:w.result,size:j.size})},w.readAsDataURL(j)})}));t([...e,...x]),re({title:"Photos uploaded",description:`${x.length} photo(s) added successfully.`})}catch(x){console.error("Error compressing photos:",x),re({variant:"destructive",title:"Upload failed",description:"Failed to process photos. Please try again."})}finally{o(!1),l.current&&(l.current.value="")}},f=m=>{t(e.filter(p=>p.id!==m))},h=m=>{if(m===0)return"0 Bytes";const p=1024,x=["Bytes","KB","MB"],y=Math.floor(Math.log(m)/Math.log(p));return parseFloat((m/Math.pow(p,y)).toFixed(2))+" "+x[y]};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Photos (Optional)"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Upload photos of your shopping list or special items. Max ",r," photos."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},disabled:n||e.length>=r,className:"flex items-center",children:[n?s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(H$,{className:"w-4 h-4 mr-2"}),n?"Processing...":"Upload Photos"]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]}),e.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(m=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted border",children:s.jsx("img",{src:m.data,alt:m.name,className:"w-full h-full object-cover"})}),s.jsx(ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>f(m.id),children:s.jsx(ti,{className:"h-3 w-3"})}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:[m.name," (",h(m.size),")"]})]},m.id))})]})},oB=[`Don't ring doorbell, leave at door
`,`Call on arrival
`,`Leave with reception
`,`Knock softly, baby sleeping
`,`Text me before delivery
`,`Hand to me only
`],aB=()=>{var fs;const{user:e,userLocation:t}=sr(),[r,n]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(""),[f,h]=g.useState([]),[m,p]=g.useState(!0),[x,y]=g.useState([]),[j,w]=g.useState(kn()),[_,N]=g.useState(""),[C,k]=g.useState([]),[A,P]=g.useState(!1),[E,R]=g.useState(""),[D,$]=g.useState(""),[W,X]=g.useState(""),[Q,z]=g.useState([]),[O,U]=g.useState(!1),[H,F]=g.useState(!1),[I,q]=g.useState({}),[Y,M]=g.useState("whatsapp"),[J,te]=g.useState(""),[ve,pe]=g.useState([]),[de,se]=g.useState([]),[ie,je]=g.useState(""),[ge,fe]=g.useState(!1),[_e,He]=g.useState("new-order"),[Ee,Et]=g.useState(null),[ft,wr]=g.useState(ya),[ii,Or]=g.useState(!1),[br,ls]=g.useState(!1),[$r,fc]=g.useState({convenience_fee_percent:7,service_fee_percent:3}),[to,wa]=g.useState(""),hc=Kt();g.useEffect(()=>{Promise.all([mc(),oi(),ro()]),e&&(pc(),e.phone&&(te(e.phone),R(e.phone)))},[e]),g.useEffect(()=>{if(ie.length===0)se(ve);else{const ae=ve.filter(Te=>Te.suburb.toLowerCase().includes(ie.toLowerCase())||Te.postcode.includes(ie));se(ae)}},[ie,ve]),g.useEffect(()=>{if(c.length===0)l(r);else{const ae=r.filter(Te=>Te.name.toLowerCase().includes(c.toLowerCase())||Te.address.toLowerCase().includes(c.toLowerCase()));l(ae)}},[c,r]),g.useEffect(()=>{j&&ai(j)},[j,ft]),g.useEffect(()=>{(async()=>{const{data:Te,error:Qe}=await ce.from("delivery_settings").select("convenience_fee_percent, service_fee_percent").eq("id",1).single();!Qe&&Te&&fc({convenience_fee_percent:Te.convenience_fee_percent||7,service_fee_percent:Te.service_fee_percent||3})})()},[]);const ba=!e&&x.length>0&&j&&_,ro=async()=>{try{const{data:ae,error:Te}=await ce.from("delivery_settings").select("timezone").eq("id",1).single();!Te&&(ae!=null&&ae.timezone)&&wr(ae.timezone)}catch(ae){console.error("Error fetching timezone:",ae)}},mc=async()=>{try{const{data:ae,error:Te}=await ce.from("stores").select("*").order("name");if(Te)throw Te;n(ae||[]),l(ae||[])}catch(ae){console.error("Error fetching stores:",ae),re({variant:"destructive",title:"Error",description:"Could not load stores."})}finally{p(!1)}},oi=async()=>{try{const ae=await Qd();pe(ae),se(ae)}catch(ae){console.error("Error fetching postcodes:",ae)}},ai=async ae=>{P(!0);try{const Te=Bt(ae,ft),{data:Qe,error:ut}=await ce.from("time_slots").select("*").eq("date",Te).eq("is_active",!0).order("start_time");if(ut)throw ut;k(Qe||[]),N("")}catch(Te){console.error("Error fetching time slots:",Te),k([])}finally{P(!1)}},pc=async()=>{try{const{data:ae,error:Te}=await ce.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name)
          )
        `).eq("user_id",e.id).in("status",["pending","processing","ready"]).gte("pickup_date",Bt(kn(ft),ft)).order("pickup_date",{ascending:!0});if(Te)throw Te;h(ae||[])}catch(ae){console.error("Error fetching upcoming orders:",ae),re({variant:"destructive",title:"Error",description:"Could not load upcoming orders."})}},vc=ae=>{const Te=e.addresses.find(Qe=>Qe.address===ae);if(Te){$(Te.address),X(Te.postcode);const Qe=ve.find(ut=>ut.postcode===Te.postcode);Qe&&je(`${Qe.suburb}, ${Qe.postcode}`)}U(!1)},gc=ae=>{$(ae.address),X(ae.postcode),je(`${ae.suburb.toUpperCase()}, ${ae.postcode}`)},lf=ae=>{X(ae.postcode),je(`${ae.suburb}, ${ae.postcode}`),fe(!1)},ja=ae=>{Et(ae)},_a=()=>{Et(null)},Sa=()=>{Or(!1)},Na=()=>{const ae={};return x.length===0&&(ae.stores="Please select at least one store"),_||(ae.timeSlot="Please select a time slot"),Y==="whatsapp"&&!E&&(ae.whatsapp="WhatsApp number is required for WhatsApp communication"),Y==="phone"&&!J&&(ae.phone="Phone number is required for SMS/Call communication"),D||(ae.address="Delivery address is required"),W||(ae.postcode="Please select a postcode"),x.forEach((Te,Qe)=>{(!Te.estimatedTotal||Te.estimatedTotal<30)&&(ae[`store_${Te.id}`]=`Minimum order for this store is ${Se(30)}`)}),H||(ae.terms="You must accept the terms and conditions"),q(ae),Object.keys(ae).length===0},Ca=async ae=>{if(ae.preventDefault(),!Na()){re({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields and accept the terms."});return}try{const Te=x.reduce((Ir,Ea)=>Ir+(Ea.estimatedTotal||0),0),Qe=Ee?Ee.discountAmount:0,ut=ka(),$t=C.find(Ir=>Ir.id===_),Mr=$t?`${qo($t.start_time)} - ${qo($t.end_time)}`:"",{data:jr,error:wn}=await ce.from("pickup_orders").insert({user_id:e.id,pickup_date:Bt(j,ft),time_slot:Mr,timeslot_id:_,whatsapp_number:Y==="whatsapp"?E:null,phone_number:Y==="phone"?J:null,delivery_address:D,postcode:W,photos:Q,status:"pending",payment_status:"pending",estimated_total:Te,promo_code:(Ee==null?void 0:Ee.code)||null,discount_amount:Qe,fees_data:{convenience_fee_percent:$r.convenience_fee_percent,service_fee_percent:$r.service_fee_percent,serviceFee:li(),convenienceFee:ds(),deliveryFee:us()},admin_messages:br?[{from:"customer",message:"Please reorder my previous items along with this order.",timestamp:new Date().toISOString()}]:[],notes:to}).select().single();if(wn)throw wn;const _r=x.map(Ir=>({pickup_order_id:jr.id,store_id:Ir.id,estimated_total:Ir.estimatedTotal,notes:Ir.notes,status:"pending"})),{error:Ln}=await ce.from("pickup_order_stores").insert(_r);if(Ln)throw Ln;hc("/pickup-payment",{state:{orderId:jr.id,orderData:{pickup_date:Bt(j,ft),time_slot:Mr,contact_preference:Y,whatsapp_number:Y==="whatsapp"?E:null,phone_number:Y==="phone"?J:null,delivery_address:D,postcode:W,estimated_total:ut,promo_code:(Ee==null?void 0:Ee.code)||null,discount_amount:Qe,stores:x,fees_data:{convenience_fee_percent:$r.convenience_fee_percent,service_fee_percent:$r.service_fee_percent,serviceFee:li(),convenienceFee:ds(),deliveryFee:us()},notes:to},finalTotal:ut}})}catch(Te){console.error("Error creating pickup order:",Te),re({variant:"destructive",title:"Error",description:"Could not create pickup order."})}},cs=async(ae,Te)=>{try{const{data:Qe,error:ut}=await ce.from("pickup_orders").select("admin_messages").eq("id",ae).single();if(ut)throw ut;const $t=Qe.admin_messages||[],Mr={from:"customer",message:Te,timestamp:new Date().toISOString()},{error:jr}=await ce.from("pickup_orders").update({admin_messages:[...$t,Mr]}).eq("id",ae);if(jr)throw jr;re({title:"Message sent",description:"Your message has been sent to the admin."}),pc()}catch(Qe){console.error("Error sending message:",Qe),re({variant:"destructive",title:"Error",description:"Could not send message."})}},Zr=()=>Number(ci.subtotal||0),us=()=>Number(ci.deliveryFee||0),no=()=>Number(ci.discountAmount||0),ds=()=>parseFloat((Zr()*($r.convenience_fee_percent/100)).toFixed(2)),li=()=>{const ae=Zr()+us()+ds();return parseFloat((ae*($r.service_fee_percent/100)).toFixed(2))},ka=()=>{const ae=Zr()+us()+ds()+li()-no();return parseFloat(ae.toFixed(2))},ci=(()=>{const ae=x.reduce((Mr,jr)=>Mr+(jr.estimatedTotal||0),0),Te=ae*.1,Qe=x.reduce((Mr,jr)=>{const wn=r.find(Ln=>Ln.id===jr.id),_r=(wn==null?void 0:wn.store_delivery_fee)||0;return Math.max(Mr,_r)},0),ut=Ee?Ee.discountAmount:0,$t=ae+Te+Qe-ut;return{subtotal:ae,serviceCharge:Te,deliveryFee:Qe,discountAmount:ut,total:$t}})(),ui=ae=>{const Te=kn(ft),Qe=Bt(Te,ft);return Bt(ae,ft)<Qe},Pa=ae=>{const Te=C.find(ut=>ut.id===ae);if(!Te)return N(ae);const Qe=x.map(ut=>{const $t=r.find(uf=>uf.id===ut.id);if(!$t||!$t.opening_time||!$t.closing_time)return null;const[Mr,jr]=Te.start_time.split(":").map(Number),[wn,_r]=Te.end_time.split(":").map(Number),[Ln,Ir]=$t.opening_time.split(":").map(Number),[Ea,yc]=$t.closing_time.split(":").map(Number),wc=Mr*60+jr,bc=wn*60+_r,jc=Ln*60+Ir,cf=Ea*60+yc;return wc<jc||bc>cf?$t.name:null}).filter(Boolean);if(Qe.length>0){re({variant:"destructive",title:"Store Hours Conflict",description:`The selected time slot is outside operating hours for: ${Qe.join(", ")}. Please choose another slot.`});return}N(ae)};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative h-[30vh] min-h-[240px] bg-gradient-to-br from-[#2E8B57] via-[#3CB371] to-[#98FB98] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://bcbxcnxutotjzmdjeyde.supabase.co/storage/v1/object/public/groceroo_images/assets/outbanner.webp",alt:"Grocery Delivery",className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2E8B57]/90 via-[#3CB371]/80 to-[#98FB98]/70"})]}),s.jsx("div",{className:"container relative h-full px-4 md:px-6",children:s.jsx("div",{className:"flex flex-col justify-center h-full py-2",children:s.jsxs(be.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsx("h1",{className:"text-lg md:text-xl font-bold text-white mb-1",children:"Grocery Run"}),s.jsx("p",{className:"text-white/90 text-xs",children:"Let us do the shopping for you at multiple stores!"})]}),s.jsxs("div",{className:"grid gap-1 grid-cols-2 md:grid-cols-4 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Hi,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"1. Add Stores"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Select stores and set budget"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(rc,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"2. Share Lists"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"Add shopping lists"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(An,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"3. We Shop"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"We shop at all stores"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-0.5 bg-white/10 backdrop-blur-sm rounded-lg p-1.5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Fl,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})}),s.jsx("h3",{className:"font-medium text-white text-xs",children:"4. Delivery"}),s.jsx("p",{className:"text-xs text-white/80 hidden md:block",children:"All items in one trip"})]})]})]})})})]}),s.jsx("div",{className:"container px-4 py-6 mx-auto md:px-6",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-6xl mx-auto",children:s.jsxs(ag,{value:_e,onValueChange:He,className:"space-y-6",children:[s.jsxs(of,{className:"grid w-full grid-cols-2",children:[s.jsx(Oi,{value:"new-order",children:"Schedule"}),s.jsxs(Oi,{value:"upcoming-orders",children:["Upcoming (",f.length,")"]})]}),s.jsx($i,{value:"new-order",className:"space-y-6",children:s.jsxs(Yr,{children:[s.jsxs(un,{children:[s.jsxs(dn,{children:["New Grocery Run ...",s.jsx($d,{style:{display:"inline"}})]}),s.jsx($p,{children:"Add one or more stores, provide your lists/notes/photos before your slot. We will shop for you and deliver everything in one trip."})]}),s.jsx(Gr,{children:s.jsxs("form",{onSubmit:Ca,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Select Stores"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(pv,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{type:"search",placeholder:"Search stores...",className:"pl-8",value:c,onChange:ae=>u(ae.target.value)})]})]}),s.jsx(sB,{stores:o,selectedStores:x,onStoreToggle:y,onNotesChange:()=>{},onEstimatedTotalChange:()=>{},userLocation:t})]}),I.stores&&s.jsx("p",{className:"text-xs text-destructive",children:I.stores}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Select Date"}),s.jsxs(ql,{children:[s.jsx(Yl,{asChild:!0,children:s.jsxs(ee,{type:"button",variant:"outline",className:Pe("w-full justify-start text-left font-normal",!j&&"text-muted-foreground"),children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),j?Bt(j,ft):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ca,{className:"w-auto p-0",align:"start",children:s.jsx(aa,{mode:"single",selected:j,onSelect:w,disabled:ui,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Time Slot"}),A?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):C.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No available time slots for this date."}):s.jsxs(zt,{value:_,onValueChange:Pa,children:[s.jsx(Dt,{className:I.timeSlot?"border-destructive":"",children:s.jsx(Wt,{placeholder:"Choose a time slot"})}),s.jsx(Rt,{children:C.map(ae=>s.jsxs(De,{value:ae.id,children:[qo(ae.start_time)," - ",qo(ae.end_time)]},ae.id))})]}),I.timeSlot&&s.jsx("p",{className:"text-xs text-destructive",children:I.timeSlot})]})]}),ba&&s.jsxs(Yr,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Sign in to Continue"}),s.jsx($p,{children:"Please sign in to complete your grocery run order"})]}),s.jsx(Gr,{children:s.jsx("div",{className:"max-w-lg mx-auto",children:s.jsx(Bd,{onSuccess:Sa})})})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Contact Preference"}),s.jsxs(nf,{value:Y,onValueChange:M,className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{value:"whatsapp",id:"whatsapp"}),s.jsx(ne,{htmlFor:"whatsapp",children:"WhatsApp"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{value:"phone",id:"phone"}),s.jsx(ne,{htmlFor:"phone",children:"SMS/Call"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{value:"inapp",id:"inapp"}),s.jsx(ne,{htmlFor:"inapp",children:"In-App"})]})]})]}),Y==="whatsapp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"whatsapp",children:"WhatsApp Number"}),s.jsx(xe,{id:"whatsapp",value:E,onChange:ae=>R(ae.target.value),placeholder:"Enter your WhatsApp number",className:I.whatsapp?"border-destructive":""}),I.whatsapp&&s.jsx("p",{className:"text-xs text-destructive",children:I.whatsapp})]}),Y==="phone"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(xe,{id:"phone",value:J,onChange:ae=>te(ae.target.value),placeholder:"Enter your phone number",className:I.phone?"border-destructive":""}),I.phone&&s.jsx("p",{className:"text-xs text-destructive",children:I.phone})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"reorder",checked:br,onCheckedChange:ls}),s.jsx(ne,{htmlFor:"reorder",className:"text-sm",children:"Reorder my previous items (we'll add them to this order)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{htmlFor:"address",children:"Delivery Address"}),e&&((fs=e.addresses)==null?void 0:fs.length)>0&&s.jsxs(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(!O),className:"flex items-center text-primary",children:[s.jsx(Fl,{className:"w-4 h-4 mr-1"}),O?"Hide saved addresses":"Use saved address"]})]}),O&&s.jsx(mN,{onSelect:vc}),s.jsx(Jd,{value:D,onChange:$,onAddressSelect:gc,placeholder:"Start typing your address...",className:I.address?"border-destructive":""}),I.address&&s.jsx("p",{className:"text-xs text-destructive",children:I.address})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"postcode",children:"Suburb & Postcode"}),s.jsxs("div",{className:"relative",children:[s.jsx(xe,{id:"postcode",placeholder:"Search suburb or postcode...",value:ie,onChange:ae=>{je(ae.target.value),fe(!0)},onFocus:()=>fe(!0),className:I.postcode?"border-destructive":""}),ge&&de.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:de.slice(0,10).map(ae=>s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>lf(ae),children:[s.jsx("div",{className:"text-sm font-medium",children:ae.suburb}),s.jsx("div",{className:"text-xs text-gray-500",children:ae.postcode})]},`${ae.suburb}-${ae.postcode}`))})]}),I.postcode&&s.jsx("p",{className:"text-xs text-destructive",children:I.postcode})]}),x.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Promo Code"}),s.jsx(_C,{subtotal:ci.subtotal,onPromoApplied:ja,appliedPromo:Ee,onPromoRemoved:_a})]}),s.jsx("hr",{}),x.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:x.map(ae=>s.jsx("span",{className:"bg-seagreen text-white-800 border border-gray-200 rounded-full px-6 py-1 text-xs font-medium shadow-sm",children:ae.name},ae.id))}),x.length>0&&s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Subtotal:"}),s.jsx("span",{children:Se(Zr())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Convenience Fee (",$r.convenience_fee_percent,"%):"]}),s.jsx("span",{children:Se(ds())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Fee :"}),s.jsx("span",{children:Se(us())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Service Fee (",$r.service_fee_percent,"%):"]}),s.jsx("span",{children:Se(li())})]}),Ee&&no()>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Discount (",Ee.code,"):"]}),s.jsxs("span",{children:["-",Se(no())]})]}),s.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Estimated Total:"}),s.jsx("span",{children:Se(ka())})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"delivery-notes",children:"Delivery Notes"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:oB.map(ae=>s.jsx("button",{type:"button",className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-primary/10 text-xs border border-gray-200 text-gray-700 transition",onClick:()=>wa(Te=>Te?Te+(Te.endsWith(`
`)?"":" ")+ae:ae),children:ae},ae))}),s.jsx(cr,{id:"delivery-notes",value:to,onChange:ae=>wa(ae.target.value),placeholder:"Add any delivery instructions (optional)",className:I.deliveryNotes?"border-destructive":"",rows:2}),I.deliveryNotes&&s.jsx("p",{className:"text-xs text-destructive",children:I.deliveryNotes}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"font-medium text-orange-600",children:"Note:"})," The final amount may change after shopping. If it is higher, you will need to pay the difference before delivery."]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rn,{id:"terms",checked:H,onCheckedChange:F}),s.jsxs(ne,{htmlFor:"terms",className:"text-sm",children:["I agree to the ",s.jsx(Ae,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})," and"," ",s.jsx(Ae,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})]})]}),I.terms&&s.jsx("p",{className:"text-xs text-destructive",children:I.terms}),s.jsxs(ee,{type:"submit",className:"w-full",disabled:x.length===0,children:["Proceed to Payment ",s.jsx(ha,{})]})]})]})})]})}),s.jsx($i,{value:"upcoming-orders",children:s.jsx(LC,{orders:f,onSendMessage:cs})})]})})})]})};var FC="https://js.stripe.com/v3",lB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var cB=function(){for(var t=document.querySelectorAll('script[src^="'.concat(FC,'"]')),r=0;r<t.length;r++){var n=t[r];if(lB.test(n.src))return n}return null},Cb=function(t){var r="",n=document.createElement("script");n.src="".concat(FC).concat(r);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},uB=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:r})},xl=null,Ku=null,Xu=null,dB=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},fB=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},hB=function(t){return xl!==null?xl:(xl=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var o=cB();if(!(o&&t)){if(!o)o=Cb(t);else if(o&&Xu!==null&&Ku!==null){var l;o.removeEventListener("load",Xu),o.removeEventListener("error",Ku),(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=Cb(t)}}Xu=fB(r,n),Ku=dB(n),o.addEventListener("load",Xu),o.addEventListener("error",Ku)}catch(c){n(c);return}}),xl.catch(function(r){return xl=null,Promise.reject(r)}))},mB=function(t,r,n){if(t===null)return null;var o=t.apply(void 0,r);return uB(o,n),o},yl,UC=!1,BC=function(){return yl||(yl=hB(null).catch(function(t){return yl=null,Promise.reject(t)}),yl)};Promise.resolve().then(function(){return BC()}).catch(function(e){UC||console.warn(e)});var pB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];UC=!0;var o=Date.now();return BC().then(function(l){return mB(l,r,o)})},Bm={exports:{}},Vm,kb;function vB(){if(kb)return Vm;kb=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vm=e,Vm}var zm,Pb;function gB(){if(Pb)return zm;Pb=1;var e=vB();function t(){}function r(){}return r.resetWarningCache=t,zm=function(){function n(c,u,f,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function o(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return l.PropTypes=l,l},zm}var Eb;function xB(){return Eb||(Eb=1,Bm.exports=gB()()),Bm.exports}var yB=xB();const pt=Gl(yB);function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function td(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?td=function(t){return typeof t}:td=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function VC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zC(e,t){return wB(e)||bB(e,t)||jB(e,t)||_B()}function wB(e){if(Array.isArray(e))return e}function bB(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],o=!0,l=!1,c,u;try{for(r=r.call(e);!(o=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(f){l=!0,u=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw u}}return n}}function jB(e,t){if(e){if(typeof e=="string")return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(e,t)}}function Db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pr=function(t,r,n){var o=!!n,l=he.useRef(n);he.useEffect(function(){l.current=n},[n]),he.useEffect(function(){if(!o||!t)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return t.on(r,c),function(){t.off(r,c)}},[o,r,t,l])},Mp=function(t){var r=he.useRef(t);return he.useEffect(function(){r.current=t},[t]),r.current},ua=function(t){return t!==null&&td(t)==="object"},SB=function(t){return ua(t)&&typeof t.then=="function"},NB=function(t){return ua(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Rb="[object Object]",CB=function e(t,r){if(!ua(t)||!ua(r))return t===r;var n=Array.isArray(t),o=Array.isArray(r);if(n!==o)return!1;var l=Object.prototype.toString.call(t)===Rb,c=Object.prototype.toString.call(r)===Rb;if(l!==c)return!1;if(!l&&!n)return t===r;var u=Object.keys(t),f=Object.keys(r);if(u.length!==f.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var p=0;p<f.length;p+=1)h[f[p]]=!0;var x=Object.keys(h);if(x.length!==u.length)return!1;var y=t,j=r,w=function(N){return e(y[N],j[N])};return x.every(w)},WC=function(t,r,n){return ua(t)?Object.keys(t).reduce(function(o,l){var c=!ua(r)||!CB(t[l],r[l]);return n.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),o):c?Ab(Ab({},o||{}),{},VC({},l,t[l])):o},null):null},HC="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ob=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HC;if(t===null||NB(t))return t;throw new Error(r)},kB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HC;if(SB(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return Ob(o,r)})};var n=Ob(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},PB=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},af=he.createContext(null);af.displayName="ElementsContext";var qC=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},YC=function(t){var r=t.stripe,n=t.options,o=t.children,l=he.useMemo(function(){return kB(r)},[r]),c=he.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(n):null}}),u=zC(c,2),f=u[0],h=u[1];he.useEffect(function(){var x=!0,y=function(w){h(function(_){return _.stripe?_:{stripe:w,elements:w.elements(n)}})};return l.tag==="async"&&!f.stripe?l.stripePromise.then(function(j){j&&x&&y(j)}):l.tag==="sync"&&!f.stripe&&y(l.stripe),function(){x=!1}},[l,f,n]);var m=Mp(r);he.useEffect(function(){m!==null&&m!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,r]);var p=Mp(n);return he.useEffect(function(){if(f.elements){var x=WC(n,p,["clientSecret","fonts"]);x&&f.elements.update(x)}},[n,p,f.elements]),he.useEffect(function(){PB(f.stripe)},[f.stripe]),he.createElement(af.Provider,{value:f},o)};YC.propTypes={stripe:pt.any,options:pt.object};var EB=function(t){var r=he.useContext(af);return qC(r,t)},TB=function(){var t=EB("calls useElements()"),r=t.elements;return r};pt.func.isRequired;var GC=he.createContext(null);GC.displayName="CustomCheckoutSdkContext";var AB=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},DB=he.createContext(null);DB.displayName="CustomCheckoutContext";pt.any,pt.shape({clientSecret:pt.string.isRequired,elementsOptions:pt.object}).isRequired;var Ip=function(t){var r=he.useContext(GC),n=he.useContext(af);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?AB(r,t):qC(n,t)},RB=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},kt=function(t,r){var n="".concat(RB(t),"Element"),o=function(f){var h=f.id,m=f.className,p=f.options,x=p===void 0?{}:p,y=f.onBlur,j=f.onFocus,w=f.onReady,_=f.onChange,N=f.onEscape,C=f.onClick,k=f.onLoadError,A=f.onLoaderStart,P=f.onNetworksChange,E=f.onConfirm,R=f.onCancel,D=f.onShippingAddressChange,$=f.onShippingRateChange,W=Ip("mounts <".concat(n,">")),X="elements"in W?W.elements:null,Q="customCheckoutSdk"in W?W.customCheckoutSdk:null,z=he.useState(null),O=zC(z,2),U=O[0],H=O[1],F=he.useRef(null),I=he.useRef(null);Pr(U,"blur",y),Pr(U,"focus",j),Pr(U,"escape",N),Pr(U,"click",C),Pr(U,"loaderror",k),Pr(U,"loaderstart",A),Pr(U,"networkschange",P),Pr(U,"confirm",E),Pr(U,"cancel",R),Pr(U,"shippingaddresschange",D),Pr(U,"shippingratechange",$),Pr(U,"change",_);var q;w&&(t==="expressCheckout"?q=w:q=function(){w(U)}),Pr(U,"ready",q),he.useLayoutEffect(function(){if(F.current===null&&I.current!==null&&(X||Q)){var M=null;Q?M=Q.createElement(t,x):X&&(M=X.create(t,x)),F.current=M,H(M),M&&M.mount(I.current)}},[X,Q,x]);var Y=Mp(x);return he.useEffect(function(){if(F.current){var M=WC(x,Y,["paymentRequest"]);M&&"update"in F.current&&F.current.update(M)}},[x,Y]),he.useLayoutEffect(function(){return function(){if(F.current&&typeof F.current.destroy=="function")try{F.current.destroy(),F.current=null}catch{}}},[]),he.createElement("div",{id:h,className:m,ref:I})},l=function(f){Ip("mounts <".concat(n,">"));var h=f.id,m=f.className;return he.createElement("div",{id:h,className:m})},c=r?l:o;return c.propTypes={id:pt.string,className:pt.string,onChange:pt.func,onBlur:pt.func,onFocus:pt.func,onReady:pt.func,onEscape:pt.func,onClick:pt.func,onLoadError:pt.func,onLoaderStart:pt.func,onNetworksChange:pt.func,onConfirm:pt.func,onCancel:pt.func,onShippingAddressChange:pt.func,onShippingRateChange:pt.func,options:pt.object},c.displayName=n,c.__elementType=t,c},Pt=typeof window>"u",OB=he.createContext(null);OB.displayName="EmbeddedCheckoutProviderContext";var $B=function(){var t=Ip("calls useStripe()"),r=t.stripe;return r};kt("auBankAccount",Pt);kt("card",Pt);kt("cardNumber",Pt);kt("cardExpiry",Pt);kt("cardCvc",Pt);kt("fpxBank",Pt);kt("iban",Pt);kt("idealBank",Pt);kt("p24Bank",Pt);kt("epsBank",Pt);var MB=kt("payment",Pt);kt("expressCheckout",Pt);kt("currencySelector",Pt);kt("paymentRequestButton",Pt);kt("linkAuthentication",Pt);kt("address",Pt);kt("shippingAddress",Pt);kt("paymentMethodMessaging",Pt);kt("affirmMessage",Pt);kt("afterpayClearpayMessage",Pt);const IB=pB("pk_test_51RU0DpAcyZwL9ZCroHLDNCalx80u736eoFCb3mNARKz2BpDuDhl2VgtPJWp8t0jkaitH7zXOFDiE7B3q95rNColr00V7gqABTc",{stripeAccount:"acct_1RU0DpAcyZwL9ZCr"}),LB=({onPaymentSuccess:e})=>{const t=$B(),r=TB(),[n,o]=g.useState(!1),l=async c=>{if(c.preventDefault(),!(!t||!r)){o(!0);try{const{error:u,paymentIntent:f}=await t.confirmPayment({elements:r,redirect:"if_required"});if(u)throw new Error(u.message);const m=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/verify-stripe-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({paymentIntentId:f.id})})).json();if(m.success)await e(m.orderData),re({title:"Payment Successful",description:"Your order has been placed successfully."});else throw new Error(m.error||"Payment verification failed")}catch(u){console.error("Payment error:",u),re({variant:"destructive",title:"Payment Failed",description:u.message})}finally{o(!1)}}};return s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsx(MB,{}),s.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?"Processing...":"Pay Now"})]})},KC=({clientSecret:e,onPaymentSuccess:t})=>e?s.jsx(YC,{stripe:IB,options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"#2E8B57"}}},children:s.jsx(LB,{onPaymentSuccess:t})}):null,FB=()=>{var y;const{user:e}=sr(),t=Kt(),r=os(),[n,o]=g.useState(null),[l,c]=g.useState(!0),[u,f]=g.useState(null),{orderId:h,orderData:m,finalTotal:p}=r.state||{};g.useEffect(()=>{if(!h||!m||!p){t("/grocery-run");return}(async()=>{try{const _=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"pickup",orderId:h,orderData:m,amount:Math.round(p*100),user_id:e.id,productList:null})})).json();if(_.error)throw new Error(_.error);o(_.clientSecret)}catch(w){f(w.message)}finally{c(!1)}})()},[h,m,p,t,e.id]);const x=async j=>{try{const{error:w}=await ce.from("pickup_orders").update({payment_status:"paid",payment_data:j.payment_data,status:"processing"}).eq("id",h);if(w)throw w;re({title:"Payment Successful",description:"Your grocery run has been scheduled and payment confirmed."}),t("/grocery-run",{state:{tab:"upcoming-orders",message:"Your grocery run has been scheduled successfully!"}})}catch(w){console.error("Error updating order:",w),f("Payment successful but failed to update order. Please contact support.")}};return l?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):u?s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:u}),s.jsxs(ee,{onClick:()=>t("/grocery-run"),variant:"outline",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Return to Grocery Run"]})]})}):s.jsx("div",{className:"container py-8",children:s.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl md:max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs(Yr,{className:"bg-muted/30 border",children:[s.jsx(un,{children:s.jsxs(dn,{className:"flex items-center",children:[s.jsx(ha,{className:"w-5 h-5 mr-2"}),"Order Summary"]})}),s.jsxs(Gr,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pickup Date:"}),s.jsx("span",{children:new Date(m.pickup_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Time Slot:"}),s.jsx("span",{children:m.time_slot})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Stores:"}),s.jsxs("span",{children:[((y=m.stores)==null?void 0:y.length)||0," stores"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Contact:"}),s.jsx("span",{children:m.contact_preference==="whatsapp"?`WhatsApp: ${m.whatsapp_number}`:`Phone: ${m.phone_number}`})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"text-lg",children:Se(p)})]})})]})]}),s.jsxs(Yr,{children:[s.jsx(un,{children:s.jsx(dn,{children:"Payment Details"})}),s.jsx(Gr,{children:s.jsx(KC,{clientSecret:n,onPaymentSuccess:x})})]})]})})})},UB=()=>{var X,Q,z,O,U,H;const{id:e}=_d(),{user:t}=sr(),r=Kt(),[n,o]=g.useState(null),[l,c]=g.useState(!0),[u,f]=g.useState(""),[h,m]=g.useState(!1),[p,x]=g.useState({}),[y,j]=g.useState({}),[w,_]=g.useState({}),[N,C]=g.useState(!1),[k,A]=g.useState(!1);g.useEffect(()=>{if(!t){r("/grocery-run");return}P()},[e,t,r]);const P=async()=>{var F;try{const{data:I,error:q}=await ce.from("pickup_orders").select(`
          *,
          pickup_order_stores (
            id,
            store_id,
            estimated_total,
            actual_total,
            notes,
            status,
            stores (name, address, store_suggested_items)
          )
        `).eq("id",e).eq("user_id",t.id).single();if(q)throw q;if(!I){re({variant:"destructive",title:"Order not found",description:"This order doesn't exist or you don't have access to it."}),r("/grocery-run");return}o(I);const Y={},M={};(F=I.pickup_order_stores)==null||F.forEach(J=>{Y[J.store_id]=J.notes||"",M[J.store_id]=[]}),x(Y),j(M)}catch(I){console.error("Error fetching order details:",I),re({variant:"destructive",title:"Error",description:"Could not load order details."}),r("/grocery-run")}finally{c(!1)}},E=async()=>{if(!(!u.trim()||h)){m(!0);try{const F=n.admin_messages||[],I={from:"customer",message:u.trim(),timestamp:new Date().toISOString()},{error:q}=await ce.from("pickup_orders").update({admin_messages:[...F,I]}).eq("id",e);if(q)throw q;o(Y=>({...Y,admin_messages:[...F,I]})),f(""),re({title:"Message sent",description:"Your message has been sent to our team."})}catch(F){console.error("Error sending message:",F),re({variant:"destructive",title:"Error",description:"Could not send message."})}finally{m(!1)}}},R=async(F,I)=>{_(q=>({...q,[F]:!0}));try{const{error:q}=await ce.from("pickup_order_stores").update({notes:p[F]}).eq("id",I);if(q)throw q;re({title:"Notes saved",description:"Your shopping notes have been updated."}),o(Y=>({...Y,pickup_order_stores:Y.pickup_order_stores.map(M=>M.id===I?{...M,notes:p[F]}:M)}))}catch(q){console.error("Error saving notes:",q),re({variant:"destructive",title:"Error",description:"Could not save notes."})}finally{_(q=>({...q,[F]:!1}))}},D=async F=>{A(!0);try{const{error:I}=await ce.from("pickup_orders").update({status:"cancelled",cancel_reason:F}).eq("id",n.id);if(I)throw I;o(q=>({...q,status:"cancelled",cancel_reason:F})),re({title:"Order Cancelled",description:"Your order has been cancelled."}),C(!1)}catch{re({variant:"destructive",title:"Error",description:"Could not cancel order."})}finally{A(!1)}},$=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},W=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n?s.jsx("div",{className:"container py-8",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Ae,{to:"/account",children:s.jsxs(ee,{variant:"ghost",className:"mb-4",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Return to Account"]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Grocery Run #",n.id.slice(0,6).toUpperCase()]}),s.jsxs("p",{className:"text-muted-foreground",children:[n.pickup_date?Ct(new Date(n.pickup_date),"PPP"):"N/A","  ",n.time_slot]})]}),s.jsxs("div",{className:"flex items-center space-x-4 ",children:[s.jsxs(rt,{className:W(n.payment_status),children:[s.jsx(ha,{})," ",n.payment_status.charAt(0).toUpperCase()+n.payment_status.slice(1)]}),s.jsxs(rt,{className:$(n.status),children:[s.jsx(u$,{})," ",n.status.charAt(0).toUpperCase()+n.status.slice(1)]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Yr,{className:"bg-gray-50",children:[s.jsx(un,{children:s.jsxs(dn,{className:"flex items-center",children:[s.jsx(fn,{className:"w-5 h-5 mr-2"}),"Summary"]})}),s.jsxs(Gr,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.pickup_date?Ct(new Date(n.pickup_date),"PPP"):"N/A"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(An,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.time_slot]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fl,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.delivery_address]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Od,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.whatsapp_number||n.phone_number]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsx("span",{className:"text-lg font-bold",children:n.actual_total?Se(n.actual_total):"(Est.)"+Se(n.estimated_total)})]}),n.actual_total&&s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"font-medium",children:"Actual Total:"}),s.jsx("span",{className:"text-base font-semibold",children:Se(n.actual_total)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Convenience Fee (",(X=n.fees_data)==null?void 0:X.convenience_fee_percent,") :"]}),s.jsx("span",{className:"text-sm",children:Se(((Q=n.fees_data)==null?void 0:Q.convenienceFee)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Service Fee (",(z=n.fees_data)==null?void 0:z.service_fee_percent,") :"]}),s.jsx("span",{className:"text-sm",children:Se(((O=n.fees_data)==null?void 0:O.serviceFee)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Delivery Fee:"}),s.jsx("span",{className:"text-sm",children:Se(((U=n.fees_data)==null?void 0:U.deliveryFee)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),s.jsx("span",{className:"text-sm",children:n.notes})]})]})]}),s.jsxs(Yr,{children:[s.jsx(un,{children:s.jsxs(dn,{className:"flex items-center",children:[s.jsx(Hi,{className:"w-5 h-5 mr-2"}),"Stores Selected"]})}),s.jsx(Gr,{className:"space-y-6",children:(H=n.pickup_order_stores)==null?void 0:H.map((F,I)=>{var q,Y,M,J;return s.jsxs("div",{className:"space-y-4",children:[I>0&&s.jsx(zl,{}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium mb-0",children:(q=F.stores)==null?void 0:q.name}),s.jsx(rt,{className:$(F.status),variant:"outline",children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(Y=F.stores)==null?void 0:Y.address}),Array.isArray((M=F.stores)==null?void 0:M.store_suggested_items)&&F.stores.store_suggested_items.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Suggested Items:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:F.stores.store_suggested_items.map((te,ve)=>{const pe=new RegExp(`${te.name} x(\\d+)`,"g"),de=(p[F.store_id]||"").match(pe),se=de?parseInt(de[0].split("x")[1],10):1,ie=!!de;return s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded px-2 py-1",children:[s.jsx("input",{type:"checkbox",checked:ie,onChange:je=>{let ge=p[F.store_id]||"";const fe=`${te.name} x${se}`;je.target.checked?pe.test(ge)?ge=ge.replace(pe,fe):ge=ge?`${ge}
${fe}`:fe:ge=ge.replace(pe,"").replace(/^\s*[\r\n]/gm,"").trim(),x(_e=>({..._e,[F.store_id]:ge}))},disabled:n.status==="completed"||n.status==="cancelled"}),s.jsxs("span",{className:"text-xs",children:[te.name," : Qty"]}),s.jsx("input",{type:"number",min:1,value:se,onChange:je=>{let ge=p[F.store_id]||"";const fe=Math.max(1,parseInt(je.target.value)||1),_e=`${te.name} x${fe}`;pe.test(ge)?ge=ge.replace(pe,_e):ge=ge?`${ge}
${_e}`:_e,x(He=>({...He,[F.store_id]:ge}))},className:"w-10 text-xs ml-1 border rounded px-1 py-0.5",disabled:!ie||n.status==="completed"||n.status==="cancelled"})]},te.name)})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:F.actual_total?Se(F.actual_total):Se(F.estimated_total)}),F.actual_total&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",Se(F.estimated_total)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:`notes-${F.store_id}`,children:"Shopping List / Notes"}),s.jsx(cr,{id:`notes-${F.store_id}`,value:p[F.store_id]||"",onChange:te=>x(ve=>({...ve,[F.store_id]:te.target.value})),placeholder:"Add your shopping list or special instructions for this store...",rows:3,disabled:n.status==="completed"||n.status==="cancelled"}),n.status!=="completed"&&n.status!=="cancelled"&&s.jsx(ee,{size:"sm",onClick:()=>R(F.store_id,F.id),disabled:w[F.store_id],children:w[F.store_id]?"Saving...":"Save Notes"})]}),n.status!=="completed"&&n.status!=="cancelled"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Photos for ",(J=F.stores)==null?void 0:J.name]}),s.jsx(iB,{photos:y[F.store_id]||[],onPhotosChange:te=>j(ve=>({...ve,[F.store_id]:te})),maxPhotos:5})]})]},F.id)})})]}),n.photos&&n.photos.length>0&&s.jsxs(Yr,{children:[s.jsx(un,{children:s.jsxs(dn,{className:"flex items-center",children:[s.jsx(U4,{className:"w-5 h-5 mr-2"}),"Your Photos"]})}),s.jsx(Gr,{children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.photos.map((F,I)=>s.jsx("img",{src:F.data,alt:`Photo ${I+1}`,className:"aspect-square rounded object-cover cursor-pointer",onClick:()=>window.open(F.data,"_blank")},I))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Yr,{children:[s.jsx(un,{children:s.jsxs(dn,{className:"flex items-center",children:[s.jsx(rc,{className:"w-5 h-5 mr-2"}),"Conversation"]})}),s.jsxs(Gr,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.admin_messages&&n.admin_messages.length>0?n.admin_messages.map((F,I)=>s.jsxs("div",{className:`p-3 rounded text-sm ${F.from==="admin"?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-gray-50 border-l-4 border-gray-400 mr-4"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-medium",children:F.from==="admin"?"Support Team":"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ct(new Date(F.timestamp),"MMM d, HH:mm")})]}),s.jsx("p",{children:F.message})]},I)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No messages yet. Send a message to our team if you have any questions."})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Send a message:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(cr,{value:u,onChange:F=>f(F.target.value),placeholder:"Type your message...",rows:2,className:"flex-1"}),s.jsx(ee,{onClick:E,disabled:!u.trim()||h,size:"sm",children:h?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(pa,{className:"w-4 h-4"})})]})]})]})]}),n.status!=="cancelled"&&n.status!=="completed"&&s.jsx(ee,{variant:"destructive",className:"w-full",onClick:()=>C(!0),children:"Cancel Order"})]})]}),s.jsx(SC,{open:N,onClose:()=>C(!1),onConfirm:D,loading:k})]})}):s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order not found"}),s.jsx(Ae,{to:"/grocery-run",children:s.jsxs(ee,{variant:"outline",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Back to Grocery Run"]})})]})},BB=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),s.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us, including:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Name and contact information"}),s.jsx("li",{children:"Delivery address"}),s.jsx("li",{children:"Order history and preferences"}),s.jsx("li",{children:"Payment information"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Process and deliver your orders"}),s.jsx("li",{children:"Send order confirmations and updates"}),s.jsx("li",{children:"Improve our services"}),s.jsx("li",{children:"Communicate with you about promotions and updates"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),s.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We share your information only with:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery partners to fulfill your orders"}),s.jsx("li",{children:"Payment processors to handle transactions"}),s.jsx("li",{children:"Service providers who assist our operations"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Your Rights"}),s.jsx("p",{className:"mb-4",children:"You have the right to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information"}),s.jsx("li",{children:"Opt-out of marketing communications"})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Ae,{to:"/",children:s.jsx(ee,{variant:"outline",children:"Back to Home"})})})]})}),VB=()=>s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms and Conditions"}),s.jsxs("div",{className:"prose prose-slate max-w-none",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Last updated: May 24, 2025"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"mb-4",children:"By accessing and using Groceroo's services, you agree to be bound by these Terms and Conditions. These terms govern your use of our website, mobile application, and delivery services."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Service Description"}),s.jsx("p",{className:"mb-4",children:"Groceroo provides an online grocery shopping and delivery service. We:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Accept orders for grocery items"}),s.jsx("li",{children:"Process payments securely"}),s.jsx("li",{children:"Deliver orders to specified addresses"}),s.jsx("li",{children:"Offer store pickup services"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Ordering and Delivery"}),s.jsx("p",{className:"mb-4",children:"When placing an order:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"You must provide accurate delivery information"}),s.jsx("li",{children:"Orders are subject to product availability"}),s.jsx("li",{children:"Delivery times are estimates and not guaranteed"}),s.jsx("li",{children:"Minimum order values may apply"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Pricing and Payment"}),s.jsx("p",{className:"mb-4",children:"All prices are in AUD and include applicable taxes. Additional fees may apply:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Delivery fees"}),s.jsx("li",{children:"Service fees"}),s.jsx("li",{children:"Special handling fees"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Returns and Refunds"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Returns are accepted only for items that are damaged, defective, or incorrect at the time of delivery."}),s.jsx("li",{children:"To request a return or refund, you must contact us within 24 hours of receiving your order."}),s.jsx("li",{children:"Proof of purchase and photographic evidence of the issue may be required."}),s.jsx("li",{children:"Perishable goods (such as fresh produce, dairy, and frozen items) are not eligible for return unless they are damaged or spoiled upon delivery."}),s.jsx("li",{children:"Refunds will be processed to your original payment method within 57 business days after approval."}),s.jsx("li",{children:"Delivery fees are non-refundable except in cases where the entire order is returned due to our error."}),s.jsx("li",{children:"We reserve the right to refuse returns or refunds if the claim does not meet our policy criteria."})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Ae,{to:"/",children:s.jsx(ee,{variant:"outline",children:"Back to Home"})})})]})}),zB=()=>{var _;const{user:e}=sr(),{cart:t,getCartTotal:r,clearCart:n}=as(),{addOrder:o}=mv(),l=Kt(),c=os(),[u,f]=g.useState(null),[h,m]=g.useState(null),[p,x]=g.useState(!0),[y,j]=g.useState(null);g.useEffect(()=>{if(!t.length){l("/checkout");return}(async()=>{var C;try{const k=t.map(R=>({id:R.id,quantity:R.quantity})),A=(C=c.state)==null?void 0:C.orderData,E=await(await fetch("https://bcbxcnxutotjzmdjeyde.supabase.co/functions/v1/create-stripe-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjYnhjbnh1dG90anptZGpleWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjIwODksImV4cCI6MjA2MjAzODA4OX0.sMIn31DXRvBpQsxYZV2nn1lKqdEkEk2S0jvdve2yACY"},body:JSON.stringify({order_type:"delivery",productList:k,user_id:e.id,orderData:A,orderId:null})})).json();if(E.error)throw new Error(E.error);f(E.clientSecret),m(E.orderData)}catch(k){j(k.message)}finally{x(!1)}})()},[t,l,c.state,e.id]);const w=async N=>{try{const C=N.payment_data,k={...h,payment_data:C},A=await o(k);n(),l(`/order-confirmation/${A.id}`)}catch(C){console.error("Error creating order:",C),j("Failed to create order. Please contact support.")}};return p?s.jsx("div",{className:"container flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y?s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:y}),s.jsx("button",{onClick:()=>l("/checkout"),className:"text-primary hover:underline",children:"Return to checkout"})]}):s.jsxs("div",{className:"container py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Complete Payment"}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Order Total"}),s.jsx("p",{className:"text-2xl font-bold",children:Se(((_=c.state)==null?void 0:_.finalTotal)||0)})]}),s.jsx(KC,{clientSecret:u,onPaymentSuccess:w})]})]})},WB=()=>{const[e,t]=g.useState({name:"",email:"",subject:"",message:""}),[r,n]=g.useState(!1),o=async l=>{l.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),re({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),t({name:"",email:"",subject:"",message:""}),n(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions or feedback? We'd love to hear from you."}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(H_,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"contact@groceroo.com.au"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Od,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"+61 478 477 036"})]})]})]}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send us a message"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Name"}),s.jsx(xe,{id:"name",value:e.name,onChange:l=>t(c=>({...c,name:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(xe,{id:"email",type:"email",value:e.email,onChange:l=>t(c=>({...c,email:l.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"subject",children:"Subject"}),s.jsx(xe,{id:"subject",value:e.subject,onChange:l=>t(c=>({...c,subject:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"message",children:"Message"}),s.jsx(cr,{id:"message",rows:5,value:e.message,onChange:l=>t(c=>({...c,message:l.target.value})),required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(pa,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})})},HB=()=>{const[e,t]=g.useState({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),[r,n]=g.useState(!1),o=async l=>{l.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1e3)),re({title:"Application Received",description:"Thank you for your interest! We'll review your application and get back to you soon."}),t({name:"",email:"",phone:"",position:"driver",experience:"",availability:""}),n(!1)};return s.jsx("div",{className:"container px-4 py-8 mx-auto md:px-6",children:s.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Work With Us"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Join our team and be part of Adelaide's growing grocery delivery service."}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expression of Interest"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Full Name"}),s.jsx(xe,{id:"name",value:e.name,onChange:l=>t(c=>({...c,name:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(xe,{id:"email",type:"email",value:e.email,onChange:l=>t(c=>({...c,email:l.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),s.jsx(xe,{id:"phone",type:"tel",value:e.phone,onChange:l=>t(c=>({...c,phone:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Position of Interest"}),s.jsxs(nf,{value:e.position,onValueChange:l=>t(c=>({...c,position:l})),className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{value:"driver",id:"driver"}),s.jsx(ne,{htmlFor:"driver",children:"Delivery Driver"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{value:"assistant",id:"assistant"}),s.jsx(ne,{htmlFor:"assistant",children:"In-Store Assistant"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"experience",children:"Relevant Experience"}),s.jsx(cr,{id:"experience",rows:3,value:e.experience,onChange:l=>t(c=>({...c,experience:l.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"availability",children:"Availability"}),s.jsx(cr,{id:"availability",rows:2,value:e.availability,onChange:l=>t(c=>({...c,availability:l.target.value})),placeholder:"Please specify your available days and hours",required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(pa,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})]})})},qB=()=>s.jsx(C4,{children:s.jsx(S4,{children:s.jsx(xR,{children:s.jsx(qE,{children:s.jsxs("div",{className:"flex flex-col min-h-screen bg-background font-sans antialiased",children:[s.jsx(tL,{}),s.jsx("main",{className:"flex-1",children:s.jsx(Ml,{mode:"wait",children:s.jsxs(LE,{children:[s.jsx(wt,{path:"/",element:s.jsx(OL,{})}),s.jsx(wt,{path:"/shop",element:s.jsx(u5,{})}),s.jsx(wt,{path:"/categories",element:s.jsx(f5,{})}),s.jsx(wt,{path:"/category/:id",element:s.jsx(h5,{})}),s.jsx(wt,{path:"/product/:id",element:s.jsx(m5,{})}),s.jsx(wt,{path:"/checkout",element:s.jsx(_U,{})}),s.jsx(wt,{path:"/grocery-run",element:s.jsx(aB,{})}),s.jsx(wt,{path:"/pickup-payment",element:s.jsx(FB,{})}),s.jsx(wt,{path:"/pickup-order/:id",element:s.jsx(UB,{})}),s.jsx(wt,{path:"/order-confirmation/:id",element:s.jsx(NU,{})}),s.jsx(wt,{path:"/admin-login",element:s.jsx(kU,{})}),s.jsx(wt,{path:"/register",element:s.jsx(PU,{})}),s.jsx(wt,{path:"/account",element:s.jsx(OU,{})}),s.jsx(wt,{path:"/admin",element:s.jsx(nB,{})}),s.jsx(wt,{path:"/privacy",element:s.jsx(BB,{})}),s.jsx(wt,{path:"/terms",element:s.jsx(VB,{})}),s.jsx(wt,{path:"/stripe-payment",element:s.jsx(zB,{})}),s.jsx(wt,{path:"/contact",element:s.jsx(WB,{})}),s.jsx(wt,{path:"/work",element:s.jsx(HB,{})}),s.jsx(wt,{path:"*",element:s.jsxs("div",{children:[s.jsx("h1",{children:"404 - Page not Found"}),s.jsx("p",{children:"Click the top-left icon to return to home"})]})})]})})}),s.jsx(rL,{}),s.jsx(nL,{}),s.jsx(PL,{})]})})})})});YP.createRoot(document.getElementById("root")).render(s.jsx(qB,{}));export{Gl as g};
